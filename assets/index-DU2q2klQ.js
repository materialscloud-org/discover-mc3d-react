function _mergeNamespaces(r,n){for(var o=0;o<n.length;o++){const l=n[o];if(typeof l!="string"&&!Array.isArray(l)){for(const c in l)if(c!=="default"&&!(c in r)){const f=Object.getOwnPropertyDescriptor(l,c);f&&Object.defineProperty(r,c,f.get?f:{enumerable:!0,get:()=>l[c]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const f of c)if(f.type==="childList")for(const d of f.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function o(c){const f={};return c.integrity&&(f.integrity=c.integrity),c.referrerPolicy&&(f.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?f.credentials="include":c.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function l(c){if(c.ep)return;c.ep=!0;const f=o(c);fetch(c.href,f)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function getAugmentedNamespace(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var n=r.default;if(typeof n=="function"){var o=function l(){var c=!1;try{c=this instanceof l}catch{}return c?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};o.prototype=n.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(r).forEach(function(l){var c=Object.getOwnPropertyDescriptor(r,l);Object.defineProperty(o,l,c.get?c:{enumerable:!0,get:function(){return r[l]}})}),o}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production_min;function requireReact_production_min(){if(hasRequiredReact_production_min)return react_production_min;hasRequiredReact_production_min=1;var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),d=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),L=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),H=Symbol.iterator;function ce(Dd){return Dd===null||typeof Dd!="object"?null:(Dd=H&&Dd[H]||Dd["@@iterator"],typeof Dd=="function"?Dd:null)}var ie={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Et=Object.assign,zn={};function $l(Dd,mh,gd){this.props=Dd,this.context=mh,this.refs=zn,this.updater=gd||ie}$l.prototype.isReactComponent={},$l.prototype.setState=function(Dd,mh){if(typeof Dd!="object"&&typeof Dd!="function"&&Dd!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Dd,mh,"setState")},$l.prototype.forceUpdate=function(Dd){this.updater.enqueueForceUpdate(this,Dd,"forceUpdate")};function zl(){}zl.prototype=$l.prototype;function Hl(Dd,mh,gd){this.props=Dd,this.context=mh,this.refs=zn,this.updater=gd||ie}var Ft=Hl.prototype=new zl;Ft.constructor=Hl,Et(Ft,$l.prototype),Ft.isPureReactComponent=!0;var El=Array.isArray,Kl=Object.prototype.hasOwnProperty,Al={current:null},vu={key:!0,ref:!0,__self:!0,__source:!0};function Nl(Dd,mh,gd){var md,oh={},qh=null,sf=null;if(mh!=null)for(md in mh.ref!==void 0&&(sf=mh.ref),mh.key!==void 0&&(qh=""+mh.key),mh)Kl.call(mh,md)&&!vu.hasOwnProperty(md)&&(oh[md]=mh[md]);var yh=arguments.length-2;if(yh===1)oh.children=gd;else if(1<yh){for(var vf=Array(yh),Ef=0;Ef<yh;Ef++)vf[Ef]=arguments[Ef+2];oh.children=vf}if(Dd&&Dd.defaultProps)for(md in yh=Dd.defaultProps,yh)oh[md]===void 0&&(oh[md]=yh[md]);return{$$typeof:r,type:Dd,key:qh,ref:sf,props:oh,_owner:Al.current}}function Xu(Dd,mh){return{$$typeof:r,type:Dd.type,key:mh,ref:Dd.ref,props:Dd.props,_owner:Dd._owner}}function Vu(Dd){return typeof Dd=="object"&&Dd!==null&&Dd.$$typeof===r}function Zu(Dd){var mh={"=":"=0",":":"=2"};return"$"+Dd.replace(/[=:]/g,function(gd){return mh[gd]})}var Od=/\/+/g;function Id(Dd,mh){return typeof Dd=="object"&&Dd!==null&&Dd.key!=null?Zu(""+Dd.key):mh.toString(36)}function Bd(Dd,mh,gd,md,oh){var qh=typeof Dd;(qh==="undefined"||qh==="boolean")&&(Dd=null);var sf=!1;if(Dd===null)sf=!0;else switch(qh){case"string":case"number":sf=!0;break;case"object":switch(Dd.$$typeof){case r:case n:sf=!0}}if(sf)return sf=Dd,oh=oh(sf),Dd=md===""?"."+Id(sf,0):md,El(oh)?(gd="",Dd!=null&&(gd=Dd.replace(Od,"$&/")+"/"),Bd(oh,mh,gd,"",function(Ef){return Ef})):oh!=null&&(Vu(oh)&&(oh=Xu(oh,gd+(!oh.key||sf&&sf.key===oh.key?"":(""+oh.key).replace(Od,"$&/")+"/")+Dd)),mh.push(oh)),1;if(sf=0,md=md===""?".":md+":",El(Dd))for(var yh=0;yh<Dd.length;yh++){qh=Dd[yh];var vf=md+Id(qh,yh);sf+=Bd(qh,mh,gd,vf,oh)}else if(vf=ce(Dd),typeof vf=="function")for(Dd=vf.call(Dd),yh=0;!(qh=Dd.next()).done;)qh=qh.value,vf=md+Id(qh,yh++),sf+=Bd(qh,mh,gd,vf,oh);else if(qh==="object")throw mh=String(Dd),Error("Objects are not valid as a React child (found: "+(mh==="[object Object]"?"object with keys {"+Object.keys(Dd).join(", ")+"}":mh)+"). If you meant to render a collection of children, use an array instead.");return sf}function Cd(Dd,mh,gd){if(Dd==null)return Dd;var md=[],oh=0;return Bd(Dd,md,"","",function(qh){return mh.call(gd,qh,oh++)}),md}function Wl(Dd){if(Dd._status===-1){var mh=Dd._result;mh=mh(),mh.then(function(gd){(Dd._status===0||Dd._status===-1)&&(Dd._status=1,Dd._result=gd)},function(gd){(Dd._status===0||Dd._status===-1)&&(Dd._status=2,Dd._result=gd)}),Dd._status===-1&&(Dd._status=0,Dd._result=mh)}if(Dd._status===1)return Dd._result.default;throw Dd._result}var jd={current:null},Md={transition:null},qu={ReactCurrentDispatcher:jd,ReactCurrentBatchConfig:Md,ReactCurrentOwner:Al};function ad(){throw Error("act(...) is not supported in production builds of React.")}return react_production_min.Children={map:Cd,forEach:function(Dd,mh,gd){Cd(Dd,function(){mh.apply(this,arguments)},gd)},count:function(Dd){var mh=0;return Cd(Dd,function(){mh++}),mh},toArray:function(Dd){return Cd(Dd,function(mh){return mh})||[]},only:function(Dd){if(!Vu(Dd))throw Error("React.Children.only expected to receive a single React element child.");return Dd}},react_production_min.Component=$l,react_production_min.Fragment=o,react_production_min.Profiler=c,react_production_min.PureComponent=Hl,react_production_min.StrictMode=l,react_production_min.Suspense=y,react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qu,react_production_min.act=ad,react_production_min.cloneElement=function(Dd,mh,gd){if(Dd==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Dd+".");var md=Et({},Dd.props),oh=Dd.key,qh=Dd.ref,sf=Dd._owner;if(mh!=null){if(mh.ref!==void 0&&(qh=mh.ref,sf=Al.current),mh.key!==void 0&&(oh=""+mh.key),Dd.type&&Dd.type.defaultProps)var yh=Dd.type.defaultProps;for(vf in mh)Kl.call(mh,vf)&&!vu.hasOwnProperty(vf)&&(md[vf]=mh[vf]===void 0&&yh!==void 0?yh[vf]:mh[vf])}var vf=arguments.length-2;if(vf===1)md.children=gd;else if(1<vf){yh=Array(vf);for(var Ef=0;Ef<vf;Ef++)yh[Ef]=arguments[Ef+2];md.children=yh}return{$$typeof:r,type:Dd.type,key:oh,ref:qh,props:md,_owner:sf}},react_production_min.createContext=function(Dd){return Dd={$$typeof:d,_currentValue:Dd,_currentValue2:Dd,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Dd.Provider={$$typeof:f,_context:Dd},Dd.Consumer=Dd},react_production_min.createElement=Nl,react_production_min.createFactory=function(Dd){var mh=Nl.bind(null,Dd);return mh.type=Dd,mh},react_production_min.createRef=function(){return{current:null}},react_production_min.forwardRef=function(Dd){return{$$typeof:w,render:Dd}},react_production_min.isValidElement=Vu,react_production_min.lazy=function(Dd){return{$$typeof:G,_payload:{_status:-1,_result:Dd},_init:Wl}},react_production_min.memo=function(Dd,mh){return{$$typeof:L,type:Dd,compare:mh===void 0?null:mh}},react_production_min.startTransition=function(Dd){var mh=Md.transition;Md.transition={};try{Dd()}finally{Md.transition=mh}},react_production_min.unstable_act=ad,react_production_min.useCallback=function(Dd,mh){return jd.current.useCallback(Dd,mh)},react_production_min.useContext=function(Dd){return jd.current.useContext(Dd)},react_production_min.useDebugValue=function(){},react_production_min.useDeferredValue=function(Dd){return jd.current.useDeferredValue(Dd)},react_production_min.useEffect=function(Dd,mh){return jd.current.useEffect(Dd,mh)},react_production_min.useId=function(){return jd.current.useId()},react_production_min.useImperativeHandle=function(Dd,mh,gd){return jd.current.useImperativeHandle(Dd,mh,gd)},react_production_min.useInsertionEffect=function(Dd,mh){return jd.current.useInsertionEffect(Dd,mh)},react_production_min.useLayoutEffect=function(Dd,mh){return jd.current.useLayoutEffect(Dd,mh)},react_production_min.useMemo=function(Dd,mh){return jd.current.useMemo(Dd,mh)},react_production_min.useReducer=function(Dd,mh,gd){return jd.current.useReducer(Dd,mh,gd)},react_production_min.useRef=function(Dd){return jd.current.useRef(Dd)},react_production_min.useState=function(Dd){return jd.current.useState(Dd)},react_production_min.useSyncExternalStore=function(Dd,mh,gd){return jd.current.useSyncExternalStore(Dd,mh,gd)},react_production_min.useTransition=function(){return jd.current.useTransition()},react_production_min.version="18.3.1",react_production_min}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production_min()),react.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production_min;function requireReactJsxRuntime_production_min(){if(hasRequiredReactJsxRuntime_production_min)return reactJsxRuntime_production_min;hasRequiredReactJsxRuntime_production_min=1;var r=requireReact(),n=Symbol.for("react.element"),o=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,c=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,f={key:!0,ref:!0,__self:!0,__source:!0};function d(w,y,L){var G,H={},ce=null,ie=null;L!==void 0&&(ce=""+L),y.key!==void 0&&(ce=""+y.key),y.ref!==void 0&&(ie=y.ref);for(G in y)l.call(y,G)&&!f.hasOwnProperty(G)&&(H[G]=y[G]);if(w&&w.defaultProps)for(G in y=w.defaultProps,y)H[G]===void 0&&(H[G]=y[G]);return{$$typeof:n,type:w,key:ce,ref:ie,props:H,_owner:c.current}}return reactJsxRuntime_production_min.Fragment=o,reactJsxRuntime_production_min.jsx=d,reactJsxRuntime_production_min.jsxs=d,reactJsxRuntime_production_min}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production_min()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);var client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production_min;function requireScheduler_production_min(){return hasRequiredScheduler_production_min||(hasRequiredScheduler_production_min=1,(function(r){function n(Md,qu){var ad=Md.length;Md.push(qu);e:for(;0<ad;){var Dd=ad-1>>>1,mh=Md[Dd];if(0<c(mh,qu))Md[Dd]=qu,Md[ad]=mh,ad=Dd;else break e}}function o(Md){return Md.length===0?null:Md[0]}function l(Md){if(Md.length===0)return null;var qu=Md[0],ad=Md.pop();if(ad!==qu){Md[0]=ad;e:for(var Dd=0,mh=Md.length,gd=mh>>>1;Dd<gd;){var md=2*(Dd+1)-1,oh=Md[md],qh=md+1,sf=Md[qh];if(0>c(oh,ad))qh<mh&&0>c(sf,oh)?(Md[Dd]=sf,Md[qh]=ad,Dd=qh):(Md[Dd]=oh,Md[md]=ad,Dd=md);else if(qh<mh&&0>c(sf,ad))Md[Dd]=sf,Md[qh]=ad,Dd=qh;else break e}}return qu}function c(Md,qu){var ad=Md.sortIndex-qu.sortIndex;return ad!==0?ad:Md.id-qu.id}if(typeof performance=="object"&&typeof performance.now=="function"){var f=performance;r.unstable_now=function(){return f.now()}}else{var d=Date,w=d.now();r.unstable_now=function(){return d.now()-w}}var y=[],L=[],G=1,H=null,ce=3,ie=!1,Et=!1,zn=!1,$l=typeof setTimeout=="function"?setTimeout:null,zl=typeof clearTimeout=="function"?clearTimeout:null,Hl=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Ft(Md){for(var qu=o(L);qu!==null;){if(qu.callback===null)l(L);else if(qu.startTime<=Md)l(L),qu.sortIndex=qu.expirationTime,n(y,qu);else break;qu=o(L)}}function El(Md){if(zn=!1,Ft(Md),!Et)if(o(y)!==null)Et=!0,Wl(Kl);else{var qu=o(L);qu!==null&&jd(El,qu.startTime-Md)}}function Kl(Md,qu){Et=!1,zn&&(zn=!1,zl(Nl),Nl=-1),ie=!0;var ad=ce;try{for(Ft(qu),H=o(y);H!==null&&(!(H.expirationTime>qu)||Md&&!Zu());){var Dd=H.callback;if(typeof Dd=="function"){H.callback=null,ce=H.priorityLevel;var mh=Dd(H.expirationTime<=qu);qu=r.unstable_now(),typeof mh=="function"?H.callback=mh:H===o(y)&&l(y),Ft(qu)}else l(y);H=o(y)}if(H!==null)var gd=!0;else{var md=o(L);md!==null&&jd(El,md.startTime-qu),gd=!1}return gd}finally{H=null,ce=ad,ie=!1}}var Al=!1,vu=null,Nl=-1,Xu=5,Vu=-1;function Zu(){return!(r.unstable_now()-Vu<Xu)}function Od(){if(vu!==null){var Md=r.unstable_now();Vu=Md;var qu=!0;try{qu=vu(!0,Md)}finally{qu?Id():(Al=!1,vu=null)}}else Al=!1}var Id;if(typeof Hl=="function")Id=function(){Hl(Od)};else if(typeof MessageChannel<"u"){var Bd=new MessageChannel,Cd=Bd.port2;Bd.port1.onmessage=Od,Id=function(){Cd.postMessage(null)}}else Id=function(){$l(Od,0)};function Wl(Md){vu=Md,Al||(Al=!0,Id())}function jd(Md,qu){Nl=$l(function(){Md(r.unstable_now())},qu)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Md){Md.callback=null},r.unstable_continueExecution=function(){Et||ie||(Et=!0,Wl(Kl))},r.unstable_forceFrameRate=function(Md){0>Md||125<Md?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Xu=0<Md?Math.floor(1e3/Md):5},r.unstable_getCurrentPriorityLevel=function(){return ce},r.unstable_getFirstCallbackNode=function(){return o(y)},r.unstable_next=function(Md){switch(ce){case 1:case 2:case 3:var qu=3;break;default:qu=ce}var ad=ce;ce=qu;try{return Md()}finally{ce=ad}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(Md,qu){switch(Md){case 1:case 2:case 3:case 4:case 5:break;default:Md=3}var ad=ce;ce=Md;try{return qu()}finally{ce=ad}},r.unstable_scheduleCallback=function(Md,qu,ad){var Dd=r.unstable_now();switch(typeof ad=="object"&&ad!==null?(ad=ad.delay,ad=typeof ad=="number"&&0<ad?Dd+ad:Dd):ad=Dd,Md){case 1:var mh=-1;break;case 2:mh=250;break;case 5:mh=1073741823;break;case 4:mh=1e4;break;default:mh=5e3}return mh=ad+mh,Md={id:G++,callback:qu,priorityLevel:Md,startTime:ad,expirationTime:mh,sortIndex:-1},ad>Dd?(Md.sortIndex=ad,n(L,Md),o(y)===null&&Md===o(L)&&(zn?(zl(Nl),Nl=-1):zn=!0,jd(El,ad-Dd))):(Md.sortIndex=mh,n(y,Md),Et||ie||(Et=!0,Wl(Kl))),Md},r.unstable_shouldYield=Zu,r.unstable_wrapCallback=function(Md){var qu=ce;return function(){var ad=ce;ce=qu;try{return Md.apply(this,arguments)}finally{ce=ad}}}})(scheduler_production_min)),scheduler_production_min}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production_min()),scheduler.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production_min;function requireReactDom_production_min(){if(hasRequiredReactDom_production_min)return reactDom_production_min;hasRequiredReactDom_production_min=1;var r=requireReact(),n=requireScheduler();function o(m){for(var b="https://reactjs.org/docs/error-decoder.html?invariant="+m,X=1;X<arguments.length;X++)b+="&args[]="+encodeURIComponent(arguments[X]);return"Minified React error #"+m+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,c={};function f(m,b){d(m,b),d(m+"Capture",b)}function d(m,b){for(c[m]=b,m=0;m<b.length;m++)l.add(b[m])}var w=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y=Object.prototype.hasOwnProperty,L=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,G={},H={};function ce(m){return y.call(H,m)?!0:y.call(G,m)?!1:L.test(m)?H[m]=!0:(G[m]=!0,!1)}function ie(m,b,X,el){if(X!==null&&X.type===0)return!1;switch(typeof b){case"function":case"symbol":return!0;case"boolean":return el?!1:X!==null?!X.acceptsBooleans:(m=m.toLowerCase().slice(0,5),m!=="data-"&&m!=="aria-");default:return!1}}function Et(m,b,X,el){if(b===null||typeof b>"u"||ie(m,b,X,el))return!0;if(el)return!1;if(X!==null)switch(X.type){case 3:return!b;case 4:return b===!1;case 5:return isNaN(b);case 6:return isNaN(b)||1>b}return!1}function zn(m,b,X,el,jl,bu,xd){this.acceptsBooleans=b===2||b===3||b===4,this.attributeName=el,this.attributeNamespace=jl,this.mustUseProperty=X,this.propertyName=m,this.type=b,this.sanitizeURL=bu,this.removeEmptyString=xd}var $l={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(m){$l[m]=new zn(m,0,!1,m,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(m){var b=m[0];$l[b]=new zn(b,1,!1,m[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(m){$l[m]=new zn(m,2,!1,m.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(m){$l[m]=new zn(m,2,!1,m,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(m){$l[m]=new zn(m,3,!1,m.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(m){$l[m]=new zn(m,3,!0,m,null,!1,!1)}),["capture","download"].forEach(function(m){$l[m]=new zn(m,4,!1,m,null,!1,!1)}),["cols","rows","size","span"].forEach(function(m){$l[m]=new zn(m,6,!1,m,null,!1,!1)}),["rowSpan","start"].forEach(function(m){$l[m]=new zn(m,5,!1,m.toLowerCase(),null,!1,!1)});var zl=/[\-:]([a-z])/g;function Hl(m){return m[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(m){var b=m.replace(zl,Hl);$l[b]=new zn(b,1,!1,m,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(m){var b=m.replace(zl,Hl);$l[b]=new zn(b,1,!1,m,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(m){var b=m.replace(zl,Hl);$l[b]=new zn(b,1,!1,m,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(m){$l[m]=new zn(m,1,!1,m.toLowerCase(),null,!1,!1)}),$l.xlinkHref=new zn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(m){$l[m]=new zn(m,1,!1,m.toLowerCase(),null,!0,!0)});function Ft(m,b,X,el){var jl=$l.hasOwnProperty(b)?$l[b]:null;(jl!==null?jl.type!==0:el||!(2<b.length)||b[0]!=="o"&&b[0]!=="O"||b[1]!=="n"&&b[1]!=="N")&&(Et(b,X,jl,el)&&(X=null),el||jl===null?ce(b)&&(X===null?m.removeAttribute(b):m.setAttribute(b,""+X)):jl.mustUseProperty?m[jl.propertyName]=X===null?jl.type===3?!1:"":X:(b=jl.attributeName,el=jl.attributeNamespace,X===null?m.removeAttribute(b):(jl=jl.type,X=jl===3||jl===4&&X===!0?"":""+X,el?m.setAttributeNS(el,b,X):m.setAttribute(b,X))))}var El=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Kl=Symbol.for("react.element"),Al=Symbol.for("react.portal"),vu=Symbol.for("react.fragment"),Nl=Symbol.for("react.strict_mode"),Xu=Symbol.for("react.profiler"),Vu=Symbol.for("react.provider"),Zu=Symbol.for("react.context"),Od=Symbol.for("react.forward_ref"),Id=Symbol.for("react.suspense"),Bd=Symbol.for("react.suspense_list"),Cd=Symbol.for("react.memo"),Wl=Symbol.for("react.lazy"),jd=Symbol.for("react.offscreen"),Md=Symbol.iterator;function qu(m){return m===null||typeof m!="object"?null:(m=Md&&m[Md]||m["@@iterator"],typeof m=="function"?m:null)}var ad=Object.assign,Dd;function mh(m){if(Dd===void 0)try{throw Error()}catch(X){var b=X.stack.trim().match(/\n( *(at )?)/);Dd=b&&b[1]||""}return`
`+Dd+m}var gd=!1;function md(m,b){if(!m||gd)return"";gd=!0;var X=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(b)if(b=function(){throw Error()},Object.defineProperty(b.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(b,[])}catch(xf){var el=xf}Reflect.construct(m,[],b)}else{try{b.call()}catch(xf){el=xf}m.call(b.prototype)}else{try{throw Error()}catch(xf){el=xf}m()}}catch(xf){if(xf&&el&&typeof xf.stack=="string"){for(var jl=xf.stack.split(`
`),bu=el.stack.split(`
`),xd=jl.length-1,xh=bu.length-1;1<=xd&&0<=xh&&jl[xd]!==bu[xh];)xh--;for(;1<=xd&&0<=xh;xd--,xh--)if(jl[xd]!==bu[xh]){if(xd!==1||xh!==1)do if(xd--,xh--,0>xh||jl[xd]!==bu[xh]){var Lh=`
`+jl[xd].replace(" at new "," at ");return m.displayName&&Lh.includes("<anonymous>")&&(Lh=Lh.replace("<anonymous>",m.displayName)),Lh}while(1<=xd&&0<=xh);break}}}finally{gd=!1,Error.prepareStackTrace=X}return(m=m?m.displayName||m.name:"")?mh(m):""}function oh(m){switch(m.tag){case 5:return mh(m.type);case 16:return mh("Lazy");case 13:return mh("Suspense");case 19:return mh("SuspenseList");case 0:case 2:case 15:return m=md(m.type,!1),m;case 11:return m=md(m.type.render,!1),m;case 1:return m=md(m.type,!0),m;default:return""}}function qh(m){if(m==null)return null;if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m;switch(m){case vu:return"Fragment";case Al:return"Portal";case Xu:return"Profiler";case Nl:return"StrictMode";case Id:return"Suspense";case Bd:return"SuspenseList"}if(typeof m=="object")switch(m.$$typeof){case Zu:return(m.displayName||"Context")+".Consumer";case Vu:return(m._context.displayName||"Context")+".Provider";case Od:var b=m.render;return m=m.displayName,m||(m=b.displayName||b.name||"",m=m!==""?"ForwardRef("+m+")":"ForwardRef"),m;case Cd:return b=m.displayName||null,b!==null?b:qh(m.type)||"Memo";case Wl:b=m._payload,m=m._init;try{return qh(m(b))}catch{}}return null}function sf(m){var b=m.type;switch(m.tag){case 24:return"Cache";case 9:return(b.displayName||"Context")+".Consumer";case 10:return(b._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return m=b.render,m=m.displayName||m.name||"",b.displayName||(m!==""?"ForwardRef("+m+")":"ForwardRef");case 7:return"Fragment";case 5:return b;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qh(b);case 8:return b===Nl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof b=="function")return b.displayName||b.name||null;if(typeof b=="string")return b}return null}function yh(m){switch(typeof m){case"boolean":case"number":case"string":case"undefined":return m;case"object":return m;default:return""}}function vf(m){var b=m.type;return(m=m.nodeName)&&m.toLowerCase()==="input"&&(b==="checkbox"||b==="radio")}function Ef(m){var b=vf(m)?"checked":"value",X=Object.getOwnPropertyDescriptor(m.constructor.prototype,b),el=""+m[b];if(!m.hasOwnProperty(b)&&typeof X<"u"&&typeof X.get=="function"&&typeof X.set=="function"){var jl=X.get,bu=X.set;return Object.defineProperty(m,b,{configurable:!0,get:function(){return jl.call(this)},set:function(xd){el=""+xd,bu.call(this,xd)}}),Object.defineProperty(m,b,{enumerable:X.enumerable}),{getValue:function(){return el},setValue:function(xd){el=""+xd},stopTracking:function(){m._valueTracker=null,delete m[b]}}}}function kf(m){m._valueTracker||(m._valueTracker=Ef(m))}function Mp(m){if(!m)return!1;var b=m._valueTracker;if(!b)return!0;var X=b.getValue(),el="";return m&&(el=vf(m)?m.checked?"true":"false":m.value),m=el,m!==X?(b.setValue(m),!0):!1}function rp(m){if(m=m||(typeof document<"u"?document:void 0),typeof m>"u")return null;try{return m.activeElement||m.body}catch{return m.body}}function Fp(m,b){var X=b.checked;return ad({},b,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:X??m._wrapperState.initialChecked})}function _0(m,b){var X=b.defaultValue==null?"":b.defaultValue,el=b.checked!=null?b.checked:b.defaultChecked;X=yh(b.value!=null?b.value:X),m._wrapperState={initialChecked:el,initialValue:X,controlled:b.type==="checkbox"||b.type==="radio"?b.checked!=null:b.value!=null}}function L0(m,b){b=b.checked,b!=null&&Ft(m,"checked",b,!1)}function Gp(m,b){L0(m,b);var X=yh(b.value),el=b.type;if(X!=null)el==="number"?(X===0&&m.value===""||m.value!=X)&&(m.value=""+X):m.value!==""+X&&(m.value=""+X);else if(el==="submit"||el==="reset"){m.removeAttribute("value");return}b.hasOwnProperty("value")?l0(m,b.type,X):b.hasOwnProperty("defaultValue")&&l0(m,b.type,yh(b.defaultValue)),b.checked==null&&b.defaultChecked!=null&&(m.defaultChecked=!!b.defaultChecked)}function E0(m,b,X){if(b.hasOwnProperty("value")||b.hasOwnProperty("defaultValue")){var el=b.type;if(!(el!=="submit"&&el!=="reset"||b.value!==void 0&&b.value!==null))return;b=""+m._wrapperState.initialValue,X||b===m.value||(m.value=b),m.defaultValue=b}X=m.name,X!==""&&(m.name=""),m.defaultChecked=!!m._wrapperState.initialChecked,X!==""&&(m.name=X)}function l0(m,b,X){(b!=="number"||rp(m.ownerDocument)!==m)&&(X==null?m.defaultValue=""+m._wrapperState.initialValue:m.defaultValue!==""+X&&(m.defaultValue=""+X))}var n0=Array.isArray;function Z0(m,b,X,el){if(m=m.options,b){b={};for(var jl=0;jl<X.length;jl++)b["$"+X[jl]]=!0;for(X=0;X<m.length;X++)jl=b.hasOwnProperty("$"+m[X].value),m[X].selected!==jl&&(m[X].selected=jl),jl&&el&&(m[X].defaultSelected=!0)}else{for(X=""+yh(X),b=null,jl=0;jl<m.length;jl++){if(m[jl].value===X){m[jl].selected=!0,el&&(m[jl].defaultSelected=!0);return}b!==null||m[jl].disabled||(b=m[jl])}b!==null&&(b.selected=!0)}}function G0(m,b){if(b.dangerouslySetInnerHTML!=null)throw Error(o(91));return ad({},b,{value:void 0,defaultValue:void 0,children:""+m._wrapperState.initialValue})}function X0(m,b){var X=b.value;if(X==null){if(X=b.children,b=b.defaultValue,X!=null){if(b!=null)throw Error(o(92));if(n0(X)){if(1<X.length)throw Error(o(93));X=X[0]}b=X}b==null&&(b=""),X=b}m._wrapperState={initialValue:yh(X)}}function $g(m,b){var X=yh(b.value),el=yh(b.defaultValue);X!=null&&(X=""+X,X!==m.value&&(m.value=X),b.defaultValue==null&&m.defaultValue!==X&&(m.defaultValue=X)),el!=null&&(m.defaultValue=""+el)}function Gg(m){var b=m.textContent;b===m._wrapperState.initialValue&&b!==""&&b!==null&&(m.value=b)}function _f(m){switch(m){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hd(m,b){return m==null||m==="http://www.w3.org/1999/xhtml"?_f(b):m==="http://www.w3.org/2000/svg"&&b==="foreignObject"?"http://www.w3.org/1999/xhtml":m}var qd,fh=(function(m){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(b,X,el,jl){MSApp.execUnsafeLocalFunction(function(){return m(b,X,el,jl)})}:m})(function(m,b){if(m.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in m)m.innerHTML=b;else{for(qd=qd||document.createElement("div"),qd.innerHTML="<svg>"+b.valueOf().toString()+"</svg>",b=qd.firstChild;m.firstChild;)m.removeChild(m.firstChild);for(;b.firstChild;)m.appendChild(b.firstChild)}});function Mf(m,b){if(b){var X=m.firstChild;if(X&&X===m.lastChild&&X.nodeType===3){X.nodeValue=b;return}}m.textContent=b}var lf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mp=["Webkit","ms","Moz","O"];Object.keys(lf).forEach(function(m){mp.forEach(function(b){b=b+m.charAt(0).toUpperCase()+m.substring(1),lf[b]=lf[m]})});function rf(m,b,X){return b==null||typeof b=="boolean"||b===""?"":X||typeof b!="number"||b===0||lf.hasOwnProperty(m)&&lf[m]?(""+b).trim():b+"px"}function hp(m,b){m=m.style;for(var X in b)if(b.hasOwnProperty(X)){var el=X.indexOf("--")===0,jl=rf(X,b[X],el);X==="float"&&(X="cssFloat"),el?m.setProperty(X,jl):m[X]=jl}}var Cp=ad({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sp(m,b){if(b){if(Cp[m]&&(b.children!=null||b.dangerouslySetInnerHTML!=null))throw Error(o(137,m));if(b.dangerouslySetInnerHTML!=null){if(b.children!=null)throw Error(o(60));if(typeof b.dangerouslySetInnerHTML!="object"||!("__html"in b.dangerouslySetInnerHTML))throw Error(o(61))}if(b.style!=null&&typeof b.style!="object")throw Error(o(62))}}function jp(m,b){if(m.indexOf("-")===-1)return typeof b.is=="string";switch(m){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cg=null;function tg(m){return m=m.target||m.srcElement||window,m.correspondingUseElement&&(m=m.correspondingUseElement),m.nodeType===3?m.parentNode:m}var qg=null,ig=null,Ag=null;function vg(m){if(m=A1(m)){if(typeof qg!="function")throw Error(o(280));var b=m.stateNode;b&&(b=my(b),qg(m.stateNode,m.type,b))}}function cg(m){ig?Ag?Ag.push(m):Ag=[m]:ig=m}function _p(){if(ig){var m=ig,b=Ag;if(Ag=ig=null,vg(m),b)for(m=0;m<b.length;m++)vg(b[m])}}function Ep(m,b){return m(b)}function dm(){}var Om=!1;function Pp(m,b,X){if(Om)return m(b,X);Om=!0;try{return Ep(m,b,X)}finally{Om=!1,(ig!==null||Ag!==null)&&(dm(),_p())}}function Xg(m,b){var X=m.stateNode;if(X===null)return null;var el=my(X);if(el===null)return null;X=el[b];e:switch(b){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(el=!el.disabled)||(m=m.type,el=!(m==="button"||m==="input"||m==="select"||m==="textarea")),m=!el;break e;default:m=!1}if(m)return null;if(X&&typeof X!="function")throw Error(o(231,b,typeof X));return X}var wm=!1;if(w)try{var hm={};Object.defineProperty(hm,"passive",{get:function(){wm=!0}}),window.addEventListener("test",hm,hm),window.removeEventListener("test",hm,hm)}catch{wm=!1}function Vg(m,b,X,el,jl,bu,xd,xh,Lh){var xf=Array.prototype.slice.call(arguments,3);try{b.apply(X,xf)}catch(cp){this.onError(cp)}}var Qg=!1,Tg=null,vm=!1,zm=null,Cm={onError:function(m){Qg=!0,Tg=m}};function Qm(m,b,X,el,jl,bu,xd,xh,Lh){Qg=!1,Tg=null,Vg.apply(Cm,arguments)}function b0(m,b,X,el,jl,bu,xd,xh,Lh){if(Qm.apply(this,arguments),Qg){if(Qg){var xf=Tg;Qg=!1,Tg=null}else throw Error(o(198));vm||(vm=!0,zm=xf)}}function yg(m){var b=m,X=m;if(m.alternate)for(;b.return;)b=b.return;else{m=b;do b=m,(b.flags&4098)!==0&&(X=b.return),m=b.return;while(m)}return b.tag===3?X:null}function I0(m){if(m.tag===13){var b=m.memoizedState;if(b===null&&(m=m.alternate,m!==null&&(b=m.memoizedState)),b!==null)return b.dehydrated}return null}function Pm(m){if(yg(m)!==m)throw Error(o(188))}function up(m){var b=m.alternate;if(!b){if(b=yg(m),b===null)throw Error(o(188));return b!==m?null:m}for(var X=m,el=b;;){var jl=X.return;if(jl===null)break;var bu=jl.alternate;if(bu===null){if(el=jl.return,el!==null){X=el;continue}break}if(jl.child===bu.child){for(bu=jl.child;bu;){if(bu===X)return Pm(jl),m;if(bu===el)return Pm(jl),b;bu=bu.sibling}throw Error(o(188))}if(X.return!==el.return)X=jl,el=bu;else{for(var xd=!1,xh=jl.child;xh;){if(xh===X){xd=!0,X=jl,el=bu;break}if(xh===el){xd=!0,el=jl,X=bu;break}xh=xh.sibling}if(!xd){for(xh=bu.child;xh;){if(xh===X){xd=!0,X=bu,el=jl;break}if(xh===el){xd=!0,el=bu,X=jl;break}xh=xh.sibling}if(!xd)throw Error(o(189))}}if(X.alternate!==el)throw Error(o(190))}if(X.tag!==3)throw Error(o(188));return X.stateNode.current===X?m:b}function ls(m){return m=up(m),m!==null?ed(m):null}function ed(m){if(m.tag===5||m.tag===6)return m;for(m=m.child;m!==null;){var b=ed(m);if(b!==null)return b;m=m.sibling}return null}var rh=n.unstable_scheduleCallback,Ih=n.unstable_cancelCallback,_h=n.unstable_shouldYield,ep=n.unstable_requestPaint,Of=n.unstable_now,Qf=n.unstable_getCurrentPriorityLevel,xp=n.unstable_ImmediatePriority,Zf=n.unstable_UserBlockingPriority,vp=n.unstable_NormalPriority,Nh=n.unstable_LowPriority,Rp=n.unstable_IdlePriority,Q0=null,dg=null;function jg(m){if(dg&&typeof dg.onCommitFiberRoot=="function")try{dg.onCommitFiberRoot(Q0,m,void 0,(m.current.flags&128)===128)}catch{}}var Jp=Math.clz32?Math.clz32:ag,og=Math.log,i0=Math.LN2;function ag(m){return m>>>=0,m===0?32:31-(og(m)/i0|0)|0}var Yp=64,Ng=4194304;function kd(m){switch(m&-m){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return m&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return m}}function E(m,b){var X=m.pendingLanes;if(X===0)return 0;var el=0,jl=m.suspendedLanes,bu=m.pingedLanes,xd=X&268435455;if(xd!==0){var xh=xd&~jl;xh!==0?el=kd(xh):(bu&=xd,bu!==0&&(el=kd(bu)))}else xd=X&~jl,xd!==0?el=kd(xd):bu!==0&&(el=kd(bu));if(el===0)return 0;if(b!==0&&b!==el&&(b&jl)===0&&(jl=el&-el,bu=b&-b,jl>=bu||jl===16&&(bu&4194240)!==0))return b;if((el&4)!==0&&(el|=X&16),b=m.entangledLanes,b!==0)for(m=m.entanglements,b&=el;0<b;)X=31-Jp(b),jl=1<<X,el|=m[X],b&=~jl;return el}function V(m,b){switch(m){case 1:case 2:case 4:return b+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Me(m,b){for(var X=m.suspendedLanes,el=m.pingedLanes,jl=m.expirationTimes,bu=m.pendingLanes;0<bu;){var xd=31-Jp(bu),xh=1<<xd,Lh=jl[xd];Lh===-1?((xh&X)===0||(xh&el)!==0)&&(jl[xd]=V(xh,b)):Lh<=b&&(m.expiredLanes|=xh),bu&=~xh}}function ot(m){return m=m.pendingLanes&-1073741825,m!==0?m:m&1073741824?1073741824:0}function Tl(){var m=Yp;return Yp<<=1,(Yp&4194240)===0&&(Yp=64),m}function ll(m){for(var b=[],X=0;31>X;X++)b.push(m);return b}function Pl(m,b,X){m.pendingLanes|=b,b!==536870912&&(m.suspendedLanes=0,m.pingedLanes=0),m=m.eventTimes,b=31-Jp(b),m[b]=X}function Bl(m,b){var X=m.pendingLanes&~b;m.pendingLanes=b,m.suspendedLanes=0,m.pingedLanes=0,m.expiredLanes&=b,m.mutableReadLanes&=b,m.entangledLanes&=b,b=m.entanglements;var el=m.eventTimes;for(m=m.expirationTimes;0<X;){var jl=31-Jp(X),bu=1<<jl;b[jl]=0,el[jl]=-1,m[jl]=-1,X&=~bu}}function Ml(m,b){var X=m.entangledLanes|=b;for(m=m.entanglements;X;){var el=31-Jp(X),jl=1<<el;jl&b|m[el]&b&&(m[el]|=b),X&=~jl}}var Vl=0;function Yl(m){return m&=-m,1<m?4<m?(m&268435455)!==0?16:536870912:4:1}var zu,Fu,mu,Lu,Du,Qu=!1,ld=[],vd=null,Ld=null,Ad=null,nh=new Map,dh=new Map,vh=[],Xl="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $u(m,b){switch(m){case"focusin":case"focusout":vd=null;break;case"dragenter":case"dragleave":Ld=null;break;case"mouseover":case"mouseout":Ad=null;break;case"pointerover":case"pointerout":nh.delete(b.pointerId);break;case"gotpointercapture":case"lostpointercapture":dh.delete(b.pointerId)}}function Wd(m,b,X,el,jl,bu){return m===null||m.nativeEvent!==bu?(m={blockedOn:b,domEventName:X,eventSystemFlags:el,nativeEvent:bu,targetContainers:[jl]},b!==null&&(b=A1(b),b!==null&&Fu(b)),m):(m.eventSystemFlags|=el,b=m.targetContainers,jl!==null&&b.indexOf(jl)===-1&&b.push(jl),m)}function ih(m,b,X,el,jl){switch(b){case"focusin":return vd=Wd(vd,m,b,X,el,jl),!0;case"dragenter":return Ld=Wd(Ld,m,b,X,el,jl),!0;case"mouseover":return Ad=Wd(Ad,m,b,X,el,jl),!0;case"pointerover":var bu=jl.pointerId;return nh.set(bu,Wd(nh.get(bu)||null,m,b,X,el,jl)),!0;case"gotpointercapture":return bu=jl.pointerId,dh.set(bu,Wd(dh.get(bu)||null,m,b,X,el,jl)),!0}return!1}function ph(m){var b=t1(m.target);if(b!==null){var X=yg(b);if(X!==null){if(b=X.tag,b===13){if(b=I0(X),b!==null){m.blockedOn=b,Du(m.priority,function(){mu(X)});return}}else if(b===3&&X.stateNode.current.memoizedState.isDehydrated){m.blockedOn=X.tag===3?X.stateNode.containerInfo:null;return}}}m.blockedOn=null}function Dh(m){if(m.blockedOn!==null)return!1;for(var b=m.targetContainers;0<b.length;){var X=zh(m.domEventName,m.eventSystemFlags,b[0],m.nativeEvent);if(X===null){X=m.nativeEvent;var el=new X.constructor(X.type,X);Cg=el,X.target.dispatchEvent(el),Cg=null}else return b=A1(X),b!==null&&Fu(b),m.blockedOn=X,!1;b.shift()}return!0}function Uh(m,b,X){Dh(m)&&X.delete(b)}function Oh(){Qu=!1,vd!==null&&Dh(vd)&&(vd=null),Ld!==null&&Dh(Ld)&&(Ld=null),Ad!==null&&Dh(Ad)&&(Ad=null),nh.forEach(Uh),dh.forEach(Uh)}function Rh(m,b){m.blockedOn===b&&(m.blockedOn=null,Qu||(Qu=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Oh)))}function Yh(m){function b(jl){return Rh(jl,m)}if(0<ld.length){Rh(ld[0],m);for(var X=1;X<ld.length;X++){var el=ld[X];el.blockedOn===m&&(el.blockedOn=null)}}for(vd!==null&&Rh(vd,m),Ld!==null&&Rh(Ld,m),Ad!==null&&Rh(Ad,m),nh.forEach(b),dh.forEach(b),X=0;X<vh.length;X++)el=vh[X],el.blockedOn===m&&(el.blockedOn=null);for(;0<vh.length&&(X=vh[0],X.blockedOn===null);)ph(X),X.blockedOn===null&&vh.shift()}var wh=El.ReactCurrentBatchConfig,Hh=!0;function Cf(m,b,X,el){var jl=Vl,bu=wh.transition;wh.transition=null;try{Vl=1,mf(m,b,X,el)}finally{Vl=jl,wh.transition=bu}}function nf(m,b,X,el){var jl=Vl,bu=wh.transition;wh.transition=null;try{Vl=4,mf(m,b,X,el)}finally{Vl=jl,wh.transition=bu}}function mf(m,b,X,el){if(Hh){var jl=zh(m,b,X,el);if(jl===null)dy(m,b,el,af,X),$u(m,el);else if(ih(jl,m,b,X,el))el.stopPropagation();else if($u(m,el),b&4&&-1<Xl.indexOf(m)){for(;jl!==null;){var bu=A1(jl);if(bu!==null&&zu(bu),bu=zh(m,b,X,el),bu===null&&dy(m,b,el,af,X),bu===jl)break;jl=bu}jl!==null&&el.stopPropagation()}else dy(m,b,el,null,X)}}var af=null;function zh(m,b,X,el){if(af=null,m=tg(el),m=t1(m),m!==null)if(b=yg(m),b===null)m=null;else if(X=b.tag,X===13){if(m=I0(b),m!==null)return m;m=null}else if(X===3){if(b.stateNode.current.memoizedState.isDehydrated)return b.tag===3?b.stateNode.containerInfo:null;m=null}else b!==m&&(m=null);return af=m,null}function Af(m){switch(m){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qf()){case xp:return 1;case Zf:return 4;case vp:case Nh:return 16;case Rp:return 536870912;default:return 16}default:return 16}}var $f=null,Rf=null,cf=null;function dp(){if(cf)return cf;var m,b=Rf,X=b.length,el,jl="value"in $f?$f.value:$f.textContent,bu=jl.length;for(m=0;m<X&&b[m]===jl[m];m++);var xd=X-m;for(el=1;el<=xd&&b[X-el]===jl[bu-el];el++);return cf=jl.slice(m,1<el?1-el:void 0)}function np(m){var b=m.keyCode;return"charCode"in m?(m=m.charCode,m===0&&b===13&&(m=13)):m=b,m===10&&(m=13),32<=m||m===13?m:0}function ip(){return!0}function Xf(){return!1}function Jf(m){function b(X,el,jl,bu,xd){this._reactName=X,this._targetInst=jl,this.type=el,this.nativeEvent=bu,this.target=xd,this.currentTarget=null;for(var xh in m)m.hasOwnProperty(xh)&&(X=m[xh],this[xh]=X?X(bu):bu[xh]);return this.isDefaultPrevented=(bu.defaultPrevented!=null?bu.defaultPrevented:bu.returnValue===!1)?ip:Xf,this.isPropagationStopped=Xf,this}return ad(b.prototype,{preventDefault:function(){this.defaultPrevented=!0;var X=this.nativeEvent;X&&(X.preventDefault?X.preventDefault():typeof X.returnValue!="unknown"&&(X.returnValue=!1),this.isDefaultPrevented=ip)},stopPropagation:function(){var X=this.nativeEvent;X&&(X.stopPropagation?X.stopPropagation():typeof X.cancelBubble!="unknown"&&(X.cancelBubble=!0),this.isPropagationStopped=ip)},persist:function(){},isPersistent:ip}),b}var qf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(m){return m.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fp=Jf(qf),$p=ad({},qf,{view:0,detail:0}),hg=Jf($p),v0,f0,u0,c0=ad({},$p,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jh,button:0,buttons:0,relatedTarget:function(m){return m.relatedTarget===void 0?m.fromElement===m.srcElement?m.toElement:m.fromElement:m.relatedTarget},movementX:function(m){return"movementX"in m?m.movementX:(m!==u0&&(u0&&m.type==="mousemove"?(v0=m.screenX-u0.screenX,f0=m.screenY-u0.screenY):f0=v0=0,u0=m),v0)},movementY:function(m){return"movementY"in m?m.movementY:f0}}),Xp=Jf(c0),y0=ad({},c0,{dataTransfer:0}),R0=Jf(y0),W0=ad({},$p,{relatedTarget:0}),w0=Jf(W0),V0=ad({},qf,{animationName:0,elapsedTime:0,pseudoElement:0}),Qp=Jf(V0),j0=ad({},qf,{clipboardData:function(m){return"clipboardData"in m?m.clipboardData:window.clipboardData}}),A0=Jf(j0),Ln=ad({},qf,{data:0}),Yu=Jf(Ln),hl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gd(m){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(m):(m=Xd[m])?!!b[m]:!1}function Jh(){return Gd}var Ch=ad({},$p,{key:function(m){if(m.key){var b=hl[m.key]||m.key;if(b!=="Unidentified")return b}return m.type==="keypress"?(m=np(m),m===13?"Enter":String.fromCharCode(m)):m.type==="keydown"||m.type==="keyup"?eh[m.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jh,charCode:function(m){return m.type==="keypress"?np(m):0},keyCode:function(m){return m.type==="keydown"||m.type==="keyup"?m.keyCode:0},which:function(m){return m.type==="keypress"?np(m):m.type==="keydown"||m.type==="keyup"?m.keyCode:0}}),Uf=Jf(Ch),Fh=ad({},c0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ff=Jf(Fh),O0=ad({},$p,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jh}),Up=Jf(O0),Yf=ad({},qf,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yg=Jf(Yf),sg=ad({},c0,{deltaX:function(m){return"deltaX"in m?m.deltaX:"wheelDeltaX"in m?-m.wheelDeltaX:0},deltaY:function(m){return"deltaY"in m?m.deltaY:"wheelDeltaY"in m?-m.wheelDeltaY:"wheelDelta"in m?-m.wheelDelta:0},deltaZ:0,deltaMode:0}),d0=Jf(sg),Sg=[9,13,27,32],T0=w&&"CompositionEvent"in window,Kf=null;w&&"documentMode"in document&&(Kf=document.documentMode);var e0=w&&"TextEvent"in window&&!Kf,fg=w&&(!T0||Kf&&8<Kf&&11>=Kf),Ip=" ",xg=!1;function z0(m,b){switch(m){case"keyup":return Sg.indexOf(b.keyCode)!==-1;case"keydown":return b.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function M0(m){return m=m.detail,typeof m=="object"&&"data"in m?m.data:null}var J0=!1;function Em(m,b){switch(m){case"compositionend":return M0(b);case"keypress":return b.which!==32?null:(xg=!0,Ip);case"textInput":return m=b.data,m===Ip&&xg?null:m;default:return null}}function f1(m,b){if(J0)return m==="compositionend"||!T0&&z0(m,b)?(m=dp(),cf=Rf=$f=null,J0=!1,m):null;switch(m){case"paste":return null;case"keypress":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case"compositionend":return fg&&b.locale!=="ko"?null:b.data;default:return null}}var Pg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function D1(m){var b=m&&m.nodeName&&m.nodeName.toLowerCase();return b==="input"?!!Pg[m.type]:b==="textarea"}function p1(m,b,X,el){cg(el),b=hy(b,"onChange"),0<b.length&&(X=new fp("onChange","change",null,X,el),m.push({event:X,listeners:b}))}var Km=null,g1=null;function jy(m){Q2(m,0)}function $1(m){var b=z1(m);if(Mp(b))return m}function Pv(m,b){if(m==="change")return b}var L1=!1;if(w){var Uy;if(w){var wv="oninput"in document;if(!wv){var ey=document.createElement("div");ey.setAttribute("oninput","return;"),wv=typeof ey.oninput=="function"}Uy=wv}else Uy=!1;L1=Uy&&(!document.documentMode||9<document.documentMode)}function Dm(){Km&&(Km.detachEvent("onpropertychange",m1),g1=Km=null)}function m1(m){if(m.propertyName==="value"&&$1(g1)){var b=[];p1(b,g1,m,tg(m)),Pp(jy,b)}}function k2(m,b,X){m==="focusin"?(Dm(),Km=b,g1=X,Km.attachEvent("onpropertychange",m1)):m==="focusout"&&Dm()}function Nm(m){if(m==="selectionchange"||m==="keyup"||m==="keydown")return $1(g1)}function uv(m,b){if(m==="click")return $1(b)}function Wy(m,b){if(m==="input"||m==="change")return $1(b)}function _2(m,b){return m===b&&(m!==0||1/m===1/b)||m!==m&&b!==b}var v1=typeof Object.is=="function"?Object.is:_2;function ty(m,b){if(v1(m,b))return!0;if(typeof m!="object"||m===null||typeof b!="object"||b===null)return!1;var X=Object.keys(m),el=Object.keys(b);if(X.length!==el.length)return!1;for(el=0;el<X.length;el++){var jl=X[el];if(!y.call(b,jl)||!v1(m[jl],b[jl]))return!1}return!0}function E2(m){for(;m&&m.firstChild;)m=m.firstChild;return m}function ry(m,b){var X=E2(m);m=0;for(var el;X;){if(X.nodeType===3){if(el=m+X.textContent.length,m<=b&&el>=b)return{node:X,offset:b-m};m=el}e:{for(;X;){if(X.nextSibling){X=X.nextSibling;break e}X=X.parentNode}X=void 0}X=E2(X)}}function s1(m,b){return m&&b?m===b?!0:m&&m.nodeType===3?!1:b&&b.nodeType===3?s1(m,b.parentNode):"contains"in m?m.contains(b):m.compareDocumentPosition?!!(m.compareDocumentPosition(b)&16):!1:!1}function Cv(){for(var m=window,b=rp();b instanceof m.HTMLIFrameElement;){try{var X=typeof b.contentWindow.location.href=="string"}catch{X=!1}if(X)m=b.contentWindow;else break;b=rp(m.document)}return b}function Dv(m){var b=m&&m.nodeName&&m.nodeName.toLowerCase();return b&&(b==="input"&&(m.type==="text"||m.type==="search"||m.type==="tel"||m.type==="url"||m.type==="password")||b==="textarea"||m.contentEditable==="true")}function $y(m){var b=Cv(),X=m.focusedElem,el=m.selectionRange;if(b!==X&&X&&X.ownerDocument&&s1(X.ownerDocument.documentElement,X)){if(el!==null&&Dv(X)){if(b=el.start,m=el.end,m===void 0&&(m=b),"selectionStart"in X)X.selectionStart=b,X.selectionEnd=Math.min(m,X.value.length);else if(m=(b=X.ownerDocument||document)&&b.defaultView||window,m.getSelection){m=m.getSelection();var jl=X.textContent.length,bu=Math.min(el.start,jl);el=el.end===void 0?bu:Math.min(el.end,jl),!m.extend&&bu>el&&(jl=el,el=bu,bu=jl),jl=ry(X,bu);var xd=ry(X,el);jl&&xd&&(m.rangeCount!==1||m.anchorNode!==jl.node||m.anchorOffset!==jl.offset||m.focusNode!==xd.node||m.focusOffset!==xd.offset)&&(b=b.createRange(),b.setStart(jl.node,jl.offset),m.removeAllRanges(),bu>el?(m.addRange(b),m.extend(xd.node,xd.offset)):(b.setEnd(xd.node,xd.offset),m.addRange(b)))}}for(b=[],m=X;m=m.parentNode;)m.nodeType===1&&b.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof X.focus=="function"&&X.focus(),X=0;X<b.length;X++)m=b[X],m.element.scrollLeft=m.left,m.element.scrollTop=m.top}}var L3=w&&"documentMode"in document&&11>=document.documentMode,Lv=null,Jm=null,Iv=null,M2=!1;function cv(m,b,X){var el=X.window===X?X.document:X.nodeType===9?X:X.ownerDocument;M2||Lv==null||Lv!==rp(el)||(el=Lv,"selectionStart"in el&&Dv(el)?el={start:el.selectionStart,end:el.selectionEnd}:(el=(el.ownerDocument&&el.ownerDocument.defaultView||window).getSelection(),el={anchorNode:el.anchorNode,anchorOffset:el.anchorOffset,focusNode:el.focusNode,focusOffset:el.focusOffset}),Iv&&ty(Iv,el)||(Iv=el,el=hy(Jm,"onSelect"),0<el.length&&(b=new fp("onSelect","select",null,b,X),m.push({event:b,listeners:el}),b.target=Lv)))}function Sv(m,b){var X={};return X[m.toLowerCase()]=b.toLowerCase(),X["Webkit"+m]="webkit"+b,X["Moz"+m]="moz"+b,X}var q1={animationend:Sv("Animation","AnimationEnd"),animationiteration:Sv("Animation","AnimationIteration"),animationstart:Sv("Animation","AnimationStart"),transitionend:Sv("Transition","TransitionEnd")},ny={},iy={};w&&(iy=document.createElement("div").style,"AnimationEvent"in window||(delete q1.animationend.animation,delete q1.animationiteration.animation,delete q1.animationstart.animation),"TransitionEvent"in window||delete q1.transitionend.transition);function Ov(m){if(ny[m])return ny[m];if(!q1[m])return m;var b=q1[m],X;for(X in b)if(b.hasOwnProperty(X)&&X in iy)return ny[m]=b[X];return m}var oy=Ov("animationend"),ay=Ov("animationiteration"),sy=Ov("animationstart"),qy=Ov("transitionend"),_1=new Map,A2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function dv(m,b){_1.set(m,b),f(b,[m])}for(var ly=0;ly<A2.length;ly++){var Yy=A2[ly],I1=Yy.toLowerCase(),T2=Yy[0].toUpperCase()+Yy.slice(1);dv(I1,"on"+T2)}dv(oy,"onAnimationEnd"),dv(ay,"onAnimationIteration"),dv(sy,"onAnimationStart"),dv("dblclick","onDoubleClick"),dv("focusin","onFocus"),dv("focusout","onBlur"),dv(qy,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),f("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),f("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),f("onBeforeInput",["compositionend","keypress","textInput","paste"]),f("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I3=new Set("cancel close invalid load scroll toggle".split(" ").concat(hv));function X2(m,b,X){var el=m.type||"unknown-event";m.currentTarget=X,b0(el,b,void 0,m),m.currentTarget=null}function Q2(m,b){b=(b&4)!==0;for(var X=0;X<m.length;X++){var el=m[X],jl=el.event;el=el.listeners;e:{var bu=void 0;if(b)for(var xd=el.length-1;0<=xd;xd--){var xh=el[xd],Lh=xh.instance,xf=xh.currentTarget;if(xh=xh.listener,Lh!==bu&&jl.isPropagationStopped())break e;X2(jl,xh,xf),bu=Lh}else for(xd=0;xd<el.length;xd++){if(xh=el[xd],Lh=xh.instance,xf=xh.currentTarget,xh=xh.listener,Lh!==bu&&jl.isPropagationStopped())break e;X2(jl,xh,xf),bu=Lh}}}if(vm)throw m=zm,vm=!1,zm=null,m}function sm(m,b){var X=b[pf];X===void 0&&(X=b[pf]=new Set);var el=m+"__bubble";X.has(el)||(R2(b,m,2,!1),X.add(el))}function Ky(m,b,X){var el=0;b&&(el|=4),R2(X,m,el,b)}var uy="_reactListening"+Math.random().toString(36).slice(2);function cy(m){if(!m[uy]){m[uy]=!0,l.forEach(function(X){X!=="selectionchange"&&(I3.has(X)||Ky(X,!1,m),Ky(X,!0,m))});var b=m.nodeType===9?m:m.ownerDocument;b===null||b[uy]||(b[uy]=!0,Ky("selectionchange",!1,b))}}function R2(m,b,X,el){switch(Af(b)){case 1:var jl=Cf;break;case 4:jl=nf;break;default:jl=mf}X=jl.bind(null,b,X,m),jl=void 0,!wm||b!=="touchstart"&&b!=="touchmove"&&b!=="wheel"||(jl=!0),el?jl!==void 0?m.addEventListener(b,X,{capture:!0,passive:jl}):m.addEventListener(b,X,!0):jl!==void 0?m.addEventListener(b,X,{passive:jl}):m.addEventListener(b,X,!1)}function dy(m,b,X,el,jl){var bu=el;if((b&1)===0&&(b&2)===0&&el!==null)e:for(;;){if(el===null)return;var xd=el.tag;if(xd===3||xd===4){var xh=el.stateNode.containerInfo;if(xh===jl||xh.nodeType===8&&xh.parentNode===jl)break;if(xd===4)for(xd=el.return;xd!==null;){var Lh=xd.tag;if((Lh===3||Lh===4)&&(Lh=xd.stateNode.containerInfo,Lh===jl||Lh.nodeType===8&&Lh.parentNode===jl))return;xd=xd.return}for(;xh!==null;){if(xd=t1(xh),xd===null)return;if(Lh=xd.tag,Lh===5||Lh===6){el=bu=xd;continue e}xh=xh.parentNode}}el=el.return}Pp(function(){var xf=bu,cp=tg(X),pp=[];e:{var lp=_1.get(m);if(lp!==void 0){var Zp=fp,o0=m;switch(m){case"keypress":if(np(X)===0)break e;case"keydown":case"keyup":Zp=Uf;break;case"focusin":o0="focus",Zp=w0;break;case"focusout":o0="blur",Zp=w0;break;case"beforeblur":case"afterblur":Zp=w0;break;case"click":if(X.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Zp=Xp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Zp=R0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Zp=Up;break;case oy:case ay:case sy:Zp=Qp;break;case qy:Zp=Yg;break;case"scroll":Zp=hg;break;case"wheel":Zp=d0;break;case"copy":case"cut":case"paste":Zp=A0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Zp=ff}var s0=(b&4)!==0,xm=!s0&&m==="scroll",df=s0?lp!==null?lp+"Capture":null:lp;s0=[];for(var Wh=xf,gf;Wh!==null;){gf=Wh;var Sp=gf.stateNode;if(gf.tag===5&&Sp!==null&&(gf=Sp,df!==null&&(Sp=Xg(Wh,df),Sp!=null&&s0.push(zv(Wh,Sp,gf)))),xm)break;Wh=Wh.return}0<s0.length&&(lp=new Zp(lp,o0,null,X,cp),pp.push({event:lp,listeners:s0}))}}if((b&7)===0){e:{if(lp=m==="mouseover"||m==="pointerover",Zp=m==="mouseout"||m==="pointerout",lp&&X!==Cg&&(o0=X.relatedTarget||X.fromElement)&&(t1(o0)||o0[M1]))break e;if((Zp||lp)&&(lp=cp.window===cp?cp:(lp=cp.ownerDocument)?lp.defaultView||lp.parentWindow:window,Zp?(o0=X.relatedTarget||X.toElement,Zp=xf,o0=o0?t1(o0):null,o0!==null&&(xm=yg(o0),o0!==xm||o0.tag!==5&&o0.tag!==6)&&(o0=null)):(Zp=null,o0=xf),Zp!==o0)){if(s0=Xp,Sp="onMouseLeave",df="onMouseEnter",Wh="mouse",(m==="pointerout"||m==="pointerover")&&(s0=ff,Sp="onPointerLeave",df="onPointerEnter",Wh="pointer"),xm=Zp==null?lp:z1(Zp),gf=o0==null?lp:z1(o0),lp=new s0(Sp,Wh+"leave",Zp,X,cp),lp.target=xm,lp.relatedTarget=gf,Sp=null,t1(cp)===xf&&(s0=new s0(df,Wh+"enter",o0,X,cp),s0.target=gf,s0.relatedTarget=xm,Sp=s0),xm=Sp,Zp&&o0)t:{for(s0=Zp,df=o0,Wh=0,gf=s0;gf;gf=e1(gf))Wh++;for(gf=0,Sp=df;Sp;Sp=e1(Sp))gf++;for(;0<Wh-gf;)s0=e1(s0),Wh--;for(;0<gf-Wh;)df=e1(df),gf--;for(;Wh--;){if(s0===df||df!==null&&s0===df.alternate)break t;s0=e1(s0),df=e1(df)}s0=null}else s0=null;Zp!==null&&J2(pp,lp,Zp,s0,!1),o0!==null&&xm!==null&&J2(pp,xm,o0,s0,!0)}}e:{if(lp=xf?z1(xf):window,Zp=lp.nodeName&&lp.nodeName.toLowerCase(),Zp==="select"||Zp==="input"&&lp.type==="file")var a0=Pv;else if(D1(lp))if(L1)a0=Wy;else{a0=Nm;var S0=k2}else(Zp=lp.nodeName)&&Zp.toLowerCase()==="input"&&(lp.type==="checkbox"||lp.type==="radio")&&(a0=uv);if(a0&&(a0=a0(m,xf))){p1(pp,a0,X,cp);break e}S0&&S0(m,lp,xf),m==="focusout"&&(S0=lp._wrapperState)&&S0.controlled&&lp.type==="number"&&l0(lp,"number",lp.value)}switch(S0=xf?z1(xf):window,m){case"focusin":(D1(S0)||S0.contentEditable==="true")&&(Lv=S0,Jm=xf,Iv=null);break;case"focusout":Iv=Jm=Lv=null;break;case"mousedown":M2=!0;break;case"contextmenu":case"mouseup":case"dragend":M2=!1,cv(pp,X,cp);break;case"selectionchange":if(L3)break;case"keydown":case"keyup":cv(pp,X,cp)}var g0;if(T0)e:{switch(m){case"compositionstart":var $0="onCompositionStart";break e;case"compositionend":$0="onCompositionEnd";break e;case"compositionupdate":$0="onCompositionUpdate";break e}$0=void 0}else J0?z0(m,X)&&($0="onCompositionEnd"):m==="keydown"&&X.keyCode===229&&($0="onCompositionStart");$0&&(fg&&X.locale!=="ko"&&(J0||$0!=="onCompositionStart"?$0==="onCompositionEnd"&&J0&&(g0=dp()):($f=cp,Rf="value"in $f?$f.value:$f.textContent,J0=!0)),S0=hy(xf,$0),0<S0.length&&($0=new Yu($0,m,null,X,cp),pp.push({event:$0,listeners:S0}),g0?$0.data=g0:(g0=M0(X),g0!==null&&($0.data=g0)))),(g0=e0?Em(m,X):f1(m,X))&&(xf=hy(xf,"onBeforeInput"),0<xf.length&&(cp=new Yu("onBeforeInput","beforeinput",null,X,cp),pp.push({event:cp,listeners:xf}),cp.data=g0))}Q2(pp,b)})}function zv(m,b,X){return{instance:m,listener:b,currentTarget:X}}function hy(m,b){for(var X=b+"Capture",el=[];m!==null;){var jl=m,bu=jl.stateNode;jl.tag===5&&bu!==null&&(jl=bu,bu=Xg(m,X),bu!=null&&el.unshift(zv(m,bu,jl)),bu=Xg(m,b),bu!=null&&el.push(zv(m,bu,jl))),m=m.return}return el}function e1(m){if(m===null)return null;do m=m.return;while(m&&m.tag!==5);return m||null}function J2(m,b,X,el,jl){for(var bu=b._reactName,xd=[];X!==null&&X!==el;){var xh=X,Lh=xh.alternate,xf=xh.stateNode;if(Lh!==null&&Lh===el)break;xh.tag===5&&xf!==null&&(xh=xf,jl?(Lh=Xg(X,bu),Lh!=null&&xd.unshift(zv(X,Lh,xh))):jl||(Lh=Xg(X,bu),Lh!=null&&xd.push(zv(X,Lh,xh)))),X=X.return}xd.length!==0&&m.push({event:b,listeners:xd})}var Dp=/\r\n?/g,bg=/\u0000|\uFFFD/g;function F2(m){return(typeof m=="string"?m:""+m).replace(Dp,`
`).replace(bg,"")}function fy(m,b,X){if(b=F2(b),F2(m)!==b&&X)throw Error(o(425))}function py(){}var Vm=null,P2=null;function Zy(m,b){return m==="textarea"||m==="noscript"||typeof b.children=="string"||typeof b.children=="number"||typeof b.dangerouslySetInnerHTML=="object"&&b.dangerouslySetInnerHTML!==null&&b.dangerouslySetInnerHTML.__html!=null}var l1=typeof setTimeout=="function"?setTimeout:void 0,gy=typeof clearTimeout=="function"?clearTimeout:void 0,e3=typeof Promise=="function"?Promise:void 0,Xy=typeof queueMicrotask=="function"?queueMicrotask:typeof e3<"u"?function(m){return e3.resolve(null).then(m).catch(t3)}:l1;function t3(m){setTimeout(function(){throw m})}function D2(m,b){var X=b,el=0;do{var jl=X.nextSibling;if(m.removeChild(X),jl&&jl.nodeType===8)if(X=jl.data,X==="/$"){if(el===0){m.removeChild(jl),Yh(b);return}el--}else X!=="$"&&X!=="$?"&&X!=="$!"||el++;X=jl}while(X);Yh(b)}function E1(m){for(;m!=null;m=m.nextSibling){var b=m.nodeType;if(b===1||b===3)break;if(b===8){if(b=m.data,b==="$"||b==="$!"||b==="$?")break;if(b==="/$")return null}}return m}function r3(m){m=m.previousSibling;for(var b=0;m;){if(m.nodeType===8){var X=m.data;if(X==="$"||X==="$!"||X==="$?"){if(b===0)return m;b--}else X==="/$"&&b++}m=m.previousSibling}return null}var Nv=Math.random().toString(36).slice(2),O1="__reactFiber$"+Nv,Bv="__reactProps$"+Nv,M1="__reactContainer$"+Nv,pf="__reactEvents$"+Nv,n3="__reactListeners$"+Nv,L2="__reactHandles$"+Nv;function t1(m){var b=m[O1];if(b)return b;for(var X=m.parentNode;X;){if(b=X[M1]||X[O1]){if(X=b.alternate,b.child!==null||X!==null&&X.child!==null)for(m=r3(m);m!==null;){if(X=m[O1])return X;m=r3(m)}return b}m=X,X=m.parentNode}return null}function A1(m){return m=m[O1]||m[M1],!m||m.tag!==5&&m.tag!==6&&m.tag!==13&&m.tag!==3?null:m}function z1(m){if(m.tag===5||m.tag===6)return m.stateNode;throw Error(o(33))}function my(m){return m[Bv]||null}var I2=[],Hv=-1;function Y1(m){return{current:m}}function Jg(m){0>Hv||(m.current=I2[Hv],I2[Hv]=null,Hv--)}function rm(m,b){Hv++,I2[Hv]=m.current,m.current=b}var r1={},jm=Y1(r1),Um=Y1(!1),K1=r1;function kv(m,b){var X=m.type.contextTypes;if(!X)return r1;var el=m.stateNode;if(el&&el.__reactInternalMemoizedUnmaskedChildContext===b)return el.__reactInternalMemoizedMaskedChildContext;var jl={},bu;for(bu in X)jl[bu]=b[bu];return el&&(m=m.stateNode,m.__reactInternalMemoizedUnmaskedChildContext=b,m.__reactInternalMemoizedMaskedChildContext=jl),jl}function Bm(m){return m=m.childContextTypes,m!=null}function Hm(){Jg(Um),Jg(jm)}function i3(m,b,X){if(jm.current!==r1)throw Error(o(168));rm(jm,b),rm(Um,X)}function o3(m,b,X){var el=m.stateNode;if(b=b.childContextTypes,typeof el.getChildContext!="function")return X;el=el.getChildContext();for(var jl in el)if(!(jl in b))throw Error(o(108,sf(m)||"Unknown",jl));return ad({},X,el)}function Qy(m){return m=(m=m.stateNode)&&m.__reactInternalMemoizedMergedChildContext||r1,K1=jm.current,rm(jm,m),rm(Um,Um.current),!0}function a3(m,b,X){var el=m.stateNode;if(!el)throw Error(o(169));X?(m=o3(m,b,K1),el.__reactInternalMemoizedMergedChildContext=m,Jg(Um),Jg(jm),rm(jm,m)):Jg(Um),rm(Um,X)}var y1=null,vy=!1,O2=!1;function s3(m){y1===null?y1=[m]:y1.push(m)}function l3(m){vy=!0,s3(m)}function fv(){if(!O2&&y1!==null){O2=!0;var m=0,b=Vl;try{var X=y1;for(Vl=1;m<X.length;m++){var el=X[m];do el=el(!0);while(el!==null)}y1=null,vy=!1}catch(jl){throw y1!==null&&(y1=y1.slice(m+1)),rh(xp,fv),jl}finally{Vl=b,O2=!1}}return null}var pv=[],Gv=0,_v=null,Jy=0,u1=[],x1=0,Ev=null,Z1=1,X1="";function Mv(m,b){pv[Gv++]=Jy,pv[Gv++]=_v,_v=m,Jy=b}function u3(m,b,X){u1[x1++]=Z1,u1[x1++]=X1,u1[x1++]=Ev,Ev=m;var el=Z1;m=X1;var jl=32-Jp(el)-1;el&=~(1<<jl),X+=1;var bu=32-Jp(b)+jl;if(30<bu){var xd=jl-jl%5;bu=(el&(1<<xd)-1).toString(32),el>>=xd,jl-=xd,Z1=1<<32-Jp(b)+jl|X<<jl|el,X1=bu+m}else Z1=1<<bu|X<<jl|el,X1=m}function yy(m){m.return!==null&&(Mv(m,1),u3(m,1,0))}function gv(m){for(;m===_v;)_v=pv[--Gv],pv[Gv]=null,Jy=pv[--Gv],pv[Gv]=null;for(;m===Ev;)Ev=u1[--x1],u1[x1]=null,X1=u1[--x1],u1[x1]=null,Z1=u1[--x1],u1[x1]=null}var Wm=null,ym=null,lm=!1,b1=null;function z2(m,b){var X=Zm(5,null,null,0);X.elementType="DELETED",X.stateNode=b,X.return=m,b=m.deletions,b===null?(m.deletions=[X],m.flags|=16):b.push(X)}function N2(m,b){switch(m.tag){case 5:var X=m.type;return b=b.nodeType!==1||X.toLowerCase()!==b.nodeName.toLowerCase()?null:b,b!==null?(m.stateNode=b,Wm=m,ym=E1(b.firstChild),!0):!1;case 6:return b=m.pendingProps===""||b.nodeType!==3?null:b,b!==null?(m.stateNode=b,Wm=m,ym=null,!0):!1;case 13:return b=b.nodeType!==8?null:b,b!==null?(X=Ev!==null?{id:Z1,overflow:X1}:null,m.memoizedState={dehydrated:b,treeContext:X,retryLane:1073741824},X=Zm(18,null,null,0),X.stateNode=b,X.return=m,m.child=X,Wm=m,ym=null,!0):!1;default:return!1}}function xy(m){return(m.mode&1)!==0&&(m.flags&128)===0}function Vv(m){if(lm){var b=ym;if(b){var X=b;if(!N2(m,b)){if(xy(m))throw Error(o(418));b=E1(X.nextSibling);var el=Wm;b&&N2(m,b)?z2(el,X):(m.flags=m.flags&-4097|2,lm=!1,Wm=m)}}else{if(xy(m))throw Error(o(418));m.flags=m.flags&-4097|2,lm=!1,Wm=m}}}function jv(m){for(m=m.return;m!==null&&m.tag!==5&&m.tag!==3&&m.tag!==13;)m=m.return;Wm=m}function Uv(m){if(m!==Wm)return!1;if(!lm)return jv(m),lm=!0,!1;var b;if((b=m.tag!==3)&&!(b=m.tag!==5)&&(b=m.type,b=b!=="head"&&b!=="body"&&!Zy(m.type,m.memoizedProps)),b&&(b=ym)){if(xy(m))throw B2(),Error(o(418));for(;b;)z2(m,b),b=E1(b.nextSibling)}if(jv(m),m.tag===13){if(m=m.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(o(317));e:{for(m=m.nextSibling,b=0;m;){if(m.nodeType===8){var X=m.data;if(X==="/$"){if(b===0){ym=E1(m.nextSibling);break e}b--}else X!=="$"&&X!=="$!"&&X!=="$?"||b++}m=m.nextSibling}ym=null}}else ym=Wm?E1(m.stateNode.nextSibling):null;return!0}function B2(){for(var m=ym;m;)m=E1(m.nextSibling)}function Q1(){ym=Wm=null,lm=!1}function e2(m){b1===null?b1=[m]:b1.push(m)}var by=El.ReactCurrentBatchConfig;function Wv(m,b,X){if(m=X.ref,m!==null&&typeof m!="function"&&typeof m!="object"){if(X._owner){if(X=X._owner,X){if(X.tag!==1)throw Error(o(309));var el=X.stateNode}if(!el)throw Error(o(147,m));var jl=el,bu=""+m;return b!==null&&b.ref!==null&&typeof b.ref=="function"&&b.ref._stringRef===bu?b.ref:(b=function(xd){var xh=jl.refs;xd===null?delete xh[bu]:xh[bu]=xd},b._stringRef=bu,b)}if(typeof m!="string")throw Error(o(284));if(!X._owner)throw Error(o(290,m))}return m}function Av(m,b){throw m=Object.prototype.toString.call(b),Error(o(31,m==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":m))}function t2(m){var b=m._init;return b(m._payload)}function r2(m){function b(df,Wh){if(m){var gf=df.deletions;gf===null?(df.deletions=[Wh],df.flags|=16):gf.push(Wh)}}function X(df,Wh){if(!m)return null;for(;Wh!==null;)b(df,Wh),Wh=Wh.sibling;return null}function el(df,Wh){for(df=new Map;Wh!==null;)Wh.key!==null?df.set(Wh.key,Wh):df.set(Wh.index,Wh),Wh=Wh.sibling;return df}function jl(df,Wh){return df=iv(df,Wh),df.index=0,df.sibling=null,df}function bu(df,Wh,gf){return df.index=gf,m?(gf=df.alternate,gf!==null?(gf=gf.index,gf<Wh?(df.flags|=2,Wh):gf):(df.flags|=2,Wh)):(df.flags|=1048576,Wh)}function xd(df){return m&&df.alternate===null&&(df.flags|=2),df}function xh(df,Wh,gf,Sp){return Wh===null||Wh.tag!==6?(Wh=Zv(gf,df.mode,Sp),Wh.return=df,Wh):(Wh=jl(Wh,gf),Wh.return=df,Wh)}function Lh(df,Wh,gf,Sp){var a0=gf.type;return a0===vu?cp(df,Wh,gf.props.children,Sp,gf.key):Wh!==null&&(Wh.elementType===a0||typeof a0=="object"&&a0!==null&&a0.$$typeof===Wl&&t2(a0)===Wh.type)?(Sp=jl(Wh,gf.props),Sp.ref=Wv(df,Wh,gf),Sp.return=df,Sp):(Sp=Fv(gf.type,gf.key,gf.props,null,df.mode,Sp),Sp.ref=Wv(df,Wh,gf),Sp.return=df,Sp)}function xf(df,Wh,gf,Sp){return Wh===null||Wh.tag!==4||Wh.stateNode.containerInfo!==gf.containerInfo||Wh.stateNode.implementation!==gf.implementation?(Wh=Py(gf,df.mode,Sp),Wh.return=df,Wh):(Wh=jl(Wh,gf.children||[]),Wh.return=df,Wh)}function cp(df,Wh,gf,Sp,a0){return Wh===null||Wh.tag!==7?(Wh=ov(gf,df.mode,Sp,a0),Wh.return=df,Wh):(Wh=jl(Wh,gf),Wh.return=df,Wh)}function pp(df,Wh,gf){if(typeof Wh=="string"&&Wh!==""||typeof Wh=="number")return Wh=Zv(""+Wh,df.mode,gf),Wh.return=df,Wh;if(typeof Wh=="object"&&Wh!==null){switch(Wh.$$typeof){case Kl:return gf=Fv(Wh.type,Wh.key,Wh.props,null,df.mode,gf),gf.ref=Wv(df,null,Wh),gf.return=df,gf;case Al:return Wh=Py(Wh,df.mode,gf),Wh.return=df,Wh;case Wl:var Sp=Wh._init;return pp(df,Sp(Wh._payload),gf)}if(n0(Wh)||qu(Wh))return Wh=ov(Wh,df.mode,gf,null),Wh.return=df,Wh;Av(df,Wh)}return null}function lp(df,Wh,gf,Sp){var a0=Wh!==null?Wh.key:null;if(typeof gf=="string"&&gf!==""||typeof gf=="number")return a0!==null?null:xh(df,Wh,""+gf,Sp);if(typeof gf=="object"&&gf!==null){switch(gf.$$typeof){case Kl:return gf.key===a0?Lh(df,Wh,gf,Sp):null;case Al:return gf.key===a0?xf(df,Wh,gf,Sp):null;case Wl:return a0=gf._init,lp(df,Wh,a0(gf._payload),Sp)}if(n0(gf)||qu(gf))return a0!==null?null:cp(df,Wh,gf,Sp,null);Av(df,gf)}return null}function Zp(df,Wh,gf,Sp,a0){if(typeof Sp=="string"&&Sp!==""||typeof Sp=="number")return df=df.get(gf)||null,xh(Wh,df,""+Sp,a0);if(typeof Sp=="object"&&Sp!==null){switch(Sp.$$typeof){case Kl:return df=df.get(Sp.key===null?gf:Sp.key)||null,Lh(Wh,df,Sp,a0);case Al:return df=df.get(Sp.key===null?gf:Sp.key)||null,xf(Wh,df,Sp,a0);case Wl:var S0=Sp._init;return Zp(df,Wh,gf,S0(Sp._payload),a0)}if(n0(Sp)||qu(Sp))return df=df.get(gf)||null,cp(Wh,df,Sp,a0,null);Av(Wh,Sp)}return null}function o0(df,Wh,gf,Sp){for(var a0=null,S0=null,g0=Wh,$0=Wh=0,Im=null;g0!==null&&$0<gf.length;$0++){g0.index>$0?(Im=g0,g0=null):Im=g0.sibling;var Ug=lp(df,g0,gf[$0],Sp);if(Ug===null){g0===null&&(g0=Im);break}m&&g0&&Ug.alternate===null&&b(df,g0),Wh=bu(Ug,Wh,$0),S0===null?a0=Ug:S0.sibling=Ug,S0=Ug,g0=Im}if($0===gf.length)return X(df,g0),lm&&Mv(df,$0),a0;if(g0===null){for(;$0<gf.length;$0++)g0=pp(df,gf[$0],Sp),g0!==null&&(Wh=bu(g0,Wh,$0),S0===null?a0=g0:S0.sibling=g0,S0=g0);return lm&&Mv(df,$0),a0}for(g0=el(df,g0);$0<gf.length;$0++)Im=Zp(g0,df,$0,gf[$0],Sp),Im!==null&&(m&&Im.alternate!==null&&g0.delete(Im.key===null?$0:Im.key),Wh=bu(Im,Wh,$0),S0===null?a0=Im:S0.sibling=Im,S0=Im);return m&&g0.forEach(function(yv){return b(df,yv)}),lm&&Mv(df,$0),a0}function s0(df,Wh,gf,Sp){var a0=qu(gf);if(typeof a0!="function")throw Error(o(150));if(gf=a0.call(gf),gf==null)throw Error(o(151));for(var S0=a0=null,g0=Wh,$0=Wh=0,Im=null,Ug=gf.next();g0!==null&&!Ug.done;$0++,Ug=gf.next()){g0.index>$0?(Im=g0,g0=null):Im=g0.sibling;var yv=lp(df,g0,Ug.value,Sp);if(yv===null){g0===null&&(g0=Im);break}m&&g0&&yv.alternate===null&&b(df,g0),Wh=bu(yv,Wh,$0),S0===null?a0=yv:S0.sibling=yv,S0=yv,g0=Im}if(Ug.done)return X(df,g0),lm&&Mv(df,$0),a0;if(g0===null){for(;!Ug.done;$0++,Ug=gf.next())Ug=pp(df,Ug.value,Sp),Ug!==null&&(Wh=bu(Ug,Wh,$0),S0===null?a0=Ug:S0.sibling=Ug,S0=Ug);return lm&&Mv(df,$0),a0}for(g0=el(df,g0);!Ug.done;$0++,Ug=gf.next())Ug=Zp(g0,df,$0,Ug.value,Sp),Ug!==null&&(m&&Ug.alternate!==null&&g0.delete(Ug.key===null?$0:Ug.key),Wh=bu(Ug,Wh,$0),S0===null?a0=Ug:S0.sibling=Ug,S0=Ug);return m&&g0.forEach(function(av){return b(df,av)}),lm&&Mv(df,$0),a0}function xm(df,Wh,gf,Sp){if(typeof gf=="object"&&gf!==null&&gf.type===vu&&gf.key===null&&(gf=gf.props.children),typeof gf=="object"&&gf!==null){switch(gf.$$typeof){case Kl:e:{for(var a0=gf.key,S0=Wh;S0!==null;){if(S0.key===a0){if(a0=gf.type,a0===vu){if(S0.tag===7){X(df,S0.sibling),Wh=jl(S0,gf.props.children),Wh.return=df,df=Wh;break e}}else if(S0.elementType===a0||typeof a0=="object"&&a0!==null&&a0.$$typeof===Wl&&t2(a0)===S0.type){X(df,S0.sibling),Wh=jl(S0,gf.props),Wh.ref=Wv(df,S0,gf),Wh.return=df,df=Wh;break e}X(df,S0);break}else b(df,S0);S0=S0.sibling}gf.type===vu?(Wh=ov(gf.props.children,df.mode,Sp,gf.key),Wh.return=df,df=Wh):(Sp=Fv(gf.type,gf.key,gf.props,null,df.mode,Sp),Sp.ref=Wv(df,Wh,gf),Sp.return=df,df=Sp)}return xd(df);case Al:e:{for(S0=gf.key;Wh!==null;){if(Wh.key===S0)if(Wh.tag===4&&Wh.stateNode.containerInfo===gf.containerInfo&&Wh.stateNode.implementation===gf.implementation){X(df,Wh.sibling),Wh=jl(Wh,gf.children||[]),Wh.return=df,df=Wh;break e}else{X(df,Wh);break}else b(df,Wh);Wh=Wh.sibling}Wh=Py(gf,df.mode,Sp),Wh.return=df,df=Wh}return xd(df);case Wl:return S0=gf._init,xm(df,Wh,S0(gf._payload),Sp)}if(n0(gf))return o0(df,Wh,gf,Sp);if(qu(gf))return s0(df,Wh,gf,Sp);Av(df,gf)}return typeof gf=="string"&&gf!==""||typeof gf=="number"?(gf=""+gf,Wh!==null&&Wh.tag===6?(X(df,Wh.sibling),Wh=jl(Wh,gf),Wh.return=df,df=Wh):(X(df,Wh),Wh=Zv(gf,df.mode,Sp),Wh.return=df,df=Wh),xd(df)):X(df,Wh)}return xm}var N1=r2(!0),T1=r2(!1),wy=Y1(null),Cy=null,Tv=null,B1=null;function n2(){B1=Tv=Cy=null}function i2(m){var b=wy.current;Jg(wy),m._currentValue=b}function Sy(m,b,X){for(;m!==null;){var el=m.alternate;if((m.childLanes&b)!==b?(m.childLanes|=b,el!==null&&(el.childLanes|=b)):el!==null&&(el.childLanes&b)!==b&&(el.childLanes|=b),m===X)break;m=m.return}}function c1(m,b){Cy=m,B1=Tv=null,m=m.dependencies,m!==null&&m.firstContext!==null&&((m.lanes&b)!==0&&(Pd=!0),m.firstContext=null)}function n1(m){var b=m._currentValue;if(B1!==m)if(m={context:m,memoizedValue:b,next:null},Tv===null){if(Cy===null)throw Error(o(308));Tv=m,Cy.dependencies={lanes:0,firstContext:m}}else Tv=Tv.next=m;return b}var J1=null;function $v(m){J1===null?J1=[m]:J1.push(m)}function H2(m,b,X,el){var jl=b.interleaved;return jl===null?(X.next=X,$v(b)):(X.next=jl.next,jl.next=X),b.interleaved=X,H1(m,el)}function H1(m,b){m.lanes|=b;var X=m.alternate;for(X!==null&&(X.lanes|=b),X=m,m=m.return;m!==null;)m.childLanes|=b,X=m.alternate,X!==null&&(X.childLanes|=b),X=m,m=m.return;return X.tag===3?X.stateNode:null}var mv=!1;function o2(m){m.updateQueue={baseState:m.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sm(m,b){m=m.updateQueue,b.updateQueue===m&&(b.updateQueue={baseState:m.baseState,firstBaseUpdate:m.firstBaseUpdate,lastBaseUpdate:m.lastBaseUpdate,shared:m.shared,effects:m.effects})}function um(m,b){return{eventTime:m,lane:b,tag:0,payload:null,callback:null,next:null}}function ev(m,b,X){var el=m.updateQueue;if(el===null)return null;if(el=el.shared,(Kh&2)!==0){var jl=el.pending;return jl===null?b.next=b:(b.next=jl.next,jl.next=b),el.pending=b,H1(m,X)}return jl=el.interleaved,jl===null?(b.next=b,$v(el)):(b.next=jl.next,jl.next=b),el.interleaved=b,H1(m,X)}function qv(m,b,X){if(b=b.updateQueue,b!==null&&(b=b.shared,(X&4194240)!==0)){var el=b.lanes;el&=m.pendingLanes,X|=el,b.lanes=X,Ml(m,X)}}function a2(m,b){var X=m.updateQueue,el=m.alternate;if(el!==null&&(el=el.updateQueue,X===el)){var jl=null,bu=null;if(X=X.firstBaseUpdate,X!==null){do{var xd={eventTime:X.eventTime,lane:X.lane,tag:X.tag,payload:X.payload,callback:X.callback,next:null};bu===null?jl=bu=xd:bu=bu.next=xd,X=X.next}while(X!==null);bu===null?jl=bu=b:bu=bu.next=b}else jl=bu=b;X={baseState:el.baseState,firstBaseUpdate:jl,lastBaseUpdate:bu,shared:el.shared,effects:el.effects},m.updateQueue=X;return}m=X.lastBaseUpdate,m===null?X.firstBaseUpdate=b:m.next=b,X.lastBaseUpdate=b}function s2(m,b,X,el){var jl=m.updateQueue;mv=!1;var bu=jl.firstBaseUpdate,xd=jl.lastBaseUpdate,xh=jl.shared.pending;if(xh!==null){jl.shared.pending=null;var Lh=xh,xf=Lh.next;Lh.next=null,xd===null?bu=xf:xd.next=xf,xd=Lh;var cp=m.alternate;cp!==null&&(cp=cp.updateQueue,xh=cp.lastBaseUpdate,xh!==xd&&(xh===null?cp.firstBaseUpdate=xf:xh.next=xf,cp.lastBaseUpdate=Lh))}if(bu!==null){var pp=jl.baseState;xd=0,cp=xf=Lh=null,xh=bu;do{var lp=xh.lane,Zp=xh.eventTime;if((el&lp)===lp){cp!==null&&(cp=cp.next={eventTime:Zp,lane:0,tag:xh.tag,payload:xh.payload,callback:xh.callback,next:null});e:{var o0=m,s0=xh;switch(lp=b,Zp=X,s0.tag){case 1:if(o0=s0.payload,typeof o0=="function"){pp=o0.call(Zp,pp,lp);break e}pp=o0;break e;case 3:o0.flags=o0.flags&-65537|128;case 0:if(o0=s0.payload,lp=typeof o0=="function"?o0.call(Zp,pp,lp):o0,lp==null)break e;pp=ad({},pp,lp);break e;case 2:mv=!0}}xh.callback!==null&&xh.lane!==0&&(m.flags|=64,lp=jl.effects,lp===null?jl.effects=[xh]:lp.push(xh))}else Zp={eventTime:Zp,lane:lp,tag:xh.tag,payload:xh.payload,callback:xh.callback,next:null},cp===null?(xf=cp=Zp,Lh=pp):cp=cp.next=Zp,xd|=lp;if(xh=xh.next,xh===null){if(xh=jl.shared.pending,xh===null)break;lp=xh,xh=lp.next,lp.next=null,jl.lastBaseUpdate=lp,jl.shared.pending=null}}while(!0);if(cp===null&&(Lh=pp),jl.baseState=Lh,jl.firstBaseUpdate=xf,jl.lastBaseUpdate=cp,b=jl.shared.interleaved,b!==null){jl=b;do xd|=jl.lane,jl=jl.next;while(jl!==b)}else bu===null&&(jl.shared.lanes=0);Lp|=xd,m.lanes=xd,m.memoizedState=pp}}function c3(m,b,X){if(m=b.effects,b.effects=null,m!==null)for(b=0;b<m.length;b++){var el=m[b],jl=el.callback;if(jl!==null){if(el.callback=null,el=X,typeof jl!="function")throw Error(o(191,jl));jl.call(el)}}}var ky={},G1=Y1(ky),_y=Y1(ky),Ey=Y1(ky);function tv(m){if(m===ky)throw Error(o(174));return m}function My(m,b){switch(rm(Ey,b),rm(_y,m),rm(G1,ky),m=b.nodeType,m){case 9:case 11:b=(b=b.documentElement)?b.namespaceURI:hd(null,"");break;default:m=m===8?b.parentNode:b,b=m.namespaceURI||null,m=m.tagName,b=hd(b,m)}Jg(G1),rm(G1,b)}function Yv(){Jg(G1),Jg(_y),Jg(Ey)}function d3(m){tv(Ey.current);var b=tv(G1.current),X=hd(b,m.type);b!==X&&(rm(_y,m),rm(G1,X))}function G2(m){_y.current===m&&(Jg(G1),Jg(_y))}var Kg=Y1(0);function vv(m){for(var b=m;b!==null;){if(b.tag===13){var X=b.memoizedState;if(X!==null&&(X=X.dehydrated,X===null||X.data==="$?"||X.data==="$!"))return b}else if(b.tag===19&&b.memoizedProps.revealOrder!==void 0){if((b.flags&128)!==0)return b}else if(b.child!==null){b.child.return=b,b=b.child;continue}if(b===m)break;for(;b.sibling===null;){if(b.return===null||b.return===m)return null;b=b.return}b.sibling.return=b.return,b=b.sibling}return null}var Kv=[];function l2(){for(var m=0;m<Kv.length;m++)Kv[m]._workInProgressVersionPrimary=null;Kv.length=0}var Ay=El.ReactCurrentDispatcher,rl=El.ReactCurrentBatchConfig,In=0,A=null,v=null,C=null,P=!1,R=!1,F=0,I=0;function B(){throw Error(o(321))}function x(m,b){if(b===null)return!1;for(var X=0;X<b.length&&X<m.length;X++)if(!v1(m[X],b[X]))return!1;return!0}function W(m,b,X,el,jl,bu){if(In=bu,A=b,b.memoizedState=null,b.updateQueue=null,b.lanes=0,Ay.current=m===null||m.memoizedState===null?Ll:nl,m=X(el,jl),R){bu=0;do{if(R=!1,F=0,25<=bu)throw Error(o(301));bu+=1,C=v=null,b.updateQueue=null,Ay.current=ve,m=X(el,jl)}while(R)}if(Ay.current=bl,b=v!==null&&v.next!==null,In=0,C=v=A=null,P=!1,b)throw Error(o(300));return m}function z(){var m=F!==0;return F=0,m}function U(){var m={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return C===null?A.memoizedState=C=m:C=C.next=m,C}function Q(){if(v===null){var m=A.alternate;m=m!==null?m.memoizedState:null}else m=v.next;var b=C===null?A.memoizedState:C.next;if(b!==null)C=b,v=m;else{if(m===null)throw Error(o(310));v=m,m={memoizedState:v.memoizedState,baseState:v.baseState,baseQueue:v.baseQueue,queue:v.queue,next:null},C===null?A.memoizedState=C=m:C=C.next=m}return C}function Z(m,b){return typeof b=="function"?b(m):b}function $(m){var b=Q(),X=b.queue;if(X===null)throw Error(o(311));X.lastRenderedReducer=m;var el=v,jl=el.baseQueue,bu=X.pending;if(bu!==null){if(jl!==null){var xd=jl.next;jl.next=bu.next,bu.next=xd}el.baseQueue=jl=bu,X.pending=null}if(jl!==null){bu=jl.next,el=el.baseState;var xh=xd=null,Lh=null,xf=bu;do{var cp=xf.lane;if((In&cp)===cp)Lh!==null&&(Lh=Lh.next={lane:0,action:xf.action,hasEagerState:xf.hasEagerState,eagerState:xf.eagerState,next:null}),el=xf.hasEagerState?xf.eagerState:m(el,xf.action);else{var pp={lane:cp,action:xf.action,hasEagerState:xf.hasEagerState,eagerState:xf.eagerState,next:null};Lh===null?(xh=Lh=pp,xd=el):Lh=Lh.next=pp,A.lanes|=cp,Lp|=cp}xf=xf.next}while(xf!==null&&xf!==bu);Lh===null?xd=el:Lh.next=xh,v1(el,b.memoizedState)||(Pd=!0),b.memoizedState=el,b.baseState=xd,b.baseQueue=Lh,X.lastRenderedState=el}if(m=X.interleaved,m!==null){jl=m;do bu=jl.lane,A.lanes|=bu,Lp|=bu,jl=jl.next;while(jl!==m)}else jl===null&&(X.lanes=0);return[b.memoizedState,X.dispatch]}function q(m){var b=Q(),X=b.queue;if(X===null)throw Error(o(311));X.lastRenderedReducer=m;var el=X.dispatch,jl=X.pending,bu=b.memoizedState;if(jl!==null){X.pending=null;var xd=jl=jl.next;do bu=m(bu,xd.action),xd=xd.next;while(xd!==jl);v1(bu,b.memoizedState)||(Pd=!0),b.memoizedState=bu,b.baseQueue===null&&(b.baseState=bu),X.lastRenderedState=bu}return[bu,el]}function J(){}function O(m,b){var X=A,el=Q(),jl=b(),bu=!v1(el.memoizedState,jl);if(bu&&(el.memoizedState=jl,Pd=!0),el=el.queue,il(se.bind(null,X,el,m),[m]),el.getSnapshot!==b||bu||C!==null&&C.memoizedState.tag&1){if(X.flags|=2048,jt(9,Y.bind(null,X,el,jl,b),void 0,null),wf===null)throw Error(o(349));(In&30)!==0||j(X,b,jl)}return jl}function j(m,b,X){m.flags|=16384,m={getSnapshot:b,value:X},b=A.updateQueue,b===null?(b={lastEffect:null,stores:null},A.updateQueue=b,b.stores=[m]):(X=b.stores,X===null?b.stores=[m]:X.push(m))}function Y(m,b,X,el){b.value=X,b.getSnapshot=el,nt(b)&&gl(m)}function se(m,b,X){return X(function(){nt(b)&&gl(m)})}function nt(m){var b=m.getSnapshot;m=m.value;try{var X=b();return!v1(m,X)}catch{return!0}}function gl(m){var b=H1(m,1);b!==null&&zg(b,m,1,-1)}function Bn(m){var b=U();return typeof m=="function"&&(m=m()),b.memoizedState=b.baseState=m,m={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Z,lastRenderedState:m},b.queue=m,m=m.dispatch=Iu.bind(null,A,m),[b.memoizedState,m]}function jt(m,b,X,el){return m={tag:m,create:b,destroy:X,deps:el,next:null},b=A.updateQueue,b===null?(b={lastEffect:null,stores:null},A.updateQueue=b,b.lastEffect=m.next=m):(X=b.lastEffect,X===null?b.lastEffect=m.next=m:(el=X.next,X.next=m,m.next=el,b.lastEffect=m)),m}function Pe(){return Q().memoizedState}function ml(m,b,X,el){var jl=U();A.flags|=m,jl.memoizedState=jt(1|b,X,void 0,el===void 0?null:el)}function tl(m,b,X,el){var jl=Q();el=el===void 0?null:el;var bu=void 0;if(v!==null){var xd=v.memoizedState;if(bu=xd.destroy,el!==null&&x(el,xd.deps)){jl.memoizedState=jt(b,X,bu,el);return}}A.flags|=m,jl.memoizedState=jt(1|b,X,bu,el)}function ul(m,b){return ml(8390656,8,m,b)}function il(m,b){return tl(2048,8,m,b)}function sl(m,b){return tl(4,2,m,b)}function vl(m,b){return tl(4,4,m,b)}function yl(m,b){if(typeof b=="function")return m=m(),b(m),function(){b(null)};if(b!=null)return m=m(),b.current=m,function(){b.current=null}}function Fn(m,b,X){return X=X!=null?X.concat([m]):null,tl(4,4,yl.bind(null,b,m),X)}function xl(){}function wl(m,b){var X=Q();b=b===void 0?null:b;var el=X.memoizedState;return el!==null&&b!==null&&x(b,el[1])?el[0]:(X.memoizedState=[m,b],m)}function kl(m,b){var X=Q();b=b===void 0?null:b;var el=X.memoizedState;return el!==null&&b!==null&&x(b,el[1])?el[0]:(m=m(),X.memoizedState=[m,b],m)}function Dl(m,b,X){return(In&21)===0?(m.baseState&&(m.baseState=!1,Pd=!0),m.memoizedState=X):(v1(X,b)||(X=Tl(),A.lanes|=X,Lp|=X,m.baseState=!0),b)}function Ol(m,b){var X=Vl;Vl=X!==0&&4>X?X:4,m(!0);var el=rl.transition;rl.transition={};try{m(!1),b()}finally{Vl=X,rl.transition=el}}function gu(){return Q().memoizedState}function yu(m,b,X){var el=Hg(m);if(X={lane:el,action:X,hasEagerState:!1,eagerState:null,next:null},cl(m))pl(b,X);else if(X=H2(m,b,X,el),X!==null){var jl=ng();zg(X,m,el,jl),it(X,b,el)}}function Iu(m,b,X){var el=Hg(m),jl={lane:el,action:X,hasEagerState:!1,eagerState:null,next:null};if(cl(m))pl(b,jl);else{var bu=m.alternate;if(m.lanes===0&&(bu===null||bu.lanes===0)&&(bu=b.lastRenderedReducer,bu!==null))try{var xd=b.lastRenderedState,xh=bu(xd,X);if(jl.hasEagerState=!0,jl.eagerState=xh,v1(xh,xd)){var Lh=b.interleaved;Lh===null?(jl.next=jl,$v(b)):(jl.next=Lh.next,Lh.next=jl),b.interleaved=jl;return}}catch{}finally{}X=H2(m,b,jl,el),X!==null&&(jl=ng(),zg(X,m,el,jl),it(X,b,el))}}function cl(m){var b=m.alternate;return m===A||b!==null&&b===A}function pl(m,b){R=P=!0;var X=m.pending;X===null?b.next=b:(b.next=X.next,X.next=b),m.pending=b}function it(m,b,X){if((X&4194240)!==0){var el=b.lanes;el&=m.pendingLanes,X|=el,b.lanes=X,Ml(m,X)}}var bl={readContext:n1,useCallback:B,useContext:B,useEffect:B,useImperativeHandle:B,useInsertionEffect:B,useLayoutEffect:B,useMemo:B,useReducer:B,useRef:B,useState:B,useDebugValue:B,useDeferredValue:B,useTransition:B,useMutableSource:B,useSyncExternalStore:B,useId:B,unstable_isNewReconciler:!1},Ll={readContext:n1,useCallback:function(m,b){return U().memoizedState=[m,b===void 0?null:b],m},useContext:n1,useEffect:ul,useImperativeHandle:function(m,b,X){return X=X!=null?X.concat([m]):null,ml(4194308,4,yl.bind(null,b,m),X)},useLayoutEffect:function(m,b){return ml(4194308,4,m,b)},useInsertionEffect:function(m,b){return ml(4,2,m,b)},useMemo:function(m,b){var X=U();return b=b===void 0?null:b,m=m(),X.memoizedState=[m,b],m},useReducer:function(m,b,X){var el=U();return b=X!==void 0?X(b):b,el.memoizedState=el.baseState=b,m={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:m,lastRenderedState:b},el.queue=m,m=m.dispatch=yu.bind(null,A,m),[el.memoizedState,m]},useRef:function(m){var b=U();return m={current:m},b.memoizedState=m},useState:Bn,useDebugValue:xl,useDeferredValue:function(m){return U().memoizedState=m},useTransition:function(){var m=Bn(!1),b=m[0];return m=Ol.bind(null,m[1]),U().memoizedState=m,[b,m]},useMutableSource:function(){},useSyncExternalStore:function(m,b,X){var el=A,jl=U();if(lm){if(X===void 0)throw Error(o(407));X=X()}else{if(X=b(),wf===null)throw Error(o(349));(In&30)!==0||j(el,b,X)}jl.memoizedState=X;var bu={value:X,getSnapshot:b};return jl.queue=bu,ul(se.bind(null,el,bu,m),[m]),el.flags|=2048,jt(9,Y.bind(null,el,bu,X,b),void 0,null),X},useId:function(){var m=U(),b=wf.identifierPrefix;if(lm){var X=X1,el=Z1;X=(el&~(1<<32-Jp(el)-1)).toString(32)+X,b=":"+b+"R"+X,X=F++,0<X&&(b+="H"+X.toString(32)),b+=":"}else X=I++,b=":"+b+"r"+X.toString(32)+":";return m.memoizedState=b},unstable_isNewReconciler:!1},nl={readContext:n1,useCallback:wl,useContext:n1,useEffect:il,useImperativeHandle:Fn,useInsertionEffect:sl,useLayoutEffect:vl,useMemo:kl,useReducer:$,useRef:Pe,useState:function(){return $(Z)},useDebugValue:xl,useDeferredValue:function(m){var b=Q();return Dl(b,v.memoizedState,m)},useTransition:function(){var m=$(Z)[0],b=Q().memoizedState;return[m,b]},useMutableSource:J,useSyncExternalStore:O,useId:gu,unstable_isNewReconciler:!1},ve={readContext:n1,useCallback:wl,useContext:n1,useEffect:il,useImperativeHandle:Fn,useInsertionEffect:sl,useLayoutEffect:vl,useMemo:kl,useReducer:q,useRef:Pe,useState:function(){return q(Z)},useDebugValue:xl,useDeferredValue:function(m){var b=Q();return v===null?b.memoizedState=m:Dl(b,v.memoizedState,m)},useTransition:function(){var m=q(Z)[0],b=Q().memoizedState;return[m,b]},useMutableSource:J,useSyncExternalStore:O,useId:gu,unstable_isNewReconciler:!1};function _t(m,b){if(m&&m.defaultProps){b=ad({},b),m=m.defaultProps;for(var X in m)b[X]===void 0&&(b[X]=m[X]);return b}return b}function ol(m,b,X,el){b=m.memoizedState,X=X(el,b),X=X==null?b:ad({},b,X),m.memoizedState=X,m.lanes===0&&(m.updateQueue.baseState=X)}var dl={isMounted:function(m){return(m=m._reactInternals)?yg(m)===m:!1},enqueueSetState:function(m,b,X){m=m._reactInternals;var el=ng(),jl=Hg(m),bu=um(el,jl);bu.payload=b,X!=null&&(bu.callback=X),b=ev(m,bu,jl),b!==null&&(zg(b,m,jl,el),qv(b,m,jl))},enqueueReplaceState:function(m,b,X){m=m._reactInternals;var el=ng(),jl=Hg(m),bu=um(el,jl);bu.tag=1,bu.payload=b,X!=null&&(bu.callback=X),b=ev(m,bu,jl),b!==null&&(zg(b,m,jl,el),qv(b,m,jl))},enqueueForceUpdate:function(m,b){m=m._reactInternals;var X=ng(),el=Hg(m),jl=um(X,el);jl.tag=2,b!=null&&(jl.callback=b),b=ev(m,jl,el),b!==null&&(zg(b,m,el,X),qv(b,m,el))}};function Il(m,b,X,el,jl,bu,xd){return m=m.stateNode,typeof m.shouldComponentUpdate=="function"?m.shouldComponentUpdate(el,bu,xd):b.prototype&&b.prototype.isPureReactComponent?!ty(X,el)||!ty(jl,bu):!0}function ql(m,b,X){var el=!1,jl=r1,bu=b.contextType;return typeof bu=="object"&&bu!==null?bu=n1(bu):(jl=Bm(b)?K1:jm.current,el=b.contextTypes,bu=(el=el!=null)?kv(m,jl):r1),b=new b(X,bu),m.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=dl,m.stateNode=b,b._reactInternals=m,el&&(m=m.stateNode,m.__reactInternalMemoizedUnmaskedChildContext=jl,m.__reactInternalMemoizedMaskedChildContext=bu),b}function Zl(m,b,X,el){m=b.state,typeof b.componentWillReceiveProps=="function"&&b.componentWillReceiveProps(X,el),typeof b.UNSAFE_componentWillReceiveProps=="function"&&b.UNSAFE_componentWillReceiveProps(X,el),b.state!==m&&dl.enqueueReplaceState(b,b.state,null)}function Bu(m,b,X,el){var jl=m.stateNode;jl.props=X,jl.state=m.memoizedState,jl.refs={},o2(m);var bu=b.contextType;typeof bu=="object"&&bu!==null?jl.context=n1(bu):(bu=Bm(b)?K1:jm.current,jl.context=kv(m,bu)),jl.state=m.memoizedState,bu=b.getDerivedStateFromProps,typeof bu=="function"&&(ol(m,b,bu,X),jl.state=m.memoizedState),typeof b.getDerivedStateFromProps=="function"||typeof jl.getSnapshotBeforeUpdate=="function"||typeof jl.UNSAFE_componentWillMount!="function"&&typeof jl.componentWillMount!="function"||(b=jl.state,typeof jl.componentWillMount=="function"&&jl.componentWillMount(),typeof jl.UNSAFE_componentWillMount=="function"&&jl.UNSAFE_componentWillMount(),b!==jl.state&&dl.enqueueReplaceState(jl,jl.state,null),s2(m,X,jl,el),jl.state=m.memoizedState),typeof jl.componentDidMount=="function"&&(m.flags|=4194308)}function Ju(m,b){try{var X="",el=b;do X+=oh(el),el=el.return;while(el);var jl=X}catch(bu){jl=`
Error generating stack: `+bu.message+`
`+bu.stack}return{value:m,source:b,stack:jl,digest:null}}function yd(m,b,X){return{value:m,source:null,stack:X??null,digest:b??null}}function Hd(m,b){try{console.error(b.value)}catch(X){setTimeout(function(){throw X})}}var Rd=typeof WeakMap=="function"?WeakMap:Map;function Ed(m,b,X){X=um(-1,X),X.tag=3,X.payload={element:null};var el=b.value;return X.callback=function(){r0||(r0=!0,Fg=el),Hd(m,b)},X}function _u(m,b,X){X=um(-1,X),X.tag=3;var el=m.type.getDerivedStateFromError;if(typeof el=="function"){var jl=b.value;X.payload=function(){return el(jl)},X.callback=function(){Hd(m,b)}}var bu=m.stateNode;return bu!==null&&typeof bu.componentDidCatch=="function"&&(X.callback=function(){Hd(m,b),typeof el!="function"&&(pg===null?pg=new Set([this]):pg.add(this));var xd=b.stack;this.componentDidCatch(b.value,{componentStack:xd!==null?xd:""})}),X}function Nu(m,b,X){var el=m.pingCache;if(el===null){el=m.pingCache=new Rd;var jl=new Set;el.set(b,jl)}else jl=el.get(b),jl===void 0&&(jl=new Set,el.set(b,jl));jl.has(X)||(jl.add(X),m=F1.bind(null,m,b,X),b.then(m,m))}function Gl(m){do{var b;if((b=m.tag===13)&&(b=m.memoizedState,b=b!==null?b.dehydrated!==null:!0),b)return m;m=m.return}while(m!==null);return null}function rd(m,b,X,el,jl){return(m.mode&1)===0?(m===b?m.flags|=65536:(m.flags|=128,X.flags|=131072,X.flags&=-52805,X.tag===1&&(X.alternate===null?X.tag=17:(b=um(-1,1),b.tag=2,ev(X,b,1))),X.lanes|=1),m):(m.flags|=65536,m.lanes=jl,m)}var Sd=El.ReactCurrentOwner,Pd=!1;function Ud(m,b,X,el){b.child=m===null?T1(b,null,X,el):N1(b,m.child,X,el)}function $d(m,b,X,el,jl){X=X.render;var bu=b.ref;return c1(b,jl),el=W(m,b,X,el,bu,jl),X=z(),m!==null&&!Pd?(b.updateQueue=m.updateQueue,b.flags&=-2053,m.lanes&=~jl,Fd(m,b,jl)):(lm&&X&&yy(b),b.flags|=1,Ud(m,b,el,jl),b.child)}function th(m,b,X,el,jl){if(m===null){var bu=X.type;return typeof bu=="function"&&!Fy(bu)&&bu.defaultProps===void 0&&X.compare===null&&X.defaultProps===void 0?(b.tag=15,b.type=bu,sh(m,b,bu,el,jl)):(m=Fv(X.type,null,el,b,b.mode,jl),m.ref=b.ref,m.return=b,b.child=m)}if(bu=m.child,(m.lanes&jl)===0){var xd=bu.memoizedProps;if(X=X.compare,X=X!==null?X:ty,X(xd,el)&&m.ref===b.ref)return Fd(m,b,jl)}return b.flags|=1,m=iv(bu,el),m.ref=b.ref,m.return=b,b.child=m}function sh(m,b,X,el,jl){if(m!==null){var bu=m.memoizedProps;if(ty(bu,el)&&m.ref===b.ref)if(Pd=!1,b.pendingProps=el=bu,(m.lanes&jl)!==0)(m.flags&131072)!==0&&(Pd=!0);else return b.lanes=m.lanes,Fd(m,b,jl)}return Yd(m,b,X,el,jl)}function ah(m,b,X){var el=b.pendingProps,jl=el.children,bu=m!==null?m.memoizedState:null;if(el.mode==="hidden")if((b.mode&1)===0)b.memoizedState={baseLanes:0,cachePool:null,transitions:null},rm(t0,zf),zf|=X;else{if((X&1073741824)===0)return m=bu!==null?bu.baseLanes|X:X,b.lanes=b.childLanes=1073741824,b.memoizedState={baseLanes:m,cachePool:null,transitions:null},b.updateQueue=null,rm(t0,zf),zf|=m,null;b.memoizedState={baseLanes:0,cachePool:null,transitions:null},el=bu!==null?bu.baseLanes:X,rm(t0,zf),zf|=el}else bu!==null?(el=bu.baseLanes|X,b.memoizedState=null):el=X,rm(t0,zf),zf|=el;return Ud(m,b,jl,X),b.child}function Ah(m,b){var X=b.ref;(m===null&&X!==null||m!==null&&m.ref!==X)&&(b.flags|=512,b.flags|=2097152)}function Yd(m,b,X,el,jl){var bu=Bm(X)?K1:jm.current;return bu=kv(b,bu),c1(b,jl),X=W(m,b,X,el,bu,jl),el=z(),m!==null&&!Pd?(b.updateQueue=m.updateQueue,b.flags&=-2053,m.lanes&=~jl,Fd(m,b,jl)):(lm&&el&&yy(b),b.flags|=1,Ud(m,b,X,jl),b.child)}function Ph(m,b,X,el,jl){if(Bm(X)){var bu=!0;Qy(b)}else bu=!1;if(c1(b,jl),b.stateNode===null)Nd(m,b),ql(b,X,el),Bu(b,X,el,jl),el=!0;else if(m===null){var xd=b.stateNode,xh=b.memoizedProps;xd.props=xh;var Lh=xd.context,xf=X.contextType;typeof xf=="object"&&xf!==null?xf=n1(xf):(xf=Bm(X)?K1:jm.current,xf=kv(b,xf));var cp=X.getDerivedStateFromProps,pp=typeof cp=="function"||typeof xd.getSnapshotBeforeUpdate=="function";pp||typeof xd.UNSAFE_componentWillReceiveProps!="function"&&typeof xd.componentWillReceiveProps!="function"||(xh!==el||Lh!==xf)&&Zl(b,xd,el,xf),mv=!1;var lp=b.memoizedState;xd.state=lp,s2(b,el,xd,jl),Lh=b.memoizedState,xh!==el||lp!==Lh||Um.current||mv?(typeof cp=="function"&&(ol(b,X,cp,el),Lh=b.memoizedState),(xh=mv||Il(b,X,xh,el,lp,Lh,xf))?(pp||typeof xd.UNSAFE_componentWillMount!="function"&&typeof xd.componentWillMount!="function"||(typeof xd.componentWillMount=="function"&&xd.componentWillMount(),typeof xd.UNSAFE_componentWillMount=="function"&&xd.UNSAFE_componentWillMount()),typeof xd.componentDidMount=="function"&&(b.flags|=4194308)):(typeof xd.componentDidMount=="function"&&(b.flags|=4194308),b.memoizedProps=el,b.memoizedState=Lh),xd.props=el,xd.state=Lh,xd.context=xf,el=xh):(typeof xd.componentDidMount=="function"&&(b.flags|=4194308),el=!1)}else{xd=b.stateNode,Sm(m,b),xh=b.memoizedProps,xf=b.type===b.elementType?xh:_t(b.type,xh),xd.props=xf,pp=b.pendingProps,lp=xd.context,Lh=X.contextType,typeof Lh=="object"&&Lh!==null?Lh=n1(Lh):(Lh=Bm(X)?K1:jm.current,Lh=kv(b,Lh));var Zp=X.getDerivedStateFromProps;(cp=typeof Zp=="function"||typeof xd.getSnapshotBeforeUpdate=="function")||typeof xd.UNSAFE_componentWillReceiveProps!="function"&&typeof xd.componentWillReceiveProps!="function"||(xh!==pp||lp!==Lh)&&Zl(b,xd,el,Lh),mv=!1,lp=b.memoizedState,xd.state=lp,s2(b,el,xd,jl);var o0=b.memoizedState;xh!==pp||lp!==o0||Um.current||mv?(typeof Zp=="function"&&(ol(b,X,Zp,el),o0=b.memoizedState),(xf=mv||Il(b,X,xf,el,lp,o0,Lh)||!1)?(cp||typeof xd.UNSAFE_componentWillUpdate!="function"&&typeof xd.componentWillUpdate!="function"||(typeof xd.componentWillUpdate=="function"&&xd.componentWillUpdate(el,o0,Lh),typeof xd.UNSAFE_componentWillUpdate=="function"&&xd.UNSAFE_componentWillUpdate(el,o0,Lh)),typeof xd.componentDidUpdate=="function"&&(b.flags|=4),typeof xd.getSnapshotBeforeUpdate=="function"&&(b.flags|=1024)):(typeof xd.componentDidUpdate!="function"||xh===m.memoizedProps&&lp===m.memoizedState||(b.flags|=4),typeof xd.getSnapshotBeforeUpdate!="function"||xh===m.memoizedProps&&lp===m.memoizedState||(b.flags|=1024),b.memoizedProps=el,b.memoizedState=o0),xd.props=el,xd.state=o0,xd.context=Lh,el=xf):(typeof xd.componentDidUpdate!="function"||xh===m.memoizedProps&&lp===m.memoizedState||(b.flags|=4),typeof xd.getSnapshotBeforeUpdate!="function"||xh===m.memoizedProps&&lp===m.memoizedState||(b.flags|=1024),el=!1)}return jh(m,b,X,el,bu,jl)}function jh(m,b,X,el,jl,bu){Ah(m,b);var xd=(b.flags&128)!==0;if(!el&&!xd)return jl&&a3(b,X,!1),Fd(m,b,bu);el=b.stateNode,Sd.current=b;var xh=xd&&typeof X.getDerivedStateFromError!="function"?null:el.render();return b.flags|=1,m!==null&&xd?(b.child=N1(b,m.child,null,bu),b.child=N1(b,null,xh,bu)):Ud(m,b,xh,bu),b.memoizedState=el.state,jl&&a3(b,X,!0),b.child}function Th(m){var b=m.stateNode;b.pendingContext?i3(m,b.pendingContext,b.pendingContext!==b.context):b.context&&i3(m,b.context,!1),My(m,b.containerInfo)}function Xh(m,b,X,el,jl){return Q1(),e2(jl),b.flags|=256,Ud(m,b,X,el),b.child}var Pu={dehydrated:null,treeContext:null,retryLane:0};function sd(m){return{baseLanes:m,cachePool:null,transitions:null}}function _l(m,b,X){var el=b.pendingProps,jl=Kg.current,bu=!1,xd=(b.flags&128)!==0,xh;if((xh=xd)||(xh=m!==null&&m.memoizedState===null?!1:(jl&2)!==0),xh?(bu=!0,b.flags&=-129):(m===null||m.memoizedState!==null)&&(jl|=1),rm(Kg,jl&1),m===null)return Vv(b),m=b.memoizedState,m!==null&&(m=m.dehydrated,m!==null)?((b.mode&1)===0?b.lanes=1:m.data==="$!"?b.lanes=8:b.lanes=1073741824,null):(xd=el.children,m=el.fallback,bu?(el=b.mode,bu=b.child,xd={mode:"hidden",children:xd},(el&1)===0&&bu!==null?(bu.childLanes=0,bu.pendingProps=xd):bu=i1(xd,el,0,null),m=ov(m,el,X,null),bu.return=b,m.return=b,bu.sibling=m,b.child=bu,b.child.memoizedState=sd(X),b.memoizedState=Pu,m):Ul(b,xd));if(jl=m.memoizedState,jl!==null&&(xh=jl.dehydrated,xh!==null))return Hu(m,b,xd,el,xh,jl,X);if(bu){bu=el.fallback,xd=b.mode,jl=m.child,xh=jl.sibling;var Lh={mode:"hidden",children:el.children};return(xd&1)===0&&b.child!==jl?(el=b.child,el.childLanes=0,el.pendingProps=Lh,b.deletions=null):(el=iv(jl,Lh),el.subtreeFlags=jl.subtreeFlags&14680064),xh!==null?bu=iv(xh,bu):(bu=ov(bu,xd,X,null),bu.flags|=2),bu.return=b,el.return=b,el.sibling=bu,b.child=el,el=bu,bu=b.child,xd=m.child.memoizedState,xd=xd===null?sd(X):{baseLanes:xd.baseLanes|X,cachePool:null,transitions:xd.transitions},bu.memoizedState=xd,bu.childLanes=m.childLanes&~X,b.memoizedState=Pu,el}return bu=m.child,m=bu.sibling,el=iv(bu,{mode:"visible",children:el.children}),(b.mode&1)===0&&(el.lanes=X),el.return=b,el.sibling=null,m!==null&&(X=b.deletions,X===null?(b.deletions=[m],b.flags|=16):X.push(m)),b.child=el,b.memoizedState=null,el}function Ul(m,b){return b=i1({mode:"visible",children:b},m.mode,0,null),b.return=m,m.child=b}function Jl(m,b,X,el){return el!==null&&e2(el),N1(b,m.child,null,X),m=Ul(b,b.pendingProps.children),m.flags|=2,b.memoizedState=null,m}function Hu(m,b,X,el,jl,bu,xd){if(X)return b.flags&256?(b.flags&=-257,el=yd(Error(o(422))),Jl(m,b,xd,el)):b.memoizedState!==null?(b.child=m.child,b.flags|=128,null):(bu=el.fallback,jl=b.mode,el=i1({mode:"visible",children:el.children},jl,0,null),bu=ov(bu,jl,xd,null),bu.flags|=2,el.return=b,bu.return=b,el.sibling=bu,b.child=el,(b.mode&1)!==0&&N1(b,m.child,null,xd),b.child.memoizedState=sd(xd),b.memoizedState=Pu,bu);if((b.mode&1)===0)return Jl(m,b,xd,null);if(jl.data==="$!"){if(el=jl.nextSibling&&jl.nextSibling.dataset,el)var xh=el.dgst;return el=xh,bu=Error(o(419)),el=yd(bu,el,void 0),Jl(m,b,xd,el)}if(xh=(xd&m.childLanes)!==0,Pd||xh){if(el=wf,el!==null){switch(xd&-xd){case 4:jl=2;break;case 16:jl=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:jl=32;break;case 536870912:jl=268435456;break;default:jl=0}jl=(jl&(el.suspendedLanes|xd))!==0?0:jl,jl!==0&&jl!==bu.retryLane&&(bu.retryLane=jl,H1(m,jl),zg(el,m,jl,-1))}return Lm(),el=yd(Error(o(421))),Jl(m,b,xd,el)}return jl.data==="$?"?(b.flags|=128,b.child=m.child,b=u2.bind(null,m),jl._reactRetry=b,null):(m=bu.treeContext,ym=E1(jl.nextSibling),Wm=b,lm=!0,b1=null,m!==null&&(u1[x1++]=Z1,u1[x1++]=X1,u1[x1++]=Ev,Z1=m.id,X1=m.overflow,Ev=b),b=Ul(b,el.children),b.flags|=4096,b)}function Ku(m,b,X){m.lanes|=b;var el=m.alternate;el!==null&&(el.lanes|=b),Sy(m.return,b,X)}function fd(m,b,X,el,jl){var bu=m.memoizedState;bu===null?m.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:el,tail:X,tailMode:jl}:(bu.isBackwards=b,bu.rendering=null,bu.renderingStartTime=0,bu.last=el,bu.tail=X,bu.tailMode=jl)}function bd(m,b,X){var el=b.pendingProps,jl=el.revealOrder,bu=el.tail;if(Ud(m,b,el.children,X),el=Kg.current,(el&2)!==0)el=el&1|2,b.flags|=128;else{if(m!==null&&(m.flags&128)!==0)e:for(m=b.child;m!==null;){if(m.tag===13)m.memoizedState!==null&&Ku(m,X,b);else if(m.tag===19)Ku(m,X,b);else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===b)break e;for(;m.sibling===null;){if(m.return===null||m.return===b)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}el&=1}if(rm(Kg,el),(b.mode&1)===0)b.memoizedState=null;else switch(jl){case"forwards":for(X=b.child,jl=null;X!==null;)m=X.alternate,m!==null&&vv(m)===null&&(jl=X),X=X.sibling;X=jl,X===null?(jl=b.child,b.child=null):(jl=X.sibling,X.sibling=null),fd(b,!1,jl,X,bu);break;case"backwards":for(X=null,jl=b.child,b.child=null;jl!==null;){if(m=jl.alternate,m!==null&&vv(m)===null){b.child=jl;break}m=jl.sibling,jl.sibling=X,X=jl,jl=m}fd(b,!0,X,null,bu);break;case"together":fd(b,!1,null,null,void 0);break;default:b.memoizedState=null}return b.child}function Nd(m,b){(b.mode&1)===0&&m!==null&&(m.alternate=null,b.alternate=null,b.flags|=2)}function Fd(m,b,X){if(m!==null&&(b.dependencies=m.dependencies),Lp|=b.lanes,(X&b.childLanes)===0)return null;if(m!==null&&b.child!==m.child)throw Error(o(153));if(b.child!==null){for(m=b.child,X=iv(m,m.pendingProps),b.child=X,X.return=b;m.sibling!==null;)m=m.sibling,X=X.sibling=iv(m,m.pendingProps),X.return=b;X.sibling=null}return b.child}function zd(m,b,X){switch(b.tag){case 3:Th(b),Q1();break;case 5:d3(b);break;case 1:Bm(b.type)&&Qy(b);break;case 4:My(b,b.stateNode.containerInfo);break;case 10:var el=b.type._context,jl=b.memoizedProps.value;rm(wy,el._currentValue),el._currentValue=jl;break;case 13:if(el=b.memoizedState,el!==null)return el.dehydrated!==null?(rm(Kg,Kg.current&1),b.flags|=128,null):(X&b.child.childLanes)!==0?_l(m,b,X):(rm(Kg,Kg.current&1),m=Fd(m,b,X),m!==null?m.sibling:null);rm(Kg,Kg.current&1);break;case 19:if(el=(X&b.childLanes)!==0,(m.flags&128)!==0){if(el)return bd(m,b,X);b.flags|=128}if(jl=b.memoizedState,jl!==null&&(jl.rendering=null,jl.tail=null,jl.lastEffect=null),rm(Kg,Kg.current),el)break;return null;case 22:case 23:return b.lanes=0,ah(m,b,X)}return Fd(m,b,X)}var lh,hh,gh,Zh;lh=function(m,b){for(var X=b.child;X!==null;){if(X.tag===5||X.tag===6)m.appendChild(X.stateNode);else if(X.tag!==4&&X.child!==null){X.child.return=X,X=X.child;continue}if(X===b)break;for(;X.sibling===null;){if(X.return===null||X.return===b)return;X=X.return}X.sibling.return=X.return,X=X.sibling}},hh=function(){},gh=function(m,b,X,el){var jl=m.memoizedProps;if(jl!==el){m=b.stateNode,tv(G1.current);var bu=null;switch(X){case"input":jl=Fp(m,jl),el=Fp(m,el),bu=[];break;case"select":jl=ad({},jl,{value:void 0}),el=ad({},el,{value:void 0}),bu=[];break;case"textarea":jl=G0(m,jl),el=G0(m,el),bu=[];break;default:typeof jl.onClick!="function"&&typeof el.onClick=="function"&&(m.onclick=py)}sp(X,el);var xd;X=null;for(xf in jl)if(!el.hasOwnProperty(xf)&&jl.hasOwnProperty(xf)&&jl[xf]!=null)if(xf==="style"){var xh=jl[xf];for(xd in xh)xh.hasOwnProperty(xd)&&(X||(X={}),X[xd]="")}else xf!=="dangerouslySetInnerHTML"&&xf!=="children"&&xf!=="suppressContentEditableWarning"&&xf!=="suppressHydrationWarning"&&xf!=="autoFocus"&&(c.hasOwnProperty(xf)?bu||(bu=[]):(bu=bu||[]).push(xf,null));for(xf in el){var Lh=el[xf];if(xh=jl?.[xf],el.hasOwnProperty(xf)&&Lh!==xh&&(Lh!=null||xh!=null))if(xf==="style")if(xh){for(xd in xh)!xh.hasOwnProperty(xd)||Lh&&Lh.hasOwnProperty(xd)||(X||(X={}),X[xd]="");for(xd in Lh)Lh.hasOwnProperty(xd)&&xh[xd]!==Lh[xd]&&(X||(X={}),X[xd]=Lh[xd])}else X||(bu||(bu=[]),bu.push(xf,X)),X=Lh;else xf==="dangerouslySetInnerHTML"?(Lh=Lh?Lh.__html:void 0,xh=xh?xh.__html:void 0,Lh!=null&&xh!==Lh&&(bu=bu||[]).push(xf,Lh)):xf==="children"?typeof Lh!="string"&&typeof Lh!="number"||(bu=bu||[]).push(xf,""+Lh):xf!=="suppressContentEditableWarning"&&xf!=="suppressHydrationWarning"&&(c.hasOwnProperty(xf)?(Lh!=null&&xf==="onScroll"&&sm("scroll",m),bu||xh===Lh||(bu=[])):(bu=bu||[]).push(xf,Lh))}X&&(bu=bu||[]).push("style",X);var xf=bu;(b.updateQueue=xf)&&(b.flags|=4)}},Zh=function(m,b,X,el){X!==el&&(b.flags|=4)};function yf(m,b){if(!lm)switch(m.tailMode){case"hidden":b=m.tail;for(var X=null;b!==null;)b.alternate!==null&&(X=b),b=b.sibling;X===null?m.tail=null:X.sibling=null;break;case"collapsed":X=m.tail;for(var el=null;X!==null;)X.alternate!==null&&(el=X),X=X.sibling;el===null?b||m.tail===null?m.tail=null:m.tail.sibling=null:el.sibling=null}}function Pf(m){var b=m.alternate!==null&&m.alternate.child===m.child,X=0,el=0;if(b)for(var jl=m.child;jl!==null;)X|=jl.lanes|jl.childLanes,el|=jl.subtreeFlags&14680064,el|=jl.flags&14680064,jl.return=m,jl=jl.sibling;else for(jl=m.child;jl!==null;)X|=jl.lanes|jl.childLanes,el|=jl.subtreeFlags,el|=jl.flags,jl.return=m,jl=jl.sibling;return m.subtreeFlags|=el,m.childLanes=X,b}function jf(m,b,X){var el=b.pendingProps;switch(gv(b),b.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pf(b),null;case 1:return Bm(b.type)&&Hm(),Pf(b),null;case 3:return el=b.stateNode,Yv(),Jg(Um),Jg(jm),l2(),el.pendingContext&&(el.context=el.pendingContext,el.pendingContext=null),(m===null||m.child===null)&&(Uv(b)?b.flags|=4:m===null||m.memoizedState.isDehydrated&&(b.flags&256)===0||(b.flags|=1024,b1!==null&&(eg(b1),b1=null))),hh(m,b),Pf(b),null;case 5:G2(b);var jl=tv(Ey.current);if(X=b.type,m!==null&&b.stateNode!=null)gh(m,b,X,el,jl),m.ref!==b.ref&&(b.flags|=512,b.flags|=2097152);else{if(!el){if(b.stateNode===null)throw Error(o(166));return Pf(b),null}if(m=tv(G1.current),Uv(b)){el=b.stateNode,X=b.type;var bu=b.memoizedProps;switch(el[O1]=b,el[Bv]=bu,m=(b.mode&1)!==0,X){case"dialog":sm("cancel",el),sm("close",el);break;case"iframe":case"object":case"embed":sm("load",el);break;case"video":case"audio":for(jl=0;jl<hv.length;jl++)sm(hv[jl],el);break;case"source":sm("error",el);break;case"img":case"image":case"link":sm("error",el),sm("load",el);break;case"details":sm("toggle",el);break;case"input":_0(el,bu),sm("invalid",el);break;case"select":el._wrapperState={wasMultiple:!!bu.multiple},sm("invalid",el);break;case"textarea":X0(el,bu),sm("invalid",el)}sp(X,bu),jl=null;for(var xd in bu)if(bu.hasOwnProperty(xd)){var xh=bu[xd];xd==="children"?typeof xh=="string"?el.textContent!==xh&&(bu.suppressHydrationWarning!==!0&&fy(el.textContent,xh,m),jl=["children",xh]):typeof xh=="number"&&el.textContent!==""+xh&&(bu.suppressHydrationWarning!==!0&&fy(el.textContent,xh,m),jl=["children",""+xh]):c.hasOwnProperty(xd)&&xh!=null&&xd==="onScroll"&&sm("scroll",el)}switch(X){case"input":kf(el),E0(el,bu,!0);break;case"textarea":kf(el),Gg(el);break;case"select":case"option":break;default:typeof bu.onClick=="function"&&(el.onclick=py)}el=jl,b.updateQueue=el,el!==null&&(b.flags|=4)}else{xd=jl.nodeType===9?jl:jl.ownerDocument,m==="http://www.w3.org/1999/xhtml"&&(m=_f(X)),m==="http://www.w3.org/1999/xhtml"?X==="script"?(m=xd.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild)):typeof el.is=="string"?m=xd.createElement(X,{is:el.is}):(m=xd.createElement(X),X==="select"&&(xd=m,el.multiple?xd.multiple=!0:el.size&&(xd.size=el.size))):m=xd.createElementNS(m,X),m[O1]=b,m[Bv]=el,lh(m,b,!1,!1),b.stateNode=m;e:{switch(xd=jp(X,el),X){case"dialog":sm("cancel",m),sm("close",m),jl=el;break;case"iframe":case"object":case"embed":sm("load",m),jl=el;break;case"video":case"audio":for(jl=0;jl<hv.length;jl++)sm(hv[jl],m);jl=el;break;case"source":sm("error",m),jl=el;break;case"img":case"image":case"link":sm("error",m),sm("load",m),jl=el;break;case"details":sm("toggle",m),jl=el;break;case"input":_0(m,el),jl=Fp(m,el),sm("invalid",m);break;case"option":jl=el;break;case"select":m._wrapperState={wasMultiple:!!el.multiple},jl=ad({},el,{value:void 0}),sm("invalid",m);break;case"textarea":X0(m,el),jl=G0(m,el),sm("invalid",m);break;default:jl=el}sp(X,jl),xh=jl;for(bu in xh)if(xh.hasOwnProperty(bu)){var Lh=xh[bu];bu==="style"?hp(m,Lh):bu==="dangerouslySetInnerHTML"?(Lh=Lh?Lh.__html:void 0,Lh!=null&&fh(m,Lh)):bu==="children"?typeof Lh=="string"?(X!=="textarea"||Lh!=="")&&Mf(m,Lh):typeof Lh=="number"&&Mf(m,""+Lh):bu!=="suppressContentEditableWarning"&&bu!=="suppressHydrationWarning"&&bu!=="autoFocus"&&(c.hasOwnProperty(bu)?Lh!=null&&bu==="onScroll"&&sm("scroll",m):Lh!=null&&Ft(m,bu,Lh,xd))}switch(X){case"input":kf(m),E0(m,el,!1);break;case"textarea":kf(m),Gg(m);break;case"option":el.value!=null&&m.setAttribute("value",""+yh(el.value));break;case"select":m.multiple=!!el.multiple,bu=el.value,bu!=null?Z0(m,!!el.multiple,bu,!1):el.defaultValue!=null&&Z0(m,!!el.multiple,el.defaultValue,!0);break;default:typeof jl.onClick=="function"&&(m.onclick=py)}switch(X){case"button":case"input":case"select":case"textarea":el=!!el.autoFocus;break e;case"img":el=!0;break e;default:el=!1}}el&&(b.flags|=4)}b.ref!==null&&(b.flags|=512,b.flags|=2097152)}return Pf(b),null;case 6:if(m&&b.stateNode!=null)Zh(m,b,m.memoizedProps,el);else{if(typeof el!="string"&&b.stateNode===null)throw Error(o(166));if(X=tv(Ey.current),tv(G1.current),Uv(b)){if(el=b.stateNode,X=b.memoizedProps,el[O1]=b,(bu=el.nodeValue!==X)&&(m=Wm,m!==null))switch(m.tag){case 3:fy(el.nodeValue,X,(m.mode&1)!==0);break;case 5:m.memoizedProps.suppressHydrationWarning!==!0&&fy(el.nodeValue,X,(m.mode&1)!==0)}bu&&(b.flags|=4)}else el=(X.nodeType===9?X:X.ownerDocument).createTextNode(el),el[O1]=b,b.stateNode=el}return Pf(b),null;case 13:if(Jg(Kg),el=b.memoizedState,m===null||m.memoizedState!==null&&m.memoizedState.dehydrated!==null){if(lm&&ym!==null&&(b.mode&1)!==0&&(b.flags&128)===0)B2(),Q1(),b.flags|=98560,bu=!1;else if(bu=Uv(b),el!==null&&el.dehydrated!==null){if(m===null){if(!bu)throw Error(o(318));if(bu=b.memoizedState,bu=bu!==null?bu.dehydrated:null,!bu)throw Error(o(317));bu[O1]=b}else Q1(),(b.flags&128)===0&&(b.memoizedState=null),b.flags|=4;Pf(b),bu=!1}else b1!==null&&(eg(b1),b1=null),bu=!0;if(!bu)return b.flags&65536?b:null}return(b.flags&128)!==0?(b.lanes=X,b):(el=el!==null,el!==(m!==null&&m.memoizedState!==null)&&el&&(b.child.flags|=8192,(b.mode&1)!==0&&(m===null||(Kg.current&1)!==0?ap===0&&(ap=3):Lm())),b.updateQueue!==null&&(b.flags|=4),Pf(b),null);case 4:return Yv(),hh(m,b),m===null&&cy(b.stateNode.containerInfo),Pf(b),null;case 10:return i2(b.type._context),Pf(b),null;case 17:return Bm(b.type)&&Hm(),Pf(b),null;case 19:if(Jg(Kg),bu=b.memoizedState,bu===null)return Pf(b),null;if(el=(b.flags&128)!==0,xd=bu.rendering,xd===null)if(el)yf(bu,!1);else{if(ap!==0||m!==null&&(m.flags&128)!==0)for(m=b.child;m!==null;){if(xd=vv(m),xd!==null){for(b.flags|=128,yf(bu,!1),el=xd.updateQueue,el!==null&&(b.updateQueue=el,b.flags|=4),b.subtreeFlags=0,el=X,X=b.child;X!==null;)bu=X,m=el,bu.flags&=14680066,xd=bu.alternate,xd===null?(bu.childLanes=0,bu.lanes=m,bu.child=null,bu.subtreeFlags=0,bu.memoizedProps=null,bu.memoizedState=null,bu.updateQueue=null,bu.dependencies=null,bu.stateNode=null):(bu.childLanes=xd.childLanes,bu.lanes=xd.lanes,bu.child=xd.child,bu.subtreeFlags=0,bu.deletions=null,bu.memoizedProps=xd.memoizedProps,bu.memoizedState=xd.memoizedState,bu.updateQueue=xd.updateQueue,bu.type=xd.type,m=xd.dependencies,bu.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext}),X=X.sibling;return rm(Kg,Kg.current&1|2),b.child}m=m.sibling}bu.tail!==null&&Of()>Rg&&(b.flags|=128,el=!0,yf(bu,!1),b.lanes=4194304)}else{if(!el)if(m=vv(xd),m!==null){if(b.flags|=128,el=!0,X=m.updateQueue,X!==null&&(b.updateQueue=X,b.flags|=4),yf(bu,!0),bu.tail===null&&bu.tailMode==="hidden"&&!xd.alternate&&!lm)return Pf(b),null}else 2*Of()-bu.renderingStartTime>Rg&&X!==1073741824&&(b.flags|=128,el=!0,yf(bu,!1),b.lanes=4194304);bu.isBackwards?(xd.sibling=b.child,b.child=xd):(X=bu.last,X!==null?X.sibling=xd:b.child=xd,bu.last=xd)}return bu.tail!==null?(b=bu.tail,bu.rendering=b,bu.tail=b.sibling,bu.renderingStartTime=Of(),b.sibling=null,X=Kg.current,rm(Kg,el?X&1|2:X&1),b):(Pf(b),null);case 22:case 23:return Mm(),el=b.memoizedState!==null,m!==null&&m.memoizedState!==null!==el&&(b.flags|=8192),el&&(b.mode&1)!==0?(zf&1073741824)!==0&&(Pf(b),b.subtreeFlags&6&&(b.flags|=8192)):Pf(b),null;case 24:return null;case 25:return null}throw Error(o(156,b.tag))}function tp(m,b){switch(gv(b),b.tag){case 1:return Bm(b.type)&&Hm(),m=b.flags,m&65536?(b.flags=m&-65537|128,b):null;case 3:return Yv(),Jg(Um),Jg(jm),l2(),m=b.flags,(m&65536)!==0&&(m&128)===0?(b.flags=m&-65537|128,b):null;case 5:return G2(b),null;case 13:if(Jg(Kg),m=b.memoizedState,m!==null&&m.dehydrated!==null){if(b.alternate===null)throw Error(o(340));Q1()}return m=b.flags,m&65536?(b.flags=m&-65537|128,b):null;case 19:return Jg(Kg),null;case 4:return Yv(),null;case 10:return i2(b.type._context),null;case 22:case 23:return Mm(),null;case 24:return null;default:return null}}var Tf=!1,$h=!1,Gf=typeof WeakSet=="function"?WeakSet:Set,of=null;function Lf(m,b){var X=m.ref;if(X!==null)if(typeof X=="function")try{X(null)}catch(el){om(m,b,el)}else X.current=null}function Df(m,b,X){try{X()}catch(el){om(m,b,el)}}var If=!1;function Ff(m,b){if(Vm=Hh,m=Cv(),Dv(m)){if("selectionStart"in m)var X={start:m.selectionStart,end:m.selectionEnd};else e:{X=(X=m.ownerDocument)&&X.defaultView||window;var el=X.getSelection&&X.getSelection();if(el&&el.rangeCount!==0){X=el.anchorNode;var jl=el.anchorOffset,bu=el.focusNode;el=el.focusOffset;try{X.nodeType,bu.nodeType}catch{X=null;break e}var xd=0,xh=-1,Lh=-1,xf=0,cp=0,pp=m,lp=null;t:for(;;){for(var Zp;pp!==X||jl!==0&&pp.nodeType!==3||(xh=xd+jl),pp!==bu||el!==0&&pp.nodeType!==3||(Lh=xd+el),pp.nodeType===3&&(xd+=pp.nodeValue.length),(Zp=pp.firstChild)!==null;)lp=pp,pp=Zp;for(;;){if(pp===m)break t;if(lp===X&&++xf===jl&&(xh=xd),lp===bu&&++cp===el&&(Lh=xd),(Zp=pp.nextSibling)!==null)break;pp=lp,lp=pp.parentNode}pp=Zp}X=xh===-1||Lh===-1?null:{start:xh,end:Lh}}else X=null}X=X||{start:0,end:0}}else X=null;for(P2={focusedElem:m,selectionRange:X},Hh=!1,of=b;of!==null;)if(b=of,m=b.child,(b.subtreeFlags&1028)!==0&&m!==null)m.return=b,of=m;else for(;of!==null;){b=of;try{var o0=b.alternate;if((b.flags&1024)!==0)switch(b.tag){case 0:case 11:case 15:break;case 1:if(o0!==null){var s0=o0.memoizedProps,xm=o0.memoizedState,df=b.stateNode,Wh=df.getSnapshotBeforeUpdate(b.elementType===b.type?s0:_t(b.type,s0),xm);df.__reactInternalSnapshotBeforeUpdate=Wh}break;case 3:var gf=b.stateNode.containerInfo;gf.nodeType===1?gf.textContent="":gf.nodeType===9&&gf.documentElement&&gf.removeChild(gf.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(Sp){om(b,b.return,Sp)}if(m=b.sibling,m!==null){m.return=b.return,of=m;break}of=b.return}return o0=If,If=!1,o0}function bp(m,b,X){var el=b.updateQueue;if(el=el!==null?el.lastEffect:null,el!==null){var jl=el=el.next;do{if((jl.tag&m)===m){var bu=jl.destroy;jl.destroy=void 0,bu!==void 0&&Df(b,X,bu)}jl=jl.next}while(jl!==el)}}function Op(m,b){if(b=b.updateQueue,b=b!==null?b.lastEffect:null,b!==null){var X=b=b.next;do{if((X.tag&m)===m){var el=X.create;X.destroy=el()}X=X.next}while(X!==b)}}function Wf(m){var b=m.ref;if(b!==null){var X=m.stateNode;switch(m.tag){case 5:m=X;break;default:m=X}typeof b=="function"?b(m):b.current=m}}function zp(m){var b=m.alternate;b!==null&&(m.alternate=null,zp(b)),m.child=null,m.deletions=null,m.sibling=null,m.tag===5&&(b=m.stateNode,b!==null&&(delete b[O1],delete b[Bv],delete b[pf],delete b[n3],delete b[L2])),m.stateNode=null,m.return=null,m.dependencies=null,m.memoizedProps=null,m.memoizedState=null,m.pendingProps=null,m.stateNode=null,m.updateQueue=null}function qp(m){return m.tag===5||m.tag===3||m.tag===4}function p0(m){e:for(;;){for(;m.sibling===null;){if(m.return===null||qp(m.return))return null;m=m.return}for(m.sibling.return=m.return,m=m.sibling;m.tag!==5&&m.tag!==6&&m.tag!==18;){if(m.flags&2||m.child===null||m.tag===4)continue e;m.child.return=m,m=m.child}if(!(m.flags&2))return m.stateNode}}function m0(m,b,X){var el=m.tag;if(el===5||el===6)m=m.stateNode,b?X.nodeType===8?X.parentNode.insertBefore(m,b):X.insertBefore(m,b):(X.nodeType===8?(b=X.parentNode,b.insertBefore(m,X)):(b=X,b.appendChild(m)),X=X._reactRootContainer,X!=null||b.onclick!==null||(b.onclick=py));else if(el!==4&&(m=m.child,m!==null))for(m0(m,b,X),m=m.sibling;m!==null;)m0(m,b,X),m=m.sibling}function Ap(m,b,X){var el=m.tag;if(el===5||el===6)m=m.stateNode,b?X.insertBefore(m,b):X.appendChild(m);else if(el!==4&&(m=m.child,m!==null))for(Ap(m,b,X),m=m.sibling;m!==null;)Ap(m,b,X),m=m.sibling}var Hp=null,Tp=!1;function bf(m,b,X){for(X=X.child;X!==null;)N0(m,b,X),X=X.sibling}function N0(m,b,X){if(dg&&typeof dg.onCommitFiberUnmount=="function")try{dg.onCommitFiberUnmount(Q0,X)}catch{}switch(X.tag){case 5:$h||Lf(X,b);case 6:var el=Hp,jl=Tp;Hp=null,bf(m,b,X),Hp=el,Tp=jl,Hp!==null&&(Tp?(m=Hp,X=X.stateNode,m.nodeType===8?m.parentNode.removeChild(X):m.removeChild(X)):Hp.removeChild(X.stateNode));break;case 18:Hp!==null&&(Tp?(m=Hp,X=X.stateNode,m.nodeType===8?D2(m.parentNode,X):m.nodeType===1&&D2(m,X),Yh(m)):D2(Hp,X.stateNode));break;case 4:el=Hp,jl=Tp,Hp=X.stateNode.containerInfo,Tp=!0,bf(m,b,X),Hp=el,Tp=jl;break;case 0:case 11:case 14:case 15:if(!$h&&(el=X.updateQueue,el!==null&&(el=el.lastEffect,el!==null))){jl=el=el.next;do{var bu=jl,xd=bu.destroy;bu=bu.tag,xd!==void 0&&((bu&2)!==0||(bu&4)!==0)&&Df(X,b,xd),jl=jl.next}while(jl!==el)}bf(m,b,X);break;case 1:if(!$h&&(Lf(X,b),el=X.stateNode,typeof el.componentWillUnmount=="function"))try{el.props=X.memoizedProps,el.state=X.memoizedState,el.componentWillUnmount()}catch(xh){om(X,b,xh)}bf(m,b,X);break;case 21:bf(m,b,X);break;case 22:X.mode&1?($h=(el=$h)||X.memoizedState!==null,bf(m,b,X),$h=el):bf(m,b,X);break;default:bf(m,b,X)}}function Fl(m){var b=m.updateQueue;if(b!==null){m.updateQueue=null;var X=m.stateNode;X===null&&(X=m.stateNode=new Gf),b.forEach(function(el){var jl=Ry.bind(null,m,el);X.has(el)||(X.add(el),el.then(jl,jl))})}}function Sl(m,b){var X=b.deletions;if(X!==null)for(var el=0;el<X.length;el++){var jl=X[el];try{var bu=m,xd=b,xh=xd;e:for(;xh!==null;){switch(xh.tag){case 5:Hp=xh.stateNode,Tp=!1;break e;case 3:Hp=xh.stateNode.containerInfo,Tp=!0;break e;case 4:Hp=xh.stateNode.containerInfo,Tp=!0;break e}xh=xh.return}if(Hp===null)throw Error(o(160));N0(bu,xd,jl),Hp=null,Tp=!1;var Lh=jl.alternate;Lh!==null&&(Lh.return=null),jl.return=null}catch(xf){om(jl,b,xf)}}if(b.subtreeFlags&12854)for(b=b.child;b!==null;)od(b,m),b=b.sibling}function od(m,b){var X=m.alternate,el=m.flags;switch(m.tag){case 0:case 11:case 14:case 15:if(Sl(b,m),dd(m),el&4){try{bp(3,m,m.return),Op(3,m)}catch(s0){om(m,m.return,s0)}try{bp(5,m,m.return)}catch(s0){om(m,m.return,s0)}}break;case 1:Sl(b,m),dd(m),el&512&&X!==null&&Lf(X,X.return);break;case 5:if(Sl(b,m),dd(m),el&512&&X!==null&&Lf(X,X.return),m.flags&32){var jl=m.stateNode;try{Mf(jl,"")}catch(s0){om(m,m.return,s0)}}if(el&4&&(jl=m.stateNode,jl!=null)){var bu=m.memoizedProps,xd=X!==null?X.memoizedProps:bu,xh=m.type,Lh=m.updateQueue;if(m.updateQueue=null,Lh!==null)try{xh==="input"&&bu.type==="radio"&&bu.name!=null&&L0(jl,bu),jp(xh,xd);var xf=jp(xh,bu);for(xd=0;xd<Lh.length;xd+=2){var cp=Lh[xd],pp=Lh[xd+1];cp==="style"?hp(jl,pp):cp==="dangerouslySetInnerHTML"?fh(jl,pp):cp==="children"?Mf(jl,pp):Ft(jl,cp,pp,xf)}switch(xh){case"input":Gp(jl,bu);break;case"textarea":$g(jl,bu);break;case"select":var lp=jl._wrapperState.wasMultiple;jl._wrapperState.wasMultiple=!!bu.multiple;var Zp=bu.value;Zp!=null?Z0(jl,!!bu.multiple,Zp,!1):lp!==!!bu.multiple&&(bu.defaultValue!=null?Z0(jl,!!bu.multiple,bu.defaultValue,!0):Z0(jl,!!bu.multiple,bu.multiple?[]:"",!1))}jl[Bv]=bu}catch(s0){om(m,m.return,s0)}}break;case 6:if(Sl(b,m),dd(m),el&4){if(m.stateNode===null)throw Error(o(162));jl=m.stateNode,bu=m.memoizedProps;try{jl.nodeValue=bu}catch(s0){om(m,m.return,s0)}}break;case 3:if(Sl(b,m),dd(m),el&4&&X!==null&&X.memoizedState.isDehydrated)try{Yh(b.containerInfo)}catch(s0){om(m,m.return,s0)}break;case 4:Sl(b,m),dd(m);break;case 13:Sl(b,m),dd(m),jl=m.child,jl.flags&8192&&(bu=jl.memoizedState!==null,jl.stateNode.isHidden=bu,!bu||jl.alternate!==null&&jl.alternate.memoizedState!==null||(Vp=Of())),el&4&&Fl(m);break;case 22:if(cp=X!==null&&X.memoizedState!==null,m.mode&1?($h=(xf=$h)||cp,Sl(b,m),$h=xf):Sl(b,m),dd(m),el&8192){if(xf=m.memoizedState!==null,(m.stateNode.isHidden=xf)&&!cp&&(m.mode&1)!==0)for(of=m,cp=m.child;cp!==null;){for(pp=of=cp;of!==null;){switch(lp=of,Zp=lp.child,lp.tag){case 0:case 11:case 14:case 15:bp(4,lp,lp.return);break;case 1:Lf(lp,lp.return);var o0=lp.stateNode;if(typeof o0.componentWillUnmount=="function"){el=lp,X=lp.return;try{b=el,o0.props=b.memoizedProps,o0.state=b.memoizedState,o0.componentWillUnmount()}catch(s0){om(el,X,s0)}}break;case 5:Lf(lp,lp.return);break;case 22:if(lp.memoizedState!==null){Td(pp);continue}}Zp!==null?(Zp.return=lp,of=Zp):Td(pp)}cp=cp.sibling}e:for(cp=null,pp=m;;){if(pp.tag===5){if(cp===null){cp=pp;try{jl=pp.stateNode,xf?(bu=jl.style,typeof bu.setProperty=="function"?bu.setProperty("display","none","important"):bu.display="none"):(xh=pp.stateNode,Lh=pp.memoizedProps.style,xd=Lh!=null&&Lh.hasOwnProperty("display")?Lh.display:null,xh.style.display=rf("display",xd))}catch(s0){om(m,m.return,s0)}}}else if(pp.tag===6){if(cp===null)try{pp.stateNode.nodeValue=xf?"":pp.memoizedProps}catch(s0){om(m,m.return,s0)}}else if((pp.tag!==22&&pp.tag!==23||pp.memoizedState===null||pp===m)&&pp.child!==null){pp.child.return=pp,pp=pp.child;continue}if(pp===m)break e;for(;pp.sibling===null;){if(pp.return===null||pp.return===m)break e;cp===pp&&(cp=null),pp=pp.return}cp===pp&&(cp=null),pp.sibling.return=pp.return,pp=pp.sibling}}break;case 19:Sl(b,m),dd(m),el&4&&Fl(m);break;case 21:break;default:Sl(b,m),dd(m)}}function dd(m){var b=m.flags;if(b&2){try{e:{for(var X=m.return;X!==null;){if(qp(X)){var el=X;break e}X=X.return}throw Error(o(160))}switch(el.tag){case 5:var jl=el.stateNode;el.flags&32&&(Mf(jl,""),el.flags&=-33);var bu=p0(m);Ap(m,bu,jl);break;case 3:case 4:var xd=el.stateNode.containerInfo,xh=p0(m);m0(m,xh,xd);break;default:throw Error(o(161))}}catch(Lh){om(m,m.return,Lh)}m.flags&=-3}b&4096&&(m.flags&=-4097)}function _d(m,b,X){of=m,nd(m)}function nd(m,b,X){for(var el=(m.mode&1)!==0;of!==null;){var jl=of,bu=jl.child;if(jl.tag===22&&el){var xd=jl.memoizedState!==null||Tf;if(!xd){var xh=jl.alternate,Lh=xh!==null&&xh.memoizedState!==null||$h;xh=Tf;var xf=$h;if(Tf=xd,($h=Lh)&&!xf)for(of=jl;of!==null;)xd=of,Lh=xd.child,xd.tag===22&&xd.memoizedState!==null?wd(jl):Lh!==null?(Lh.return=xd,of=Lh):wd(jl);for(;bu!==null;)of=bu,nd(bu),bu=bu.sibling;of=jl,Tf=xh,$h=xf}ud(m)}else(jl.subtreeFlags&8772)!==0&&bu!==null?(bu.return=jl,of=bu):ud(m)}}function ud(m){for(;of!==null;){var b=of;if((b.flags&8772)!==0){var X=b.alternate;try{if((b.flags&8772)!==0)switch(b.tag){case 0:case 11:case 15:$h||Op(5,b);break;case 1:var el=b.stateNode;if(b.flags&4&&!$h)if(X===null)el.componentDidMount();else{var jl=b.elementType===b.type?X.memoizedProps:_t(b.type,X.memoizedProps);el.componentDidUpdate(jl,X.memoizedState,el.__reactInternalSnapshotBeforeUpdate)}var bu=b.updateQueue;bu!==null&&c3(b,bu,el);break;case 3:var xd=b.updateQueue;if(xd!==null){if(X=null,b.child!==null)switch(b.child.tag){case 5:X=b.child.stateNode;break;case 1:X=b.child.stateNode}c3(b,xd,X)}break;case 5:var xh=b.stateNode;if(X===null&&b.flags&4){X=xh;var Lh=b.memoizedProps;switch(b.type){case"button":case"input":case"select":case"textarea":Lh.autoFocus&&X.focus();break;case"img":Lh.src&&(X.src=Lh.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(b.memoizedState===null){var xf=b.alternate;if(xf!==null){var cp=xf.memoizedState;if(cp!==null){var pp=cp.dehydrated;pp!==null&&Yh(pp)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}$h||b.flags&512&&Wf(b)}catch(lp){om(b,b.return,lp)}}if(b===m){of=null;break}if(X=b.sibling,X!==null){X.return=b.return,of=X;break}of=b.return}}function Td(m){for(;of!==null;){var b=of;if(b===m){of=null;break}var X=b.sibling;if(X!==null){X.return=b.return,of=X;break}of=b.return}}function wd(m){for(;of!==null;){var b=of;try{switch(b.tag){case 0:case 11:case 15:var X=b.return;try{Op(4,b)}catch(Lh){om(b,X,Lh)}break;case 1:var el=b.stateNode;if(typeof el.componentDidMount=="function"){var jl=b.return;try{el.componentDidMount()}catch(Lh){om(b,jl,Lh)}}var bu=b.return;try{Wf(b)}catch(Lh){om(b,bu,Lh)}break;case 5:var xd=b.return;try{Wf(b)}catch(Lh){om(b,xd,Lh)}}}catch(Lh){om(b,b.return,Lh)}if(b===m){of=null;break}var xh=b.sibling;if(xh!==null){xh.return=b.return,of=xh;break}of=b.return}}var Kd=Math.ceil,Qd=El.ReactCurrentDispatcher,Mh=El.ReactCurrentOwner,hf=El.ReactCurrentBatchConfig,Kh=0,wf=null,ef=null,Sf=0,zf=0,t0=Y1(0),ap=0,B0=null,Lp=0,q0=0,F0=0,kg=null,H0=null,Vp=0,Rg=1/0,rg=null,r0=!1,Fg=null,pg=null,_g=!1,Bg=null,fm=0,C0=0,gg=null,Y0=-1,lg=0;function ng(){return(Kh&6)!==0?Of():Y0!==-1?Y0:Y0=Of()}function Hg(m){return(m.mode&1)===0?1:(Kh&2)!==0&&Sf!==0?Sf&-Sf:by.transition!==null?(lg===0&&(lg=Tl()),lg):(m=Vl,m!==0||(m=window.event,m=m===void 0?16:Af(m.type)),m)}function zg(m,b,X,el){if(50<C0)throw C0=0,gg=null,Error(o(185));Pl(m,X,el),((Kh&2)===0||m!==wf)&&(m===wf&&((Kh&2)===0&&(q0|=X),ap===4&&Eg(m,Sf)),wg(m,el),X===1&&Kh===0&&(b.mode&1)===0&&(Rg=Of()+500,vy&&fv()))}function wg(m,b){var X=m.callbackNode;Me(m,b);var el=E(m,m===wf?Sf:0);if(el===0)X!==null&&Ih(X),m.callbackNode=null,m.callbackPriority=0;else if(b=el&-el,m.callbackPriority!==b){if(X!=null&&Ih(X),b===1)m.tag===0?l3(km.bind(null,m)):s3(km.bind(null,m)),Xy(function(){(Kh&6)===0&&fv()}),X=null;else{switch(Yl(el)){case 1:X=xp;break;case 4:X=Zf;break;case 16:X=vp;break;case 536870912:X=Rp;break;default:X=vp}X=rv(X,pm.bind(null,m))}m.callbackPriority=b,m.callbackNode=X}}function pm(m,b){if(Y0=-1,lg=0,(Kh&6)!==0)throw Error(o(327));var X=m.callbackNode;if(d1()&&m.callbackNode!==X)return null;var el=E(m,m===wf?Sf:0);if(el===0)return null;if((el&30)!==0||(el&m.expiredLanes)!==0||b)b=ug(m,el);else{b=el;var jl=Kh;Kh|=2;var bu=Am();(wf!==m||Sf!==b)&&(rg=null,Rg=Of()+500,am(m,b));do try{cm();break}catch(xh){nm(m,xh)}while(!0);n2(),Qd.current=bu,Kh=jl,ef!==null?b=0:(wf=null,Sf=0,b=ap)}if(b!==0){if(b===2&&(jl=ot(m),jl!==0&&(el=jl,b=Dg(m,jl))),b===1)throw X=B0,am(m,0),Eg(m,el),wg(m,Of()),X;if(b===6)Eg(m,el);else{if(jl=m.current.alternate,(el&30)===0&&!Gm(jl)&&(b=ug(m,el),b===2&&(bu=ot(m),bu!==0&&(el=bu,b=Dg(m,bu))),b===1))throw X=B0,am(m,0),Eg(m,el),wg(m,Of()),X;switch(m.finishedWork=jl,m.finishedLanes=el,b){case 0:case 1:throw Error(o(345));case 2:mg(m,H0,rg);break;case 3:if(Eg(m,el),(el&130023424)===el&&(b=Vp+500-Of(),10<b)){if(E(m,0)!==0)break;if(jl=m.suspendedLanes,(jl&el)!==el){ng(),m.pingedLanes|=m.suspendedLanes&jl;break}m.timeoutHandle=l1(mg.bind(null,m,H0,rg),b);break}mg(m,H0,rg);break;case 4:if(Eg(m,el),(el&4194240)===el)break;for(b=m.eventTimes,jl=-1;0<el;){var xd=31-Jp(el);bu=1<<xd,xd=b[xd],xd>jl&&(jl=xd),el&=~bu}if(el=jl,el=Of()-el,el=(120>el?120:480>el?480:1080>el?1080:1920>el?1920:3e3>el?3e3:4320>el?4320:1960*Kd(el/1960))-el,10<el){m.timeoutHandle=l1(mg.bind(null,m,H0,rg),el);break}mg(m,H0,rg);break;case 5:mg(m,H0,rg);break;default:throw Error(o(329))}}}return wg(m,Of()),m.callbackNode===X?pm.bind(null,m):null}function Dg(m,b){var X=kg;return m.current.memoizedState.isDehydrated&&(am(m,b).flags|=256),m=ug(m,b),m!==2&&(b=H0,H0=X,b!==null&&eg(b)),m}function eg(m){H0===null?H0=m:H0.push.apply(H0,m)}function Gm(m){for(var b=m;;){if(b.flags&16384){var X=b.updateQueue;if(X!==null&&(X=X.stores,X!==null))for(var el=0;el<X.length;el++){var jl=X[el],bu=jl.getSnapshot;jl=jl.value;try{if(!v1(bu(),jl))return!1}catch{return!1}}}if(X=b.child,b.subtreeFlags&16384&&X!==null)X.return=b,b=X;else{if(b===m)break;for(;b.sibling===null;){if(b.return===null||b.return===m)return!0;b=b.return}b.sibling.return=b.return,b=b.sibling}}return!0}function Eg(m,b){for(b&=~F0,b&=~q0,m.suspendedLanes|=b,m.pingedLanes&=~b,m=m.expirationTimes;0<b;){var X=31-Jp(b),el=1<<X;m[X]=-1,b&=~el}}function km(m){if((Kh&6)!==0)throw Error(o(327));d1();var b=E(m,0);if((b&1)===0)return wg(m,Of()),null;var X=ug(m,b);if(m.tag!==0&&X===2){var el=ot(m);el!==0&&(b=el,X=Dg(m,el))}if(X===1)throw X=B0,am(m,0),Eg(m,b),wg(m,Of()),X;if(X===6)throw Error(o(345));return m.finishedWork=m.current.alternate,m.finishedLanes=b,mg(m,H0,rg),wg(m,Of()),null}function gm(m,b){var X=Kh;Kh|=1;try{return m(b)}finally{Kh=X,Kh===0&&(Rg=Of()+500,vy&&fv())}}function Zg(m){Bg!==null&&Bg.tag===0&&(Kh&6)===0&&d1();var b=Kh;Kh|=1;var X=hf.transition,el=Vl;try{if(hf.transition=null,Vl=1,m)return m()}finally{Vl=el,hf.transition=X,Kh=b,(Kh&6)===0&&fv()}}function Mm(){zf=t0.current,Jg(t0)}function am(m,b){m.finishedWork=null,m.finishedLanes=0;var X=m.timeoutHandle;if(X!==-1&&(m.timeoutHandle=-1,gy(X)),ef!==null)for(X=ef.return;X!==null;){var el=X;switch(gv(el),el.tag){case 1:el=el.type.childContextTypes,el!=null&&Hm();break;case 3:Yv(),Jg(Um),Jg(jm),l2();break;case 5:G2(el);break;case 4:Yv();break;case 13:Jg(Kg);break;case 19:Jg(Kg);break;case 10:i2(el.type._context);break;case 22:case 23:Mm()}X=X.return}if(wf=m,ef=m=iv(m.current,null),Sf=zf=b,ap=0,B0=null,F0=q0=Lp=0,H0=kg=null,J1!==null){for(b=0;b<J1.length;b++)if(X=J1[b],el=X.interleaved,el!==null){X.interleaved=null;var jl=el.next,bu=X.pending;if(bu!==null){var xd=bu.next;bu.next=jl,el.next=xd}X.pending=el}J1=null}return m}function nm(m,b){do{var X=ef;try{if(n2(),Ay.current=bl,P){for(var el=A.memoizedState;el!==null;){var jl=el.queue;jl!==null&&(jl.pending=null),el=el.next}P=!1}if(In=0,C=v=A=null,R=!1,F=0,Mh.current=null,X===null||X.return===null){ap=1,B0=b,ef=null;break}e:{var bu=m,xd=X.return,xh=X,Lh=b;if(b=Sf,xh.flags|=32768,Lh!==null&&typeof Lh=="object"&&typeof Lh.then=="function"){var xf=Lh,cp=xh,pp=cp.tag;if((cp.mode&1)===0&&(pp===0||pp===11||pp===15)){var lp=cp.alternate;lp?(cp.updateQueue=lp.updateQueue,cp.memoizedState=lp.memoizedState,cp.lanes=lp.lanes):(cp.updateQueue=null,cp.memoizedState=null)}var Zp=Gl(xd);if(Zp!==null){Zp.flags&=-257,rd(Zp,xd,xh,bu,b),Zp.mode&1&&Nu(bu,xf,b),b=Zp,Lh=xf;var o0=b.updateQueue;if(o0===null){var s0=new Set;s0.add(Lh),b.updateQueue=s0}else o0.add(Lh);break e}else{if((b&1)===0){Nu(bu,xf,b),Lm();break e}Lh=Error(o(426))}}else if(lm&&xh.mode&1){var xm=Gl(xd);if(xm!==null){(xm.flags&65536)===0&&(xm.flags|=256),rd(xm,xd,xh,bu,b),e2(Ju(Lh,xh));break e}}bu=Lh=Ju(Lh,xh),ap!==4&&(ap=2),kg===null?kg=[bu]:kg.push(bu),bu=xd;do{switch(bu.tag){case 3:bu.flags|=65536,b&=-b,bu.lanes|=b;var df=Ed(bu,Lh,b);a2(bu,df);break e;case 1:xh=Lh;var Wh=bu.type,gf=bu.stateNode;if((bu.flags&128)===0&&(typeof Wh.getDerivedStateFromError=="function"||gf!==null&&typeof gf.componentDidCatch=="function"&&(pg===null||!pg.has(gf)))){bu.flags|=65536,b&=-b,bu.lanes|=b;var Sp=_u(bu,xh,b);a2(bu,Sp);break e}}bu=bu.return}while(bu!==null)}im(X)}catch(a0){b=a0,ef===X&&X!==null&&(ef=X=X.return);continue}break}while(!0)}function Am(){var m=Qd.current;return Qd.current=bl,m===null?bl:m}function Lm(){(ap===0||ap===3||ap===2)&&(ap=4),wf===null||(Lp&268435455)===0&&(q0&268435455)===0||Eg(wf,Sf)}function ug(m,b){var X=Kh;Kh|=2;var el=Am();(wf!==m||Sf!==b)&&(rg=null,am(m,b));do try{Lg();break}catch(jl){nm(m,jl)}while(!0);if(n2(),Kh=X,Qd.current=el,ef!==null)throw Error(o(261));return wf=null,Sf=0,ap}function Lg(){for(;ef!==null;)_m(ef)}function cm(){for(;ef!==null&&!_h();)_m(ef)}function _m(m){var b=Rv(m.alternate,m,zf);m.memoizedProps=m.pendingProps,b===null?im(m):ef=b,Mh.current=null}function im(m){var b=m;do{var X=b.alternate;if(m=b.return,(b.flags&32768)===0){if(X=jf(X,b,zf),X!==null){ef=X;return}}else{if(X=tp(X,b),X!==null){X.flags&=32767,ef=X;return}if(m!==null)m.flags|=32768,m.subtreeFlags=0,m.deletions=null;else{ap=6,ef=null;return}}if(b=b.sibling,b!==null){ef=b;return}ef=b=m}while(b!==null);ap===0&&(ap=5)}function mg(m,b,X){var el=Vl,jl=hf.transition;try{hf.transition=null,Vl=1,Tm(m,b,X,el)}finally{hf.transition=jl,Vl=el}return null}function Tm(m,b,X,el){do d1();while(Bg!==null);if((Kh&6)!==0)throw Error(o(327));X=m.finishedWork;var jl=m.finishedLanes;if(X===null)return null;if(m.finishedWork=null,m.finishedLanes=0,X===m.current)throw Error(o(177));m.callbackNode=null,m.callbackPriority=0;var bu=X.lanes|X.childLanes;if(Bl(m,bu),m===wf&&(ef=wf=null,Sf=0),(X.subtreeFlags&2064)===0&&(X.flags&2064)===0||_g||(_g=!0,rv(vp,function(){return d1(),null})),bu=(X.flags&15990)!==0,(X.subtreeFlags&15990)!==0||bu){bu=hf.transition,hf.transition=null;var xd=Vl;Vl=1;var xh=Kh;Kh|=4,Mh.current=null,Ff(m,X),od(X,m),$y(P2),Hh=!!Vm,P2=Vm=null,m.current=X,_d(X),ep(),Kh=xh,Vl=xd,hf.transition=bu}else m.current=X;if(_g&&(_g=!1,Bg=m,fm=jl),bu=m.pendingLanes,bu===0&&(pg=null),jg(X.stateNode),wg(m,Of()),b!==null)for(el=m.onRecoverableError,X=0;X<b.length;X++)jl=b[X],el(jl.value,{componentStack:jl.stack,digest:jl.digest});if(r0)throw r0=!1,m=Fg,Fg=null,m;return(fm&1)!==0&&m.tag!==0&&d1(),bu=m.pendingLanes,(bu&1)!==0?m===gg?C0++:(C0=0,gg=m):C0=0,fv(),null}function d1(){if(Bg!==null){var m=Yl(fm),b=hf.transition,X=Vl;try{if(hf.transition=null,Vl=16>m?16:m,Bg===null)var el=!1;else{if(m=Bg,Bg=null,fm=0,(Kh&6)!==0)throw Error(o(331));var jl=Kh;for(Kh|=4,of=m.current;of!==null;){var bu=of,xd=bu.child;if((of.flags&16)!==0){var xh=bu.deletions;if(xh!==null){for(var Lh=0;Lh<xh.length;Lh++){var xf=xh[Lh];for(of=xf;of!==null;){var cp=of;switch(cp.tag){case 0:case 11:case 15:bp(8,cp,bu)}var pp=cp.child;if(pp!==null)pp.return=cp,of=pp;else for(;of!==null;){cp=of;var lp=cp.sibling,Zp=cp.return;if(zp(cp),cp===xf){of=null;break}if(lp!==null){lp.return=Zp,of=lp;break}of=Zp}}}var o0=bu.alternate;if(o0!==null){var s0=o0.child;if(s0!==null){o0.child=null;do{var xm=s0.sibling;s0.sibling=null,s0=xm}while(s0!==null)}}of=bu}}if((bu.subtreeFlags&2064)!==0&&xd!==null)xd.return=bu,of=xd;else e:for(;of!==null;){if(bu=of,(bu.flags&2048)!==0)switch(bu.tag){case 0:case 11:case 15:bp(9,bu,bu.return)}var df=bu.sibling;if(df!==null){df.return=bu.return,of=df;break e}of=bu.return}}var Wh=m.current;for(of=Wh;of!==null;){xd=of;var gf=xd.child;if((xd.subtreeFlags&2064)!==0&&gf!==null)gf.return=xd,of=gf;else e:for(xd=Wh;of!==null;){if(xh=of,(xh.flags&2048)!==0)try{switch(xh.tag){case 0:case 11:case 15:Op(9,xh)}}catch(a0){om(xh,xh.return,a0)}if(xh===xd){of=null;break e}var Sp=xh.sibling;if(Sp!==null){Sp.return=xh.return,of=Sp;break e}of=xh.return}}if(Kh=jl,fv(),dg&&typeof dg.onPostCommitFiberRoot=="function")try{dg.onPostCommitFiberRoot(Q0,m)}catch{}el=!0}return el}finally{Vl=X,hf.transition=b}}return!1}function R1(m,b,X){b=Ju(X,b),b=Ed(m,b,1),m=ev(m,b,1),b=ng(),m!==null&&(Pl(m,1,b),wg(m,b))}function om(m,b,X){if(m.tag===3)R1(m,m,X);else for(;b!==null;){if(b.tag===3){R1(b,m,X);break}else if(b.tag===1){var el=b.stateNode;if(typeof b.type.getDerivedStateFromError=="function"||typeof el.componentDidCatch=="function"&&(pg===null||!pg.has(el))){m=Ju(X,m),m=_u(b,m,1),b=ev(b,m,1),m=ng(),b!==null&&(Pl(b,1,m),wg(b,m));break}}b=b.return}}function F1(m,b,X){var el=m.pingCache;el!==null&&el.delete(b),b=ng(),m.pingedLanes|=m.suspendedLanes&X,wf===m&&(Sf&X)===X&&(ap===4||ap===3&&(Sf&130023424)===Sf&&500>Of()-Vp?am(m,0):F0|=X),wg(m,b)}function Ty(m,b){b===0&&((m.mode&1)===0?b=1:(b=Ng,Ng<<=1,(Ng&130023424)===0&&(Ng=4194304)));var X=ng();m=H1(m,b),m!==null&&(Pl(m,b,X),wg(m,X))}function u2(m){var b=m.memoizedState,X=0;b!==null&&(X=b.retryLane),Ty(m,X)}function Ry(m,b){var X=0;switch(m.tag){case 13:var el=m.stateNode,jl=m.memoizedState;jl!==null&&(X=jl.retryLane);break;case 19:el=m.stateNode;break;default:throw Error(o(314))}el!==null&&el.delete(b),Ty(m,X)}var Rv;Rv=function(m,b,X){if(m!==null)if(m.memoizedProps!==b.pendingProps||Um.current)Pd=!0;else{if((m.lanes&X)===0&&(b.flags&128)===0)return Pd=!1,zd(m,b,X);Pd=(m.flags&131072)!==0}else Pd=!1,lm&&(b.flags&1048576)!==0&&u3(b,Jy,b.index);switch(b.lanes=0,b.tag){case 2:var el=b.type;Nd(m,b),m=b.pendingProps;var jl=kv(b,jm.current);c1(b,X),jl=W(null,b,el,m,jl,X);var bu=z();return b.flags|=1,typeof jl=="object"&&jl!==null&&typeof jl.render=="function"&&jl.$$typeof===void 0?(b.tag=1,b.memoizedState=null,b.updateQueue=null,Bm(el)?(bu=!0,Qy(b)):bu=!1,b.memoizedState=jl.state!==null&&jl.state!==void 0?jl.state:null,o2(b),jl.updater=dl,b.stateNode=jl,jl._reactInternals=b,Bu(b,el,m,X),b=jh(null,b,el,!0,bu,X)):(b.tag=0,lm&&bu&&yy(b),Ud(null,b,jl,X),b=b.child),b;case 16:el=b.elementType;e:{switch(Nd(m,b),m=b.pendingProps,jl=el._init,el=jl(el._payload),b.type=el,jl=b.tag=nv(el),m=_t(el,m),jl){case 0:b=Yd(null,b,el,m,X);break e;case 1:b=Ph(null,b,el,m,X);break e;case 11:b=$d(null,b,el,m,X);break e;case 14:b=th(null,b,el,_t(el.type,m),X);break e}throw Error(o(306,el,""))}return b;case 0:return el=b.type,jl=b.pendingProps,jl=b.elementType===el?jl:_t(el,jl),Yd(m,b,el,jl,X);case 1:return el=b.type,jl=b.pendingProps,jl=b.elementType===el?jl:_t(el,jl),Ph(m,b,el,jl,X);case 3:e:{if(Th(b),m===null)throw Error(o(387));el=b.pendingProps,bu=b.memoizedState,jl=bu.element,Sm(m,b),s2(b,el,null,X);var xd=b.memoizedState;if(el=xd.element,bu.isDehydrated)if(bu={element:el,isDehydrated:!1,cache:xd.cache,pendingSuspenseBoundaries:xd.pendingSuspenseBoundaries,transitions:xd.transitions},b.updateQueue.baseState=bu,b.memoizedState=bu,b.flags&256){jl=Ju(Error(o(423)),b),b=Xh(m,b,el,X,jl);break e}else if(el!==jl){jl=Ju(Error(o(424)),b),b=Xh(m,b,el,X,jl);break e}else for(ym=E1(b.stateNode.containerInfo.firstChild),Wm=b,lm=!0,b1=null,X=T1(b,null,el,X),b.child=X;X;)X.flags=X.flags&-3|4096,X=X.sibling;else{if(Q1(),el===jl){b=Fd(m,b,X);break e}Ud(m,b,el,X)}b=b.child}return b;case 5:return d3(b),m===null&&Vv(b),el=b.type,jl=b.pendingProps,bu=m!==null?m.memoizedProps:null,xd=jl.children,Zy(el,jl)?xd=null:bu!==null&&Zy(el,bu)&&(b.flags|=32),Ah(m,b),Ud(m,b,xd,X),b.child;case 6:return m===null&&Vv(b),null;case 13:return _l(m,b,X);case 4:return My(b,b.stateNode.containerInfo),el=b.pendingProps,m===null?b.child=N1(b,null,el,X):Ud(m,b,el,X),b.child;case 11:return el=b.type,jl=b.pendingProps,jl=b.elementType===el?jl:_t(el,jl),$d(m,b,el,jl,X);case 7:return Ud(m,b,b.pendingProps,X),b.child;case 8:return Ud(m,b,b.pendingProps.children,X),b.child;case 12:return Ud(m,b,b.pendingProps.children,X),b.child;case 10:e:{if(el=b.type._context,jl=b.pendingProps,bu=b.memoizedProps,xd=jl.value,rm(wy,el._currentValue),el._currentValue=xd,bu!==null)if(v1(bu.value,xd)){if(bu.children===jl.children&&!Um.current){b=Fd(m,b,X);break e}}else for(bu=b.child,bu!==null&&(bu.return=b);bu!==null;){var xh=bu.dependencies;if(xh!==null){xd=bu.child;for(var Lh=xh.firstContext;Lh!==null;){if(Lh.context===el){if(bu.tag===1){Lh=um(-1,X&-X),Lh.tag=2;var xf=bu.updateQueue;if(xf!==null){xf=xf.shared;var cp=xf.pending;cp===null?Lh.next=Lh:(Lh.next=cp.next,cp.next=Lh),xf.pending=Lh}}bu.lanes|=X,Lh=bu.alternate,Lh!==null&&(Lh.lanes|=X),Sy(bu.return,X,b),xh.lanes|=X;break}Lh=Lh.next}}else if(bu.tag===10)xd=bu.type===b.type?null:bu.child;else if(bu.tag===18){if(xd=bu.return,xd===null)throw Error(o(341));xd.lanes|=X,xh=xd.alternate,xh!==null&&(xh.lanes|=X),Sy(xd,X,b),xd=bu.sibling}else xd=bu.child;if(xd!==null)xd.return=bu;else for(xd=bu;xd!==null;){if(xd===b){xd=null;break}if(bu=xd.sibling,bu!==null){bu.return=xd.return,xd=bu;break}xd=xd.return}bu=xd}Ud(m,b,jl.children,X),b=b.child}return b;case 9:return jl=b.type,el=b.pendingProps.children,c1(b,X),jl=n1(jl),el=el(jl),b.flags|=1,Ud(m,b,el,X),b.child;case 14:return el=b.type,jl=_t(el,b.pendingProps),jl=_t(el.type,jl),th(m,b,el,jl,X);case 15:return sh(m,b,b.type,b.pendingProps,X);case 17:return el=b.type,jl=b.pendingProps,jl=b.elementType===el?jl:_t(el,jl),Nd(m,b),b.tag=1,Bm(el)?(m=!0,Qy(b)):m=!1,c1(b,X),ql(b,el,jl),Bu(b,el,jl,X),jh(null,b,el,!0,m,X);case 19:return bd(m,b,X);case 22:return ah(m,b,X)}throw Error(o(156,b.tag))};function rv(m,b){return rh(m,b)}function O3(m,b,X,el){this.tag=m,this.key=X,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=b,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=el,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zm(m,b,X,el){return new O3(m,b,X,el)}function Fy(m){return m=m.prototype,!(!m||!m.isReactComponent)}function nv(m){if(typeof m=="function")return Fy(m)?1:0;if(m!=null){if(m=m.$$typeof,m===Od)return 11;if(m===Cd)return 14}return 2}function iv(m,b){var X=m.alternate;return X===null?(X=Zm(m.tag,b,m.key,m.mode),X.elementType=m.elementType,X.type=m.type,X.stateNode=m.stateNode,X.alternate=m,m.alternate=X):(X.pendingProps=b,X.type=m.type,X.flags=0,X.subtreeFlags=0,X.deletions=null),X.flags=m.flags&14680064,X.childLanes=m.childLanes,X.lanes=m.lanes,X.child=m.child,X.memoizedProps=m.memoizedProps,X.memoizedState=m.memoizedState,X.updateQueue=m.updateQueue,b=m.dependencies,X.dependencies=b===null?null:{lanes:b.lanes,firstContext:b.firstContext},X.sibling=m.sibling,X.index=m.index,X.ref=m.ref,X}function Fv(m,b,X,el,jl,bu){var xd=2;if(el=m,typeof m=="function")Fy(m)&&(xd=1);else if(typeof m=="string")xd=5;else e:switch(m){case vu:return ov(X.children,jl,bu,b);case Nl:xd=8,jl|=8;break;case Xu:return m=Zm(12,X,b,jl|2),m.elementType=Xu,m.lanes=bu,m;case Id:return m=Zm(13,X,b,jl),m.elementType=Id,m.lanes=bu,m;case Bd:return m=Zm(19,X,b,jl),m.elementType=Bd,m.lanes=bu,m;case jd:return i1(X,jl,bu,b);default:if(typeof m=="object"&&m!==null)switch(m.$$typeof){case Vu:xd=10;break e;case Zu:xd=9;break e;case Od:xd=11;break e;case Cd:xd=14;break e;case Wl:xd=16,el=null;break e}throw Error(o(130,m==null?m:typeof m,""))}return b=Zm(xd,X,b,jl),b.elementType=m,b.type=el,b.lanes=bu,b}function ov(m,b,X,el){return m=Zm(7,m,el,b),m.lanes=X,m}function i1(m,b,X,el){return m=Zm(22,m,el,b),m.elementType=jd,m.lanes=X,m.stateNode={isHidden:!1},m}function Zv(m,b,X){return m=Zm(6,m,null,b),m.lanes=X,m}function Py(m,b,X){return b=Zm(4,m.children!==null?m.children:[],m.key,b),b.lanes=X,b.stateNode={containerInfo:m.containerInfo,pendingChildren:null,implementation:m.implementation},b}function z3(m,b,X,el,jl){this.tag=b,this.containerInfo=m,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ll(0),this.expirationTimes=ll(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ll(0),this.identifierPrefix=el,this.onRecoverableError=jl,this.mutableSourceEagerHydrationData=null}function c2(m,b,X,el,jl,bu,xd,xh,Lh){return m=new z3(m,b,X,xh,Lh),b===1?(b=1,bu===!0&&(b|=8)):b=0,bu=Zm(3,null,null,b),m.current=bu,bu.stateNode=m,bu.memoizedState={element:el,isDehydrated:X,cache:null,transitions:null,pendingSuspenseBoundaries:null},o2(bu),m}function h3(m,b,X){var el=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Al,key:el==null?null:""+el,children:m,containerInfo:b,implementation:X}}function d2(m){if(!m)return r1;m=m._reactInternals;e:{if(yg(m)!==m||m.tag!==1)throw Error(o(170));var b=m;do{switch(b.tag){case 3:b=b.stateNode.context;break e;case 1:if(Bm(b.type)){b=b.stateNode.__reactInternalMemoizedMergedChildContext;break e}}b=b.return}while(b!==null);throw Error(o(171))}if(m.tag===1){var X=m.type;if(Bm(X))return o3(m,X,b)}return b}function h2(m,b,X,el,jl,bu,xd,xh,Lh){return m=c2(X,el,!0,m,jl,bu,xd,xh,Lh),m.context=d2(null),X=m.current,el=ng(),jl=Hg(X),bu=um(el,jl),bu.callback=b??null,ev(X,bu,jl),m.current.lanes=jl,Pl(m,jl,el),wg(m,el),m}function Dy(m,b,X,el){var jl=b.current,bu=ng(),xd=Hg(jl);return X=d2(X),b.context===null?b.context=X:b.pendingContext=X,b=um(bu,xd),b.payload={element:m},el=el===void 0?null:el,el!==null&&(b.callback=el),m=ev(jl,b,xd),m!==null&&(zg(m,jl,xd,bu),qv(m,jl,xd)),xd}function Ly(m){if(m=m.current,!m.child)return null;switch(m.child.tag){case 5:return m.child.stateNode;default:return m.child.stateNode}}function V2(m,b){if(m=m.memoizedState,m!==null&&m.dehydrated!==null){var X=m.retryLane;m.retryLane=X!==0&&X<b?X:b}}function f2(m,b){V2(m,b),(m=m.alternate)&&V2(m,b)}function f3(){return null}var j2=typeof reportError=="function"?reportError:function(m){console.error(m)};function p2(m){this._internalRoot=m}Iy.prototype.render=p2.prototype.render=function(m){var b=this._internalRoot;if(b===null)throw Error(o(409));Dy(m,b,null,null)},Iy.prototype.unmount=p2.prototype.unmount=function(){var m=this._internalRoot;if(m!==null){this._internalRoot=null;var b=m.containerInfo;Zg(function(){Dy(null,m,null,null)}),b[M1]=null}};function Iy(m){this._internalRoot=m}Iy.prototype.unstable_scheduleHydration=function(m){if(m){var b=Lu();m={blockedOn:null,target:m,priority:b};for(var X=0;X<vh.length&&b!==0&&b<vh[X].priority;X++);vh.splice(X,0,m),X===0&&ph(m)}};function g2(m){return!(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)}function m2(m){return!(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11&&(m.nodeType!==8||m.nodeValue!==" react-mount-point-unstable "))}function U2(){}function p3(m,b,X,el,jl){if(jl){if(typeof el=="function"){var bu=el;el=function(){var xf=Ly(xd);bu.call(xf)}}var xd=h2(b,el,m,0,null,!1,!1,"",U2);return m._reactRootContainer=xd,m[M1]=xd.current,cy(m.nodeType===8?m.parentNode:m),Zg(),xd}for(;jl=m.lastChild;)m.removeChild(jl);if(typeof el=="function"){var xh=el;el=function(){var xf=Ly(Lh);xh.call(xf)}}var Lh=c2(m,0,!1,null,null,!1,!1,"",U2);return m._reactRootContainer=Lh,m[M1]=Lh.current,cy(m.nodeType===8?m.parentNode:m),Zg(function(){Dy(b,Lh,X,el)}),Lh}function Oy(m,b,X,el,jl){var bu=X._reactRootContainer;if(bu){var xd=bu;if(typeof jl=="function"){var xh=jl;jl=function(){var Lh=Ly(xd);xh.call(Lh)}}Dy(b,xd,m,jl)}else xd=p3(X,b,m,jl,el);return Ly(xd)}zu=function(m){switch(m.tag){case 3:var b=m.stateNode;if(b.current.memoizedState.isDehydrated){var X=kd(b.pendingLanes);X!==0&&(Ml(b,X|1),wg(b,Of()),(Kh&6)===0&&(Rg=Of()+500,fv()))}break;case 13:Zg(function(){var el=H1(m,1);if(el!==null){var jl=ng();zg(el,m,1,jl)}}),f2(m,1)}},Fu=function(m){if(m.tag===13){var b=H1(m,134217728);if(b!==null){var X=ng();zg(b,m,134217728,X)}f2(m,134217728)}},mu=function(m){if(m.tag===13){var b=Hg(m),X=H1(m,b);if(X!==null){var el=ng();zg(X,m,b,el)}f2(m,b)}},Lu=function(){return Vl},Du=function(m,b){var X=Vl;try{return Vl=m,b()}finally{Vl=X}},qg=function(m,b,X){switch(b){case"input":if(Gp(m,X),b=X.name,X.type==="radio"&&b!=null){for(X=m;X.parentNode;)X=X.parentNode;for(X=X.querySelectorAll("input[name="+JSON.stringify(""+b)+'][type="radio"]'),b=0;b<X.length;b++){var el=X[b];if(el!==m&&el.form===m.form){var jl=my(el);if(!jl)throw Error(o(90));Mp(el),Gp(el,jl)}}}break;case"textarea":$g(m,X);break;case"select":b=X.value,b!=null&&Z0(m,!!X.multiple,b,!1)}},Ep=gm,dm=Zg;var zy={usingClientEntryPoint:!1,Events:[A1,z1,my,cg,_p,gm]},Xv={findFiberByHostInstance:t1,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},v2={bundleType:Xv.bundleType,version:Xv.version,rendererPackageName:Xv.rendererPackageName,rendererConfig:Xv.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:El.ReactCurrentDispatcher,findHostInstanceByFiber:function(m){return m=ls(m),m===null?null:m.stateNode},findFiberByHostInstance:Xv.findFiberByHostInstance||f3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ny=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ny.isDisabled&&Ny.supportsFiber)try{Q0=Ny.inject(v2),dg=Ny}catch{}}return reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zy,reactDom_production_min.createPortal=function(m,b){var X=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g2(b))throw Error(o(200));return h3(m,b,null,X)},reactDom_production_min.createRoot=function(m,b){if(!g2(m))throw Error(o(299));var X=!1,el="",jl=j2;return b!=null&&(b.unstable_strictMode===!0&&(X=!0),b.identifierPrefix!==void 0&&(el=b.identifierPrefix),b.onRecoverableError!==void 0&&(jl=b.onRecoverableError)),b=c2(m,1,!1,null,null,X,!1,el,jl),m[M1]=b.current,cy(m.nodeType===8?m.parentNode:m),new p2(b)},reactDom_production_min.findDOMNode=function(m){if(m==null)return null;if(m.nodeType===1)return m;var b=m._reactInternals;if(b===void 0)throw typeof m.render=="function"?Error(o(188)):(m=Object.keys(m).join(","),Error(o(268,m)));return m=ls(b),m=m===null?null:m.stateNode,m},reactDom_production_min.flushSync=function(m){return Zg(m)},reactDom_production_min.hydrate=function(m,b,X){if(!m2(b))throw Error(o(200));return Oy(null,m,b,!0,X)},reactDom_production_min.hydrateRoot=function(m,b,X){if(!g2(m))throw Error(o(405));var el=X!=null&&X.hydratedSources||null,jl=!1,bu="",xd=j2;if(X!=null&&(X.unstable_strictMode===!0&&(jl=!0),X.identifierPrefix!==void 0&&(bu=X.identifierPrefix),X.onRecoverableError!==void 0&&(xd=X.onRecoverableError)),b=h2(b,null,m,1,X??null,jl,!1,bu,xd),m[M1]=b.current,cy(m),el)for(m=0;m<el.length;m++)X=el[m],jl=X._getVersion,jl=jl(X._source),b.mutableSourceEagerHydrationData==null?b.mutableSourceEagerHydrationData=[X,jl]:b.mutableSourceEagerHydrationData.push(X,jl);return new Iy(b)},reactDom_production_min.render=function(m,b,X){if(!m2(b))throw Error(o(200));return Oy(null,m,b,!1,X)},reactDom_production_min.unmountComponentAtNode=function(m){if(!m2(m))throw Error(o(40));return m._reactRootContainer?(Zg(function(){Oy(null,null,m,!1,function(){m._reactRootContainer=null,m[M1]=null})}),!0):!1},reactDom_production_min.unstable_batchedUpdates=gm,reactDom_production_min.unstable_renderSubtreeIntoContainer=function(m,b,X,el){if(!m2(X))throw Error(o(200));if(m==null||m._reactInternals===void 0)throw Error(o(38));return Oy(m,b,X,!1,el)},reactDom_production_min.version="18.3.1-next-f1338f8080-20240426",reactDom_production_min}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(n){console.error(n)}}return r(),reactDom.exports=requireReactDom_production_min(),reactDom.exports}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client;hasRequiredClient=1;var r=requireReactDom();return client.createRoot=r.createRoot,client.hydrateRoot=r.hydrateRoot,client}var clientExports=requireClient();const ReactDOM$1=getDefaultExportFromCjs(clientExports);var reactDomExports=requireReactDom();const ReactDOM=getDefaultExportFromCjs(reactDomExports);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$4(){return _extends$4=Object.assign?Object.assign.bind():function(r){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])}return r},_extends$4.apply(this,arguments)}var Action;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createHashHistory(r){r===void 0&&(r={});function n(c,f){let{pathname:d="/",search:w="",hash:y=""}=parsePath(c.location.hash.substr(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),createLocation("",{pathname:d,search:w,hash:y},f.state&&f.state.usr||null,f.state&&f.state.key||"default")}function o(c,f){let d=c.document.querySelector("base"),w="";if(d&&d.getAttribute("href")){let y=c.location.href,L=y.indexOf("#");w=L===-1?y:y.slice(0,L)}return w+"#"+(typeof f=="string"?f:createPath(f))}function l(c,f){warning(c.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(f)+")")}return getUrlBasedHistory(n,o,l,r)}function invariant(r,n){if(r===!1||r===null||typeof r>"u")throw new Error(n)}function warning(r,n){if(!r){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(r,n){return{usr:r.state,key:r.key,idx:n}}function createLocation(r,n,o,l){return o===void 0&&(o=null),_extends$4({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof n=="string"?parsePath(n):n,{state:o,key:n&&n.key||l||createKey()})}function createPath(r){let{pathname:n="/",search:o="",hash:l=""}=r;return o&&o!=="?"&&(n+=o.charAt(0)==="?"?o:"?"+o),l&&l!=="#"&&(n+=l.charAt(0)==="#"?l:"#"+l),n}function parsePath(r){let n={};if(r){let o=r.indexOf("#");o>=0&&(n.hash=r.substr(o),r=r.substr(0,o));let l=r.indexOf("?");l>=0&&(n.search=r.substr(l),r=r.substr(0,l)),r&&(n.pathname=r)}return n}function getUrlBasedHistory(r,n,o,l){l===void 0&&(l={});let{window:c=document.defaultView,v5Compat:f=!1}=l,d=c.history,w=Action.Pop,y=null,L=G();L==null&&(L=0,d.replaceState(_extends$4({},d.state,{idx:L}),""));function G(){return(d.state||{idx:null}).idx}function H(){w=Action.Pop;let $l=G(),zl=$l==null?null:$l-L;L=$l,y&&y({action:w,location:zn.location,delta:zl})}function ce($l,zl){w=Action.Push;let Hl=createLocation(zn.location,$l,zl);o&&o(Hl,$l),L=G()+1;let Ft=getHistoryState(Hl,L),El=zn.createHref(Hl);try{d.pushState(Ft,"",El)}catch(Kl){if(Kl instanceof DOMException&&Kl.name==="DataCloneError")throw Kl;c.location.assign(El)}f&&y&&y({action:w,location:zn.location,delta:1})}function ie($l,zl){w=Action.Replace;let Hl=createLocation(zn.location,$l,zl);o&&o(Hl,$l),L=G();let Ft=getHistoryState(Hl,L),El=zn.createHref(Hl);d.replaceState(Ft,"",El),f&&y&&y({action:w,location:zn.location,delta:0})}function Et($l){let zl=c.location.origin!=="null"?c.location.origin:c.location.href,Hl=typeof $l=="string"?$l:createPath($l);return Hl=Hl.replace(/ $/,"%20"),invariant(zl,"No window.location.(origin|href) available to create URL for href: "+Hl),new URL(Hl,zl)}let zn={get action(){return w},get location(){return r(c,d)},listen($l){if(y)throw new Error("A history only accepts one active listener");return c.addEventListener(PopStateEventType,H),y=$l,()=>{c.removeEventListener(PopStateEventType,H),y=null}},createHref($l){return n(c,$l)},createURL:Et,encodeLocation($l){let zl=Et($l);return{pathname:zl.pathname,search:zl.search,hash:zl.hash}},push:ce,replace:ie,go($l){return d.go($l)}};return zn}var ResultType;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(ResultType||(ResultType={}));function matchRoutes(r,n,o){return o===void 0&&(o="/"),matchRoutesImpl(r,n,o)}function matchRoutesImpl(r,n,o,l){let c=typeof n=="string"?parsePath(n):n,f=stripBasename(c.pathname||"/",o);if(f==null)return null;let d=flattenRoutes(r);rankRouteBranches(d);let w=null;for(let y=0;w==null&&y<d.length;++y){let L=decodePath(f);w=matchRouteBranch(d[y],L)}return w}function flattenRoutes(r,n,o,l){n===void 0&&(n=[]),o===void 0&&(o=[]),l===void 0&&(l="");let c=(f,d,w)=>{let y={relativePath:w===void 0?f.path||"":w,caseSensitive:f.caseSensitive===!0,childrenIndex:d,route:f};y.relativePath.startsWith("/")&&(invariant(y.relativePath.startsWith(l),'Absolute route path "'+y.relativePath+'" nested under path '+('"'+l+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),y.relativePath=y.relativePath.slice(l.length));let L=joinPaths([l,y.relativePath]),G=o.concat(y);f.children&&f.children.length>0&&(invariant(f.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+L+'".')),flattenRoutes(f.children,n,G,L)),!(f.path==null&&!f.index)&&n.push({path:L,score:computeScore(L,f.index),routesMeta:G})};return r.forEach((f,d)=>{var w;if(f.path===""||!((w=f.path)!=null&&w.includes("?")))c(f,d);else for(let y of explodeOptionalSegments(f.path))c(f,d,y)}),n}function explodeOptionalSegments(r){let n=r.split("/");if(n.length===0)return[];let[o,...l]=n,c=o.endsWith("?"),f=o.replace(/\?$/,"");if(l.length===0)return c?[f,""]:[f];let d=explodeOptionalSegments(l.join("/")),w=[];return w.push(...d.map(y=>y===""?f:[f,y].join("/"))),c&&w.push(...d),w.map(y=>r.startsWith("/")&&y===""?"/":y)}function rankRouteBranches(r){r.sort((n,o)=>n.score!==o.score?o.score-n.score:compareIndexes(n.routesMeta.map(l=>l.childrenIndex),o.routesMeta.map(l=>l.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=r=>r==="*";function computeScore(r,n){let o=r.split("/"),l=o.length;return o.some(isSplat)&&(l+=splatPenalty),n&&(l+=indexRouteValue),o.filter(c=>!isSplat(c)).reduce((c,f)=>c+(paramRe.test(f)?dynamicSegmentValue:f===""?emptySegmentValue:staticSegmentValue),l)}function compareIndexes(r,n){return r.length===n.length&&r.slice(0,-1).every((l,c)=>l===n[c])?r[r.length-1]-n[n.length-1]:0}function matchRouteBranch(r,n,o){let{routesMeta:l}=r,c={},f="/",d=[];for(let w=0;w<l.length;++w){let y=l[w],L=w===l.length-1,G=f==="/"?n:n.slice(f.length)||"/",H=matchPath({path:y.relativePath,caseSensitive:y.caseSensitive,end:L},G),ce=y.route;if(!H)return null;Object.assign(c,H.params),d.push({params:c,pathname:joinPaths([f,H.pathname]),pathnameBase:normalizePathname(joinPaths([f,H.pathnameBase])),route:ce}),H.pathnameBase!=="/"&&(f=joinPaths([f,H.pathnameBase]))}return d}function matchPath(r,n){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[o,l]=compilePath(r.path,r.caseSensitive,r.end),c=n.match(o);if(!c)return null;let f=c[0],d=f.replace(/(.)\/+$/,"$1"),w=c.slice(1);return{params:l.reduce((L,G,H)=>{let{paramName:ce,isOptional:ie}=G;if(ce==="*"){let zn=w[H]||"";d=f.slice(0,f.length-zn.length).replace(/(.)\/+$/,"$1")}const Et=w[H];return ie&&!Et?L[ce]=void 0:L[ce]=(Et||"").replace(/%2F/g,"/"),L},{}),pathname:f,pathnameBase:d,pattern:r}}function compilePath(r,n,o){n===void 0&&(n=!1),o===void 0&&(o=!0),warning(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let l=[],c="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,w,y)=>(l.push({paramName:w,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(l.push({paramName:"*"}),c+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?c+="\\/*$":r!==""&&r!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,n?void 0:"i"),l]}function decodePath(r){try{return r.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return warning(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),r}}function stripBasename(r,n){if(n==="/")return r;if(!r.toLowerCase().startsWith(n.toLowerCase()))return null;let o=n.endsWith("/")?n.length-1:n.length,l=r.charAt(o);return l&&l!=="/"?null:r.slice(o)||"/"}function resolvePath(r,n){n===void 0&&(n="/");let{pathname:o,search:l="",hash:c=""}=typeof r=="string"?parsePath(r):r;return{pathname:o?o.startsWith("/")?o:resolvePathname(o,n):n,search:normalizeSearch(l),hash:normalizeHash(c)}}function resolvePathname(r,n){let o=n.replace(/\/+$/,"").split("/");return r.split("/").forEach(c=>{c===".."?o.length>1&&o.pop():c!=="."&&o.push(c)}),o.length>1?o.join("/"):"/"}function getInvalidPathError(r,n,o,l){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(l)+"].  Please separate it out to the ")+("`to."+o+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(r){return r.filter((n,o)=>o===0||n.route.path&&n.route.path.length>0)}function getResolveToMatches(r,n){let o=getPathContributingMatches(r);return n?o.map((l,c)=>c===o.length-1?l.pathname:l.pathnameBase):o.map(l=>l.pathnameBase)}function resolveTo(r,n,o,l){l===void 0&&(l=!1);let c;typeof r=="string"?c=parsePath(r):(c=_extends$4({},r),invariant(!c.pathname||!c.pathname.includes("?"),getInvalidPathError("?","pathname","search",c)),invariant(!c.pathname||!c.pathname.includes("#"),getInvalidPathError("#","pathname","hash",c)),invariant(!c.search||!c.search.includes("#"),getInvalidPathError("#","search","hash",c)));let f=r===""||c.pathname==="",d=f?"/":c.pathname,w;if(d==null)w=o;else{let H=n.length-1;if(!l&&d.startsWith("..")){let ce=d.split("/");for(;ce[0]==="..";)ce.shift(),H-=1;c.pathname=ce.join("/")}w=H>=0?n[H]:"/"}let y=resolvePath(c,w),L=d&&d!=="/"&&d.endsWith("/"),G=(f||d===".")&&o.endsWith("/");return!y.pathname.endsWith("/")&&(L||G)&&(y.pathname+="/"),y}const joinPaths=r=>r.join("/").replace(/\/\/+/g,"/"),normalizePathname=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,normalizeHash=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function isRouteErrorResponse(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(r){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])}return r},_extends$3.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useHref(r,n){let{relative:o}=n===void 0?{}:n;useInRouterContext()||invariant(!1);let{basename:l,navigator:c}=reactExports.useContext(NavigationContext),{hash:f,pathname:d,search:w}=useResolvedPath(r,{relative:o}),y=d;return l!=="/"&&(y=d==="/"?l:joinPaths([l,d])),c.createHref({pathname:y,search:w,hash:f})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect(r){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(r)}function useNavigate(){let{isDataRoute:r}=reactExports.useContext(RouteContext);return r?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant(!1);let r=reactExports.useContext(DataRouterContext),{basename:n,future:o,navigator:l}=reactExports.useContext(NavigationContext),{matches:c}=reactExports.useContext(RouteContext),{pathname:f}=useLocation(),d=JSON.stringify(getResolveToMatches(c,o.v7_relativeSplatPath)),w=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{w.current=!0}),reactExports.useCallback(function(L,G){if(G===void 0&&(G={}),!w.current)return;if(typeof L=="number"){l.go(L);return}let H=resolveTo(L,JSON.parse(d),f,G.relative==="path");r==null&&n!=="/"&&(H.pathname=H.pathname==="/"?n:joinPaths([n,H.pathname])),(G.replace?l.replace:l.push)(H,G.state,G)},[n,l,d,f,r])}function useParams(){let{matches:r}=reactExports.useContext(RouteContext),n=r[r.length-1];return n?n.params:{}}function useResolvedPath(r,n){let{relative:o}=n===void 0?{}:n,{future:l}=reactExports.useContext(NavigationContext),{matches:c}=reactExports.useContext(RouteContext),{pathname:f}=useLocation(),d=JSON.stringify(getResolveToMatches(c,l.v7_relativeSplatPath));return reactExports.useMemo(()=>resolveTo(r,JSON.parse(d),f,o==="path"),[r,d,f,o])}function useRoutes(r,n){return useRoutesImpl(r,n)}function useRoutesImpl(r,n,o,l){useInRouterContext()||invariant(!1);let{navigator:c}=reactExports.useContext(NavigationContext),{matches:f}=reactExports.useContext(RouteContext),d=f[f.length-1],w=d?d.params:{};d&&d.pathname;let y=d?d.pathnameBase:"/";d&&d.route;let L=useLocation(),G;if(n){var H;let $l=typeof n=="string"?parsePath(n):n;y==="/"||(H=$l.pathname)!=null&&H.startsWith(y)||invariant(!1),G=$l}else G=L;let ce=G.pathname||"/",ie=ce;if(y!=="/"){let $l=y.replace(/^\//,"").split("/");ie="/"+ce.replace(/^\//,"").split("/").slice($l.length).join("/")}let Et=matchRoutes(r,{pathname:ie}),zn=_renderMatches(Et&&Et.map($l=>Object.assign({},$l,{params:Object.assign({},w,$l.params),pathname:joinPaths([y,c.encodeLocation?c.encodeLocation($l.pathname).pathname:$l.pathname]),pathnameBase:$l.pathnameBase==="/"?y:joinPaths([y,c.encodeLocation?c.encodeLocation($l.pathnameBase).pathname:$l.pathnameBase])})),f,o,l);return n&&zn?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$3({pathname:"/",search:"",hash:"",state:null,key:"default"},G),navigationType:Action.Pop}},zn):zn}function DefaultErrorComponent(){let r=useRouteError(),n=isRouteErrorResponse(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),o=r instanceof Error?r.stack:null,c={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},n),o?reactExports.createElement("pre",{style:c},o):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,o){return o.location!==n.location||o.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:o.error,location:o.location,revalidation:n.revalidation||o.revalidation}}componentDidCatch(n,o){console.error("React Router caught the following error during render",n,o)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(r){let{routeContext:n,match:o,children:l}=r,c=reactExports.useContext(DataRouterContext);return c&&c.static&&c.staticContext&&(o.route.errorElement||o.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=o.route.id),reactExports.createElement(RouteContext.Provider,{value:n},l)}function _renderMatches(r,n,o,l){var c;if(n===void 0&&(n=[]),o===void 0&&(o=null),l===void 0&&(l=null),r==null){var f;if(!o)return null;if(o.errors)r=o.matches;else if((f=l)!=null&&f.v7_partialHydration&&n.length===0&&!o.initialized&&o.matches.length>0)r=o.matches;else return null}let d=r,w=(c=o)==null?void 0:c.errors;if(w!=null){let G=d.findIndex(H=>H.route.id&&w?.[H.route.id]!==void 0);G>=0||invariant(!1),d=d.slice(0,Math.min(d.length,G+1))}let y=!1,L=-1;if(o&&l&&l.v7_partialHydration)for(let G=0;G<d.length;G++){let H=d[G];if((H.route.HydrateFallback||H.route.hydrateFallbackElement)&&(L=G),H.route.id){let{loaderData:ce,errors:ie}=o,Et=H.route.loader&&ce[H.route.id]===void 0&&(!ie||ie[H.route.id]===void 0);if(H.route.lazy||Et){y=!0,L>=0?d=d.slice(0,L+1):d=[d[0]];break}}}return d.reduceRight((G,H,ce)=>{let ie,Et=!1,zn=null,$l=null;o&&(ie=w&&H.route.id?w[H.route.id]:void 0,zn=H.route.errorElement||defaultErrorElement,y&&(L<0&&ce===0?(warningOnce("route-fallback"),Et=!0,$l=null):L===ce&&(Et=!0,$l=H.route.hydrateFallbackElement||null)));let zl=n.concat(d.slice(0,ce+1)),Hl=()=>{let Ft;return ie?Ft=zn:Et?Ft=$l:H.route.Component?Ft=reactExports.createElement(H.route.Component,null):H.route.element?Ft=H.route.element:Ft=G,reactExports.createElement(RenderedRoute,{match:H,routeContext:{outlet:G,matches:zl,isDataRoute:o!=null},children:Ft})};return o&&(H.route.ErrorBoundary||H.route.errorElement||ce===0)?reactExports.createElement(RenderErrorBoundary,{location:o.location,revalidation:o.revalidation,component:zn,error:ie,children:Hl(),routeContext:{outlet:null,matches:zl,isDataRoute:!0}}):Hl()},null)}var DataRouterHook$1=(function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r})(DataRouterHook$1||{}),DataRouterStateHook$1=(function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r})(DataRouterStateHook$1||{});function useDataRouterContext$1(r){let n=reactExports.useContext(DataRouterContext);return n||invariant(!1),n}function useDataRouterState(r){let n=reactExports.useContext(DataRouterStateContext);return n||invariant(!1),n}function useRouteContext(r){let n=reactExports.useContext(RouteContext);return n||invariant(!1),n}function useCurrentRouteId(r){let n=useRouteContext(),o=n.matches[n.matches.length-1];return o.route.id||invariant(!1),o.route.id}function useRouteError(){var r;let n=reactExports.useContext(RouteErrorContext),o=useDataRouterState(),l=useCurrentRouteId();return n!==void 0?n:(r=o.errors)==null?void 0:r[l]}function useNavigateStable(){let{router:r}=useDataRouterContext$1(DataRouterHook$1.UseNavigateStable),n=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),o=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{o.current=!0}),reactExports.useCallback(function(c,f){f===void 0&&(f={}),o.current&&(typeof c=="number"?r.navigate(c):r.navigate(c,_extends$3({fromRouteId:n},f)))},[r,n])}const alreadyWarned$1={};function warningOnce(r,n,o){alreadyWarned$1[r]||(alreadyWarned$1[r]=!0)}function logV6DeprecationWarnings(r,n){r?.v7_startTransition,r?.v7_relativeSplatPath}function Route(r){invariant(!1)}function Router(r){let{basename:n="/",children:o=null,location:l,navigationType:c=Action.Pop,navigator:f,static:d=!1,future:w}=r;useInRouterContext()&&invariant(!1);let y=n.replace(/^\/*/,"/"),L=reactExports.useMemo(()=>({basename:y,navigator:f,static:d,future:_extends$3({v7_relativeSplatPath:!1},w)}),[y,w,f,d]);typeof l=="string"&&(l=parsePath(l));let{pathname:G="/",search:H="",hash:ce="",state:ie=null,key:Et="default"}=l,zn=reactExports.useMemo(()=>{let $l=stripBasename(G,y);return $l==null?null:{location:{pathname:$l,search:H,hash:ce,state:ie,key:Et},navigationType:c}},[y,G,H,ce,ie,Et,c]);return zn==null?null:reactExports.createElement(NavigationContext.Provider,{value:L},reactExports.createElement(LocationContext.Provider,{children:o,value:zn}))}function Routes(r){let{children:n,location:o}=r;return useRoutes(createRoutesFromChildren(n),o)}new Promise(()=>{});function createRoutesFromChildren(r,n){n===void 0&&(n=[]);let o=[];return reactExports.Children.forEach(r,(l,c)=>{if(!reactExports.isValidElement(l))return;let f=[...n,c];if(l.type===reactExports.Fragment){o.push.apply(o,createRoutesFromChildren(l.props.children,f));return}l.type!==Route&&invariant(!1),!l.props.index||!l.props.children||invariant(!1);let d={id:l.props.id||f.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,loader:l.props.loader,action:l.props.action,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(d.children=createRoutesFromChildren(l.props.children,f)),o.push(d)}),o}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(r){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])}return r},_extends$2.apply(this,arguments)}function _objectWithoutPropertiesLoose$7(r,n){if(r==null)return{};var o={},l=Object.keys(r),c,f;for(f=0;f<l.length;f++)c=l[f],!(n.indexOf(c)>=0)&&(o[c]=r[c]);return o}function isModifiedEvent(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function shouldProcessLinkClick(r,n){return r.button===0&&(!n||n==="_self")&&!isModifiedEvent(r)}const _excluded$6=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],_excluded2$1=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const ViewTransitionContext=reactExports.createContext({isTransitioning:!1}),START_TRANSITION="startTransition",startTransitionImpl=React$1[START_TRANSITION];function HashRouter(r){let{basename:n,children:o,future:l,window:c}=r,f=reactExports.useRef();f.current==null&&(f.current=createHashHistory({window:c,v5Compat:!0}));let d=f.current,[w,y]=reactExports.useState({action:d.action,location:d.location}),{v7_startTransition:L}=l||{},G=reactExports.useCallback(H=>{L&&startTransitionImpl?startTransitionImpl(()=>y(H)):y(H)},[y,L]);return reactExports.useLayoutEffect(()=>d.listen(G),[d,G]),reactExports.useEffect(()=>logV6DeprecationWarnings(l),[l]),reactExports.createElement(Router,{basename:n,children:o,location:w.location,navigationType:w.action,navigator:d,future:l})}const isBrowser=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function(n,o){let{onClick:l,relative:c,reloadDocument:f,replace:d,state:w,target:y,to:L,preventScrollReset:G,viewTransition:H}=n,ce=_objectWithoutPropertiesLoose$7(n,_excluded$6),{basename:ie}=reactExports.useContext(NavigationContext),Et,zn=!1;if(typeof L=="string"&&ABSOLUTE_URL_REGEX.test(L)&&(Et=L,isBrowser))try{let Ft=new URL(window.location.href),El=L.startsWith("//")?new URL(Ft.protocol+L):new URL(L),Kl=stripBasename(El.pathname,ie);El.origin===Ft.origin&&Kl!=null?L=Kl+El.search+El.hash:zn=!0}catch{}let $l=useHref(L,{relative:c}),zl=useLinkClickHandler(L,{replace:d,state:w,target:y,preventScrollReset:G,relative:c,viewTransition:H});function Hl(Ft){l&&l(Ft),Ft.defaultPrevented||zl(Ft)}return reactExports.createElement("a",_extends$2({},ce,{href:Et||$l,onClick:zn||f?l:Hl,ref:o,target:y}))}),NavLink$1=reactExports.forwardRef(function(n,o){let{"aria-current":l="page",caseSensitive:c=!1,className:f="",end:d=!1,style:w,to:y,viewTransition:L,children:G}=n,H=_objectWithoutPropertiesLoose$7(n,_excluded2$1),ce=useResolvedPath(y,{relative:H.relative}),ie=useLocation(),Et=reactExports.useContext(DataRouterStateContext),{navigator:zn,basename:$l}=reactExports.useContext(NavigationContext),zl=Et!=null&&useViewTransitionState(ce)&&L===!0,Hl=zn.encodeLocation?zn.encodeLocation(ce).pathname:ce.pathname,Ft=ie.pathname,El=Et&&Et.navigation&&Et.navigation.location?Et.navigation.location.pathname:null;c||(Ft=Ft.toLowerCase(),El=El?El.toLowerCase():null,Hl=Hl.toLowerCase()),El&&$l&&(El=stripBasename(El,$l)||El);const Kl=Hl!=="/"&&Hl.endsWith("/")?Hl.length-1:Hl.length;let Al=Ft===Hl||!d&&Ft.startsWith(Hl)&&Ft.charAt(Kl)==="/",vu=El!=null&&(El===Hl||!d&&El.startsWith(Hl)&&El.charAt(Hl.length)==="/"),Nl={isActive:Al,isPending:vu,isTransitioning:zl},Xu=Al?l:void 0,Vu;typeof f=="function"?Vu=f(Nl):Vu=[f,Al?"active":null,vu?"pending":null,zl?"transitioning":null].filter(Boolean).join(" ");let Zu=typeof w=="function"?w(Nl):w;return reactExports.createElement(Link,_extends$2({},H,{"aria-current":Xu,className:Vu,ref:o,style:Zu,to:y,viewTransition:L}),typeof G=="function"?G(Nl):G)});var DataRouterHook;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useDataRouterContext(r){let n=reactExports.useContext(DataRouterContext);return n||invariant(!1),n}function useLinkClickHandler(r,n){let{target:o,replace:l,state:c,preventScrollReset:f,relative:d,viewTransition:w}=n===void 0?{}:n,y=useNavigate(),L=useLocation(),G=useResolvedPath(r,{relative:d});return reactExports.useCallback(H=>{if(shouldProcessLinkClick(H,o)){H.preventDefault();let ce=l!==void 0?l:createPath(L)===createPath(G);y(r,{replace:ce,state:c,preventScrollReset:f,relative:d,viewTransition:w})}},[L,y,G,l,c,o,r,f,d,w])}function useViewTransitionState(r,n){n===void 0&&(n={});let o=reactExports.useContext(ViewTransitionContext);o==null&&invariant(!1);let{basename:l}=useDataRouterContext(DataRouterHook.useViewTransitionState),c=useResolvedPath(r,{relative:n.relative});if(!o.isTransitioning)return!1;let f=stripBasename(o.currentLocation.pathname,l)||o.currentLocation.pathname,d=stripBasename(o.nextLocation.pathname,l)||o.nextLocation.pathname;return matchPath(c.pathname,d)!=null||matchPath(c.pathname,f)!=null}var dist$1={},Navbar={};const mcloud_logo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGIAAABPCAYAAAAQlxDmAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4QgeDQk2h9q0aQAADmpJREFUeNrtXXuYU9W1/61zkgzDc2ByMuM45GR4fDyGZHiM16uFXm2V6idWKWpLa6Gg9oHaa1Xwtra0Kn0/KKKoxVKxLVKq9T7Ui9ZPvNZXZQAzmaBYYJLMMDBJEMSBYSY5Z90/Mthz9jxIhuRMBrP+y87JPnvt317PvfYOUKACFahABSpQz0SDefDbAFupe9SIU5/ldkeiOhZrKwCRQwpWw5FsK50tMc1hovMATAagArAJjx4mpn0gfQcTvZXU+IWZTfGWAhBnSIGxzlqWaBmAawCM6EcXDEIdM/8mkXBsqm1pOVEAIu2ZAwVU50IQ3QbGeVns+igYj9mIfzY1HD9YAKIP8o8tm0ayvg6MOWmy0Anw8S4Vla7EfECM770Tia27DtAKQBiobhbsjphyLwh3ALD38ti7BLykE79qk7TX2k8Wx42qhgFpd+XIkiQVVUPCJwmYDeAiAEN66W8HSbTU2xitLwABoK6iwumwJ/7cNWkitRGwWSfp0ZpQ698zNvKVI8foUtH1TLgJwLQeHjlOoEXecPQvH2sgGsaWnqdL0tMAzhW+0pjwoI7E92eEjh7NitpzO68kojUAqrrZJcL9vlDsWwToHzsggu4xUzWSXwUwWvhqD4GWesPR17P9zncnOUd0nqQfAri1+2Twz73h+IqPFRDBcaPdmmZ7A0CF8NWT8gksyXVgFnA75zHRHwCMEmTjDl84/quPBRBBRRmuDcXLAGYJDv8vfeHoCqvUw9uqMkMCngegmFQi8/yaSPx/rJwTaSCA0IrxQE8g1ISjd1qpo6eHY7tYlz4F0PuGZpmIngiMdY0/q4EIVLnmgrBIkMstvnB0QHRzTVNrA0j/HIAOQ/MwlviBsxaIf0yYUMQ6PySoxD2dnfYlA+WtAIAvFP8/ZtwlNF/mdyvXnJVAnEgeWwpgnFFLEWhpPuR/fJHYWjBeMQkqYdUWQD6rgKibBTtYv0vw3R/MhYvaT69Fl3XcACBpaJ40xWONVFgGhD2mXEUg1dDULhH9CHlE1c2xvQQ8ZlosjNvOLtVEWGxmkDd6G6OtyDPSZP45zInA8+s9pZPPCiACqms+AfNMQMj8O+QhTd8ffw/gOnPATWuD1XAMWiCCHqXcr7p+wcDmbi/WZTkfgWCAQDRUEOdLtDblLb9HuWzQRdZ+1XkjgdaitxQ0owng+b5IfEe+gFA3C3ZHXHkEwJI+HnvWnnQsnnLgwOG8lwi/R1lMoPXofR8AIIwF0StvV5X+S74A4Tis/PE0IADAFQlb5zN1s3rdM8kPIOrdo0YTo6eo9CSAhNA2VNKlhzkP0vEB1TUfjGt7+OrDHtr+1R53ZdWbouwDodwFwk8MTUdZ58V7muLPVldD1tqUmwCsgSFQIuYfMOTXBgwFCcOYtTVG95qB1ySdFnubovuCHqVcY34IoKsNv2odQcM8VaHQybwDom7c6FEOzbYbxtQ289d8kfhvTGCpyloAtyB/6YRMGF8dih36iLeKiqEOW+JdEMYaY4yaSGxN3qimf0yYUFSvKrc4NNvbEPYXNMn2Qjf0mZ9HflO9EQQAqG1pOQEiMQWyut6j/Cmglk4ZUCC2AHK9qtzcnvhgH4C1ADziMzLr54htOqE8z4HobXzndNMojOsYUkO96tp0JqnzfqumYKUyQZOxEcCFp3HMX+hUYvNqd6QM9S5PSYnM9u0AJghPHgawB2ArE4CUmnSa2m0umL/qi8TXf2TMq1xzWeetp5mz40y03BeKPkwA5xwIv8e5kJjWAxiWrqgD+G8QO8D0RQCVwjBWy8Oj/1EdROeA6CG3cxaIngVQZo7t8BQDbxNjIghfQvfyzt5oa7Fd+/zEve8fyxkQ9W7nTSB6uAe19iEBaxm8G6DbANSm2eV+bzg2cSD3IwwB6Po0H08Q8w9ZojAxbuBU/ZRIO9kmXV6zrzWadRvhV13LQPRI99/RE0mdJ3vDsbt94fgfNUpcCkIgzZTC7oEGIbUipWDaIIA+743E7/GFYo95w7E5BFoAoFl4biYl9Vd2TihXsgpEwO26lMD3C1LUDsJSXzj6RWPF9YzQ0aPFNm02A7/tIYgTRXIaD9DeuWB1p6ajEHRJn+0NR582NnrD0b+QRLXixhKASXJC+9O2NFQapaeOysaBeDvAY8wRJ33GF46+0acUjS9zIaF/koDxXW/8NwCXC2JxnS8S+/NAgcCAVK8qOwiYbmhuIcIDrEMHiEH42+l4TeWqnFuEwO+jwogzB0J1/hWgS0ySIOEyX2PslX4y/SIBF/+zjcOJhGPqQG2ZBjyurzPzQ8ZhSkxzpkWiGUf7wWo4tDblP4XFxkzSBX2VjJ5WJfhV1wIBBBBwS39A6PqtbtPw1a7cU1cbqUX2zh8MBAg7xzormPmn5kHS+v6AAADVQXTKJ3BdyhU39Mj6Q32pYOl0AZvE/GPBv/4vbzi24UyYr26O7QVhjSC+3/RXOSdZDYRNovsAjDQ0HWGZvndG/MVibUzSV2B2QmY09FEV0icQU9zOy5kw0dDUYZPt/56NCWhLFt0DYL+hqYiY1luZiW1QnRcDWGpeELwiXZezL6oJtb4JYKOpb+p9/7tPIHSiJWZh4N9NbTwYzsYkXNjc3E6g5YIBmROwqJZoG2DTQauF5h17wvGsbeEypPtgrgq5oLf9716B2OUpKSHgSlPeSJYezuZkdJ1J2CoYkV8FFWV4roFwupVlAGqM606X9GXZPEFUE25tZIE/1qVFGQFhY9snYD6545/WGPVne0JkDbcaDTeASn0or8wlCEGPUs6EewUD/ej0xsNv5cA33mh+TY+HcXoHgonmCB3+by4mpbo5thfgHwmG+/agR5meKyC01MaUsRz/YLEtuTwX7yoq5udhlrLauoqKoenbCOZaM5K0PVcT06YN+YVguGWNsToXhjvgcV4kbokyeGUmCbpMaPKe+IcA3jM02e0OzZeBsaYy0yqS9YZcAXFhc3M7MYve2EUB1bkwm++pmwU7p/bTjQC/6QvHNyCXRGgQYqmyTLymUpOIdRQdzuVYvZH4MwQ8JXCwut49anS23mGPK8sBqjYm8HSWb8x10pEYMfNn3ZkJECUmkT5w4ChyTEmS7wRgTHO4AEdWDLf/3DGVBHxbaH5keuRQELknYe64JBMgjAc3UFlZ6cj1aGeEDoXAdI8g1t/MRu0T2aS1AIxu8QHHEP6OFTGLDioSnJGODIy1uZ5nCJ0cbcWgix0j1wjGTZJ16ZdnYrgDVa653TKiTN/pMqQ5JzJnrcFMx9IHQkLI5O9LPNmKQU/cu7eDddwIw54vA7MDbueN/emv0eMZwjqvE6bmpZpI9HELU1qTBI+0Mf04gk2rEhLkmVaNuqYp9jeIhptoVX8M9zE+fgdO7YV0mSJodJtVvHSVZprcVclG76UNhAS8ISBziYUrCJzUvgXAeNbaReRYlUkfuzzlHgIEO0Brfc2tAav4cLyvXCDYpsaezoX0IRHSNnOkjU8HqlxllknFgfebGXSv2Wzha37VmbZkytDXADBGsS2OIfr3rVxQpPMXBB5eyijF4Yu07gewy5h+0nW+wUomEs7orwHabZxbAtals8cdcDvngfmz5sXEd1hloIHUdRMMWigEc09lBETXwB8XOrm1pzxJrqh2BxJE+s0wFWvR+QG3s88F8XplZTGnLj8xG+hQfLOVC6mzXfqGEI8dOhyO/TVjIIba9A0Ajhiayh2OTktF2xuKvwzQJsFw/9g/vszV229GyB3fhekYMXUSNEuLnv3njqkE8d1CSPDri837E+kBkUqE8WpBTG5vcLs+YSVTNujLARh971Ipqa/rcQI8ZeczsELIMaz2hg+/Y5mjAUhklzfAvAUbldvxYB/OUd/UlRltNNkKwqadY50VVjE2NRw/yIyVArML/KpydzcvifUnYawjYjRxu3SflQun3uNaCcalQlR3V1837qQVrQbcrkuZeKsJOEIgaZM/PXPvoZgVzG0DbKUeZScYXoGFTSRhI2u6B6lz26VCOuGamnD0KctAUJWbAfHEFL/oDcfn9lWYnHbaIKAqqxi4W2jeq8t8RepIrAV6V3UtIPCTmcRTvnDsPKvUUYOq3NvDHB0kiWac7kx52qWO08KxldT9mO4ESaPtfo/zC5bYCu3ktsyceH7JinEFPUp5QFWe6QGEYwyel87B/rSBIECXhscWA3ha+GokMT1RryrP1ruds3LJsE5DMkxxSCU5BUBRhterzts1xjsQy0iBDyDhyppwfGea85sZbQHkKapyPwPLeunwVZ3wqGaTn8um/Xi9srJ4mNyxRbzBAKlc/+tInbkQtyBPSExz+1u11xv/kzxltcT6lwB8WYgTTlGzJNG8TIot+p9adruuZ+J16P3SWwbwLoAgg0NE1P8yFcYwMK4yHiTsopc7E/Zra1ta4inX1bmQmP4gSHqSga0S+B0m0s9AHEtAPAnATMEtFem5zoR98akx5RwIoOuCxKR8P4iuwgCQRnLVjNChkNmgOx8n0JcHYDgxZrrTF4n+PtNjWxnZiJ6oev+RiC8Sv1pims3AM7D2wMkxEYQUQ5LVtxq3MGiFYwiPr4lEH+8PCGcsESLtrjpHTeqJRQCuAKgWOb79qyeJqFedvwfo+hxPfitALxLrm+OR+Nbe0hYDBoTJgR83elRRQp7IRFUskZN0HtlvE0GkADyJgMtgPn3zcqecvLp2/5EPAKDerVwLwmZB0g8y8ByBw2Dq32FJiTsBOgpdaiLmxmlN0f39XfmWA5Gb1IGyBIwN3VYn85sgUgBcYOKJsJ3bpYtrWluP5ztvg+6vbQKq8iQDC9J4tE3WMCNV0pn/JA02IDoS9kXEON0VEkfA0vzBAsKglIhTeZ2AqixDKqg03oPRAcYTxLTK2xTdN5h4GtT/unUqzwOgPEncnuhwNOXrfwgVqEAFKlCBCtRf+n97Y2CaOfCNbwAAAABJRU5ErkJggg==",mcloud_logo$1=Object.freeze(Object.defineProperty({__proto__:null,default:mcloud_logo},Symbol.toStringTag,{value:"Module"})),require$$2=getAugmentedNamespace(mcloud_logo$1);var hasRequiredNavbar;function requireNavbar(){if(hasRequiredNavbar)return Navbar;hasRequiredNavbar=1,Object.defineProperty(Navbar,"__esModule",{value:!0}),Navbar.default=void 0;var r=l(requireReact()),n=o(require$$2);function o(y){return y&&y.__esModule?y:{default:y}}function l(y,L){if(typeof WeakMap=="function")var G=new WeakMap,H=new WeakMap;return(l=function(ce,ie){if(!ie&&ce&&ce.__esModule)return ce;var Et,zn,$l={__proto__:null,default:ce};if(ce===null||typeof ce!="object"&&typeof ce!="function")return $l;if(Et=ie?H:G){if(Et.has(ce))return Et.get(ce);Et.set(ce,$l)}for(const zl in ce)zl!=="default"&&{}.hasOwnProperty.call(ce,zl)&&((zn=(Et=Object.defineProperty)&&Object.getOwnPropertyDescriptor(ce,zl))&&(zn.get||zn.set)?Et($l,zl,zn):$l[zl]=ce[zl]);return $l})(y,L)}const c={learn:{name:"LEARN",link:"https://www.materialscloud.org/learn"},work:{name:"WORK",link:"https://www.materialscloud.org/work"},discover:{name:"DISCOVER",link:"https://www.materialscloud.org/discover"},explore:{name:"EXPLORE",link:"https://www.materialscloud.org/explore"},archive:{name:"ARCHIVE",link:"https://www.materialscloud.org/archive"}},f={policies:{name:"Policies",link:"https://www.materialscloud.org/policies"},dmp:{name:"Data Management Plan",link:"https://www.materialscloud.org/dmp"},terms:{name:"Terms of Use",link:"https://www.materialscloud.org/termssummary"},infrastructure:{name:"Infrastructure",link:"https://www.materialscloud.org/infrastructure"},team:{name:"Team & Contact",link:"https://www.materialscloud.org/team"},partners:{name:"Partners",link:"https://www.materialscloud.org/home#partners"},restapi:{name:"Connect your REST API",link:"https://www.materialscloud.org/explore/connect"}},d=y=>{let{activeSection:L}=y;const[G,H]=(0,r.useState)(!1),ce=(0,r.useRef)(null);(0,r.useEffect)(()=>{function zn($l){ce.current&&!ce.current.contains($l.target)&&H(!1)}return document.addEventListener("mousedown",zn),()=>document.removeEventListener("mousedown",zn)},[]);const ie=()=>H(zn=>!zn),Et="dropdown-content"+(G?" dropdown-open":"");return r.default.createElement("div",{ref:ce,className:"more-dropdown"},r.default.createElement("span",{className:"more-btn",onClick:ie},"More ",r.default.createElement("i",{className:"fa fa-caret-down"})),r.default.createElement("div",{className:Et},Object.keys(f).map((zn,$l)=>{const{link:zl,name:Hl}=f[zn],Ft=zn===L?"active":"";return r.default.createElement("a",{key:$l,className:Ft,href:zl},Hl)})))},w=y=>{let{activeSection:L}=y;return r.default.createElement("div",{className:"mc-navbar"},r.default.createElement("a",{className:"mc-navbrand",href:"https://www.materialscloud.org/home"},r.default.createElement("img",{src:n.default,height:"50",alt:"MC logo"})),Object.keys(c).map((G,H)=>{let ce="mc-navlink";return G===L&&(ce+=" active"),r.default.createElement("a",{key:H,className:ce,href:c[G].link},c[G].name)}),r.default.createElement(d,{activeSection:L}))};return Navbar.default=w,Navbar}var Breadcrumbs={},hasRequiredBreadcrumbs;function requireBreadcrumbs(){if(hasRequiredBreadcrumbs)return Breadcrumbs;hasRequiredBreadcrumbs=1,Object.defineProperty(Breadcrumbs,"__esModule",{value:!0}),Breadcrumbs.default=void 0;var r=n(requireReact());function n(l){return l&&l.__esModule?l:{default:l}}const o=l=>{let{breadcrumbsPath:c}=l;return r.default.createElement("ul",{className:"mc-breadcrumb"},c.map((f,d)=>r.default.createElement("li",{key:d},r.default.createElement("a",{href:f.link},f.name))))};return Breadcrumbs.default=o,Breadcrumbs}var hasRequiredDist$1;function requireDist$1(){if(hasRequiredDist$1)return dist$1;hasRequiredDist$1=1,Object.defineProperty(dist$1,"__esModule",{value:!0}),dist$1.default=void 0;var r=l(requireReact()),n=l(requireNavbar()),o=l(requireBreadcrumbs());function l(f){return f&&f.__esModule?f:{default:f}}const c=f=>{let{activeSection:d,breadcrumbsPath:w,children:y}=f;return r.default.createElement("div",{className:"main-container"},r.default.createElement(n.default,{activeSection:d}),r.default.createElement("div",{className:"content-container"},r.default.createElement(o.default,{breadcrumbsPath:w}),y))};return dist$1.default=c,dist$1}var distExports$1=requireDist$1();const MaterialsCloudHeader=getDefaultExportFromCjs(distExports$1);var dist={},PTable={},classnames={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var hasRequiredClassnames;function requireClassnames(){return hasRequiredClassnames||(hasRequiredClassnames=1,(function(r){(function(){var n={}.hasOwnProperty;function o(){for(var f="",d=0;d<arguments.length;d++){var w=arguments[d];w&&(f=c(f,l(w)))}return f}function l(f){if(typeof f=="string"||typeof f=="number")return f;if(typeof f!="object")return"";if(Array.isArray(f))return o.apply(null,f);if(f.toString!==Object.prototype.toString&&!f.toString.toString().includes("[native code]"))return f.toString();var d="";for(var w in f)n.call(f,w)&&f[w]&&(d=c(d,w));return d}function c(f,d){return d?f?f+" "+d:f+d:f}r.exports?(o.default=o,r.exports=o):window.classNames=o})()})(classnames)),classnames.exports}var classnamesExports=requireClassnames();const classNames=getDefaultExportFromCjs(classnamesExports),DEFAULT_BREAKPOINTS=["xxl","xl","lg","md","sm","xs"],DEFAULT_MIN_BREAKPOINT="xs",ThemeContext=reactExports.createContext({prefixes:{},breakpoints:DEFAULT_BREAKPOINTS,minBreakpoint:DEFAULT_MIN_BREAKPOINT}),{Consumer,Provider}=ThemeContext;function useBootstrapPrefix(r,n){const{prefixes:o}=reactExports.useContext(ThemeContext);return r||o[n]||n}function useBootstrapBreakpoints(){const{breakpoints:r}=reactExports.useContext(ThemeContext);return r}function useBootstrapMinBreakpoint(){const{minBreakpoint:r}=reactExports.useContext(ThemeContext);return r}function useIsRTL(){const{dir:r}=reactExports.useContext(ThemeContext);return r==="rtl"}const PopoverHeader=reactExports.forwardRef(({className:r,bsPrefix:n,as:o="div",...l},c)=>(n=useBootstrapPrefix(n,"popover-header"),jsxRuntimeExports.jsx(o,{ref:c,className:classNames(r,n),...l})));PopoverHeader.displayName="PopoverHeader";const PopoverBody=reactExports.forwardRef(({className:r,bsPrefix:n,as:o="div",...l},c)=>(n=useBootstrapPrefix(n,"popover-body"),jsxRuntimeExports.jsx(o,{ref:c,className:classNames(r,n),...l})));PopoverBody.displayName="PopoverBody";function getOverlayDirection(r,n){let o=r;return r==="left"?o=n?"end":"start":r==="right"&&(o=n?"start":"end"),o}function getInitialPopperStyles(r="absolute"){return{position:r,top:"0",left:"0",opacity:"0",pointerEvents:"none"}}const Popover=reactExports.forwardRef(({bsPrefix:r,placement:n="right",className:o,style:l,children:c,body:f,arrowProps:d,hasDoneInitialMeasure:w,popper:y,show:L,...G},H)=>{const ce=useBootstrapPrefix(r,"popover"),ie=useIsRTL(),[Et]=n?.split("-")||[],zn=getOverlayDirection(Et,ie);let $l=l;return L&&!w&&($l={...l,...getInitialPopperStyles(y?.strategy)}),jsxRuntimeExports.jsxs("div",{ref:H,role:"tooltip",style:$l,"x-placement":Et,className:classNames(o,ce,Et&&`bs-popover-${zn}`),...G,children:[jsxRuntimeExports.jsx("div",{className:"popover-arrow",...d}),f?jsxRuntimeExports.jsx(PopoverBody,{children:c}):c]})});Popover.displayName="Popover";const Popover$1=Object.assign(Popover,{Header:PopoverHeader,Body:PopoverBody,POPPER_OFFSET:[0,8]}),Popover$2=Object.freeze(Object.defineProperty({__proto__:null,default:Popover$1},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(Popover$2);function or$1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Vt={exports:{}},at={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rr$1;function Qn$1(){if(Rr$1)return at;Rr$1=1;var r=React,n=Symbol.for("react.element"),o=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,c=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,f={key:!0,ref:!0,__self:!0,__source:!0};function d(w,y,L){var G,H={},ce=null,ie=null;L!==void 0&&(ce=""+L),y.key!==void 0&&(ce=""+y.key),y.ref!==void 0&&(ie=y.ref);for(G in y)l.call(y,G)&&!f.hasOwnProperty(G)&&(H[G]=y[G]);if(w&&w.defaultProps)for(G in y=w.defaultProps,y)H[G]===void 0&&(H[G]=y[G]);return{$$typeof:n,type:w,key:ce,ref:ie,props:H,_owner:c.current}}return at.Fragment=o,at.jsx=d,at.jsxs=d,at}Vt.exports=Qn$1();var k=Vt.exports;const $n$1="_button_qg5kh_1",Zn$1={button:$n$1};function Fa$1(r){return k.jsx("button",{className:Zn$1.button,children:"TEST"})}const eo$1="_archive_doicitation_5woyi_1",to$1="_doi_badge_5woyi_8",ro$1="_doi_left_5woyi_12",no$1="_doi_right_5woyi_28",xt={archive_doicitation:eo$1,doi_badge:to$1,doi_left:ro$1,doi_right:no$1};function Ba$1(r){return k.jsx("div",{className:xt.archive_doicitation,children:k.jsxs("span",{className:xt.doi_badge,children:[k.jsx("span",{className:xt.doi_left,children:"DOI"}),k.jsx("a",{href:`https://doi.org/10.24435/materialscloud:${r.doi_id}`,className:xt.doi_right,target:"_blank",children:`10.24435/materialscloud:${r.doi_id}`})]})})}function Wt(r,n){if(r.contains)return r.contains(n);if(r.compareDocumentPosition)return r===n||!!(r.compareDocumentPosition(n)&16)}var Jt={exports:{}},Bt$1,jr$1;function ir$1(){if(jr$1)return Bt$1;jr$1=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Bt$1=r,Bt$1}var Nt$1,Fr$1;function co$1(){if(Fr$1)return Nt$1;Fr$1=1;var r=ir$1();function n(){}function o(){}return o.resetWarningCache=n,Nt$1=function(){function l(d,w,y,L,G,H){if(H!==r){var ce=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw ce.name="Invariant Violation",ce}}l.isRequired=l;function c(){return l}var f={array:l,bigint:l,bool:l,func:l,number:l,object:l,string:l,symbol:l,any:l,arrayOf:c,element:l,elementType:l,instanceOf:c,node:l,objectOf:c,oneOf:c,oneOfType:c,shape:c,exact:c,checkPropTypes:o,resetWarningCache:n};return f.PropTypes=f,f},Nt$1}Jt.exports=co$1()();var po$1=Jt.exports;const N$1=or$1(po$1);function on(){const r=reactExports.useRef(!0),n=reactExports.useRef(()=>r.current);return reactExports.useEffect(()=>(r.current=!0,()=>{r.current=!1}),[]),n.current}function vo$1(r){const n=reactExports.useRef(r);return n.current=r,n}function mo$1(r){const n=vo$1(r);reactExports.useEffect(()=>()=>n.current(),[])}const Gt=2**31-1;function an(r,n,o){const l=o-Date.now();r.current=l<=Gt?setTimeout(n,l):setTimeout(()=>an(r,n,o),Gt)}function ho$1(){const r=on(),n=reactExports.useRef();return mo$1(()=>clearTimeout(n.current)),reactExports.useMemo(()=>{const o=()=>clearTimeout(n.current);function l(c,f=0){r()&&(o(),f<=Gt?n.current=setTimeout(c,f):an(n,c,Date.now()+f))}return{set:l,clear:o,handleRef:n}},[])}var sn=function(){},bo$1=sn;const un$1=or$1(bo$1);function wo$1(r,n){if(r==null)return{};var o={},l=Object.keys(r),c,f;for(f=0;f<l.length;f++)c=l[f],!(n.indexOf(c)>=0)&&(o[c]=r[c]);return o}function xo$1(r,n,o){var l=reactExports.useRef(r!==void 0),c=reactExports.useState(n),f=c[0],d=c[1],w=r!==void 0,y=l.current;return l.current=w,!w&&y&&f!==n&&d(n),[w?r:f,reactExports.useCallback(function(L){for(var G=arguments.length,H=new Array(G>1?G-1:0),ce=1;ce<G;ce++)H[ce-1]=arguments[ce];o&&o.apply(void 0,[L].concat(H)),d(L)},[o])]}function qt$1(r,n){return qt$1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},qt$1(r,n)}function Eo$1(r,n){r.prototype=Object.create(n.prototype),r.prototype.constructor=r,qt$1(r,n)}const Br$1=r=>!r||typeof r=="function"?r:n=>{r.current=n};function Ao$1(r,n){const o=Br$1(r),l=Br$1(n);return c=>{o&&o(c),l&&l(c)}}function tt(r,n){return reactExports.useMemo(()=>Ao$1(r,n),[r,n])}var cn$1={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(r){(function(){var n={}.hasOwnProperty;function o(){for(var f="",d=0;d<arguments.length;d++){var w=arguments[d];w&&(f=c(f,l(w)))}return f}function l(f){if(typeof f=="string"||typeof f=="number")return f;if(typeof f!="object")return"";if(Array.isArray(f))return o.apply(null,f);if(f.toString!==Object.prototype.toString&&!f.toString.toString().includes("[native code]"))return f.toString();var d="";for(var w in f)n.call(f,w)&&f[w]&&(d=c(d,w));return d}function c(f,d){return d?f?f+" "+d:f+d:f}r.exports?(o.default=o,r.exports=o):window.classNames=o})()})(cn$1);var Oo$1=cn$1.exports;const Ye$1=or$1(Oo$1);function Ir$1(){return reactExports.useState(null)}var Lr$1=Object.prototype.hasOwnProperty;function Hr(r,n,o){for(o of r.keys())if(lt(o,n))return o}function lt(r,n){var o,l,c;if(r===n)return!0;if(r&&n&&(o=r.constructor)===n.constructor){if(o===Date)return r.getTime()===n.getTime();if(o===RegExp)return r.toString()===n.toString();if(o===Array){if((l=r.length)===n.length)for(;l--&&lt(r[l],n[l]););return l===-1}if(o===Set){if(r.size!==n.size)return!1;for(l of r)if(c=l,c&&typeof c=="object"&&(c=Hr(n,c),!c)||!n.has(c))return!1;return!0}if(o===Map){if(r.size!==n.size)return!1;for(l of r)if(c=l[0],c&&typeof c=="object"&&(c=Hr(n,c),!c)||!lt(l[1],n.get(c)))return!1;return!0}if(o===ArrayBuffer)r=new Uint8Array(r),n=new Uint8Array(n);else if(o===DataView){if((l=r.byteLength)===n.byteLength)for(;l--&&r.getInt8(l)===n.getInt8(l););return l===-1}if(ArrayBuffer.isView(r)){if((l=r.byteLength)===n.byteLength)for(;l--&&r[l]===n[l];);return l===-1}if(!o||typeof r=="object"){l=0;for(o in r)if(Lr$1.call(r,o)&&++l&&!Lr$1.call(n,o)||!(o in n)||!lt(r[o],n[o]))return!1;return Object.keys(n).length===l}}return r!==r&&n!==n}function Ro$1(r){const n=on();return[r[0],reactExports.useCallback(o=>{if(n())return r[1](o)},[n,r[1]])]}var de$1="top",be="bottom",we="right",pe$1="left",ar="auto",ht=[de$1,be,we,pe$1],Qe$1="start",vt="end",To$1="clippingParents",ln$1="viewport",ut="popper",Co$1="reference",Nr=ht.reduce(function(r,n){return r.concat([n+"-"+Qe$1,n+"-"+vt])},[]),fn$1=[].concat(ht,[ar]).reduce(function(r,n){return r.concat([n,n+"-"+Qe$1,n+"-"+vt])},[]),So$1="beforeRead",ko$1="read",Po$1="afterRead",jo$1="beforeMain",Do$1="main",_o$1="afterMain",Mo$1="beforeWrite",Fo$1="write",Bo$1="afterWrite",Io$1=[So$1,ko$1,Po$1,jo$1,Do$1,_o$1,Mo$1,Fo$1,Bo$1];function xe(r){return r.split("-")[0]}function me(r){if(r==null)return window;if(r.toString()!=="[object Window]"){var n=r.ownerDocument;return n&&n.defaultView||window}return r}function He$1(r){var n=me(r).Element;return r instanceof n||r instanceof Element}function Ee$1(r){var n=me(r).HTMLElement;return r instanceof n||r instanceof HTMLElement}function sr$1(r){if(typeof ShadowRoot>"u")return!1;var n=me(r).ShadowRoot;return r instanceof n||r instanceof ShadowRoot}var Le=Math.max,Ct$1=Math.min,Xe$1=Math.round;function zt$1(){var r=navigator.userAgentData;return r!=null&&r.brands&&Array.isArray(r.brands)?r.brands.map(function(n){return n.brand+"/"+n.version}).join(" "):navigator.userAgent}function dn$1(){return!/^((?!chrome|android).)*safari/i.test(zt$1())}function $e$1(r,n,o){n===void 0&&(n=!1),o===void 0&&(o=!1);var l=r.getBoundingClientRect(),c=1,f=1;n&&Ee$1(r)&&(c=r.offsetWidth>0&&Xe$1(l.width)/r.offsetWidth||1,f=r.offsetHeight>0&&Xe$1(l.height)/r.offsetHeight||1);var d=He$1(r)?me(r):window,w=d.visualViewport,y=!dn$1()&&o,L=(l.left+(y&&w?w.offsetLeft:0))/c,G=(l.top+(y&&w?w.offsetTop:0))/f,H=l.width/c,ce=l.height/f;return{width:H,height:ce,top:G,right:L+H,bottom:G+ce,left:L,x:L,y:G}}function ur$1(r){var n=$e$1(r),o=r.offsetWidth,l=r.offsetHeight;return Math.abs(n.width-o)<=1&&(o=n.width),Math.abs(n.height-l)<=1&&(l=n.height),{x:r.offsetLeft,y:r.offsetTop,width:o,height:l}}function pn$1(r,n){var o=n.getRootNode&&n.getRootNode();if(r.contains(n))return!0;if(o&&sr$1(o)){var l=n;do{if(l&&r.isSameNode(l))return!0;l=l.parentNode||l.host}while(l)}return!1}function De(r){return r?(r.nodeName||"").toLowerCase():null}function Ce$1(r){return me(r).getComputedStyle(r)}function Lo$1(r){return["table","td","th"].indexOf(De(r))>=0}function _e$1(r){return((He$1(r)?r.ownerDocument:r.document)||window.document).documentElement}function kt$1(r){return De(r)==="html"?r:r.assignedSlot||r.parentNode||(sr$1(r)?r.host:null)||_e$1(r)}function Ur(r){return!Ee$1(r)||Ce$1(r).position==="fixed"?null:r.offsetParent}function Ho$1(r){var n=/firefox/i.test(zt$1()),o=/Trident/i.test(zt$1());if(o&&Ee$1(r)){var l=Ce$1(r);if(l.position==="fixed")return null}var c=kt$1(r);for(sr$1(c)&&(c=c.host);Ee$1(c)&&["html","body"].indexOf(De(c))<0;){var f=Ce$1(c);if(f.transform!=="none"||f.perspective!=="none"||f.contain==="paint"||["transform","perspective"].indexOf(f.willChange)!==-1||n&&f.willChange==="filter"||n&&f.filter&&f.filter!=="none")return c;c=c.parentNode}return null}function yt$1(r){for(var n=me(r),o=Ur(r);o&&Lo$1(o)&&Ce$1(o).position==="static";)o=Ur(o);return o&&(De(o)==="html"||De(o)==="body"&&Ce$1(o).position==="static")?n:o||Ho$1(r)||n}function cr(r){return["top","bottom"].indexOf(r)>=0?"x":"y"}function ft(r,n,o){return Le(r,Ct$1(n,o))}function No$1(r,n,o){var l=ft(r,n,o);return l>o?o:l}function vn$1(){return{top:0,right:0,bottom:0,left:0}}function mn$1(r){return Object.assign({},vn$1(),r)}function hn$1(r,n){return n.reduce(function(o,l){return o[l]=r,o},{})}var Uo$1=function(r,n){return r=typeof r=="function"?r(Object.assign({},n.rects,{placement:n.placement})):r,mn$1(typeof r!="number"?r:hn$1(r,ht))};function Yo$1(r){var n,o=r.state,l=r.name,c=r.options,f=o.elements.arrow,d=o.modifiersData.popperOffsets,w=xe(o.placement),y=cr(w),L=[pe$1,we].indexOf(w)>=0,G=L?"height":"width";if(!(!f||!d)){var H=Uo$1(c.padding,o),ce=ur$1(f),ie=y==="y"?de$1:pe$1,Et=y==="y"?be:we,zn=o.rects.reference[G]+o.rects.reference[y]-d[y]-o.rects.popper[G],$l=d[y]-o.rects.reference[y],zl=yt$1(f),Hl=zl?y==="y"?zl.clientHeight||0:zl.clientWidth||0:0,Ft=zn/2-$l/2,El=H[ie],Kl=Hl-ce[G]-H[Et],Al=Hl/2-ce[G]/2+Ft,vu=ft(El,Al,Kl),Nl=y;o.modifiersData[l]=(n={},n[Nl]=vu,n.centerOffset=vu-Al,n)}}function Vo$1(r){var n=r.state,o=r.options,l=o.element,c=l===void 0?"[data-popper-arrow]":l;c!=null&&(typeof c=="string"&&(c=n.elements.popper.querySelector(c),!c)||pn$1(n.elements.popper,c)&&(n.elements.arrow=c))}const Wo$1={name:"arrow",enabled:!0,phase:"main",fn:Yo$1,effect:Vo$1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ze(r){return r.split("-")[1]}var Jo$1={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Go$1(r,n){var o=r.x,l=r.y,c=n.devicePixelRatio||1;return{x:Xe$1(o*c)/c||0,y:Xe$1(l*c)/c||0}}function Yr(r){var n,o=r.popper,l=r.popperRect,c=r.placement,f=r.variation,d=r.offsets,w=r.position,y=r.gpuAcceleration,L=r.adaptive,G=r.roundOffsets,H=r.isFixed,ce=d.x,ie=ce===void 0?0:ce,Et=d.y,zn=Et===void 0?0:Et,$l=typeof G=="function"?G({x:ie,y:zn}):{x:ie,y:zn};ie=$l.x,zn=$l.y;var zl=d.hasOwnProperty("x"),Hl=d.hasOwnProperty("y"),Ft=pe$1,El=de$1,Kl=window;if(L){var Al=yt$1(o),vu="clientHeight",Nl="clientWidth";if(Al===me(o)&&(Al=_e$1(o),Ce$1(Al).position!=="static"&&w==="absolute"&&(vu="scrollHeight",Nl="scrollWidth")),Al=Al,c===de$1||(c===pe$1||c===we)&&f===vt){El=be;var Xu=H&&Al===Kl&&Kl.visualViewport?Kl.visualViewport.height:Al[vu];zn-=Xu-l.height,zn*=y?1:-1}if(c===pe$1||(c===de$1||c===be)&&f===vt){Ft=we;var Vu=H&&Al===Kl&&Kl.visualViewport?Kl.visualViewport.width:Al[Nl];ie-=Vu-l.width,ie*=y?1:-1}}var Zu=Object.assign({position:w},L&&Jo$1),Od=G===!0?Go$1({x:ie,y:zn},me(o)):{x:ie,y:zn};if(ie=Od.x,zn=Od.y,y){var Id;return Object.assign({},Zu,(Id={},Id[El]=Hl?"0":"",Id[Ft]=zl?"0":"",Id.transform=(Kl.devicePixelRatio||1)<=1?"translate("+ie+"px, "+zn+"px)":"translate3d("+ie+"px, "+zn+"px, 0)",Id))}return Object.assign({},Zu,(n={},n[El]=Hl?zn+"px":"",n[Ft]=zl?ie+"px":"",n.transform="",n))}function qo$1(r){var n=r.state,o=r.options,l=o.gpuAcceleration,c=l===void 0?!0:l,f=o.adaptive,d=f===void 0?!0:f,w=o.roundOffsets,y=w===void 0?!0:w,L={placement:xe(n.placement),variation:Ze(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:c,isFixed:n.options.strategy==="fixed"};n.modifiersData.popperOffsets!=null&&(n.styles.popper=Object.assign({},n.styles.popper,Yr(Object.assign({},L,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:d,roundOffsets:y})))),n.modifiersData.arrow!=null&&(n.styles.arrow=Object.assign({},n.styles.arrow,Yr(Object.assign({},L,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:y})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})}const zo$1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:qo$1,data:{}};var At={passive:!0};function Ko$1(r){var n=r.state,o=r.instance,l=r.options,c=l.scroll,f=c===void 0?!0:c,d=l.resize,w=d===void 0?!0:d,y=me(n.elements.popper),L=[].concat(n.scrollParents.reference,n.scrollParents.popper);return f&&L.forEach(function(G){G.addEventListener("scroll",o.update,At)}),w&&y.addEventListener("resize",o.update,At),function(){f&&L.forEach(function(G){G.removeEventListener("scroll",o.update,At)}),w&&y.removeEventListener("resize",o.update,At)}}const Qo$1={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Ko$1,data:{}};var Xo$1={left:"right",right:"left",bottom:"top",top:"bottom"};function Rt$1(r){return r.replace(/left|right|bottom|top/g,function(n){return Xo$1[n]})}var $o$1={start:"end",end:"start"};function Vr(r){return r.replace(/start|end/g,function(n){return $o$1[n]})}function lr$1(r){var n=me(r),o=n.pageXOffset,l=n.pageYOffset;return{scrollLeft:o,scrollTop:l}}function fr$1(r){return $e$1(_e$1(r)).left+lr$1(r).scrollLeft}function Zo$1(r,n){var o=me(r),l=_e$1(r),c=o.visualViewport,f=l.clientWidth,d=l.clientHeight,w=0,y=0;if(c){f=c.width,d=c.height;var L=dn$1();(L||!L&&n==="fixed")&&(w=c.offsetLeft,y=c.offsetTop)}return{width:f,height:d,x:w+fr$1(r),y}}function ei(r){var n,o=_e$1(r),l=lr$1(r),c=(n=r.ownerDocument)==null?void 0:n.body,f=Le(o.scrollWidth,o.clientWidth,c?c.scrollWidth:0,c?c.clientWidth:0),d=Le(o.scrollHeight,o.clientHeight,c?c.scrollHeight:0,c?c.clientHeight:0),w=-l.scrollLeft+fr$1(r),y=-l.scrollTop;return Ce$1(c||o).direction==="rtl"&&(w+=Le(o.clientWidth,c?c.clientWidth:0)-f),{width:f,height:d,x:w,y}}function dr$1(r){var n=Ce$1(r),o=n.overflow,l=n.overflowX,c=n.overflowY;return/auto|scroll|overlay|hidden/.test(o+c+l)}function yn$1(r){return["html","body","#document"].indexOf(De(r))>=0?r.ownerDocument.body:Ee$1(r)&&dr$1(r)?r:yn$1(kt$1(r))}function dt$1(r,n){var o;n===void 0&&(n=[]);var l=yn$1(r),c=l===((o=r.ownerDocument)==null?void 0:o.body),f=me(l),d=c?[f].concat(f.visualViewport||[],dr$1(l)?l:[]):l,w=n.concat(d);return c?w:w.concat(dt$1(kt$1(d)))}function Kt(r){return Object.assign({},r,{left:r.x,top:r.y,right:r.x+r.width,bottom:r.y+r.height})}function ti(r,n){var o=$e$1(r,!1,n==="fixed");return o.top=o.top+r.clientTop,o.left=o.left+r.clientLeft,o.bottom=o.top+r.clientHeight,o.right=o.left+r.clientWidth,o.width=r.clientWidth,o.height=r.clientHeight,o.x=o.left,o.y=o.top,o}function Wr(r,n,o){return n===ln$1?Kt(Zo$1(r,o)):He$1(n)?ti(n,o):Kt(ei(_e$1(r)))}function ri$1(r){var n=dt$1(kt$1(r)),o=["absolute","fixed"].indexOf(Ce$1(r).position)>=0,l=o&&Ee$1(r)?yt$1(r):r;return He$1(l)?n.filter(function(c){return He$1(c)&&pn$1(c,l)&&De(c)!=="body"}):[]}function ni(r,n,o,l){var c=n==="clippingParents"?ri$1(r):[].concat(n),f=[].concat(c,[o]),d=f[0],w=f.reduce(function(y,L){var G=Wr(r,L,l);return y.top=Le(G.top,y.top),y.right=Ct$1(G.right,y.right),y.bottom=Ct$1(G.bottom,y.bottom),y.left=Le(G.left,y.left),y},Wr(r,d,l));return w.width=w.right-w.left,w.height=w.bottom-w.top,w.x=w.left,w.y=w.top,w}function gn$1(r){var n=r.reference,o=r.element,l=r.placement,c=l?xe(l):null,f=l?Ze(l):null,d=n.x+n.width/2-o.width/2,w=n.y+n.height/2-o.height/2,y;switch(c){case de$1:y={x:d,y:n.y-o.height};break;case be:y={x:d,y:n.y+n.height};break;case we:y={x:n.x+n.width,y:w};break;case pe$1:y={x:n.x-o.width,y:w};break;default:y={x:n.x,y:n.y}}var L=c?cr(c):null;if(L!=null){var G=L==="y"?"height":"width";switch(f){case Qe$1:y[L]=y[L]-(n[G]/2-o[G]/2);break;case vt:y[L]=y[L]+(n[G]/2-o[G]/2);break}}return y}function mt(r,n){n===void 0&&(n={});var o=n,l=o.placement,c=l===void 0?r.placement:l,f=o.strategy,d=f===void 0?r.strategy:f,w=o.boundary,y=w===void 0?To$1:w,L=o.rootBoundary,G=L===void 0?ln$1:L,H=o.elementContext,ce=H===void 0?ut:H,ie=o.altBoundary,Et=ie===void 0?!1:ie,zn=o.padding,$l=zn===void 0?0:zn,zl=mn$1(typeof $l!="number"?$l:hn$1($l,ht)),Hl=ce===ut?Co$1:ut,Ft=r.rects.popper,El=r.elements[Et?Hl:ce],Kl=ni(He$1(El)?El:El.contextElement||_e$1(r.elements.popper),y,G,d),Al=$e$1(r.elements.reference),vu=gn$1({reference:Al,element:Ft,placement:c}),Nl=Kt(Object.assign({},Ft,vu)),Xu=ce===ut?Nl:Al,Vu={top:Kl.top-Xu.top+zl.top,bottom:Xu.bottom-Kl.bottom+zl.bottom,left:Kl.left-Xu.left+zl.left,right:Xu.right-Kl.right+zl.right},Zu=r.modifiersData.offset;if(ce===ut&&Zu){var Od=Zu[c];Object.keys(Vu).forEach(function(Id){var Bd=[we,be].indexOf(Id)>=0?1:-1,Cd=[de$1,be].indexOf(Id)>=0?"y":"x";Vu[Id]+=Od[Cd]*Bd})}return Vu}function oi(r,n){n===void 0&&(n={});var o=n,l=o.placement,c=o.boundary,f=o.rootBoundary,d=o.padding,w=o.flipVariations,y=o.allowedAutoPlacements,L=y===void 0?fn$1:y,G=Ze(l),H=G?w?Nr:Nr.filter(function(Et){return Ze(Et)===G}):ht,ce=H.filter(function(Et){return L.indexOf(Et)>=0});ce.length===0&&(ce=H);var ie=ce.reduce(function(Et,zn){return Et[zn]=mt(r,{placement:zn,boundary:c,rootBoundary:f,padding:d})[xe(zn)],Et},{});return Object.keys(ie).sort(function(Et,zn){return ie[Et]-ie[zn]})}function ii(r){if(xe(r)===ar)return[];var n=Rt$1(r);return[Vr(r),n,Vr(n)]}function ai$1(r){var n=r.state,o=r.options,l=r.name;if(!n.modifiersData[l]._skip){for(var c=o.mainAxis,f=c===void 0?!0:c,d=o.altAxis,w=d===void 0?!0:d,y=o.fallbackPlacements,L=o.padding,G=o.boundary,H=o.rootBoundary,ce=o.altBoundary,ie=o.flipVariations,Et=ie===void 0?!0:ie,zn=o.allowedAutoPlacements,$l=n.options.placement,zl=xe($l),Hl=zl===$l,Ft=y||(Hl||!Et?[Rt$1($l)]:ii($l)),El=[$l].concat(Ft).reduce(function(md,oh){return md.concat(xe(oh)===ar?oi(n,{placement:oh,boundary:G,rootBoundary:H,padding:L,flipVariations:Et,allowedAutoPlacements:zn}):oh)},[]),Kl=n.rects.reference,Al=n.rects.popper,vu=new Map,Nl=!0,Xu=El[0],Vu=0;Vu<El.length;Vu++){var Zu=El[Vu],Od=xe(Zu),Id=Ze(Zu)===Qe$1,Bd=[de$1,be].indexOf(Od)>=0,Cd=Bd?"width":"height",Wl=mt(n,{placement:Zu,boundary:G,rootBoundary:H,altBoundary:ce,padding:L}),jd=Bd?Id?we:pe$1:Id?be:de$1;Kl[Cd]>Al[Cd]&&(jd=Rt$1(jd));var Md=Rt$1(jd),qu=[];if(f&&qu.push(Wl[Od]<=0),w&&qu.push(Wl[jd]<=0,Wl[Md]<=0),qu.every(function(md){return md})){Xu=Zu,Nl=!1;break}vu.set(Zu,qu)}if(Nl)for(var ad=Et?3:1,Dd=function(md){var oh=El.find(function(qh){var sf=vu.get(qh);if(sf)return sf.slice(0,md).every(function(yh){return yh})});if(oh)return Xu=oh,"break"},mh=ad;mh>0;mh--){var gd=Dd(mh);if(gd==="break")break}n.placement!==Xu&&(n.modifiersData[l]._skip=!0,n.placement=Xu,n.reset=!0)}}const si={name:"flip",enabled:!0,phase:"main",fn:ai$1,requiresIfExists:["offset"],data:{_skip:!1}};function Jr(r,n,o){return o===void 0&&(o={x:0,y:0}),{top:r.top-n.height-o.y,right:r.right-n.width+o.x,bottom:r.bottom-n.height+o.y,left:r.left-n.width-o.x}}function Gr(r){return[de$1,we,be,pe$1].some(function(n){return r[n]>=0})}function ui$1(r){var n=r.state,o=r.name,l=n.rects.reference,c=n.rects.popper,f=n.modifiersData.preventOverflow,d=mt(n,{elementContext:"reference"}),w=mt(n,{altBoundary:!0}),y=Jr(d,l),L=Jr(w,c,f),G=Gr(y),H=Gr(L);n.modifiersData[o]={referenceClippingOffsets:y,popperEscapeOffsets:L,isReferenceHidden:G,hasPopperEscaped:H},n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-reference-hidden":G,"data-popper-escaped":H})}const ci$1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:ui$1};function li$1(r,n,o){var l=xe(r),c=[pe$1,de$1].indexOf(l)>=0?-1:1,f=typeof o=="function"?o(Object.assign({},n,{placement:r})):o,d=f[0],w=f[1];return d=d||0,w=(w||0)*c,[pe$1,we].indexOf(l)>=0?{x:w,y:d}:{x:d,y:w}}function fi(r){var n=r.state,o=r.options,l=r.name,c=o.offset,f=c===void 0?[0,0]:c,d=fn$1.reduce(function(G,H){return G[H]=li$1(H,n.rects,f),G},{}),w=d[n.placement],y=w.x,L=w.y;n.modifiersData.popperOffsets!=null&&(n.modifiersData.popperOffsets.x+=y,n.modifiersData.popperOffsets.y+=L),n.modifiersData[l]=d}const di={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:fi};function pi(r){var n=r.state,o=r.name;n.modifiersData[o]=gn$1({reference:n.rects.reference,element:n.rects.popper,placement:n.placement})}const vi={name:"popperOffsets",enabled:!0,phase:"read",fn:pi,data:{}};function mi(r){return r==="x"?"y":"x"}function hi(r){var n=r.state,o=r.options,l=r.name,c=o.mainAxis,f=c===void 0?!0:c,d=o.altAxis,w=d===void 0?!1:d,y=o.boundary,L=o.rootBoundary,G=o.altBoundary,H=o.padding,ce=o.tether,ie=ce===void 0?!0:ce,Et=o.tetherOffset,zn=Et===void 0?0:Et,$l=mt(n,{boundary:y,rootBoundary:L,padding:H,altBoundary:G}),zl=xe(n.placement),Hl=Ze(n.placement),Ft=!Hl,El=cr(zl),Kl=mi(El),Al=n.modifiersData.popperOffsets,vu=n.rects.reference,Nl=n.rects.popper,Xu=typeof zn=="function"?zn(Object.assign({},n.rects,{placement:n.placement})):zn,Vu=typeof Xu=="number"?{mainAxis:Xu,altAxis:Xu}:Object.assign({mainAxis:0,altAxis:0},Xu),Zu=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,Od={x:0,y:0};if(Al){if(f){var Id,Bd=El==="y"?de$1:pe$1,Cd=El==="y"?be:we,Wl=El==="y"?"height":"width",jd=Al[El],Md=jd+$l[Bd],qu=jd-$l[Cd],ad=ie?-Nl[Wl]/2:0,Dd=Hl===Qe$1?vu[Wl]:Nl[Wl],mh=Hl===Qe$1?-Nl[Wl]:-vu[Wl],gd=n.elements.arrow,md=ie&&gd?ur$1(gd):{width:0,height:0},oh=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:vn$1(),qh=oh[Bd],sf=oh[Cd],yh=ft(0,vu[Wl],md[Wl]),vf=Ft?vu[Wl]/2-ad-yh-qh-Vu.mainAxis:Dd-yh-qh-Vu.mainAxis,Ef=Ft?-vu[Wl]/2+ad+yh+sf+Vu.mainAxis:mh+yh+sf+Vu.mainAxis,kf=n.elements.arrow&&yt$1(n.elements.arrow),Mp=kf?El==="y"?kf.clientTop||0:kf.clientLeft||0:0,rp=(Id=Zu?.[El])!=null?Id:0,Fp=jd+vf-rp-Mp,_0=jd+Ef-rp,L0=ft(ie?Ct$1(Md,Fp):Md,jd,ie?Le(qu,_0):qu);Al[El]=L0,Od[El]=L0-jd}if(w){var Gp,E0=El==="x"?de$1:pe$1,l0=El==="x"?be:we,n0=Al[Kl],Z0=Kl==="y"?"height":"width",G0=n0+$l[E0],X0=n0-$l[l0],$g=[de$1,pe$1].indexOf(zl)!==-1,Gg=(Gp=Zu?.[Kl])!=null?Gp:0,_f=$g?G0:n0-vu[Z0]-Nl[Z0]-Gg+Vu.altAxis,hd=$g?n0+vu[Z0]+Nl[Z0]-Gg-Vu.altAxis:X0,qd=ie&&$g?No$1(_f,n0,hd):ft(ie?_f:G0,n0,ie?hd:X0);Al[Kl]=qd,Od[Kl]=qd-n0}n.modifiersData[l]=Od}}const yi$1={name:"preventOverflow",enabled:!0,phase:"main",fn:hi,requiresIfExists:["offset"]};function gi(r){return{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}}function bi$1(r){return r===me(r)||!Ee$1(r)?lr$1(r):gi(r)}function wi$1(r){var n=r.getBoundingClientRect(),o=Xe$1(n.width)/r.offsetWidth||1,l=Xe$1(n.height)/r.offsetHeight||1;return o!==1||l!==1}function xi(r,n,o){o===void 0&&(o=!1);var l=Ee$1(n),c=Ee$1(n)&&wi$1(n),f=_e$1(n),d=$e$1(r,c,o),w={scrollLeft:0,scrollTop:0},y={x:0,y:0};return(l||!l&&!o)&&((De(n)!=="body"||dr$1(f))&&(w=bi$1(n)),Ee$1(n)?(y=$e$1(n,!0),y.x+=n.clientLeft,y.y+=n.clientTop):f&&(y.x=fr$1(f))),{x:d.left+w.scrollLeft-y.x,y:d.top+w.scrollTop-y.y,width:d.width,height:d.height}}function Ei(r){var n=new Map,o=new Set,l=[];r.forEach(function(f){n.set(f.name,f)});function c(f){o.add(f.name);var d=[].concat(f.requires||[],f.requiresIfExists||[]);d.forEach(function(w){if(!o.has(w)){var y=n.get(w);y&&c(y)}}),l.push(f)}return r.forEach(function(f){o.has(f.name)||c(f)}),l}function Ai$1(r){var n=Ei(r);return Io$1.reduce(function(o,l){return o.concat(n.filter(function(c){return c.phase===l}))},[])}function Oi$1(r){var n;return function(){return n||(n=new Promise(function(o){Promise.resolve().then(function(){n=void 0,o(r())})})),n}}function Ri$1(r){var n=r.reduce(function(o,l){var c=o[l.name];return o[l.name]=c?Object.assign({},c,l,{options:Object.assign({},c.options,l.options),data:Object.assign({},c.data,l.data)}):l,o},{});return Object.keys(n).map(function(o){return n[o]})}var qr={placement:"bottom",modifiers:[],strategy:"absolute"};function zr$1(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return!n.some(function(l){return!(l&&typeof l.getBoundingClientRect=="function")})}function Ti$1(r){r===void 0&&(r={});var n=r,o=n.defaultModifiers,l=o===void 0?[]:o,c=n.defaultOptions,f=c===void 0?qr:c;return function(d,w,y){y===void 0&&(y=f);var L={placement:"bottom",orderedModifiers:[],options:Object.assign({},qr,f),modifiersData:{},elements:{reference:d,popper:w},attributes:{},styles:{}},G=[],H=!1,ce={state:L,setOptions:function(zn){var $l=typeof zn=="function"?zn(L.options):zn;Et(),L.options=Object.assign({},f,L.options,$l),L.scrollParents={reference:He$1(d)?dt$1(d):d.contextElement?dt$1(d.contextElement):[],popper:dt$1(w)};var zl=Ai$1(Ri$1([].concat(l,L.options.modifiers)));return L.orderedModifiers=zl.filter(function(Hl){return Hl.enabled}),ie(),ce.update()},forceUpdate:function(){if(!H){var zn=L.elements,$l=zn.reference,zl=zn.popper;if(zr$1($l,zl)){L.rects={reference:xi($l,yt$1(zl),L.options.strategy==="fixed"),popper:ur$1(zl)},L.reset=!1,L.placement=L.options.placement,L.orderedModifiers.forEach(function(Nl){return L.modifiersData[Nl.name]=Object.assign({},Nl.data)});for(var Hl=0;Hl<L.orderedModifiers.length;Hl++){if(L.reset===!0){L.reset=!1,Hl=-1;continue}var Ft=L.orderedModifiers[Hl],El=Ft.fn,Kl=Ft.options,Al=Kl===void 0?{}:Kl,vu=Ft.name;typeof El=="function"&&(L=El({state:L,options:Al,name:vu,instance:ce})||L)}}}},update:Oi$1(function(){return new Promise(function(zn){ce.forceUpdate(),zn(L)})}),destroy:function(){Et(),H=!0}};if(!zr$1(d,w))return ce;ce.setOptions(y).then(function(zn){!H&&y.onFirstUpdate&&y.onFirstUpdate(zn)});function ie(){L.orderedModifiers.forEach(function(zn){var $l=zn.name,zl=zn.options,Hl=zl===void 0?{}:zl,Ft=zn.effect;if(typeof Ft=="function"){var El=Ft({state:L,name:$l,instance:ce,options:Hl}),Kl=function(){};G.push(El||Kl)}})}function Et(){G.forEach(function(zn){return zn()}),G=[]}return ce}}const Ci$1=Ti$1({defaultModifiers:[ci$1,vi,zo$1,Qo$1,di,si,yi$1,Wo$1]}),Si$1=["enabled","placement","strategy","modifiers"];function ki$1(r,n){if(r==null)return{};var o={},l=Object.keys(r),c,f;for(f=0;f<l.length;f++)c=l[f],!(n.indexOf(c)>=0)&&(o[c]=r[c]);return o}const Pi$1={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},ji$1={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:r})=>()=>{const{reference:n,popper:o}=r.elements;if("removeAttribute"in n){const l=(n.getAttribute("aria-describedby")||"").split(",").filter(c=>c.trim()!==o.id);l.length?n.setAttribute("aria-describedby",l.join(",")):n.removeAttribute("aria-describedby")}},fn:({state:r})=>{var n;const{popper:o,reference:l}=r.elements,c=(n=o.getAttribute("role"))==null?void 0:n.toLowerCase();if(o.id&&c==="tooltip"&&"setAttribute"in l){const f=l.getAttribute("aria-describedby");if(f&&f.split(",").indexOf(o.id)!==-1)return;l.setAttribute("aria-describedby",f?`${f},${o.id}`:o.id)}}},Di$1=[];function _i$2(r,n,o={}){let{enabled:l=!0,placement:c="bottom",strategy:f="absolute",modifiers:d=Di$1}=o,w=ki$1(o,Si$1);const y=reactExports.useRef(d),L=reactExports.useRef(),G=reactExports.useCallback(()=>{var $l;($l=L.current)==null||$l.update()},[]),H=reactExports.useCallback(()=>{var $l;($l=L.current)==null||$l.forceUpdate()},[]),[ce,ie]=Ro$1(reactExports.useState({placement:c,update:G,forceUpdate:H,attributes:{},styles:{popper:{},arrow:{}}})),Et=reactExports.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:$l})=>{const zl={},Hl={};Object.keys($l.elements).forEach(Ft=>{zl[Ft]=$l.styles[Ft],Hl[Ft]=$l.attributes[Ft]}),ie({state:$l,styles:zl,attributes:Hl,update:G,forceUpdate:H,placement:$l.placement})}}),[G,H,ie]),zn=reactExports.useMemo(()=>(lt(y.current,d)||(y.current=d),y.current),[d]);return reactExports.useEffect(()=>{!L.current||!l||L.current.setOptions({placement:c,strategy:f,modifiers:[...zn,Et,Pi$1]})},[f,c,Et,l,zn]),reactExports.useEffect(()=>{if(!(!l||r==null||n==null))return L.current=Ci$1(r,n,Object.assign({},w,{placement:c,strategy:f,modifiers:[...zn,ji$1,Et]})),()=>{L.current!=null&&(L.current.destroy(),L.current=void 0,ie($l=>Object.assign({},$l,{attributes:{},styles:{popper:{}}})))}},[l,r,n]),ce}const pr$1=!!(typeof window<"u"&&window.document&&window.document.createElement);var Qt$1=!1,Xt$1=!1;try{var Ut$1={get passive(){return Qt$1=!0},get once(){return Xt$1=Qt$1=!0}};pr$1&&(window.addEventListener("test",Ut$1,Ut$1),window.removeEventListener("test",Ut$1,!0))}catch{}function Mi$1(r,n,o,l){if(l&&typeof l!="boolean"&&!Xt$1){var c=l.once,f=l.capture,d=o;!Xt$1&&c&&(d=o.__once||function w(y){this.removeEventListener(n,w,f),o.call(this,y)},o.__once=d),r.addEventListener(n,d,Qt$1?l:f)}r.addEventListener(n,o,l)}function Fi$1(r,n,o,l){var c=l&&typeof l!="boolean"?l.capture:l;r.removeEventListener(n,o,c),o.__once&&r.removeEventListener(n,o.__once,c)}function Ie$1(r,n,o,l){return Mi$1(r,n,o,l),function(){Fi$1(r,n,o,l)}}function Pt$1(r){return r&&r.ownerDocument||document}function Bi$1(r){const n=reactExports.useRef(r);return reactExports.useEffect(()=>{n.current=r},[r]),n}function et(r){const n=Bi$1(r);return reactExports.useCallback(function(...o){return n.current&&n.current(...o)},[n])}const Kr=()=>{};function Ii$1(r){return r.button===0}function Li$1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}const Tt=r=>r&&("current"in r?r.current:r),Qr={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function Hi$1(r,n=Kr,{disabled:o,clickTrigger:l="click"}={}){const c=reactExports.useRef(!1),f=reactExports.useRef(!1),d=reactExports.useCallback(L=>{const G=Tt(r);un$1(!!G,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),c.current=!G||Li$1(L)||!Ii$1(L)||!!Wt(G,L.target)||f.current,f.current=!1},[r]),w=et(L=>{const G=Tt(r);G&&Wt(G,L.target)&&(f.current=!0)}),y=et(L=>{c.current||n(L)});reactExports.useEffect(()=>{var L,G;if(o||r==null)return;const H=Pt$1(Tt(r)),ce=H.defaultView||window;let ie=(L=ce.event)!=null?L:(G=ce.parent)==null?void 0:G.event,Et=null;Qr[l]&&(Et=Ie$1(H,Qr[l],w,!0));const zn=Ie$1(H,l,d,!0),$l=Ie$1(H,l,Hl=>{if(Hl===ie){ie=void 0;return}y(Hl)});let zl=[];return"ontouchstart"in H.documentElement&&(zl=[].slice.call(H.body.children).map(Hl=>Ie$1(Hl,"mousemove",Kr))),()=>{Et?.(),zn(),$l(),zl.forEach(Hl=>Hl())}},[r,o,l,d,w,y])}function Ni$1(r){return r.code==="Escape"||r.keyCode===27}const Ui$1=()=>{};function Yi$1(r,n,{disabled:o,clickTrigger:l}={}){const c=n||Ui$1;Hi$1(r,c,{disabled:o,clickTrigger:l});const f=et(d=>{Ni$1(d)&&c(d)});reactExports.useEffect(()=>{if(o||r==null)return;const d=Pt$1(Tt(r));let w=(d.defaultView||window).event;const y=Ie$1(d,"keyup",L=>{if(L===w){w=void 0;return}f(L)});return()=>{y()}},[r,o,f])}const bn=reactExports.createContext(pr$1?window:void 0);bn.Provider;function Vi$1(){return reactExports.useContext(bn)}const Yt=(r,n)=>pr$1?r==null?(n||Pt$1()).body:(typeof r=="function"&&(r=r()),r&&"current"in r&&(r=r.current),r&&("nodeType"in r||r.getBoundingClientRect)?r:null):null;function Xr(r,n){const o=Vi$1(),[l,c]=reactExports.useState(()=>Yt(r,o?.document));if(!l){const f=Yt(r);f&&c(f)}return reactExports.useEffect(()=>{},[n,l]),reactExports.useEffect(()=>{const f=Yt(r);f!==l&&c(f)},[r,l]),l}function Wi$1(r){const n={};return Array.isArray(r)?(r?.forEach(o=>{n[o.name]=o}),n):r||n}function Ji$1(r={}){return Array.isArray(r)?r:Object.keys(r).map(n=>(r[n].name=n,r[n]))}function Gi$1({enabled:r,enableEvents:n,placement:o,flip:l,offset:c,fixed:f,containerPadding:d,arrowElement:w,popperConfig:y={}}){var L,G,H,ce;const ie=Wi$1(y.modifiers);return Object.assign({},y,{placement:o,enabled:r,strategy:f?"fixed":y.strategy,modifiers:Ji$1(Object.assign({},ie,{eventListeners:{enabled:n,options:(L=ie.eventListeners)==null?void 0:L.options},preventOverflow:Object.assign({},ie.preventOverflow,{options:Object.assign({padding:d},(G=ie.preventOverflow)==null?void 0:G.options)}),offset:{options:Object.assign({offset:c},(H=ie.offset)==null?void 0:H.options)},arrow:Object.assign({},ie.arrow,{enabled:!!w,options:Object.assign({},(ce=ie.arrow)==null?void 0:ce.options,{element:w})}),flip:Object.assign({enabled:!!l},ie.flip)}))})}const qi$1=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",zi$1=typeof document<"u",$t$1=zi$1||qi$1?reactExports.useLayoutEffect:reactExports.useEffect;function Ki$1({children:r,in:n,onExited:o,mountOnEnter:l,unmountOnExit:c}){const f=reactExports.useRef(null),d=reactExports.useRef(n),w=et(o);reactExports.useEffect(()=>{n?d.current=!0:w(f.current)},[n,w]);const y=tt(f,r.ref),L=reactExports.cloneElement(r,{ref:y});return n?L:c||!d.current&&l?null:L}function Qi$1({in:r,onTransition:n}){const o=reactExports.useRef(null),l=reactExports.useRef(!0),c=et(n);return $t$1(()=>{if(!o.current)return;let f=!1;return c({in:r,element:o.current,initial:l.current,isStale:()=>f}),()=>{f=!0}},[r,c]),$t$1(()=>(l.current=!1,()=>{l.current=!0}),[]),o}function Xi$1({children:r,in:n,onExited:o,onEntered:l,transition:c}){const[f,d]=reactExports.useState(!n);n&&f&&d(!1);const w=Qi$1({in:!!n,onTransition:L=>{const G=()=>{L.isStale()||(L.in?l?.(L.element,L.initial):(d(!0),o?.(L.element)))};Promise.resolve(c(L)).then(G,H=>{throw L.in||d(!0),H})}}),y=tt(w,r.ref);return f&&!n?null:reactExports.cloneElement(r,{ref:y})}function $i$1(r,n,o){return r?k.jsx(r,Object.assign({},o)):n?k.jsx(Xi$1,Object.assign({},o,{transition:n})):k.jsx(Ki$1,Object.assign({},o))}const wn=reactExports.forwardRef((r,n)=>{const{flip:o,offset:l,placement:c,containerPadding:f,popperConfig:d={},transition:w,runTransition:y}=r,[L,G]=Ir$1(),[H,ce]=Ir$1(),ie=tt(G,n),Et=Xr(r.container),zn=Xr(r.target),[$l,zl]=reactExports.useState(!r.show),Hl=_i$2(zn,L,Gi$1({placement:c,enableEvents:!!r.show,containerPadding:f||5,flip:o,offset:l,arrowElement:H,popperConfig:d}));r.show&&$l&&zl(!1);const Ft=(...Zu)=>{zl(!0),r.onExited&&r.onExited(...Zu)},El=r.show||!$l;if(Yi$1(L,r.onHide,{disabled:!r.rootClose||r.rootCloseDisabled,clickTrigger:r.rootCloseEvent}),!El)return null;const{onExit:Kl,onExiting:Al,onEnter:vu,onEntering:Nl,onEntered:Xu}=r;let Vu=r.children(Object.assign({},Hl.attributes.popper,{style:Hl.styles.popper,ref:ie}),{popper:Hl,placement:c,show:!!r.show,arrowProps:Object.assign({},Hl.attributes.arrow,{style:Hl.styles.arrow,ref:ce})});return Vu=$i$1(w,y,{in:!!r.show,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Vu,onExit:Kl,onExiting:Al,onExited:Ft,onEnter:vu,onEntering:Nl,onEntered:Xu}),Et?ReactDOM.createPortal(Vu,Et):null});wn.displayName="Overlay";function $r(r,n){return r.classList?!!n&&r.classList.contains(n):(" "+(r.className.baseVal||r.className)+" ").indexOf(" "+n+" ")!==-1}const Zi$1=["xxl","xl","lg","md","sm","xs"],ea$1="xs",xn=reactExports.createContext({prefixes:{},breakpoints:Zi$1,minBreakpoint:ea$1});function Ne(r,n){const{prefixes:o}=reactExports.useContext(xn);return r||o[n]||n}function En(){const{dir:r}=reactExports.useContext(xn);return r==="rtl"}const An=reactExports.forwardRef(({className:r,bsPrefix:n,as:o="div",...l},c)=>(n=Ne(n,"popover-header"),k.jsx(o,{ref:c,className:Ye$1(r,n),...l})));An.displayName="PopoverHeader";const vr$1=reactExports.forwardRef(({className:r,bsPrefix:n,as:o="div",...l},c)=>(n=Ne(n,"popover-body"),k.jsx(o,{ref:c,className:Ye$1(r,n),...l})));vr$1.displayName="PopoverBody";function On(r,n){let o=r;return r==="left"?o=n?"end":"start":r==="right"&&(o=n?"start":"end"),o}function Rn(r="absolute"){return{position:r,top:"0",left:"0",opacity:"0",pointerEvents:"none"}}const ta$1=reactExports.forwardRef(({bsPrefix:r,placement:n="right",className:o,style:l,children:c,body:f,arrowProps:d,hasDoneInitialMeasure:w,popper:y,show:L,...G},H)=>{const ce=Ne(r,"popover"),ie=En(),[Et]=n?.split("-")||[],zn=On(Et,ie);let $l=l;return L&&!w&&($l={...l,...Rn(y?.strategy)}),k.jsxs("div",{ref:H,role:"tooltip",style:$l,"x-placement":Et,className:Ye$1(o,ce,Et&&`bs-popover-${zn}`),...G,children:[k.jsx("div",{className:"popover-arrow",...d}),f?k.jsx(vr$1,{children:c}):c]})}),Zt$1=Object.assign(ta$1,{Header:An,Body:vr$1,POPPER_OFFSET:[0,8]}),Tn=reactExports.forwardRef(({bsPrefix:r,placement:n="right",className:o,style:l,children:c,arrowProps:f,hasDoneInitialMeasure:d,popper:w,show:y,...L},G)=>{r=Ne(r,"tooltip");const H=En(),[ce]=n?.split("-")||[],ie=On(ce,H);let Et=l;return y&&!d&&(Et={...l,...Rn(w?.strategy)}),k.jsxs("div",{ref:G,style:Et,role:"tooltip","x-placement":ce,className:Ye$1(o,r,`bs-tooltip-${ie}`),...L,children:[k.jsx("div",{className:"tooltip-arrow",...f}),k.jsx("div",{className:`${r}-inner`,children:c})]})});Tn.displayName="Tooltip";const Cn=Object.assign(Tn,{TOOLTIP_OFFSET:[0,6]});function ra$1(r){const n=reactExports.useRef(null),o=Ne(void 0,"popover"),l=Ne(void 0,"tooltip"),c=reactExports.useMemo(()=>({name:"offset",options:{offset:()=>{if(r)return r;if(n.current){if($r(n.current,o))return Zt$1.POPPER_OFFSET;if($r(n.current,l))return Cn.TOOLTIP_OFFSET}return[0,0]}}}),[r,o,l]);return[n,[c]]}const Zr={disabled:!1},Sn$1=React.createContext(null);var oa$1=function(r){return r.scrollTop},ct="unmounted",Fe="exited",je="entering",Be="entered",er$1="exiting",Se$1=(function(r){Eo$1(n,r);function n(l,c){var f;f=r.call(this,l,c)||this;var d=c,w=d&&!d.isMounting?l.enter:l.appear,y;return f.appearStatus=null,l.in?w?(y=Fe,f.appearStatus=je):y=Be:l.unmountOnExit||l.mountOnEnter?y=ct:y=Fe,f.state={status:y},f.nextCallback=null,f}n.getDerivedStateFromProps=function(l,c){var f=l.in;return f&&c.status===ct?{status:Fe}:null};var o=n.prototype;return o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(l){var c=null;if(l!==this.props){var f=this.state.status;this.props.in?f!==je&&f!==Be&&(c=je):(f===je||f===Be)&&(c=er$1)}this.updateStatus(!1,c)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var l=this.props.timeout,c,f,d;return c=f=d=l,l!=null&&typeof l!="number"&&(c=l.exit,f=l.enter,d=l.appear!==void 0?l.appear:f),{exit:c,enter:f,appear:d}},o.updateStatus=function(l,c){if(l===void 0&&(l=!1),c!==null)if(this.cancelNextCallback(),c===je){if(this.props.unmountOnExit||this.props.mountOnEnter){var f=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this);f&&oa$1(f)}this.performEnter(l)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Fe&&this.setState({status:ct})},o.performEnter=function(l){var c=this,f=this.props.enter,d=this.context?this.context.isMounting:l,w=this.props.nodeRef?[d]:[ReactDOM.findDOMNode(this),d],y=w[0],L=w[1],G=this.getTimeouts(),H=d?G.appear:G.enter;if(!l&&!f||Zr.disabled){this.safeSetState({status:Be},function(){c.props.onEntered(y)});return}this.props.onEnter(y,L),this.safeSetState({status:je},function(){c.props.onEntering(y,L),c.onTransitionEnd(H,function(){c.safeSetState({status:Be},function(){c.props.onEntered(y,L)})})})},o.performExit=function(){var l=this,c=this.props.exit,f=this.getTimeouts(),d=this.props.nodeRef?void 0:ReactDOM.findDOMNode(this);if(!c||Zr.disabled){this.safeSetState({status:Fe},function(){l.props.onExited(d)});return}this.props.onExit(d),this.safeSetState({status:er$1},function(){l.props.onExiting(d),l.onTransitionEnd(f.exit,function(){l.safeSetState({status:Fe},function(){l.props.onExited(d)})})})},o.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(l,c){c=this.setNextCallback(c),this.setState(l,c)},o.setNextCallback=function(l){var c=this,f=!0;return this.nextCallback=function(d){f&&(f=!1,c.nextCallback=null,l(d))},this.nextCallback.cancel=function(){f=!1},this.nextCallback},o.onTransitionEnd=function(l,c){this.setNextCallback(c);var f=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this),d=l==null&&!this.props.addEndListener;if(!f||d){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var w=this.props.nodeRef?[this.nextCallback]:[f,this.nextCallback],y=w[0],L=w[1];this.props.addEndListener(y,L)}l!=null&&setTimeout(this.nextCallback,l)},o.render=function(){var l=this.state.status;if(l===ct)return null;var c=this.props,f=c.children;c.in,c.mountOnEnter,c.unmountOnExit,c.appear,c.enter,c.exit,c.timeout,c.addEndListener,c.onEnter,c.onEntering,c.onEntered,c.onExit,c.onExiting,c.onExited,c.nodeRef;var d=wo$1(c,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return React.createElement(Sn$1.Provider,{value:null},typeof f=="function"?f(l,d):React.cloneElement(React.Children.only(f),d))},n})(React.Component);Se$1.contextType=Sn$1;Se$1.propTypes={};function ze$1(){}Se$1.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ze$1,onEntering:ze$1,onEntered:ze$1,onExit:ze$1,onExiting:ze$1,onExited:ze$1};Se$1.UNMOUNTED=ct;Se$1.EXITED=Fe;Se$1.ENTERING=je;Se$1.ENTERED=Be;Se$1.EXITING=er$1;function ia$1(r){var n=Pt$1(r);return n&&n.defaultView||window}function aa$1(r,n){return ia$1(r).getComputedStyle(r,n)}var sa$1=/([A-Z])/g;function ua$1(r){return r.replace(sa$1,"-$1").toLowerCase()}var ca$1=/^ms-/;function Ot(r){return ua$1(r).replace(ca$1,"-ms-")}var la$1=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function fa$1(r){return!!(r&&la$1.test(r))}function kn(r,n){var o="",l="";if(typeof n=="string")return r.style.getPropertyValue(Ot(n))||aa$1(r).getPropertyValue(Ot(n));Object.keys(n).forEach(function(c){var f=n[c];!f&&f!==0?r.style.removeProperty(Ot(c)):fa$1(c)?l+=c+"("+f+") ":o+=Ot(c)+": "+f+";"}),l&&(o+="transform: "+l+";"),r.style.cssText+=";"+o}function da$1(r,n,o,l){if(l===void 0&&(l=!0),r){var c=document.createEvent("HTMLEvents");c.initEvent(n,o,l),r.dispatchEvent(c)}}function pa$1(r){var n=kn(r,"transitionDuration")||"",o=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*o}function va$1(r,n,o){o===void 0&&(o=5);var l=!1,c=setTimeout(function(){l||da$1(r,"transitionend",!0)},n+o),f=Ie$1(r,"transitionend",function(){l=!0},{once:!0});return function(){clearTimeout(c),f()}}function ma$1(r,n,o,l){o==null&&(o=pa$1(r)||0);var c=va$1(r,o,l),f=Ie$1(r,"transitionend",n);return function(){c(),f()}}function en$1(r,n){const o=kn(r,n)||"",l=o.indexOf("ms")===-1?1e3:1;return parseFloat(o)*l}function ha$1(r,n){const o=en$1(r,"transitionDuration"),l=en$1(r,"transitionDelay"),c=ma$1(r,f=>{f.target===r&&(c(),n(f))},o+l)}function ya$1(r){r.offsetHeight}function St(r){return r&&"setState"in r?ReactDOM.findDOMNode(r):r??null}const ga$1=React.forwardRef(({onEnter:r,onEntering:n,onEntered:o,onExit:l,onExiting:c,onExited:f,addEndListener:d,children:w,childRef:y,...L},G)=>{const H=reactExports.useRef(null),ce=tt(H,y),ie=Al=>{ce(St(Al))},Et=Al=>vu=>{Al&&H.current&&Al(H.current,vu)},zn=reactExports.useCallback(Et(r),[r]),$l=reactExports.useCallback(Et(n),[n]),zl=reactExports.useCallback(Et(o),[o]),Hl=reactExports.useCallback(Et(l),[l]),Ft=reactExports.useCallback(Et(c),[c]),El=reactExports.useCallback(Et(f),[f]),Kl=reactExports.useCallback(Et(d),[d]);return k.jsx(Se$1,{ref:G,...L,onEnter:zn,onEntered:zl,onEntering:$l,onExit:Hl,onExited:El,onExiting:Ft,addEndListener:Kl,nodeRef:H,children:typeof w=="function"?(Al,vu)=>w(Al,{...vu,ref:ie}):React.cloneElement(w,{ref:ie})})}),ba$1={[je]:"show",[Be]:"show"},tr$1=reactExports.forwardRef(({className:r,children:n,transitionClasses:o={},onEnter:l,...c},f)=>{const d={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...c},w=reactExports.useCallback((y,L)=>{ya$1(y),l?.(y,L)},[l]);return k.jsx(ga$1,{ref:f,addEndListener:ha$1,...d,onEnter:w,childRef:n.ref,children:(y,L)=>reactExports.cloneElement(n,{...L,className:Ye$1("fade",r,n.props.className,ba$1[y],o[y])})})});tr$1.displayName="Fade";function wa$1(r,n){const{ref:o}=r,{ref:l}=n;r.ref=o.__wrapped||(o.__wrapped=c=>o(St(c))),n.ref=l.__wrapped||(l.__wrapped=c=>l(St(c)))}const Pn=reactExports.forwardRef(({children:r,transition:n=tr$1,popperConfig:o={},rootClose:l=!1,placement:c="top",show:f=!1,...d},w)=>{const y=reactExports.useRef({}),[L,G]=reactExports.useState(null),[H,ce]=ra$1(d.offset),ie=tt(w,H),Et=n===!0?tr$1:n||void 0,zn=et($l=>{G($l),o==null||o.onFirstUpdate==null||o.onFirstUpdate($l)});return $t$1(()=>{L&&d.target&&(y.current.scheduleUpdate==null||y.current.scheduleUpdate())},[L,d.target]),reactExports.useEffect(()=>{f||G(null)},[f]),k.jsx(wn,{...d,ref:ie,popperConfig:{...o,modifiers:ce.concat(o.modifiers||[]),onFirstUpdate:zn},transition:Et,rootClose:l,placement:c,show:f,children:($l,{arrowProps:zl,popper:Hl,show:Ft})=>{var El,Kl;wa$1($l,zl);const Al=Hl?.placement,vu=Object.assign(y.current,{state:Hl?.state,scheduleUpdate:Hl?.update,placement:Al,outOfBoundaries:(Hl==null||(El=Hl.state)==null||(Kl=El.modifiersData.hide)==null?void 0:Kl.isReferenceHidden)||!1,strategy:o.strategy}),Nl=!!L;return typeof r=="function"?r({...$l,placement:Al,show:Ft,...!n&&Ft&&{className:"show"},popper:vu,arrowProps:zl,hasDoneInitialMeasure:Nl}):reactExports.cloneElement(r,{...$l,placement:Al,arrowProps:zl,popper:vu,hasDoneInitialMeasure:Nl,className:Ye$1(r.props.className,!n&&Ft&&"show"),style:{...r.props.style,...$l.style}})}})});Pn.displayName="Overlay";function xa$1(r){return r&&typeof r=="object"?r:{show:r,hide:r}}function tn$1(r,n,o){const[l]=n,c=l.currentTarget,f=l.relatedTarget||l.nativeEvent[o];(!f||f!==c)&&!Wt(c,f)&&r(...n)}N$1.oneOf(["click","hover","focus"]);const mr$1=({trigger:r=["hover","focus"],overlay:n,children:o,popperConfig:l={},show:c,defaultShow:f=!1,onToggle:d,delay:w,placement:y,flip:L=y&&y.indexOf("auto")!==-1,...G})=>{const H=reactExports.useRef(null),ce=tt(H,o.ref),ie=ho$1(),Et=reactExports.useRef(""),[zn,$l]=xo$1(c,f,d),zl=xa$1(w),{onFocus:Hl,onBlur:Ft,onClick:El}=typeof o!="function"?reactExports.Children.only(o).props:{},Kl=Cd=>{ce(St(Cd))},Al=reactExports.useCallback(()=>{if(ie.clear(),Et.current="show",!zl.show){$l(!0);return}ie.set(()=>{Et.current==="show"&&$l(!0)},zl.show)},[zl.show,$l,ie]),vu=reactExports.useCallback(()=>{if(ie.clear(),Et.current="hide",!zl.hide){$l(!1);return}ie.set(()=>{Et.current==="hide"&&$l(!1)},zl.hide)},[zl.hide,$l,ie]),Nl=reactExports.useCallback((...Cd)=>{Al(),Hl?.(...Cd)},[Al,Hl]),Xu=reactExports.useCallback((...Cd)=>{vu(),Ft?.(...Cd)},[vu,Ft]),Vu=reactExports.useCallback((...Cd)=>{$l(!zn),El?.(...Cd)},[El,$l,zn]),Zu=reactExports.useCallback((...Cd)=>{tn$1(Al,Cd,"fromElement")},[Al]),Od=reactExports.useCallback((...Cd)=>{tn$1(vu,Cd,"toElement")},[vu]),Id=r==null?[]:[].concat(r),Bd={ref:Kl};return Id.indexOf("click")!==-1&&(Bd.onClick=Vu),Id.indexOf("focus")!==-1&&(Bd.onFocus=Nl,Bd.onBlur=Xu),Id.indexOf("hover")!==-1&&(Bd.onMouseOver=Zu,Bd.onMouseOut=Od),k.jsxs(k.Fragment,{children:[typeof o=="function"?o(Bd):reactExports.cloneElement(o,Bd),k.jsx(Pn,{...G,show:zn,onHide:vu,flip:L,placement:y,popperConfig:l,target:H.current,children:n})]})},Ea$1="_help_button_1s4g5_1",Aa$1={help_button:Ea$1};function Ia$1(r){let n=k.jsx("div",{className:Aa$1.help_button,children:"?"});return r.popover!=null&&(n=k.jsx(mr$1,{trigger:"click",rootClose:!0,placement:r.placement,overlay:r.popover,children:n})),n}const Oa$1="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20xmlns:dc='http://purl.org/dc/elements/1.1/'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20width='36.012337'%20height='31.802971'%20viewBox='0%200%2036.012336%2031.802972'%20id='svg9098'%20version='1.1'%20inkscape:version='0.91%20r13725'%20sodipodi:docname='mclogo-split-rotate-v9.svg'%3e%3cdefs%20id='defs9100'%20/%3e%3csodipodi:namedview%20id='base'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageopacity='0.0'%20inkscape:pageshadow='2'%20inkscape:zoom='11.2'%20inkscape:cx='14.890099'%20inkscape:cy='23.051314'%20inkscape:document-units='px'%20inkscape:current-layer='g9'%20showgrid='false'%20units='px'%20inkscape:window-width='1680'%20inkscape:window-height='940'%20inkscape:window-x='0'%20inkscape:window-y='1'%20inkscape:window-maximized='1'%20fit-margin-top='3'%20fit-margin-left='3'%20fit-margin-right='3'%20fit-margin-bottom='5'%20/%3e%3cmetadata%20id='metadata9103'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3cdc:title%20/%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cg%20inkscape:label='Layer%201'%20inkscape:groupmode='layer'%20id='layer1'%20transform='translate(3.0066849,-1015.2422)'%3e%3cg%20id='mctriangle'%20transform='matrix(1.1533275,0,0,1.1556928,-379.094,391.20844)'%3e%3cg%20transform='translate(2975.41,266.50511)'%20style='display:inline;stroke:%23d21f15;stroke-width:0.86616874;stroke-opacity:1'%20id='layer6'%20/%3e%3cg%20id='g9'%3e%3cpath%20inkscape:connector-curvature='0'%20d='M%20334.49344,550.22655%20C%20334.49344,546.23874%20337.72144,543.00587%20341.70205,543.00587%20345.68227,543.00587%20348.90912,546.23874%20348.90912,550.22655'%20style='fill:none;stroke:%23d21f15;stroke-width:0.88989985;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20id='path9220'%20/%3e%3cpath%20inkscape:connector-curvature='0'%20d='M%20334.49344,550.41953%20C%20331.53412,550.41953%20329.1333,552.88285%20329.1333,555.92274%20329.1333,558.96264%20331.53412,561.42596%20334.49344,561.42596'%20style='fill:none;stroke:%23d21f15;stroke-width:0.88643086;stroke-linecap:square;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20id='path9224'%20/%3e%3cpath%20inkscape:connector-curvature='0'%20d='M%20348.90912,550.41953%20C%20351.86844,550.41953%20354.26926,552.88285%20354.26926,555.92274%20354.26926,558.96264%20351.86844,561.42596%20348.90912,561.42596'%20style='fill:none;stroke:%23d21f15;stroke-width:0.88643086;stroke-linecap:square;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20id='path9228'%20/%3e%3cpath%20inkscape:connector-curvature='0'%20d='M%20334.45731,561.42596%20348.92565,561.42596'%20style='fill:none;stroke:%23d21f15;stroke-width:0.88643086;stroke-linecap:square;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20id='path9232'%20/%3e%3cpath%20inkscape:connector-curvature='0'%20d='M%20334.49344,550.22655%20C%20334.49344,546.23874%20337.72144,543.00587%20341.70205,543.00587%20345.68227,543.00587%20348.90912,546.23874%20348.90912,550.22655'%20style='fill:none;stroke:%23d21f15;stroke-width:0.88989985;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20id='path9236'%20/%3e%3cpath%20inkscape:connector-curvature='0'%20d='M%20334.49344,550.41953%20C%20331.53412,550.41953%20329.1333,552.88285%20329.1333,555.92274%20329.1333,558.96264%20331.53412,561.42596%20334.49344,561.42596'%20style='fill:none;stroke:%23d21f15;stroke-width:0.88643086;stroke-linecap:square;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20id='path9240'%20/%3e%3cpath%20inkscape:connector-curvature='0'%20d='M%20348.90912,550.41953%20C%20351.86844,550.41953%20354.26926,552.88285%20354.26926,555.92274%20354.26926,558.96264%20351.86844,561.42596%20348.90912,561.42596'%20style='fill:none;stroke:%23d21f15;stroke-width:0.88643086;stroke-linecap:square;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20id='path9244'%20/%3e%3cpath%20inkscape:connector-curvature='0'%20d='M%20334.45731,561.42596%20348.92565,561.42596'%20style='fill:none;stroke:%23d21f15;stroke-width:0.88643086;stroke-linecap:square;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20id='path9248'%20/%3e%3cellipse%20ry='0.25958455'%20rx='0.26011693'%20cy='553.91522'%20cx='341.70126'%20id='ref'%20style='color:%23000000;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000000;solid-opacity:1;fill:none;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:3.4000001;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate'%20/%3e%3cpath%20id='mctriangleonly'%20d='M%20335.13723,550.18801%20338.41923,555.66439%20341.70129,561.14077%20344.98332,555.66439%20348.26535,550.18801%20341.70129,550.18801%20Z'%20style='color:%23000000;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000000;solid-opacity:1;fill:none;fill-opacity:1;fill-rule:nonzero;stroke:%23d21f15;stroke-width:0.91575587;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;marker:none;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate'%20inkscape:connector-curvature='0'%20/%3e%3ccircle%20cy='550.02032'%20cx='348.39252'%20id='circle7840-5'%20style='color:%23000000;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000000;solid-opacity:1;fill:%23ffffff;fill-opacity:1;fill-rule:nonzero;stroke:%23d21f15;stroke-width:0.88349211;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;marker:none;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate'%20r='1.4070433'%20/%3e%3ccircle%20cy='550.02032'%20cx='335.01007'%20id='circle7842-0'%20style='color:%23000000;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000000;solid-opacity:1;fill:%23ffffff;fill-opacity:1;fill-rule:nonzero;stroke:%23d21f15;stroke-width:0.88349211;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;marker:none;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate'%20r='1.4070433'%20/%3e%3ccircle%20style='color:%23000000;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000000;solid-opacity:1;fill:%23ffffff;fill-opacity:1;fill-rule:nonzero;stroke:%23d21f15;stroke-width:0.88349211;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;marker:none;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate'%20id='circle7844-5'%20cx='341.70132'%20cy='561.30841'%20r='1.4070433'%20/%3e%3ccircle%20r='1.4070433'%20style='color:%23000000;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000000;solid-opacity:1;fill:%23ffffff;fill-opacity:1;fill-rule:nonzero;stroke:%23d21f15;stroke-width:0.88349211;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;marker:none;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate;filter-blend-mode:normal;filter-gaussianBlur-deviation:0'%20id='movingcircle'%20cx='335.01007'%20cy='550.02032'%3e%3canimateTransform%20id='anim1'%20repeatCount='indefinite'%20begin='0s'%20dur='1s'%20values='0.0%200.0;13.38245%200.0;6.69125%2011.28809;0.0%200.0'%20type='translate'%20attributeName='transform'%20/%3e%3c/circle%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e";function La$1(){return k.jsx("div",{style:{background:"transparent",border:"none",textAlign:"center"},children:k.jsx("img",{src:Oa$1,alt:"Materials Cloud spinner",style:{width:"100%",minWidth:"20px",maxWidth:"200px",height:"auto"}})})}const Ra$1=["as","disabled"];function Ta$1(r,n){if(r==null)return{};var o={},l=Object.keys(r),c,f;for(f=0;f<l.length;f++)c=l[f],!(n.indexOf(c)>=0)&&(o[c]=r[c]);return o}function Ca$1(r){return!r||r.trim()==="#"}function jn({tagName:r,disabled:n,href:o,target:l,rel:c,role:f,onClick:d,tabIndex:w=0,type:y}){r||(o!=null||l!=null||c!=null?r="a":r="button");const L={tagName:r};if(r==="button")return[{type:y||"button",disabled:n},L];const G=ce=>{if((n||r==="a"&&Ca$1(o))&&ce.preventDefault(),n){ce.stopPropagation();return}d?.(ce)},H=ce=>{ce.key===" "&&(ce.preventDefault(),G(ce))};return r==="a"&&(o||(o="#"),n&&(o=void 0)),[{role:f??"button",disabled:void 0,tabIndex:n?void 0:w,href:o,target:r==="a"?l:void 0,"aria-disabled":n||void 0,rel:r==="a"?c:void 0,onClick:G,onKeyDown:H},L]}const Sa$1=reactExports.forwardRef((r,n)=>{let{as:o,disabled:l}=r,c=Ta$1(r,Ra$1);const[f,{tagName:d}]=jn(Object.assign({tagName:o,disabled:l},c));return k.jsx(d,Object.assign({},c,f,{ref:n}))});Sa$1.displayName="Button";const Dn=reactExports.forwardRef(({as:r,bsPrefix:n,variant:o="primary",size:l,active:c=!1,disabled:f=!1,className:d,...w},y)=>{const L=Ne(n,"btn"),[G,{tagName:H}]=jn({tagName:r,disabled:f,...w}),ce=H;return k.jsx(ce,{...G,...w,ref:y,disabled:f,className:Ye$1(d,L,c&&"active",o&&`${L}-${o}`,l&&`${L}-${l}`,w.href&&f&&"disabled")})});Dn.displayName="Button";const ka$1="_download_dropdown_menu_23m9j_1",Pa$1={download_dropdown_menu:ka$1};function Ha$1(r){var n=`${r.aiida_rest_url}/nodes/${r.uuid}/download`,o=k.jsx(Zt$1,{children:k.jsx(Zt$1.Body,{style:{padding:"5px 0px"},children:k.jsxs("ul",{className:Pa$1.download_dropdown_menu,children:[k.jsx("li",{children:k.jsx("a",{href:`${n}?download_format=chemdoodle`,children:"ChemDoodle"})}),k.jsx("li",{children:k.jsx("a",{href:`${n}?download_format=cif`,children:"CIF"})}),k.jsx("li",{children:k.jsx("a",{href:`${n}?download_format=xsf`,children:"XSF"})}),k.jsx("li",{children:k.jsx("a",{href:`${n}?download_format=xyz`,children:"XYZ"})})]})})});return k.jsx(mr$1,{trigger:"click",rootClose:!0,placement:"bottom",overlay:o,children:k.jsx(Dn,{size:"sm",style:{margin:"4px",padding:"2px 7px"},title:"Download",children:k.jsx("span",{className:"bi bi-download"})})})}const ja$1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIoAAACACAYAAADUHPECAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAdTAAAHUwAGRbQIfAAAAB3RJTUUH4QoMEAcil62xzQAAGc9JREFUeNrtnXl8XVW1x7/r3JvcJC1tgdKWUqADs0CTAk6AAh+GgAzyBBUUKQ8R6GDx4Ud9j6YVWkCeAio2pSLqQxyK4gTSBBApVJDCo4lMMjQpHaAphVI6ZLrnrPfHOjeEtknOvfece8/N5/0+H/j00yb77L3P7+y99tpr/ZYwyKFzRgMCquAIeDoCmARMBmqAQ4B9gD2B3YCU/6udwBbgbWAd8BLwT+A54BUcbxOeYz8pINe1FXuokUKK3YGooHNHgwco4MgwVKcAJwPHAQdhxCjPstlu4B3gFeAx4GFgBcpmxJ4l8wcnYQYdUXT2aDIvDWFf4CzgM8DRwLCQH/ce8CzwO5D7cHQ1nv2DzBtchBk0RFGaoO60DEnGAhcAFwOHAYmIH+8BLwB3Ab/GtiqY14hQXeypCQWDgig6Z4zZIFABfBq4CjgGcArcFQ94Bvg+8EegHRSZt6HYU5Q3Sp4oWjfaSCJyAPCfwOeAIUXu1jZgMXAjyGuoh8wvbbKUNFG0bjSgAnIqcAMwpdh92gErgP/CcxtxElrKdkvJEkXrRoE6ZYheDFwH7F3sPvWB9cBckJ+BdpcqWUqSKLaSkAJmAdcQ/mkmbGwBrsdsl85SJEvJEUVnjwKRcuA/gDqgqth9CojtwHyEm1HtKjUDt9Cngrygc0aBagK4HFtJSoUk+H39L5TLURI6e3Sx+5MVSooodFeA43wamAsMLXZ3csBQYC4i51BeWot5yfTWt0uqsWPnQcXuT554GTvGN5eKvVISK4rW7Q0wAvg2pU8SgIOBa4EROntUsfsSCLEnin59GIgIMBU4o9j9CRFnAFNRFX+1jDViTxQqK0Hdw4CZQFmxuxMiyoCZOM5haPwtgPgTBZLAlcDEENpygUbgX8UelI+J/tiSxe7IQIg1UfwleQpwXojN3g2cA9wGbCz2GIHzEK3RujHF7ke/iDVRsPCALwJhb+KvYA6787Fb3o4ijnG0P8aoQyHyQmyJot/eB2xpPjPstv0jaRp4FPgScBmwHDJhRwXHWaAT9Zr4GrWxJQpeB8BpwP5RNC/z2jKE2YLI3cC52JVAaxFGuz9wKhVFeHJAxJcomqwETo+6jzKvDbrTAG/wescNGGHuAN4t4Ggd4HS6qCzgM7PuYFwxCYuSjxxy40YjzP4VAM14OgMLpVwCdBVovFMI52QXCWJJFN9bOQUoqNuyZzsSuoAG4EJgBtBcgMfvBRyldfH01MaSKHgIFjVflJOAzN8A6oFtP3dgcbjzyQRNR4MkcDTixNL7Fk+iJKgEPlTMLsj8t3qnXKzCTczBCHMXlqYRBQ5DvVjaKfEkCrIHsG+xewG9tiPHUyzC/nLsSP037IgdJvb1xx47xJQo7AnEasJk/npofQ/MOfcn4LOY0+6lwTzuDOJKlL0gfl4Fubs9Y+wCbMR1bsOuA24BwggsqfDHHjvElSjDiPFNsVznb0dlLsCrqHwDu4/6HRYbmyvKiGmgeFyJUkHM7z4A5NoN/gqjLrAMYSrw78AyLKE9WySI4UoK8SVKghIK05R5beB6oGwj6SwGfoipHmTdFDH9QOIaB5HG9AhiD50z2npaloBu90DS3uXAF8jNWegR/kkqFMSVKNuxCYvl1wWg3xoLSTdD55F0uxdiQUiH5NGsS342TmSIK1Hexfb4VJ7tRIdyFzwqsIvLr2ICPfnOZxewqdhD2xXiSpS3sC8rvrk7yuEI38SOx7uF1Op24hF1txPiasy+DcQ95/JQLEIuLJLgjzkXIzhyxJMowiZgVbG70T+0AQtDCBOtqMZy64knUbSrC1NgjDO2YOoEYW4Vz9GRKlT8S1aIJ1HssPM0JuEZT5SnQHgC+FVILXYCT1Oei58uesSSKDJvI0ATsLZQz9SrD0LrRhM0a0/q1oCdzBYCr4bQhTVAk9ywvlBDzgqxJAoAyjrgyYI8qm4UVG0GZDdgZFBJCrmuDZSXgdvJ31H2JGiUgVF5Ib5EQbuBvxBhzGqvFSQJfBL0buB7IFV+YnyQVhRLKnsqj650AveBE0uvLMSZKFIOlnfzQhTNa93ozOgPBbkFu/k9Gzgf0TOQYLaCzN8Aohsww3Zbjt15AXgsziZZbIki89ZCp9cG/JZwE7PUX0VG4XE1lik4Exjp/3sVcBWaGKV1AUNDLMn8AeD+HPrjAfewzWuTebE8GQMxJgoASVHgHsIxFsFuZoZgsa+/A25i13orHwG+iHqBbrBlXhso24EfYCqQ2eAVlN/GXYEp1kSRGzaApy3Az7ALszDGezUWIH08fV86JoErkOTBgZPHU4B6y4FfEPzm2wXuxPVa5TvxdkTHmigACIq92KdDGu9BBHO7HwhMA8qslMsA3axrA8QFFhE8jvYp4G4ciX1IReyJYsai+ya2TWwu8OMvAP24r7MfrK+etxJYwMARbpuBm/C89XJ9vFcTKAGiAKBlYMbiTyms4sBIrADDbjo3oGHrOGCChI/381Me8BOUBpy4XuDvMKxidyAIZN6bYP6U7wKPFPjxp4GcTWewOgy+Yfs2dlzuK1Hsr8D3gC5/bLFHSRAFMpom8ibwDeDFAj66EphFWfvYwKJ8ZS4gD2FH7x3xgo1B1pdStbCSIQoAqQ7wWIFtB68X8MlHAVN9dcoBIXM3AtqBBVn3dsu/DlxFwmuie2sBu58/SoooMvtdO7hu6XoICz9cU6BHO8BlqB4eVG3A0ji8FZhdhd/XmXSmH6Y7gXzn/4kSKeTaNhhaDpL4M3AF8FqBHj0e8+CW6zWBPbYecCdwLzANGXIfqSRyfTxviPtDyREF/Eqg6oLrPIDVDfxHgR59PsgJJIIlB8i8DaCyGriUJ469H91eskUpS5Io4C/tSReQJ7A8mruI/lZtBPA1VIcHFrwRVWAzxy5D5pXeStIzjGJ3IF/o7L1AHLA7nC8BX8O8qlGhE5jOe4fcKT9YWuzhFwwlT5QM7OjqAN7hmJzW+UQnIdEMnI3q6lIvKhkUJbv17Ajb+12A51H5KlYU+24sRyhsHIFp08Y2kzFsDJoVpTd09hiwe7ZyTDTw01g1iwMJTy3gNeAsmdcWF139SDEoiQJ+HGxmeJUpaO/cGxMQ/AQWbzIJ25qCEqcDS85aiUl0/Q1YKvPaotJzixUGLVF6wy9Y2fuvhgFjMV3XCcA4TH1gGLYKgd0tvYdl763FFK1bgDcok/fothvlUj3uZouCEWXykipEFFA8twySHppwkbRDsjuNV2bmUremeeH0aGKM9dtjwN2FSIIobHZgqDg4noM4gpdw8bZ4JCrZKQ6pWyGZQOZHdKFXvzLTMcCxx4tgl87d9KSMC3BlYTSMIyNKdWMFiiIfKFqkkOxGuyodTaiD44m44nmu5yUSfQfvNNVGV/xC68ZYIL0AbgISrh233TJwOvHfUrQrx8IWP+52hylQAUFQEnbPpIDrkhSP9I6vzv/daZMi6WKoRKlpMHKAjUkdrRCV0djyPhGTBN0b2B0LHnSwo8o2bP9fh+UctwCrsXRNFyCZTvPMmbHNZsgei1aC23v6JQE6EtgPs5/GA/tgSpFV2DLoYbbSJuBNf45W2pxpmzHbVm0gVNKEQpSaxkq0JwpMh4EcgemFHAschtWkGRLweS5mG6zB8o8fBx5OptMtg4IoC1vef5dCOXAA8HHMyJ6MfUzDCHb0VmArpkj5IvB3my99HmRLz4+EQJi8iDK5oQrBo6m2g+qGionAp7Cj6BTM3R0GuoBpyXT6zpImSv1KMistwh7AiZiS5LHYyhGWT+sdYAUWC/MAm8a0sPt6s8OuzJ0wORFlygMpPEdISDeulh2EVbD6LBa4HLbdsww4L5lOt5UsURa0ZGZlD+xDmgocQ7QKkB6W5rIYuBsSryIueALTJ2TdWNYv1YxUEGUv4CJM8juqWsTbgIsduPfZCA3ayLBwpRmkSjlCLRZwdRyF19B9GbgD4S6Ut3LZjrJa7iY3VuA5iCgnAr8G/ptoC1bfp7CkJNeR+lZQB2Aiwg+w2+0TKY7Q8sHATSi/Bk5CPIf6lqwaCLSiVDc4QDkqDBHlCiyJKmgWd65YD5yr8I/mgKtJdUMFCDSdVuTVp74FSDjg1gLXYaGUccF64GZMgWErLjBzYF/MgCtK9V/K8J2Ve4vyfeB6oieJJX2JPJ0VSWCoQLn/5+LAvtQUuNOxDMc4kQRgDPYObwXGkgDqVw34S/0S5cN/HoYfzTURy4C7lMJIer5kz9Ms0kilDKhTpQ4YUr2kCGQxkgwBZgPfocAVzLJAOfYuFwETwYNb+5dm6ZconSYnNhFbps6iMC7/bmBB2ulqCbqFGCn0WH/w3wTmAEMKurIs7CHJXCylpKpwD88JgpUKXgRMItV/cGCfRKlurECUfbCK46cUcACPA79JaDCbr8bskt2wE8WemLE4C+EbQGpyQwEKatW3AJICvgXM4v2LxVLAydg7HueTfZfYJVGqGytQZThwI6bMXCi8B9yKOO80nxYs/DVtt8LnAKf2+usUZnBfiuIc2RDhezNHmoPqZVihp1IiSQa1wA0ow/s6De1ElOqHKgGSYl/o5ylsKMIfVHkYL5hpUtOQIoGOxXJ8dlw6hgBzRPSURJQC3VoG6KlYce24bzd9QbB3PQshSf3qnX5gJ6JouwfKGdjkF/LMvxb4oTh0NJ0+8GpS/RQ4goMyFbsy2BVGA/MVb0Ik9kr9SpD0BKyCaVwN16CwLVuptXvHD+IDRKluSCHlsh/2dRSytp0H/BSkqWlFQB/IO5W4Kh9i4NjVo4CrQcoP+dOI8Hr8+y2gWm5tx+4InCv2AOoguS/1rR/4hx6iVC+tQIUEJh5T6IH/E7gT1ONbA/9wdWMliJZjmXvjB/hxAb4IesqQVHt4PV7XBuKcYm0PKhyNZWAmetsr768o2xVRORrLvAvDLllHsNzgTuC23Ts6VgcOUPI8gBOwlIwgGA58zUV2nxLGFrToVUg4u2N23PAQ5moL8C8Kq/3SFxxgKmhNbwGhHqKoxUZ8BfPchYFlwL9hubf9KSU9InDvOxXBjrFHNlSCyAgs0WtEFv05DjjLdUNQweqsAPNBHB/SXLVhtQhnY7G5xcZYjAs9NqoD5v4WpAZzqoUFj5T+LzAduBB4kJ3FhTdhruTNzbXBtoWOsgqwnJ0Ts+xPCrhEEjKi+pE8VpWbWyDZPRy4hHC91GtJjr8RC0O4AytuVUycg0g1Cyx+11YUwQE+R9g1d7slgW0tD5A5fsHzvX7iHmDpioBbTs2SFJXd7fthtkkuL+nDwCc0nwzlKgFbST4S6lyBQ7oVzF6b4c9XAxEqdw+AUViMkUPmf6KMwxKkQkdTbQfvmXt4kyC3Y+rQN2E69wuymwhxBL6MZerlgirgM0gex34lia1o4ftMpk2CaRPx56QRuAAjTXPozwqGTyEyFsCpbqhEbf+OLO6/5USlqbYDz2y1VkSvAc5D3BeCGrDVDRWoUIPt5fmEDX5CBj4p9QPdH/hkVHMFGFnaOwHeRbgD247mU8BqIz4OAI6jfiWOqiYxf3/kzrXm2k5LvVBxgTfACWTlVz9YjlrY4Fex+NJ8MA74aE1jDguC3YV8FAuAjhZXH2qE8RRgFcgc7HDwC+yUVAiUASejkkiKMAaL3ywYss3TkXQSHO8U7MvKF0ngeBV+SbbHUcXB7JPCaX5O90MW61sVeBqRr6B6L2bvFaIvxyCMcbB0iui/kBxR01COOt6e2HF4WFjN4nkjsv4tYQTRfFQDv+xpE2yFUTqAP4F8FvMKB1XJzhX7A4clgRrCrbQZLkQF5fOYHRXm4MeRfUXQoZifI+zE9HXs6oJlV5g2ARa0grARlR8iugQLcL+IaO6bdgOqk9gJIrY6KaqJcViF8jBtqOFY9mJ2BS4dZy2uXhTFMHGd4If2TLqFJZO9iiffxNE/Yjbcpwj3ROYARzpY+mKcsQUz4ML0WJYB+538TNa/5wHtof9n20n2LuMrJ9p2JLjAMpBLsFPhk4R7HTApSXgu+6jwbmJ7x01uVcUDmJc3DMktAfZ+6KgsL7UuH1/sudg1pk+AH60CR7chLEZZim1FX8GOuPlijEN4qZ+RoKm2A6+qAuA5RWZiHssl5K8AueeUhyoHjz7MjPFmv9g6sh4n+V3slFiPVabPB7s7lEBU1oraDsqTabDA64ewu6NpwLPkXh20Sl2NrW2WM6b725HXDaa7Pwu7nrkf2J5jq1UOhfQJ5IHlJ6dprm33ZTV4F5MOv5D+y530hzIcHTwryo6YNgl/Y01j1TwuAn5Mbh9WMoktViXxZR3RmDJhHk8cHD0GuweZkmNzrmoOBmSpYEGrKRioArIfZuSeS25Klm4Ss7zj60chI9Djjxsm4OhlmCJAPhmL7Q7xL9GWNW573VSjbMZGYG7/GUA1uQektSexoKJYEmXqPdA8PJVRztpd7dp7GnBkCM1vSqVSXlA/V0lgQatf1lDKQE9A9SrsHi/fFJJ3k5jq4bhij3FHTF5SwQoBB00BJ6mFHYapBtDmBawV2IOFraARRSt6HszIUZn99la7PKzcDtsrD0d0OvZRhRUgvyGJFRvKdZ8PHdUNVYBHd1opS0q1qszA4j9GhPiYNLBm+UlZeuKvGA8LV2f3O0EgAuU5mA53vgqdCXAVhLG0V34J4TLCDxlZlQSew87bRT0B1PylHE1ktP9kXFlSLsFyifeP4HFbMUHB7LCwdQwWoR6swGAwCMpG0ulFWGhoMNS3ZDxJQxHOxtz3xxD+wUSB55JAE3a+DnPwWaF6SYVftZ5hIOf4gz6K6MgbNENgRziYw+/gkPuzChMmGpgoC1b6mrOaBDnWn6taovOHbQOaklgM63qKcOfTk72nkgQ9HrNDTiVabTNszLox699S3kJoInyiDOzbuL3Fd2QIeHowyBVYnaJw45x3xpsozycRVqM0UUCiTDalBAQPD+cwEb0S+1JHFuDxHrBMO73sHU9lnd2kU3/H7psK53uqX5lxzY/E04xXOmyy9oUViK5Nalo7JSGPYM6YyAdf3VCRuScdrTgXicVShHFxFRQbgWVSlWDgYuc7oLMKEu4yv43oc40zTjO0EtteZmFyo4XypnvAI7jalXSGOGiHPoopIecbj9onqht7CDIEi5mYhaU8FLrmzXKUl5tOycF/MnN/qG/5F7AcSwCLBplUTg9B+DB2GXoOFjhVSKwDHmVkCmfFCe2o8ioRVSivWVLpJ5ipg30NP8W0zT5O4UmSBv6A4+SRhKztwO/JejkKiPfzfSfi6PX+s75A4UkCdkfUwgX79ixh3ZjVfW6oHRLUczxE5QBVyYTrBSxHHgleBBqtwkbug8Jybl4iHA9xplH1SbIHZgNNJ/f8pTCwBfgN/gdhCWACII8DYVZTVFz2FJXpwJ+Br1NcknjALzWhbzSdkUfy3bSJ0N39JuQQxd/fXFnm4+nYy7mN4pIE4FEsfxzwidJU24GaE2oR4eWMHIHJa98KHFrkQYO5AX6DF8JFYDKh2At9Pt+mfAwHbgF+henlFUO0uDe2AIsQtvmZi++fchKAKg9jX38YOAKTpij2oMFSNBeUO92rm8MQK55+ACSc1WSdEtsn9sKM4xFFnKPe+CPwCO77C2YPUZ6tbQehHVM1fr3YPQ0ZjcDibi/EU6VN4mK/7cGEVcAtqLYz432vxQf8Js21HTheogn4HtFXJS8UVgPXo2xeURvikGxJ3oypQOdyHRBHdAI3k3CaezIUfews9ieeCvwc24NLHe3ADcDyptMjiDuZNhE8We4/I0Tdr6JhMfBzdhF/sRNRVpzejgpbgW/Ty+otQbjAj1HuIpecmaAQFPgfTPwmDtJauWIZprq9lSt3rufT5+1s9YOV4OlR/iR8qNijyAGLUaYDb0eymvSG+T9GYqkRQXXl4oQXgYtRfWbHLSeDPu92tMtFXclIa71c7JFkifuAryMFIAlk7JWNmHL1/cUefJZ4BZiOyjNI347yPonSfGYXTtIDkaVYxllYPoMoocC9GLnXRlkGdydYaudakOnAH4hyuwsPLwCXk+BRRGHa+D5/sN/b4hWndYIqgj6GRb0/VuyR9YMu4CfAdIU1VQWpFrMDOpOArsbCAH5C8fTXgmAZcAkqj9JNZlXsE4EiyKxChSIWlngtFjtShDfRJ94CvouyEGHrqOF78ODH3ihOT360KiMkNRRb2a4m+uCibNCJnW7mAquCVmMPHGp4VGMK1+IVh2KixVdj0hHFhAJPANeB9zA4XkG3m/5Q3wIiCVRPwSTjP0aR45IxRYhbMPfHVkTY1QlnV8ipSuk2t4MhTkUNpoJ0DuEpIWWDNcCdIHeAvgFKU5gOtTCQqX+jjMU0+y+lOOpWW7CrmZvBXQGJAbeaHZETw6v9rQiLbT0ZM3ZPoDCJZG9idxF3OKJNnjqKaPELTvaFH7X4lqAKJvr8ZSzrIeq6jGAEWYqV3fsriDkFsyQJ5LEUHtFYScJTvwUZCnocpot6AvbVhLnMdmHHuPuB32JKSelYVCQNip6oNUni6BGYv+VMrBxwmPaeYjKjj2C2yGNYJL3l/8zMLTQ675dZYzq1gCKqSRU5ECPLScBk7MsZkuWzPEwnrRULO3wYeHKv7VXr3qoy5YZU0uOpk+N8qNgFfrwautM2E+1JqEyPxeRIT8VUtcdjIQfZxi5vA97AhIv/BiwFeQXUovAUk8PIA6F99VMaU6gHKpkmNSXIODXVySnA4f5EjPIno9KfkLQ/0E1Y2shrWFJaM8qLKrpe/GRyD/hnXIzVfHH7SvD8uXJU8GQMcAiWTH4kFnC+NxbxVoUfCYIlS2/GUoFXYf6tJuA5RNeg4htqYqevK8JJrvg/1r/N4lnuwIgAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTctMTAtMTJUMTY6MDc6MzQrMDI6MDB1PnpAAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE3LTEwLTEyVDE2OjA3OjM0KzAyOjAwBGPC/AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII=";function Na$1(r){var n=`${r.explore_url}/details/${r.uuid}?nodeType=NODE`;return k.jsx(mr$1,{placement:"bottom",overlay:k.jsxs(Cn,{className:"explore_btn_tooltip",children:["Browse provenance",k.jsx("br",{}),r.uuid]}),children:k.jsx("a",{href:n,target:"_blank",children:k.jsx("img",{src:ja$1,className:"explore_btn_aiida_logo"})})})}function Ua$1(r){return r.split(/(\d+)/).map((n,o)=>n.match(/\d+/)?k.jsx("sub",{children:n},o):n)}function Ya$1(r){let n=!1;return k.jsx("span",{children:r.split("").map((o,l)=>o=="_"?(n=!0,null):n?(n=!1,k.jsx("sub",{children:o},l)):o)})}const main$1=Object.freeze(Object.defineProperty({__proto__:null,DoiBadge:Ba$1,ExploreButton:Na$1,HelpButton:Ia$1,McloudSpinner:La$1,StructDownloadButton:Ha$1,TestButton:Fa$1,formatChemicalFormula:Ua$1,formatSpaceGroupSymbol:Ya$1},Symbol.toStringTag,{value:"Module"})),require$$8=getAugmentedNamespace(main$1);var ptable_data={},hasRequiredPtable_data;function requirePtable_data(){return hasRequiredPtable_data||(hasRequiredPtable_data=1,Object.defineProperty(ptable_data,"__esModule",{value:!0}),ptable_data.elementsInfo=ptable_data.elementClassColors=void 0,ptable_data.elementsInfo=[{sym:"X",class:"X"},{sym:"H",class:"H"},{sym:"He",class:"noble"},{sym:"Li",class:"alkali"},{sym:"Be",class:"alkaline_earth"},{sym:"B",class:"semimetal"},{sym:"C",class:"nonmetal"},{sym:"N",class:"nonmetal"},{sym:"O",class:"nonmetal"},{sym:"F",class:"halogen"},{sym:"Ne",class:"noble"},{sym:"Na",class:"alkali"},{sym:"Mg",class:"alkaline_earth"},{sym:"Al",class:"post_transition"},{sym:"Si",class:"semimetal"},{sym:"P",class:"nonmetal"},{sym:"S",class:"nonmetal"},{sym:"Cl",class:"halogen"},{sym:"Ar",class:"noble"},{sym:"K",class:"alkali"},{sym:"Ca",class:"alkaline_earth"},{sym:"Sc",class:"transition"},{sym:"Ti",class:"transition"},{sym:"V",class:"transition"},{sym:"Cr",class:"transition"},{sym:"Mn",class:"transition"},{sym:"Fe",class:"transition"},{sym:"Co",class:"transition"},{sym:"Ni",class:"transition"},{sym:"Cu",class:"transition"},{sym:"Zn",class:"transition"},{sym:"Ga",class:"post_transition"},{sym:"Ge",class:"semimetal"},{sym:"As",class:"semimetal"},{sym:"Se",class:"nonmetal"},{sym:"Br",class:"halogen"},{sym:"Kr",class:"noble"},{sym:"Rb",class:"alkali"},{sym:"Sr",class:"alkaline_earth"},{sym:"Y",class:"transition"},{sym:"Zr",class:"transition"},{sym:"Nb",class:"transition"},{sym:"Mo",class:"transition"},{sym:"Tc",class:"transition"},{sym:"Ru",class:"transition"},{sym:"Rh",class:"transition"},{sym:"Pd",class:"transition"},{sym:"Ag",class:"transition"},{sym:"Cd",class:"transition"},{sym:"In",class:"post_transition"},{sym:"Sn",class:"post_transition"},{sym:"Sb",class:"semimetal"},{sym:"Te",class:"semimetal"},{sym:"I",class:"halogen"},{sym:"Xe",class:"noble"},{sym:"Cs",class:"alkali"},{sym:"Ba",class:"alkaline_earth"},{sym:"La",class:"lanthanoid"},{sym:"Ce",class:"lanthanoid"},{sym:"Pr",class:"lanthanoid"},{sym:"Nd",class:"lanthanoid"},{sym:"Pm",class:"lanthanoid"},{sym:"Sm",class:"lanthanoid"},{sym:"Eu",class:"lanthanoid"},{sym:"Gd",class:"lanthanoid"},{sym:"Tb",class:"lanthanoid"},{sym:"Dy",class:"lanthanoid"},{sym:"Ho",class:"lanthanoid"},{sym:"Er",class:"lanthanoid"},{sym:"Tm",class:"lanthanoid"},{sym:"Yb",class:"lanthanoid"},{sym:"Lu",class:"lanthanoid"},{sym:"Hf",class:"transition"},{sym:"Ta",class:"transition"},{sym:"W",class:"transition"},{sym:"Re",class:"transition"},{sym:"Os",class:"transition"},{sym:"Ir",class:"transition"},{sym:"Pt",class:"transition"},{sym:"Au",class:"transition"},{sym:"Hg",class:"transition"},{sym:"Tl",class:"post_transition"},{sym:"Pb",class:"post_transition"},{sym:"Bi",class:"post_transition"},{sym:"Po",class:"post_transition"},{sym:"At",class:"halogen"},{sym:"Rn",class:"noble"},{sym:"Fr",class:"alkali"},{sym:"Ra",class:"alkaline_earth"},{sym:"Ac",class:"actinoid"},{sym:"Th",class:"actinoid"},{sym:"Pa",class:"actinoid"},{sym:"U",class:"actinoid"},{sym:"Np",class:"actinoid"},{sym:"Pu",class:"actinoid"},{sym:"Am",class:"actinoid"},{sym:"Cm",class:"actinoid"},{sym:"Bk",class:"actinoid"},{sym:"Cf",class:"actinoid"},{sym:"Es",class:"actinoid"},{sym:"Fm",class:"actinoid"},{sym:"Md",class:"actinoid"},{sym:"No",class:"actinoid"},{sym:"Lr",class:"actinoid"},{sym:"Rf",class:"transition"},{sym:"Db",class:"transition"},{sym:"Sg",class:"transition"},{sym:"Bh",class:"transition"},{sym:"Hs",class:"transition"},{sym:"Mt",class:"X"},{sym:"Ds",class:"X"},{sym:"Rg",class:"X"},{sym:"Cn",class:"X"},{sym:"Nh",class:"X"},{sym:"Fl",class:"X"},{sym:"Mc",class:"X"},{sym:"Lv",class:"X"},{sym:"Ts",class:"X"},{sym:"Og",class:"X"}],ptable_data.elementClassColors={X:"rgb(220, 220, 220)",H:"rgb(220, 105, 105)",noble:"rgb(196, 205, 255)",alkali:"rgb(209, 146, 146)",alkaline_earth:"rgb(209, 189, 146)",semimetal:"rgb(189, 214, 163)",nonmetal:"rgb(214, 163, 190)",halogen:"rgb(210, 214, 163)",post_transition:"rgb(163, 178, 214)",transition:"rgb(169, 196, 212)",lanthanoid:"rgb(237, 184, 255)",actinoid:"rgb(191, 150, 255)"}),ptable_data}var utils$1={},hasRequiredUtils;function requireUtils(){if(hasRequiredUtils)return utils$1;hasRequiredUtils=1,Object.defineProperty(utils$1,"__esModule",{value:!0}),utils$1.RGB_Log_Blend=void 0;const r=(n,o,l)=>{var c=parseInt,f=Math.round,d=1-n,[w,y,L,G]=o.split(","),[H,ce,ie,Et]=l.split(","),zn=G||Et,$l=zn?","+(G?Et?f((parseFloat(G)*d+parseFloat(Et)*n)*1e3)/1e3+")":G:Et):")";return"rgb"+(zn?"a(":"(")+f((d*c(w[3]==="a"?w.slice(5):w.slice(4))**2+n*c(H[3]==="a"?H.slice(5):H.slice(4))**2)**.5)+","+f((d*c(y)**2+n*c(ce)**2)**.5)+","+f((d*c(L)**2+n*c(ie)**2)**.5)+$l};return utils$1.RGB_Log_Blend=r,utils$1}var hasRequiredPTable;function requirePTable(){if(hasRequiredPTable)return PTable;hasRequiredPTable=1,Object.defineProperty(PTable,"__esModule",{value:!0}),PTable.default=PTable.Element=void 0;var r=f(requireReact()),n=f(require$$1),o=require$$8,l=requirePtable_data(),c=requireUtils();function f(ce){return ce&&ce.__esModule?ce:{default:ce}}class d extends r.default.Component{constructor(ie){super(ie),this.handleOnClick=this.handleOnClick.bind(this),this.symbol=l.elementsInfo[this.props.num].sym;let Et=l.elementsInfo[this.props.num].class;this.color=l.elementClassColors[Et]}handleOnClick(){this.props.disabled&&this.props.selection===0||this.props.onSelectionChange!=null&&this.props.onSelectionChange({element:this.symbol})}render(){let ie=`pt_element pt_element-${this.props.num}`;return this.props.disabled&&this.props.selection===0?ie+=" pt_element-disabled":ie+=` pt_element-state${this.props.selection}`,this.props.doc||(ie+=" nondoc"),this.props.num>=57&&this.props.num<=71&&(ie+=" lanthanide"),r.default.createElement("div",{className:ie,style:{backgroundColor:(0,c.RGB_Log_Blend)(.5,this.color,"rgb(220, 220, 220)")},onClick:this.handleOnClick},r.default.createElement("div",{className:"elem_num"},this.props.num),r.default.createElement("div",{className:"elem_sym"},this.symbol))}}PTable.Element=d;const w=r.default.createElement(n.default,{id:"popover-basic"},r.default.createElement(n.default.Header,{as:"h3"},"Filtering mode help"),r.default.createElement(n.default.Body,{style:{textAlign:"justify"}},r.default.createElement("b",null,"Include/exclude elements"),r.default.createElement("br",null),"The green selected elements must be included, while the red elements must not be included in the formula. For example",r.default.createElement("div",{className:"doc-elements"},r.default.createElement(d,{num:14,disabled:!1,onSelectionChange:null,selection:1,doc:!0}),r.default.createElement(d,{num:8,disabled:!1,onSelectionChange:null,selection:2,doc:!0})),"filters for materials that contain Si and any other elements except O.",r.default.createElement("br",null),r.default.createElement("b",null,"Only selected elements"),r.default.createElement("br",null),"Only the selected elements are allowed in the resulting chemical formula. For example",r.default.createElement("div",{className:"doc-elements"},r.default.createElement(d,{num:14,disabled:!1,onSelectionChange:null,selection:1,doc:!0}),r.default.createElement(d,{num:8,disabled:!1,onSelectionChange:null,selection:1,doc:!0})),"only allows for formulas in the form of Si",r.default.createElement("sub",null,"x"),"O",r.default.createElement("sub",null,"y"),"."));class y extends r.default.Component{render(){return r.default.createElement("div",{className:"selection_mode_outer"},r.default.createElement("div",{className:"selection_mode_inner",onChange:ie=>this.props.onSelectionChange({mode:ie.target.value})},r.default.createElement("div",{style:{marginBottom:"2px"}},"Elements filtering mode:"),r.default.createElement("label",{className:"selection_mode_control"},r.default.createElement("input",{type:"radio",name:"sel_mode",value:"include",defaultChecked:!0}),"Include/exclude"),r.default.createElement("label",{className:"selection_mode_control"},r.default.createElement("input",{type:"radio",name:"sel_mode",value:"exact"}),"Only selected")),r.default.createElement(o.HelpButton,{popover:w,placement:"bottom"}))}}function L(ce,ie){let Et=new Set(ce),zn=ie[1],$l=ie[2],zl=[...zn].every(Ft=>Et.has(Ft)),Hl=[...Et].every(Ft=>!$l.has(Ft));return zl&&Hl}function G(ce,ie){let Et=new Set,zn={1:new Set,2:new Set};for(const[$l,zl]of Object.entries(ie.elements))zn[zl].add($l);return ce.forEach($l=>{L($l.elem_array,zn)&&(Et=new Set([...Et,...$l.elem_array]))}),Et}let H=class extends r.default.Component{makeElements=(ie,Et)=>{let zn=[];for(let $l=ie;$l<=Et;$l++){let zl=l.elementsInfo[$l].sym,Hl=0;zl in this.props.filter.elements&&(Hl=this.props.filter.elements[zl]),zn.push(r.default.createElement(d,{key:$l,num:$l,disabled:!this.enabledElems.has(zl),onSelectionChange:this.props.onSelectionChange,selection:Hl,doc:!1}))}return zn};render(){return this.enabledElems=G(this.props.rows,this.props.filter),r.default.createElement("div",{className:"ptable_outer"},r.default.createElement("div",{className:"ptable"},r.default.createElement(y,{onSelectionChange:this.props.onSelectionChange,filter:this.props.filter}),this.makeElements(1,56),this.makeElements(72,88),this.makeElements(104,118),this.makeElements(57,71),this.makeElements(89,103)))}};return PTable.default=H,PTable}var MaterialDataGrid={},main_cjs,hasRequiredMain_cjs;function requireMain_cjs(){if(hasRequiredMain_cjs)return main_cjs;hasRequiredMain_cjs=1;var r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,l=Object.prototype.hasOwnProperty,c=(e,t)=>{for(var a in t)r(e,a,{get:t[a],enumerable:!0})},f=(e,t,a,u)=>{if(t&&typeof t=="object"||typeof t=="function")for(let g of o(t))!l.call(e,g)&&g!==a&&r(e,g,{get:()=>t[g],enumerable:!(u=n(t,g))||u.enumerable});return e},d=e=>f(r({},"__esModule",{value:!0}),e),w={};c(w,{ALWAYS_SYNC_GLOBAL_EVENTS:()=>hx,AbstractHeaderCellCtrl:()=>yl,AgAbstractField:()=>L2,AgAbstractInputField:()=>t1,AgAbstractLabel:()=>n3,AgCheckbox:()=>A1,AgCheckboxSelector:()=>z1,AgColumn:()=>mu,AgColumnGroup:()=>zh,AgInputDateField:()=>b,AgInputNumberField:()=>Kv,AgInputNumberFieldSelector:()=>l2,AgInputTextArea:()=>g2,AgInputTextField:()=>Kg,AgInputTextFieldSelector:()=>vv,AgPickerField:()=>o2,AgPromise:()=>Hm,AgProvidedColumnGroup:()=>Q0,AgRadioButton:()=>H1,AgSelect:()=>Sm,AgSelectSelector:()=>um,AgToggleButton:()=>W3,AgToggleButtonSelector:()=>bx,AnimateShowChangeCellRenderer:()=>Bv,AnimateSlideCellRenderer:()=>M1,AnimationFrameService:()=>f3,AriaAnnouncementService:()=>Cw,AutoScrollService:()=>Uv,AutoWidthCalculator:()=>vx,BarColumnLabelPlacement:()=>Dw,BaseComponentWrapper:()=>U5,BaseCreator:()=>Ow,BaseGridSerializingSession:()=>zw,BeanStub:()=>Nh,BodyDropPivotTarget:()=>Fd,BodyDropTarget:()=>Df,CellComp:()=>Fy,CellCtrl:()=>Dg,CellNavigationService:()=>y3,CellPositionUtils:()=>Fx,CellRangeType:()=>q0,ChangedPath:()=>fx,ChartMappings:()=>eb,CheckboxCellEditor:()=>xh,CheckboxCellRenderer:()=>my,CheckboxSelectionComponent:()=>ef,ClientSideRowModelModule:()=>Iw,ClientSideRowModelSteps:()=>j2,ColumnApplyStateService:()=>$u,ColumnAutosizeService:()=>vh,ColumnFactory:()=>Qu,ColumnKeyCreator:()=>Du,ColumnModel:()=>vd,ColumnMoveService:()=>ih,ColumnNameService:()=>Hh,ColumnSizeService:()=>nf,CommunityFeaturesModule:()=>Wb,Component:()=>bg,ComponentUtil:()=>$p,Context:()=>b1,CssClassManager:()=>c0,CsvCreator:()=>Hw,CsvExportModule:()=>jw,CtrlsService:()=>Rx,DataTypeService:()=>Y2,DateCellEditor:()=>jl,DateFilter:()=>nt,DateStringCellEditor:()=>xd,Downloader:()=>Nw,DragAndDropService:()=>jv,DragService:()=>e2,DragSourceType:()=>Vv,Environment:()=>Px,EventService:()=>Lx,ExcelFactoryMode:()=>z2,ExpansionService:()=>p2,ExpressionService:()=>Aw,FakeHScrollComp:()=>ud,FakeVScrollComp:()=>Kd,FilterManager:()=>wy,FilterWrapperComp:()=>Cy,FocusService:()=>tx,FuncColsService:()=>Xl,GROUP_AUTO_COLUMN_ID:()=>Jp,Grid:()=>O5,GridBodyComp:()=>Py,GridBodyCtrl:()=>Zm,GridComp:()=>x2,GridCoreCreator:()=>qb,GridCoreModule:()=>gw,GridCtrl:()=>$2,GridHeaderComp:()=>N0,GridHeaderCtrl:()=>bd,GridOptionsService:()=>xw,GridSerializer:()=>Vw,GroupInstanceIdCreator:()=>Af,HeaderCellCtrl:()=>bp,HeaderFilterCellComp:()=>sd,HeaderFilterCellCtrl:()=>xl,HeaderGroupCellCtrl:()=>zp,HeaderNavigationDirection:()=>Ku,HeaderNavigationService:()=>fd,HeaderPositionUtils:()=>bw,HeaderRowComp:()=>Hu,HeaderRowContainerComp:()=>bf,HeaderRowContainerCtrl:()=>m0,HeaderRowCtrl:()=>p0,HeaderRowType:()=>Jl,HorizontalDirection:()=>xy,HorizontalResizeService:()=>Ly,InfiniteRowModelModule:()=>Zw,KeyCode:()=>pf,LargeTextCellEditor:()=>U2,LayoutCssClasses:()=>Sl,LocalEventService:()=>y,LocaleService:()=>ww,ManagedFocusFeature:()=>c1,MenuService:()=>Iy,ModuleNames:()=>L,ModuleRegistry:()=>ym,MouseEventService:()=>h2,MoveColumnFeature:()=>Lf,NavigationService:()=>Dy,NumberCellEditor:()=>m,NumberFilter:()=>v,NumberSequence:()=>cv,OverlayWrapperComponent:()=>dd,PinnedRowModel:()=>yx,PivotResultColsService:()=>Cf,PopupComponent:()=>r1,PopupEditorWrapper:()=>p3,PopupService:()=>Cx,PositionableFeature:()=>i2,PropertyKeys:()=>qf,ProvidedFilter:()=>H2,RefPlaceholder:()=>Dp,ResizeObserverService:()=>f2,RowContainerComp:()=>Fv,RowContainerCtrl:()=>Ry,RowCtrl:()=>Eg,RowDragComp:()=>by,RowHighlightPosition:()=>B2,RowModelHelperService:()=>Yb,RowNode:()=>T1,RowNodeBlock:()=>V3,RowNodeBlockLoader:()=>j3,RowNodeSorter:()=>Sw,RowPositionUtils:()=>X3,RowRenderer:()=>H3,RowType:()=>Gw,ScalarFilter:()=>a2,ScrollVisibleService:()=>c2,SelectCellEditor:()=>Oy,SelectableService:()=>_w,SelectionHandleType:()=>Lp,ServerSideTransactionResultStatus:()=>G3,SetLeftFeature:()=>gl,SimpleFilter:()=>qv,SortController:()=>Mw,SortIndicatorComp:()=>Xy,SortIndicatorSelector:()=>t3,StandardMenuFactory:()=>V2,StylingService:()=>U3,TabGuardClassNames:()=>m3,TabGuardComp:()=>$3,TabGuardCtrl:()=>v3,TabGuardFeature:()=>wx,TextCellEditor:()=>v2,TextFilter:()=>F,TextFloatingFilter:()=>Ed,TooltipFeature:()=>e1,TooltipStateManager:()=>hy,TouchListener:()=>l1,UserComponentFactory:()=>yy,UserComponentRegistry:()=>Bm,ValueCache:()=>Tw,ValueService:()=>Rw,VanillaFrameworkOverrides:()=>q3,VerticalDirection:()=>N2,VisibleColsService:()=>$f,XmlFactory:()=>g4,ZipContainer:()=>Jb,_ColumnFilterModule:()=>Ud,_CommunityMenuApiModule:()=>dw,_CsrmSsrmSharedApiModule:()=>Fw,_CsvExportCoreModule:()=>Qb,_EditCoreModule:()=>av,_EmptyBean:()=>f0,_FilterCoreModule:()=>Sd,_FloatingFilterModule:()=>sh,_ReadOnlyFloatingFilterModule:()=>ah,_RowNodeBlockModule:()=>xx,_SsrmInfiniteSharedApiModule:()=>Pw,_addFocusableContainerListener:()=>fw,_areEqual:()=>Xg,_bindCellRendererToHtmlElement:()=>M2,_capitalise:()=>Oh,_clearElement:()=>Dm,_cloneObject:()=>ot,_combineAttributesAndGridOptions:()=>hg,_compose:()=>Nl,_createIcon:()=>py,_createIconNoSpan:()=>Vm,_debounce:()=>Kl,_defaultComparator:()=>Md,_defineModule:()=>wl,_doOnce:()=>H,_errorOnce:()=>Et,_escapeString:()=>Rh,_exists:()=>Vu,_existsAndNotEmpty:()=>Om,_flatten:()=>I0,_forEachReverse:()=>up,_formatNumberCommas:()=>U,_formatNumberTwoDecimalPlacesAndCommas:()=>z,_fuzzySuggestions:()=>Um,_getAbsoluteHeight:()=>Pv,_getAbsoluteWidth:()=>L1,_getActiveDomElement:()=>Gp,_getAllValuesInObject:()=>ll,_getAriaPosInSet:()=>Qp,_getCtrlForEventTarget:()=>Of,_getDocument:()=>Fp,_getFillHandle:()=>jp,_getGlobalGridOption:()=>L5,_getGrandTotalRow:()=>X0,_getGroupAggFiltering:()=>G0,_getGroupSelection:()=>_p,_getGroupSelectsDescendants:()=>Ep,_getGroupTotalRowCallback:()=>$g,_getHeaderCheckbox:()=>fh,_getHeaderClassesFromColDef:()=>Pe,_getInnerHeight:()=>jy,_getInnerWidth:()=>$1,_getIsRowSelectable:()=>ig,_getRowContainerOptions:()=>Lg,_getRowHeightAsNumber:()=>Ef,_getRowHeightForNode:()=>yh,_getRowIdCallback:()=>hd,_getRowSelectionMode:()=>Ag,_getSuppressMultiRanges:()=>rf,_getToolPanelClassesFromColDef:()=>ml,_includes:()=>yg,_insertArrayIntoArray:()=>Qm,_insertIntoArray:()=>Cm,_isAnimateRows:()=>l0,_isCellSelectionEnabled:()=>hp,_isClientSideRowModel:()=>Dd,_isColumnsSortingCoupledToGroup:()=>Z0,_isDomLayout:()=>gd,_isElementInEventPath:()=>Qf,_isEventFromPrintableCharacter:()=>tv,_isGetRowHeightFunction:()=>qh,_isGroupMultiAutoColumn:()=>Gg,_isGroupUseEntireRow:()=>_f,_isIOSUserAgent:()=>I1,_isMultiRowSelection:()=>vg,_isNodeOrElement:()=>$y,_isNothingFocused:()=>E0,_isRowSelection:()=>md,_isServerSideRowModel:()=>mh,_isStopPropagationForAgGrid:()=>_h,_isUsingNewCellSelectionAPI:()=>mp,_isUsingNewRowSelectionAPI:()=>lf,_isVisible:()=>Nm,_iterateObject:()=>Me,_jsonEquals:()=>jd,_last:()=>Pp,_loadTemplate:()=>uv,_log:()=>ce,_makeNull:()=>Xu,_mergeDeep:()=>Pl,_missing:()=>Zu,_missingOrEmpty:()=>Od,_parseDateTimeFromString:()=>q,_processOnChange:()=>v0,_radioCssClass:()=>M0,_removeAriaExpanded:()=>ff,_removeAriaSort:()=>e0,_removeFromArray:()=>Tg,_removeFromParent:()=>m1,_removeRepeatsFromArray:()=>Vg,_serialiseDate:()=>Q,_setAriaActiveDescendant:()=>Uf,_setAriaChecked:()=>Ip,_setAriaColCount:()=>d0,_setAriaColIndex:()=>Sg,_setAriaColSpan:()=>T0,_setAriaControls:()=>xg,_setAriaDescribedBy:()=>Yu,_setAriaDisabled:()=>Jh,_setAriaExpanded:()=>Fh,_setAriaHidden:()=>Ch,_setAriaLabel:()=>A0,_setAriaLabelledBy:()=>Ln,_setAriaLevel:()=>Gd,_setAriaPosInSet:()=>Up,_setAriaRole:()=>w0,_setAriaRowCount:()=>Yg,_setAriaRowIndex:()=>sg,_setAriaSelected:()=>fg,_setAriaSetSize:()=>O0,_setAriaSort:()=>Kf,_setDisabled:()=>p1,_setDisplayed:()=>Pg,_setFixedWidth:()=>s1,_setVisible:()=>D1,_shallowCompare:()=>wm,_stopPropagationForAgGrid:()=>Ih,_toStringOrNull:()=>Id,_unwrapUserComp:()=>gv,_utf8_encode:()=>Uh,_values:()=>qu,_waitUntil:()=>vu,_warnOnce:()=>ie,checkboxStyleDefault:()=>dC,colorSchemeDark:()=>e6,colorSchemeDarkBlue:()=>r6,colorSchemeDarkWarm:()=>t6,colorSchemeLight:()=>nw,colorSchemeLightCold:()=>hC,colorSchemeLightWarm:()=>J4,createGrid:()=>I5,createPart:()=>k1,createTheme:()=>aC,getDefaultFloatingFilterType:()=>Ll,getParamType:()=>tC,iconSetAlpine:()=>iw,iconSetMaterial:()=>o6,iconSetQuartz:()=>pC,iconSetQuartzBold:()=>c6,iconSetQuartzLight:()=>l6,iconSetQuartzRegular:()=>u6,inputStyleBase:()=>ow,inputStyleBordered:()=>ib,inputStyleUnderlined:()=>f6,isColumn:()=>Fu,isColumnControlsCol:()=>Ng,isColumnGroup:()=>af,isColumnGroupAutoCol:()=>Yp,isProvidedColumnGroup:()=>Rp,isSelectionUIEvent:()=>mw,paramValueToCss:()=>oC,provideGlobalGridOptions:()=>D5,tabStyleAlpine:()=>mC,tabStyleBase:()=>px,tabStyleMaterial:()=>m6,tabStyleQuartz:()=>gC,tabStyleRolodex:()=>vC,themeAlpine:()=>y6,themeBalham:()=>x6,themeQuartz:()=>v6}),main_cjs=d(w);var y=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,a){const u=t?this.allAsyncListeners:this.allSyncListeners;let g=u.get(e);return!g&&a&&(g=new Set,u.set(e,g)),g}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(e,t,a=!1){this.getListeners(e,a,!0).add(t)}removeEventListener(e,t,a=!1){const u=this.getListeners(e,a,!1);u&&(u.delete(t),u.size===0&&(a?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).add(e)}removeGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).delete(e)}dispatchEvent(e){const t=e;this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){const a=e.type;if(t&&"event"in e){const rt=e.event;rt instanceof Event&&(e.eventPath=rt.composedPath())}const u=(rt,al)=>rt.forEach(Ql=>{if(!al.has(Ql))return;const Gu=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>Ql(e)):()=>Ql(e);t?this.dispatchAsync(Gu):Gu()}),g=this.getListeners(a,t,!1)??new Set,_=new Set(g);_.size>0&&u(_,g),new Set(t?this.globalAsyncListeners:this.globalSyncListeners).forEach(rt=>{const al=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>rt(a,e)):()=>rt(a,e);t?this.dispatchAsync(al):al()})}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){const t=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(t):t(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;const e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(t=>t())}},L=(e=>(e.CommunityCoreModule="@ag-grid-community/core",e.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",e.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",e.CsvExportModule="@ag-grid-community/csv-export",e.EnterpriseCoreModule="@ag-grid-enterprise/core",e.RowGroupingModule="@ag-grid-enterprise/row-grouping",e.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",e.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",e.MenuModule="@ag-grid-enterprise/menu",e.SetFilterModule="@ag-grid-enterprise/set-filter",e.MultiFilterModule="@ag-grid-enterprise/multi-filter",e.StatusBarModule="@ag-grid-enterprise/status-bar",e.SideBarModule="@ag-grid-enterprise/side-bar",e.RangeSelectionModule="@ag-grid-enterprise/range-selection",e.MasterDetailModule="@ag-grid-enterprise/master-detail",e.RichSelectModule="@ag-grid-enterprise/rich-select",e.GridChartsModule="@ag-grid-enterprise/charts",e.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",e.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",e.ExcelExportModule="@ag-grid-enterprise/excel-export",e.ClipboardModule="@ag-grid-enterprise/clipboard",e.SparklinesModule="@ag-grid-enterprise/sparklines",e.AdvancedFilterModule="@ag-grid-enterprise/advanced-filter",e.AngularModule="@ag-grid-community/angular",e.ReactModule="@ag-grid-community/react",e.VueModule="@ag-grid-community/vue",e))(L||{}),G={};function H(e,t){G[t]||(e(),G[t]=!0)}function ce(e,...t){console.log("AG Grid: "+e,...t)}function ie(e,...t){H(()=>console.warn("AG Grid: "+e,...t),e+t?.join(""))}function Et(e,...t){H(()=>console.error("AG Grid: "+e,...t),e+t?.join(""))}function zn(e){return!!(e&&e.constructor&&e.call&&e.apply)}function $l(e){El(e,400)}var zl=[],Hl=!1;function Ft(e){zl.push(e),!Hl&&(Hl=!0,window.setTimeout(()=>{const t=zl.slice();zl.length=0,Hl=!1,t.forEach(a=>a())},0))}function El(e,t=0){e.length>0&&window.setTimeout(()=>e.forEach(a=>a()),t)}function Kl(e,t){let a;return function(...u){const g=this;window.clearTimeout(a),a=window.setTimeout(function(){e.apply(g,u)},t)}}function Al(e,t){let a=0;return function(...u){const g=this,_=new Date().getTime();_-a<t||(a=_,e.apply(g,u))}}function vu(e,t,a=100,u){const g=new Date().getTime();let _=null,K=!1;const rt=()=>{const al=new Date().getTime()-g>a;(e()||al)&&(t(),K=!0,_!=null&&(window.clearInterval(_),_=null),al&&u&&ie(u))};rt(),K||(_=window.setInterval(rt,10))}function Nl(...e){return t=>e.reduce((a,u)=>u(a),t)}function Xu(e){return e==null||e===""?null:e}function Vu(e,t=!1){return e!=null&&(e!==""||t)}function Zu(e){return!Vu(e)}function Od(e){return e==null||e.length===0}function Id(e){return e!=null&&typeof e.toString=="function"?e.toString():null}function Bd(e){if(e===void 0)return;if(e===null||e==="")return null;if(typeof e=="number")return isNaN(e)?void 0:e;const t=parseInt(e,10);return isNaN(t)?void 0:t}function Cd(e){if(e!==void 0)return e===null||e===""?!1:Wl(e)}function Wl(e){return typeof e=="boolean"?e:typeof e=="string"?e.toUpperCase()==="TRUE"||e=="":!1}function jd(e,t){const a=e?JSON.stringify(e):null,u=t?JSON.stringify(t):null;return a===u}function Md(e,t,a=!1){const u=e==null,g=t==null;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),u&&g)return 0;if(u)return-1;if(g)return 1;function _(K,rt){return K>rt?1:K<rt?-1:0}if(typeof e!="string"||!a)return _(e,t);try{return e.localeCompare(t)}catch{return _(e,t)}}function qu(e){if(e instanceof Set||e instanceof Map){const t=[];return e.forEach(a=>t.push(a)),t}return Object.values(e)}function ad(e,t){return e.get("rowModelType")===t}function Dd(e){return ad(e,"clientSide")}function mh(e){return ad(e,"serverSide")}function gd(e,t){return e.get("domLayout")===t}function md(e){return Ag(e)!==void 0}function oh(e){return!e.get("suppressAsyncEvents")}function qh(e){return typeof e.get("getRowHeight")=="function"}function sf(e,t){return t?!e.get("enableStrictPivotColumnOrder"):e.get("maintainColumnOrder")}function yh(e,t,a=!1,u){if(u==null&&(u=e.environment.getDefaultRowHeight()),qh(e)){if(a)return{height:u,estimated:!0};const K={node:t,data:t.data},rt=e.getCallback("getRowHeight")(K);if(kf(rt))return rt===0&&ie("The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead."),{height:Math.max(1,rt),estimated:!1}}if(t.detail&&e.get("masterDetail"))return vf(e);const g=e.get("rowHeight");return{height:g&&kf(g)?g:u,estimated:!1}}function vf(e){if(e.get("detailRowAutoHeight"))return{height:1,estimated:!1};const t=e.get("detailRowHeight");return kf(t)?{height:t,estimated:!1}:{height:300,estimated:!1}}function Ef(e){const{environment:t}=e,a=e.get("rowHeight");if(!a||Zu(a))return t.getDefaultRowHeight();const u=t.refreshRowHeightVariable();return u!==-1?u:(ie("row height must be a number if not using standard row model"),t.getDefaultRowHeight())}function kf(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)}function Mp(e,t,a){const u=t[e.getDomDataKey()];return u?u[a]:void 0}function rp(e,t,a,u){const g=e.getDomDataKey();let _=t[g];Zu(_)&&(_={},t[g]=_),_[a]=u}function Fp(e){let t=null;const a=e.get("getDocument");return a&&Vu(a)?t=a():e.eGridDiv&&(t=e.eGridDiv.ownerDocument),t&&Vu(t)?t:document}function _0(e){return Fp(e).defaultView||window}function L0(e){return e.eGridDiv.getRootNode()}function Gp(e){return L0(e).activeElement}function E0(e){const t=Fp(e),a=Gp(e);return a===null||a===t.body}function l0(e){return e.get("ensureDomOrder")?!1:e.get("animateRows")}function n0(e){return!(e.get("paginateChildRows")||e.get("groupHideOpenParents")||gd(e,"print"))}function Z0(e){return!e.get("autoGroupColumnDef")?.comparator&&!e.get("treeData")}function G0(e){const t=e.get("groupAggFiltering");if(typeof t=="function")return e.getCallback("groupAggFiltering");if(t===!0)return()=>!0}function X0(e){const t=e.get("grandTotalRow");if(t)return t;if(e.get("groupIncludeTotalFooter"))return"bottom"}function $g(e){const t=e.get("groupTotalRow");if(typeof t=="function")return e.getCallback("groupTotalRow");if(t)return()=>t;const a=e.get("groupIncludeFooter");if(typeof a=="function"){const u=e.getCallback("groupIncludeFooter");return g=>u(g)?"bottom":void 0}return()=>a?"bottom":void 0}function Gg(e){return e.exists("groupDisplayType")?e.get("groupDisplayType")==="multipleColumns":e.get("groupHideOpenParents")}function _f(e,t){return t?!1:e.get("groupDisplayType")==="groupRows"}function hd(e){const t=e.getCallback("getRowId");return t===void 0?t:a=>{let u=t(a);return typeof u!="string"&&(ie("The getRowId callback must return a string. The ID ",u," is being cast to a string."),u=String(u)),u}}function qd(e){return e?.checkboxes??!0}function fh(e){return e?.mode==="multiRow"&&(e.headerCheckbox??!0)}function Mf(e){return e?.hideDisabledCheckboxes??!1}function lf(e){return typeof e.get("rowSelection")!="string"}function mp(e){return e.get("cellSelection")!==void 0}function rf(e){const t=e.get("cellSelection");return t!==void 0?typeof t!="boolean"?t?.suppressMultiRanges??!1:!1:e.get("suppressMultiRangeSelection")}function hp(e){const t=e.get("cellSelection");return t!==void 0?!!t:e.get("enableRangeSelection")}function Cp(e){const t=e.get("cellSelection");return t!==void 0?typeof t!="boolean"?t.handle?.mode==="range":!1:e.get("enableRangeHandle")}function sp(e){const t=e.get("cellSelection");return t!==void 0?typeof t!="boolean"?t.handle?.mode==="fill":!1:e.get("enableFillHandle")}function jp(e){const t=e.get("cellSelection");return t!==void 0?typeof t!="boolean"&&t.handle?.mode==="fill"?t.handle:void 0:{mode:"fill",setFillValue:e.get("fillOperation"),direction:e.get("fillHandleDirection"),suppressClearOnFillReduction:e.get("suppressClearOnFillReduction")}}function Cg(e){const t=e.get("rowSelection")??"single";if(typeof t=="string"){const a=e.get("suppressRowClickSelection"),u=e.get("suppressRowDeselection");return a&&u?!1:a?"enableDeselection":u?"enableSelection":!0}return t.mode==="singleRow"||t.mode==="multiRow"?t.enableClickSelection??!1:!1}function tg(e){const t=Cg(e);return t===!0||t==="enableSelection"}function qg(e){const t=Cg(e);return t===!0||t==="enableDeselection"}function ig(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("isRowSelectable"):t?.isRowSelectable}function Ag(e){const t=e.get("rowSelection");if(typeof t=="string")switch(t){case"multiple":return"multiRow";case"single":return"singleRow";default:return}return t?.mode}function vg(e){return Ag(e)==="multiRow"}function cg(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("rowMultiSelectWithClick"):t?.enableSelectionWithoutKeys??!1}function _p(e){const t=e.get("rowSelection");if(typeof t=="string"){const a=e.get("groupSelectsChildren"),u=e.get("groupSelectsFiltered");return a&&u?"filteredDescendants":a?"descendants":"self"}return t?.mode==="multiRow"?t.groupSelects:void 0}function Ep(e){const t=_p(e);return t==="descendants"||t==="filteredDescendants"}function dm(e){return e.isModuleRegistered("@ag-grid-enterprise/set-filter")&&!e.get("suppressSetFilterByDefault")}function Om(e){return e!=null&&e.length>0}function Pp(e){if(!(!e||!e.length))return e[e.length-1]}function Xg(e,t,a){return e==null&&t==null?!0:e!=null&&t!=null&&e.length===t.length&&e.every((u,g)=>a?a(u,t[g]):t[g]===u)}function wm(e,t){return Xg(e,t)}function hm(e){return e.sort((t,a)=>t-a)}function Vg(e,t){if(e)for(let a=e.length-2;a>=0;a--){const u=e[a]===t,g=e[a+1]===t;u&&g&&e.splice(a+1,1)}}function Qg(e,t){const a=e.indexOf(t);a>=0&&(e[a]=e[e.length-1],e.pop())}function Tg(e,t){const a=e.indexOf(t);a>=0&&e.splice(a,1)}function vm(e,t){for(let a=0;a<t.length;a++)Qg(e,t[a])}function zm(e,t){for(let a=0;a<t.length;a++)Tg(e,t[a])}function Cm(e,t,a){e.splice(a,0,t)}function Qm(e,t,a){if(!(e==null||t==null))for(let u=t.length-1;u>=0;u--){const g=t[u];Cm(e,g,a)}}function b0(e,t,a){zm(e,t),t.slice().reverse().forEach(u=>Cm(e,u,a))}function yg(e,t){return e.indexOf(t)>-1}function I0(e){return e?.flatMap(t=>t)??[]}function Pm(e,t){t==null||e==null||t.forEach(a=>e.push(a))}function up(e,t){if(e!=null)for(let a=e.length-1;a>=0;a--)t(e[a],a)}var ls="__ag_Grid_Stop_Propagation",ed=["touchstart","touchend","touchmove","touchcancel","scroll"],rh={};function Ih(e){e[ls]=!0}function _h(e){return e[ls]===!0}var ep=(()=>{const e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return a=>{if(typeof rh[a]=="boolean")return rh[a];const u=document.createElement(e[a]||"div");return a="on"+a,rh[a]=a in u}})();function Of(e,t,a){let u=t;for(;u;){const g=Mp(e,u,a);if(g)return g;u=u.parentElement}return null}function Qf(e,t){return!t||!e?!1:Zf(t).indexOf(e)>=0}function xp(e){const t=[];let a=e.target;for(;a;)t.push(a),a=a.parentElement;return t}function Zf(e){const t=e;return t.path?t.path:t.composedPath?t.composedPath():xp(t)}function vp(e,t,a,u){const _=yg(ed,a)?{passive:!0}:void 0;e&&e.addEventListener&&e.addEventListener(t,a,u,_)}var Nh=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(e){this.frameworkOverrides=e.frameworkOverrides,this.stubContext=e.context,this.eventService=e.eventService,this.gos=e.gos,this.localeService=e.localeService}getFrameworkOverrides(){return this.frameworkOverrides}destroy(){for(let e=0;e<this.destroyFunctions.length;e++)this.destroyFunctions[e]();this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(e,t,a){this.localEventService||(this.localEventService=new y),this.localEventService.addEventListener(e,t,a)}removeEventListener(e,t,a){this.localEventService&&this.localEventService.removeEventListener(e,t,a)}dispatchLocalEvent(e){this.localEventService&&this.localEventService.dispatchEvent(e)}addManagedElementListeners(e,t){return this._setupListeners(e,t)}addManagedEventListeners(e){return this._setupListeners(this.eventService,e)}addManagedListeners(e,t){return this._setupListeners(e,t)}_setupListeners(e,t){const a=[];for(const u in t){const g=t[u];g&&a.push(this._setupListener(e,u,g))}return a}_setupListener(e,t,a){if(this.destroyed)return()=>null;e instanceof HTMLElement?vp(this.getFrameworkOverrides(),e,t,a):e.addEventListener(t,a);const u=()=>(e.removeEventListener(t,a),null);return this.destroyFunctions.push(u),()=>(u(),this.destroyFunctions=this.destroyFunctions.filter(g=>g!==u),null)}setupGridOptionListener(e,t){this.gos.addPropertyEventListener(e,t);const a=()=>(this.gos.removePropertyEventListener(e,t),null);return this.destroyFunctions.push(a),()=>(a(),this.destroyFunctions=this.destroyFunctions.filter(u=>u!==a),null)}addManagedPropertyListener(e,t){return this.destroyed?()=>null:this.setupGridOptionListener(e,t)}addManagedPropertyListeners(e,t){if(this.destroyed)return;const a=e.join("-")+this.propertyListenerId++,u=g=>{if(g.changeSet){if(g.changeSet&&g.changeSet.id===this.lastChangeSetIdLookup[a])return;this.lastChangeSetIdLookup[a]=g.changeSet.id}const _={type:"gridPropertyChanged",changeSet:g.changeSet,source:g.source};t(_)};e.forEach(g=>this.setupGridOptionListener(g,u))}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createManagedBean(e,t){const a=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),a}createBean(e,t,a){return(t||this.stubContext).createBean(e,a)}destroyBean(e,t){return(t||this.stubContext).destroyBean(e)}destroyBeans(e,t){return(t||this.stubContext).destroyBeans(e)}};function Rp(e){return e instanceof Q0}var Q0=class extends Nh{constructor(e,t,a,u){super(),this.isColumn=!1,this.expandable=!1,this.instanceId=zu(),this.expandableListenerRemoveCallback=null,this.colGroupDef=e,this.groupId=t,this.expanded=!!e&&!!e.openByDefault,this.padding=a,this.level=u}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(e=>e.isVisible()):!1}isPadding(){return this.padding}setExpanded(e){this.expanded=e===void 0?!1:e,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}addLeafColumns(e){this.children&&this.children.forEach(t=>{Fu(t)?e.push(t):Rp(t)&&t.addLeafColumns(e)})}getColumnGroupShow(){const e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(t=>t.addEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(t=>t.removeEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,t=!1,a=!1;const u=this.findChildrenRemovingPadding();for(let _=0,K=u.length;_<K;_++){const rt=u[_];if(!rt.isVisible())continue;const al=rt.getColumnGroupShow();al==="open"?(e=!0,a=!0):al==="closed"?(t=!0,a=!0):(e=!0,t=!0)}const g=e&&t&&a;this.expandable!==g&&(this.expandable=g,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){const e=[],t=a=>{a.forEach(u=>{Rp(u)&&u.isPadding()?t(u.children):e.push(u)})};return t(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}},dg="ag-Grid-ControlsColumn",jg=class extends Nh{constructor(){super(...arguments),this.beanName="controlsColService"}isControlsColEnabled(){const{gos:e}=this,t=e.get("rowSelection");if(!t||typeof t!="object")return!1;const a=qd(t),u=fh(t);return!!(a||u)}createControlsCols(){if(!this.isControlsColEnabled())return[];const{gos:e}=this,t=e.get("selectionColumnDef"),u={maxWidth:50,resizable:!1,suppressHeaderMenuButton:!0,sortable:!1,suppressMovable:!0,lockPosition:e.get("enableRtl")?"right":"left",comparator(_,K,rt,al){const Ql=rt.isSelected(),Gu=al.isSelected();return Ql&&Gu?0:Ql?1:-1},editable:!1,suppressFillHandle:!0,...t,colId:`${dg}`},g=new mu(u,null,u.colId,!1);return this.createBean(g),[g]}},Jp="ag-Grid-AutoColumn";function og(e){const t=[],a=u=>{for(let g=0;g<u.length;g++){const _=u[g];Fu(_)?t.push(_):Rp(_)&&a(_.getChildren())}};return a(e),t}function i0(e){return e.reduce((t,a)=>t+a.getActualWidth(),0)}function ag(e,t,a){const u={};if(!t)return;ld(null,t,_=>{u[_.getInstanceId()]=_}),a&&ld(null,a,_=>{u[_.getInstanceId()]=null});const g=Object.values(u).filter(_=>_!=null);e.destroyBeans(g)}function Yp(e){return e.getId().startsWith(Jp)}function Ng(e){return e.getColId().startsWith(dg)}function kd(e){let t=[];return e instanceof Array?e.some(u=>typeof u!="string")?ie("if colDef.type is supplied an array it should be of type 'string[]'"):t=e:typeof e=="string"?t=e.split(","):ie("colDef.type should be of type 'string' | 'string[]'"),t}var E=class{constructor(e){this.frameworkOverrides=e,this.wrappedListeners=new Map,this.wrappedGlobalListeners=new Map}wrap(e,t){const{frameworkOverrides:a,wrappedListeners:u}=this;let g=t;if(a.shouldWrapOutgoing){g=K=>{a.wrapOutgoing(()=>t(K))};let _=u.get(e);_||(_=new Map,u.set(e,_)),_.set(t,g)}return g}wrapGlobal(e){const{frameworkOverrides:t,wrappedGlobalListeners:a}=this;let u=e;return t.shouldWrapOutgoing&&(u=(g,_)=>{t.wrapOutgoing(()=>e(g,_))},a.set(e,u)),u}unwrap(e,t){const{wrappedListeners:a}=this,u=a.get(e);if(u){const g=u.get(t);if(g)return u.delete(t),u.size===0&&a.delete(e),g}return t}unwrapGlobal(e){const{wrappedGlobalListeners:t}=this,a=t.get(e);return a?(t.delete(e),a):e}},V=new Set(["__proto__","constructor","prototype"]);function Me(e,t){if(e!=null){if(Array.isArray(e)){for(let a=0;a<e.length;a++)t(a.toString(),e[a]);return}for(const[a,u]of Object.entries(e))V.has(a)||t(a,u)}}function ot(e){const t={},a=Object.keys(e);for(let u=0;u<a.length;u++){if(V.has(a[u]))continue;const g=a[u],_=e[g];t[g]=_}return t}function Tl(e,t){if(!e)return;const a=e,u={};return Object.keys(a).forEach(g=>{if(t&&t.indexOf(g)>=0||V.has(g))return;const _=a[g];Ml(_)&&_.constructor===Object?u[g]=Tl(_):u[g]=_}),u}function ll(e){if(!e)return[];const t=Object;if(typeof t.values=="function")return t.values(e);const a=[];for(const u in e)e.hasOwnProperty(u)&&e.propertyIsEnumerable(u)&&a.push(e[u]);return a}function Pl(e,t,a=!0,u=!1){Vu(t)&&Me(t,(g,_)=>{if(V.has(g))return;let K=e[g];K!==_&&(u&&K==null&&_!=null&&typeof _=="object"&&_.constructor===Object&&(K={},e[g]=K),Ml(_)&&Ml(K)&&!Array.isArray(K)?Pl(K,_,a,u):(a||_!==void 0)&&(e[g]=_))})}function Bl(e,t,a){if(!t||!e)return;if(!a)return e[t];const u=t.split(".");let g=e;for(let _=0;_<u.length;_++){if(g==null)return;g=g[u[_]]}return g}function Ml(e){return typeof e=="object"&&e!==null}var Vl={resizable:!0,sortable:!0},Yl=0;function zu(){return Yl++}function Fu(e){return e instanceof mu}var mu=class extends Nh{constructor(e,t,a,u){super(),this.isColumn=!0,this.instanceId=zu(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.columnEventService=new y,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=e,this.userProvidedColDef=t,this.colId=a,this.primary=u,this.setState(e)}wireBeans(e){this.columnHoverService=e.columnHoverService}getInstanceId(){return this.instanceId}setState(e){e.sort!==void 0?(e.sort==="asc"||e.sort==="desc")&&(this.sort=e.sort):(e.initialSort==="asc"||e.initialSort==="desc")&&(this.sort=e.initialSort);const t=e.sortIndex,a=e.initialSortIndex;t!==void 0?t!==null&&(this.sortIndex=t):a!==null&&(this.sortIndex=a);const u=e.hide,g=e.initialHide;u!==void 0?this.visible=!u:this.visible=!g,e.pinned!==void 0?this.setPinned(e.pinned):this.setPinned(e.initialPinned);const _=e.flex,K=e.initialFlex;_!==void 0?this.flex=_:K!==void 0&&(this.flex=K)}setColDef(e,t,a){this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),this.columnEventService.dispatchEvent(this.createColumnEvent("colDefChanged",a))}getUserProvidedColDef(){return this.userProvidedColDef}setParent(e){this.parent=e}getParent(){return this.parent}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}postConstruct(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip()}initDotNotation(){const e=this.gos.get("suppressFieldDotNotation");this.fieldContainsDots=Vu(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!e,this.tooltipFieldContainsDots=Vu(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!e}initMinAndMaxWidths(){const e=this.colDef;this.minWidth=e.minWidth??this.gos.environment.getDefaultColumnMinWidth(),this.maxWidth=e.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){this.tooltipEnabled=Vu(this.colDef.tooltipField)||Vu(this.colDef.tooltipValueGetter)||Vu(this.colDef.tooltipComponent)}resetActualWidth(e){const t=this.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}calculateColInitialWidth(e){let t;const a=Bd(e.width),u=Bd(e.initialWidth);return a!=null?t=a:u!=null?t=u:t=200,Math.max(Math.min(t,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){if(Zu(this.colDef)||Zu(this.colDef.showRowGroup))return!1;const t=this.colDef.showRowGroup===!0,a=this.colDef.showRowGroup===e;return t||a}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}getHighlighted(){return this.highlighted}addEventListener(e,t){this.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.columnEventService.setFrameworkOverrides(this.frameworkOverrides),this.frameworkEventListenerService=new E(this.frameworkOverrides));const a=this.frameworkEventListenerService?.wrap(e,t)??t;this.columnEventService.addEventListener(e,a)}removeEventListener(e,t){const a=this.frameworkEventListenerService?.unwrap(e,t)??t;this.columnEventService.removeEventListener(e,a)}createColumnFunctionCallbackParams(e){return this.gos.addGridCommonParams({node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){if(typeof this.colDef.suppressNavigable=="boolean")return this.colDef.suppressNavigable;if(typeof this.colDef.suppressNavigable=="function"){const t=this.createColumnFunctionCallbackParams(e),a=this.colDef.suppressNavigable;return a(t)}return!1}isCellEditable(e){if(e.group){if(this.gos.get("treeData")){if(!e.data&&!this.gos.get("enableGroupEdit"))return!1}else if(!this.gos.get("enableGroupEdit"))return!1}return this.isColumnFunc(e,this.colDef.editable)}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){const t=this.gos.get("rowSelection");if(t&&typeof t!="string"){const a=Ng(this)&&qd(t);return this.isColumnFunc(e,a)}else return this.isColumnFunc(e,this.colDef.checkboxSelection)}isSuppressPaste(e){return this.isColumnFunc(e,this.colDef?this.colDef.suppressPaste:null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){return this.colDef[e]??Vl[e]}isColumnFunc(e,t){if(typeof t=="boolean")return t;if(typeof t=="function"){const a=this.createColumnFunctionCallbackParams(e);return t(a)}return!1}setHighlighted(e){this.highlighted!==e&&(this.highlighted=e,this.columnEventService.dispatchEvent(this.createColumnEvent("headerHighlightChanged","uiColumnMoved")))}setMoving(e,t){this.moving=e,this.columnEventService.dispatchEvent(this.createColumnEvent("movingChanged",t))}createColumnEvent(e,t){return this.gos.addGridCommonParams({type:e,column:this,columns:[this],source:t})}isMoving(){return this.moving}getSort(){return this.sort}setSort(e,t){this.sort!==e&&(this.sort=e,this.columnEventService.dispatchEvent(this.createColumnEvent("sortChanged",t))),this.dispatchStateUpdatedEvent("sort")}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return this.sort==="asc"}isSortDescending(){return this.sort==="desc"}isSortNone(){return Zu(this.sort)}isSorting(){return Vu(this.sort)}getSortIndex(){return this.sortIndex}setSortIndex(e){this.sortIndex=e,this.dispatchStateUpdatedEvent("sortIndex")}setMenuVisible(e,t){this.menuVisible!==e&&(this.menuVisible=e,this.columnEventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",t)))}isMenuVisible(){return this.menuVisible}setAggFunc(e){this.aggFunc=e,this.dispatchStateUpdatedEvent("aggFunc")}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.columnEventService.dispatchEvent(this.createColumnEvent("leftChanged",t)))}isFilterActive(){return this.filterActive}setFilterActive(e,t,a){this.filterActive!==e&&(this.filterActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",t)));const u=this.createColumnEvent("filterChanged",t);a&&Pl(u,a),this.columnEventService.dispatchEvent(u)}isHovered(){return this.columnHoverService.isHovered(this)}setPinned(e){e===!0||e==="left"?this.pinned="left":e==="right"?this.pinned="right":this.pinned=null,this.dispatchStateUpdatedEvent("pinned")}setFirstRightPinned(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.columnEventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",t)))}setLastLeftPinned(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.columnEventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",t)))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(e,t){const a=e===!0;this.visible!==a&&(this.visible=a,this.columnEventService.dispatchEvent(this.createColumnEvent("visibleChanged",t))),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){return!this.getColDef().suppressSpanHeaderHeight}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const t=e.getPaddingLevel()+1;let a=!0;for(;e;){if(!e.isPadding()){a=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:a}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return this.gos.addGridCommonParams({node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(Zu(this.colDef.colSpan))return 1;const t=this.createBaseColDefParams(e),a=this.colDef.colSpan(t);return Math.max(a,1)}getRowSpan(e){if(Zu(this.colDef.rowSpan))return 1;const t=this.createBaseColDefParams(e),a=this.colDef.rowSpan(t);return Math.max(a,1)}setActualWidth(e,t,a=!1){e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,this.flex&&t!=="flex"&&t!=="gridInitializing"&&(this.flex=null),a||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.columnEventService.dispatchEvent(this.createColumnEvent("widthChanged",e))}isGreaterThanMax(e){return e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex||0}setFlex(e){this.flex!==e&&(this.flex=e),this.dispatchStateUpdatedEvent("flex")}setMinimum(e){this.setActualWidth(this.minWidth,e)}setRowGroupActive(e,t){this.rowGroupActive!==e&&(this.rowGroupActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",t))),this.dispatchStateUpdatedEvent("rowGroup")}isRowGroupActive(){return this.rowGroupActive}setPivotActive(e,t){this.pivotActive!==e&&(this.pivotActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",t))),this.dispatchStateUpdatedEvent("pivot")}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}setValueActive(e,t){this.aggregationActive!==e&&(this.aggregationActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnValueChanged",t)))}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}dispatchStateUpdatedEvent(e){this.columnEventService.dispatchEvent({type:"columnStateUpdated",key:e})}},Lu={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},Du=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=Id(e);let a=0;for(;;){let u;if(e?(u=e,a!==0&&(u+="_"+a)):t?(u=t,a!==0&&(u+="_"+a)):u=a,!this.existingKeys[u])return this.existingKeys[u]=!0,String(u);a++}}},Qu=class extends Nh{constructor(){super(...arguments),this.beanName="columnFactory"}wireBeans(e){this.dataTypeService=e.dataTypeService}createColumnTree(e,t,a,u){const g=new Du,{existingCols:_,existingGroups:K,existingColKeys:rt}=this.extractExistingTreeData(a);g.addExistingKeys(rt);const al=this.recursivelyCreateColumns(e,0,t,_,g,K,u),Ql=this.findMaxDept(al,0),Gu=this.balanceColumnTree(al,0,Ql,g);return ld(null,Gu,(id,uh)=>{Rp(id)&&id.setupExpandable(),id.setOriginalParent(uh)}),{columnTree:Gu,treeDept:Ql}}extractExistingTreeData(e){const t=[],a=[],u=[];return e&&ld(null,e,g=>{if(Rp(g)){const _=g;a.push(_)}else{const _=g;u.push(_.getId()),t.push(_)}}),{existingCols:t,existingGroups:a,existingColKeys:u}}balanceTreeForAutoCols(e,t){const a=[],u=this.findDepth(t);return e.forEach(g=>{let _=g;for(let K=u-1;K>=0;K--){const rt=new Q0(null,`FAKE_PATH_${g.getId()}}_${K}`,!0,K);this.createBean(rt),rt.setChildren([_]),_.setOriginalParent(rt),_=rt}u===0&&g.setOriginalParent(null),a.push(_)}),[a,u]}findDepth(e){let t=0,a=e;for(;a&&a[0]&&Rp(a[0]);)t++,a=a[0].getChildren();return t}balanceColumnTree(e,t,a,u){const g=[];for(let _=0;_<e.length;_++){const K=e[_];if(Rp(K)){const rt=K,al=this.balanceColumnTree(rt.getChildren(),t+1,a,u);rt.setChildren(al),g.push(rt)}else{let rt,al;for(let Ql=a-1;Ql>=t;Ql--){const Gu=u.getUniqueKey(null,null),Wu=this.createMergedColGroupDef(null),id=new Q0(Wu,Gu,!0,t);this.createBean(id),al&&al.setChildren([id]),al=id,rt||(rt=al)}if(rt&&al)if(g.push(rt),e.some(Gu=>Rp(Gu))){al.setChildren([K]);continue}else{al.setChildren(e);break}g.push(K)}}return g}findMaxDept(e,t){let a=t;for(let u=0;u<e.length;u++){const g=e[u];if(Rp(g)){const _=g,K=this.findMaxDept(_.getChildren(),t+1);a<K&&(a=K)}}return a}recursivelyCreateColumns(e,t,a,u,g,_,K){if(!e)return[];const rt=new Array(e.length);for(let al=0;al<rt.length;al++){const Ql=e[al];this.isColumnGroup(Ql)?rt[al]=this.createColumnGroup(a,Ql,t,u,g,_,K):rt[al]=this.createColumn(a,Ql,u,g,K)}return rt}createColumnGroup(e,t,a,u,g,_,K){const rt=this.createMergedColGroupDef(t),al=g.getUniqueKey(rt.groupId||null,null),Ql=new Q0(rt,al,!1,a);this.createBean(Ql);const Gu=this.findExistingGroup(t,_);Gu&&_.splice(Gu.idx,1);const Wu=Gu?.group;Wu&&Ql.setExpanded(Wu.isExpanded());const id=this.recursivelyCreateColumns(rt.children,a+1,e,u,g,_,K);return Ql.setChildren(id),Ql}createMergedColGroupDef(e){const t={};return Object.assign(t,this.gos.get("defaultColGroupDef")),Object.assign(t,e),t}createColumn(e,t,a,u,g){const _=this.findExistingColumn(t,a);_&&a?.splice(_.idx,1);let K=_?.column;if(K){const rt=this.addColumnDefaultAndTypes(t,K.getColId());K.setColDef(rt,t,g),this.applyColumnState(K,rt,g)}else{const rt=u.getUniqueKey(t.colId,t.field),al=this.addColumnDefaultAndTypes(t,rt);K=new mu(al,t,rt,e),this.createBean(K)}return this.dataTypeService?.addColumnListeners(K),K}applyColumnState(e,t,a){const u=Bd(t.flex);if(u!==void 0&&e.setFlex(u),e.getFlex()<=0){const rt=Bd(t.width);if(rt!=null)e.setActualWidth(rt,a);else{const al=e.getActualWidth();e.setActualWidth(al,a)}}t.sort!==void 0&&(t.sort=="asc"||t.sort=="desc"?e.setSort(t.sort,a):e.setSort(void 0,a));const _=Bd(t.sortIndex);_!==void 0&&e.setSortIndex(_);const K=Cd(t.hide);K!==void 0&&e.setVisible(!K,a),t.pinned!==void 0&&e.setPinned(t.pinned)}findExistingColumn(e,t){if(t)for(let a=0;a<t.length;a++){const u=t[a].getUserProvidedColDef();if(!u)continue;if(e.colId!=null){if(t[a].getId()===e.colId)return{idx:a,column:t[a]};continue}if(e.field!=null){if(u.field===e.field)return{idx:a,column:t[a]};continue}if(u===e)return{idx:a,column:t[a]}}}findExistingGroup(e,t){if(e.groupId!=null)for(let u=0;u<t.length;u++){const g=t[u];if(g.getColGroupDef()&&g.getId()===e.groupId)return{idx:u,group:g}}}addColumnDefaultAndTypes(e,t){const a={},u=this.gos.get("defaultColDef");Pl(a,u,!1,!0);const g=this.updateColDefAndGetColumnType(a,e,t);g&&this.assignColumnTypes(g,a),Pl(a,e,!1,!0);const _=this.gos.get("autoGroupColumnDef"),K=Z0(this.gos);return e.rowGroup&&_&&K&&Pl(a,{sort:_.sort,initialSort:_.initialSort},!1,!0),this.dataTypeService?.validateColDef(a),a}updateColDefAndGetColumnType(e,t,a){const u=this.dataTypeService?.updateColDefAndGetColumnType(e,t,a),g=t.type??u??e.type;return e.type=g,g?kd(g):void 0}assignColumnTypes(e,t){if(!e.length)return;const a=Object.assign({},Lu),u=this.gos.get("columnTypes")||{};Me(u,(g,_)=>{g in a?ie(`the column type '${g}' is a default column type and cannot be overridden.`):(_.type&&ie("Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type."),a[g]=_)}),e.forEach(g=>{const _=a[g.trim()];_?Pl(t,_,!1,!0):ie("colDef.type '"+g+"' does not correspond to defined gridOptions.columnTypes")})}isColumnGroup(e){return e.children!==void 0}};function ld(e,t,a){if(t)for(let u=0;u<t.length;u++){const g=t[u];Rp(g)&&ld(g,g.getChildren(),a),a(g,e)}}var vd=class extends Nh{constructor(){super(...arguments),this.beanName="columnModel",this.pivotMode=!1,this.autoHeightActiveAtLeastOnce=!1,this.ready=!1,this.changeEventsDispatching=!1,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}wireBeans(e){this.context=e.context,this.ctrlsService=e.ctrlsService,this.columnFactory=e.columnFactory,this.columnSizeService=e.columnSizeService,this.visibleColsService=e.visibleColsService,this.columnViewportService=e.columnViewportService,this.pivotResultColsService=e.pivotResultColsService,this.columnAnimationService=e.columnAnimationService,this.autoColService=e.autoColService,this.controlsColService=e.controlsColService,this.valueCache=e.valueCache,this.columnDefFactory=e.columnDefFactory,this.columnApplyStateService=e.columnApplyStateService,this.columnGroupStateService=e.columnGroupStateService,this.eventDispatcher=e.columnEventDispatcher,this.columnMoveService=e.columnMoveService,this.columnAutosizeService=e.columnAutosizeService,this.funcColsService=e.funcColsService,this.quickFilterService=e.quickFilterService,this.showRowGroupColsService=e.showRowGroupColsService,this.environment=e.environment}postConstruct(){const e=this.gos.get("pivotMode");this.isPivotSettingAllowed(e)&&(this.pivotMode=e),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],t=>this.refreshAll(Ld(t.source))),this.addManagedPropertyListener("rowSelection",t=>{this.onSelectionOptionsChanged(t.currentValue,t.previousValue,Ld(t.source))}),this.addManagedPropertyListener("autoGroupColumnDef",t=>this.onAutoGroupColumnDefChanged(Ld(t.source))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],t=>this.recreateColumnDefs(Ld(t.source))),this.addManagedPropertyListener("pivotMode",t=>this.setPivotMode(this.gos.get("pivotMode"),Ld(t.source))),this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered()})}createColsFromColDefs(e){const t=this.colDefs?this.columnApplyStateService.compareColumnStatesAndDispatchEvents(e):void 0;this.valueCache.expire();const a=this.colDefCols?.list,u=this.colDefCols?.tree,g=this.columnFactory.createColumnTree(this.colDefs,!0,u,e);ag(this.context,this.colDefCols?.tree,g.columnTree);const _=g.columnTree,K=g.treeDept,rt=og(_),al={};rt.forEach(Ql=>al[Ql.getId()]=Ql),this.colDefCols={tree:_,treeDepth:K,list:rt,map:al},this.funcColsService.extractCols(e,a),this.ready=!0,this.refreshCols(!0),this.visibleColsService.refresh(e),this.columnViewportService.checkViewportColumns(),this.eventDispatcher.everythingChanged(e),t&&(this.changeEventsDispatching=!0,t(),this.changeEventsDispatching=!1),this.eventDispatcher.newColumnsLoaded(e),e==="gridInitializing"&&this.columnSizeService.applyAutosizeStrategy()}refreshCols(e){if(!this.colDefCols)return;const t=this.cols?.tree;this.saveColOrder(),this.selectCols(),this.createAutoCols(),this.addAutoCols(),this.createControlsCols(),this.addControlsCols();const a=sf(this.gos,this.showingPivotResult);(!e||a)&&this.restoreColOrder(),this.positionLockedCols(),this.showRowGroupColsService?.refresh(),this.quickFilterService?.refreshQuickFilterCols(),this.setColSpanActive(),this.setAutoHeightActive(),this.visibleColsService.clear(),this.columnViewportService.clear(),!Xg(t,this.cols.tree)&&this.eventDispatcher.gridColumns()}selectCols(){const e=this.pivotResultColsService.getPivotResultCols();if(this.showingPivotResult=e!=null,e){const{map:t,list:a,tree:u,treeDepth:g}=e;this.cols={list:a.slice(),map:{...t},tree:u.slice(),treeDepth:g},e.list.some(K=>this.cols?.map[K.getColId()]!==void 0)||(this.lastPivotOrder=null)}else{const{map:t,list:a,tree:u,treeDepth:g}=this.colDefCols;this.cols={list:a.slice(),map:{...t},tree:u.slice(),treeDepth:g}}}getColsToShow(){const e=this.isPivotMode()&&!this.isShowingPivotResult(),t=this.funcColsService.getValueColumns(),a=this.controlsColService?.isControlsColEnabled();return this.cols.list.filter(g=>{const _=Yp(g);if(e){const K=t&&yg(t,g);return _||K||a&&Ng(g)}else return _||g.isVisible()})}addAutoCols(){this.autoCols!=null&&(this.cols.list=this.autoCols.list.concat(this.cols.list),this.cols.tree=this.autoCols.tree.concat(this.cols.tree),Ad(this.cols))}createAutoCols(){const e=_f(this.gos,this.pivotMode),t=this.pivotMode?this.gos.get("pivotSuppressAutoColumn"):this.isSuppressAutoCol(),a=this.funcColsService.getRowGroupColumns(),g=!(a.length>0||this.gos.get("treeData"))||t||e,_=()=>{this.autoCols&&(ag(this.context,this.autoCols.tree),this.autoCols=null)};if(g||!this.autoColService){_();return}const K=this.autoColService.createAutoCols(a)??[],rt=dh(K,this.autoCols?.list||null),al=this.cols.treeDepth,Gu=(this.autoCols?this.autoCols.treeDepth:-1)==al;if(rt&&Gu)return;_();const[Wu,id]=this.columnFactory.balanceTreeForAutoCols(K,this.cols.tree);this.autoCols={list:K,tree:Wu,treeDepth:id,map:{}};const uh=Qh=>{if(!Qh)return null;const uf=Qh.filter(tf=>!Yp(tf));return[...K,...uf]};this.lastOrder=uh(this.lastOrder),this.lastPivotOrder=uh(this.lastPivotOrder)}createControlsCols(){const e=()=>{ag(this.context,this.controlsCols?.tree),this.controlsCols=null};this.controlsColService||e();const t=this.cols.treeDepth,u=(this.controlsCols?.treeDepth??-1)==t,g=this.controlsColService?.createControlsCols()??[];if(dh(g,this.controlsCols?.list??[])&&u)return;e();const[K,rt]=this.columnFactory.balanceTreeForAutoCols(g,this.cols.tree);this.controlsCols={list:g,tree:K,treeDepth:rt,map:{}};const al=Ql=>{if(!Ql)return null;const Gu=Ql.filter(Wu=>!Ng(Wu));return[...g,...Gu]};this.lastOrder=al(this.lastOrder),this.lastPivotOrder=al(this.lastPivotOrder)}addControlsCols(){this.controlsCols!=null&&(this.cols.list=this.controlsCols.list.concat(this.cols.list),this.cols.tree=this.controlsCols.tree.concat(this.cols.tree),Ad(this.cols))}refreshAll(e){this.isReady()&&(this.refreshCols(!1),this.visibleColsService.refresh(e))}setColsVisible(e,t=!1,a){this.columnApplyStateService.applyColumnState({state:e.map(u=>({colId:typeof u=="string"?u:u.getColId(),hide:!t}))},a)}setColsPinned(e,t,a){if(!this.cols||Od(e))return;if(gd(this.gos,"print")){ie("Changing the column pinning status is not allowed with domLayout='print'");return}this.columnAnimationService.start();let u;t===!0||t==="left"?u="left":t==="right"?u="right":u=null;const g=[];e.forEach(_=>{if(!_)return;const K=this.getCol(_);K&&K.getPinned()!==u&&(K.setPinned(u),g.push(K))}),g.length&&(this.visibleColsService.refresh(a),this.eventDispatcher.columnPinned(g,a)),this.columnAnimationService.finish()}setColumnGroupOpened(e,t,a){let u;Rp(e)?u=e.getId():u=e||"",this.columnGroupStateService.setColumnGroupState([{groupId:u,open:t}],a)}getProvidedColGroup(e){let t=null;return ld(null,this.cols?.tree,a=>{Rp(a)&&a.getId()===e&&(t=a)}),t}isColGroupLocked(e){const t=this.gos.get("groupLockGroupColumns");if(!e.isRowGroupActive()||t===0)return!1;if(t===-1)return!0;const u=this.funcColsService.getRowGroupColumns().findIndex(g=>g.getColId()===e.getColId());return t>u}isSuppressAutoCol(){return this.gos.get("groupDisplayType")==="custom"?!0:this.gos.get("treeDataDisplayType")==="custom"}setAutoHeightActive(){this.autoHeightActive=this.cols.list.some(e=>e.isVisible()&&e.isAutoHeight()),this.autoHeightActive&&(this.autoHeightActiveAtLeastOnce=!0,Dd(this.gos)||mh(this.gos)||ie("autoHeight columns only work with Client Side Row Model and Server Side Row Model."))}restoreColOrder(){const e=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!e)return;const t=new Map(e.map((al,Ql)=>[al,Ql]));if(!this.cols.list.some(al=>t.has(al)))return;const u=new Map(this.cols.list.map(al=>[al,!0])),g=e.filter(al=>u.has(al)),_=new Map(g.map(al=>[al,!0])),K=this.cols.list.filter(al=>!_.has(al)),rt=g.slice();K.forEach(al=>{let Ql=al.getOriginalParent();if(!Ql){rt.push(al);return}const Gu=[];for(;!Gu.length&&Ql;)Ql.getLeafColumns().forEach(Qh=>{const uf=rt.indexOf(Qh)>=0,tf=Gu.indexOf(Qh)<0;uf&&tf&&Gu.push(Qh)}),Ql=Ql.getOriginalParent();if(!Gu.length){rt.push(al);return}const Wu=Gu.map(uh=>rt.indexOf(uh)),id=Math.max(...Wu);Cm(rt,al,id+1)}),this.cols.list=rt}sortColsLikeKeys(e){if(this.cols==null)return;let t=[];const a={};e.forEach(g=>{if(a[g])return;const _=this.cols.map[g];_&&(t.push(_),a[g]=!0)});let u=0;if(this.cols.list.forEach(g=>{const _=g.getColId();if(a[_]!=null)return;_.startsWith(Jp)?Cm(t,g,u++):t.push(g)}),t=this.columnMoveService.placeLockedColumns(t),!this.columnMoveService.doesMovePassMarryChildren(t)){ie("Applying column order broke a group where columns should be married together. Applying new order has been discarded.");return}this.cols.list=t}sortColsLikeCols(e){!e||e.length<=1||e.filter(a=>this.cols.list.indexOf(a)<0).length>0||e.sort((a,u)=>{const g=this.cols.list.indexOf(a),_=this.cols.list.indexOf(u);return g-_})}resetColDefIntoCol(e,t){const a=e.getUserProvidedColDef();if(!a)return!1;const u=this.columnFactory.addColumnDefaultAndTypes(a,e.getColId());return e.setColDef(u,a,t),!0}queueResizeOperations(){this.shouldQueueResizeOperations=!0}isShouldQueueResizeOperations(){return this.shouldQueueResizeOperations}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(e=>e()),this.resizeOperationQueue=[]}pushResizeOperation(e){this.resizeOperationQueue.push(e)}moveInCols(e,t,a){b0(this.cols?.list,e,t),this.visibleColsService.refresh(a)}positionLockedCols(){this.cols.list=this.columnMoveService.placeLockedColumns(this.cols.list)}saveColOrder(){this.showingPivotResult?this.lastPivotOrder=this.cols?.list:this.lastOrder=this.cols?.list}getColumnDefs(){if(!this.colDefCols)return;const e=this.colDefCols.list.slice();this.showingPivotResult?e.sort((u,g)=>this.lastOrder.indexOf(u)-this.lastOrder.indexOf(g)):this.lastOrder&&e.sort((u,g)=>this.cols.list.indexOf(u)-this.cols.list.indexOf(g));const t=this.funcColsService.getRowGroupColumns(),a=this.funcColsService.getPivotColumns();return this.columnDefFactory.buildColumnDefs(e,t,a)}isShowingPivotResult(){return this.showingPivotResult}isChangeEventsDispatching(){return this.changeEventsDispatching}isColSpanActive(){return this.colSpanActive}isProvidedColGroupsPresent(){return this.colDefCols?.treeDepth>0}setColSpanActive(){this.colSpanActive=this.cols.list.some(e=>e.getColDef().colSpan!=null)}isAutoRowHeightActive(){return this.autoHeightActive}wasAutoRowHeightEverActive(){return this.autoHeightActiveAtLeastOnce}getHeaderRowCount(){return this.cols?this.cols.treeDepth+1:-1}isReady(){return this.ready}isPivotMode(){return this.pivotMode}setPivotMode(e,t){e===this.pivotMode||!this.isPivotSettingAllowed(this.pivotMode)||(this.pivotMode=e,this.ready&&(this.refreshCols(!1),this.visibleColsService.refresh(t),this.eventDispatcher.pivotModeChanged()))}isPivotSettingAllowed(e){return e&&this.gos.get("treeData")?(ie("Pivot mode not available with treeData."),!1):!0}isPivotActive(){const e=this.funcColsService.getPivotColumns();return this.pivotMode&&!Od(e)}recreateColumnDefs(e){this.cols&&(this.autoCols&&this.autoColService.updateAutoCols(this.autoCols.list,e),this.createColsFromColDefs(e))}setColumnDefs(e,t){this.colDefs=e,this.createColsFromColDefs(t)}destroy(){ag(this.context,this.colDefCols?.tree),ag(this.context,this.autoCols?.tree),ag(this.context,this.controlsCols?.tree),super.destroy()}getColTree(){return this.cols.tree}getColDefColTree(){return this.colDefCols.tree}getColDefCols(){return this.colDefCols?.list?this.colDefCols.list:null}getCols(){return this.cols?.list??[]}getAllCols(){const t=this.pivotResultColsService.getPivotResultCols()?.list;return[this.colDefCols?.list??[],this.autoCols?.list??[],this.controlsCols?.list??[],t??[]].flat()}getColsForKeys(e){return e?e.map(t=>this.getCol(t)).filter(t=>t!=null):[]}getColDefCol(e){return this.colDefCols?.list?this.getColFromCollection(e,this.colDefCols):null}getCol(e){return e==null?null:this.getColFromCollection(e,this.cols)}getColFromCollection(e,t){if(t==null)return null;const{map:a,list:u}=t;if(typeof e=="string"&&a[e])return a[e];for(let g=0;g<u.length;g++)if(nh(u[g],e))return u[g];return this.getAutoCol(e)}getAutoCol(e){return this.autoCols?.list.find(t=>nh(t,e))??null}getAutoCols(){return this.autoCols?.list??null}setColHeaderHeight(e,t){e.setAutoHeaderHeight(t)&&(e.isColumn?this.eventDispatcher.headerHeight(e):this.eventDispatcher.groupHeaderHeight(e))}getGroupRowsHeight(){const e=[],t=this.ctrlsService.getHeaderRowContainerCtrls();for(const a of t){if(!a)continue;const u=a.getGroupRowCount()||0;for(let g=0;g<u;g++){const _=a.getGroupRowCtrlAtIndex(g),K=e[g];if(_){const rt=this.getColumnGroupHeaderRowHeight(_);(K==null||rt>K)&&(e[g]=rt)}}}return e}getColumnGroupHeaderRowHeight(e){const t=this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight();let a=0;const u=e.getHeaderCtrls();for(const g of u){const _=g.getColumn();if(_.isAutoHeaderHeight()){const K=_.getAutoHeaderHeight();K!=null&&K>a&&(a=K)}}return Math.max(t,a)}getColumnHeaderRowHeight(){const e=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),a=this.visibleColsService.getAllCols().filter(u=>u.isAutoHeaderHeight()).map(u=>u.getAutoHeaderHeight()||0);return Math.max(e,...a)}getHeaderHeight(){return this.gos.get("headerHeight")??this.environment.getDefaultHeaderHeight()}getFloatingFiltersHeight(){return this.gos.get("floatingFiltersHeight")??this.getHeaderHeight()}getGroupHeaderHeight(){return this.gos.get("groupHeaderHeight")??this.getHeaderHeight()}getPivotHeaderHeight(){return this.gos.get("pivotHeaderHeight")??this.getHeaderHeight()}getPivotGroupHeaderHeight(){return this.gos.get("pivotGroupHeaderHeight")??this.getGroupHeaderHeight()}onFirstDataRendered(){const e=this.gos.get("autoSizeStrategy");if(e?.type!=="fitCellContents")return;const{colIds:t,skipHeader:a}=e;setTimeout(()=>{t?this.columnAutosizeService.autoSizeCols({colKeys:t,skipHeader:a,source:"autosizeColumns"}):this.columnAutosizeService.autoSizeAllColumns("autosizeColumns",a)})}onAutoGroupColumnDefChanged(e){this.autoCols&&this.autoColService.updateAutoCols(this.autoCols.list,e)}onSelectionOptionsChanged(e,t,a){const u=t&&typeof t!="string"?qd(t):void 0,g=e&&typeof e!="string"?qd(e):void 0,_=u!==g,K=t&&typeof t!="string"?fh(t):void 0,rt=e&&typeof e!="string"?fh(e):void 0;(_||K!==rt)&&this.refreshAll(a)}};function Ld(e){return e==="gridOptionsUpdated"?"gridOptionsChanged":e}function Ad(e){e.map={},e.list.forEach(t=>e.map[t.getId()]=t)}function nh(e,t){const a=e===t,u=e.getColDef()===t,g=e.getColId()==t;return a||u||g}function dh(e,t){return Xg(e,t,(a,u)=>a.getColId()===u.getColId())}var vh=class extends Nh{constructor(){super(...arguments),this.beanName="columnAutosizeService",this.timesDelayed=0}wireBeans(e){this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.animationFrameService=e.animationFrameService,this.autoWidthCalculator=e.autoWidthCalculator,this.eventDispatcher=e.columnEventDispatcher,this.ctrlsService=e.ctrlsService,this.renderStatusService=e.renderStatusService}autoSizeCols(e){if(this.columnModel.isShouldQueueResizeOperations()){this.columnModel.pushResizeOperation(()=>this.autoSizeCols(e));return}const{colKeys:t,skipHeader:a,skipHeaderGroups:u,stopAtGroup:g,source:_="api"}=e;if(this.animationFrameService.flushAllFrames(),this.timesDelayed<5&&this.renderStatusService&&!this.renderStatusService.areHeaderCellsRendered()){this.timesDelayed++,setTimeout(()=>this.autoSizeCols(e));return}this.timesDelayed=0;const K=[];let rt=-1;const al=a??this.gos.get("skipHeaderOnAutoSize"),Ql=u??al;for(;rt!==0;){rt=0;const Gu=[];t.forEach(Wu=>{if(!Wu)return;const id=this.columnModel.getCol(Wu);if(!id||K.indexOf(id)>=0)return;const uh=this.autoWidthCalculator.getPreferredWidthForColumn(id,al);if(uh>0){const Qh=this.normaliseColumnWidth(id,uh);id.setActualWidth(Qh,_),K.push(id),rt++}Gu.push(id)}),Gu.length&&this.visibleColsService.refresh(_)}Ql||this.autoSizeColumnGroupsByColumns(t,_,g),this.eventDispatcher.columnResized(K,!0,"autosizeColumns")}autoSizeColumn(e,t,a){e&&this.autoSizeCols({colKeys:[e],skipHeader:a,skipHeaderGroups:!0,source:t})}autoSizeColumnGroupsByColumns(e,t,a){const u=new Set;this.columnModel.getColsForKeys(e).forEach(rt=>{let al=rt.getParent();for(;al&&al!=a;)al.isPadding()||u.add(al),al=al.getParent()});let _;const K=[];for(const rt of u){for(const al of this.ctrlsService.getHeaderRowContainerCtrls())if(_=al.getHeaderCtrlForColumn(rt),_)break;_&&_.resizeLeafColumnsToFit(t)}return K}autoSizeAllColumns(e,t){if(this.columnModel.isShouldQueueResizeOperations()){this.columnModel.pushResizeOperation(()=>this.autoSizeAllColumns(e,t));return}const a=this.visibleColsService.getAllCols();this.autoSizeCols({colKeys:a,skipHeader:t,source:e})}normaliseColumnWidth(e,t){const a=e.getMinWidth();t<a&&(t=a);const u=e.getMaxWidth();return e.isGreaterThanMax(t)&&(t=u),t}},Xl=class extends Nh{constructor(){super(...arguments),this.beanName="funcColsService",this.rowGroupCols=[],this.valueCols=[],this.pivotCols=[]}wireBeans(e){this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher,this.aggFuncService=e.aggFuncService,this.visibleColsService=e.visibleColsService}getModifyColumnsNoEventsCallbacks(){return{addGroupCol:e=>this.rowGroupCols.push(e),removeGroupCol:e=>Tg(this.rowGroupCols,e),addPivotCol:e=>this.pivotCols.push(e),removePivotCol:e=>Tg(this.pivotCols,e),addValueCol:e=>this.valueCols.push(e),removeValueCol:e=>Tg(this.valueCols,e)}}getSourceColumnsForGroupColumn(e){const t=e.getColDef().showRowGroup;if(!t)return null;if(t===!0)return this.rowGroupCols.slice(0);const a=this.columnModel.getColDefCol(t);return a?[a]:null}sortRowGroupColumns(e){this.rowGroupCols.sort(e)}sortPivotColumns(e){this.pivotCols.sort(e)}getValueColumns(){return this.valueCols?this.valueCols:[]}getPivotColumns(){return this.pivotCols?this.pivotCols:[]}getRowGroupColumns(){return this.rowGroupCols?this.rowGroupCols:[]}isRowGroupEmpty(){return Od(this.rowGroupCols)}setColumnAggFunc(e,t,a){if(!e)return;const u=this.columnModel.getColDefCol(e);u&&(u.setAggFunc(t),this.eventDispatcher.columnChanged("columnValueChanged",[u],a))}setRowGroupColumns(e,t){this.setColList(e,this.rowGroupCols,"columnRowGroupChanged",!0,!0,(a,u)=>this.setRowGroupActive(a,u,t),t)}setRowGroupActive(e,t,a){e!==t.isRowGroupActive()&&(t.setRowGroupActive(e,a),e&&!this.gos.get("suppressRowGroupHidesColumns")&&this.columnModel.setColsVisible([t],!1,a),!e&&!this.gos.get("suppressMakeColumnVisibleAfterUnGroup")&&this.columnModel.setColsVisible([t],!0,a))}addRowGroupColumns(e,t){this.updateColList(e,this.rowGroupCols,!0,!0,a=>this.setRowGroupActive(!0,a,t),"columnRowGroupChanged",t)}removeRowGroupColumns(e,t){this.updateColList(e,this.rowGroupCols,!1,!0,a=>this.setRowGroupActive(!1,a,t),"columnRowGroupChanged",t)}addPivotColumns(e,t){this.updateColList(e,this.pivotCols,!0,!1,a=>a.setPivotActive(!0,t),"columnPivotChanged",t)}setPivotColumns(e,t){this.setColList(e,this.pivotCols,"columnPivotChanged",!0,!1,(a,u)=>{u.setPivotActive(a,t)},t)}removePivotColumns(e,t){this.updateColList(e,this.pivotCols,!1,!1,a=>a.setPivotActive(!1,t),"columnPivotChanged",t)}setValueColumns(e,t){this.setColList(e,this.valueCols,"columnValueChanged",!1,!1,(a,u)=>this.setValueActive(a,u,t),t)}setValueActive(e,t,a){if(e!==t.isValueActive()&&(t.setValueActive(e,a),e&&!t.getAggFunc()&&this.aggFuncService)){const u=this.aggFuncService.getDefaultAggFunc(t);t.setAggFunc(u)}}addValueColumns(e,t){this.updateColList(e,this.valueCols,!0,!1,a=>this.setValueActive(!0,a,t),"columnValueChanged",t)}removeValueColumns(e,t){this.updateColList(e,this.valueCols,!1,!1,a=>this.setValueActive(!1,a,t),"columnValueChanged",t)}moveRowGroupColumn(e,t,a){if(this.isRowGroupEmpty())return;const u=this.rowGroupCols[e],g=this.rowGroupCols.slice(e,t);this.rowGroupCols.splice(e,1),this.rowGroupCols.splice(t,0,u),this.eventDispatcher.rowGroupChanged(g,a)}setColList(e,t,a,u,g,_,K){if(!this.columnModel.getCols())return;const rt=new Map;t.forEach((Ql,Gu)=>rt.set(Ql,Gu)),t.length=0,Vu(e)&&e.forEach(Ql=>{const Gu=this.columnModel.getColDefCol(Ql);Gu&&t.push(Gu)}),t.forEach((Ql,Gu)=>{const Wu=rt.get(Ql);if(Wu===void 0){rt.set(Ql,0);return}u&&Wu!==Gu||rt.delete(Ql)}),(this.columnModel.getColDefCols()||[]).forEach(Ql=>{const Gu=t.indexOf(Ql)>=0;_(Gu,Ql)}),g&&this.columnModel.refreshCols(!1),this.visibleColsService.refresh(K),this.eventDispatcher.columnChanged(a,[...rt.keys()],K)}updateColList(e,t,a,u,g,_,K){if(!e||Od(e))return;let rt=!1;const al=new Set;e.forEach(Ql=>{if(!Ql)return;const Gu=this.columnModel.getColDefCol(Ql);if(Gu){if(al.add(Gu),a){if(t.indexOf(Gu)>=0)return;t.push(Gu)}else{const Wu=t.indexOf(Gu);if(Wu<0)return;for(let id=Wu+1;id<t.length;id++)al.add(t[id]);Tg(t,Gu)}g(Gu),rt=!0}}),rt&&(u&&this.columnModel.refreshCols(!1),this.visibleColsService.refresh(K),this.eventDispatcher.genericColumnEvent(_,Array.from(al),K))}extractCols(e,t){this.extractRowGroupCols(e,t),this.extractPivotCols(e,t),this.extractValueCols(e,t)}extractValueCols(e,t){this.valueCols=this.extractColsCommon(t,this.valueCols,(a,u)=>a.setValueActive(u,e),()=>{},()=>{},a=>{const u=a.aggFunc;if(u===null||u==="")return null;if(u!==void 0)return!!u},a=>a.initialAggFunc!=null&&a.initialAggFunc!=""),this.valueCols.forEach(a=>{const u=a.getColDef();u.aggFunc!=null&&u.aggFunc!=""?a.setAggFunc(u.aggFunc):a.getAggFunc()||a.setAggFunc(u.initialAggFunc)})}extractRowGroupCols(e,t){this.rowGroupCols=this.extractColsCommon(t,this.rowGroupCols,(a,u)=>a.setRowGroupActive(u,e),a=>a.rowGroupIndex,a=>a.initialRowGroupIndex,a=>a.rowGroup,a=>a.initialRowGroup)}extractPivotCols(e,t){this.pivotCols=this.extractColsCommon(t,this.pivotCols,(a,u)=>a.setPivotActive(u,e),a=>a.pivotIndex,a=>a.initialPivotIndex,a=>a.pivot,a=>a.initialPivot)}extractColsCommon(e=[],t=[],a,u,g,_,K){const rt=[],al=[];(this.columnModel.getColDefCols()||[]).forEach(id=>{const uh=e.indexOf(id)<0,Qh=id.getColDef(),uf=Cd(_(Qh)),tf=Cd(K(Qh)),Hf=Bd(u(Qh)),Vf=Bd(g(Qh));let Bf;uf!==void 0?Bf=uf:Hf!==void 0?Hf===null?Bf=!1:Bf=Hf>=0:uh?tf!==void 0?Bf=tf:Vf!==void 0?Bf=Vf!=null&&Vf>=0:Bf=!1:Bf=t.indexOf(id)>=0,Bf&&((uh?Hf!=null||Vf!=null:Hf!=null)?rt.push(id):al.push(id))});const Gu=id=>{const uh=u(id.getColDef()),Qh=g(id.getColDef());return uh??Qh};rt.sort((id,uh)=>{const Qh=Gu(id),uf=Gu(uh);return Qh===uf?0:Qh<uf?-1:1});const Wu=[].concat(rt);return t.forEach(id=>{al.indexOf(id)>=0&&Wu.push(id)}),al.forEach(id=>{Wu.indexOf(id)<0&&Wu.push(id)}),t.forEach(id=>{Wu.indexOf(id)<0&&a(id,!1)}),Wu.forEach(id=>{t.indexOf(id)<0&&a(id,!0)}),Wu}generateColumnStateForRowGroupAndPivotIndexes(e,t){const a={},u=(g,_,K,rt,al,Ql)=>{const Gu=this.columnModel.getColDefCols();if(!_.length||!Gu)return[];const Wu=Object.keys(g),id=new Set(Wu),uh=new Set(Wu),Qh=new Set(_.map(h0=>{const x0=h0.getColId();return uh.delete(x0),x0}).concat(Wu)),uf=[],tf={};let Hf=0;for(let h0=0;h0<Gu.length;h0++){const x0=Gu[h0].getColId();Qh.has(x0)&&(uf.push(x0),tf[x0]=Hf++)}let Vf=1e3,Bf=!1,Kp=0;const K0=h0=>{const x0=tf[h0];for(let Mg=Kp;Mg<x0;Mg++){const em=uf[Mg];uh.has(em)&&(g[em][al]=Vf++,uh.delete(em))}Kp=x0};_.forEach(h0=>{const x0=h0.getColId();if(id.has(x0))K0(x0),g[x0][al]=Vf++;else{const Mg=h0.getColDef();(Mg[al]===null||Mg[al]===void 0&&Mg[Ql]==null)&&(Bf||(Mg[K]||Mg[K]===void 0&&Mg[rt]?K0(x0):(uh.forEach(Vy=>{g[Vy][al]=Vf+tf[Vy]}),Vf+=uf.length,Bf=!0)),a[x0]||(a[x0]={colId:x0}),a[x0][al]=Vf++)}})};return u(e,this.rowGroupCols,"rowGroup","initialRowGroup","rowGroupIndex","initialRowGroupIndex"),u(t,this.pivotCols,"pivot","initialPivot","pivotIndex","initialPivotIndex"),Object.values(a)}},$u=class extends Nh{constructor(){super(...arguments),this.beanName="columnApplyStateService"}wireBeans(e){this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher,this.sortController=e.sortController,this.columnGetStateService=e.columnGetStateService,this.funcColsService=e.funcColsService,this.visibleColsService=e.visibleColsService,this.columnAnimationService=e.columnAnimationService,this.pivotResultColsService=e.pivotResultColsService}applyColumnState(e,t){const a=this.columnModel.getColDefCols()||[];if(Od(a))return!1;if(e&&e.state&&!e.state.forEach)return ie("applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;const u=this.funcColsService.getModifyColumnsNoEventsCallbacks(),g=(rt,al,Ql)=>{const Gu=this.compareColumnStatesAndDispatchEvents(t),Wu=al.slice(),id={},uh={},Qh=[],uf=[];let tf=0;const Hf=this.funcColsService.getRowGroupColumns().slice(),Vf=this.funcColsService.getPivotColumns().slice();rt.forEach(h0=>{const x0=h0.colId||"";if(x0.startsWith(Jp)){Qh.push(h0),uf.push(h0);return}const em=Ql(x0);em?(this.syncColumnWithStateItem(em,h0,e.defaultState,id,uh,!1,t,u),Tg(Wu,em)):(uf.push(h0),tf+=1)});const Bf=h0=>this.syncColumnWithStateItem(h0,null,e.defaultState,id,uh,!1,t,u);Wu.forEach(Bf),this.funcColsService.sortRowGroupColumns(Wd.bind(this,id,Hf)),this.funcColsService.sortPivotColumns(Wd.bind(this,uh,Vf)),this.columnModel.refreshCols(!1);const K0=(this.columnModel.getAutoCols()||[]).slice();return Qh.forEach(h0=>{const x0=this.columnModel.getAutoCol(h0.colId);Tg(K0,x0),this.syncColumnWithStateItem(x0,h0,e.defaultState,null,null,!0,t,u)}),K0.forEach(Bf),this.orderLiveColsLikeState(e),this.visibleColsService.refresh(t),this.eventDispatcher.everythingChanged(t),Gu(),{unmatchedAndAutoStates:uf,unmatchedCount:tf}};this.columnAnimationService.start();let{unmatchedAndAutoStates:_,unmatchedCount:K}=g(e.state||[],a,rt=>this.columnModel.getColDefCol(rt));if(_.length>0||Vu(e.defaultState)){const al=this.pivotResultColsService.getPivotResultCols()?.list;K=g(_,al||[],Ql=>this.pivotResultColsService.getPivotResultCol(Ql)).unmatchedCount}return this.columnAnimationService.finish(),K===0}resetColumnState(e){const t=this.columnModel.getColDefCols();if(Od(t))return;const a=this.columnModel.getColDefColTree(),u=og(a),g=[];let _=1e3,K=1e3,rt=[];const al=this.columnModel.getAutoCols();al&&(rt=rt.concat(al)),u&&(rt=rt.concat(u)),rt.forEach(Ql=>{const Gu=this.getColumnStateFromColDef(Ql);Zu(Gu.rowGroupIndex)&&Gu.rowGroup&&(Gu.rowGroupIndex=_++),Zu(Gu.pivotIndex)&&Gu.pivot&&(Gu.pivotIndex=K++),g.push(Gu)}),this.applyColumnState({state:g,applyOrder:!0},e)}getColumnStateFromColDef(e){const t=(Qh,uf)=>Qh??uf??null,a=e.getColDef(),u=t(a.sort,a.initialSort),g=t(a.sortIndex,a.initialSortIndex),_=t(a.hide,a.initialHide),K=t(a.pinned,a.initialPinned),rt=t(a.width,a.initialWidth),al=t(a.flex,a.initialFlex);let Ql=t(a.rowGroupIndex,a.initialRowGroupIndex),Gu=t(a.rowGroup,a.initialRowGroup);Ql==null&&(Gu==null||Gu==!1)&&(Ql=null,Gu=null);let Wu=t(a.pivotIndex,a.initialPivotIndex),id=t(a.pivot,a.initialPivot);Wu==null&&(id==null||id==!1)&&(Wu=null,id=null);const uh=t(a.aggFunc,a.initialAggFunc);return{colId:e.getColId(),sort:u,sortIndex:g,hide:_,pinned:K,width:rt,flex:al,rowGroup:Gu,rowGroupIndex:Ql,pivot:id,pivotIndex:Wu,aggFunc:uh}}syncColumnWithStateItem(e,t,a,u,g,_,K,rt){if(!e)return;const al=(Kp,K0)=>{const h0={value1:void 0,value2:void 0};let x0=!1;return t&&(t[Kp]!==void 0&&(h0.value1=t[Kp],x0=!0),Vu(K0)&&t[K0]!==void 0&&(h0.value2=t[K0],x0=!0)),!x0&&a&&(a[Kp]!==void 0&&(h0.value1=a[Kp]),Vu(K0)&&a[K0]!==void 0&&(h0.value2=a[K0])),h0},Ql=al("hide").value1;Ql!==void 0&&e.setVisible(!Ql,K);const Gu=al("pinned").value1;Gu!==void 0&&e.setPinned(Gu);const Wu=e.getColDef().minWidth??this.gos.environment.getDefaultColumnMinWidth(),id=al("flex").value1;if(id!==void 0&&e.setFlex(id),id==null){const Kp=al("width").value1;Kp!=null&&Wu!=null&&Kp>=Wu&&e.setActualWidth(Kp,K)}const uh=al("sort").value1;uh!==void 0&&(uh==="desc"||uh==="asc"?e.setSort(uh,K):e.setSort(void 0,K));const Qh=al("sortIndex").value1;if(Qh!==void 0&&e.setSortIndex(Qh),_||!e.isPrimary())return;const uf=al("aggFunc").value1;uf!==void 0&&(typeof uf=="string"?(e.setAggFunc(uf),e.isValueActive()||(e.setValueActive(!0,K),rt.addValueCol(e))):(Vu(uf)&&ie("stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),e.isValueActive()&&(e.setValueActive(!1,K),rt.removeValueCol(e))));const{value1:tf,value2:Hf}=al("rowGroup","rowGroupIndex");(tf!==void 0||Hf!==void 0)&&(typeof Hf=="number"||tf?(e.isRowGroupActive()||(e.setRowGroupActive(!0,K),rt.addGroupCol(e)),u&&typeof Hf=="number"&&(u[e.getId()]=Hf)):e.isRowGroupActive()&&(e.setRowGroupActive(!1,K),rt.removeGroupCol(e)));const{value1:Vf,value2:Bf}=al("pivot","pivotIndex");(Vf!==void 0||Bf!==void 0)&&(typeof Bf=="number"||Vf?(e.isPivotActive()||(e.setPivotActive(!0,K),rt.addPivotCol(e)),g&&typeof Bf=="number"&&(g[e.getId()]=Bf)):e.isPivotActive()&&(e.setPivotActive(!1,K),rt.removePivotCol(e)))}orderLiveColsLikeState(e){if(!e.applyOrder||!e.state)return;const t=[];e.state.forEach(a=>{a.colId!=null&&t.push(a.colId)}),this.columnModel.sortColsLikeKeys(t)}compareColumnStatesAndDispatchEvents(e){const t={rowGroupColumns:this.funcColsService.getRowGroupColumns().slice(),pivotColumns:this.funcColsService.getPivotColumns().slice(),valueColumns:this.funcColsService.getValueColumns().slice()},a=this.columnGetStateService.getColumnState(),u={};return a.forEach(g=>{u[g.colId]=g}),()=>{const g=this.columnModel.getAllCols(),_=(uf,tf,Hf,Vf)=>{const Bf=tf.map(Vf),Kp=Hf.map(Vf);if(Xg(Bf,Kp))return;const h0=new Set(tf);Hf.forEach(Mg=>{h0.delete(Mg)||h0.add(Mg)});const x0=[...h0];this.eventService.dispatchEvent({type:uf,columns:x0,column:x0.length===1?x0[0]:null,source:e})},K=uf=>{const tf=[];return g.forEach(Hf=>{const Vf=u[Hf.getColId()];Vf&&uf(Vf,Hf)&&tf.push(Hf)}),tf},rt=uf=>uf.getColId();_("columnRowGroupChanged",t.rowGroupColumns,this.funcColsService.getRowGroupColumns(),rt),_("columnPivotChanged",t.pivotColumns,this.funcColsService.getPivotColumns(),rt);const Ql=K((uf,tf)=>{const Hf=uf.aggFunc!=null,Vf=Hf!=tf.isValueActive(),Bf=Hf&&uf.aggFunc!=tf.getAggFunc();return Vf||Bf});Ql.length>0&&this.eventDispatcher.columnChanged("columnValueChanged",Ql,e);const Gu=(uf,tf)=>uf.width!=tf.getActualWidth();this.eventDispatcher.columnResized(K(Gu),!0,e);const Wu=(uf,tf)=>uf.pinned!=tf.getPinned();this.eventDispatcher.columnPinned(K(Wu),e);const id=(uf,tf)=>uf.hide==tf.isVisible();this.eventDispatcher.columnVisible(K(id),e);const Qh=K((uf,tf)=>uf.sort!=tf.getSort()||uf.sortIndex!=tf.getSortIndex());Qh.length>0&&this.sortController.dispatchSortChangedEvents(e,Qh),this.normaliseColumnMovedEventForColumnState(a,e)}}normaliseColumnMovedEventForColumnState(e,t){const a=this.columnGetStateService.getColumnState(),u={};a.forEach(al=>u[al.colId]=al);const g={};e.forEach(al=>{u[al.colId]&&(g[al.colId]=!0)});const _=e.filter(al=>g[al.colId]),K=a.filter(al=>g[al.colId]),rt=[];K.forEach((al,Ql)=>{const Gu=_&&_[Ql];if(Gu&&Gu.colId!==al.colId){const Wu=this.columnModel.getCol(Gu.colId);Wu&&rt.push(Wu)}}),rt.length&&this.eventDispatcher.columnMoved({movedColumns:rt,source:t,finished:!0})}},Wd=(e,t,a,u)=>{const g=e[a.getId()],_=e[u.getId()],K=g!=null,rt=_!=null;if(K&&rt)return g-_;if(K)return-1;if(rt)return 1;const al=t.indexOf(a),Ql=t.indexOf(u),Gu=al>=0,Wu=Ql>=0;return Gu&&Wu?al-Ql:Gu?-1:1},ih=class extends Nh{constructor(){super(...arguments),this.beanName="columnMoveService"}wireBeans(e){this.columnModel=e.columnModel,this.columnAnimationService=e.columnAnimationService,this.eventDispatcher=e.columnEventDispatcher}moveColumnByIndex(e,t,a){const u=this.columnModel.getCols();if(!u)return;const g=u[e];this.moveColumns([g],t,a)}moveColumns(e,t,a,u=!0){const g=this.columnModel.getCols();if(!g)return;if(t>g.length-e.length){ie("tried to insert columns in invalid location, toIndex = ",t),ie("remember that you should not count the moving columns when calculating the new index");return}this.columnAnimationService.start();const _=this.columnModel.getColsForKeys(e);this.doesMovePassRules(_,t)&&(this.columnModel.moveInCols(_,t,a),this.eventDispatcher.columnMoved({movedColumns:_,source:a,toIndex:t,finished:u})),this.columnAnimationService.finish()}doesMovePassRules(e,t){const a=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(a)}doesOrderPassRules(e){return!(!this.doesMovePassMarryChildren(e)||!this.doesMovePassLockedPositions(e))}getProposedColumnOrder(e,t){const u=this.columnModel.getCols().slice();return b0(u,e,t),u}doesMovePassLockedPositions(e){const t=_=>_?_==="left"||_===!0?-1:1:0,a=this.gos.get("enableRtl");let u=a?1:-1,g=!0;return e.forEach(_=>{const K=t(_.getColDef().lockPosition);a?K>u&&(g=!1):K<u&&(g=!1),u=K}),g}doesMovePassMarryChildren(e){let t=!0;const a=this.columnModel.getColTree();return ld(null,a,u=>{if(!Rp(u))return;const g=u,_=g.getColGroupDef();if(!(_&&_.marryChildren))return;const rt=[];g.getLeafColumns().forEach(id=>{const uh=e.indexOf(id);rt.push(uh)});const al=Math.max.apply(Math,rt),Ql=Math.min.apply(Math,rt),Gu=al-Ql,Wu=g.getLeafColumns().length-1;Gu>Wu&&(t=!1)}),t}placeLockedColumns(e){const t=[],a=[],u=[];return e.forEach(_=>{const K=_.getColDef().lockPosition;K==="right"?u.push(_):K==="left"||K===!0?t.push(_):a.push(_)}),this.gos.get("enableRtl")?[...u,...a,...t]:[...t,...a,...u]}},ph=/[&<>"']/g,Dh={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Uh(e){const t=String.fromCharCode;function a(Wu){const id=[];if(!Wu)return[];const uh=Wu.length;let Qh=0,uf,tf;for(;Qh<uh;)uf=Wu.charCodeAt(Qh++),uf>=55296&&uf<=56319&&Qh<uh?(tf=Wu.charCodeAt(Qh++),(tf&64512)==56320?id.push(((uf&1023)<<10)+(tf&1023)+65536):(id.push(uf),Qh--)):id.push(uf);return id}function u(Wu){if(Wu>=55296&&Wu<=57343)throw Error("Lone surrogate U+"+Wu.toString(16).toUpperCase()+" is not a scalar value")}function g(Wu,id){return t(Wu>>id&63|128)}function _(Wu){if((Wu&4294967168)==0)return t(Wu);let id="";return(Wu&4294965248)==0?id=t(Wu>>6&31|192):(Wu&4294901760)==0?(u(Wu),id=t(Wu>>12&15|224),id+=g(Wu,6)):(Wu&4292870144)==0&&(id=t(Wu>>18&7|240),id+=g(Wu,12),id+=g(Wu,6)),id+=t(Wu&63|128),id}const K=a(e),rt=K.length;let al=-1,Ql,Gu="";for(;++al<rt;)Ql=K[al],Gu+=_(Ql);return Gu}function Oh(e){return e[0].toUpperCase()+e.substring(1).toLowerCase()}function Rh(e,t){if(e==null)return null;const a=e.toString().toString();return t?a:a.replace(ph,u=>Dh[u])}function Yh(e){if(!e||e==null)return null;const t=/([a-z])([A-Z])/g,a=/([A-Z]+)([A-Z])([a-z])/g;return e.replace(t,"$1 $2").replace(a,"$1 $2$3").replace(/\./g," ").split(" ").map(g=>g.substring(0,1).toUpperCase()+(g.length>1?g.substring(1,g.length):"")).join(" ")}function wh(e){return e.replace(/[A-Z]/g,t=>`-${t.toLocaleLowerCase()}`)}var Hh=class extends Nh{constructor(){super(...arguments),this.beanName="columnNameService"}wireBeans(e){this.expressionService=e.expressionService,this.funcColsService=e.funcColsService,this.columnModel=e.columnModel}getDisplayNameForColumn(e,t,a=!1){if(!e)return null;const u=this.getHeaderName(e.getColDef(),e,null,null,t);return a?this.wrapHeaderNameWithAggFunc(e,u):u}getDisplayNameForProvidedColumnGroup(e,t,a){const u=t?t.getColGroupDef():null;return u?this.getHeaderName(u,null,e,t,a):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,a,u,g){const _=e.headerValueGetter;if(_){const K=this.gos.addGridCommonParams({colDef:e,column:t,columnGroup:a,providedColumnGroup:u,location:g});return typeof _=="function"?_(K):typeof _=="string"?this.expressionService.evaluate(_,K):(ie("headerValueGetter must be a function or a string"),"")}else{if(e.headerName!=null)return e.headerName;if(e.field)return Yh(e.field)}return""}wrapHeaderNameWithAggFunc(e,t){if(this.gos.get("suppressAggFuncInHeader"))return t;const a=e.getColDef().pivotValueColumn,u=Vu(a);let g=null,_;if(u){const K=this.funcColsService.getValueColumns(),rt=this.gos.get("removePivotHeaderRowWhenSingleValueColumn")&&K.length===1,al=e.getColDef().pivotTotalColumnIds!==void 0;if(rt&&!al)return t;g=a?a.getAggFunc():null,_=!0}else{const K=e.isValueActive(),rt=this.columnModel.isPivotMode()||!this.funcColsService.isRowGroupEmpty();K&&rt?(g=e.getAggFunc(),_=!0):_=!1}if(_){const K=typeof g=="string"?g:"func";return`${this.localeService.getLocaleTextFunc()(K,K)}(${t})`}return t}},Cf=class extends Nh{constructor(){super(...arguments),this.beanName="pivotResultColsService"}wireBeans(e){this.context=e.context,this.columnModel=e.columnModel,this.columnFactory=e.columnFactory,this.visibleColsService=e.visibleColsService}destroy(){ag(this.context,this.pivotResultCols?.tree),super.destroy()}isPivotResultColsPresent(){return this.pivotResultCols!=null}lookupPivotResultCol(e,t){if(this.pivotResultCols==null)return null;const a=this.columnModel.getColDefCol(t);let u=null;return this.pivotResultCols.list.forEach(g=>{const _=g.getColDef().pivotKeys,K=g.getColDef().pivotValueColumn;Xg(_,e)&&K===a&&(u=g)}),u}getPivotResultCols(){return this.pivotResultCols}getPivotResultCol(e){return this.pivotResultCols?this.columnModel.getColFromCollection(e,this.pivotResultCols):null}setPivotResultCols(e,t){if(this.columnModel.isReady()&&!(e==null&&this.pivotResultCols==null)){if(e){this.processPivotResultColDef(e);const a=this.columnFactory.createColumnTree(e,!1,this.pivotResultCols?.tree||this.previousPivotResultCols||void 0,t);ag(this.context,this.pivotResultCols?.tree,a.columnTree);const u=a.columnTree,g=a.treeDept,_=og(u),K={};this.pivotResultCols={tree:u,treeDepth:g,list:_,map:K},this.pivotResultCols.list.forEach(al=>this.pivotResultCols.map[al.getId()]=al);const rt=!!this.previousPivotResultCols;this.previousPivotResultCols=null,this.columnModel.refreshCols(!rt)}else this.previousPivotResultCols=this.pivotResultCols?this.pivotResultCols.tree:null,this.pivotResultCols=null,this.columnModel.refreshCols(!1);this.visibleColsService.refresh(t)}}processPivotResultColDef(e){const t=this.gos.get("processPivotResultColDef"),a=this.gos.get("processPivotResultColGroupDef");if(!t&&!a)return;const u=g=>{g.forEach(_=>{if(Vu(_.children)){const rt=_;a&&a(rt),u(rt.children)}else t&&t(_)})};e&&u(e)}},nf=class extends Nh{constructor(){super(...arguments),this.beanName="columnSizeService"}wireBeans(e){this.columnModel=e.columnModel,this.columnViewportService=e.columnViewportService,this.eventDispatcher=e.columnEventDispatcher,this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService}setColumnWidths(e,t,a,u){const g=[];e.forEach(_=>{const K=this.columnModel.getColDefCol(_.key)||this.columnModel.getCol(_.key);if(!K)return;if(g.push({width:_.newWidth,ratios:[1],columns:[K]}),this.gos.get("colResizeDefault")==="shift"&&(t=!t),t){const al=this.visibleColsService.getColAfter(K);if(!al)return;const Ql=K.getActualWidth()-_.newWidth,Gu=al.getActualWidth()+Ql;g.push({width:Gu,ratios:[1],columns:[al]})}}),g.length!==0&&this.resizeColumnSets({resizeSets:g,finished:a,source:u})}resizeColumnSets(e){const{resizeSets:t,finished:a,source:u}=e;if(!(!t||t.every(Gu=>this.checkMinAndMaxWidthsForSet(Gu)))){if(a){const Gu=t&&t.length>0?t[0].columns:null;this.eventDispatcher.columnResized(Gu,a,u)}return}const _=[],K=[];t.forEach(Gu=>{const{width:Wu,columns:id,ratios:uh}=Gu,Qh={},uf={};id.forEach(Vf=>K.push(Vf));let tf=!0,Hf=0;for(;tf;){if(Hf++,Hf>1e3){Et("infinite loop in resizeColumnSets");break}tf=!1;const Vf=[];let Bf=0,Kp=Wu;id.forEach((h0,x0)=>{if(uf[h0.getId()])Kp-=Qh[h0.getId()];else{Vf.push(h0);const em=uh[x0];Bf+=em}});const K0=1/Bf;Vf.forEach((h0,x0)=>{const Mg=x0===Vf.length-1;let em;Mg?em=Kp:(em=Math.round(uh[x0]*Wu*K0),Kp-=em);const D3=h0.getMinWidth(),Vy=h0.getMaxWidth();em<D3?(em=D3,uf[h0.getId()]=!0,tf=!0):Vy>0&&em>Vy&&(em=Vy,uf[h0.getId()]=!0,tf=!0),Qh[h0.getId()]=em})}id.forEach(Vf=>{const Bf=Qh[Vf.getId()];Vf.getActualWidth()!==Bf&&(Vf.setActualWidth(Bf,u),_.push(Vf))})});const rt=_.length>0;let al=[];rt&&(al=this.refreshFlexedColumns({resizingCols:K,skipSetLeft:!0}),this.visibleColsService.setLeftValues(u),this.visibleColsService.updateBodyWidths(),this.columnViewportService.checkViewportColumns());const Ql=K.concat(al);(rt||a)&&this.eventDispatcher.columnResized(Ql,a,u,al)}checkMinAndMaxWidthsForSet(e){const{columns:t,width:a}=e;let u=0,g=0,_=!0;t.forEach(al=>{const Ql=al.getMinWidth();u+=Ql||0;const Gu=al.getMaxWidth();Gu>0?g+=Gu:_=!1});const K=a>=u,rt=!_||a<=g;return K&&rt}refreshFlexedColumns(e={}){const t=e.source?e.source:"flex";if(e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth),!this.flexViewportWidth)return[];const a=this.visibleColsService.getCenterCols();let u=-1;if(e.resizingCols){const id=new Set(e.resizingCols);for(let uh=a.length-1;uh>=0;uh--)if(id.has(a[uh])){u=uh;break}}let g=0,_=[],K=0,rt=0;for(let id=0;id<a.length;id++)a[id].getFlex()&&id>u?(_.push(a[id]),rt+=a[id].getFlex(),K+=a[id].getMinWidth()):g+=a[id].getActualWidth();if(!_.length)return[];let al=[];g+K>this.flexViewportWidth&&(_.forEach(id=>id.setActualWidth(id.getMinWidth(),t)),al=_,_=[]);const Ql=[];let Gu;e:for(;;){Gu=this.flexViewportWidth-g;const id=Gu/rt;for(let uh=0;uh<_.length;uh++){const Qh=_[uh],uf=id*Qh.getFlex();let tf=0;const Hf=Qh.getMinWidth(),Vf=Qh.getMaxWidth();if(uf<Hf?tf=Hf:uf>Vf&&(tf=Vf),tf){Qh.setActualWidth(tf,t),Qg(_,Qh),rt-=Qh.getFlex(),al.push(Qh),g+=Qh.getActualWidth();continue e}Ql[uh]=Math.floor(uf)}break}let Wu=Gu;return _.forEach((id,uh)=>{const Qh=uh<_.length-1?Math.min(Ql[uh],Wu):Math.max(Ql[uh],Wu);id.setActualWidth(Qh,t),al.push(id),Wu-=Ql[uh]}),e.skipSetLeft||this.visibleColsService.setLeftValues(t),e.updateBodyWidths&&this.visibleColsService.updateBodyWidths(),e.fireResizedEvent&&this.eventDispatcher.columnResized(al,!0,t,_),_}sizeColumnsToFit(e,t="sizeColumnsToFit",a,u){if(this.columnModel.isShouldQueueResizeOperations()){this.columnModel.pushResizeOperation(()=>this.sizeColumnsToFit(e,t,a,u));return}const g={};u&&u?.columnLimits?.forEach(({key:id,...uh})=>{g[typeof id=="string"?id:id.getColId()]=uh});const _=this.visibleColsService.getAllCols(),K=e===i0(_);if(e<=0||!_.length||K)return;const rt=[],al=[];_.forEach(id=>{id.getColDef().suppressSizeToFit===!0?al.push(id):rt.push(id)});const Ql=rt.slice(0);let Gu=!1;const Wu=id=>{Tg(rt,id),al.push(id)};for(rt.forEach(id=>{id.resetActualWidth(t);const uh=g?.[id.getId()],Qh=uh?.minWidth??u?.defaultMinWidth,uf=uh?.maxWidth??u?.defaultMaxWidth,tf=id.getActualWidth();typeof Qh=="number"&&tf<Qh?id.setActualWidth(Qh,t,!0):typeof uf=="number"&&tf>uf&&id.setActualWidth(uf,t,!0)});!Gu;){Gu=!0;const id=e-i0(al);if(id<=0)rt.forEach(uh=>{const Qh=g?.[uh.getId()]?.minWidth??u?.defaultMinWidth;if(typeof Qh=="number"){uh.setActualWidth(Qh,t,!0);return}uh.setMinimum(t)});else{const uh=id/i0(rt);let Qh=id;for(let uf=rt.length-1;uf>=0;uf--){const tf=rt[uf],Hf=g?.[tf.getId()],Vf=Hf?.minWidth??u?.defaultMinWidth,Bf=Hf?.maxWidth??u?.defaultMaxWidth,Kp=tf.getMinWidth(),K0=tf.getMaxWidth(),h0=typeof Vf=="number"&&Vf>Kp?Vf:Kp,x0=typeof Bf=="number"&&Bf<K0?Bf:K0;let Mg=Math.round(tf.getActualWidth()*uh);Mg<h0?(Mg=h0,Wu(tf),Gu=!1):Mg>x0?(Mg=x0,Wu(tf),Gu=!1):uf===0&&(Mg=Qh),tf.setActualWidth(Mg,t,!0),Qh-=Mg}}}Ql.forEach(id=>{id.fireColumnWidthChangedEvent(t)}),this.visibleColsService.setLeftValues(t),this.visibleColsService.updateBodyWidths(),!a&&this.eventDispatcher.columnResized(Ql,!0,t)}applyAutosizeStrategy(){const e=this.gos.get("autoSizeStrategy");if(!e)return;const{type:t}=e;setTimeout(()=>{if(t==="fitGridWidth"){const{columnLimits:a,defaultMinWidth:u,defaultMaxWidth:g}=e,_=a?.map(({colId:K,minWidth:rt,maxWidth:al})=>({key:K,minWidth:rt,maxWidth:al}));this.ctrlsService.getGridBodyCtrl().sizeColumnsToFit({defaultMinWidth:u,defaultMaxWidth:g,columnLimits:_})}else t==="fitProvidedWidth"&&this.sizeColumnsToFit(e.width,"sizeColumnsToFit")})}};function mf(e,t){return e+"_"+t}function af(e){return e instanceof zh}var zh=class extends Nh{constructor(e,t,a,u){super(),this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null,this.groupId=t,this.partId=a,this.providedColumnGroup=e,this.pinned=u}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}setParent(e){this.parent=e}getUniqueId(){return mf(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){const e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(t=>t.isMoving())}checkLeft(){if(this.displayedChildren.forEach(e=>{af(e)&&e.checkLeft()}),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){const t=Pp(this.displayedChildren).getLeft();this.setLeft(t)}else{const e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){let e=0;return this.displayedChildren&&this.displayedChildren.forEach(t=>{e+=t.getActualWidth()}),e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach(t=>{t.isResizable()&&(e=!0)}),e}getMinWidth(){let e=0;return this.displayedChildren.forEach(t=>{e+=t.getMinWidth()}),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){const e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}isAutoHeaderHeight(){return!!this.getColGroupDef()?.autoHeaderHeight}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}addDisplayedLeafColumns(e){this.displayedChildren.forEach(t=>{Fu(t)?e.push(t):af(t)&&t.addDisplayedLeafColumns(e)})}addLeafColumns(e){this.children.forEach(t=>{Fu(t)?e.push(t):af(t)&&t.addLeafColumns(e)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const e=this.getParent();return!this.isPadding()||!e||!e.isPadding()?0:1+e.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;e!=null&&e.isPadding();)e=e.getParent();if(!(e?e.getProvidedColumnGroup().isExpandable():!1)){this.displayedChildren=this.children,this.dispatchLocalEvent({type:"displayedChildrenChanged"});return}this.children.forEach(a=>{if(af(a)&&(!a.displayedChildren||!a.displayedChildren.length))return;switch(a.getColumnGroupShow()){case"open":e.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(a);break;case"closed":e.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(a);break;default:this.displayedChildren.push(a);break}}),this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},Af=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){const t=this.existingIds[e];let a;return typeof t!="number"?a=0:a=t+1,this.existingIds[e]=a,a}},$f=class extends Nh{constructor(){super(...arguments),this.beanName="visibleColsService",this.colsAndGroupsMap={},this.columnsLeft=[],this.columnsRight=[],this.columnsCenter=[],this.columns=[],this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.bodyWidthDirty=!0}wireBeans(e){this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.columnViewportService=e.columnViewportService,this.eventDispatcher=e.columnEventDispatcher}refresh(e,t=!1){t||this.buildTrees(),this.updateOpenClosedVisibilityInColumnGroups(),this.columnsLeft=cf(this.treeLeft),this.columnsCenter=cf(this.treeCenter),this.columnsRight=cf(this.treeRight),this.joinColsAriaOrder(),this.joinCols(),this.setLeftValues(e),this.autoHeightCols=this.columns.filter(a=>a.isAutoHeight()),this.columnSizeService.refreshFlexedColumns(),this.updateBodyWidths(),this.columnViewportService.checkViewportColumns(!1),this.setFirstRightAndLastLeftPinned(e),this.eventDispatcher.visibleCols(e)}updateBodyWidths(){const e=i0(this.columnsCenter),t=i0(this.columnsLeft),a=i0(this.columnsRight);this.bodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==a)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=a,this.eventService.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventService.dispatchEvent({type:"displayedColumnsWidthChanged"}))}setLeftValues(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(e){let t,a;this.gos.get("enableRtl")?(t=this.columnsLeft?this.columnsLeft[0]:null,a=this.columnsRight?Pp(this.columnsRight):null):(t=this.columnsLeft?Pp(this.columnsLeft):null,a=this.columnsRight?this.columnsRight[0]:null),this.columnModel.getCols().forEach(u=>{u.setLastLeftPinned(u===t,e),u.setFirstRightPinned(u===a,e)})}buildTrees(){const e=this.columnModel.getColsToShow(),t=e.filter(_=>_.getPinned()=="left"),a=e.filter(_=>_.getPinned()=="right"),u=e.filter(_=>_.getPinned()!="left"&&_.getPinned()!="right"),g=new Af;this.treeLeft=this.createGroups({columns:t,idCreator:g,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=this.createGroups({columns:a,idCreator:g,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=this.createGroups({columns:u,idCreator:g,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.columnsLeft=[],this.columnsRight=[],this.columnsCenter=[],this.columns=[],this.ariaOrderColumns=[]}joinColsAriaOrder(){const e=this.columnModel.getCols(),t=[],a=[],u=[];for(const g of e){const _=g.getPinned();_?_===!0||_==="left"?t.push(g):u.push(g):a.push(g)}this.ariaOrderColumns=t.concat(a).concat(u)}getAriaColIndex(e){let t;return af(e)?t=e.getLeafColumns()[0]:t=e,this.ariaOrderColumns.indexOf(t)+1}getAllAutoHeightCols(){return this.autoHeightCols}setLeftValuesOfGroups(){[this.treeLeft,this.treeRight,this.treeCenter].forEach(e=>{e.forEach(t=>{af(t)&&t.checkLeft()})})}setLeftValuesOfCols(e){if(!this.columnModel.getColDefCols())return;const a=this.columnModel.getCols().slice(0),u=this.gos.get("enableRtl");[this.columnsLeft,this.columnsRight,this.columnsCenter].forEach(g=>{if(u){let _=i0(g);g.forEach(K=>{_-=K.getActualWidth(),K.setLeft(_,e)})}else{let _=0;g.forEach(K=>{K.setLeft(_,e),_+=K.getActualWidth()})}vm(a,g)}),a.forEach(g=>{g.setLeft(null,e)})}joinCols(){this.gos.get("enableRtl")?this.columns=this.columnsRight.concat(this.columnsCenter).concat(this.columnsLeft):this.columns=this.columnsLeft.concat(this.columnsCenter).concat(this.columnsRight)}getColsCenter(){return this.columnsCenter}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}getTreeLeft(){return this.treeLeft}getTreeRight(){return this.treeRight}getTreeCenter(){return this.treeCenter}getAllCols(){return this.columns}isColDisplayed(e){return this.getAllCols().indexOf(e)>=0}getLeftColsForRow(e){return this.columnModel.isColSpanActive()?this.getColsForRow(e,this.columnsLeft):this.columnsLeft}getRightColsForRow(e){return this.columnModel.isColSpanActive()?this.getColsForRow(e,this.columnsRight):this.columnsRight}getColsForRow(e,t,a,u){const g=[];let _=null;for(let K=0;K<t.length;K++){const rt=t[K],al=t.length-K,Ql=Math.min(rt.getColSpan(e),al),Gu=[rt];if(Ql>1){const id=Ql-1;for(let uh=1;uh<=id;uh++)Gu.push(t[K+uh]);K+=id}let Wu;a?(Wu=!1,Gu.forEach(id=>{a(id)&&(Wu=!0)})):Wu=!0,Wu&&(g.length===0&&_&&(u&&u(rt))&&g.push(_),g.push(rt)),_=rt}return g}getBodyContainerWidth(){return this.bodyWidth}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getCenterCols(){return this.columnsCenter}getLeftCols(){return this.columnsLeft}getRightCols(){return this.columnsRight}getColBefore(e){const t=this.getAllCols(),a=t.indexOf(e);return a>0?t[a-1]:null}getGroupAtDirection(e,t){const a=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),u=e.getDisplayedLeafColumns(),g=t==="After"?Pp(u):u[0],_=`getCol${t}`;for(;;){const K=this[_](g);if(!K)return null;const rt=this.getColGroupAtLevel(K,a);if(rt!==e)return rt}}getColGroupAtLevel(e,t){let a=e.getParent(),u,g;for(;u=a.getProvidedColumnGroup().getLevel(),g=a.getPaddingLevel(),!(u+g<=t);)a=a.getParent();return a}isPinningLeft(){return this.columnsLeft.length>0}isPinningRight(){return this.columnsRight.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};const e=t=>{this.colsAndGroupsMap[t.getUniqueId()]=t};Rf(this.treeCenter,!1,e),Rf(this.treeLeft,!1,e),Rf(this.treeRight,!1,e)}isVisible(e){return this.colsAndGroupsMap[e.getUniqueId()]===e}updateOpenClosedVisibilityInColumnGroups(){const e=this.getAllTrees();Rf(e,!1,t=>{af(t)&&t.calculateDisplayedColumns()})}getFirstColumn(){const e=this.gos.get("enableRtl"),t=["getLeftCols","getCenterCols","getRightCols"];e&&t.reverse();for(let a=0;a<t.length;a++){const u=this[t[a]]();if(u.length)return e?Pp(u):u[0]}return null}getColumnGroup(e,t){if(!e)return null;if(af(e))return e;const a=this.getAllTrees(),u=typeof t=="number";let g=null;return Rf(a,!1,_=>{if(af(_)){const K=_;let rt;u?rt=e===K.getGroupId()&&t===K.getPartId():rt=e===K.getGroupId(),rt&&(g=K)}}),g}getColAfter(e){const t=this.getAllCols(),a=t.indexOf(e);return a<t.length-1?t[a+1]:null}isBodyWidthDirty(){return this.bodyWidthDirty}setBodyWidthDirty(){this.bodyWidthDirty=!0}getColsLeftWidth(){return i0(this.columnsLeft)}getDisplayedColumnsRightWidth(){return i0(this.columnsRight)}isColAtEdge(e,t){const a=this.getAllCols();if(!a.length)return!1;const u=t==="first";let g;if(af(e)){const _=e.getDisplayedLeafColumns();if(!_.length)return!1;g=u?_[0]:Pp(_)}else g=e;return(u?a[0]:Pp(a))===g}createGroups(e){const{columns:t,idCreator:a,pinned:u,oldDisplayedGroups:g,isStandaloneStructure:_}=e,K=this.mapOldGroupsById(g),rt=[];let al=t;for(;al.length;){const Ql=al;al=[];let Gu=0;const Wu=id=>{const uh=Gu;Gu=id;const Qh=Ql[uh],tf=(af(Qh)?Qh.getProvidedColumnGroup():Qh).getOriginalParent();if(tf==null){for(let Vf=uh;Vf<id;Vf++)rt.push(Ql[Vf]);return}const Hf=this.createColGroup(tf,a,K,u,_);for(let Vf=uh;Vf<id;Vf++)Hf.addChild(Ql[Vf]);al.push(Hf)};for(let id=1;id<Ql.length;id++){const uh=Ql[id],uf=(af(uh)?uh.getProvidedColumnGroup():uh).getOriginalParent(),tf=Ql[Gu],Vf=(af(tf)?tf.getProvidedColumnGroup():tf).getOriginalParent();uf!==Vf&&Wu(id)}Gu<Ql.length&&Wu(Ql.length)}return _||this.setupParentsIntoCols(rt,null),rt}createColGroup(e,t,a,u,g){const _=e.getGroupId(),K=t.getInstanceIdForKey(_),rt=mf(_,K);let al=a[rt];return al&&al.getProvidedColumnGroup()!==e&&(al=null),Vu(al)?al.reset():(al=new zh(e,_,K,u),g||this.createBean(al)),al}mapOldGroupsById(e){const t={},a=u=>{u.forEach(g=>{if(af(g)){const _=g;t[g.getUniqueId()]=_,a(_.getChildren())}})};return e&&a(e),t}setupParentsIntoCols(e,t){e.forEach(a=>{if(a.setParent(t),af(a)){const u=a;this.setupParentsIntoCols(u.getChildren(),u)}})}};function Rf(e,t,a){if(e)for(let u=0;u<e.length;u++){const g=e[u];if(af(g)){const _=t?g.getDisplayedChildren():g.getChildren();Rf(_,t,a)}a(g)}}function cf(e){const t=[];return Rf(e,!0,a=>{Fu(a)&&t.push(a)}),t}var dp=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","rangeSelectionChanged","cellSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","cellSelectionDeleteStart","cellSelectionDeleteEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterOpened","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","dragCancelled","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd","rowDragCancel"],np=["scrollbarWidthChanged","keyShortcutChangedCellStart","keyShortcutChangedCellEnd","pinnedHeightChanged","cellFocusCleared","fullWidthRowFocused","checkboxChanged","heightScaleChanged","suppressMovableColumns","suppressMenuHide","suppressFieldDotNotation","columnPanelItemDragStart","columnPanelItemDragEnd","bodyHeightChanged","columnContainerWidthChanged","displayedColumnsWidthChanged","scrollVisibilityChanged","scrollGapChanged","columnHoverChanged","flashCells","paginationPixelOffsetChanged","displayedRowsChanged","leftPinnedWidthChanged","rightPinnedWidthChanged","rowContainerHeightChanged","headerHeightChanged","columnGroupHeaderHeightChanged","columnHeaderHeightChanged","gridStylesChanged","storeUpdated","filterDestroyed","rowDataUpdateStarted","rowCountReady","advancedFilterEnabledChanged","dataTypesInferred","fieldValueChanged","fieldPickerValueSelected","richSelectListRowSelected","sideBarUpdated","alignedGridScroll","alignedGridColumn","gridOptionsChanged","chartTitleEdit","recalculateRowBounds","stickyTopOffsetChanged","overlayExclusiveChanged"],ip=[...dp,...np],Xf={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,advancedFilterModel:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressAsyncEvents:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,dragAndDropImageComponent:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,suppressAggFuncInHeader:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,suppressGroupMaintainValueType:!0,groupLockGroupColumns:!0,rowGroupPanelSuppressSort:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,suppressServerSideInfiniteScroll:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,columnMenu:!0,suppressSetFilterByDefault:!0},Jf=class{};Jf.STRING_PROPERTIES=["overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","grandTotalRow"],Jf.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","dragAndDropImageComponentParams","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","theme","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterModel","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy","cellSelection","selectionColumnDef"],Jf.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"],Jf.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns"],Jf.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMoveWhenColumnDragging","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","suppressGroupMaintainValueType","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading","maintainColumnOrder","enableStrictPivotColumnOrder","suppressSetFilterByDefault"],Jf.OTHER_PROPERTIES=["suppressStickyTotalRow","loadThemeGoogleFonts","rowSelection"],Jf.FUNCTION_PROPERTIES=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","dragAndDropImageComponent","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","groupIncludeFooter","loadingCellRendererSelector","getRowId","groupAggFiltering","chartMenuItems","groupTotalRow"],Jf.ALL_PROPERTIES=[...Jf.ARRAY_PROPERTIES,...Jf.OBJECT_PROPERTIES,...Jf.STRING_PROPERTIES,...Jf.NUMBER_PROPERTIES,...Jf.FUNCTION_PROPERTIES,...Jf.BOOLEAN_PROPERTIES,...Jf.OTHER_PROPERTIES];var qf=Jf,fp=class{static getCallbackForEvent(t){return!t||t.length<2?t:"on"+t[0].toUpperCase()+t.substring(1)}};fp.VUE_OMITTED_PROPERTY="AG-VUE-OMITTED-PROPERTY",fp.PUBLIC_EVENTS=dp,fp.EVENT_CALLBACKS=ip.map(e=>fp.getCallbackForEvent(e)),fp.BOOLEAN_PROPERTIES=qf.BOOLEAN_PROPERTIES,fp.ALL_PROPERTIES=qf.ALL_PROPERTIES,fp.ALL_PROPERTIES_AND_CALLBACKS=[...fp.ALL_PROPERTIES,...fp.EVENT_CALLBACKS],fp.ALL_PROPERTIES_AND_CALLBACKS_SET=new Set(fp.ALL_PROPERTIES_AND_CALLBACKS);var $p=fp;function hg(e,t){typeof e!="object"&&(e={});const a={...e};return $p.ALL_PROPERTIES_AND_CALLBACKS.forEach(g=>{const _=t[g];typeof _<"u"&&_!==$p.VUE_OMITTED_PROPERTY&&(a[g]=_)}),a}function v0(e,t){if(!e)return;const a={};let u=!1;if(Object.keys(e).filter(K=>$p.ALL_PROPERTIES_AND_CALLBACKS_SET.has(K)).forEach(K=>{a[K]=e[K],u=!0}),!u)return;const g={type:"gridOptionsChanged",options:a};t.dispatchEvent(g);const _={type:"componentStateChanged"};Me(a,(K,rt)=>{_[K]=rt}),t.dispatchEvent(_)}var f0=class extends Nh{};function u0(e,t,a){return a&&e.addDestroyFunc(()=>t.destroyBean(a)),a??e}var c0=class{constructor(e){this.cssClassStates={},this.getGui=e}addCssClass(e){const t=(e||"").split(" ");if(t.length>1){t.forEach(u=>this.addCssClass(u));return}if(this.cssClassStates[e]!==!0&&e.length){const u=this.getGui();u&&u.classList.add(e),this.cssClassStates[e]=!0}}removeCssClass(e){const t=(e||"").split(" ");if(t.length>1){t.forEach(u=>this.removeCssClass(u));return}if(this.cssClassStates[e]!==!1&&e.length){const u=this.getGui();u&&u.classList.remove(e),this.cssClassStates[e]=!1}}containsCssClass(e){const t=this.getGui();return t?t.classList.contains(e):!1}addOrRemoveCssClass(e,t){if(!e)return;if(e.indexOf(" ")>=0){const u=(e||"").split(" ");if(u.length>1){u.forEach(g=>this.addOrRemoveCssClass(g,t));return}}if(this.cssClassStates[e]!==t&&e.length){const u=this.getGui();u&&u.classList.toggle(e,t),this.cssClassStates[e]=t}}};function Xp(e,t,a){a==null||typeof a=="string"&&a==""?R0(e,t):y0(e,t,a)}function y0(e,t,a){e.setAttribute(W0(t),a.toString())}function R0(e,t){e.removeAttribute(W0(t))}function W0(e){return`aria-${e}`}function w0(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function V0(e){let t;return e==="asc"?t="ascending":e==="desc"?t="descending":e==="mixed"?t="other":t="none",t}function Qp(e){return parseInt(e.getAttribute("aria-posinset"),10)}function j0(e){return e.getAttribute("aria-label")}function A0(e,t){Xp(e,"label",t)}function Ln(e,t){Xp(e,"labelledby",t)}function Yu(e,t){Xp(e,"describedby",t)}function hl(e,t){Xp(e,"live",t)}function eh(e,t){Xp(e,"atomic",t)}function Xd(e,t){Xp(e,"relevant",t)}function Gd(e,t){Xp(e,"level",t)}function Jh(e,t){Xp(e,"disabled",t)}function Ch(e,t){Xp(e,"hidden",t)}function Uf(e,t){Xp(e,"activedescendant",t)}function Fh(e,t){y0(e,"expanded",t)}function ff(e){R0(e,"expanded")}function O0(e,t){y0(e,"setsize",t)}function Up(e,t){y0(e,"posinset",t)}function Yf(e,t){y0(e,"multiselectable",t)}function Yg(e,t){y0(e,"rowcount",t)}function sg(e,t){y0(e,"rowindex",t)}function d0(e,t){y0(e,"colcount",t)}function Sg(e,t){y0(e,"colindex",t)}function T0(e,t){y0(e,"colspan",t)}function Kf(e,t){y0(e,"sort",t)}function e0(e){R0(e,"sort")}function fg(e,t){Xp(e,"selected",t)}function Ip(e,t){y0(e,"checked",t===void 0?"mixed":t)}function xg(e,t){Xp(e,"controls",t.id),Ln(t,e.id)}function z0(e,t){return t===void 0?e("ariaIndeterminate","indeterminate"):t===!0?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}function M0(e,t,a){const u=e.parentElement;let g=u&&u.firstChild;for(;g;)t&&g.classList.toggle(t,g===e),a&&g.classList.toggle(a,g!==e),g=g.nextSibling}var J0="[tabindex], input, select, button, textarea, [href]",Em="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function f1(e){const t=Element.prototype.matches||Element.prototype.msMatchesSelector,u=t.call(e,"input, select, button, textarea"),g=t.call(e,Em),_=Nm(e);return u&&!g&&_}function Pg(e,t,a={}){const{skipAriaHidden:u}=a;e.classList.toggle("ag-hidden",!t),u||Ch(e,!t)}function D1(e,t,a={}){const{skipAriaHidden:u}=a;e.classList.toggle("ag-invisible",!t),u||Ch(e,!t)}function p1(e,t){const a="disabled",u=t?g=>g.setAttribute(a,""):g=>g.removeAttribute(a);u(e),Iv(e.querySelectorAll("input"),g=>u(g))}function Km(e,t,a){let u=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,typeof a=="number"){if(++u>a)break}else if(e===a)break}return!1}function g1(e){const{height:t,width:a,borderTopWidth:u,borderRightWidth:g,borderBottomWidth:_,borderLeftWidth:K,paddingTop:rt,paddingRight:al,paddingBottom:Ql,paddingLeft:Gu,marginTop:Wu,marginRight:id,marginBottom:uh,marginLeft:Qh,boxSizing:uf}=window.getComputedStyle(e);return{height:parseFloat(t||"0"),width:parseFloat(a||"0"),borderTopWidth:parseFloat(u||"0"),borderRightWidth:parseFloat(g||"0"),borderBottomWidth:parseFloat(_||"0"),borderLeftWidth:parseFloat(K||"0"),paddingTop:parseFloat(rt||"0"),paddingRight:parseFloat(al||"0"),paddingBottom:parseFloat(Ql||"0"),paddingLeft:parseFloat(Gu||"0"),marginTop:parseFloat(Wu||"0"),marginRight:parseFloat(id||"0"),marginBottom:parseFloat(uh||"0"),marginLeft:parseFloat(Qh||"0"),boxSizing:uf}}function jy(e){const t=g1(e);return t.boxSizing==="border-box"?t.height-t.paddingTop-t.paddingBottom:t.height}function $1(e){const t=g1(e);return t.boxSizing==="border-box"?t.width-t.paddingLeft-t.paddingRight:t.width}function Pv(e){const{height:t,marginBottom:a,marginTop:u}=g1(e);return Math.floor(t+a+u)}function L1(e){const{width:t,marginLeft:a,marginRight:u}=g1(e);return Math.floor(t+a+u)}function Uy(e){const t=e.getBoundingClientRect(),{borderTopWidth:a,borderLeftWidth:u,borderRightWidth:g,borderBottomWidth:_}=g1(e);return{top:t.top+(a||0),left:t.left+(u||0),right:t.right+(g||0),bottom:t.bottom+(_||0)}}function wv(e,t){let a=e.scrollLeft;return t&&(a=Math.abs(a)),a}function ey(e,t,a){a&&(t*=-1),e.scrollLeft=t}function Dm(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function m1(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function k2(e){return!!e.offsetParent}function Nm(e){const t=e;return t.checkVisibility?t.checkVisibility({checkVisibilityCSS:!0}):!(!k2(e)||window.getComputedStyle(e).visibility!=="visible")}function uv(e){const t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function Wy(e,t,a){a&&a.nextSibling===t||(e.firstChild?a?a.nextSibling?e.insertBefore(t,a.nextSibling):e.appendChild(t):e.firstChild&&e.firstChild!==t&&e.insertAdjacentElement("afterbegin",t):e.appendChild(t))}function _2(e,t){for(let a=0;a<t.length;a++){const u=t[a],g=e.children[a];g!==u&&e.insertBefore(u,g)}}function v1(e,t){if(t)for(const[a,u]of Object.entries(t)){if(!a||!a.length||u==null)continue;const g=wh(a),_=u.toString(),K=_.replace(/\s*!important/g,""),rt=K.length!=_.length?"important":void 0;e.style.setProperty(g,K,rt)}}function ty(e){return e.clientWidth<e.scrollWidth}function E2(e){return e.clientHeight<e.scrollHeight}function ry(e,t){t==="flex"?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):s1(e,t)}function s1(e,t){t=Dv(t),e.style.width=t.toString(),e.style.maxWidth=t.toString(),e.style.minWidth=t.toString()}function Cv(e,t){t=Dv(t),e.style.height=t.toString(),e.style.maxHeight=t.toString(),e.style.minHeight=t.toString()}function Dv(e){return typeof e=="number"?`${e}px`:e}function $y(e){return e instanceof Node||e instanceof HTMLElement}function L3(e){if(e==null)return[];const t=[];return Iv(e,a=>t.push(a)),t}function Lv(e,t){if(e)for(let a=0;a<e.length;a++){const u=e[a];t(u.name,u.value)}}function Jm(e,t,a){a==null||a===""?e.removeAttribute(t):e.setAttribute(t,a.toString())}function Iv(e,t){if(e!=null)for(let a=0;a<e.length;a++)t(e[a])}function M2(e,t){e.then(a=>{const u=a.getGui();u!=null&&(typeof u=="object"?t.appendChild(u):t.innerHTML=u)})}var cv=class{constructor(e=0,t=1){this.nextValue=e,this.step=t}next(){const e=this.nextValue;return this.nextValue+=this.step,e}peek(){return this.nextValue}skip(e){this.nextValue+=e}},Sv,q1,ny,iy,Ov,oy,ay,sy,qy;function _1(){return Sv===void 0&&(Sv=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),Sv}function A2(){if(q1===void 0)if(_1()){const e=navigator.userAgent.match(/version\/(\d+)/i);e&&(q1=e[1]!=null?parseFloat(e[1]):0)}else q1=0;return q1}function dv(){if(ny===void 0){const e=window;ny=!!e.chrome&&(!!e.chrome.webstore||!!e.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return ny}function ly(){return iy===void 0&&(iy=/(firefox)/i.test(navigator.userAgent)),iy}function Yy(){return Ov===void 0&&(Ov=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),Ov}function I1(){return oy===void 0&&(oy=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),oy}function T2(){return!_1()||A2()>=15}function hv(e){if(!e)return null;const t=e.tabIndex,a=e.getAttribute("tabIndex");return t===-1&&(a===null||a===""&&!ly())?null:t.toString()}function I3(){if(qy!==void 0)return qy;if(!document.body)return-1;let e=1e6;const t=ly()?6e6:1e9,a=document.createElement("div");for(document.body.appendChild(a);;){const u=e*2;if(a.style.height=u+"px",u>t||a.clientHeight!==u)break;e=u}return document.body.removeChild(a),qy=e,e}function X2(){return document.body?.clientWidth??(window.innerHeight||document.documentElement?.clientWidth||-1)}function Q2(){return document.body?.clientHeight??(window.innerHeight||document.documentElement?.clientHeight||-1)}function sm(){return sy==null&&Ky(),sy}function Ky(){const e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let a=t.offsetWidth-t.clientWidth;a===0&&t.clientWidth===0&&(a=null),t.parentNode&&t.parentNode.removeChild(t),a!=null&&(sy=a,ay=a===0)}function uy(){return ay==null&&Ky(),ay}var cy=1e3,R2=1e3,dy=100,zv=class K2 extends Nh{constructor(t,a,u,g){super(),this.parentComp=t,this.tooltipShowDelayOverride=a,this.tooltipHideDelayOverride=u,this.shouldDisplayTooltip=g,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}wireBeans(t){this.popupService=t.popupService,this.userComponentFactory=t.userComponentFactory}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");const t=this.parentComp.getGui();this.tooltipTrigger===0&&this.addManagedListeners(t,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),this.tooltipTrigger===1&&this.addManagedListeners(t,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(t,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(t,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}getGridOptionsTooltipDelay(t){const a=this.gos.get(t);return a<0&&ie(`${t} should not be lower than 0`),Math.max(200,a)}getTooltipDelay(t){return t==="show"?this.tooltipShowDelayOverride??this.getGridOptionsTooltipDelay("tooltipShowDelay"):this.tooltipHideDelayOverride??this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const t=this.gos.get("tooltipTrigger");return!t||t==="hover"?0:1}onMouseEnter(t){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!I1()&&(K2.isLocked?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(t)},dy):this.prepareToShowTooltip(t))}onMouseMove(t){this.lastMouseEvent&&(this.lastMouseEvent=t),this.tooltipMouseTrack&&this.state===2&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(t){const a=t.relatedTarget,u=this.parentComp.getGui(),g=this.tooltipComp?.getGui();this.isInteractingWithTooltip||u.contains(a)||this.interactionEnabled&&g?.contains(a)||this.setToDoNothing()}onKeyDown(){this.isInteractingWithTooltip&&(this.isInteractingWithTooltip=!1),this.setToDoNothing()}prepareToShowTooltip(t){if(this.state!=0||K2.isLocked)return;let a=0;t&&(a=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=t||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),a),this.state=1}isLastTooltipHiddenRecently(){const t=new Date().getTime(),a=K2.lastTooltipHideTime;return t-a<cy}setToDoNothing(t){!t&&this.state===2&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.onDocumentKeyDownCallback&&(this.onDocumentKeyDownCallback(),this.onDocumentKeyDownCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){const t={...this.parentComp.getTooltipParams()};if(!Vu(t.value)||this.shouldDisplayTooltip&&!this.shouldDisplayTooltip()){this.setToDoNothing();return}this.state=2,this.tooltipInstanceCount++;const a=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(t).newAgStackInstance().then(a)}hideTooltip(t){!t&&this.isInteractingWithTooltip||(this.tooltipComp&&(this.destroyTooltipComp(),K2.lastTooltipHideTime=new Date().getTime()),this.eventService.dispatchEvent({type:"tooltipHide",parentGui:this.parentComp.getGui()}),t&&(this.isInteractingWithTooltip=!1),this.setToDoNothing(!0))}newTooltipComponentCallback(t,a){if(this.state!==2||this.tooltipInstanceCount!==t){this.destroyBean(a);return}const g=a.getGui();this.tooltipComp=a,g.classList.contains("ag-tooltip")||g.classList.add("ag-tooltip-custom"),this.tooltipTrigger===0&&g.classList.add("ag-tooltip-animate"),this.interactionEnabled&&g.classList.add("ag-tooltip-interactive");const _=this.localeService.getLocaleTextFunc(),K=this.popupService.addPopup({eChild:g,ariaLabel:_("ariaLabelTooltip","Tooltip")});if(K&&(this.tooltipPopupDestroyFunc=K.hideFunc),this.positionTooltip(),this.tooltipTrigger===1){const rt=()=>this.setToDoNothing();[this.onBodyScrollEventCallback,this.onColumnMovedEventCallback]=this.addManagedEventListeners({bodyScroll:rt,columnMoved:rt})}this.interactionEnabled&&([this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(g,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}),[this.onDocumentKeyDownCallback]=this.addManagedElementListeners(Fp(this.gos),{keydown:rt=>{g.contains(rt?.target)||this.onKeyDown()}}),this.tooltipTrigger===1&&([this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(g,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}))),this.eventService.dispatchEvent({type:"tooltipShow",tooltipGui:g,parentGui:this.parentComp.getGui()}),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,this.lockService())}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}isTooltipFocused(){const t=this.tooltipComp?.getGui(),a=Gp(this.gos);return!!t&&t.contains(a)}onTooltipFocusOut(t){const a=this.parentComp.getGui();this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,a.contains(t.relatedTarget)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){const t={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupService.positionPopupUnderMouseEvent({...t,mouseEvent:this.lastMouseEvent}):this.popupService.positionPopupByComponent({...t,eventSource:this.parentComp.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5})}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const t=this.tooltipPopupDestroyFunc,a=this.tooltipComp,u=this.tooltipTrigger===0?R2:0;window.setTimeout(()=>{t(),this.destroyBean(a)},u),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(t=>{t&&t()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){K2.isLocked=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},dy)}unlockService(){K2.isLocked=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};zv.isLocked=!1;var hy=zv,e1=class extends Nh{constructor(e,t){super(),this.ctrl=e,t&&(this.beans=t)}wireBeans(e){this.beans=e}postConstruct(){this.refreshToolTip()}setBrowserTooltip(e){const t="title",a=this.ctrl.getGui();a&&(e!=null&&e!=""?a.setAttribute(t,e):a.removeAttribute(t))}updateTooltipText(){this.tooltip=this.ctrl.getTooltipValue()}createTooltipFeatureIfNeeded(){if(this.tooltipManager!=null)return;const e={getTooltipParams:()=>this.getTooltipParams(),getGui:()=>this.ctrl.getGui()};this.tooltipManager=this.createBean(new hy(e,this.ctrl.getTooltipShowDelayOverride?.(),this.ctrl.getTooltipHideDelayOverride?.(),this.ctrl.shouldDisplayTooltip),this.beans.context)}refreshToolTip(){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context))):(this.setBrowserTooltip(null),this.createTooltipFeatureIfNeeded())}getTooltipParams(){const e=this.ctrl,t=e.getColumn?.(),a=e.getColDef?.(),u=e.getRowNode?.();return{location:e.getLocation(),colDef:a,column:t,rowIndex:e.getRowIndex?.(),node:u,data:u?.data,value:this.getTooltipText(),valueFormatted:e.getValueFormatted?.(),hideTooltipCallback:()=>this.tooltipManager?.hideTooltip(!0)}}getTooltipText(){return this.tooltip}destroy(){this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)),super.destroy()}},J2=new cv,Dp=null,bg=class yC extends Nh{constructor(t,a){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=J2.next(),this.cssClassManager=new c0(()=>this.eGui),this.componentSelectors=new Map((a??[]).map(u=>[u.selector,u])),t&&this.setTemplate(t)}preWireBeans(t){super.preWireBeans(t)}preConstruct(){this.usingBrowserTooltips=this.gos.get("enableBrowserTooltips"),this.wireTemplate(this.getGui())}wireTemplate(t,a){t&&this.gos&&(this.applyElementsToComponent(t),this.createChildComponentsFromTags(t,a))}getCompId(){return this.compId}getTooltipParams(){return{value:this.tooltipText,location:"UNKNOWN"}}setTooltip(t){const{newTooltipText:a,showDelayOverride:u,hideDelayOverride:g,location:_,shouldDisplayTooltip:K}=t||{};this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.tooltipText!==a&&(this.tooltipText=a);const rt=()=>this.tooltipText;a!=null&&(this.tooltipFeature=this.createBean(new e1({getTooltipValue:rt,getGui:()=>this.getGui(),getLocation:()=>_??"UNKNOWN",getColDef:t?.getColDef,getColumn:t?.getColumn,getTooltipShowDelayOverride:u!=null?()=>u:void 0,getTooltipHideDelayOverride:g!=null?()=>g:void 0,shouldDisplayTooltip:K})))}getDataRefAttribute(t){return t.getAttribute?t.getAttribute("data-ref"):null}applyElementsToComponent(t,a,u,g=null){if(a===void 0&&(a=this.getDataRefAttribute(t)),a){const _=this[a];if(_===Dp)this[a]=g??t;else{const K=u&&u[a];!this.suppressDataRefValidation&&!K&&ie(`Issue with data-ref: ${a} on ${this.constructor.name} with ${_}`)}}}createChildComponentsFromTags(t,a){L3(t.childNodes).forEach(g=>{if(!(g instanceof HTMLElement))return;const _=this.createComponentFromElement(g,K=>{K.getGui()&&this.copyAttributesFromNode(g,K.getGui())},a);if(_){if(_.addItems&&g.children.length){this.createChildComponentsFromTags(g,a);const K=Array.prototype.slice.call(g.children);_.addItems(K)}this.swapComponentForNode(_,t,g)}else g.childNodes&&this.createChildComponentsFromTags(g,a)})}createComponentFromElement(t,a,u){const g=t.nodeName,_=this.getDataRefAttribute(t),K=g.indexOf("AG-")===0,rt=K?this.componentSelectors.get(g):null;let al=null;if(rt){yC.elementGettingCreated=t;const Ql=u&&_?u[_]:void 0;al=new rt.component(Ql),al.setParentComponent(this),this.createBean(al,null,a)}else K&&ie(`Missing selector: ${g}`);return this.applyElementsToComponent(t,_,u,al),al}copyAttributesFromNode(t,a){Lv(t.attributes,(u,g)=>a.setAttribute(u,g))}swapComponentForNode(t,a,u){const g=t.getGui();a.replaceChild(g,u),a.insertBefore(document.createComment(u.nodeName),g),this.addDestroyFunc(this.destroyBean.bind(this,t))}activateTabIndex(t){const a=this.gos.get("tabIndex");t||(t=[]),t.length||t.push(this.getGui()),t.forEach(u=>u.setAttribute("tabindex",a.toString()))}setTemplate(t,a,u){const g=uv(t);this.setTemplateFromElement(g,a,u)}setTemplateFromElement(t,a,u,g=!1){if(this.eGui=t,this.suppressDataRefValidation=g,a)for(let _=0;_<a.length;_++){const K=a[_];this.componentSelectors.set(K.selector,K)}this.wireTemplate(t,u)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(t){this.parentComponent=t}getParentComponent(){return this.parentComponent}setGui(t){this.eGui=t}queryForHtmlElement(t){return this.eGui.querySelector(t)}getContainerAndElement(t,a){let u=a;return t==null?null:(u||(u=this.eGui),$y(t)?{element:t,parent:u}:{element:t.getGui(),parent:u})}prependChild(t,a){const{element:u,parent:g}=this.getContainerAndElement(t,a)||{};!u||!g||g.insertAdjacentElement("afterbegin",u)}appendChild(t,a){const{element:u,parent:g}=this.getContainerAndElement(t,a)||{};!u||!g||g.appendChild(u)}isDisplayed(){return this.displayed}setVisible(t,a={}){if(t!==this.visible){this.visible=t;const{skipAriaHidden:u}=a;D1(this.eGui,t,{skipAriaHidden:u})}}setDisplayed(t,a={}){if(t!==this.displayed){this.displayed=t;const{skipAriaHidden:u}=a;Pg(this.eGui,t,{skipAriaHidden:u});const g={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(g)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),super.destroy()}addGuiEventListener(t,a,u){this.eGui.addEventListener(t,a,u),this.addDestroyFunc(()=>this.eGui.removeEventListener(t,a))}addCssClass(t){this.cssClassManager.addCssClass(t)}removeCssClass(t){this.cssClassManager.removeCssClass(t)}containsCssClass(t){return this.cssClassManager.containsCssClass(t)}addOrRemoveCssClass(t,a){this.cssClassManager.addOrRemoveCssClass(t,a)}},F2={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",menuAlt:"menu-alt",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",advancedFilterBuilder:"group",advancedFilterBuilderDrag:"grip",advancedFilterBuilderInvalid:"not-allowed",advancedFilterBuilderMoveUp:"up",advancedFilterBuilderMoveDown:"down",advancedFilterBuilderAdd:"plus",advancedFilterBuilderRemove:"minus",chartsMenuEdit:"chart",chartsMenuAdvancedSettings:"settings",chartsMenuAdd:"plus",checkboxChecked:"checkbox-checked",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off"},fy=(()=>{const e=new Set(Object.values(F2));return e.add("eye"),e})();function py(e,t,a){const u=Vm(e,t,a);if(u){const{className:_}=u;if(typeof _=="string"&&_.indexOf("ag-icon")>-1||typeof _=="object"&&_["ag-icon"])return u}const g=document.createElement("span");return g.appendChild(u),g}function Vm(e,t,a,u){let g=null;const _=a&&a.getColDef().icons;if(_&&(g=_[e]),t&&!g){const K=t.get("icons");K&&(g=K[e])}if(g){let K;if(typeof g=="function")K=g();else if(typeof g=="string")K=g;else throw new Error("icon from grid options needs to be a string or a function");if(typeof K=="string")return uv(K);if($y(K))return K;ie("iconRenderer should return back a string or a dom object")}else{const K=document.createElement("span");let rt=F2[e]??(fy.has(e)?e:void 0);return rt||(u?rt=e:(ie(`Did not find icon ${e}`),rt="")),K.setAttribute("class",`ag-icon ag-icon-${rt}`),K.setAttribute("unselectable","on"),w0(K,"presentation"),K}}var P2=class extends bg{constructor(){super(...arguments),this.dragSource=null,this.eIcon=Dp,this.eLabel=Dp}postConstruct(){const e=t=>py(t,this.gos,null);this.dropIconMap={pinned:e("columnMovePin"),hide:e("columnMoveHide"),move:e("columnMoveMove"),left:e("columnMoveLeft"),right:e("columnMoveRight"),group:e("columnMoveGroup"),aggregate:e("columnMoveValue"),pivot:e("columnMovePivot"),notAllowed:e("dropNotAllowed")}}init(e){this.dragSource=e.dragSource,this.setTemplate(`<div class="ag-dnd-ghost ag-unselectable">
                <span data-ref="eIcon" class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>
                <div data-ref="eLabel" class="ag-dnd-ghost-label"></div>
            </div>`)}destroy(){this.dragSource=null,super.destroy()}setIcon(e,t=!1){Dm(this.eIcon);let a=null;e||(e=this.dragSource?.getDefaultIconName?this.dragSource?.getDefaultIconName():"notAllowed"),a=this.dropIconMap[e],this.eIcon.classList.toggle("ag-shake-left-to-right",t),!(a===this.dropIconMap.hide&&this.gos.get("suppressDragLeaveHidesColumns"))&&a&&this.eIcon.appendChild(a)}setLabel(e){this.eLabel.textContent=Rh(e)}};function Zy(e,t,a){if(a===0)return!1;const u=Math.abs(e.clientX-t.clientX),g=Math.abs(e.clientY-t.clientY);return Math.max(u,g)<=a}var l1=class{constructor(e,t=!1){this.DOUBLE_TAP_MILLIS=500,this.destroyFuncs=[],this.touching=!1,this.localEventService=new y,this.eElement=e,this.preventMouseClick=t;const a=this.onTouchStart.bind(this),u=this.onTouchMove.bind(this),g=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",a,{passive:!0}),this.eElement.addEventListener("touchmove",u,{passive:!0}),this.eElement.addEventListener("touchend",g,{passive:!1}),this.destroyFuncs.push(()=>{this.eElement.removeEventListener("touchstart",a,{passive:!0}),this.eElement.removeEventListener("touchmove",u,{passive:!0}),this.eElement.removeEventListener("touchend",g,{passive:!1})})}getActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}addEventListener(e,t){this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService.removeEventListener(e,t)}onTouchStart(e){if(this.touching)return;this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;const t=this.touchStart;window.setTimeout(()=>{const a=this.touchStart===t;if(this.touching&&a&&!this.moved){this.moved=!0;const u={type:"longTap",touchStart:this.touchStart,touchEvent:e};this.localEventService.dispatchEvent(u)}},500)}onTouchMove(e){if(!this.touching)return;const t=this.getActiveTouch(e.touches);if(!t)return;!Zy(t,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(e){if(this.touching){if(!this.moved){const t={type:"tap",touchStart:this.touchStart};this.localEventService.dispatchEvent(t),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}}checkForDoubleTap(){const e=new Date().getTime();if(this.lastTapTime&&this.lastTapTime>0)if(e-this.lastTapTime>this.DOUBLE_TAP_MILLIS){const a={type:"doubleTap",touchStart:this.touchStart};this.localEventService.dispatchEvent(a),this.lastTapTime=null}else this.lastTapTime=e;else this.lastTapTime=e}destroy(){this.destroyFuncs.forEach(e=>e())}};function gy(e,t){return`<span data-ref="eSort${e}" class="ag-sort-indicator-icon ag-sort-${t} ag-hidden" aria-hidden="true"></span>`}var e3=`<span class="ag-sort-indicator-container">
        ${gy("Order","order")}
        ${gy("Asc","ascending-icon")}
        ${gy("Desc","descending-icon")}
        ${gy("Mixed","mixed-icon")}
        ${gy("None","none-icon")}
    </span>`,Xy=class extends bg{constructor(e){super(),this.eSortOrder=Dp,this.eSortAsc=Dp,this.eSortDesc=Dp,this.eSortMixed=Dp,this.eSortNone=Dp,e||this.setTemplate(e3)}wireBeans(e){this.sortController=e.sortController}attachCustomElements(e,t,a,u,g){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=a,this.eSortMixed=u,this.eSortNone=g}setupSort(e,t=!1){if(this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),!this.column.isSortable()&&!this.column.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e);const a=this.updateIcons.bind(this),u=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",a),this.addManagedEventListeners({newColumnsLoaded:a,sortChanged:u,columnRowGroupChanged:u}),this.onSortChanged()}addInIcon(e,t,a){if(t==null)return;const u=Vm(e,this.gos,a);u&&t.appendChild(u)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const e=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc){const t=e==="asc";Pg(this.eSortAsc,t,{skipAriaHidden:!0})}if(this.eSortDesc){const t=e==="desc";Pg(this.eSortDesc,t,{skipAriaHidden:!0})}if(this.eSortNone){const t=!this.column.getColDef().unSortIcon&&!this.gos.get("unSortIcon"),a=e==null;Pg(this.eSortNone,!t&&a,{skipAriaHidden:!0})}}setupMultiSortIndicator(){this.addInIcon("sortUnSort",this.eSortMixed,this.column);const e=this.column.getColDef().showRowGroup;Z0(this.gos)&&e&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){if(this.eSortMixed){const e=this.sortController.getDisplaySortForColumn(this.column)==="mixed";Pg(this.eSortMixed,e,{skipAriaHidden:!0})}}updateSortOrder(){if(!this.eSortOrder)return;const e=this.sortController.getColumnsWithSortingOrdered(),t=this.sortController.getDisplaySortIndexForColumn(this.column)??-1,a=e.some(g=>this.sortController.getDisplaySortIndexForColumn(g)??!1),u=t>=0&&a;Pg(this.eSortOrder,u,{skipAriaHidden:!0}),t>=0?this.eSortOrder.textContent=(t+1).toString():Dm(this.eSortOrder)}},t3={selector:"AG-SORT-INDICATOR",component:Xy},D2=`<div class="ag-cell-label-container" role="presentation">
        <span data-ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>
        <span data-ref="eFilterButton" class="ag-header-icon ag-header-cell-filter-button" aria-hidden="true"></span>
        <div data-ref="eLabel" class="ag-header-cell-label" role="presentation">
            <span data-ref="eText" class="ag-header-cell-text"></span>
            <span data-ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>
            <ag-sort-indicator data-ref="eSortIndicator"></ag-sort-indicator>
        </div>
    </div>`,E1=class extends bg{constructor(){super(...arguments),this.eFilter=Dp,this.eFilterButton=Dp,this.eSortIndicator=Dp,this.eMenu=Dp,this.eLabel=Dp,this.eText=Dp,this.eSortOrder=Dp,this.eSortAsc=Dp,this.eSortDesc=Dp,this.eSortMixed=Dp,this.eSortNone=Dp,this.lastMovingChanged=0}wireBeans(e){this.sortController=e.sortController,this.menuService=e.menuService,this.funcColsService=e.funcColsService}destroy(){super.destroy()}refresh(e){const t=this.params;return this.params=e,this.workOutTemplate()!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||this.workOutSort()!=this.currentSort||this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||t.enableFilterButton!=e.enableFilterButton||t.enableFilterIcon!=e.enableFilterIcon?!1:(this.setDisplayName(e),!0)}workOutTemplate(){let e=this.params.template??D2;return e=e&&e.trim?e.trim():e,e}init(e){this.params=e,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate,[t3]),this.setupTap(),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setupFilterButton(),this.setDisplayName(e)}setDisplayName(e){if(this.currentDisplayName!=e.displayName){this.currentDisplayName=e.displayName;const t=Rh(this.currentDisplayName,!0);this.eText&&(this.eText.textContent=t)}}addInIcon(e,t,a){if(t==null)return;const u=Vm(e,this.gos,a);u&&t.appendChild(u)}setupTap(){const{gos:e}=this;if(e.get("suppressTouch"))return;const t=new l1(this.getGui(),!0),a=this.shouldSuppressMenuHide(),u=a&&Vu(this.eMenu),g=u?new l1(this.eMenu,!0):t;if(this.params.enableMenu){const _=u?"tap":"longTap",K=rt=>this.params.showColumnMenuAfterMouseClick(rt.touchStart);this.addManagedListeners(g,{[_]:K})}if(this.params.enableSorting){const _=K=>{const rt=K.touchStart.target;a&&(this.eMenu?.contains(rt)||this.eFilterButton?.contains(rt))||this.sortController.progressSort(this.params.column,!1,"uiColumnSorted")};this.addManagedListeners(t,{tap:_})}if(this.params.enableFilterButton){const _=new l1(this.eFilterButton,!0);this.addManagedListeners(_,{tap:()=>this.params.showFilter(this.eFilterButton)}),this.addDestroyFunc(()=>_.destroy())}this.addDestroyFunc(()=>t.destroy()),u&&this.addDestroyFunc(()=>g.destroy())}workOutShowMenu(){return this.params.enableMenu&&this.menuService.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return this.menuService.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){m1(this.eMenu),this.eMenu=void 0;return}const e=this.menuService.isLegacyMenuEnabled();this.addInIcon(e?"menu":"menuAlt",this.eMenu,this.params.column),this.eMenu.classList.toggle("ag-header-menu-icon",!e),this.currentSuppressMenuHide=this.shouldSuppressMenuHide(),this.addManagedElementListeners(this.eMenu,{click:()=>this.params.showColumnMenu(this.eMenu)}),this.eMenu.classList.toggle("ag-header-menu-always-show",this.currentSuppressMenuHide)}onMenuKeyboardShortcut(e){const t=this.params.column,a=this.menuService.isLegacyMenuEnabled();if(e&&!a){if(this.menuService.isFilterMenuInHeaderEnabled(t))return this.params.showFilter(this.eFilterButton??this.eMenu??this.getGui()),!0}else if(this.params.enableMenu)return this.params.showColumnMenu(this.eMenu??this.eFilterButton??this.getGui()),!0;return!1}workOutSort(){return this.params.enableSorting}setupSort(){if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.createBean(new Xy(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),!this.currentSort)return;this.addManagedListeners(this.params.column,{movingChanged:()=>{this.lastMovingChanged=new Date().getTime()}}),this.eLabel&&this.addManagedElementListeners(this.eLabel,{click:t=>{const a=this.params.column.isMoving(),g=new Date().getTime()-this.lastMovingChanged<50;if(!(a||g)){const rt=this.gos.get("multiSortKey")==="ctrl"?t.ctrlKey||t.metaKey:t.shiftKey;this.params.progressSort(rt)}}});const e=()=>{const t=this.params.column.getSort();if(this.addOrRemoveCssClass("ag-header-cell-sorted-asc",t==="asc"),this.addOrRemoveCssClass("ag-header-cell-sorted-desc",t==="desc"),this.addOrRemoveCssClass("ag-header-cell-sorted-none",!t),this.params.column.getColDef().showRowGroup){const g=!this.funcColsService.getSourceColumnsForGroupColumn(this.params.column)?.every(_=>this.params.column.getSort()==_.getSort());this.addOrRemoveCssClass("ag-header-cell-sorted-mixed",g)}};this.addManagedEventListeners({sortChanged:e,columnRowGroupChanged:e})}setupFilterIcon(){this.eFilter&&this.configureFilter(this.params.enableFilterIcon,this.eFilter,this.onFilterChangedIcon.bind(this))}setupFilterButton(){if(!this.eFilterButton)return;this.configureFilter(this.params.enableFilterButton,this.eFilterButton,this.onFilterChangedButton.bind(this))?this.addManagedElementListeners(this.eFilterButton,{click:()=>this.params.showFilter(this.eFilterButton)}):this.eFilterButton=void 0}configureFilter(e,t,a){if(!e)return m1(t),!1;const u=this.params.column;return this.addInIcon("filter",t,u),this.addManagedListeners(u,{filterChanged:a}),a(),!0}onFilterChangedIcon(){const e=this.params.column.isFilterActive();Pg(this.eFilter,e,{skipAriaHidden:!0})}onFilterChangedButton(){const e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){return e?this.eFilterButton??this.eMenu??this.getGui():this.eMenu??this.eFilterButton??this.getGui()}},r3=class extends bg{constructor(){super(`<div class="ag-header-group-cell-label" role="presentation">
            <span data-ref="agLabel" class="ag-header-group-text" role="presentation"></span>
            <span data-ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>
            <span data-ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>
        </div>`),this.agOpened=Dp,this.agClosed=Dp,this.agLabel=Dp}wireBeans(e){this.columnModel=e.columnModel}destroy(){super.destroy()}init(e){this.params=e,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()}checkWarnings(){this.params.template&&ie("A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")}setupExpandIcons(){this.addInIcon("columnGroupOpened",this.agOpened),this.addInIcon("columnGroupClosed",this.agClosed);const e=g=>{if(_h(g))return;const _=!this.params.columnGroup.isExpanded();this.columnModel.setColumnGroupOpened(this.params.columnGroup.getProvidedColumnGroup(),_,"uiColumnExpanded")};this.addTouchAndClickListeners(this.agClosed,e),this.addTouchAndClickListeners(this.agOpened,e);const t=g=>{Ih(g)};this.addManagedElementListeners(this.agClosed,{dblclick:t}),this.addManagedElementListeners(this.agOpened,{dblclick:t}),this.addManagedElementListeners(this.getGui(),{dblclick:e}),this.updateIconVisibility();const a=this.params.columnGroup.getProvidedColumnGroup(),u=this.updateIconVisibility.bind(this);this.addManagedListeners(a,{expandedChanged:u,expandableChanged:u})}addTouchAndClickListeners(e,t){const a=new l1(e,!0);this.addManagedListeners(a,{tap:t}),this.addDestroyFunc(()=>a.destroy()),this.addManagedElementListeners(e,{click:t})}updateIconVisibility(){if(this.params.columnGroup.isExpandable()){const t=this.params.columnGroup.isExpanded();Pg(this.agOpened,t),Pg(this.agClosed,!t)}else Pg(this.agOpened,!1),Pg(this.agClosed,!1)}addInIcon(e,t){const a=Vm(e,this.gos,null);a&&t.appendChild(a)}addGroupExpandIcon(){if(!this.params.columnGroup.isExpandable()){Pg(this.agOpened,!1),Pg(this.agClosed,!1);return}}setupLabel(){const{displayName:e,columnGroup:t}=this.params;if(Vu(e)){const a=Rh(e,!0);this.agLabel.textContent=a}this.addOrRemoveCssClass("ag-sticky-label",!t.getColGroupDef()?.suppressStickyLabel)}},Nv="",O1="",Bv=class extends bg{constructor(){super(),this.refreshCount=0;const e=document.createElement("span"),t=document.createElement("span");t.setAttribute("class","ag-value-change-delta");const a=document.createElement("span");a.setAttribute("class","ag-value-change-value"),e.appendChild(t),e.appendChild(a),this.setTemplateFromElement(e)}wireBeans(e){this.filterManager=e.filterManager}init(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e,!0)}showDelta(e,t){const a=Math.abs(t),u=e.formatValue(a),g=Vu(u)?u:a,_=t>=0;_?this.eDelta.textContent=Nv+g:this.eDelta.textContent=O1+g,this.eDelta.classList.toggle("ag-value-change-delta-up",_),this.eDelta.classList.toggle("ag-value-change-delta-down",!_)}setTimerToRemoveDelta(){this.refreshCount++;const e=this.refreshCount;this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),Dm(this.eDelta)}refresh(e,t=!1){const a=e.value;if(a===this.lastValue||(Vu(e.valueFormatted)?this.eValue.textContent=e.valueFormatted:Vu(e.value)?this.eValue.textContent=a:Dm(this.eValue),this.filterManager?.isSuppressFlashingCellsBecauseFiltering()))return!1;if(typeof a=="number"&&typeof this.lastValue=="number"){const u=a-this.lastValue;this.showDelta(e,u)}return this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),t||this.setTimerToRemoveDelta(),this.lastValue=a,!0}},M1=class extends bg{constructor(){super(),this.refreshCount=0;const e=document.createElement("span"),t=document.createElement("span");t.setAttribute("class","ag-value-slide-current"),e.appendChild(t),this.setTemplateFromElement(e),this.eCurrent=this.queryForHtmlElement(".ag-value-slide-current")}wireBeans(e){this.filterManager=e.filterManager}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;const e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);const t=document.createElement("span");t.setAttribute("class","ag-value-slide-previous ag-value-slide-out"),this.ePrevious=t,this.ePrevious.textContent=this.eCurrent.textContent,this.getGui().insertBefore(this.ePrevious,this.eCurrent),this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{e===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)})}refresh(e,t=!1){let a=e.value;return Zu(a)&&(a=""),a===this.lastValue||this.filterManager?.isSuppressFlashingCellsBecauseFiltering()?!1:(t||this.addSlideAnimation(),this.lastValue=a,Vu(e.valueFormatted)?this.eCurrent.textContent=e.valueFormatted:Vu(e.value)?this.eCurrent.textContent=a:Dm(this.eCurrent),!0)}},pf=class{};pf.BACKSPACE="Backspace",pf.TAB="Tab",pf.ENTER="Enter",pf.ESCAPE="Escape",pf.SPACE=" ",pf.LEFT="ArrowLeft",pf.UP="ArrowUp",pf.RIGHT="ArrowRight",pf.DOWN="ArrowDown",pf.DELETE="Delete",pf.F2="F2",pf.PAGE_UP="PageUp",pf.PAGE_DOWN="PageDown",pf.PAGE_HOME="Home",pf.PAGE_END="End",pf.A="KeyA",pf.C="KeyC",pf.D="KeyD",pf.V="KeyV",pf.X="KeyX",pf.Y="KeyY",pf.Z="KeyZ";var n3=class extends bg{constructor(e,t,a){super(t,a),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{}}postConstruct(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:e,label:t,labelWidth:a,labelAlignment:u,disabled:g}=this.config;g!=null&&this.setDisabled(g),e!=null&&this.setLabelSeparator(e),t!=null&&this.setLabel(t),a!=null&&this.setLabelWidth(a),this.setLabelAlignment(u||this.labelAlignment),this.refreshLabel()}refreshLabel(){Dm(this.eLabel),typeof this.label=="string"?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),this.label===""?(Pg(this.eLabel,!1),w0(this.eLabel,"presentation")):(Pg(this.eLabel,!0),w0(this.eLabel,null))}setLabelSeparator(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)}getLabelId(){return this.eLabel.id=this.eLabel.id||`ag-${this.getCompId()}-label`,this.eLabel.id}getLabel(){return this.label}setLabel(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)}setLabelAlignment(e){const a=this.getGui().classList;return a.toggle("ag-label-align-left",e==="left"),a.toggle("ag-label-align-right",e==="right"),a.toggle("ag-label-align-top",e==="top"),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return this.label==null?this:(ry(this.eLabel,e),this)}setDisabled(e){e=!!e;const t=this.getGui();return p1(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}},L2=class extends n3{constructor(e,t,a,u){super(e,t,a),this.className=u}postConstruct(){super.postConstruct();const{width:e,value:t,onValueChange:a}=this.config;e!=null&&this.setWidth(e),t!=null&&this.setValue(t),a!=null&&this.onValueChange(a),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){const e=this.getAriaElement(),t=this.getLabelId(),a=this.getLabel();a==null||a==""||j0(e)!==null?Ln(e,""):Ln(e,t??"")}setAriaLabel(e){return A0(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return s1(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e?this:(this.previousValue=this.value,this.value=e,t||this.dispatchLocalEvent({type:"fieldValueChanged"}),this)}},t1=class extends L2{constructor(e,t,a="text",u="input"){super(e,e?.template??`
            <div role="presentation">
                <div data-ref="eLabel" class="ag-input-field-label"></div>
                <div data-ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">
                    <${u} data-ref="eInput" class="ag-input-field-input"></${u}>
                </div>
            </div>`,[],t),this.inputType=a,this.displayFieldTag=u,this.eLabel=Dp,this.eWrapper=Dp,this.eInput=Dp}postConstruct(){super.postConstruct(),this.setInputType(),this.eLabel.classList.add(`${this.className}-label`),this.eWrapper.classList.add(`${this.className}-input-wrapper`),this.eInput.classList.add(`${this.className}-input`),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||`ag-${this.getCompId()}-input`;const{inputName:e,inputWidth:t}=this.config;e!=null&&this.setInputName(e),t!=null&&this.setInputWidth(t),this.addInputListeners(),this.activateTabIndex([this.eInput])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(){this.displayFieldTag==="input"&&this.eInput.setAttribute("type",this.inputType)}getInputElement(){return this.eInput}setInputWidth(e){return ry(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){const t=this.eInput;return t.maxLength=e,this}setInputPlaceholder(e){return Jm(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return A0(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return p1(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(e===!0)Jm(this.eInput,"autocomplete",null);else{const t=typeof e=="string"?e:"off";Jm(this.eInput,"autocomplete",t)}return this}},A1=class extends t1{constructor(e,t="ag-checkbox",a="checkbox"){super(e,t,a),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly:e,passive:t}=this.config;typeof e=="boolean"&&this.setReadOnly(e),typeof t=="boolean"&&this.setPassive(t)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;const e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){const t=this.getInputElement();return t.name=e,this}isSelected(){return this.selected}setSelected(e,t){this.isSelected()!==e&&(this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0,this.eInput.checked=e,this.eInput.indeterminate=e===void 0,t||this.dispatchChange(this.selected,this.previousValue))}dispatchChange(e,t,a){this.dispatchLocalEvent({type:"fieldValueChanged",selected:e,previousValue:t,event:a});const u=this.getInputElement();this.eventService.dispatchEvent({type:"checkboxChanged",id:u.id,name:u.name,selected:e,previousValue:t})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const t=this.isSelected(),a=this.selected=e.target.checked;this.refreshSelectedClass(a),this.dispatchChange(a,t,e)}refreshSelectedClass(e){this.eWrapper.classList.toggle("ag-checked",e===!0),this.eWrapper.classList.toggle("ag-indeterminate",e==null)}},z1={selector:"AG-CHECKBOX",component:A1},my=class extends bg{constructor(){super(`
            <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[z1]),this.eCheckbox=Dp}init(e){this.refresh(e);const t=this.eCheckbox.getInputElement();t.setAttribute("tabindex","-1"),hl(t,"polite"),this.addManagedListeners(t,{click:a=>{if(Ih(a),this.eCheckbox.isDisabled())return;const u=this.eCheckbox.getValue();this.onCheckboxChanged(u)},dblclick:a=>{Ih(a)}}),this.addManagedElementListeners(this.params.eGridCell,{keydown:a=>{if(a.key===pf.SPACE&&!this.eCheckbox.isDisabled()){this.params.eGridCell===Gp(this.gos)&&this.eCheckbox.toggle();const u=this.eCheckbox.getValue();this.onCheckboxChanged(u),a.preventDefault()}}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){let t,a=!0;if(e.node.group&&e.column)if(typeof e.value=="boolean")t=e.value;else{const rt=e.column.getColId();rt.startsWith(Jp)?t=e.value==null||e.value===""?void 0:e.value==="true":e.node.aggData&&e.node.aggData[rt]!==void 0?t=e.value??void 0:a=!1}else t=e.value??void 0;if(!a){this.eCheckbox.setDisplayed(!1);return}this.eCheckbox.setValue(t);const u=e.disabled!=null?e.disabled:!e.column?.isCellEditable(e.node);this.eCheckbox.setDisabled(u);const g=this.localeService.getLocaleTextFunc(),_=z0(g,t),K=u?_:`${g("ariaToggleCellValue","Press SPACE to toggle cell value")} (${_})`;this.eCheckbox.setInputAriaLabel(K)}onCheckboxChanged(e){const{column:t,node:a,value:u}=this.params;this.eventService.dispatchEvent({type:"cellEditingStarted",column:t,colDef:t?.getColDef(),data:a.data,node:a,rowIndex:a.rowIndex,rowPinned:a.rowPinned,value:u});const g=this.params.node.setDataValue(this.params.column,e,"edit");this.eventService.dispatchEvent({type:"cellEditingStopped",column:t,colDef:t?.getColDef(),data:a.data,node:a,rowIndex:a.rowIndex,rowPinned:a.rowPinned,value:u,oldValue:u,newValue:e,valueChanged:g}),g||this.updateCheckbox(this.params)}},I2=class extends bg{constructor(){super(`<div class="ag-loading">
            <span class="ag-loading-icon" data-ref="eLoadingIcon"></span>
            <span class="ag-loading-text" data-ref="eLoadingText"></span>
        </div>`),this.eLoadingIcon=Dp,this.eLoadingText=Dp}init(e){e.node.failedLoad?this.setupFailed():this.setupLoading()}setupFailed(){const e=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=e("loadingError","ERR")}setupLoading(){const e=Vm("groupLoading",this.gos,null);e&&this.eLoadingIcon.appendChild(e);const t=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=t("loadingOoo","Loading")}refresh(e){return!1}destroy(){super.destroy()}},Hv=class extends bg{constructor(){super('<div class="ag-skeleton-container"></div>')}init(e){const t=`ag-cell-skeleton-renderer-${this.getCompId()}`;this.getGui().setAttribute("id",t),this.addDestroyFunc(()=>Ln(e.eParentOfValue)),Ln(e.eParentOfValue,t),e.node.failedLoad?this.setupFailed():this.setupLoading(e)}setupFailed(){const e=this.localeService.getLocaleTextFunc();this.getGui().innerText=e("loadingError","ERR");const t=e("ariaSkeletonCellLoadingFailed","Row failed to load");A0(this.getGui(),t)}setupLoading(e){const a=Fp(this.gos).createElement("div");a.classList.add("ag-skeleton-effect");const u=e.node.rowIndex;if(u!=null){const K=75+25*(u%2===0?Math.sin(u):Math.cos(u));a.style.width=`${K}%`}this.getGui().appendChild(a);const _=this.localeService.getLocaleTextFunc()("ariaSkeletonCellLoading","Row data is loading");A0(this.getGui(),_)}refresh(e){return!1}destroy(){super.destroy()}},Y1=class extends bg{constructor(){super()}destroy(){super.destroy()}},Jg=class extends Y1{init(){const e=Xu(this.gos.get("overlayLoadingTemplate")?.trim());if(this.setTemplate(e??'<span aria-live="polite" aria-atomic="true" class="ag-overlay-loading-center"></span>'),!e){const t=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=t("loadingOoo","Loading...")})}}},rm=class extends Y1{init(){const e=Xu(this.gos.get("overlayNoRowsTemplate")?.trim());if(this.setTemplate(e??'<span class="ag-overlay-no-rows-center"></span>'),!e){const t=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=t("noRowsToShow","No Rows To Show")})}}},r1=class extends bg{isPopup(){return!0}setParentComponent(e){e.addCssClass("ag-has-popup"),super.setParentComponent(e)}destroy(){const e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}},jm=class extends r1{constructor(){super('<div class="ag-tooltip"></div>')}init(e){const{value:t}=e;this.getGui().textContent=Rh(t,!0)}};function Um(e){const{inputValue:t,allSuggestions:a,hideIrrelevant:u,filterByPercentageOfBestMatch:g,addSequentialWeight:_}=e;let K=a.map((Ql,Gu)=>({value:Ql,relevance:kv(t.toLowerCase(),Ql.toLocaleLowerCase(),_),idx:Gu}));if(K.sort((Ql,Gu)=>Gu.relevance-Ql.relevance),u&&(K=K.filter(Ql=>Ql.relevance!==0)),K.length>0&&g&&g>0){const Gu=K[0].relevance*g;K=K.filter(Wu=>Gu-Wu.relevance<0)}const rt=[],al=[];for(const Ql of K)rt.push(Ql.value),al.push(Ql.idx);return{values:rt,indices:al}}function K1(e){const t=[],a=e.length;for(let u=1;u<=a;u++)for(let g=0;g<=a-u;g++){const _=g+u-1;t.push(e.slice(g,_+1))}return t}function kv(e,t,a=!1){const u=e.replace(/\s/g,""),g=t.replace(/\s/g,""),_=u.length,K=g.length,rt=new Array(_+1).fill(null).map(()=>new Array(K+1).fill(0));for(let Wu=0;Wu<=_;Wu+=1)rt[Wu][0]=Wu;for(let Wu=0;Wu<=K;Wu+=1)rt[0][Wu]=Wu;for(let Wu=1;Wu<=_;Wu++)for(let id=1;id<=K;id++)u[Wu-1]===g[id-1]?rt[Wu][id]=rt[Wu-1][id-1]:rt[Wu][id]=1+Math.min(rt[Wu][id-1],Math.min(rt[Wu-1][id],rt[Wu-1][id-1]));const al=rt[_][K];let Gu=Math.max(_,K)-al;if(a){const Wu=K1(u);for(let id=0;id<Wu.length;id++){const uh=Wu[id];g.indexOf(uh)!==-1&&(Gu+=1,Gu*=uh.length)}}return Gu}var Bm=class extends Nh{constructor(){super(...arguments),this.beanName="userComponentRegistry",this.agGridDefaults={agDragAndDropImage:P2,agColumnHeader:E1,agColumnGroupHeader:r3,agSortIndicator:Xy,agAnimateShowChangeCellRenderer:Bv,agAnimateSlideCellRenderer:M1,agLoadingCellRenderer:I2,agSkeletonCellRenderer:Hv,agCheckboxCellRenderer:my,agLoadingOverlay:Jg,agNoRowsOverlay:rm,agTooltipComponent:jm},this.agGridDefaultParams={},this.enterpriseAgDefaultCompsModule={agSetColumnFilter:"@ag-grid-enterprise/set-filter",agSetColumnFloatingFilter:"@ag-grid-enterprise/set-filter",agMultiColumnFilter:"@ag-grid-enterprise/multi-filter",agMultiColumnFloatingFilter:"@ag-grid-enterprise/multi-filter",agGroupColumnFilter:"@ag-grid-enterprise/row-grouping",agGroupColumnFloatingFilter:"@ag-grid-enterprise/row-grouping",agGroupCellRenderer:"@ag-grid-enterprise/row-grouping",agGroupRowRenderer:"@ag-grid-enterprise/row-grouping",agRichSelect:"@ag-grid-enterprise/rich-select",agRichSelectCellEditor:"@ag-grid-enterprise/rich-select",agDetailCellRenderer:"@ag-grid-enterprise/master-detail",agSparklineCellRenderer:"@ag-grid-enterprise/sparklines"},this.jsComps={}}postConstruct(){const e=this.gos.get("components");e!=null&&Me(e,(t,a)=>this.registerJsComponent(t,a))}registerDefaultComponent(e,t,a){this.agGridDefaults[e]=t,a&&(this.agGridDefaultParams[e]=a)}registerJsComponent(e,t){this.jsComps[e]=t}retrieve(e,t){const a=(rt,al,Ql)=>({componentFromFramework:al,component:rt,params:Ql}),u=this.getFrameworkOverrides().frameworkComponent(t,this.gos.get("components"));if(u!=null)return a(u,!0);const g=this.jsComps[t];if(g){const rt=this.getFrameworkOverrides().isFrameworkComponent(g);return a(g,rt)}const _=this.agGridDefaults[t];if(_)return a(_,!1,this.agGridDefaultParams[t]);const K=this.enterpriseAgDefaultCompsModule[t];return K?this.gos.assertModuleRegistered(K,`AG Grid '${e}' component: ${t}`):H(()=>{this.warnAboutMissingComponent(e,t)},"MissingComp"+t),null}warnAboutMissingComponent(e,t){const a=[...Object.keys(this.agGridDefaults).filter(g=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(g)),...Object.keys(this.jsComps)],u=Um({inputValue:t,allSuggestions:a,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;ie(`Could not find '${t}' component. It was configured as "${e}: '${t}'" but it wasn't found in the list of registered components.`),u.length>0&&ie(`         Did you mean: [${u.slice(0,3)}]?`),ie(`If using a custom component check it has been registered as described in: ${this.getFrameworkOverrides().getDocLink("components/")}`)}},Hm=class gx{constructor(t){this.status=0,this.resolution=null,this.waiters=[],t(a=>this.onDone(a),a=>this.onReject(a))}static all(t){return t.length?new gx(a=>{let u=t.length;const g=new Array(u);t.forEach((_,K)=>{_.then(rt=>{g[K]=rt,u--,u===0&&a(g)})})}):gx.resolve()}static resolve(t=null){return new gx(a=>a(t))}then(t){return new gx(a=>{this.status===1?a(t(this.resolution)):this.waiters.push(u=>a(t(u)))})}onDone(t){this.status=1,this.resolution=t,this.waiters.forEach(a=>a(t))}onReject(t){}},i3={propertyName:"dateComponent",cellRenderer:!1},o3={propertyName:"dragAndDropImageComponent",cellRenderer:!1},Qy={propertyName:"headerComponent",cellRenderer:!1},a3={propertyName:"headerGroupComponent",cellRenderer:!1},y1={propertyName:"cellRenderer",cellRenderer:!0},vy={propertyName:"cellRenderer",cellRenderer:!1},O2={propertyName:"loadingCellRenderer",cellRenderer:!0},s3={propertyName:"cellEditor",cellRenderer:!1},l3={propertyName:"innerRenderer",cellRenderer:!0},fv={propertyName:"loadingOverlayComponent",cellRenderer:!1},pv={propertyName:"noRowsOverlayComponent",cellRenderer:!1},Gv={propertyName:"tooltipComponent",cellRenderer:!1},_v={propertyName:"filter",cellRenderer:!1},Jy={propertyName:"floatingFilterComponent",cellRenderer:!1},u1={propertyName:"toolPanel",cellRenderer:!1},x1={propertyName:"statusPanel",cellRenderer:!1},Ev={propertyName:"fullWidthCellRenderer",cellRenderer:!0},Z1={propertyName:"loadingCellRenderer",cellRenderer:!0},X1={propertyName:"groupRowRenderer",cellRenderer:!0},Mv={propertyName:"detailCellRenderer",cellRenderer:!0},u3={propertyName:"menuItem",cellRenderer:!1},yy=class xC extends Nh{constructor(){super(...arguments),this.beanName="userComponentFactory"}wireBeans(t){this.agComponentUtils=t.agComponentUtils,this.componentMetadataProvider=t.componentMetadataProvider,this.userComponentRegistry=t.userComponentRegistry,this.frameworkComponentWrapper=t.frameworkComponentWrapper,this.gridOptions=t.gridOptions}getDragAndDropImageCompDetails(t){return this.getCompDetails(this.gridOptions,o3,"agDragAndDropImage",t,!0)}getHeaderCompDetails(t,a){return this.getCompDetails(t,Qy,"agColumnHeader",a)}getHeaderGroupCompDetails(t){const a=t.columnGroup.getColGroupDef();return this.getCompDetails(a,a3,"agColumnGroupHeader",t)}getFullWidthCellRendererDetails(t){return this.getCompDetails(this.gridOptions,Ev,null,t,!0)}getFullWidthLoadingCellRendererDetails(t){return this.getCompDetails(this.gridOptions,Z1,"agLoadingCellRenderer",t,!0)}getFullWidthGroupCellRendererDetails(t){return this.getCompDetails(this.gridOptions,X1,"agGroupRowRenderer",t,!0)}getFullWidthDetailCellRendererDetails(t){return this.getCompDetails(this.gridOptions,Mv,"agDetailCellRenderer",t,!0)}getInnerRendererDetails(t,a){return this.getCompDetails(t,l3,null,a)}getFullWidthGroupRowInnerCellRenderer(t,a){return this.getCompDetails(t,l3,null,a)}getCellRendererDetails(t,a){return this.getCompDetails(t,y1,null,a)}getEditorRendererDetails(t,a){return this.getCompDetails(t,vy,null,a)}getLoadingCellRendererDetails(t,a){return this.getCompDetails(t,O2,"agSkeletonCellRenderer",a,!0)}getCellEditorDetails(t,a){return this.getCompDetails(t,s3,"agCellEditor",a,!0)}getFilterDetails(t,a,u){return this.getCompDetails(t,_v,u,a,!0)}getDateCompDetails(t){return this.getCompDetails(this.gridOptions,i3,"agDateInput",t,!0)}getLoadingOverlayCompDetails(t){return this.getCompDetails(this.gridOptions,fv,"agLoadingOverlay",t,!0)}getNoRowsOverlayCompDetails(t){return this.getCompDetails(this.gridOptions,pv,"agNoRowsOverlay",t,!0)}getTooltipCompDetails(t){return this.getCompDetails(t.colDef,Gv,"agTooltipComponent",t,!0)}getSetFilterCellRendererDetails(t,a){return this.getCompDetails(t,y1,null,a)}getFloatingFilterCompDetails(t,a,u){return this.getCompDetails(t,Jy,u,a)}getToolPanelCompDetails(t,a){return this.getCompDetails(t,u1,null,a,!0)}getStatusPanelCompDetails(t,a){return this.getCompDetails(t,x1,null,a,!0)}getMenuItemCompDetails(t,a){return this.getCompDetails(t,u3,"agMenuItem",a,!0)}getCompDetails(t,a,u,g,_=!1){const{propertyName:K,cellRenderer:rt}=a;let{compName:al,jsComp:Ql,fwComp:Gu,paramsFromSelector:Wu,popupFromSelector:id,popupPositionFromSelector:uh}=xC.getCompKeys(this.frameworkOverrides,t,a,g),Qh;const uf=Bf=>{const Kp=this.userComponentRegistry.retrieve(K,Bf);Kp&&(Ql=Kp.componentFromFramework?void 0:Kp.component,Gu=Kp.componentFromFramework?Kp.component:void 0,Qh=Kp.params)};if(al!=null&&uf(al),Ql==null&&Gu==null&&u!=null&&uf(u),Ql&&rt&&!this.agComponentUtils.doesImplementIComponent(Ql)&&(Ql=this.agComponentUtils.adaptFunction(K,Ql)),!Ql&&!Gu){_&&Et(`Could not find component ${al}, did you forget to configure this component?`);return}const tf=this.mergeParamsWithApplicationProvidedParams(t,a,g,Wu,Qh),Hf=Ql==null,Vf=Ql||Gu;return{componentFromFramework:Hf,componentClass:Vf,params:tf,type:a,popupFromSelector:id,popupPositionFromSelector:uh,newAgStackInstance:()=>this.newAgStackInstance(Vf,Hf,tf,a)}}static getCompKeys(t,a,u,g){const{propertyName:_}=u;let K,rt,al,Ql,Gu,Wu;if(a){const id=a,uh=id[_+"Selector"],Qh=uh?uh(g):null,uf=tf=>{typeof tf=="string"?K=tf:tf!=null&&tf!==!0&&(t.isFrameworkComponent(tf)?al=tf:rt=tf)};Qh?(uf(Qh.component),Ql=Qh.params,Gu=Qh.popup,Wu=Qh.popupPosition):uf(id[_])}return{compName:K,jsComp:rt,fwComp:al,paramsFromSelector:Ql,popupFromSelector:Gu,popupPositionFromSelector:Wu}}newAgStackInstance(t,a,u,g){const _=g.propertyName,K=!a;let rt;if(K)rt=new t;else{const Ql=this.componentMetadataProvider.retrieve(_);rt=this.frameworkComponentWrapper.wrap(t,Ql.mandatoryMethodList,Ql.optionalMethodList,g)}const al=this.initComponent(rt,u);return al==null?Hm.resolve(rt):al.then(()=>rt)}mergeParamsWithApplicationProvidedParams(t,a,u,g=null,_){const K=this.gos.getGridCommonParams();Pl(K,u),_&&Pl(K,_);const rt=t,al=rt&&rt[a.propertyName+"Params"];if(typeof al=="function"){const Ql=al(u);Pl(K,Ql)}else typeof al=="object"&&Pl(K,al);return Pl(K,g),K}initComponent(t,a){if(this.createBean(t),t.init!=null)return t.init(a)}};function gv(e){const t=e;return t!=null&&t.getFrameworkComponentInstance!=null?t.getFrameworkComponentInstance():e}var Wm=class tm{static register(t){tm.__register(t,!0,void 0)}static registerModules(t){tm.__registerModules(t,!0,void 0)}static __register(t,a,u){tm.runVersionChecks(t),u!==void 0?(tm.areGridScopedModules=!0,tm.gridModulesMap[u]===void 0&&(tm.gridModulesMap[u]={}),tm.gridModulesMap[u][t.moduleName]=t):tm.globalModulesMap[t.moduleName]=t,tm.setModuleBased(a)}static __unRegisterGridModules(t){delete tm.gridModulesMap[t]}static __registerModules(t,a,u){tm.setModuleBased(a),t&&t.forEach(g=>tm.__register(g,a,u))}static isValidModuleVersion(t){const[a,u]=t.version.split(".")||[],[g,_]=tm.currentModuleVersion.split(".")||[];return a===g&&u===_}static runVersionChecks(t){tm.currentModuleVersion||(tm.currentModuleVersion=t.version);const a=u=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${u} Please update all modules to the same version.`;if(t.version?tm.isValidModuleVersion(t)||Et(a(`'${t.moduleName}' is version ${t.version} but the other modules are version ${tm.currentModuleVersion}.`)):Et(a(`'${t.moduleName}' is incompatible.`)),t.validate){const u=t.validate();u.isValid||Et(`${u.message}`)}}static setModuleBased(t){tm.moduleBased===void 0?tm.moduleBased=t:tm.moduleBased!==t&&(Et("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),Et("Please see https://www.ag-grid.com/javascript-grid/modules/ for more information."))}static __setIsBundled(){tm.isBundled=!0}static __assertRegistered(t,a,u){if(this.__isRegistered(t,u))return!0;let g;if(tm.isBundled)g=`AG Grid: unable to use ${a} as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:
        
        <script src="https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js"><\/script>
        
For more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise`;else if(tm.moduleBased||tm.moduleBased===void 0){const _=Object.entries(L).find(([K,rt])=>rt===t)?.[0];g=`AG Grid: unable to use ${a} as the ${_} is not registered${tm.areGridScopedModules?` for gridId: ${u}`:""}. Check if you have registered the module:
           
    import { ModuleRegistry } from '@ag-grid-community/core';
    import { ${_} } from '${t}';
    
    ModuleRegistry.registerModules([ ${_} ]);

For more info see: https://www.ag-grid.com/javascript-grid/modules/`}else g=`AG Grid: unable to use ${a} as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:
            
    import 'ag-grid-enterprise';`;return Et(g),!1}static __isRegistered(t,a){return!!tm.globalModulesMap[t]||!!tm.gridModulesMap[a]?.[t]}static __getRegisteredModules(t){return[...qu(tm.globalModulesMap),...qu(tm.gridModulesMap[t]||{})]}static __getGridRegisteredModules(t){return qu(tm.gridModulesMap[t]??{})||[]}static __isPackageBased(){return!tm.moduleBased}};Wm.globalModulesMap={},Wm.gridModulesMap={},Wm.areGridScopedModules=!1;var ym=Wm,lm=class{constructor(e){this.beans={},this.createdBeans=[],this.destroyed=!1,!(!e||!e.beanClasses)&&(this.beanDestroyComparator=e.beanDestroyComparator,this.init(e))}init(e){Object.entries(e.providedBeanInstances).forEach(([t,a])=>{this.beans[t]=a}),e.beanClasses.forEach(t=>{const a=new t;a.beanName?this.beans[a.beanName]=a:console.error(`Bean ${t.name} is missing beanName`),this.createdBeans.push(a)}),e.derivedBeans?.forEach(t=>{const{beanName:a,bean:u}=t(this);this.beans[a]=u,this.createdBeans.push(u)}),e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(e,t){if(!e)throw Error("Can't wire to bean since it is null");return this.initBeans([e],t),e}initBeans(e,t){e.forEach(a=>{a.preWireBeans?.(this.beans),a.wireBeans?.(this.beans)}),e.forEach(a=>a.preConstruct?.()),t&&e.forEach(t),e.forEach(a=>a.postConstruct?.())}getBeans(){return this.beans}getBean(e){return this.beans[e]}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this.getBeanInstances();this.beanDestroyComparator&&e.sort(this.beanDestroyComparator),this.destroyBeans(e),this.beans={},this.createdBeans=[]}destroyBean(e){e?.destroy?.()}destroyBeans(e){if(e)for(let t=0;t<e.length;t++)this.destroyBean(e[t]);return[]}isDestroyed(){return this.destroyed}},b1=class extends lm{init(e){this.gridId=e.gridId,this.beans.context=this,super.init(e)}destroy(){super.destroy(),ym.__unRegisterGridModules(this.gridId)}getGridId(){return this.gridId}},z2=(e=>(e[e.SINGLE_SHEET=0]="SINGLE_SHEET",e[e.MULTI_SHEET=1]="MULTI_SHEET",e))(z2||{}),N2=(e=>(e[e.Up=0]="Up",e[e.Down=1]="Down",e))(N2||{}),xy=(e=>(e[e.Left=0]="Left",e[e.Right=1]="Right",e))(xy||{}),Vv=(e=>(e[e.ToolPanel=0]="ToolPanel",e[e.HeaderCell=1]="HeaderCell",e[e.RowDrag=2]="RowDrag",e[e.ChartPanel=3]="ChartPanel",e[e.AdvancedFilterBuilder=4]="AdvancedFilterBuilder",e))(Vv||{}),jv=class extends Nh{constructor(){super(...arguments),this.beanName="dragAndDropService",this.dragSourceAndParamsList=[],this.dropTargets=[]}wireBeans(e){this.ctrlsService=e.ctrlsService,this.dragService=e.dragService,this.mouseEventService=e.mouseEventService,this.environment=e.environment,this.userComponentFactory=e.userComponentFactory}addDragSource(e,t=!1){const a={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:t};this.dragSourceAndParamsList.push({params:a,dragSource:e}),this.dragService.addDragSource(a)}getDragAndDropImageComponent(){const{dragAndDropImageComp:e}=this;return!e||!e.comp?null:e.comp}removeDragSource(e){const t=this.dragSourceAndParamsList.find(a=>a.dragSource===e);t&&(this.dragService.removeDragSource(t.params),Tg(this.dragSourceAndParamsList,t))}destroy(){this.dragSourceAndParamsList.forEach(e=>this.dragService.removeDragSource(e.params)),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0,this.clearDragAndDropProperties(),super.destroy()}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(e,t){this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=this.dragSource.getDragItem(),this.dragSource.onDragStarted?.(),this.createDragAndDropImageComponent()}onDragStop(e){if(this.dragSource?.onDragStopped?.(),this.lastDropTarget?.onDragStop){const t=this.createDropTargetEvent(this.lastDropTarget,e,null,null,!1);this.lastDropTarget.onDragStop(t)}this.clearDragAndDropProperties()}onDragCancel(){this.dragSource?.onDragCancelled?.(),this.lastDropTarget?.onDragCancel&&this.lastDropTarget.onDragCancel(this.createDropTargetEvent(this.lastDropTarget,this.eventLastTime,null,null,!1)),this.clearDragAndDropProperties()}clearDragAndDropProperties(){this.eventLastTime=null,this.dragging=!1,this.lastDropTarget=void 0,this.dragItem=null,this.dragSource=null,this.removeDragAndDropImageComponent()}onDragging(e,t=!1){const a=this.getHorizontalDirection(e),u=this.getVerticalDirection(e);this.eventLastTime=e,this.positionDragAndDropImageComp(e);const g=this.dropTargets.filter(K=>this.isMouseOnDropTarget(e,K)),_=this.findCurrentDropTarget(e,g);if(_!==this.lastDropTarget){if(this.leaveLastTargetIfExists(e,a,u,t),this.lastDropTarget!==null&&_===null&&this.dragSource?.onGridExit?.(this.dragItem),this.lastDropTarget===null&&_!==null&&this.dragSource?.onGridEnter?.(this.dragItem),this.enterDragTargetIfExists(_,e,a,u,t),_&&this.dragAndDropImageComp){const{comp:K,promise:rt}=this.dragAndDropImageComp;K?K.setIcon(_.getIconName?_.getIconName():null):rt.then(al=>{al&&al.setIcon(_.getIconName?_.getIconName():null)})}this.lastDropTarget=_}else if(_&&_.onDragging){const K=this.createDropTargetEvent(_,e,a,u,t);_.onDragging(K)}}getAllContainersFromDropTarget(e){const t=e.getSecondaryContainers?e.getSecondaryContainers():null,a=[[e.getContainer()]];return t?a.concat(t):a}allContainersIntersect(e,t){for(const a of t){const{width:u,height:g,left:_,right:K,top:rt,bottom:al}=a.getBoundingClientRect();if(u===0||g===0)return!1;const Ql=e.clientX>=_&&e.clientX<K,Gu=e.clientY>=rt&&e.clientY<al;if(!Ql||!Gu)return!1}return!0}isMouseOnDropTarget(e,t){const a=this.getAllContainersFromDropTarget(t);let u=!1;for(const K of a)if(this.allContainersIntersect(e,K)){u=!0;break}const{eElement:g,type:_}=this.dragSource;return t.targetContainsSource&&!t.getContainer().contains(g)?!1:u&&t.isInterestedIn(_,g)}findCurrentDropTarget(e,t){const a=t.length;if(a===0)return null;if(a===1)return t[0];const g=L0(this.gos).elementsFromPoint(e.clientX,e.clientY);for(const _ of g)for(const K of t)if(I0(this.getAllContainersFromDropTarget(K)).indexOf(_)!==-1)return K;return null}enterDragTargetIfExists(e,t,a,u,g){if(e&&e.onDragEnter){const _=this.createDropTargetEvent(e,t,a,u,g);e.onDragEnter(_)}}leaveLastTargetIfExists(e,t,a,u){if(!this.lastDropTarget)return;if(this.lastDropTarget.onDragLeave){const _=this.createDropTargetEvent(this.lastDropTarget,e,t,a,u);this.lastDropTarget.onDragLeave(_)}const g=this.getDragAndDropImageComponent();g&&g.setIcon(null)}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(t=>t.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.filter(a=>a.external).find(a=>a.getContainer()===e.getContainer())||null}isDropZoneWithinThisGrid(e){const a=this.ctrlsService.getGridBodyCtrl().getGui(),{dropZoneTarget:u}=e;return a.contains(u)}getHorizontalDirection(e){const t=this.eventLastTime&&this.eventLastTime.clientX,a=e.clientX;return t===a?null:t>a?0:1}getVerticalDirection(e){const t=this.eventLastTime&&this.eventLastTime.clientY,a=e.clientY;return t===a?null:t>a?0:1}createDropTargetEvent(e,t,a,u,g){const _=e.getContainer(),K=_.getBoundingClientRect(),{dragItem:rt,dragSource:al}=this,Ql=t.clientX-K.left,Gu=t.clientY-K.top;return this.gos.addGridCommonParams({event:t,x:Ql,y:Gu,vDirection:u,hDirection:a,dragSource:al,fromNudge:g,dragItem:rt,dropZoneTarget:_})}positionDragAndDropImageComp(e){const t=this.getDragAndDropImageComponent();if(!t)return;const a=t.getGui(),g=a.getBoundingClientRect().height,_=X2()-2,K=Q2()-2;if(!a.offsetParent)return;const al=Uy(a.offsetParent),{clientY:Ql,clientX:Gu}=e;let Wu=Ql-al.top-g/2,id=Gu-al.left-10;const uh=Fp(this.gos),Qh=uh.defaultView||window,uf=Qh.pageYOffset||uh.documentElement.scrollTop,tf=Qh.pageXOffset||uh.documentElement.scrollLeft;_>0&&id+a.clientWidth>_+tf&&(id=_+tf-a.clientWidth),id<0&&(id=0),K>0&&Wu+a.clientHeight>K+uf&&(Wu=K+uf-a.clientHeight),Wu<0&&(Wu=0),a.style.left=`${id}px`,a.style.top=`${Wu}px`}removeDragAndDropImageComponent(){if(this.dragAndDropImageComp){const{comp:e}=this.dragAndDropImageComp;if(e){const t=e.getGui();this.dragAndDropImageParent&&this.dragAndDropImageParent.removeChild(t),this.destroyBean(e)}}this.dragAndDropImageComp=null}createDragAndDropImageComponent(){const{dragSource:e}=this;if(!e)return;const a=this.userComponentFactory.getDragAndDropImageCompDetails({dragSource:e}).newAgStackInstance();this.dragAndDropImageComp={promise:a},a.then(u=>{!u||!this.isAlive()||(this.processDragAndDropImageComponent(u),this.dragAndDropImageComp.comp=u)})}processDragAndDropImageComponent(e){const{dragSource:t,mouseEventService:a,environment:u}=this;if(!t)return;const g=e.getGui();g.style.setProperty("position","absolute"),g.style.setProperty("z-index","9999"),a.stampTopLevelGridCompWithGridInstance(g),u.applyThemeClasses(g),e.setIcon(null);let{dragItemName:_}=t;zn(_)&&(_=_()),e.setLabel(_||""),g.style.top="20px",g.style.left="20px";const K=Fp(this.gos);let rt=null,al=null;try{rt=K.fullscreenElement}catch{}finally{rt||(rt=L0(this.gos));const Ql=rt.querySelector("body");Ql?al=Ql:rt instanceof ShadowRoot?al=rt:rt instanceof Document?al=rt?.documentElement:al=rt}this.dragAndDropImageParent=al,al?al.appendChild(g):ie("Could not find document body, it is needed for drag and drop.")}},Uv=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.indexOf("x")!==-1,this.scrollVertically=e.scrollAxis.indexOf("y")!==-1,this.scrollByTick=e.scrollByTick!=null?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}check(e,t=!1){const a=t||this.shouldSkipVerticalScroll();if(a&&this.shouldSkipHorizontalScroll())return;const u=this.scrollContainer.getBoundingClientRect(),g=this.scrollByTick;this.tickLeft=e.clientX<u.left+g,this.tickRight=e.clientX>u.right-g,this.tickUp=e.clientY<u.top+g&&!a,this.tickDown=e.clientY>u.bottom-g&&!a,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;const e=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){const t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){const t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}},B2=(e=>(e[e.Above=0]="Above",e[e.Below=1]="Below",e))(B2||{}),Q1=class extends Nh{wireBeans(e){this.dragAndDropService=e.dragAndDropService,this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService,this.focusService=e.focusService,this.sortController=e.sortController,this.filterManager=e.filterManager,this.selectionService=e.selectionService,this.mouseEventService=e.mouseEventService,this.ctrlsService=e.ctrlsService,this.funcColsService=e.funcColsService,this.rangeService=e.rangeService}constructor(e){super(),this.eContainer=e}postConstruct(){Dd(this.gos)&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady(this,e=>{const t=e.gridBodyCtrl;this.autoScrollService=new Uv({scrollContainer:t.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:()=>t.getScrollFeature().getVScrollPosition().top,setVerticalPosition:a=>t.getScrollFeature().setVerticalScrollPosition(a),onScrollCallback:()=>{this.onDragging(this.lastDraggingEvent)}})})}getContainer(){return this.eContainer}isInterestedIn(e){return e===2}getIconName(){return this.gos.get("rowDragManaged")&&this.shouldPreventRowMove()?"notAllowed":"move"}shouldPreventRowMove(){return!!(this.funcColsService.getRowGroupColumns().length||this.filterManager?.isAnyFilterPresent()||this.sortController.isSortActive())}getRowNodes(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];const t=e.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){const u=[...this.selectionService.getSelectedNodes()].sort((g,_)=>g.rowIndex==null||_.rowIndex==null?0:this.getRowIndexNumber(g)-this.getRowIndexNumber(_));if(u.indexOf(t)!==-1)return u}return[t]}onDragEnter(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent("rowDragEnter",e),this.getRowNodes(e).forEach(t=>{t.setDragging(!0)}),this.onEnterOrDragging(e)}onDragging(e){this.onEnterOrDragging(e)}isFromThisGrid(e){const{dragSourceDomDataKey:t}=e.dragSource;return t===this.gos.getDomDataKey()}onEnterOrDragging(e){this.dispatchGridEvent("rowDragMove",e),this.lastDraggingEvent=e;const t=this.mouseEventService.getNormalisedPosition(e).y;this.gos.get("rowDragManaged")&&this.doManagedDrag(e,t),this.autoScrollService.check(e.event)}doManagedDrag(e,t){const a=this.isFromThisGrid(e),u=this.gos.get("rowDragManaged"),g=e.dragItem.rowNodes;u&&this.shouldPreventRowMove()||(this.gos.get("suppressMoveWhenRowDragging")||!a?this.dragAndDropService.isDropZoneWithinThisGrid(e)&&this.clientSideRowModel.highlightRowAtPixel(g[0],t):this.moveRows(g,t))}getRowIndexNumber(e){const t=e.getRowIndexString();return parseInt(Pp(t.split("-")),10)}moveRowAndClearHighlight(e){const t=this.clientSideRowModel.getLastHighlightedRowNode(),a=t&&t.highlighted===1,u=this.mouseEventService.getNormalisedPosition(e).y,g=e.dragItem.rowNodes;let _=a?1:0;if(this.isFromThisGrid(e))g.forEach(K=>{K.rowTop<u&&(_-=1)}),this.moveRows(g,u,_);else{const K=hd(this.gos);let rt=this.clientSideRowModel.getRowIndexAtPixel(u)+1;this.clientSideRowModel.getHighlightPosition(u)===0&&rt--,this.clientSideRowModel.updateRowData({add:g.filter(al=>!this.clientSideRowModel.getRowNode(K?.({data:al.data,level:0,rowPinned:al.rowPinned})??al.data.id)).map(al=>al.data),addIndex:rt})}this.clearRowHighlight()}clearRowHighlight(){this.clientSideRowModel.highlightRowAtPixel(null)}moveRows(e,t,a=0){this.clientSideRowModel.ensureRowsAtPixel(e,t,a)&&(this.focusService.clearFocusedCell(),this.rangeService?.removeAllCellRanges())}addRowDropZone(e){if(!e.getContainer()){ie("addRowDropZone - A container target needs to be provided");return}if(this.dragAndDropService.findExternalZone(e)){ie("addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");return}let t={getContainer:e.getContainer};e.fromGrid?t=e:(e.onDragEnter&&(t.onDragEnter=u=>{e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",u))}),e.onDragLeave&&(t.onDragLeave=u=>{e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",u))}),e.onDragging&&(t.onDragging=u=>{e.onDragging(this.draggingToRowDragEvent("rowDragMove",u))}),e.onDragStop&&(t.onDragStop=u=>{e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",u))}),e.onDragCancel&&(t.onDragCancel=u=>{e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",u))}));const a={isInterestedIn:u=>u===2,getIconName:()=>"move",external:!0,...t};this.dragAndDropService.addDropTarget(a),this.addDestroyFunc(()=>this.dragAndDropService.removeDropTarget(a))}getRowDropZone(e){const t=this.getContainer.bind(this),a=this.onDragEnter.bind(this),u=this.onDragLeave.bind(this),g=this.onDragging.bind(this),_=this.onDragStop.bind(this),K=this.onDragCancel.bind(this);let rt;return e?rt={getContainer:t,onDragEnter:e.onDragEnter?al=>{a(al),e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",al))}:a,onDragLeave:e.onDragLeave?al=>{u(al),e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",al))}:u,onDragging:e.onDragging?al=>{g(al),e.onDragging(this.draggingToRowDragEvent("rowDragMove",al))}:g,onDragStop:e.onDragStop?al=>{_(al),e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",al))}:_,onDragCancel:e.onDragCancel?al=>{K(al),e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",al))}:K,fromGrid:!0}:rt={getContainer:t,onDragEnter:a,onDragLeave:u,onDragging:g,onDragStop:_,onDragCancel:K,fromGrid:!0},rt}draggingToRowDragEvent(e,t){const a=this.mouseEventService.getNormalisedPosition(t).y,u=a>this.pageBoundsService.getCurrentPageHeight();let g=-1,_;u||(g=this.rowModel.getRowIndexAtPixel(a),_=this.rowModel.getRow(g));let K;switch(t.vDirection){case 1:K="down";break;case 0:K="up";break;default:K=null;break}return this.gos.addGridCommonParams({type:e,event:t.event,node:t.dragItem.rowNode,nodes:t.dragItem.rowNodes,overIndex:g,overNode:_,y:a,vDirection:K})}dispatchGridEvent(e,t){const a=this.draggingToRowDragEvent(e,t);this.eventService.dispatchEvent(a)}onDragLeave(e){this.dispatchGridEvent("rowDragLeave",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&this.clearRowHighlight()}onDragStop(e){this.dispatchGridEvent("rowDragEnd",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&(this.gos.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&this.dragAndDropService.isDropZoneWithinThisGrid(e)&&this.moveRowAndClearHighlight(e)}onDragCancel(e){this.dispatchGridEvent("rowDragCancel",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&(this.gos.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&this.dragAndDropService.isDropZoneWithinThisGrid(e)&&this.clearRowHighlight()}stopDragging(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach(t=>{t.setDragging(!1)})}},e2=class extends Nh{constructor(){super(...arguments),this.beanName="dragService",this.dragEndFunctions=[],this.dragSources=[]}wireBeans(e){this.mouseEventService=e.mouseEventService}destroy(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0,super.destroy()}removeListener(e){const t=e.dragSource.eElement,a=e.mouseDownListener;if(t.removeEventListener("mousedown",a),e.touchEnabled){const u=e.touchStartListener;t.removeEventListener("touchstart",u,{passive:!0})}}removeDragSource(e){const t=this.dragSources.find(a=>a.dragSource===e);t&&(this.removeListener(t),Tg(this.dragSources,t))}isDragging(){return this.dragging}addDragSource(e){const t=this.onMouseDown.bind(this,e),{eElement:a,includeTouch:u,stopPropagationForTouch:g}=e;a.addEventListener("mousedown",t);let _=null;const K=this.gos.get("suppressTouch");u&&!K&&(_=rt=>{f1(rt.target)||(g&&rt.stopPropagation(),this.onTouchStart(e,rt))},a.addEventListener("touchstart",_,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:t,touchStartListener:_,touchEnabled:!!u})}getStartTarget(){return this.startTarget}onTouchStart(e,t){this.currentDragParams=e,this.dragging=!1;const a=t.touches[0];this.touchLastTime=a,this.touchStart=a;const u=al=>this.onTouchMove(al,e.eElement),g=al=>this.onTouchUp(al,e.eElement),_=al=>{al.cancelable&&al.preventDefault()},K=t.target,rt=[{target:L0(this.gos),type:"touchmove",listener:_,options:{passive:!1}},{target:K,type:"touchmove",listener:u,options:{passive:!0}},{target:K,type:"touchend",listener:g,options:{passive:!0}},{target:K,type:"touchcancel",listener:g,options:{passive:!0}}];this.addTemporaryEvents(rt),e.dragStartPixels===0&&this.onCommonMove(a,this.touchStart,e.eElement)}onMouseDown(e,t){const a=t;if(e.skipMouseEvent&&e.skipMouseEvent(t)||a._alreadyProcessedByDragService||(a._alreadyProcessedByDragService=!0,t.button!==0))return;this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t,this.startTarget=t.target;const u=Ql=>this.onMouseMove(Ql,e.eElement),g=Ql=>this.onMouseUp(Ql,e.eElement),_=Ql=>Ql.preventDefault(),K=Ql=>{Ql.key===pf.ESCAPE&&this.cancelDrag(e.eElement)},rt=L0(this.gos),al=[{target:rt,type:"mousemove",listener:u},{target:rt,type:"mouseup",listener:g},{target:rt,type:"contextmenu",listener:_},{target:rt,type:"keydown",listener:K}];this.addTemporaryEvents(al),e.dragStartPixels===0&&this.onMouseMove(t,e.eElement)}addTemporaryEvents(e){e.forEach(t=>{const{target:a,type:u,listener:g,options:_}=t;a.addEventListener(u,g,_)}),this.dragEndFunctions.push(()=>{e.forEach(t=>{const{target:a,type:u,listener:g,options:_}=t;a.removeEventListener(u,g,_)})})}isEventNearStartEvent(e,t){const{dragStartPixels:a}=this.currentDragParams,u=Vu(a)?a:4;return Zy(e,t,u)}getFirstActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}onCommonMove(e,t,a){if(!this.dragging){if(this.isEventNearStartEvent(e,t))return;if(this.dragging=!0,this.eventService.dispatchEvent({type:"dragStarted",target:a}),this.currentDragParams.onDragStart(t),!this.currentDragParams){this.dragging=!1;return}this.currentDragParams.onDragging(t)}this.currentDragParams?.onDragging(e)}onTouchMove(e,t){const a=this.getFirstActiveTouch(e.touches);a&&this.onCommonMove(a,this.touchStart,t)}onMouseMove(e,t){_1()&&Fp(this.gos).getSelection()?.removeAllRanges(),this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t)}shouldPreventMouseEvent(e){const t=this.gos.get("enableCellTextSelection"),a=e.type==="mousemove";return t&&a&&e.cancelable&&this.mouseEventService.isEventFromThisGrid(e)&&!this.isOverFormFieldElement(e)}isOverFormFieldElement(e){return!!e.target?.tagName.toLocaleLowerCase()?.match("^a$|textarea|input|select|button")}onTouchUp(e,t){let a=this.getFirstActiveTouch(e.changedTouches);a||(a=this.touchLastTime),this.onUpCommon(a,t)}onMouseUp(e,t){this.onUpCommon(e,t)}onUpCommon(e,t){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventService.dispatchEvent({type:"dragStopped",target:t})),this.resetDragProperties()}cancelDrag(e){this.eventService.dispatchEvent({type:"dragCancelled",target:e}),this.currentDragParams?.onDragCancel?.(),this.resetDragProperties()}resetDragProperties(){this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(e=>e()),this.dragEndFunctions.length=0}},by=class extends bg{constructor(e,t,a,u,g,_){super(),this.cellValueFn=e,this.rowNode=t,this.column=a,this.customGui=u,this.dragStartPixels=g,this.suppressVisibilityChange=_,this.dragSource=null}wireBeans(e){this.beans=e}isCustomGui(){return this.customGui!=null}postConstruct(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(Vm("rowDrag",this.gos,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){const e=this.gos.get("rowDragManaged")?new t2(this,this.beans,this.rowNode,this.column):new Av(this,this.beans,this.rowNode,this.column);this.createManagedBean(e,this.beans.context)}}setDragElement(e,t){this.setTemplateFromElement(e,void 0,void 0,!0),this.addDragSource(t)}getSelectedNodes(){if(!this.gos.get("rowDragMultiRow"))return[this.rowNode];const t=this.beans.selectionService.getSelectedNodes();return t.indexOf(this.rowNode)!==-1?t:[this.rowNode]}checkCompatibility(){const e=this.gos.get("rowDragManaged");this.gos.get("treeData")&&e&&ie("If using row drag with tree data, you cannot have rowDragManaged=true")}getDragItem(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){const t=e.getColDef();if(t.rowDragText)return t.rowDragText}return this.gos.get("rowDragText")}addDragSource(e=4){this.dragSource&&this.removeDragSource();const t=this.getGui();this.gos.get("enableCellTextSelection")&&(this.removeMouseDownListener(),this.mouseDownListener=this.addManagedElementListeners(t,{mousedown:u=>{u?.preventDefault()}})[0]);const a=this.localeService.getLocaleTextFunc();this.dragSource={type:2,eElement:t,dragItemName:()=>{const u=this.getDragItem(),g=u.rowNodes?.length||1,_=this.getRowDragText(this.column);return _?_(u,g):g===1?this.cellValueFn():`${g} ${a("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy()}removeDragSource(){this.dragSource&&(this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}removeMouseDownListener(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=void 0)}},Wv=class extends Nh{constructor(e,t,a){super(),this.parent=e,this.rowNode=t,this.column=a}setDisplayedOrVisible(e){const t={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,t);else{let a=!0,u=!1;this.column&&(a=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),u=zn(this.column.getColDef().rowDrag)),u?(this.parent.setDisplayed(!0,t),this.parent.setVisible(a,t)):(this.parent.setDisplayed(a,t),this.parent.setVisible(!0,t))}}},Av=class extends Wv{constructor(e,t,a,u){super(e,a,u),this.beans=t}postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this));const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedListeners(this.beans.eventService,{newColumnsLoaded:e}),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const e=this.gos.get("suppressRowDrag");this.setDisplayedOrVisible(e)}},t2=class extends Wv{constructor(e,t,a,u){super(e,a,u),this.beans=t}postConstruct(){const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.beans.eventService,{sortChanged:e,filterChanged:e,columnRowGroupChanged:e,newColumnsLoaded:e}),this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const t=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),a=t&&t.shouldPreventRowMove(),u=this.gos.get("suppressRowDrag"),g=this.beans.dragAndDropService.hasExternalDropZones(),_=a&&!g||u;this.setDisplayedOrVisible(_)}},r2=new Set(["localEventService","__objectId","sticky","__autoHeights","checkAutoHeightsDebounced"]),N1=class S2{constructor(t){this.rowIndex=null,this.key=null,this.sourceRowIndex=-1,this.childrenMapped={},this.treeNode=null,this.treeNodeFlags=0,this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=S2.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=t}setData(t){this.setDataCommon(t,!1)}updateData(t){this.setDataCommon(t,!0)}setDataCommon(t,a){const u=this.data;this.data=t,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();const g=this.createDataChangedEvent(t,u,a);this.localEventService?.dispatchEvent(g)}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(t,a,u){return{type:"dataChanged",node:this,oldData:a,newData:t,update:u}}getRowIndexString(){return this.rowIndex==null?(Et("Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid."),null):this.rowPinned==="top"?S2.ID_PREFIX_TOP_PINNED+this.rowIndex:this.rowPinned==="bottom"?S2.ID_PREFIX_BOTTOM_PINNED+this.rowIndex:this.rowIndex.toString()}createDaemonNode(){const t=new S2(this.beans);return t.id=this.id,t.data=this.data,t.__daemon=!0,t.selected=this.selected,t.level=this.level,t}setDataAndId(t,a){const u=Vu(this.id)?this.createDaemonNode():null,g=this.data;this.data=t,this.updateDataOnDetailNode(),this.setId(a),this.checkRowSelectable(),this.beans.selectionService.syncInRowNode(this,u);const _=this.createDataChangedEvent(t,g,!1);this.localEventService?.dispatchEvent(_)}checkRowSelectable(){const t=ig(this.beans.gos);this.setRowSelectable(t?t(this):!0)}setRowSelectable(t,a){if(this.selectable!==t){if(this.selectable=t,this.dispatchRowEvent("selectableChanged"),a)return;if(Ep(this.beans.gos)){const g=this.calculateSelectedFromChildren();this.setSelectedParams({newValue:g??!1,source:"selectableChanged"});return}this.isSelected()&&!this.selectable&&this.setSelectedParams({newValue:!1,source:"selectableChanged"})}}setId(t){const a=hd(this.beans.gos);if(a)if(this.data){const u=this.parent?.getRoute()??[];this.id=a({data:this.data,parentKeys:u.length>0?u:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(S2.ID_PREFIX_ROW_GROUP)&&Et(`Row IDs cannot start with ${S2.ID_PREFIX_ROW_GROUP}, this is a reserved prefix for AG Grid's row grouping feature.`)}else this.id=void 0;else this.id=t}setRowTop(t){this.oldRowTop=this.rowTop,this.rowTop!==t&&(this.rowTop=t,this.dispatchRowEvent("topChanged"),this.setDisplayed(t!==null))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setHovered(t){this.hovered=t}isHovered(){return this.hovered}setMaster(t){this.master!==t&&(this.master&&!t&&(this.expanded=!1),this.master=t,this.dispatchRowEvent("masterChanged"))}setGroup(t){this.group!==t&&(this.group&&!t&&(this.expanded=!1),this.group=t,this.updateHasChildren(),this.checkRowSelectable(),this.dispatchRowEvent("groupChanged"))}setRowHeight(t,a=!1){this.rowHeight=t,this.rowHeightEstimated=a,this.dispatchRowEvent("heightChanged")}setRowAutoHeight(t,a){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[a.getId()]=t,t!=null&&(this.checkAutoHeightsDebounced==null&&(this.checkAutoHeightsDebounced=Kl(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())}checkAutoHeights(){let t=!1,a=!0,u=0;const g=this.__autoHeights;if(g==null||(this.beans.visibleColsService.getAllAutoHeightCols().forEach(rt=>{let al=g[rt.getId()];if(al==null)if(this.beans.columnModel.isColSpanActive()){let Ql=[];switch(rt.getPinned()){case"left":Ql=this.beans.visibleColsService.getLeftColsForRow(this);break;case"right":Ql=this.beans.visibleColsService.getRightColsForRow(this);break;case null:Ql=this.beans.columnViewportService.getColsWithinViewport(this);break}if(Ql.includes(rt)){t=!0;return}al=-1}else{t=!0;return}else a=!1;al>u&&(u=al)}),t)||((a||u<10)&&(u=yh(this.beans.gos,this).height),u==this.rowHeight))return;this.setRowHeight(u),this.beans.rowModel.onRowHeightChangedDebounced?.()}setExpanded(t,a,u){if(this.expanded===t)return;this.expanded=t,this.dispatchRowEvent("expandedChanged");const g={...this.createGlobalRowEvent("rowGroupOpened"),expanded:t,event:a||null};this.beans.rowNodeEventThrottle.dispatchExpanded(g,u),this.beans.rowRenderer.refreshCells({rowNodes:[this]})}createGlobalRowEvent(t){return this.beans.gos.addGridCommonParams({type:t,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned})}setDataValue(t,a,u){const _=typeof t!="string"?t:this.beans.columnModel.getCol(t)??this.beans.columnModel.getColDefCol(t),K=this.beans.valueService.getValueForDisplay(_,this);if(this.beans.gos.get("readOnlyEdit"))return this.beans.eventService.dispatchEvent({type:"cellEditRequest",event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:_,colDef:_.getColDef(),data:this.data,node:this,oldValue:K,newValue:a,value:a,source:u}),!1;const rt=this.beans.valueService.setValue(this,_,a,u);return this.dispatchCellChangedEvent(_,a,K),this.checkRowSelectable(),rt}setGroupValue(t,a){const u=this.beans.columnModel.getCol(t);Zu(this.groupData)&&(this.groupData={});const g=u.getColId(),_=this.groupData[g];_!==a&&(this.groupData[g]=a,this.dispatchCellChangedEvent(u,a,_))}setAggData(t){const a=this.aggData;if(this.aggData=t,this.localEventService){const u=g=>{const _=this.aggData?this.aggData[g]:void 0,K=a?a[g]:void 0;if(_===K)return;const rt=this.beans.columnModel.getCol(g);rt&&this.dispatchCellChangedEvent(rt,_,K)};for(const g in a)u(g);for(const g in t)(!a||!(g in a))&&u(g)}}updateHasChildren(){let t=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;if(mh(this.beans.gos)){const u=this.beans.gos.get("treeData"),g=this.beans.gos.get("isServerSideGroup");t=!this.stub&&!this.footer&&(u?!!g&&g(this.data):!!this.group)}t!==this.__hasChildren&&(this.__hasChildren=!!t,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}dispatchCellChangedEvent(t,a,u){const g={type:"cellChanged",node:this,column:t,newValue:a,oldValue:u};this.localEventService?.dispatchEvent(g)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return this.footer?!1:this.beans.columnModel.isPivotMode()?this.hasChildren()&&!this.leafGroup:this.hasChildren()||!!this.master}isSelected(){return this.footer?this.sibling.isSelected():this.selected}depthFirstSearch(t){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(a=>a.depthFirstSearch(t)),t(this)}calculateSelectedFromChildren(){let t=!1,a=!1;if(!this.childrenAfterGroup?.length)return this.selectable?this.selected:null;for(let u=0;u<this.childrenAfterGroup.length;u++){const g=this.childrenAfterGroup[u];let _=g.isSelected();if(!g.selectable){const K=g.calculateSelectedFromChildren();if(K===null)continue;_=K}switch(_){case!0:t=!0;break;case!1:a=!0;break;default:return}}if(!(t&&a))return t?!0:a?!1:this.selectable?this.selected:null}setSelectedInitialValue(t){this.selected=t}dispatchRowEvent(t){this.localEventService?.dispatchEvent({type:t,node:this})}selectThisNode(t,a,u="api"){const g=!this.selectable&&t,_=this.selected===t;if(g||_)return!1;this.selected=t,this.dispatchRowEvent("rowSelected");const K=this.sibling;return K&&K.footer&&K.localEventService&&K.dispatchRowEvent("rowSelected"),this.beans.eventService.dispatchEvent({...this.createGlobalRowEvent("rowSelected"),event:a||null,source:u}),!0}setSelected(t,a=!1,u="api"){if(typeof u=="boolean"){ie("since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.");return}this.setSelectedParams({newValue:t,clearSelection:a,rangeSelect:!1,source:u})}setSelectedParams(t){return this.rowPinned?(ie("cannot select pinned rows"),0):this.id===void 0?(ie("cannot select node until id for node is known"),0):this.beans.selectionService.setNodesSelected({...t,nodes:[this.footer?this.sibling:this]})}isRowPinned(){return!!this.rowPinned}addEventListener(t,a){this.localEventService||(this.localEventService=new y),this.beans.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.localEventService.setFrameworkOverrides(this.beans.frameworkOverrides),this.frameworkEventListenerService=new E(this.beans.frameworkOverrides));const u=this.frameworkEventListenerService?.wrap(t,a)??a;this.localEventService.addEventListener(t,u)}removeEventListener(t,a){if(!this.localEventService)return;const u=this.frameworkEventListenerService?.unwrap(t,a)??a;this.localEventService.removeEventListener(t,u),this.localEventService.noRegisteredListenersExist()&&(this.localEventService=null)}onMouseEnter(){this.dispatchRowEvent("mouseEnter")}onMouseLeave(){this.dispatchRowEvent("mouseLeave")}isFullWidthCell(){if(ie("since version v32.2.0, rowNode.isFullWidthCell() has been deprecated. Instead check `rowNode.detail` followed by the user provided `isFullWidthRow` grid option."),this.detail)return!0;const t=this.beans.gos.getCallback("isFullWidthRow");return t?t({rowNode:this}):!1}getRoute(){if(this.level===-1)return[];if(this.key==null)return;const t=[];let a=this;for(;a&&a.key!=null;)t.push(a.key),a=a.parent;return t.reverse()}createFooter(){if(this.sibling)return;const t=new S2(this.beans);Object.keys(this).forEach(a=>{r2.has(a)||(t[a]=this[a])}),t.footer=!0,t.setRowTop(null),t.setRowIndex(null),t.oldRowTop=null,t.id="rowGroupFooter_"+this.id,t.sibling=this,this.sibling=t}destroyFooter(){this.sibling&&(this.sibling.setRowTop(null),this.sibling.setRowIndex(null),this.sibling=void 0)}setFirstChild(t){this.firstChild!==t&&(this.firstChild=t,this.dispatchRowEvent("firstChildChanged"))}setLastChild(t){this.lastChild!==t&&(this.lastChild=t,this.dispatchRowEvent("lastChildChanged"))}setChildIndex(t){this.childIndex!==t&&(this.childIndex=t,this.dispatchRowEvent("childIndexChanged"))}setDisplayed(t){this.displayed!==t&&(this.displayed=t,this.dispatchRowEvent("displayedChanged"))}setDragging(t){this.dragging!==t&&(this.dragging=t,this.dispatchRowEvent("draggingChanged"))}setHighlighted(t){this.highlighted!==t&&(this.highlighted=t,this.dispatchRowEvent("rowHighlightChanged"))}setAllChildrenCount(t){this.allChildrenCount!==t&&(this.allChildrenCount=t,this.dispatchRowEvent("allChildrenCountChanged"))}setRowIndex(t){this.rowIndex!==t&&(this.rowIndex=t,this.dispatchRowEvent("rowIndexChanged"))}setUiLevel(t){this.uiLevel!==t&&(this.uiLevel=t,this.dispatchRowEvent("uiLevelChanged"))}};N1.ID_PREFIX_ROW_GROUP="row-group-",N1.ID_PREFIX_TOP_PINNED="t-",N1.ID_PREFIX_BOTTOM_PINNED="b-",N1.OBJECT_ID_SEQUENCE=0;var T1=N1,wy=class extends Nh{constructor(){super(...arguments),this.beanName="filterManager",this.advancedFilterModelUpdateQueue=[]}wireBeans(e){this.columnModel=e.columnModel,this.dataTypeService=e.dataTypeService,this.quickFilterService=e.quickFilterService,this.advancedFilterService=e.advancedFilterService,this.columnFilterService=e.columnFilterService}postConstruct(){const e=this.refreshFiltersForAggregations.bind(this),t=this.updateAdvancedFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:e,columnPivotChanged:e,columnPivotModeChanged:e,newColumnsLoaded:t,columnVisible:t,advancedFilterEnabledChanged:({enabled:a})=>this.onAdvancedFilterEnabledChanged(a),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.addManagedPropertyListener("advancedFilterModel",a=>this.setAdvancedFilterModel(a.currentValue)),this.quickFilterService&&this.addManagedListeners(this.quickFilterService,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})})}isExternalFilterPresentCallback(){const e=this.gos.getCallback("isExternalFilterPresent");return typeof e=="function"?e({}):!1}doesExternalFilterPass(e){const t=this.gos.get("doesExternalFilterPass");return typeof t=="function"?t(e):!1}setFilterModel(e,t="api"){if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}this.columnFilterService?.setFilterModel(e,t)}getFilterModel(){return this.columnFilterService?.getFilterModel()??{}}isColumnFilterPresent(){return!!this.columnFilterService?.isColumnFilterPresent()}isAggregateFilterPresent(){return!!this.columnFilterService?.isAggregateFilterPresent()}isExternalFilterPresent(){return this.externalFilterPresent}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}isAdvancedFilterPresent(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isFilterPresent()}onAdvancedFilterEnabledChanged(e){e?this.columnFilterService?.disableColumnFilters()&&this.onFilterChanged({source:"advancedFilter"}):this.advancedFilterService?.isFilterPresent()&&(this.advancedFilterService.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvancedFilterEnabled(){return!!this.advancedFilterService?.isEnabled()}isAdvancedFilterHeaderActive(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isHeaderActive()}isAnyFilterPresent(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}resetQuickFilterCache(){this.quickFilterService?.resetQuickFilterCache()}refreshFiltersForAggregations(){G0(this.gos)&&this.onFilterChanged()}onFilterChanged(e={}){const{source:t,additionalEventAttributes:a,columns:u=[]}=e;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.columnFilterService?this.columnFilterService.updateBeforeFilterChanged(e):Hm.resolve()).then(()=>{const g={source:t,type:"filterChanged",columns:u};a&&Pl(g,a),this.eventService.dispatchEvent(g),this.columnFilterService?.updateAfterFilterChanged()})}isSuppressFlashingCellsBecauseFiltering(){return!!this.columnFilterService?.isSuppressFlashingCellsBecauseFiltering()}isQuickFilterPresent(){return!!this.quickFilterService?.isQuickFilterPresent()}updateAggFiltering(){this.aggFiltering=!!G0(this.gos)}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.columnModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,filterInstanceToSkip:e})}doesRowPassAggregateFilters(e){return!(this.isAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isAggregateFilterPresent()&&!this.columnFilterService.doAggregateFiltersPass(e.rowNode,e.filterInstanceToSkip))}doesRowPassFilter(e){return!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isExternalFilterPresent()&&!this.doesExternalFilterPass(e.rowNode)||this.isColumnFilterPresent()&&!this.columnFilterService.doColumnFiltersPass(e.rowNode,e.filterInstanceToSkip)||this.isAdvancedFilterPresent()&&!this.advancedFilterService.doesFilterPass(e.rowNode))}isFilterActive(e){return!!this.columnFilterService?.isFilterActive(e)}getOrCreateFilterWrapper(e){return this.columnFilterService?.getOrCreateFilterWrapper(e)??null}getDefaultFloatingFilter(e){return this.columnFilterService.getDefaultFloatingFilter(e)}createFilterParams(e,t){return this.columnFilterService.createFilterParams(e,t)}isFilterAllowed(e){return this.isAdvancedFilterEnabled()?!1:!!this.columnFilterService?.isFilterAllowed(e)}getFloatingFilterCompDetails(e,t){return this.columnFilterService?.getFloatingFilterCompDetails(e,t)}getCurrentFloatingFilterParentModel(e){return this.columnFilterService?.getCurrentFloatingFilterParentModel(e)}destroyFilter(e,t="api"){this.columnFilterService?.destroyFilter(e,t)}areFilterCompsDifferent(e,t){return!!this.columnFilterService?.areFilterCompsDifferent(e,t)}getAdvancedFilterModel(){return this.isAdvancedFilterEnabled()?this.advancedFilterService.getModel():null}setAdvancedFilterModel(e){if(this.isAdvancedFilterEnabled()){if(this.dataTypeService?.isPendingInference()){this.advancedFilterModelUpdateQueue.push(e);return}this.advancedFilterService.setModel(e??null),this.onFilterChanged({source:"advancedFilter"})}}toggleAdvancedFilterBuilder(e,t){this.isAdvancedFilterEnabled()&&this.advancedFilterService.getCtrl().toggleFilterBuilder({source:t,force:e})}updateAdvancedFilterColumns(){this.isAdvancedFilterEnabled()&&this.advancedFilterService.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){return this.isAdvancedFilterEnabled()?!1:!!this.columnFilterService?.hasFloatingFilters()}getFilterInstance(e,t){if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}return this.columnFilterService?.getFilterInstance(e,t)}getColumnFilterInstance(e){return this.isAdvancedFilterEnabled()?(this.warnAdvancedFilters(),Promise.resolve(void 0)):this.columnFilterService?.getColumnFilterInstance(e)??Promise.resolve(void 0)}warnAdvancedFilters(){ie("Column Filter API methods have been disabled as Advanced Filters are enabled.")}setupAdvancedFilterHeaderComp(e){this.advancedFilterService?.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvancedFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvancedFilterHeaderActive()?this.advancedFilterService.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.advancedFilterModelUpdateQueue.forEach(e=>this.setAdvancedFilterModel(e)),this.advancedFilterModelUpdateQueue=[]}getColumnFilterModel(e){return this.columnFilterService?.getColumnFilterModel(e)}setColumnFilterModel(e,t){return this.isAdvancedFilterEnabled()?(this.warnAdvancedFilters(),Promise.resolve()):this.columnFilterService?.setColumnFilterModel(e,t)??Promise.resolve()}setColDefPropertiesForDataType(e,t,a){this.columnFilterService?.setColDefPropertiesForDataType(e,t,a)}},Cy=class extends bg{constructor(e,t){super('<div class="ag-filter"></div>'),this.column=e,this.source=t,this.filterWrapper=null}wireBeans(e){this.filterManager=e.filterManager,this.columnModel=e.columnModel}postConstruct(){this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return!!this.filterWrapper}getFilter(){return this.filterWrapper?.filterPromise??null}afterInit(){return this.filterWrapper?.filterPromise?.then(()=>{})??Hm.resolve()}afterGuiAttached(e){this.filterWrapper?.filterPromise?.then(t=>{t?.afterGuiAttached?.(e)})}afterGuiDetached(){this.filterWrapper?.filterPromise?.then(e=>{e?.afterGuiDetached?.()})}createFilter(e){const{column:t,source:a}=this;this.filterWrapper=this.filterManager?.getOrCreateFilterWrapper(t)??null,this.filterWrapper?.filterPromise&&this.filterWrapper.filterPromise.then(u=>{const g=u.getGui();Vu(g)||ie(`getGui method from filter returned ${g}; it should be a DOM element.`),this.appendChild(g),e&&this.eventService.dispatchEvent({type:"filterOpened",column:t,source:a,eGui:this.getGui()})})}onFilterDestroyed(e){(e.source==="api"||e.source==="paramsUpdated")&&e.column.getId()===this.column.getId()&&this.columnModel.getColDefCol(this.column)&&(Dm(this.getGui()),this.createFilter())}destroy(){this.filterWrapper=null,super.destroy()}},Tv="ag-resizer-wrapper",B1=(e,t)=>`<div data-ref="${e}Resizer" class="ag-resizer ag-resizer-${t}"></div>`,n2=`<div class="${Tv}">
        ${B1("eTopLeft","topLeft")}
        ${B1("eTop","top")}
        ${B1("eTopRight","topRight")}
        ${B1("eRight","right")}
        ${B1("eBottomRight","bottomRight")}
        ${B1("eBottom","bottom")}
        ${B1("eBottomLeft","bottomLeft")}
        ${B1("eLeft","left")}
    </div>`,i2=class extends Nh{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},t)}wireBeans(e){this.popupService=e.popupService,this.resizeObserverService=e.resizeObserverService,this.dragService=e.dragService}center(){const{clientHeight:e,clientWidth:t}=this.offsetParent,a=t/2-this.getWidth()/2,u=e/2-this.getHeight()/2;this.offsetElement(a,u)}initialisePosition(){if(this.positioned)return;const{centered:e,forcePopupParentAsOffsetParent:t,minWidth:a,width:u,minHeight:g,height:_,x:K,y:rt}=this.config;this.offsetParent||this.setOffsetParent();let al=0,Ql=0;const Gu=Nm(this.element);if(Gu){const Wu=this.findBoundaryElement(),id=window.getComputedStyle(Wu);if(id.minWidth!=null){const uh=Wu.offsetWidth-this.element.offsetWidth;Ql=parseInt(id.minWidth,10)-uh}if(id.minHeight!=null){const uh=Wu.offsetHeight-this.element.offsetHeight;al=parseInt(id.minHeight,10)-uh}}if(this.minHeight=g||al,this.minWidth=a||Ql,u&&this.setWidth(u),_&&this.setHeight(_),(!u||!_)&&this.refreshSize(),e)this.center();else if(K||rt)this.offsetElement(K,rt);else if(Gu&&t){let Wu=this.boundaryEl,id=!0;if(Wu||(Wu=this.findBoundaryElement(),id=!1),Wu){const uh=parseFloat(Wu.style.top),Qh=parseFloat(Wu.style.left);id?this.offsetElement(isNaN(Qh)?0:Qh,isNaN(uh)?0:uh):this.setPosition(Qh,uh)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){if(!this.config.popup||e===this.movable)return;this.movable=e;const a=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragService.addDragSource(a),this.moveElementDragListener=a):(this.dragService.removeDragSource(a),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(t=>{const u=!!e[t],g=this.getResizerElement(t),_={dragStartPixels:0,eElement:g,onDragStart:K=>this.onResizeStart(K,t),onDragging:this.onResize.bind(this),onDragStop:K=>this.onResizeEnd(K,t)};(u||!this.isAlive()&&!u)&&(u?(this.dragService.addDragSource(_),this.resizeListeners.push(_),g.style.pointerEvents="all"):g.style.pointerEvents="none",this.resizable[t]=u)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:e,width:t}=this.lastSize;t!==-1&&(this.element.style.width=`${t}px`),e!==-1&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){const{popup:t}=this.config,a=this.element;let u=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)Cv(a,e),e=Pv(a),u=!0;else if(e=Math.max(this.minHeight,e),this.positioned){const g=this.getAvailableHeight();g&&e>g&&(e=g)}this.getHeight()!==e&&(u?(a.style.maxHeight="unset",a.style.minHeight="unset"):t?Cv(a,e):(a.style.height=`${e}px`,a.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:parseFloat(e)))}getAvailableHeight(){const{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();const{clientHeight:a}=this.offsetParent;if(!a)return null;const u=this.element.getBoundingClientRect(),g=this.offsetParent.getBoundingClientRect(),_=e?this.position.y:u.top,K=e?0:g.top;let rt=0;if(t){const Ql=this.element.parentElement;if(Ql){const{bottom:Gu}=Ql.getBoundingClientRect();rt=Gu-u.bottom}}return a+K-_-rt}getWidth(){return this.element.offsetWidth}setWidth(e){const t=this.element,{popup:a}=this.config;let u=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)s1(t,e),e=L1(t),u=!0;else if(this.positioned){e=Math.max(this.minWidth,e);const{clientWidth:g}=this.offsetParent,_=a?this.position.x:this.element.getBoundingClientRect().left;g&&e+_>g&&(e=g-_)}this.getWidth()!==e&&(u?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?s1(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:parseFloat(e)))}offsetElement(e=0,t=0){const{forcePopupParentAsOffsetParent:a}=this.config,u=a?this.boundaryEl:this.element;u&&(this.popupService.positionPopup({ePopup:u,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t})}),this.setPosition(parseFloat(u.style.left),parseFloat(u.style.top)))}constrainSizeToAvailableHeight(e){if(!this.config.forcePopupParentAsOffsetParent)return;const t=()=>{const a=this.getAvailableHeight();this.element.style.setProperty("max-height",`${a}px`)};e?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),t):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){const{e:t,isLeft:a,isTop:u,anywhereWithin:g,topBuffer:_}=e,K=t.clientX-this.dragStartPosition.x,rt=t.clientY-this.dragStartPosition.y,al=this.shouldSkipX(t,!!a,!!g,K)?0:K,Ql=this.shouldSkipY(t,!!u,_,rt)?0:rt;return{movementX:al,movementY:Ql}}shouldSkipX(e,t,a,u){const g=this.element.getBoundingClientRect(),_=this.offsetParent.getBoundingClientRect(),K=this.boundaryEl.getBoundingClientRect(),rt=this.config.popup?this.position.x:g.left;let al=rt<=0&&_.left>=e.clientX||_.right<=e.clientX&&_.right<=K.right;return al?!0:(t?al=u<0&&e.clientX>rt+_.left||u>0&&e.clientX<rt+_.left:a?al=u<0&&e.clientX>K.right||u>0&&e.clientX<rt+_.left:al=u<0&&e.clientX>K.right||u>0&&e.clientX<K.right,al)}shouldSkipY(e,t,a=0,u){const g=this.element.getBoundingClientRect(),_=this.offsetParent.getBoundingClientRect(),K=this.boundaryEl.getBoundingClientRect(),rt=this.config.popup?this.position.y:g.top;let al=rt<=0&&_.top>=e.clientY||_.bottom<=e.clientY&&_.bottom<=K.bottom;return al?!0:(t?al=u<0&&e.clientY>rt+_.top+a||u>0&&e.clientY<rt+_.top:al=u<0&&e.clientY>K.bottom||u>0&&e.clientY<K.bottom,al)}createResizeMap(){const e=this.element;this.resizerMap={topLeft:{element:e.querySelector("[data-ref=eTopLeftResizer]")},top:{element:e.querySelector("[data-ref=eTopResizer]")},topRight:{element:e.querySelector("[data-ref=eTopRightResizer]")},right:{element:e.querySelector("[data-ref=eRightResizer]")},bottomRight:{element:e.querySelector("[data-ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[data-ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[data-ref=eBottomLeftResizer]")},left:{element:e.querySelector("[data-ref=eLeftResizer]")}}}addResizers(){if(this.resizersAdded)return;const e=this.element;if(!e)return;const a=new DOMParser().parseFromString(n2,"text/html").body;e.appendChild(a.firstChild),this.createResizeMap(),this.resizersAdded=!0}removeResizers(){this.resizerMap=void 0;const e=this.element.querySelector(`.${Tv}`);e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");const{popup:a,forcePopupParentAsOffsetParent:u}=this.config;!a&&!u&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){const t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter(a=>!a.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){const e=this.getSiblings()||[];let t=0,a=0;for(let u=0;u<e.length;u++){const g=e[u],_=!!g.style.flex&&g.style.flex!=="0 0 auto";if(g===this.element)continue;let K=this.minHeight||0,rt=this.minWidth||0;if(_){const al=window.getComputedStyle(g);al.minHeight&&(K=parseInt(al.minHeight,10)),al.minWidth&&(rt=parseInt(al.minWidth,10))}else K=g.offsetHeight,rt=g.offsetWidth;t+=K,a+=rt}return{height:t,width:a}}applySizeToSiblings(e){let t=null;const a=this.getSiblings();if(a){for(let u=0;u<a.length;u++){const g=a[u];g!==t&&(e?g.style.height=`${g.offsetHeight}px`:g.style.width=`${g.offsetWidth}px`,g.style.flex="0 0 auto",g===this.element&&(t=a[u+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;const{popup:t,forcePopupParentAsOffsetParent:a}=this.config,{isTop:u,isRight:g,isBottom:_,isLeft:K}=this.currentResizer,rt=g||K,al=_||u,{movementX:Ql,movementY:Gu}=this.calculateMouseMovement({e,isLeft:K,isTop:u}),Wu=this.position.x,id=this.position.y;let uh=0,Qh=0;if(rt&&Ql){const uf=K?-1:1,tf=this.getWidth(),Hf=tf+Ql*uf;let Vf=!1;K&&(uh=tf-Hf,(Wu+uh<=0||Hf<=this.minWidth)&&(Vf=!0,uh=0)),Vf||this.setWidth(Hf)}if(al&&Gu){const uf=u?-1:1,tf=this.getHeight(),Hf=tf+Gu*uf;let Vf=!1;u?(Qh=tf-Hf,(id+Qh<=0||Hf<=this.minHeight)&&(Vf=!0,Qh=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&tf<Hf&&this.getMinSizeOfSiblings().height+Hf>this.element.parentElement.offsetHeight&&(Vf=!0),Vf||this.setHeight(Hf)}this.updateDragStartPosition(e.clientX,e.clientY),((t||a)&&uh||Qh)&&this.offsetElement(Wu+uh,id+Qh)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){const e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;const{x:t,y:a}=this.position;let u;this.config.calculateTopBuffer&&(u=this.config.calculateTopBuffer());const{movementX:g,movementY:_}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:u});this.offsetElement(t+g,a+_),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent?this.offsetParent=this.popupService.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){const e=this.resizeListeners.pop();this.dragService.removeDragSource(e)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},Sy=class bC extends Nh{constructor(t,a={}){super(),this.eFocusableElement=t,this.callbacks=a,this.callbacks={shouldStopEventPropagation:()=>!1,onTabKeyDown:u=>{if(u.defaultPrevented)return;const g=this.focusService.findNextFocusableElement(this.eFocusableElement,!1,u.shiftKey);g&&(g.focus(),u.preventDefault())},...a}}wireBeans(t){this.focusService=t.focusService}postConstruct(){this.eFocusableElement.classList.add(bC.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedElementListeners(this.eFocusableElement,{focusin:this.callbacks.onFocusIn}),this.callbacks.onFocusOut&&this.addManagedElementListeners(this.eFocusableElement,{focusout:this.callbacks.onFocusOut})}addKeyDownListeners(t){this.addManagedElementListeners(t,{keydown:a=>{if(!(a.defaultPrevented||_h(a))){if(this.callbacks.shouldStopEventPropagation(a)){Ih(a);return}a.key===pf.TAB?this.callbacks.onTabKeyDown(a):this.callbacks.handleKeyDown&&this.callbacks.handleKeyDown(a)}}})}};Sy.FOCUS_MANAGED_CLASS="ag-focus-managed";var c1=Sy,n1={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"};function J1(e,t){return $v(e)?(e.debounceMs!=null&&ie("debounceMs is ignored when apply button is present"),0):e.debounceMs!=null?e.debounceMs:t}function $v(e){return!!e.buttons&&e.buttons.indexOf("apply")>=0}var H2=class extends bg{constructor(e){super(),this.filterNameKey=e,this.applyActive=!1,this.hidePopup=null,this.debouncePending=!1,this.appliedModel=null,this.eFilterBody=Dp,this.buttonListeners=[]}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.resetTemplate(),this.createManagedBean(new c1(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new i2(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)}handleKeyDown(e){}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return!!this.appliedModel}resetTemplate(e){let t=this.getGui();t&&t.removeEventListener("submit",this.onFormSubmit);const a=`
            <form class="ag-filter-wrapper">
                <div class="ag-filter-body-wrapper ag-${this.getCssIdentifier()}-body-wrapper" data-ref="eFilterBody">
                    ${this.createBodyTemplate()}
                </div>
            </form>`;this.setTemplate(a,this.getAgComponents(),e),t=this.getGui(),t&&t.addEventListener("submit",this.onFormSubmit)}isReadOnly(){return!!this.providedFilterParams.readOnly}init(e){this.setParams(e),this.resetUiToDefaults(!0).then(()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}setParams(e){this.providedFilterParams=e,this.applyActive=$v(e),this.resetButtonsPanel(e)}updateParams(e){this.providedFilterParams=e,this.applyActive=$v(e),this.resetUiToActiveModel(this.getModel(),()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}resetButtonsPanel(e,t){const{buttons:a,readOnly:u}=t??{},{buttons:g,readOnly:_}=e;if(u===_&&jd(a,g))return;const K=g&&g.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(Dm(this.eButtonsPanel),this.buttonListeners.forEach(Ql=>Ql()),this.buttonListeners=[]):K&&(this.eButtonsPanel=document.createElement("div"),this.eButtonsPanel.classList.add("ag-filter-apply-panel")),!K){this.eButtonsPanel&&m1(this.eButtonsPanel);return}const rt=document.createDocumentFragment(),al=Ql=>{let Gu,Wu;switch(Ql){case"apply":Gu=this.translate("applyFilter"),Wu=Qh=>this.onBtApply(!1,!1,Qh);break;case"clear":Gu=this.translate("clearFilter"),Wu=()=>this.onBtClear();break;case"reset":Gu=this.translate("resetFilter"),Wu=()=>this.onBtReset();break;case"cancel":Gu=this.translate("cancelFilter"),Wu=Qh=>{this.onBtCancel(Qh)};break;default:ie("Unknown button type specified");return}const uh=uv(`<button
                    type="${Ql==="apply"?"submit":"button"}"
                    data-ref="${Ql}FilterButton"
                    class="ag-button ag-standard-button ag-filter-apply-panel-button"
                >${Gu}
                </button>`);this.buttonListeners.push(...this.addManagedElementListeners(uh,{click:Wu})),rt.append(uh)};g.forEach(Ql=>al(Ql)),this.eButtonsPanel.append(rt),this.getGui().appendChild(this.eButtonsPanel)}getDefaultDebounceMs(){return 0}setupOnBtApplyDebounce(){const e=J1(this.providedFilterParams,this.getDefaultDebounceMs()),t=Kl(this.checkApplyDebounce.bind(this),e);this.onBtApplyDebounce=()=>{this.debouncePending=!0,t()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())}getModel(){return this.appliedModel?this.appliedModel:null}setModel(e){return(e!=null?this.setModelIntoUi(e):this.resetUiToDefaults()).then(()=>{this.updateUiVisibility(),this.applyModel("api")})}onBtCancel(e){this.resetUiToActiveModel(this.getModel(),()=>{this.handleCancelEnd(e)})}handleCancelEnd(e){this.providedFilterParams.closeOnApply&&this.close(e)}resetUiToActiveModel(e,t){const a=()=>{this.onUiChanged(!1,"prevent"),t?.()};e!=null?this.setModelIntoUi(e).then(a):this.resetUiToDefaults().then(a)}onBtClear(){this.resetUiToDefaults().then(()=>this.onUiChanged())}onBtReset(){this.onBtClear(),this.onBtApply()}applyModel(e="api"){const t=this.getModelFromUi();if(!this.isModelValid(t))return!1;const a=this.appliedModel;return this.appliedModel=t,!this.areModelsEqual(a,t)}isModelValid(e){return!0}onFormSubmit(e){e.preventDefault()}onBtApply(e=!1,t=!1,a){a&&a.preventDefault(),this.applyModel(t?"rowDataUpdated":"ui")&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:e,afterDataChange:t,source:"columnFilter"});const{closeOnApply:u}=this.providedFilterParams;u&&this.applyActive&&!e&&!t&&this.close(a)}onNewRowsLoaded(){}close(e){if(!this.hidePopup)return;const t=e,a=t&&t.key;let u;(a==="Enter"||a==="Space")&&(u={keyboardEvent:t}),this.hidePopup(u),this.hidePopup=null}onUiChanged(e=!1,t){if(this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){const a=this.isModelValid(this.getModelFromUi()),u=this.queryForHtmlElement('[data-ref="applyFilterButton"]');u&&p1(u,!a)}e&&!t||t==="immediately"?this.onBtApply(e):(!this.applyActive&&!t||t==="debounce")&&this.onBtApplyDebounce()}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup),this.refreshFilterResizer(e?.container)}refreshFilterResizer(e){if(!this.positionableFeature||e==="toolPanel")return;const t=e==="floatingFilter"||e==="columnFilter",{positionableFeature:a,gos:u}=this;t?(a.restoreLastSize(),a.setResizable(u.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)}refresh(e){const t=this.providedFilterParams;return this.providedFilterParams=e,this.resetButtonsPanel(e,t),!0}destroy(){const e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),this.appliedModel=null,super.destroy()}translate(e){return this.localeService.getLocaleTextFunc()(e,n1[e])}getCellValue(e){return this.providedFilterParams.getValue(e)}getPositionableElement(){return this.eFilterBody}},H1=class extends A1{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(e){e.selected&&e.name&&this.eInput.name&&this.eInput.name===e.name&&e.id&&this.eInput.id!==e.id&&this.setValue(!1,!0)}},mv=class extends bg{constructor(e="default",t=!1){super(`<div class="ag-list ag-${e}-list" role="listbox"></div>`),this.cssIdentifier=e,this.unFocusable=t,this.activeClass="ag-active-item",this.options=[],this.itemEls=[]}postConstruct(){const e=this.getGui();this.addManagedElementListeners(e,{mouseleave:()=>this.clearHighlighted()}),!this.unFocusable&&this.addManagedElementListeners(e,{keydown:this.handleKeyDown.bind(this)})}handleKeyDown(e){const t=e.key;switch(t){case pf.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{const a=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(a)}break;case pf.DOWN:case pf.UP:e.preventDefault(),this.navigate(t);break;case pf.PAGE_DOWN:case pf.PAGE_UP:case pf.PAGE_HOME:case pf.PAGE_END:e.preventDefault(),this.navigateToPage(t);break}}navigate(e){const t=e===pf.DOWN;let a;if(!this.highlightedEl)a=this.itemEls[t?0:this.itemEls.length-1];else{let g=this.itemEls.indexOf(this.highlightedEl)+(t?1:-1);g=Math.min(Math.max(g,0),this.itemEls.length-1),a=this.itemEls[g]}this.highlightItem(a)}navigateToPage(e){if(!this.highlightedEl||this.itemEls.length===0)return;const t=this.itemEls.indexOf(this.highlightedEl),a=this.options.length-1,u=this.itemEls[0].clientHeight,g=Math.floor(this.getGui().clientHeight/u);let _=-1;e===pf.PAGE_HOME?_=0:e===pf.PAGE_END?_=a:e===pf.PAGE_DOWN?_=Math.min(t+g,a):e===pf.PAGE_UP&&(_=Math.max(t-g,0)),_!==-1&&this.highlightItem(this.itemEls[_])}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){const{value:t,text:a}=e,u=a||t;return this.options.push({value:t,text:u}),this.renderOption(t,u),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach(e=>{m1(e)}),this.itemEls=[]}updateIndices(){const e=this.getGui().querySelectorAll(".ag-list-item");e.forEach((t,a)=>{Up(t,a+1),O0(t,e.length)})}renderOption(e,t){const a=Fp(this.gos),u=a.createElement("div");w0(u,"option"),u.classList.add("ag-list-item",`ag-${this.cssIdentifier}-list-item`);const g=a.createElement("span");u.appendChild(g),g.textContent=t,this.unFocusable||(u.tabIndex=-1),this.itemEls.push(u),this.addManagedListeners(u,{mouseover:()=>this.highlightItem(u),mousedown:_=>{_.preventDefault(),_.stopPropagation(),this.setValue(e)}}),this.createManagedBean(new e1({getTooltipValue:()=>t,getGui:()=>u,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>g.scrollWidth>g.clientWidth})),this.getGui().appendChild(u)}setValue(e,t){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(t),this;const a=this.options.findIndex(u=>u.value===e);if(a!==-1){const u=this.options[a];this.value=u.value,this.displayValue=u.text,this.highlightItem(this.itemEls[a]),t||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const e=this.options.findIndex(t=>t.value===this.value);e!==-1&&this.highlightItem(this.itemEls[e])}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}highlightItem(e){if(!Nm(e))return;this.clearHighlighted(),this.highlightedEl=e,this.highlightedEl.classList.add(this.activeClass),fg(this.highlightedEl,!0);const t=this.getGui(),{scrollTop:a,clientHeight:u}=t,{offsetTop:g,offsetHeight:_}=e;(g+_>a+u||g<a)&&this.highlightedEl.scrollIntoView({block:"nearest"}),this.unFocusable||this.highlightedEl.focus()}clearHighlighted(){!this.highlightedEl||!Nm(this.highlightedEl)||(this.highlightedEl.classList.remove(this.activeClass),fg(this.highlightedEl,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"})}},o2=class extends L2{constructor(e){if(super(e,e?.template||`
            <div class="ag-picker-field" role="presentation">
                <div data-ref="eLabel"></div>
                <div data-ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">
                    <div data-ref="eDisplayField" class="ag-picker-field-display"></div>
                    <div data-ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
                </div>
            </div>`,e?.agComponents||[],e?.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=Dp,this.eWrapper=Dp,this.eDisplayField=Dp,this.eIcon=Dp,this.ariaRole=e?.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;const{pickerGap:t,maxPickerHeight:a,variableWidth:u,minPickerWidth:g,maxPickerWidth:_}=e;t!=null&&(this.pickerGap=t),this.variableWidth=!!u,a!=null&&this.setPickerMaxHeight(a),g!=null&&this.setPickerMinWidth(g),_!=null&&this.setPickerMaxWidth(_)}wireBeans(e){this.popupService=e.popupService}postConstruct(){super.postConstruct(),this.setupAria();const e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);const t=this.getAriaElement();this.addManagedElementListeners(t,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});const{pickerIcon:a,inputWidth:u}=this.config;if(a){const g=Vm(a,this.gos);g&&this.eIcon.appendChild(g)}u!=null&&this.setInputWidth(u)}setupAria(){const e=this.getAriaElement();e.setAttribute("tabindex",this.gos.get("tabIndex").toString()),Fh(e,!1),this.ariaRole&&w0(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){const t=this.getFocusableElement();if(t!==this.eWrapper&&e?.target===t)return;e.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case pf.UP:case pf.DOWN:case pf.ENTER:case pf.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case pf.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const e=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));const t=this.localeService.getLocaleTextFunc(),{pickerAriaLabelKey:a,pickerAriaLabelValue:u,modalPicker:g=!0}=this.config,_={modal:g,eChild:e,closeOnEsc:!0,closedCallback:()=>{const id=E0(this.gos);this.beforeHidePicker(),id&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:t(a,u),anchorToElement:this.eWrapper};e.style.position="absolute";const K=this.popupService.addPopup(_),{maxPickerHeight:rt,minPickerWidth:al,maxPickerWidth:Ql,variableWidth:Gu}=this;Gu?(al&&(e.style.minWidth=al),e.style.width=Dv(L1(this.eWrapper)),Ql&&(e.style.maxWidth=Ql)):ry(e,Ql??L1(this.eWrapper));const Wu=rt??`${jy(this.popupService.getPopupParent())}px`;return e.style.setProperty("max-height",Wu),this.alignPickerToComponent(),K.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;const{pickerType:e}=this.config,{pickerGap:t}=this,a=this.gos.get("enableRtl")?"right":"left";this.popupService.positionPopupByComponent({type:e,eventSource:this.eWrapper,ePopup:this.pickerComponent.getGui(),position:"under",alignSide:a,keepWithinBounds:!0,nudgeY:t})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;const t=this.getAriaElement();Fh(t,e),this.eWrapper.classList.toggle("ag-picker-expanded",e),this.eWrapper.classList.toggle("ag-picker-collapsed",!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){this.pickerComponent?.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){this.hideCurrentPicker&&this.hideCurrentPicker()}setInputWidth(e){return ry(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return typeof e=="number"&&(e=`${e}px`),this.minPickerWidth=e??void 0,this}setPickerMaxWidth(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerWidth=e??void 0,this}setPickerMaxHeight(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerHeight=e??void 0,this}destroy(){this.hidePicker(),super.destroy()}},Sm=class extends o2{constructor(e){super({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"smallDown",ariaRole:"combobox",...e})}postConstruct(){super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");const{options:e,value:t,placeholder:a}=this.config;e!=null&&this.addOptions(e),t!=null&&this.setValue(t,!0),a&&t==null&&(this.eDisplayField.textContent=a),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){this.listComponent=this.createBean(new mv("select",!0)),this.listComponent.setParentComponent(this);const e=this.listComponent.getAriaElement(),t=`ag-select-list-${this.listComponent.getCompId()}`;e.setAttribute("id",t),xg(this.getAriaElement(),e),this.listComponent.addManagedListeners(this.listComponent,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:"selectedItem"})}}),this.listComponent.addManagedListeners(this.listComponent,{fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}onKeyDown(e){const{key:t}=e;switch(t===pf.TAB&&this.hidePicker(),t){case pf.ENTER:case pf.UP:case pf.DOWN:case pf.PAGE_UP:case pf.PAGE_DOWN:case pf.PAGE_HOME:case pf.PAGE_END:e.preventDefault(),this.isPickerDisplayed?this.listComponent?.handleKeyDown(e):super.onKeyDown(e);break;case pf.ESCAPE:super.onKeyDown(e);break;case pf.SPACE:this.isPickerDisplayed?e.preventDefault():super.onKeyDown(e);break}}showPicker(){this.listComponent&&(super.showPicker(),this.listComponent.refreshHighlighted())}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){return this.listComponent?.clearOptions(),this}setValue(e,t,a){if(this.value===e||!this.listComponent)return this;if(a||this.listComponent.setValue(e,!0),this.listComponent.getValue()===this.getValue())return this;let g=this.listComponent.getDisplayValue();return g==null&&this.config.placeholder&&(g=this.config.placeholder),this.eDisplayField.textContent=g,this.setTooltip({newTooltipText:g??null,shouldDisplayTooltip:()=>this.eDisplayField.scrollWidth>this.eDisplayField.clientWidth}),super.setValue(e,t)}destroy(){this.listComponent&&(this.listComponent=this.destroyBean(this.listComponent)),super.destroy()}},um={selector:"AG-SELECT",component:Sm},ev=class{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions||t,this.mapCustomOptions(),this.selectDefaultItem(e)}getFilterOptions(){return this.filterOptions}mapCustomOptions(){this.filterOptions&&this.filterOptions.forEach(e=>{if(typeof e=="string")return;const t=[["displayKey"],["displayName"],["predicate","test"]],a=u=>u.some(g=>e[g]!=null)?!0:(ie(`ignoring FilterOptionDef as it doesn't contain one of '${u}'`),!1);if(!t.every(a)){this.filterOptions=this.filterOptions.filter(u=>u===e)||[];return}this.customFilterOptions[e.displayKey]=e})}selectDefaultItem(e){if(e.defaultOption)this.defaultOption=e.defaultOption;else if(this.filterOptions.length>=1){const t=this.filterOptions[0];typeof t=="string"?this.defaultOption=t:t.displayKey?this.defaultOption=t.displayKey:ie("invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else ie("no filter options for filter")}getDefaultOption(){return this.defaultOption}getCustomOption(e){return this.customFilterOptions[e]}},qv=class extends H2{constructor(){super(...arguments),this.eTypes=[],this.eJoinOperatorPanels=[],this.eJoinOperatorsAnd=[],this.eJoinOperatorsOr=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}getNumberOfInputs(e){const t=this.optionsFactory.getCustomOption(e);if(t){const{numberOfInputs:u}=t;return u??1}return e&&["empty","notBlank","blank"].indexOf(e)>=0?0:e==="inRange"?2:1}onFloatingFilterChanged(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged(!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((t,a)=>{a===0?t.setValue(e,!0):t.setValue(this.optionsFactory.getDefaultOption(),!0)})}getModelFromUi(){const e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){return this.eJoinOperatorsOr.length===0?this.defaultJoinOperator:this.eJoinOperatorsOr[0].getValue()===!0?"OR":"AND"}areModelsEqual(e,t){if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;const a=!e.operator,u=!t.operator;if(!a&&u||a&&!u)return!1;let _;if(a){const K=e,rt=t;_=this.areSimpleModelsEqual(K,rt)}else{const K=e,rt=t;_=K.operator===rt.operator&&Xg(K.conditions,rt.conditions,(al,Ql)=>this.areSimpleModelsEqual(al,Ql))}return _}shouldRefresh(e){const t=this.getModel(),a=t?t.conditions??[t]:null,u=e.filterOptions?.map(_=>typeof _=="string"?_:_.displayKey)??this.getDefaultFilterOptions();return!(!(!a||a.every(_=>u.find(K=>K===_.type)!==void 0))||typeof e.maxNumConditions=="number"&&a&&a.length>e.maxNumConditions)}refresh(e){return!this.shouldRefresh(e)||!super.refresh(e)?!1:(this.setParams(e),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),!0)}setModelIntoUi(e){if(e.operator){const a=e;let u=a.conditions;u==null&&(u=[],ie("Filter model is missing 'conditions'"));const g=this.validateAndUpdateConditions(u),_=this.getNumConditions();if(g<_)this.removeConditionsAndOperators(g);else if(g>_)for(let rt=_;rt<g;rt++)this.createJoinOperatorPanel(),this.createOption();const K=a.operator==="OR";this.eJoinOperatorsAnd.forEach(rt=>rt.setValue(!K,!0)),this.eJoinOperatorsOr.forEach(rt=>rt.setValue(K,!0)),u.forEach((rt,al)=>{this.eTypes[al].setValue(rt.type,!0),this.setConditionIntoUi(rt,al)})}else{const a=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(a.type,!0),this.setConditionIntoUi(a,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),Hm.resolve()}validateAndUpdateConditions(e){let t=e.length;return t>this.maxNumConditions&&(e.splice(this.maxNumConditions),ie('Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.'),t=this.maxNumConditions),t}doesFilterPass(e){const t=this.getModel();if(t==null)return!0;const{operator:a}=t,u=[];if(a){const _=t;u.push(..._.conditions??[])}else u.push(t);return u[a&&a==="OR"?"some":"every"](_=>this.individualConditionPasses(e,_))}setParams(e){super.setParams(e),this.setNumConditions(e),this.defaultJoinOperator=this.getDefaultJoinOperator(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.optionsFactory=new ev,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")}setNumConditions(e){this.maxNumConditions=e.maxNumConditions??2,this.maxNumConditions<1&&(ie('"filterParams.maxNumConditions" must be greater than or equal to zero.'),this.maxNumConditions=1),this.numAlwaysVisibleConditions=e.numAlwaysVisibleConditions??1,this.numAlwaysVisibleConditions<1&&(ie('"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.'),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(ie('"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".'),this.numAlwaysVisibleConditions=this.maxNumConditions)}createOption(){const e=this.createManagedBean(new Sm);this.eTypes.push(e),e.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(e.getGui());const t=this.createValueElement();this.eConditionBodies.push(t),this.eFilterBody.appendChild(t),this.putOptionsIntoDropdown(e),this.resetType(e);const a=this.getNumConditions()-1;this.forEachPositionInput(a,u=>this.resetInput(u)),this.addChangedListeners(e,a)}createJoinOperatorPanel(){const e=document.createElement("div");this.eJoinOperatorPanels.push(e),e.classList.add("ag-filter-condition");const t=this.createJoinOperator(this.eJoinOperatorsAnd,e,"and"),a=this.createJoinOperator(this.eJoinOperatorsOr,e,"or");this.eFilterBody.appendChild(e);const u=this.eJoinOperatorPanels.length-1,g=this.joinOperatorId++;this.resetJoinOperatorAnd(t,u,g),this.resetJoinOperatorOr(a,u,g),this.isReadOnly()||(t.onValueChange(this.listener),a.onValueChange(this.listener))}createJoinOperator(e,t,a){const u=this.createManagedBean(new H1);return e.push(u),u.addCssClass("ag-filter-condition-operator"),u.addCssClass(`ag-filter-condition-operator-${a}`),t.appendChild(u.getGui()),u}getDefaultJoinOperator(e){return e==="AND"||e==="OR"?e:"AND"}createFilterListOptions(){const e=this.optionsFactory.getFilterOptions();this.filterListOptions=e.map(t=>typeof t=="string"?this.createBoilerplateListOption(t):this.createCustomListOption(t))}putOptionsIntoDropdown(e){this.filterListOptions.forEach(t=>{e.addOption(t)}),e.setDisabled(this.filterListOptions.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){const{displayKey:t}=e,a=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:a?this.localeService.getLocaleTextFunc()(a.displayKey,a.displayName):this.translate(t)}}createBodyTemplate(){return""}getAgComponents(){return[]}getCssIdentifier(){return"simple-filter"}updateUiVisibility(){const e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){let e=-1,t=!0;for(let a=0;a<this.getNumConditions();a++)this.isConditionUiComplete(a)?e=a:t=!1;if(this.shouldAddNewConditionAtEnd(t))this.createJoinOperatorPanel(),this.createOption();else{const a=this.lastUiCompletePosition??this.getNumConditions()-2;if(e<a){this.removeConditionsAndOperators(a+1);const u=e+1,g=a-u;g>0&&this.removeConditionsAndOperators(u,g),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e}updateConditionStatusesAndValues(e,t){this.eTypes.forEach((u,g)=>{const _=this.isConditionDisabled(g,e);u.setDisabled(_||this.filterListOptions.length<=1),g===1&&(p1(this.eJoinOperatorPanels[0],_),this.eJoinOperatorsAnd[0].setDisabled(_),this.eJoinOperatorsOr[0].setDisabled(_))}),this.eConditionBodies.forEach((u,g)=>{Pg(u,this.isConditionBodyVisible(g))});const a=(t??this.getJoinOperator())==="OR";this.eJoinOperatorsAnd.forEach(u=>{u.setValue(!a,!0)}),this.eJoinOperatorsOr.forEach(u=>{u.setValue(a,!0)}),this.forEachInput((u,g,_,K)=>{this.setElementDisplayed(u,g<K),this.setElementDisabled(u,this.isConditionDisabled(_,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,t){if(e>=this.getNumConditions())return;this.removeComponents(this.eTypes,e,t),this.removeElements(this.eConditionBodies,e,t),this.removeValueElements(e,t);const a=Math.max(e-1,0);this.removeElements(this.eJoinOperatorPanels,a,t),this.removeComponents(this.eJoinOperatorsAnd,a,t),this.removeComponents(this.eJoinOperatorsOr,a,t)}removeElements(e,t,a){this.removeItems(e,t,a).forEach(g=>m1(g))}removeComponents(e,t,a){this.removeItems(e,t,a).forEach(g=>{m1(g.getGui()),this.destroyBean(g)})}removeItems(e,t,a){return a==null?e.splice(t):e.splice(t,a)}afterGuiAttached(e){if(super.afterGuiAttached(e),this.resetPlaceholder(),!e?.suppressFocus)if(this.isReadOnly())this.eFilterBody.focus();else{const t=this.getInputs(0)[0];if(!t)return;t instanceof t1&&t.getInputElement().focus()}}afterGuiDetached(){super.afterGuiDetached();const e=this.getModel();this.resetUiToActiveModel(e);let t=-1,a=-1,u=!1;const g=this.getJoinOperator();for(let K=this.getNumConditions()-1;K>=0;K--)if(this.isConditionUiComplete(K))t===-1&&(t=K,a=K);else{const rt=K>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(K-1),al=K<t;(rt||al)&&(this.removeConditionsAndOperators(K,1),u=!0,al&&a--)}let _=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),_=!0),this.shouldAddNewConditionAtEnd(a===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),_=!0),_&&this.updateConditionStatusesAndValues(a,g),u&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=a}getPlaceholderText(e,t){let a=this.translate(e);if(zn(this.filterPlaceholder)){const u=this.filterPlaceholder,g=this.eTypes[t].getValue(),_=this.translate(g);a=u({filterOptionKey:g,filterOption:_,placeholder:a})}else typeof this.filterPlaceholder=="string"&&(a=this.filterPlaceholder);return a}resetPlaceholder(){const e=this.localeService.getLocaleTextFunc();this.forEachInput((t,a,u,g)=>{if(!(t instanceof t1))return;const _=a===0&&g>1?"inRangeStart":a===0?"filterOoo":"inRangeEnd",K=a===0&&g>1?e("ariaFilterFromValue","Filter from value"):a===0?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");t.setInputPlaceholder(this.getPlaceholderText(_,u)),t.setInputAriaLabel(K)})}setElementValue(e,t,a){e instanceof t1&&e.setValue(t!=null?String(t):null,!0)}setElementDisplayed(e,t){e instanceof bg&&Pg(e.getGui(),t)}setElementDisabled(e,t){e instanceof bg&&p1(e.getGui(),t)}attachElementOnChange(e,t){e instanceof t1&&e.onValueChange(t)}forEachInput(e){this.getConditionTypes().forEach((t,a)=>{this.forEachPositionTypeInput(a,t,e)})}forEachPositionInput(e,t){const a=this.getConditionType(e);this.forEachPositionTypeInput(e,a,t)}forEachPositionTypeInput(e,t,a){const u=this.getNumberOfInputs(t),g=this.getInputs(e);for(let _=0;_<g.length;_++){const K=g[_];K!=null&&a(K,_,e,u)}}isConditionDisabled(e,t){return this.isReadOnly()?!0:e===0?!1:e>t+1}isConditionBodyVisible(e){const t=this.getConditionType(e);return this.getNumberOfInputs(t)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||this.getConditionType(e)==="empty"||this.getValues(e).some(a=>a==null))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const e=[];for(let t=0;t<this.getNumConditions();t++)this.isConditionUiComplete(t)&&e.push(this.createCondition(t));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(t=>this.resetType(t)),this.eJoinOperatorsAnd.forEach((t,a)=>this.resetJoinOperatorAnd(t,a,this.joinOperatorId+a)),this.eJoinOperatorsOr.forEach((t,a)=>this.resetJoinOperatorOr(t,a,this.joinOperatorId+a)),this.joinOperatorId++,this.forEachInput(t=>this.resetInput(t)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,e||this.onUiChanged(),Hm.resolve()}resetType(e){const a=this.localeService.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(a).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,t,a){this.resetJoinOperator(e,t,this.isDefaultOperator("AND"),this.translate("andCondition"),a)}resetJoinOperatorOr(e,t,a){this.resetJoinOperator(e,t,this.isDefaultOperator("OR"),this.translate("orCondition"),a)}resetJoinOperator(e,t,a,u,g){this.updateJoinOperatorDisabled(e.setValue(a,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${g}`).setLabel(u),t)}updateJoinOperatorsDisabled(){this.eJoinOperatorsAnd.forEach((e,t)=>this.updateJoinOperatorDisabled(e,t)),this.eJoinOperatorsOr.forEach((e,t)=>this.updateJoinOperatorDisabled(e,t))}updateJoinOperatorDisabled(e,t){e.setDisabled(this.isReadOnly()||t>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,t){const a=this.mapValuesFromModel(e);this.forEachInput((u,g,_)=>{_===t&&this.setElementValue(u,a[g]!=null?a[g]:null)})}setValueFromFloatingFilter(e){this.forEachInput((t,a,u)=>{this.setElementValue(t,a===0&&u===0?e:null,!0)})}isDefaultOperator(e){return e===this.defaultJoinOperator}addChangedListeners(e,t){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(t,a=>{this.attachElementOnChange(a,this.listener)}))}individualConditionPasses(e,t){const a=this.getCellValue(e.node),u=this.mapValuesFromModel(t),g=this.optionsFactory.getCustomOption(t.type),_=this.evaluateCustomFilter(g,u,a);return _??(a==null?this.evaluateNullValue(t.type):this.evaluateNonNullValue(u,a,t,e))}evaluateCustomFilter(e,t,a){if(e==null)return;const{predicate:u}=e;if(u!=null&&!t.some(g=>g==null))return u(t,a)}isBlank(e){return e==null||typeof e=="string"&&e.trim().length===0}hasInvalidInputs(){return!1}},a2=class extends qv{setParams(e){super.setParams(e),this.scalarFilterParams=e}evaluateNullValue(e){switch(e){case"equals":if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case"notEqual":if(this.scalarFilterParams.includeBlanksInNotEqual)return!0;break;case"greaterThan":case"greaterThanOrEqual":if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case"lessThan":case"lessThanOrEqual":if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case"inRange":if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case"blank":return!0;case"notBlank":return!1}return!1}evaluateNonNullValue(e,t,a){const u=this.comparator(),g=e[0]!=null?u(e[0],t):0;switch(a.type){case"equals":return g===0;case"notEqual":return g!==0;case"greaterThan":return g>0;case"greaterThanOrEqual":return g>=0;case"lessThan":return g<0;case"lessThanOrEqual":return g<=0;case"inRange":{const _=u(e[1],t);return this.scalarFilterParams.inRangeInclusive?g>=0&&_<=0:g>0&&_<0}case"blank":return this.isBlank(t);case"notBlank":return!this.isBlank(t);default:return ie('Unexpected type of filter "'+a.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}}},s2=65,c3=67,ky=86,G1=68,_y=90,Ey=89;function tv(e){return e.altKey||e.ctrlKey||e.metaKey?!1:e.key?.length===1}function My(e,t,a,u,g){const _=u?u.getColDef().suppressKeyboardEvent:void 0;if(!_)return!1;const K=e.addGridCommonParams({event:t,editing:g,column:u,node:a,data:a.data,colDef:u.getColDef()});return!!(_&&_(K))}function Yv(e,t,a,u){const g=u.getDefinition(),_=g&&g.suppressHeaderKeyboardEvent;if(!Vu(_))return!1;const K=e.addGridCommonParams({colDef:g,column:u,headerRowIndex:a,event:t});return!!_(K)}function d3(e){const{keyCode:t}=e;let a;switch(t){case s2:a=pf.A;break;case c3:a=pf.C;break;case ky:a=pf.V;break;case G1:a=pf.D;break;case _y:a=pf.Z;break;case Ey:a=pf.Y;break;default:a=e.code}return a}function G2(e,t=!1){return e===pf.DELETE?!0:!t&&e===pf.BACKSPACE?Yy():!1}var Kg=class extends t1{constructor(e,t="ag-text-field",a="text"){super(e,t,a)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){return this.eInput.value!==e&&(this.eInput.value=Vu(e)?e:""),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){const e=new RegExp(`[${this.config.allowedCharPattern}]`),t=a=>{tv(a)&&a.key&&!e.test(a.key)&&a.preventDefault()};this.addManagedListeners(this.eInput,{keydown:t,paste:a=>{const u=a.clipboardData?.getData("text");u&&u.split("").some(g=>!e.test(g))&&a.preventDefault()}})}},vv={selector:"AG-INPUT-TEXT-FIELD",component:Kg},Kv=class extends Kg{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct(),this.addManagedListeners(this.eInput,{blur:()=>{const g=parseFloat(this.eInput.value),_=isNaN(g)?"":this.normalizeValue(g.toString());this.value!==_&&this.setValue(_)},wheel:this.onWheel.bind(this)}),this.eInput.step="any";const{precision:e,min:t,max:a,step:u}=this.config;typeof e=="number"&&this.setPrecision(e),typeof t=="number"&&this.setMin(t),typeof a=="number"&&this.setMax(a),typeof u=="number"&&this.setStep(u)}onWheel(e){Gp(this.gos)===this.eInput&&e.preventDefault()}normalizeValue(e){if(e==="")return"";this.precision!=null&&(e=this.adjustPrecision(e));const t=parseFloat(e);return this.min!=null&&t<this.min?e=this.min.toString():this.max!=null&&t>this.max&&(e=this.max.toString()),e}adjustPrecision(e,t){if(this.precision==null)return e;if(t){const u=parseFloat(e).toFixed(this.precision);return parseFloat(u).toString()}const a=String(e).split(".");if(a.length>1){if(a[1].length<=this.precision)return e;if(this.precision>0)return`${a[0]}.${a[1].slice(0,this.precision)}`}return a[0]}setMin(e){return this.min===e?this:(this.min=e,Jm(this.eInput,"min",e),this)}setMax(e){return this.max===e?this:(this.max=e,Jm(this.eInput,"max",e),this)}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e?this:(this.step=e,Jm(this.eInput,"step",e),this)}setValue(e,t){return this.setValueOrInputValue(a=>super.setValue(a,t),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(t=>super.setValue(t,!0),t=>{this.eInput.value=t},e)}setValueOrInputValue(e,t,a){if(Vu(a)){let u=this.isScientificNotation(a);if(u&&this.eInput.validity.valid)return e(a);if(!u){a=this.adjustPrecision(a);const g=this.normalizeValue(a);u=a!=g}if(u)return t(a)}return e(a)}getValue(){if(!this.eInput.validity.valid)return;const e=this.eInput.value;return this.isScientificNotation(e)?this.adjustPrecision(e,!0):super.getValue()}isScientificNotation(e){return typeof e=="string"&&e.includes("e")}},l2={selector:"AG-INPUT-NUMBER-FIELD",component:Kv},Ay=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"],rl=class{constructor(e,t,a){this.localeService=e,this.optionsFactory=t,this.valueFormatter=a}getModelAsString(e){if(!e)return null;const t=e.operator!=null,a=this.localeService.getLocaleTextFunc();if(t){const u=e,_=(u.conditions??[]).map(rt=>this.getModelAsString(rt)),K=u.operator==="AND"?"andCondition":"orCondition";return _.join(` ${a(K,n1[K])} `)}else{if(e.type==="blank"||e.type==="notBlank")return a(e.type,e.type);{const u=e,g=this.optionsFactory.getCustomOption(u.type),{displayKey:_,displayName:K,numberOfInputs:rt}=g||{};return _&&K&&rt===0?(a(_,K),K):this.conditionToString(u,g)}}}updateParams(e){this.optionsFactory=e.optionsFactory}formatValue(e){return this.valueFormatter?this.valueFormatter(e??null)??"":String(e)}},In=class extends rl{conditionToString(e,t){const{numberOfInputs:a}=t||{};return e.type=="inRange"||a===2?`${this.formatValue(e.filter)}-${this.formatValue(e.filterTo)}`:e.filter!=null?this.formatValue(e.filter):`${e.type}`}};function A(e){const{allowedCharPattern:t}=e??{};return t??null}var v=class extends a2{constructor(){super("numberFilter"),this.eValuesFrom=[],this.eValuesTo=[]}refresh(e){return this.numberFilterParams.allowedCharPattern!==e.allowedCharPattern?!1:super.refresh(e)}mapValuesFromModel(e){const{filter:t,filterTo:a,type:u}=e||{};return[this.processValue(t),this.processValue(a)].slice(0,this.getNumberOfInputs(u))}getDefaultDebounceMs(){return 500}comparator(){return(e,t)=>e===t?0:e<t?1:-1}setParams(e){this.numberFilterParams=e,super.setParams(e),this.filterModelFormatter=new In(this.localeService,this.optionsFactory,this.numberFilterParams.numberFormatter)}getDefaultFilterOptions(){return Ay}setElementValue(e,t,a){const u=!a&&this.numberFilterParams.numberFormatter?this.numberFilterParams.numberFormatter(t??null):t;super.setElementValue(e,u)}createValueElement(){const e=A(this.numberFilterParams),t=document.createElement("div");return t.classList.add("ag-filter-body"),w0(t,"presentation"),this.createFromToElement(t,this.eValuesFrom,"from",e),this.createFromToElement(t,this.eValuesTo,"to",e),t}createFromToElement(e,t,a,u){const g=this.createManagedBean(u?new Kg({allowedCharPattern:u}):new Kv);g.addCssClass(`ag-filter-${a}`),g.addCssClass("ag-filter-filter"),t.push(g),e.appendChild(g.getGui())}removeValueElements(e,t){this.removeComponents(this.eValuesFrom,e,t),this.removeComponents(this.eValuesTo,e,t)}getValues(e){const t=[];return this.forEachPositionInput(e,(a,u,g,_)=>{u<_&&t.push(this.processValue(this.stringToFloat(a.getValue())))}),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getFilterType(){return"number"}processValue(e){return e==null||isNaN(e)?null:e}stringToFloat(e){if(typeof e=="number")return e;let t=Xu(e);return t!=null&&t.trim()===""&&(t=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(t):t==null||t.trim()==="-"?null:parseFloat(t)}createCondition(e){const t=this.getConditionType(e),a={filterType:this.getFilterType(),type:t},u=this.getValues(e);return u.length>0&&(a.filter=u[0]),u.length>1&&(a.filterTo=u[1]),a}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>{if(!t.getInputElement().validity.valid){e=!0;return}}),e}},C=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],P=class extends rl{conditionToString(e,t){const{numberOfInputs:a}=t||{};return e.type=="inRange"||a===2?`${e.filter}-${e.filterTo}`:e.filter!=null?`${e.filter}`:`${e.type}`}};function R(e){const t=e&&e.trim();return t===""?e:t}var F=class extends qv{constructor(){super("textFilter"),this.defaultFormatter=e=>e,this.defaultLowercaseFormatter=e=>e==null?null:e.toString().toLowerCase(),this.defaultMatcher=({filterOption:e,value:t,filterText:a})=>{if(a==null)return!1;switch(e){case"contains":return t.indexOf(a)>=0;case"notContains":return t.indexOf(a)<0;case"equals":return t===a;case"notEqual":return t!=a;case"startsWith":return t.indexOf(a)===0;case"endsWith":{const u=t.lastIndexOf(a);return u>=0&&u===t.length-a.length}default:return!1}},this.eValuesFrom=[],this.eValuesTo=[]}getDefaultDebounceMs(){return 500}setParams(e){this.textFilterParams=e,super.setParams(e),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?this.defaultFormatter:this.defaultLowercaseFormatter),this.filterModelFormatter=new P(this.localeService,this.optionsFactory)}getTextMatcher(){const e=this.textFilterParams.textCustomComparator;return e?(ie("textCustomComparator is deprecated, use textMatcher instead."),({filterOption:t,value:a,filterText:u})=>e(t,a,u)):this.textFilterParams.textMatcher||this.defaultMatcher}createCondition(e){const t=this.getConditionType(e),a={filterType:this.getFilterType(),type:t},u=this.getValuesWithSideEffects(e,!0);return u.length>0&&(a.filter=u[0]),u.length>1&&(a.filterTo=u[1]),a}getFilterType(){return"text"}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getValues(e){return this.getValuesWithSideEffects(e,!1)}getValuesWithSideEffects(e,t){const a=[];return this.forEachPositionInput(e,(u,g,_,K)=>{if(g<K){let rt=Xu(u.getValue());t&&this.textFilterParams.trimInput&&(rt=R(rt)??null,u.setValue(rt,!0)),a.push(rt)}}),a}getDefaultFilterOptions(){return C}createValueElement(){const e=document.createElement("div");return e.classList.add("ag-filter-body"),w0(e,"presentation"),this.createFromToElement(e,this.eValuesFrom,"from"),this.createFromToElement(e,this.eValuesTo,"to"),e}createFromToElement(e,t,a){const u=this.createManagedBean(new Kg);u.addCssClass(`ag-filter-${a}`),u.addCssClass("ag-filter-filter"),t.push(u),e.appendChild(u.getGui())}removeValueElements(e,t){this.removeComponents(this.eValuesFrom,e,t),this.removeComponents(this.eValuesTo,e,t)}mapValuesFromModel(e){const{filter:t,filterTo:a,type:u}=e||{};return[t||null,a||null].slice(0,this.getNumberOfInputs(u))}evaluateNullValue(e){return e?["notEqual","notContains","blank"].indexOf(e)>=0:!1}evaluateNonNullValue(e,t,a,u){const g=e.map(id=>this.formatter(id))||[],_=this.formatter(t),{api:K,colDef:rt,column:al,context:Ql,textFormatter:Gu}=this.textFilterParams;if(a.type==="blank")return this.isBlank(t);if(a.type==="notBlank")return!this.isBlank(t);const Wu={api:K,colDef:rt,column:al,context:Ql,node:u.node,data:u.data,filterOption:a.type,value:_,textFormatter:Gu};return g.some(id=>this.matcher({...Wu,filterText:id}))}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}};function I(e){if(typeof e=="number")return e;if(typeof e=="string"){const t=parseInt(e);return isNaN(t)?void 0:t}}function B(e,t=Number.MAX_VALUE){return a=>{const u=I(a);if(!(u==null||u<e||u>t))return u}}function x(e,t){return e.toString().padStart(t,"0")}function W(e,t){const a=[];for(let u=e;u<=t;u++)a.push(u);return a}function z(e,t,a){return typeof e!="number"?"":U(Math.round(e*100)/100,t,a)}function U(e,t,a){return typeof e!="number"?"":e.toString().replace(".",a).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${t}`)}function Q(e,t=!0,a="-"){if(!e)return null;let u=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(g=>x(g,2)).join(a);return t&&(u+=" "+[e.getHours(),e.getMinutes(),e.getSeconds()].map(g=>x(g,2)).join(":")),u}var Z=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function $(e,t="YYYY-MM-DD"){const a=x(e.getFullYear(),4),u=["January","February","March","April","May","June","July","August","September","October","November","December"],g=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],_={YYYY:()=>a.slice(a.length-4,a.length),YY:()=>a.slice(a.length-2,a.length),Y:()=>`${e.getFullYear()}`,MMMM:()=>u[e.getMonth()],MMM:()=>u[e.getMonth()].slice(0,3),MM:()=>x(e.getMonth()+1,2),Mo:()=>`${e.getMonth()+1}${Z(e.getMonth()+1)}`,M:()=>`${e.getMonth()+1}`,Do:()=>`${e.getDate()}${Z(e.getDate())}`,DD:()=>x(e.getDate(),2),D:()=>`${e.getDate()}`,dddd:()=>g[e.getDay()],ddd:()=>g[e.getDay()].slice(0,3),dd:()=>g[e.getDay()].slice(0,2),do:()=>`${e.getDay()}${Z(e.getDay())}`,d:()=>`${e.getDay()}`},K=new RegExp(Object.keys(_).join("|"),"g");return t.replace(K,rt=>rt in _?_[rt]():rt)}function q(e){if(!e)return null;const[t,a]=e.split(" ");if(!t)return null;const u=t.split("-").map(Wu=>parseInt(Wu,10));if(u.filter(Wu=>!isNaN(Wu)).length!==3)return null;const[g,_,K]=u,rt=new Date(g,_-1,K);if(rt.getFullYear()!==g||rt.getMonth()!==_-1||rt.getDate()!==K)return null;if(!a||a==="00:00:00")return rt;const[al,Ql,Gu]=a.split(":").map(Wu=>parseInt(Wu,10));return al>=0&&al<24&&rt.setHours(al),Ql>=0&&Ql<60&&rt.setMinutes(Ql),Gu>=0&&Gu<60&&rt.setSeconds(Gu),rt}var J=class{constructor(e,t,a,u,g){this.alive=!0,this.context=e,this.eParent=u,t.getDateCompDetails(a).newAgStackInstance().then(rt=>{if(!this.alive){e.destroyBean(rt);return}this.dateComp=rt,rt&&(u.appendChild(rt.getGui()),rt.afterGuiAttached&&rt.afterGuiAttached(),this.tempValue&&rt.setDate(this.tempValue),this.disabled!=null&&this.setDateCompDisabled(this.disabled),g?.(this))})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){this.dateComp?this.dateComp.setDate(e):this.tempValue=e}setDisabled(e){this.dateComp?this.setDateCompDisabled(e):this.disabled=e}setDisplayed(e){Pg(this.eParent,e)}setInputPlaceholder(e){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(e)}setInputAriaLabel(e){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(e)}afterGuiAttached(e){this.dateComp&&typeof this.dateComp.afterGuiAttached=="function"&&this.dateComp.afterGuiAttached(e)}updateParams(e){let t=!1;this.dateComp?.refresh&&typeof this.dateComp.refresh=="function"&&this.dateComp.refresh(e)!==null&&(t=!0),!t&&this.dateComp?.onParamsUpdated&&typeof this.dateComp.onParamsUpdated=="function"&&this.dateComp.onParamsUpdated(e)!==null&&ie("Custom date component method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")}setDateCompDisabled(e){this.dateComp!=null&&this.dateComp.setDisabled!=null&&this.dateComp.setDisabled(e)}},O=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"],j=class extends rl{constructor(e,t,a){super(t,a),this.dateFilterParams=e}conditionToString(e,t){const{type:a}=e,{numberOfInputs:u}=t||{},g=a=="inRange"||u===2,_=q(e.dateFrom),K=q(e.dateTo),rt=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(g){const al=_!==null?$(_,rt):"null",Ql=K!==null?$(K,rt):"null";return`${al}-${Ql}`}return _!=null?$(_,rt):`${a}`}updateParams(e){super.updateParams(e),this.dateFilterParams=e.dateFilterParams}},Y=1e3,se=1/0,nt=class extends a2{constructor(){super("dateFilter"),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=Y,this.maxValidYear=se,this.minValidDate=null,this.maxValidDate=null}wireBeans(e){super.wireBeans(e),this.context=e.context,this.userComponentFactory=e.userComponentFactory}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}mapValuesFromModel(e){const{dateFrom:t,dateTo:a,type:u}=e||{};return[t&&q(t)||null,a&&q(a)||null].slice(0,this.getNumberOfInputs(u))}comparator(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)}defaultComparator(e,t){const a=t;return t==null||a<e?-1:a>e?1:0}setParams(e){this.dateFilterParams=e,super.setParams(e);const t=(a,u)=>{if(e[a]!=null)if(isNaN(e[a]))ie(`DateFilter ${a} is not a number`);else return e[a]==null?u:Number(e[a]);return u};this.minValidYear=t("minValidYear",Y),this.maxValidYear=t("maxValidYear",se),this.minValidYear>this.maxValidYear&&ie("DateFilter minValidYear should be <= maxValidYear"),e.minValidDate?this.minValidDate=e.minValidDate instanceof Date?e.minValidDate:q(e.minValidDate):this.minValidDate=null,e.maxValidDate?this.maxValidDate=e.maxValidDate instanceof Date?e.maxValidDate:q(e.maxValidDate):this.maxValidDate=null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&ie("DateFilter minValidDate should be <= maxValidDate"),this.filterModelFormatter=new j(this.dateFilterParams,this.localeService,this.optionsFactory)}createDateCompWrapper(e){const t=new J(this.context,this.userComponentFactory,{onDateChanged:()=>this.onUiChanged(),filterParams:this.dateFilterParams},e);return this.addDestroyFunc(()=>t.destroy()),t}setElementValue(e,t){e.setDate(t)}setElementDisplayed(e,t){e.setDisplayed(t)}setElementDisabled(e,t){e.setDisabled(t)}getDefaultFilterOptions(){return O}createValueElement(){const t=Fp(this.gos).createElement("div");return t.classList.add("ag-filter-body"),this.createFromToElement(t,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(t,this.eConditionPanelsTo,this.dateConditionToComps,"to"),t}createFromToElement(e,t,a,u){const _=Fp(this.gos).createElement("div");_.classList.add(`ag-filter-${u}`),_.classList.add(`ag-filter-date-${u}`),t.push(_),e.appendChild(_),a.push(this.createDateCompWrapper(_))}removeValueElements(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),this.removeItems(this.eConditionPanelsFrom,e,t),this.removeItems(this.eConditionPanelsTo,e,t)}removeDateComps(e,t,a){this.removeItems(e,t,a).forEach(g=>g.destroy())}isValidDateValue(e){if(e===null)return!1;if(this.minValidDate){if(e<this.minValidDate)return!1}else if(e.getUTCFullYear()<this.minValidYear)return!1;if(this.maxValidDate){if(e>this.maxValidDate)return!1}else if(e.getUTCFullYear()>this.maxValidYear)return!1;return!0}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let t=!0;return this.forEachInput((a,u,g,_)=>{g!==e||!t||u>=_||(t=t&&this.isValidDateValue(a.getDate()))}),t}areSimpleModelsEqual(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type}getFilterType(){return"date"}createCondition(e){const t=this.getConditionType(e),a={},u=this.getValues(e);return u.length>0&&(a.dateFrom=Q(u[0])),u.length>1&&(a.dateTo=Q(u[1])),{dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:t,...a}}resetPlaceholder(){const e=this.localeService.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),a=e("ariaFilterValue","Filter Value");this.forEachInput(u=>{u.setInputPlaceholder(t),u.setInputAriaLabel(a)})}getInputs(e){return e>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[e],this.dateConditionToComps[e]]}getValues(e){const t=[];return this.forEachPositionInput(e,(a,u,g,_)=>{u<_&&t.push(a.getDate())}),t}translate(e){return e==="lessThan"?super.translate("before"):e==="greaterThan"?super.translate("after"):super.translate(e)}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}},gl=class extends Nh{constructor(e,t,a,u){super(),this.columnOrGroup=e,this.columnOrGroup=e,this.eCell=t,this.ariaEl=this.eCell.querySelector("[role=columnheader]")||this.eCell,this.colsSpanning=u,this.beans=a}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){return this.beans.gos.get("enableRtl")&&this.colsSpanning?Pp(this.colsSpanning):this.columnOrGroup}postConstruct(){const e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}setLeftFirstTime(){const e=this.beans.gos.get("suppressColumnMoveAnimation"),t=Vu(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&t&&!e?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const e=this.getColumnOrGroup(),t=e.getLeft(),a=e.getOldLeft(),u=this.modifyLeftForPrintLayout(e,a),g=this.modifyLeftForPrintLayout(e,t);this.setLeft(u),this.actualLeft=g,this.beans.columnAnimationService.executeNextVMTurn(()=>{this.actualLeft===g&&this.setLeft(g)})}onLeftChanged(){const e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){if(!gd(this.beans.gos,"print")||e.getPinned()==="left")return t;const u=this.beans.visibleColsService.getColsLeftWidth();if(e.getPinned()==="right"){const g=this.beans.visibleColsService.getBodyContainerWidth();return u+g+t}return u+t}setLeft(e){if(Vu(e)&&(this.eCell.style.left=`${e}px`),af(this.columnOrGroup)){const t=this.columnOrGroup.getLeafColumns();if(!t.length)return;t.length>1&&T0(this.ariaEl,t.length)}}},Bn="ag-column-first",jt="ag-column-last";function Pe(e,t,a,u){return Zu(e)?[]:il(e.headerClass,e,t,a,u)}function ml(e,t,a,u){return Zu(e)?[]:il(e.toolPanelClass,e,t,a,u)}function tl(e,t,a){e.addOrRemoveCssClass(Bn,a.isColAtEdge(t,"first")),e.addOrRemoveCssClass(jt,a.isColAtEdge(t,"last"))}function ul(e,t,a,u){return t.addGridCommonParams({colDef:e,column:a,columnGroup:u})}function il(e,t,a,u,g){if(Zu(e))return[];let _;if(typeof e=="function"){const K=ul(t,a,u,g);_=e(K)}else _=e;return typeof _=="string"?[_]:Array.isArray(_)?[..._]:[]}var sl=0,vl=class wC extends Nh{constructor(t,a,u){super(),this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.columnGroupChild=t,this.parentRowCtrl=u,this.beans=a,this.instanceId=t.getUniqueId()+"-"+sl++}wireBeans(t){this.pinnedWidthService=t.pinnedWidthService,this.focusService=t.focusService,this.userComponentFactory=t.userComponentFactory,this.ctrlsService=t.ctrlsService,this.dragAndDropService=t.dragAndDropService,this.menuService=t.menuService}postConstruct(){const t=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],t),this.addManagedEventListeners({overlayExclusiveChanged:t})}shouldStopEventPropagation(t){const{headerRowIndex:a,column:u}=this.focusService.getFocusedHeader();return Yv(this.gos,t,a,u)}getWrapperHasFocus(){return Gp(this.gos)===this.eGui}setGui(t,a){this.eGui=t,this.addDomData(a),a.addManagedListeners(this.beans.eventService,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),a.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}onGuiFocus(){this.eventService.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(t){const{wrapperElement:a,checkMeasuringCallback:u,compBean:g}=t,{animationFrameService:_,resizeObserverService:K,columnModel:rt,gos:al}=this.beans,Ql=uf=>{if(!this.isAlive()||!g.isAlive())return;const{paddingTop:tf,paddingBottom:Hf,borderBottomWidth:Vf,borderTopWidth:Bf}=g1(this.getGui()),Kp=tf+Hf+Vf+Bf,h0=a.offsetHeight+Kp;if(uf<5){const x0=Fp(al),Mg=!x0||!x0.contains(a),em=h0==0;if(Mg||em){_.requestAnimationFrame(()=>Ql(uf+1));return}}rt.setColHeaderHeight(this.column,h0)};let Gu=!1,Wu;const id=()=>{const uf=this.column.isAutoHeaderHeight();uf&&!Gu&&uh(),!uf&&Gu&&Qh()},uh=()=>{Gu=!0,Ql(0),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),Wu=K.observeResize(a,()=>Ql(0))},Qh=()=>{Gu=!1,Wu&&Wu(),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),Wu=void 0};id(),g.addDestroyFunc(()=>Qh()),g.addManagedListeners(this.column,{widthChanged:()=>Gu&&Ql(0)}),g.addManagedEventListeners({sortChanged:()=>{Gu&&window.setTimeout(()=>Ql(0))}}),u&&u(id)}onDisplayedColumnsChanged(){const{comp:t,column:a,beans:u,eGui:g}=this;!t||!a||!g||(tl(t,a,u.visibleColsService),Sg(g,u.visibleColsService.getAriaColIndex(a)))}addResizeAndMoveKeyboardListeners(t){this.resizeFeature&&t.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){const t=this.focusService.isHeaderFocusSuppressed();this.eGui&&Jm(this.eGui,"tabindex",t?null:"-1")}onGuiKeyDown(t){const a=Gp(this.gos),u=t.key===pf.LEFT||t.key===pf.RIGHT;if(this.isResizing&&(t.preventDefault(),t.stopImmediatePropagation()),a!==this.eGui||!t.shiftKey&&!t.altKey||((this.isResizing||u)&&(t.preventDefault(),t.stopImmediatePropagation()),!u))return;const g=t.key===pf.LEFT!==this.gos.get("enableRtl"),_=xy[g?"Left":"Right"];if(t.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const K=this.getViewportAdjustedResizeDiff(t);this.resizeHeader(K,t.shiftKey),this.resizeFeature?.toggleColumnResizing(!0)}else this.moveHeader(_)}getViewportAdjustedResizeDiff(t){let a=this.getResizeDiff(t);if(this.column.getPinned()){const g=this.pinnedWidthService.getPinnedLeftWidth(),_=this.pinnedWidthService.getPinnedRightWidth(),K=$1(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(g+_+a>K)if(K>g+_)a=K-g-_;else return 0}return a}getResizeDiff(t){let a=t.key===pf.LEFT!==this.gos.get("enableRtl");const u=this.column.getPinned(),g=this.gos.get("enableRtl");return u&&g!==(u==="right")&&(a=!a),(a?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout(()=>{this.resizeFeature?.toggleColumnResizing(!1)},150))}handleKeyDown(t){const a=this.getWrapperHasFocus();switch(t.key){case pf.PAGE_DOWN:case pf.PAGE_UP:case pf.PAGE_HOME:case pf.PAGE_END:a&&t.preventDefault()}}addDomData(t){const a=wC.DOM_DATA_KEY_HEADER_CTRL;rp(this.gos,this.eGui,a,this),t.addDestroyFunc(()=>rp(this.gos,this.eGui,a,null))}getGui(){return this.eGui}focus(t){return this.eGui?(this.lastFocusEvent=t||null,this.eGui.focus(),!0):!1}getRowIndex(){return this.parentRowCtrl.getRowIndex()}getParentRowCtrl(){return this.parentRowCtrl}getPinned(){return this.parentRowCtrl.getPinned()}getColumnGroupChild(){return this.columnGroupChild}removeDragSource(){this.dragSource&&(this.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(t,a,u){const g=t??a;this.gos.get("preventDefaultOnContextMenu")&&g.preventDefault(),this.menuService.isHeaderContextMenuEnabled(u)&&this.menuService.showHeaderContextMenu(u,t,a),this.dispatchColumnMouseEvent("columnHeaderContextMenu",u)}dispatchColumnMouseEvent(t,a){this.eventService.dispatchEvent({type:t,column:a})}clearComponent(){this.removeDragSource(),this.resizeFeature=null,this.comp=null,this.eGui=null}destroy(){super.destroy(),this.column=null,this.lastFocusEvent=null,this.columnGroupChild=null,this.parentRowCtrl=null}};vl.DOM_DATA_KEY_HEADER_CTRL="headerCtrl";var yl=vl,Fn=class extends Nh{wireBeans(e){this.columnHoverService=e.columnHoverService}constructor(e,t){super(),this.columns=e,this.element=t}postConstruct(){this.gos.get("columnHoverHighlight")&&this.addMouseHoverListeners()}addMouseHoverListeners(){this.addManagedListeners(this.element,{mouseout:this.onMouseOut.bind(this),mouseover:this.onMouseOver.bind(this)})}onMouseOut(){this.columnHoverService.clearMouseOver()}onMouseOver(){this.columnHoverService.setMouseOver(this.columns)}},xl=class extends yl{constructor(e,t,a){super(e,t,a),this.iconCreated=!1,this.column=e}setComp(e,t,a,u,g){this.comp=e,g=u0(this,this.beans.context,g),this.eButtonShowMainFilter=a,this.eFloatingFilterBody=u,this.setGui(t,g),this.setupActive(),this.setupWidth(g),this.setupLeft(g),this.setupHover(g),this.setupFocus(g),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(g),this.setupUi(),g.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(g),g.addManagedListeners(this.column,{colDefChanged:()=>this.onColDefChanged(g)}),g.addDestroyFunc(()=>{this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.clearComponent()})}resizeHeader(){}moveHeader(){}setupActive(){const e=this.column.getColDef(),t=!!e.filter,a=!!e.floatingFilter;this.active=t&&a}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const e=Vm("filter",this.gos,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(e){e.createManagedBean(new c1(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const e=this.localeService.getLocaleTextFunc();A0(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){if(Gp(this.gos)===this.eGui)return;const u=this.focusService.findNextFocusableElement(this.eGui,null,e.shiftKey);if(u){this.beans.headerNavigationService.scrollToColumn(this.column),e.preventDefault(),u.focus();return}const g=this.findNextColumnWithFloatingFilter(e.shiftKey);g&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:g},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){const t=this.beans.visibleColsService;let a=this.column;do if(a=e?t.getColBefore(a):t.getColAfter(a),!a)break;while(!a.getColDef().filter||!a.getColDef().floatingFilter);return a}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();switch(e.key){case pf.UP:case pf.DOWN:t||e.preventDefault();case pf.LEFT:case pf.RIGHT:if(t)return;e.stopPropagation();case pf.ENTER:t&&this.focusService.focusInto(this.eGui)&&e.preventDefault();break;case pf.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;const a=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),u=!!e.relatedTarget&&Km(e.relatedTarget,"ag-floating-filter");if(a&&u&&e.target===this.eGui){const _=this.lastFocusEvent,K=!!(_&&_.key===pf.TAB);if(_&&K){const rt=_.shiftKey;this.focusService.focusInto(this.eGui,rt)}}const g=this.getRowIndex();this.beans.focusService.setFocusedHeader(g,this.column)}setupHover(e){e.createManagedBean(new Fn([this.column],this.eGui));const t=()=>{if(!this.gos.get("columnHoverHighlight"))return;const a=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",a)};e.addManagedEventListeners({columnHoverChanged:t}),t()}setupLeft(e){const t=new gl(this.column,this.eGui,this.beans);e.createManagedBean(t)}setupFilterButton(){this.suppressFilterButton=!this.menuService.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!this.menuService.isLegacyMenuEnabled()}setupUserComp(){if(!this.active)return;const e=this.beans.filterManager?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){const e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.menuService.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(e){if(!this.active)return;const{filterManager:t}=this.beans,a=u=>{if(u?.source==="filterDestroyed"&&!this.isAlive())return;const g=this.comp.getFloatingFilterComp();g&&g.then(_=>{if(_){const K=t?.getCurrentFloatingFilterParentModel(this.column),rt=u?{...u,columns:u.columns??[],source:u.source==="api"?"api":"columnFilter"}:null;_.onParentModelChanged(K,rt)}})};[this.destroySyncListener]=e.addManagedListeners(this.column,{filterChanged:a}),t?.isFilterActive(this.column)&&a(null)}setupWidth(e){const t=()=>{const a=`${this.column.getActualWidth()}px`;this.comp.setWidth(a)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupFilterChangedListener(e){this.active&&([this.destroyFilterChangedListener]=e.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){if(!this.suppressFilterButton&&this.comp){const e=!!this.beans.filterManager?.isFilterAllowed(this.column);this.comp.setButtonWrapperDisplayed(e),this.highlightFilterButtonWhenActive&&e&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(e){const t=this.active;this.setupActive();const a=!t&&this.active;t&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());const u=this.active?this.beans.filterManager?.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,g=this.comp.getFloatingFilterComp();!g||!u?this.updateCompDetails(e,u,a):g.then(_=>{!_||this.beans.filterManager?.areFilterCompsDifferent(this.userCompDetails??null,u)?this.updateCompDetails(e,u,a):this.updateFloatingFilterParams(u)})}updateCompDetails(e,t,a){this.isAlive()&&(this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),a&&(this.setupSyncWithFilter(e),this.setupFilterChangedListener(e)))}updateFloatingFilterParams(e){if(!e)return;const t=e.params;this.comp.getFloatingFilterComp()?.then(a=>{let u=!1;a?.refresh&&typeof a.refresh=="function"&&a.refresh(t)!==null&&(u=!0),!u&&a?.onParamsUpdated&&typeof a.onParamsUpdated=="function"&&a.onParamsUpdated(t)!==null&&ie("Custom floating filter method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")})}destroy(){super.destroy(),this.destroySyncListener=null,this.destroyFilterChangedListener=null}};function wl(e){return e}var kl="32.3.9";function Dl(e){return!!e.filterManager?.isColumnFilterPresent()||!!e.filterManager?.isAggregateFilterPresent()}function Ol(e,t,a){return e.filterManager?.getFilterInstance(t,a)}function gu(e,t){return e.filterManager?.getColumnFilterInstance(t)??Promise.resolve(void 0)}function yu(e,t){const a=e.columnModel.getColDefCol(t);if(a)return e.filterManager?.destroyFilter(a,"api")}function Iu(e,t){e.frameworkOverrides.wrapIncoming(()=>e.filterManager?.setFilterModel(t))}function cl(e){return e.filterManager?.getFilterModel()??{}}function pl(e,t){return e.filterManager?.getColumnFilterModel(t)??null}function it(e,t,a){return e.filterManager?.setColumnFilterModel(t,a)??Promise.resolve()}function bl(e,t){const a=e.columnModel.getCol(t);if(!a){Et(`column '${t}' not found`);return}e.menuService.showFilterMenu({column:a,containerType:"columnFilter",positionBy:"auto"})}function Ll(e,t,a){if(t==null)return null;let u=null;const{compName:g,jsComp:_,fwComp:K}=yy.getCompKeys(e,t,_v);return g?u={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[g]:_==null&&K==null&&t.filter===!0&&(u=a()),u}var nl={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},ve=["january","february","march","april","may","june","july","august","september","october","november","december"],_t=class extends Nh{constructor(){super(...arguments),this.beanName="columnFilterService",this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue=[]}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.rowModel=e.rowModel,this.userComponentFactory=e.userComponentFactory,this.rowRenderer=e.rowRenderer,this.dataTypeService=e.dataTypeService,this.filterManager=e.filterManager}postConstruct(){this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),rowDataUpdated:()=>this.onNewRowsLoaded("rowDataUpdated"),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.initialFilterModel={...this.gos.get("initialState")?.filter?.filterModel??{}}}setFilterModel(e,t="api"){if(this.dataTypeService?.isPendingInference()){this.filterModelUpdateQueue.push({model:e,source:t});return}const a=[],u=this.getFilterModel(!0);if(e){const g=new Set(Object.keys(e));this.allColumnFilters.forEach((_,K)=>{const rt=e[K];a.push(this.setModelOnFilterWrapper(_.filterPromise,rt)),g.delete(K)}),g.forEach(_=>{const K=this.columnModel.getColDefCol(_)||this.columnModel.getCol(_);if(!K){ie("setFilterModel() - no column found for colId: "+_);return}if(!K.isFilterAllowed()){ie("setFilterModel() - unable to fully apply model, filtering disabled for colId: "+_);return}const rt=this.getOrCreateFilterWrapper(K);if(!rt){ie("setFilterModel() - unable to fully apply model, unable to create filter for colId: "+_);return}a.push(this.setModelOnFilterWrapper(rt.filterPromise,e[_]))})}else this.allColumnFilters.forEach(g=>{a.push(this.setModelOnFilterWrapper(g.filterPromise,null))});Hm.all(a).then(()=>{const g=this.getFilterModel(!0),_=[];this.allColumnFilters.forEach((K,rt)=>{const al=u?u[rt]:null,Ql=g?g[rt]:null;jd(al,Ql)||_.push(K.column)}),_.length>0&&this.filterManager?.onFilterChanged({columns:_,source:t})})}setModelOnFilterWrapper(e,t){return new Hm(a=>{e.then(u=>{typeof u.setModel!="function"&&(ie("filter missing setModel method, which is needed for setFilterModel"),a()),(u.setModel(t)||Hm.resolve()).then(()=>a())})})}getFilterModel(e){const t={},{allColumnFilters:a,initialFilterModel:u}=this;return a.forEach((g,_)=>{const K=this.getModelFromFilterWrapper(g);Vu(K)&&(t[_]=K)}),e||Object.entries(u).forEach(([g,_])=>{Vu(_)&&!a.has(g)&&this.columnModel.getCol(g)?.isFilterAllowed()&&(t[g]=_)}),t}getModelFromFilterWrapper(e){const{filter:t}=e;return t?typeof t.getModel!="function"?(ie("filter API missing getModel method, which is needed for getFilterModel"),null):t.getModel():this.getModelFromInitialState(e.column)}getModelFromInitialState(e){return this.initialFilterModel[e.getColId()]??null}isColumnFilterPresent(){return this.activeColumnFilters.length>0}isAggregateFilterPresent(){return!!this.activeAggregateFilters.length}disableColumnFilters(){return this.allColumnFilters.size?(this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"advancedFilterEnabled")),!0):!1}doAggregateFiltersPass(e,t){return this.doColumnFiltersPass(e,t,!0)}updateActiveFilters(){const e=_=>_?_.isFilterActive?_.isFilterActive():(ie("Filter is missing isFilterActive() method"),!1):!1,t=!!G0(this.gos),a=_=>{if(!_.isPrimary())return!0;const rt=!this.columnModel.isPivotActive();return!_.isValueActive()||!rt?!1:this.columnModel.isPivotMode()?!0:t},u=[],g=[];return this.forEachColumnFilter((_,K)=>{e(_)&&(a(K.column)?u.push(_):g.push(_))}).then(()=>{this.activeAggregateFilters=u,this.activeColumnFilters=g})}updateFilterFlagInColumns(e,t){return this.forEachColumnFilter((a,u)=>u.column.setFilterActive(a.isFilterActive(),e,t))}forEachColumnFilter(e){return Hm.all(Array.from(this.allColumnFilters.values()).map(t=>t.filterPromise.then(a=>e(a,t))))}doColumnFiltersPass(e,t,a){const{data:u,aggData:g}=e,_=a?this.activeAggregateFilters:this.activeColumnFilters,K=a?g:u;for(let rt=0;rt<_.length;rt++){const al=_[rt];if(!(al==null||al===t)){if(typeof al.doesFilterPass!="function")throw new Error("Filter is missing method doesFilterPass");if(!al.doesFilterPass({node:e,data:K}))return!1}}return!0}callOnFilterChangedOutsideRenderCycle(e){const t=()=>this.filterManager?.onFilterChanged(e);this.rowRenderer.isRefreshInProgress()?setTimeout(t,0):t()}updateBeforeFilterChanged(e={}){const{filterInstance:t,additionalEventAttributes:a}=e;return this.updateDependentFilters(),this.updateActiveFilters().then(()=>this.updateFilterFlagInColumns("filterChanged",a).then(()=>{this.allColumnFilters.forEach(u=>{u.filterPromise&&u.filterPromise.then(g=>{g&&g!==t&&g.onAnyFilterChanged&&g.onAnyFilterChanged()})}),this.processingFilterChange=!0}))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!(this.gos.get("allowShowChangeAfterFilter")??!1)&&this.processingFilterChange}onNewRowsLoaded(e){this.forEachColumnFilter(t=>{t.onNewRowsLoaded&&t.onNewRowsLoaded()}).then(()=>this.updateFilterFlagInColumns(e,{afterDataChange:!0})).then(()=>this.updateActiveFilters())}createValueGetter(e){return({node:t})=>this.valueService.getValue(e,t,!0)}createGetValue(e){return(t,a)=>{const u=a?this.columnModel.getCol(a):e;return u?this.valueService.getValue(u,t,!0):void 0}}isFilterActive(e){const{filter:t}=this.cachedFilter(e)??{};return t?t.isFilterActive():this.getModelFromInitialState(e)!=null}getOrCreateFilterWrapper(e){if(!e.isFilterAllowed())return null;let t=this.cachedFilter(e);return t||(t=this.createFilterWrapper(e),this.setColumnFilterWrapper(e,t)),t}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e){let t;if(dm(this.gos))t="agSetColumnFilter";else{const a=this.dataTypeService?.getBaseDataType(e);a==="number"?t="agNumberColumnFilter":a==="date"||a==="dateString"?t="agDateColumnFilter":t="agTextColumnFilter"}return t}getDefaultFloatingFilter(e){let t;if(dm(this.gos))t="agSetColumnFloatingFilter";else{const a=this.dataTypeService?.getBaseDataType(e);a==="number"?t="agNumberColumnFloatingFilter":a==="date"||a==="dateString"?t="agDateColumnFloatingFilter":t="agTextColumnFloatingFilter"}return t}createFilterInstance(e,t){const a=this.getDefaultFilter(e),u=e.getColDef();let g;const _={...this.createFilterParams(e,u),filterModifiedCallback:()=>this.filterModifiedCallbackFactory(g,e)(),filterChangedCallback:rt=>this.filterChangedCallbackFactory(g,e)(rt),doesRowPassOtherFilter:rt=>this.filterManager?this.filterManager.doesRowPassOtherFilters(g,rt):!0},K=this.userComponentFactory.getFilterDetails(u,_,a);return K?{filterPromise:()=>{const rt=K.newAgStackInstance();return rt?.then(al=>{g=al,t&&(t.filter=al)}),rt},compDetails:K}:{filterPromise:null,compDetails:null}}createFilterParams(e,t){return this.gos.addGridCommonParams({column:e,colDef:ot(t),rowModel:this.rowModel,filterChangedCallback:()=>{},filterModifiedCallback:()=>{},valueGetter:this.createValueGetter(e),getValue:this.createGetValue(e),doesRowPassOtherFilter:()=>!0})}createFilterWrapper(e){const t={column:e,filterPromise:null,compiledElement:null,compDetails:null},{filterPromise:a,compDetails:u}=this.createFilterInstance(e,t);return t.filterPromise=a?.()??null,t.compDetails=u,t}onColumnsChanged(){const e=[];this.allColumnFilters.forEach((a,u)=>{let g;a.column.isPrimary()?g=this.columnModel.getColDefCol(u):g=this.columnModel.getCol(u),!(g&&g===a.column)&&(e.push(a.column),this.disposeFilterWrapper(a,"columnChanged"),this.disposeColumnListener(u))});const t=e.every(a=>a.getColDef().filter==="agGroupColumnFilter");e.length>0&&!t?this.filterManager?.onFilterChanged({columns:e,source:"api"}):this.updateDependentFilters()}updateDependentFilters(){this.columnModel.getAutoCols()?.forEach(t=>{t.getColDef().filter==="agGroupColumnFilter"&&this.getOrCreateFilterWrapper(t)})}isFilterAllowed(e){if(!e.isFilterAllowed())return!1;const{filter:a}=this.allColumnFilters.get(e.getColId())??{};return a&&typeof a?.isFilterAllowed=="function"?a.isFilterAllowed():!0}getFloatingFilterCompDetails(e,t){const a=al=>{const Ql=this.getOrCreateFilterWrapper(e)?.filterPromise;Ql?.then(Gu=>{al(gv(Gu))})},u=e.getColDef(),g={...this.createFilterParams(e,u),filterChangedCallback:()=>a(al=>this.filterChangedCallbackFactory(al,e)())},_=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(u,_v,g);let K=Ll(this.frameworkOverrides,u,()=>this.getDefaultFloatingFilter(e));K==null&&(K="agReadOnlyFloatingFilter");const rt={column:e,filterParams:_,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:a,showParentFilter:t,suppressFilterButton:!1};return this.userComponentFactory.getFloatingFilterCompDetails(u,rt,K)}getCurrentFloatingFilterParentModel(e){return this.getModelFromFilterWrapper(this.cachedFilter(e)??{column:e})}destroyFilter(e,t="api"){const a=e.getColId(),u=this.allColumnFilters.get(a);this.disposeColumnListener(a),delete this.initialFilterModel[a],u&&(this.disposeFilterWrapper(u,t),this.filterManager?.onFilterChanged({columns:[e],source:"api"}))}disposeColumnListener(e){const t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){e.filterPromise.then(a=>{this.destroyBean(a),e.column.setFilterActive(!1,"filterDestroyed"),this.allColumnFilters.delete(e.column.getColId()),this.eventService.dispatchEvent({type:"filterDestroyed",source:t,column:e.column})})}filterModifiedCallbackFactory(e,t){return()=>{this.eventService.dispatchEvent({type:"filterModified",column:t,filterInstance:e})}}filterChangedCallbackFactory(e,t){return a=>{const u=a?.source??"columnFilter",g={filter:e,additionalEventAttributes:a,columns:[t],source:u};this.callOnFilterChangedOutsideRenderCycle(g)}}checkDestroyFilter(e){const t=this.allColumnFilters.get(e);if(!t)return;const a=t.column,{compDetails:u}=a.isFilterAllowed()?this.createFilterInstance(a):{compDetails:null};if(this.areFilterCompsDifferent(t.compDetails,u)){this.destroyFilter(a,"paramsUpdated");return}const g=a.getColDef().filterParams;if(!t.filterPromise){this.destroyFilter(a,"paramsUpdated");return}t.filterPromise.then(_=>{(_?.refresh?_.refresh({...this.createFilterParams(a,a.getColDef()),filterModifiedCallback:this.filterModifiedCallbackFactory(_,a),filterChangedCallback:this.filterChangedCallbackFactory(_,a),doesRowPassOtherFilter:rt=>this.filterManager?this.filterManager.doesRowPassOtherFilters(_,rt):!0,...g}):!0)===!1&&this.destroyFilter(a,"paramsUpdated")})}setColumnFilterWrapper(e,t){const a=e.getColId();this.allColumnFilters.set(a,t),this.allColumnListeners.set(a,this.addManagedListeners(e,{colDefChanged:()=>this.checkDestroyFilter(a)})[0])}areFilterCompsDifferent(e,t){if(!t||!e)return!0;const{componentClass:a}=e,{componentClass:u}=t;return!(a===u||a?.render&&u?.render&&a.render===u.render)}hasFloatingFilters(){return this.columnModel.getCols().some(t=>t.getColDef().floatingFilter)}getFilterInstance(e,t){t&&this.getFilterInstanceImpl(e).then(a=>{const u=gv(a);t(u)})}getColumnFilterInstance(e){return new Promise(t=>{this.getFilterInstanceImpl(e).then(a=>{t(gv(a))})})}getFilterInstanceImpl(e){const t=this.columnModel.getColDefCol(e);return t?this.getOrCreateFilterWrapper(t)?.filterPromise??Hm.resolve(null):Hm.resolve(void 0)}processFilterModelUpdateQueue(){this.filterModelUpdateQueue.forEach(({model:e,source:t})=>this.setFilterModel(e,t)),this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue.forEach(({key:e,model:t,resolve:a})=>{this.setColumnFilterModel(e,t).then(()=>a())}),this.columnFilterModelUpdateQueue=[]}getColumnFilterModel(e){const t=this.getFilterWrapper(e);return t?this.getModelFromFilterWrapper(t):null}setColumnFilterModel(e,t){if(this.dataTypeService?.isPendingInference()){let _=()=>{};const K=new Promise(rt=>{_=rt});return this.columnFilterModelUpdateQueue.push({key:e,model:t,resolve:_}),K}const a=this.columnModel.getColDefCol(e),u=a?this.getOrCreateFilterWrapper(a):null;return u?(_=>new Promise(K=>{_.then(rt=>K(rt))}))(this.setModelOnFilterWrapper(u.filterPromise,t)):Promise.resolve()}getFilterWrapper(e){const t=this.columnModel.getColDefCol(e);return t?this.cachedFilter(t)??null:null}setColDefPropertiesForDataType(e,t,a){const u=dm(this.gos),g=this.localeService.getLocaleTextFunc(),_=K=>{const{filterParams:rt}=e;e.filterParams=typeof rt=="object"?{...rt,...K}:K};switch(t.baseDataType){case"number":{u&&_({comparator:(K,rt)=>{const al=K==null?0:parseInt(K),Ql=rt==null?0:parseInt(rt);return al===Ql?0:al>Ql?1:-1}});break}case"boolean":{_(u?{valueFormatter:K=>Vu(K.value)?g(String(K.value),K.value?"True":"False"):g("blanks","(Blanks)")}:{maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(K,rt)=>rt,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(K,rt)=>rt===!1,numberOfInputs:0}]});break}case"date":{u&&_({valueFormatter:K=>{const rt=a(K);return Vu(rt)?rt:g("blanks","(Blanks)")},treeList:!0,treeListFormatter:(K,rt)=>{if(rt===1&&K!=null){const al=ve[Number(K)-1];return g(al,nl[al])}return K??g("blanks","(Blanks)")}});break}case"dateString":{const K=t.dateParser;_(u?{valueFormatter:rt=>{const al=a(rt);return Vu(al)?al:g("blanks","(Blanks)")},treeList:!0,treeListPathGetter:rt=>{const al=K(rt??void 0);return al?[String(al.getFullYear()),String(al.getMonth()+1),String(al.getDate())]:null},treeListFormatter:(rt,al)=>{if(al===1&&rt!=null){const Ql=ve[Number(rt)-1];return g(Ql,nl[Ql])}return rt??g("blanks","(Blanks)")}}:{comparator:(rt,al)=>{const Ql=K(al);return al==null||Ql<rt?-1:Ql>rt?1:0}});break}case"object":{u?_({valueFormatter:K=>{const rt=a(K);return Vu(rt)?rt:g("blanks","(Blanks)")}}):e.filterValueGetter=K=>a({column:K.column,node:K.node,value:this.valueService.getValue(K.column,K.node)});break}}}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear()}};function ol(e){return!!e.filterManager?.isAnyFilterPresent()}function dl(e,t="api"){e.filterManager?.onFilterChanged({source:t})}var Il=class extends bg{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field data-ref="eFloatingFilterText"></ag-input-text-field>
            </div>`,[vv]),this.eFloatingFilterText=Dp}wireBeans(e){this.columnNameService=e.columnNameService}destroy(){super.destroy()}init(e){this.params=e;const t=this.columnNameService.getDisplayNameForColumn(e.column,"header",!0),a=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${t} ${a("ariaFilterInput","Filter Input")}`)}onParentModelChanged(e){if(e==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(t=>{if(t.getModelAsString){const a=t.getModelAsString(e);this.eFloatingFilterText.setValue(a)}})}onParamsUpdated(e){this.refresh(e)}refresh(e){this.init(e)}},ql=class extends bg{wireBeans(e){this.columnNameService=e.columnNameService}getDefaultDebounceMs(){return 0}destroy(){super.destroy()}isEventFromFloatingFilter(e){return e&&e.afterFloatingFilter}isEventFromDataChange(e){return e?.afterDataChange}getLastType(){return this.lastType}isReadOnly(){return this.readOnly}setLastTypeFromModel(e){if(!e){this.lastType=this.optionsFactory.getDefaultOption();return}const t=e.operator;let a;t?a=e.conditions[0]:a=e,this.lastType=a.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;const a=e;return this.isTypeEditable(a.type)}init(e){this.setSimpleParams(e,!1)}setSimpleParams(e,t=!0){this.optionsFactory=new ev,this.optionsFactory.init(e.filterParams,this.getDefaultFilterOptions()),t||(this.lastType=this.optionsFactory.getDefaultOption()),this.readOnly=!!e.filterParams.readOnly;const a=this.isTypeEditable(this.optionsFactory.getDefaultOption());this.setEditable(a)}onParamsUpdated(e){this.refresh(e)}refresh(e){this.setSimpleParams(e)}doesFilterHaveSingleInput(e){const t=this.optionsFactory.getCustomOption(e),{numberOfInputs:a}=t||{};return a==null||a==1}isTypeEditable(e){const t=["inRange","empty","blank","notBlank"];return!!e&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(e)&&t.indexOf(e)<0}getAriaLabel(e){const t=this.columnNameService.getDisplayNameForColumn(e.column,"header",!0),a=this.localeService.getLocaleTextFunc();return`${t} ${a("ariaFilterInput","Filter Input")}`}},Zl=class extends ql{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field data-ref="eReadOnlyText"></ag-input-text-field>
                <div data-ref="eDateWrapper" style="display: flex;"></div>
            </div>`,[vv]),this.eReadOnlyText=Dp,this.eDateWrapper=Dp}wireBeans(e){super.wireBeans(e),this.context=e.context,this.userComponentFactory=e.userComponentFactory}getDefaultFilterOptions(){return O}init(e){super.init(e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent(),this.filterModelFormatter=new j(this.filterParams,this.localeService,this.optionsFactory);const t=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input"))}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.params=e,this.filterParams=e.filterParams,this.updateDateComponent(),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){const t=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(t),t){if(e){const a=e;this.dateComp.setDate(q(a.dateFrom))}else this.dateComp.setDate(null);this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}setEditable(e){Pg(this.eDateWrapper,e),Pg(this.eReadOnlyText.getGui(),!e)}onParentModelChanged(e,t){this.isEventFromFloatingFilter(t)||this.isEventFromDataChange(t)||(super.setLastTypeFromModel(e),this.updateCompOnModelChange(e))}onDateChanged(){const e=this.dateComp.getDate(),t=Q(e);this.params.parentFilterInstance(a=>{if(a){const u=q(t);a.onFloatingFilterChanged(this.getLastType()||null,u)}})}getDateComponentParams(){const e=J1(this.params.filterParams,this.getDefaultDebounceMs());return{onDateChanged:Kl(this.onDateChanged.bind(this),e),filterParams:this.params.column.getColDef().filterParams}}createDateComponent(){this.dateComp=new J(this.context,this.userComponentFactory,this.getDateComponentParams(),this.eDateWrapper,e=>{e.setInputAriaLabel(this.getAriaLabel(this.params))}),this.addDestroyFunc(()=>this.dateComp.destroy())}updateDateComponent(){const e=this.gos.addGridCommonParams(this.getDateComponentParams());this.dateComp.updateParams(e)}getFilterModelFormatter(){return this.filterModelFormatter}},Bu=class extends bg{constructor(){super(`
            <div class="ag-filter-filter">
                <ag-input-text-field class="ag-date-filter" data-ref="eDateInput"></ag-input-text-field>
            </div>`,[vv]),this.eDateInput=Dp}destroy(){super.destroy()}init(e){this.params=e,this.setParams(e);const t=this.eDateInput.getInputElement();this.addManagedListeners(t,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||t.focus()},input:a=>{a.target===Gp(this.gos)&&(this.eDateInput.isDisabled()||this.params.onDateChanged())}})}setParams(e){const t=this.eDateInput.getInputElement(),a=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=a&&_1(),t.type=a?"date":"text";const{minValidYear:u,maxValidYear:g,minValidDate:_,maxValidDate:K}=e.filterParams||{};if(_&&u&&ie("DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored."),K&&g&&ie("DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored."),_&&K){const[rt,al]=[_,K].map(Ql=>Ql instanceof Date?Ql:q(Ql));rt&&al&&rt.getTime()>al.getTime()&&ie("DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.")}_?_ instanceof Date?t.min=$(_):t.min=_:u&&(t.min=`${u}-01-01`),K?K instanceof Date?t.max=$(K):t.max=K:g&&(t.max=`${g}-12-31`)}onParamsUpdated(e){this.refresh(e)}refresh(e){this.params=e,this.setParams(e)}getDate(){return q(this.eDateInput.getValue())}setDate(e){this.eDateInput.setValue(Q(e,!1))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setInputAriaLabel(e){this.eDateInput.setAriaLabel(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus()}shouldUseBrowserDatePicker(e){return e.filterParams&&e.filterParams.browserDatePicker!=null?e.filterParams.browserDatePicker:dv()||ly()||_1()&&A2()>=14.1}},Ju=class extends Nh{constructor(e){super(),this.params=e,this.eFloatingFilterTextInput=Dp,this.valueChangedListener=()=>{}}setupGui(e){this.eFloatingFilterTextInput=this.createManagedBean(new Kg(this.params?.config));const t=this.eFloatingFilterTextInput.getGui();e.appendChild(t);const a=u=>this.valueChangedListener(u);this.addManagedListeners(t,{input:a,keydown:a})}setEditable(e){this.eFloatingFilterTextInput.setDisabled(!e)}setAutoComplete(e){this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.eFloatingFilterTextInput.getValue()}setValue(e,t){this.eFloatingFilterTextInput.setValue(e,t)}setValueChangedListener(e){this.valueChangedListener=e}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterTextInput.setInputAriaLabel(e)}},yd=class extends ql{constructor(){super(...arguments),this.eFloatingFilterInputContainer=Dp}postConstruct(){this.setTemplate(`
            <div class="ag-floating-filter-input" role="presentation" data-ref="eFloatingFilterInputContainer"></div>
        `)}getDefaultDebounceMs(){return 500}onParentModelChanged(e,t){this.isEventFromFloatingFilter(t)||this.isEventFromDataChange(t)||(this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(e)))}init(e){this.setupFloatingFilterInputService(e),super.init(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.floatingFilterInputService=this.createFloatingFilterInputService(e),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){this.params=e;const t=e.browserAutoComplete??!1;if(this.floatingFilterInputService.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:t}),this.applyActive=$v(this.params.filterParams),!this.isReadOnly()){const a=J1(this.params.filterParams,this.getDefaultDebounceMs()),u=Kl(this.syncUpWithParentFilter.bind(this),a);this.floatingFilterInputService.setValueChangedListener(u)}}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){const t=this.floatingFilterInputService.getValue();Dm(this.eFloatingFilterInputContainer),this.destroyBean(this.floatingFilterInputService),this.setupFloatingFilterInputService(e),this.floatingFilterInputService.setValue(t,!0)}syncUpWithParentFilter(e){const t=e.key===pf.ENTER;if(this.applyActive&&!t)return;let a=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(a=R(a),this.floatingFilterInputService.setValue(a,!0)),this.params.parentFilterInstance(u=>{u&&u.onFloatingFilterChanged(this.getLastType()||null,a||null)})}setEditable(e){this.floatingFilterInputService.setEditable(e)}},Hd=class extends Nh{constructor(){super(...arguments),this.valueChangedListener=()=>{},this.numberInputActive=!0}setupGui(e){this.eFloatingFilterNumberInput=this.createManagedBean(new Kv),this.eFloatingFilterTextInput=this.createManagedBean(new Kg),this.eFloatingFilterTextInput.setDisabled(!0);const t=this.eFloatingFilterNumberInput.getGui(),a=this.eFloatingFilterTextInput.getGui();e.appendChild(t),e.appendChild(a),this.setupListeners(t,u=>this.valueChangedListener(u)),this.setupListeners(a,u=>this.valueChangedListener(u))}setEditable(e){this.numberInputActive=e,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eFloatingFilterNumberInput.setAutoComplete(e),this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput}setValueChangedListener(e){this.valueChangedListener=e}setupListeners(e,t){this.addManagedListeners(e,{input:t,keydown:t})}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterNumberInput.setInputAriaLabel(e),this.eFloatingFilterTextInput.setInputAriaLabel(e)}},Rd=class extends yd{init(e){super.init(e),this.filterModelFormatter=new In(this.localeService,this.optionsFactory,e.filterParams?.numberFormatter)}onParamsUpdated(e){this.refresh(e)}refresh(e){A(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return Ay}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(e){return this.allowedCharPattern=A(e.filterParams),this.allowedCharPattern?this.createManagedBean(new Ju({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new Hd)}},Ed=class extends yd{init(e){super.init(e),this.filterModelFormatter=new P(this.localeService,this.optionsFactory)}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return C}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(){return this.createManagedBean(new Ju)}};function _u(e){return!!e.filterManager?.isQuickFilterPresent()}function Nu(e){return e.gos.get("quickFilterText")}function Gl(e){e.filterManager?.resetQuickFilterCache()}var rd=class extends Nh{constructor(){super(...arguments),this.beanName="quickFilterService",this.quickFilter=null,this.quickFilterParts=null}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.rowModel=e.rowModel,this.pivotResultColsService=e.pivotResultColsService}postConstruct(){const e=this.resetQuickFilterCache.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:e,columnRowGroupChanged:e,columnVisible:()=>{this.gos.get("includeHiddenColumnsInQuickFilter")||this.resetQuickFilterCache()}}),this.addManagedPropertyListener("quickFilterText",t=>this.setQuickFilter(t.currentValue)),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],()=>this.onQuickFilterColumnConfigChanged()),this.quickFilter=this.parseQuickFilter(this.gos.get("quickFilterText")),this.parser=this.gos.get("quickFilterParser"),this.matcher=this.gos.get("quickFilterMatcher"),this.setQuickFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setQuickFilterParserAndMatcher())}refreshQuickFilterCols(){const e=this.columnModel.isPivotMode(),t=this.columnModel.getAutoCols(),a=this.columnModel.getColDefCols();let u=(e&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")?this.pivotResultColsService.getPivotResultCols()?.list:a)??[];t&&(u=u.concat(t)),this.colsForQuickFilter=this.gos.get("includeHiddenColumnsInQuickFilter")?u:u.filter(g=>g.isVisible()||g.isRowGroupActive())}isQuickFilterPresent(){return this.quickFilter!==null}doesRowPassQuickFilter(e){const t=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassQuickFilterMatcher(t,e):this.quickFilterParts.every(a=>t?this.doesRowPassQuickFilterCache(e,a):this.doesRowPassQuickFilterNoCache(e,a))}resetQuickFilterCache(){this.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}setQuickFilterParts(){const{quickFilter:e,parser:t}=this;e?this.quickFilterParts=t?t(e):e.split(" "):this.quickFilterParts=null}parseQuickFilter(e){return Vu(e)?Dd(this.gos)?e.toUpperCase():(ie("Quick filtering only works with the Client-Side Row Model"),null):null}setQuickFilter(e){if(e!=null&&typeof e!="string"){ie(`Grid option quickFilterText only supports string inputs, received: ${typeof e}`);return}const t=this.parseQuickFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setQuickFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}setQuickFilterParserAndMatcher(){const e=this.gos.get("quickFilterParser"),t=this.gos.get("quickFilterMatcher"),a=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,a&&(this.setQuickFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}onQuickFilterColumnConfigChanged(){this.refreshQuickFilterCols(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.dispatchLocalEvent({type:"quickFilterChanged"})}doesRowPassQuickFilterNoCache(e,t){return this.colsForQuickFilter.some(a=>{const u=this.getQuickFilterTextForColumn(a,e);return Vu(u)&&u.indexOf(t)>=0})}doesRowPassQuickFilterCache(e,t){return this.checkGenerateQuickFilterAggregateText(e),e.quickFilterAggregateText.indexOf(t)>=0}doesRowPassQuickFilterMatcher(e,t){let a;e?(this.checkGenerateQuickFilterAggregateText(t),a=t.quickFilterAggregateText):a=this.getQuickFilterAggregateText(t);const{quickFilterParts:u,matcher:g}=this;return g(u,a)}checkGenerateQuickFilterAggregateText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getQuickFilterAggregateText(e))}getQuickFilterTextForColumn(e,t){let a=this.valueService.getValue(e,t,!0);const u=e.getColDef();if(u.getQuickFilterText){const g=this.gos.addGridCommonParams({value:a,node:t,data:t.data,column:e,colDef:u});a=u.getQuickFilterText(g)}return Vu(a)?a.toString().toUpperCase():null}getQuickFilterAggregateText(e){const t=[];return this.colsForQuickFilter.forEach(a=>{const u=this.getQuickFilterTextForColumn(a,e);Vu(u)&&t.push(u)}),t.join(`
`)}},Sd={version:kl,moduleName:"@ag-grid-community/filter-core",beans:[wy]},Pd={version:kl,moduleName:"@ag-grid-community/filter-api",apiFunctions:{isAnyFilterPresent:ol,onFilterChanged:dl},dependantModules:[Sd]},Ud={version:kl,moduleName:"@ag-grid-community/column-filter",beans:[_t],dependantModules:[Sd]},$d={version:kl,moduleName:"@ag-grid-community/column-filter-api",apiFunctions:{isColumnFilterPresent:Dl,getFilterInstance:Ol,getColumnFilterInstance:gu,destroyFilter:yu,setFilterModel:Iu,getFilterModel:cl,getColumnFilterModel:pl,setColumnFilterModel:it,showColumnFilter:bl},dependantModules:[Ud,Pd]},th={version:kl,moduleName:"@ag-grid-community/floating-filter-core",controllers:[{name:"headerFilterCell",classImp:xl}],dependantModules:[Ud]},sh={version:kl,moduleName:"@ag-grid-community/floating-filter",dependantModules:[th,Ud]},ah={version:kl,moduleName:"@ag-grid-community/read-only-floating-filter",userComponents:[{name:"agReadOnlyFloatingFilter",classImp:Il}],dependantModules:[th]},Ah={version:kl,moduleName:"@ag-grid-community/simple-filter",dependantModules:[Ud],userComponents:[{name:"agTextColumnFilter",classImp:F},{name:"agNumberColumnFilter",classImp:v},{name:"agDateColumnFilter",classImp:nt},{name:"agDateInput",classImp:Bu}]},Yd={version:kl,moduleName:"@ag-grid-community/simple-floating-filter",dependantModules:[Ah,th],userComponents:[{name:"agTextColumnFloatingFilter",classImp:Ed},{name:"agNumberColumnFloatingFilter",classImp:Rd},{name:"agDateColumnFloatingFilter",classImp:Zl}]},Ph={version:kl,moduleName:"@ag-grid-community/quick-filter-core",beans:[rd],dependantModules:[Sd]},jh={version:kl,moduleName:"@ag-grid-community/quick-filter-api",apiFunctions:{isQuickFilterPresent:_u,getQuickFilter:Nu,resetQuickFilter:Gl},dependantModules:[Ph]},Th={version:kl,moduleName:"@ag-grid-community/quick-filter",dependantModules:[Ph,jh]},Xh={version:kl,moduleName:"@ag-grid-community/filter",dependantModules:[Yd,ah,Th,$d]},Pu=class extends bg{constructor(e,t){super(e),this.ctrl=t}getCtrl(){return this.ctrl}},sd=class extends Pu{constructor(e){super(`<div class="ag-header-cell ag-floating-filter" role="gridcell">
            <div data-ref="eFloatingFilterBody" role="presentation"></div>
            <div class="ag-floating-filter-button ag-hidden" data-ref="eButtonWrapper" role="presentation">
                <button type="button" class="ag-button ag-floating-filter-button-button" data-ref="eButtonShowMainFilter" tabindex="-1"></button>
            </div>
        </div>`,e),this.eFloatingFilterBody=Dp,this.eButtonWrapper=Dp,this.eButtonShowMainFilter=Dp}postConstruct(){const e=this.getGui(),t={addOrRemoveCssClass:(a,u)=>this.addOrRemoveCssClass(a,u),addOrRemoveBodyCssClass:(a,u)=>this.eFloatingFilterBody.classList.toggle(a,u),setButtonWrapperDisplayed:a=>Pg(this.eButtonWrapper,a),setCompDetails:a=>this.setCompDetails(a),getFloatingFilterComp:()=>this.compPromise,setWidth:a=>e.style.width=a,setMenuIcon:a=>this.eButtonShowMainFilter.appendChild(a)};this.ctrl.setComp(t,e,this.eButtonShowMainFilter,this.eFloatingFilterBody,void 0)}setCompDetails(e){if(!e){this.destroyFloatingFilterComp(),this.compPromise=null;return}this.compPromise=e.newAgStackInstance(),this.compPromise.then(t=>this.afterCompCreated(t))}destroy(){this.destroyFloatingFilterComp(),super.destroy()}destroyFloatingFilterComp(){this.floatingFilterComp&&(this.eFloatingFilterBody.removeChild(this.floatingFilterComp.getGui()),this.floatingFilterComp=this.destroyBean(this.floatingFilterComp))}afterCompCreated(e){if(e){if(!this.isAlive()){this.destroyBean(e);return}this.destroyFloatingFilterComp(),this.floatingFilterComp=e,this.eFloatingFilterBody.appendChild(e.getGui()),e.afterGuiAttached&&e.afterGuiAttached()}}},_l=class extends Pu{constructor(e){super(`<div class="ag-header-cell" role="columnheader">
            <div data-ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
            <div data-ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>
        </div>`,e),this.eResize=Dp,this.eHeaderCompWrapper=Dp,this.headerCompVersion=0,this.column=e.getColumnGroupChild(),this.pinned=e.getPinned()}postConstruct(){const e=this.getGui();((g,_)=>{_!=null&&_!=""?e.setAttribute(g,_):e.removeAttribute(g)})("col-id",this.column.getColId());const a={setWidth:g=>e.style.width=g,addOrRemoveCssClass:(g,_)=>this.addOrRemoveCssClass(g,_),setAriaSort:g=>g?Kf(e,g):e0(e),setUserCompDetails:g=>this.setUserCompDetails(g),getUserCompInstance:()=>this.headerComp};this.ctrl.setComp(a,this.getGui(),this.eResize,this.eHeaderCompWrapper,void 0);const u=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",u)}destroy(){this.destroyHeaderComp(),super.destroy()}destroyHeaderComp(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)}setUserCompDetails(e){this.headerCompVersion++;const t=this.headerCompVersion;e.newAgStackInstance().then(a=>this.afterCompCreated(t,a))}afterCompCreated(e,t){if(e!=this.headerCompVersion||!this.isAlive()){this.destroyBean(t);return}this.destroyHeaderComp(),this.headerComp=t,this.headerCompGui=t.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())}},Ul=class extends Pu{constructor(e){super(`<div class="ag-header-group-cell" role="columnheader">
            <div data-ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>
            <div data-ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
        </div>`,e),this.eResize=Dp,this.eHeaderCompWrapper=Dp}postConstruct(){const e=this.getGui(),t=(u,g)=>g!=null?e.setAttribute(u,g):e.removeAttribute(u);e.setAttribute("col-id",this.ctrl.getColId());const a={addOrRemoveCssClass:(u,g)=>this.addOrRemoveCssClass(u,g),setHeaderWrapperHidden:u=>{u?this.eHeaderCompWrapper.style.setProperty("display","none"):this.eHeaderCompWrapper.style.removeProperty("display")},setHeaderWrapperMaxHeight:u=>{u!=null?this.eHeaderCompWrapper.style.setProperty("max-height",`${u}px`):this.eHeaderCompWrapper.style.removeProperty("max-height"),this.eHeaderCompWrapper.classList.toggle("ag-header-cell-comp-wrapper-limited-height",u!=null)},setResizableDisplayed:u=>Pg(this.eResize,u),setWidth:u=>e.style.width=u,setAriaExpanded:u=>t("aria-expanded",u),setUserCompDetails:u=>this.setUserCompDetails(u),getUserCompInstance:()=>this.headerGroupComp};this.ctrl.setComp(a,e,this.eResize,this.eHeaderCompWrapper,void 0)}setUserCompDetails(e){e.newAgStackInstance().then(t=>this.afterHeaderCompCreated(t))}afterHeaderCompCreated(e){const t=()=>this.destroyBean(e);if(!this.isAlive()){t();return}const a=this.getGui(),u=e.getGui();this.eHeaderCompWrapper.appendChild(u),this.addDestroyFunc(t),this.headerGroupComp=e,this.ctrl.setDragSource(a)}addOrRemoveHeaderWrapperStyle(e,t){const{eHeaderCompWrapper:a}=this;t?a.style.setProperty(e,t):a.style.removeProperty(e)}},Jl=(e=>(e.COLUMN_GROUP="group",e.COLUMN="column",e.FLOATING_FILTER="filter",e))(Jl||{}),Hu=class extends bg{constructor(e){super(),this.headerComps={},this.ctrl=e,this.setTemplate(`<div class="${this.ctrl.getHeaderRowClass()}" role="row"></div>`)}postConstruct(){sg(this.getGui(),this.ctrl.getAriaRowIndex());const e={setHeight:t=>this.getGui().style.height=t,setTop:t=>this.getGui().style.top=t,setHeaderCtrls:(t,a)=>this.setHeaderCtrls(t,a),setWidth:t=>this.getGui().style.width=t};this.ctrl.setComp(e,void 0)}destroy(){this.setHeaderCtrls([],!1),super.destroy()}setHeaderCtrls(e,t){if(!this.isAlive())return;const a=this.headerComps;if(this.headerComps={},e.forEach(u=>{const g=u.instanceId;let _=a[g];delete a[g],_==null&&(_=this.createHeaderComp(u),this.getGui().appendChild(_.getGui())),this.headerComps[g]=_}),Me(a,(u,g)=>{this.getGui().removeChild(g.getGui()),this.destroyBean(g)}),t){const u=ll(this.headerComps);u.sort((_,K)=>{const rt=_.getCtrl().getColumnGroupChild().getLeft(),al=K.getCtrl().getColumnGroupChild().getLeft();return rt-al});const g=u.map(_=>_.getGui());_2(this.getGui(),g)}}createHeaderComp(e){let t;switch(this.ctrl.getType()){case"group":t=new Ul(e);break;case"filter":t=new sd(e);break;default:t=new _l(e);break}return this.createBean(t),t.setParentComponent(this),t}},Ku=(e=>(e[e.UP=0]="UP",e[e.DOWN=1]="DOWN",e[e.LEFT=2]="LEFT",e[e.RIGHT=3]="RIGHT",e))(Ku||{}),fd=class extends Nh{constructor(){super(...arguments),this.beanName="headerNavigationService",this.currentHeaderRowWithoutSpan=-1}wireBeans(e){this.focusService=e.focusService,this.headerPositionUtils=e.headerPositionUtils,this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.visibleColService=e.visibleColsService}postConstruct(){this.ctrlsService.whenReady(this,t=>{this.gridBodyCon=t.gridBodyCtrl});const e=Fp(this.gos);this.addManagedElementListeners(e,{mousedown:()=>this.setCurrentHeaderRowWithoutSpan(-1)})}getHeaderRowCount(){return this.ctrlsService.getHeaderRowContainerCtrl()?.getRowCount()??0}getHeaderPositionForColumn(e,t){let a;if(typeof e=="string"?(a=this.columnModel.getCol(e),a||(a=this.visibleColService.getColumnGroup(e))):a=e,!a)return null;const g=this.ctrlsService.getHeaderRowContainerCtrl()?.getAllCtrls(),_=Pp(g||[]).getType()==="filter",K=this.getHeaderRowCount()-1;let rt=-1,al=a;for(;al;)rt++,al=al.getParent();let Ql=rt;return t&&_&&Ql===K-1&&Ql++,Ql===-1?null:{headerRowIndex:Ql,column:a}}navigateVertically(e,t,a){if(t||(t=this.focusService.getFocusedHeader()),!t)return!1;const{headerRowIndex:u}=t,g=t.column,_=this.getHeaderRowCount(),K=e===0;let{headerRowIndex:rt,column:al,headerRowIndexWithoutSpan:Ql}=K?this.headerPositionUtils.getColumnVisibleParent(g,u):this.headerPositionUtils.getColumnVisibleChild(g,u),Gu=!1;return rt<0&&(rt=0,al=g,Gu=!0),rt>=_?(rt=-1,this.setCurrentHeaderRowWithoutSpan(-1)):Ql!==void 0&&(this.currentHeaderRowWithoutSpan=Ql),!Gu&&!al?!1:this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:rt,column:al},allowUserOverride:!0,event:a})}setCurrentHeaderRowWithoutSpan(e){this.currentHeaderRowWithoutSpan=e}navigateHorizontally(e,t=!1,a){const u=this.focusService.getFocusedHeader(),g=e===2,_=this.gos.get("enableRtl");let K,rt;if(this.currentHeaderRowWithoutSpan!==-1?u.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=u.headerRowIndex,g!==_?(rt="Before",K=this.headerPositionUtils.findHeader(u,rt)):(rt="After",K=this.headerPositionUtils.findHeader(u,rt)),K||!t)return this.focusService.focusHeaderPosition({headerPosition:K,direction:rt,fromTab:t,allowUserOverride:!0,event:a});if(t){const al=this.gos.getCallback("tabToNextHeader");if(al)return this.focusService.focusHeaderPositionFromUserFunc({userFunc:al,headerPosition:K,direction:rt})}return this.focusNextHeaderRow(u,rt,a)}focusNextHeaderRow(e,t,a){const u=e.headerRowIndex;let g=null,_;if(t==="Before"?u>0&&(_=u-1,this.currentHeaderRowWithoutSpan-=1,g=this.headerPositionUtils.findColAtEdgeForHeaderRow(_,"end")):(_=u+1,this.currentHeaderRowWithoutSpan<this.getHeaderRowCount()?this.currentHeaderRowWithoutSpan+=1:this.setCurrentHeaderRowWithoutSpan(-1),g=this.headerPositionUtils.findColAtEdgeForHeaderRow(_,"start")),!g)return!1;const{column:K,headerRowIndex:rt}=this.headerPositionUtils.getHeaderIndexToFocus(g.column,g?.headerRowIndex);return this.focusService.focusHeaderPosition({headerPosition:{column:K,headerRowIndex:rt},direction:t,fromTab:!0,allowUserOverride:!0,event:a})}scrollToColumn(e,t="After"){if(e.getPinned())return;let a;if(af(e)){const u=e.getDisplayedLeafColumns();a=t==="Before"?Pp(u):u[0]}else a=e;this.gridBodyCon.getScrollFeature().ensureColumnVisible(a)}},bd=class extends Nh{wireBeans(e){this.animationFrameService=e.animationFrameService,this.headerNavigationService=e.headerNavigationService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService,this.filterManager=e.filterManager,this.menuService=e.menuService}setComp(e,t,a){this.comp=e,this.eGui=t,this.createManagedBean(new c1(a,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),this.onPivotModeChanged(),this.setupHeaderHeight();const u=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:u}),this.mockContextMenuForIPad(u),this.ctrlsService.register("gridHeaderCtrl",this)}setupHeaderHeight(){const e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e),this.addManagedEventListeners({displayedColumnsChanged:e,columnHeaderHeightChanged:e,columnGroupHeaderHeightChanged:()=>this.animationFrameService.requestAnimationFrame(()=>e()),gridStylesChanged:e,advancedFilterEnabledChanged:e})}getHeaderHeight(){return this.headerHeight}setHeaderHeight(){const{columnModel:e}=this;let t=0;const a=this.columnModel.getGroupRowsHeight().reduce((_,K)=>_+K,0),u=this.columnModel.getColumnHeaderRowHeight();if(this.filterManager?.hasFloatingFilters()&&(t+=e.getFloatingFiltersHeight()),t+=a,t+=u,this.headerHeight===t)return;this.headerHeight=t;const g=`${t+1}px`;this.comp.setHeightAndMinHeight(g),this.eventService.dispatchEvent({type:"headerHeightChanged"})}onPivotModeChanged(){const e=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",e),this.comp.addOrRemoveCssClass("ag-pivot-off",!e)}onDisplayedColumnsChanged(){const t=this.visibleColsService.getAllCols().some(a=>a.isSpanHeaderHeight());this.comp.addOrRemoveCssClass("ag-header-allow-overflow",t)}onTabKeyDown(e){const t=this.gos.get("enableRtl"),a=e.shiftKey,u=a!==t?2:3;(this.headerNavigationService.navigateHorizontally(u,!0,e)||!a&&this.focusService.focusOverlay(!1)||this.focusService.focusNextGridCoreContainer(a,!0))&&e.preventDefault()}handleKeyDown(e){let t=null;switch(e.key){case pf.LEFT:t=2;case pf.RIGHT:{Vu(t)||(t=3),this.headerNavigationService.navigateHorizontally(t,!1,e)&&e.preventDefault();break}case pf.UP:t=0;case pf.DOWN:{Vu(t)||(t=1),this.headerNavigationService.navigateVertically(t,null,e)&&e.preventDefault();break}default:return}}onFocusOut(e){const{relatedTarget:t}=e;!t&&this.eGui.contains(Gp(this.gos))||this.eGui.contains(t)||this.focusService.clearFocusedHeader()}onHeaderContextMenu(e,t,a){if(!e&&!a||!this.menuService.isHeaderContextMenuEnabled())return;const{target:u}=e??t;(u===this.eGui||u===this.ctrlsService.getHeaderRowContainerCtrl()?.getViewportElement())&&this.menuService.showHeaderContextMenu(void 0,e,a)}mockContextMenuForIPad(e){if(!I1())return;const t=new l1(this.eGui),a=u=>{e(void 0,u.touchStart,u.touchEvent)};this.addManagedListeners(t,{longTap:a}),this.addDestroyFunc(()=>t.destroy())}},Nd=class extends Nh{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t}wireBeans(e){this.visibleColsService=e.visibleColsService,this.scrollVisibleService=e.scrollVisibleService}postConstruct(){const e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth()}setWidth(){const e=gd(this.gos,"print"),t=this.visibleColsService.getBodyContainerWidth(),a=this.visibleColsService.getColsLeftWidth(),u=this.visibleColsService.getDisplayedColumnsRightWidth();let g;e?g=t+a+u:(g=t,this.addSpacer&&(this.gos.get("enableRtl")?a:u)===0&&this.scrollVisibleService.isVerticalScrollShowing()&&(g+=this.scrollVisibleService.getScrollbarWidth())),this.callback(g)}},Fd=class extends Nh{constructor(e){super(),this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=e}wireBeans(e){this.funcColsService=e.funcColsService}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;const t=e.dragItem.columns;t&&t.forEach(a=>{a.isPrimary()&&(a.isAnyFunctionActive()||(a.isAllowValue()?this.columnsToAggregate.push(a):a.isAllowRowGroup()?this.columnsToGroup.push(a):a.isAllowPivot()&&this.columnsToPivot.push(a)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){this.columnsToAggregate.length>0&&this.funcColsService.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.funcColsService.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.funcColsService.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")}onDragCancel(){this.clearColumnsList()}};function zd(e){const{isFromHeader:t,fromLeft:a,xPosition:u,fromEnter:g,fakeEvent:_,pinned:K,gos:rt,columnModel:al,columnMoveService:Ql,visibleColsService:Gu}=e;let{allMovingColumns:Wu}=e;if(t){const K0=[];Wu.forEach(h0=>{let x0=null,Mg=h0.getParent();for(;Mg!=null&&Mg.getDisplayedLeafColumns().length===1;)x0=Mg,Mg=Mg.getParent();x0!=null?(!!x0.getColGroupDef()?.marryChildren?x0.getProvidedColumnGroup().getLeafColumns():x0.getLeafColumns()).forEach(Vy=>{K0.includes(Vy)||K0.push(Vy)}):K0.includes(h0)||K0.push(h0)}),Wu=K0}const id=Wu.slice();al.sortColsLikeCols(id);const uh=yf({movingCols:id,draggingRight:a,xPosition:u,pinned:K,gos:rt,columnModel:al,visibleColsService:Gu}),Qh=hh(id,al);if(uh.length===0)return;const uf=uh[0];let tf=Qh!==null&&!g;if(t&&(tf=Qh!==null),tf&&!_&&(!a&&uf>=Qh||a&&uf<=Qh))return;const Hf=Gu.getAllCols(),Vf=[];let Bf=null;for(let K0=0;K0<uh.length;K0++){const h0=uh[K0],x0=Ql.getProposedColumnOrder(id,h0);if(!Ql.doesOrderPassRules(x0))continue;const Mg=x0.filter(D3=>Hf.includes(D3));if(Bf===null)Bf=Mg;else if(!Xg(Mg,Bf))break;const em=gh(x0);Vf.push({move:h0,fragCount:em})}if(Vf.length===0)return;Vf.sort((K0,h0)=>K0.fragCount-h0.fragCount);const Kp=Vf[0].move;if(!(Kp>al.getCols().length-Wu.length))return{columns:Wu,toIndex:Kp}}function lh(e){const{columns:t,toIndex:a}=zd(e)||{},{finished:u,columnMoveService:g}=e;return!t||a==null?null:(g.moveColumns(t,a,"uiColumnMoved",u),u?null:{columns:t,toIndex:a})}function hh(e,t){const a=t.getCols(),u=hm(e.map(al=>a.indexOf(al))),g=u[0];return Pp(u)-g!==u.length-1?null:g}function gh(e){function t(u){const g=[];let _=u.getOriginalParent();for(;_!=null;)g.push(_),_=_.getOriginalParent();return g}let a=0;for(let u=0;u<e.length-1;u++){let g=t(e[u]),_=t(e[u+1]);[g,_]=g.length>_.length?[g,_]:[_,g],g.forEach(K=>{_.indexOf(K)===-1&&a++})}return a}function Zh(e,t){switch(t){case"left":return e.getLeftCols();case"right":return e.getRightCols();default:return e.getCenterCols()}}function yf(e){const{movingCols:t,draggingRight:a,xPosition:u,pinned:g,gos:_,columnModel:K,visibleColsService:rt}=e;if(_.get("suppressMovableColumns")||t.some(Bf=>Bf.getColDef().suppressMovable))return[];const Ql=Zh(rt,g),Gu=K.getCols(),Wu=Ql.filter(Bf=>yg(t,Bf)),id=Ql.filter(Bf=>!yg(t,Bf)),uh=Gu.filter(Bf=>!yg(t,Bf));let Qh=0,uf=u;if(a){let Bf=0;Wu.forEach(Kp=>Bf+=Kp.getActualWidth()),uf-=Bf}if(uf>0){for(let Bf=0;Bf<id.length;Bf++){const Kp=id[Bf];if(uf-=Kp.getActualWidth(),uf<0)break;Qh++}a&&Qh++}let tf;if(Qh>0){const Bf=id[Qh-1];tf=uh.indexOf(Bf)+1}else tf=uh.indexOf(id[0]),tf===-1&&(tf=0);const Hf=[tf],Vf=(Bf,Kp)=>Bf-Kp;if(a){let Bf=tf+1;const Kp=Gu.length-1;for(;Bf<=Kp;)Hf.push(Bf),Bf++;Hf.sort(Vf)}else{let Bf=tf;const Kp=Gu.length-1;let K0=Gu[Bf];for(;Bf<=Kp&&Ql.indexOf(K0)<0;)Bf++,Hf.push(Bf),K0=Gu[Bf];Bf=tf-1;const h0=0;for(;Bf>=h0;)Hf.push(Bf),Bf--;Hf.sort(Vf).reverse()}return Hf}function Pf(e){const{pinned:t,fromKeyboard:a,gos:u,ctrlsService:g,useHeaderRow:_,skipScrollPadding:K}=e;let rt=g.getHeaderRowContainerCtrl(t)?.getViewportElement(),{x:al}=e;return rt?(a&&(al-=rt.getBoundingClientRect().left),u.get("enableRtl")&&(_&&(rt=rt.querySelector(".ag-header-row")),al=rt.clientWidth-al),t==null&&!K&&(al+=g.get("center").getCenterViewportScrollLeft()),al):0}function jf(e,t){for(const a of e)a.setMoving(t,"uiColumnMoved")}var tp=7,Tf=100,$h=Tf/2,Gf=5,of=100,Lf=class extends Nh{constructor(e){super(),this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=e,this.isCenterContainer=!Vu(e)}wireBeans(e){this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnMoveService=e.columnMoveService,this.dragAndDropService=e.dragAndDropService,this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}getIconName(){const e=this.lastDraggingEvent?.dragItem.columns??[];for(const t of e){const a=t.getPinned();if(t.getColDef().lockPinned){if(a==this.pinned)return"move";continue}if(a===this.pinned||!this.pinned)return"move";if(!a&&this.pinned)return"pinned"}return"notAllowed"}onDragEnter(e){const t=e.dragItem.columns;if(e.dragSource.type===0)this.setColumnsVisible(t,!0,"uiColumnDragged");else{const u=e.dragItem.visibleState,g=(t||[]).filter(_=>u[_.getId()]);this.setColumnsVisible(g,!0,"uiColumnDragged")}this.gos.get("suppressMoveWhenColumnDragging")||this.attemptToPinColumns(t,this.pinned),this.onDragging(e,!0,!0)}onDragging(e=this.lastDraggingEvent,t=!1,a=!1,u=!1){const g=this.gos.get("suppressMoveWhenColumnDragging");if(u&&!g){this.finishColumnMoving();return}if(this.lastDraggingEvent=e,!e||!u&&Zu(e.hDirection))return;const{pinned:_,gos:K,ctrlsService:rt}=this,al=Pf({x:e.x,pinned:_,gos:K,ctrlsService:rt});t||this.checkCenterForScrolling(al),g?this.handleColumnDragWhileSuppressingMovement(e,t,a,al,u):this.handleColumnDragWhileAllowingMovement(e,t,a,al,u)}onDragLeave(){this.ensureIntervalCleared(),this.clearHighlighted(),this.lastMovedInfo=null}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}onDragCancel(){this.clearHighlighted(),this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,a){if(!e)return;const u=e.filter(g=>!g.getColDef().lockVisible);this.columnModel.setColsVisible(u,t,a)}finishColumnMoving(){if(this.clearHighlighted(),!this.lastMovedInfo)return;const{columns:e,toIndex:t}=this.lastMovedInfo;this.columnMoveService.moveColumns(e,t,"uiColumnMoved",!0)}handleColumnDragWhileSuppressingMovement(e,t,a,u,g){const _=this.getAllMovingColumns(e,!0);if(g){const K=this.isAttemptingToPin(_);K&&this.attemptToPinColumns(_,void 0,!0);const{fromLeft:rt,xPosition:al}=this.getNormalisedXPositionInfo(_,K)||{};if(rt==null||al==null){this.finishColumnMoving();return}this.moveColumnsAfterHighlight({allMovingColumns:_,xPosition:al,fromEnter:t,fakeEvent:a,fromLeft:rt})}else{if(!this.dragAndDropService.isDropZoneWithinThisGrid(e))return;this.highlightHoveredColumn(_,u)}}handleColumnDragWhileAllowingMovement(e,t,a,u,g){const _=this.getAllMovingColumns(e),K=this.normaliseDirection(e.hDirection)===1,rt=e.dragSource.type===1,al=this.getMoveColumnParams({allMovingColumns:_,isFromHeader:rt,xPosition:u,fromLeft:K,fromEnter:t,fakeEvent:a}),Ql=lh({...al,finished:g});Ql&&(this.lastMovedInfo=Ql)}getAllMovingColumns(e,t=!1){const a=e.dragSource.getDragItem();let u=null;t?(u=a.columnsInSplit,u||(u=a.columns)):u=a.columns;const g=_=>_.getColDef().lockPinned?_.getPinned()==this.pinned:!0;return u?u.filter(g):[]}getMoveColumnParams(e){const{allMovingColumns:t,isFromHeader:a,xPosition:u,fromLeft:g,fromEnter:_,fakeEvent:K}=e,{pinned:rt,gos:al,columnModel:Ql,columnMoveService:Gu,visibleColsService:Wu}=this;return{allMovingColumns:t,isFromHeader:a,fromLeft:g,xPosition:u,pinned:rt,fromEnter:_,fakeEvent:K,gos:al,columnModel:Ql,columnMoveService:Gu,visibleColsService:Wu}}findFirstAndLastMovingColumns(e){const t=e.length;let a,u;for(let g=0;g<=t;g++){if(!a){const _=e[g];_.getLeft()!=null&&(a=_)}if(!u){const _=e[t-1-g];_.getLeft()!=null&&(u=_)}if(a&&u)break}return{firstMovingCol:a,lastMovingCol:u}}highlightHoveredColumn(e,t){const{gos:a,columnModel:u}=this,g=a.get("enableRtl"),_=u.getCols().filter(Gu=>Gu.isVisible()&&Gu.getPinned()===this.pinned);let K=null,rt=null,al=null;for(const Gu of _){if(rt=Gu.getActualWidth(),K=this.getNormalisedColumnLeft(Gu,0,g),K!=null){const Wu=K+rt;if(K<=t&&Wu>=t){al=Gu;break}}K=null,rt=null}if(al)e.indexOf(al)!==-1&&(al=null);else{for(let Gu=_.length-1;Gu>=0;Gu--){const Wu=_[Gu],id=_[Gu].getParent();if(!id){al=Wu;break}const uh=id?.getDisplayedLeafColumns();if(uh.length){al=Pp(uh);break}}if(!al)return;K=this.getNormalisedColumnLeft(al,0,g),rt=al.getActualWidth()}if(this.lastHighlightedColumn?.column!==al&&this.clearHighlighted(),al==null||K==null||rt==null)return;let Ql;t-K<rt/2!==g?Ql=0:Ql=1,al.setHighlighted(Ql),this.lastHighlightedColumn={column:al,position:Ql}}getNormalisedXPositionInfo(e,t){const{gos:a,visibleColsService:u}=this,g=a.get("enableRtl"),{firstMovingCol:_,column:K,position:rt}=this.getColumnMoveAndTargetInfo(e,t,g);if(!_||!K||rt==null)return;const al=u.getAllCols(),Ql=al.indexOf(_),Gu=al.indexOf(K),Wu=rt===0!==g,id=Ql<Gu||Ql===Gu&&!Wu;let uh=0;if(Wu?id&&(uh-=1):id||(uh+=1),Gu+uh===Ql)return;const Qh=al[Gu+uh];if(!Qh)return;const uf=this.getNormalisedColumnLeft(Qh,20,g);return{fromLeft:id,xPosition:uf}}getColumnMoveAndTargetInfo(e,t,a){const u=this.lastHighlightedColumn||{},{firstMovingCol:g,lastMovingCol:_}=this.findFirstAndLastMovingColumns(e);if(!g||!_||u.column||!t)return{firstMovingCol:g,...u};const rt=this.getPinDirection()==="left";return{firstMovingCol:g,position:rt?1:0,column:rt!==a?g:_}}normaliseDirection(e){if(this.gos.get("enableRtl"))switch(e){case 0:return 1;case 1:return 0}return e}getNormalisedColumnLeft(e,t,a){const{gos:u,ctrlsService:g}=this,_=e.getLeft();if(_==null)return null;const K=e.getActualWidth();return Pf({x:a?_+K-t:_+t,pinned:e.getPinned(),useHeaderRow:a,skipScrollPadding:!0,gos:u,ctrlsService:g})}isAttemptingToPin(e){const t=this.needToMoveLeft||this.needToMoveRight,a=this.failedMoveAttempts>tp;return t&&a||e.some(u=>u.getPinned()!==this.pinned)}moveColumnsAfterHighlight(e){const{allMovingColumns:t,xPosition:a,fromEnter:u,fakeEvent:g,fromLeft:_}=e,K=this.getMoveColumnParams({allMovingColumns:t,isFromHeader:!0,xPosition:a,fromLeft:_,fromEnter:u,fakeEvent:g}),{columns:rt,toIndex:al}=zd(K)||{};rt&&al!=null&&(this.lastMovedInfo={columns:rt,toIndex:al}),this.finishColumnMoving()}clearHighlighted(){this.lastHighlightedColumn&&(this.lastHighlightedColumn.column.setHighlighted(null),this.lastHighlightedColumn=null)}checkCenterForScrolling(e){if(!this.isCenterContainer)return;const t=this.ctrlsService.get("center"),a=t.getCenterViewportScrollLeft(),u=a+t.getCenterWidth();this.gos.get("enableRtl")?(this.needToMoveRight=e<a+$h,this.needToMoveLeft=e>u-$h):(this.needToMoveLeft=e<a+$h,this.needToMoveRight=e>u-$h),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}ensureIntervalStarted(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),of),this.dragAndDropService.getDragAndDropImageComponent()?.setIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.failedMoveAttempts=0,this.dragAndDropService.getDragAndDropImageComponent()?.setIcon(this.getIconName()))}moveInterval(){let e;this.intervalCount++,e=10+this.intervalCount*Gf,e>Tf&&(e=Tf);let t=null;const a=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?t=a.scrollHorizontally(-e):this.needToMoveRight&&(t=a.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{if(this.failedMoveAttempts++,this.failedMoveAttempts<=tp+1)return;if(this.dragAndDropService.getDragAndDropImageComponent()?.setIcon("pinned"),!this.gos.get("suppressMoveWhenColumnDragging")){const u=this.lastDraggingEvent?.dragItem.columns;this.attemptToPinColumns(u,void 0,!0)}}}getPinDirection(){if(this.needToMoveLeft||this.pinned==="left")return"left";if(this.needToMoveRight||this.pinned==="right")return"right"}attemptToPinColumns(e,t,a=!1){const u=(e||[]).filter(g=>!g.getColDef().lockPinned);return u.length?(a&&(t=this.getPinDirection()),this.columnModel.setColsPinned(u,t,"uiColumnDragged"),a&&this.dragAndDropService.nudge(),u.length):0}destroy(){super.destroy(),this.lastDraggingEvent=null,this.clearHighlighted(),this.lastMovedInfo=null}},Df=class extends Nh{wireBeans(e){this.dragAndDropService=e.dragAndDropService,this.columnModel=e.columnModel,this.ctrlsService=e.ctrlsService}constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){this.ctrlsService.whenReady(this,e=>{switch(this.pinned){case"left":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.left.getContainerElement()],[e.bottomLeft.getContainerElement()],[e.topLeft.getContainerElement()]];break;case"right":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.right.getContainerElement()],[e.bottomRight.getContainerElement()],[e.topRight.getContainerElement()]];break;default:this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.center.getViewportElement()],[e.bottomCenter.getViewportElement()],[e.topCenter.getViewportElement()]];break}}),this.moveColumnFeature=this.createManagedBean(new Lf(this.pinned)),this.bodyDropPivotTarget=this.createManagedBean(new Fd(this.pinned)),this.dragAndDropService.addDropTarget(this),this.addDestroyFunc(()=>this.dragAndDropService.removeDropTarget(this))}isInterestedIn(e){return e===1||e===0&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.columnModel.isPivotMode()&&e.dragSource.type===0}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}onDragCancel(){this.currentDropListener.onDragCancel()}},If=class extends Nh{wireBeans(e){this.horizontalResizeService=e.horizontalResizeService,this.pinnedWidthService=e.pinnedWidthService,this.ctrlsService=e.ctrlsService,this.columnSizeService=e.columnSizeService,this.columnAutosizeService=e.columnAutosizeService}constructor(e,t,a,u,g){super(),this.pinned=e,this.column=t,this.eResize=a,this.comp=u,this.ctrl=g}postConstruct(){const e=[];let t,a;const u=()=>{if(Pg(this.eResize,t),!t)return;const K=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(e.push(K),a){const rt=this.gos.get("skipHeaderOnAutoSize"),al=()=>{this.columnAutosizeService.autoSizeColumn(this.column,"uiColumnResized",rt)};this.eResize.addEventListener("dblclick",al);const Ql=new l1(this.eResize);Ql.addEventListener("doubleTap",al),e.push(()=>{this.eResize.removeEventListener("dblclick",al),Ql.removeEventListener("doubleTap",al),Ql.destroy()})}},g=()=>{e.forEach(K=>K()),e.length=0},_=()=>{const K=this.column.isResizable(),rt=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(K!==t||rt!==a)&&(t=K,a=rt,g(),u())};_(),this.addDestroyFunc(g),this.ctrl.setRefreshFunction("resize",_)}onResizing(e,t){const{column:a,lastResizeAmount:u,resizeStartWidth:g}=this,_=this.normaliseResizeAmount(t),K=g+_,rt=[{key:a,newWidth:K}];if(this.column.getPinned()){const al=this.pinnedWidthService.getPinnedLeftWidth(),Ql=this.pinnedWidthService.getPinnedRightWidth(),Gu=$1(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(al+Ql+(_-u)>Gu)return}this.lastResizeAmount=_,this.columnSizeService.setColumnWidths(rt,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}normaliseResizeAmount(e){let t=e;const a=this.pinned!=="left",u=this.pinned==="right";return this.gos.get("enableRtl")?a&&(t*=-1):u&&(t*=-1),t}},Ff=class extends Nh{constructor(e){super(),this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1,this.column=e}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}onSpaceKeyDown(e){const t=this.cbSelectAll;t.isDisplayed()&&!t.getGui().contains(Gp(this.gos))&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e,this.cbSelectAll=this.createManagedBean(new A1),this.cbSelectAll.addCssClass("ag-header-select-all"),w0(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedEventListeners({newColumnsLoaded:this.onNewColumnsLoaded.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:this.onSelectionChanged.bind(this),paginationChanged:this.onSelectionChanged.bind(this),modelUpdated:this.onModelChanged.bind(this)}),this.addManagedListeners(this.cbSelectAll,{fieldValueChanged:this.onCbSelectAll.bind(this)}),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onNewColumnsLoaded(){this.showOrHideSelectAll()}onDisplayedColumnsChanged(){this.isAlive()&&this.showOrHideSelectAll()}showOrHideSelectAll(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()}onModelChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}onSelectionChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}updateStateOfCheckbox(){if(this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const e=this.selectionService.getSelectAllState(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setValue(e);const t=this.selectionService.hasNodesToSelect(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setDisabled(!t),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(){const e=this.localeService.getLocaleTextFunc(),a=this.cbSelectAll.getValue()?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),u=e("ariaRowSelectAll","Press Space to toggle all rows selection");this.cbSelectAllVisible?this.headerCellCtrl.setAriaDescriptionProperty("selectAll",`${u} (${a})`):this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null),this.cbSelectAll.setInputAriaLabel(e("ariaHeaderSelection","Column with Header Selection")),this.headerCellCtrl.announceAriaDescription()}checkSelectionType(e){return vg(this.gos)?!0:(ie(`${e} is only available if using 'multiRow' selection mode.`),!1)}checkRightRowModelType(e){return Dd(this.gos)||mh(this.gos)?!0:(ie(`${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${this.rowModel.getType()}.`),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;const e=this.cbSelectAll.getValue(),t=this.isFilteredOnly(),a=this.isCurrentPageOnly();let u="uiSelectAll";a?u="uiSelectAllCurrentPage":t&&(u="uiSelectAllFiltered");const g={source:u,justFiltered:t,justCurrentPage:a};e?this.selectionService.selectAllRowNodes(g):this.selectionService.deselectAllRowNodes(g)}isCheckboxSelection(){const e=this.gos.get("rowSelection"),t=typeof e=="object"&&fh(e)&&Ng(this.column),a=this.column.getColDef().headerCheckboxSelection;let u=!1;return t?u=!0:typeof a=="function"?u=a(this.gos.addGridCommonParams({column:this.column,colDef:this.column.getColDef()})):u=!!a,u&&this.checkRightRowModelType(t?"headerCheckbox":"headerCheckboxSelection")&&this.checkSelectionType(t?"headerCheckbox":"headerCheckboxSelection")}isFilteredOnly(){const e=this.gos.get("rowSelection");return typeof e=="object"?e.mode==="multiRow"&&e.selectAll==="filtered":!!this.column.getColDef().headerCheckboxSelectionFilteredOnly}isCurrentPageOnly(){const e=this.gos.get("rowSelection");return typeof e=="object"?e.mode==="multiRow"&&e.selectAll==="currentPage":!!this.column.getColDef().headerCheckboxSelectionCurrentPageOnly}},bp=class extends yl{constructor(e,t,a){super(e,t,a),this.refreshFunctions={},this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map,this.column=e}setComp(e,t,a,u,g){this.comp=e,g=u0(this,this.beans.context,g),this.setGui(t,g),this.updateState(),this.setupWidth(g),this.setupMovingCss(g),this.setupMenuClass(g),this.setupSortableClass(g),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:u,checkMeasuringCallback:K=>this.setRefreshFunction("measuring",K),compBean:g}),this.addColumnHoverListener(g),this.setupFilterClass(g),this.setupClassesFromColDef(),this.setupTooltip(g),this.addActiveHeaderMouseListeners(g),this.setupSelectAll(g),this.setupUserComp(g),this.refreshAria(),this.resizeFeature=g.createManagedBean(new If(this.getPinned(),this.column,a,e,this)),g.createManagedBean(new Fn([this.column],t)),g.createManagedBean(new gl(this.column,t,this.beans)),g.createManagedBean(new c1(t,{shouldStopEventPropagation:K=>this.shouldStopEventPropagation(K),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(g),g.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader"],()=>this.refresh(g)),g.addManagedListeners(this.column,{colDefChanged:()=>this.refresh(g)}),g.addManagedListeners(this.column,{headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});const _=()=>this.checkDisplayName(g);g.addManagedEventListeners({columnValueChanged:_,columnRowGroupChanged:_,columnPivotChanged:_,headerHeightChanged:this.onHeaderHeightChanged.bind(this)}),g.addDestroyFunc(()=>{this.refreshFunctions={},this.selectAllFeature=null,this.dragSourceElement=void 0,this.userCompDetails=null,this.userHeaderClasses.clear(),this.ariaDescriptionProperties.clear(),this.clearComponent()})}resizeHeader(e,t){if(!this.column.isResizable())return;const a=this.column.getActualWidth(),u=this.column.getMinWidth(),g=this.column.getMaxWidth(),_=Math.min(Math.max(a+e,u),g);this.beans.columnSizeService.setColumnWidths([{key:this.column,newWidth:_}],t,!0,"uiColumnResized")}moveHeader(e){const{eGui:t,beans:a,column:u,ctrlsService:g}=this,{gos:_,columnModel:K,columnMoveService:rt,visibleColsService:al}=a,Ql=this.getPinned(),Gu=t.getBoundingClientRect().left,Wu=u.getActualWidth(),id=_.get("enableRtl"),Qh=Pf({x:e===0!==id?Gu-20:Gu+Wu+20,pinned:Ql,fromKeyboard:!0,gos:_,ctrlsService:g}),uf=this.focusService.getFocusedHeader();lh({allMovingColumns:[u],isFromHeader:!0,fromLeft:e===1,xPosition:Qh,pinned:Ql,fromEnter:!1,fakeEvent:!1,gos:_,columnModel:K,columnMoveService:rt,visibleColsService:al,finished:!0}),g.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(u,"auto"),(!this.isAlive()||this.beans.gos.get("ensureDomOrder"))&&uf&&this.restoreFocus(uf)}restoreFocus(e){this.focusService.focusHeaderPosition({headerPosition:{...e,column:this.column}})}setupUserComp(e){const t=this.lookupUserCompDetails(e);this.setCompDetails(t)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(e){const t=this.createParams(e),a=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(a,t)}createParams(e){return this.gos.addGridCommonParams({column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&this.menuService.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!this.openFilterEnabled||this.menuService.isLegacyMenuEnabled(),showColumnMenu:a=>{this.menuService.showColumnMenu({column:this.column,buttonElement:a,positionBy:"button"})},showColumnMenuAfterMouseClick:a=>{this.menuService.showColumnMenu({column:this.column,mouseEvent:a,positionBy:"mouse"})},showFilter:a=>{this.menuService.showFilterMenu({column:this.column,buttonElement:a,containerType:"columnFilter",positionBy:"button"})},progressSort:a=>{this.beans.sortController.progressSort(this.column,!!a,"uiColumnSorted")},setSort:(a,u)=>{this.beans.sortController.setSortForColumn(this.column,a,!!u,"uiColumnSorted")},eGridHeader:this.getGui(),setTooltip:(a,u)=>{this.setupTooltip(e,a,u)}})}setupSelectAll(e){this.selectAllFeature=e.createManagedBean(new Ff(this.column)),this.selectAllFeature.setComp(this)}getSelectAllGui(){return this.selectAllFeature.getCheckboxGui()}handleKeyDown(e){super.handleKeyDown(e),e.key===pf.SPACE&&this.selectAllFeature.onSpaceKeyDown(e),e.key===pf.ENTER&&this.onEnterKeyDown(e),e.key===pf.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){if(e.ctrlKey||e.metaKey)this.showMenuOnKeyPress(e,!0);else if(this.sortable){const t=e.shiftKey;this.beans.sortController.progressSort(this.column,t,"uiColumnSorted")}}showMenuOnKeyPress(e,t){const a=this.comp.getUserCompInstance();!a||!(a instanceof E1)||a.onMenuKeyboardShortcut(t)&&e.preventDefault()}onFocusIn(e){if(!this.getGui().contains(e.relatedTarget)){const t=this.getRowIndex();this.focusService.setFocusedHeader(t,this.column),this.announceAriaDescription()}this.focusService.isKeyboardMode()&&this.setActiveHeader(!0)}onFocusOut(e){this.getGui().contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t,a){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const u=this.gos.get("tooltipShowMode")==="whenTruncated",g=this.eGui,_=this.column.getColDef();!a&&u&&!_.headerComponent&&(a=()=>{const al=g.querySelector(".ag-header-cell-text");return al?al.scrollWidth>al.clientWidth:!0});const K={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getGui:()=>g,getLocation:()=>"header",getTooltipValue:()=>t??this.column.getColDef().headerTooltip,shouldDisplayTooltip:a},rt=e.createManagedBean(new e1(K));this.setRefreshFunction("tooltip",()=>rt.refreshToolTip())}setupClassesFromColDef(){const e=()=>{const t=this.column.getColDef(),a=Pe(t,this.gos,this.column,null),u=this.userHeaderClasses;this.userHeaderClasses=new Set(a),a.forEach(g=>{u.has(g)?u.delete(g):this.comp.addOrRemoveCssClass(g,!0)}),u.forEach(g=>this.comp.addOrRemoveCssClass(g,!1))};this.setRefreshFunction("headerClasses",e),e()}setDragSource(e){if(this.dragSourceElement=e,this.removeDragSource(),!e||!this.draggable)return;const{column:t,beans:a,displayName:u,dragAndDropService:g,gos:_}=this,{columnModel:K}=a;let rt=!this.gos.get("suppressDragLeaveHidesColumns");const al=this.dragSource={type:1,eElement:e,getDefaultIconName:()=>rt?"hide":"notAllowed",getDragItem:()=>this.createDragItem(t),dragItemName:u,onDragStarted:()=>{rt=!_.get("suppressDragLeaveHidesColumns"),jf([t],!0)},onDragStopped:()=>jf([t],!1),onDragCancelled:()=>jf([t],!1),onGridEnter:Ql=>{if(rt){const Gu=Ql?.columns?.filter(Wu=>!Wu.getColDef().lockVisible)||[];K.setColsVisible(Gu,!0,"uiColumnMoved")}},onGridExit:Ql=>{if(rt){const Gu=Ql?.columns?.filter(Wu=>!Wu.getColDef().lockVisible)||[];K.setColsVisible(Gu,!1,"uiColumnMoved")}}};g.addDragSource(al,!0)}createDragItem(e){const t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t}}updateState(){this.menuEnabled=this.menuService.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=this.menuService.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}setRefreshFunction(e,t){this.refreshFunctions[e]=t}refresh(e){this.updateState(),this.refreshHeaderComp(e),this.refreshAria(),Object.values(this.refreshFunctions).forEach(t=>t())}refreshHeaderComp(e){const t=this.lookupUserCompDetails(e);(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==t.componentClass?this.attemptHeaderCompRefresh(t.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(t)}attemptHeaderCompRefresh(e){const t=this.comp.getUserCompInstance();return!t||!t.refresh?!1:t.refresh(e)}calculateDisplayName(){return this.beans.columnNameService.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(e){this.displayName!==this.calculateDisplayName()&&this.refresh(e)}workOutDraggable(){const e=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}setupWidth(e){const t=()=>{const a=this.column.getActualWidth();this.comp.setWidth(`${a}px`)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupMovingCss(e){const t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving())};e.addManagedListeners(this.column,{movingChanged:t}),t()}setupMenuClass(e){const t=()=>{this.comp.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())};e.addManagedListeners(this.column,{menuVisibleChanged:t}),t()}setupSortableClass(e){const t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!this.sortable)};t(),this.setRefreshFunction("updateSortable",t),e.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(e){const t=()=>{const a=this.column.isFilterActive();this.comp.addOrRemoveCssClass("ag-header-cell-filtered",a),this.refreshAria()};e.addManagedListeners(this.column,{filterActiveChanged:t}),t()}setupWrapTextClass(){const e=()=>{const t=!!this.column.getColDef().wrapHeaderText;this.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",t)};e(),this.setRefreshFunction("wrapText",e)}onHeaderHighlightChanged(){const e=this.column.getHighlighted(),t=e===0,a=e===1;this.comp.addOrRemoveCssClass("ag-header-highlight-before",t),this.comp.addOrRemoveCssClass("ag-header-highlight-after",a)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:e,column:t,comp:a,beans:u}=this,g=this.beans.columnModel.getGroupRowsHeight(),_=g.reduce((Wu,id)=>Wu+=id,0)===0;if(a.addOrRemoveCssClass("ag-header-parent-hidden",_),!t.isSpanHeaderHeight()){e.style.removeProperty("top"),e.style.removeProperty("height"),a.addOrRemoveCssClass("ag-header-span-height",!1),a.addOrRemoveCssClass("ag-header-span-total",!1);return}const{numberOfParents:K,isSpanningTotal:rt}=this.column.getColumnGroupPaddingInfo();a.addOrRemoveCssClass("ag-header-span-height",K>0);const{columnModel:al}=u,Ql=al.getColumnHeaderRowHeight();if(K===0){a.addOrRemoveCssClass("ag-header-span-total",!1),e.style.setProperty("top","0px"),e.style.setProperty("height",`${Ql}px`);return}a.addOrRemoveCssClass("ag-header-span-total",rt);let Gu=0;for(let Wu=0;Wu<K;Wu++)Gu+=g[g.length-1-Wu];e.style.setProperty("top",`${-Gu}px`),e.style.setProperty("height",`${Ql+Gu}px`)}refreshAriaSort(){if(this.sortable){const e=this.localeService.getLocaleTextFunc(),t=this.beans.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(V0(t)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!this.menuService.isLegacyMenuEnabled()){const e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){const e=this.localeService.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(e,t){t!=null?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)}announceAriaDescription(){if(!this.eGui.contains(Gp(this.beans.gos)))return;const e=Array.from(this.ariaDescriptionProperties.keys()).sort((t,a)=>t==="filter"?-1:a.charCodeAt(0)-t.charCodeAt(0)).map(t=>this.ariaDescriptionProperties.get(t)).join(". ");this.beans.ariaAnnouncementService.announceValue(e,"columnHeader")}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(e){const t=()=>{if(!this.gos.get("columnHoverHighlight"))return;const a=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",a)};e.addManagedEventListeners({columnHoverChanged:t}),t()}getColId(){return this.column.getColId()}addActiveHeaderMouseListeners(e){const t=g=>this.handleMouseOverChange(g.type==="mouseenter"),a=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column),u=g=>this.handleContextMenuMouseEvent(g,void 0,this.column);e.addManagedListeners(this.getGui(),{mouseenter:t,mouseleave:t,click:a,contextmenu:u})}handleMouseOverChange(e){this.setActiveHeader(e),this.eventService.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(e){this.comp.addOrRemoveCssClass("ag-header-active",e)}getAnchorElementForMenu(e){const t=this.comp.getUserCompInstance();return t instanceof E1?t.getAnchorElementForMenu(e):this.getGui()}destroy(){super.destroy()}},Op=class extends Nh{wireBeans(e){this.horizontalResizeService=e.horizontalResizeService,this.autoWidthCalculator=e.autoWidthCalculator,this.visibleColsService=e.visibleColsService,this.columnSizeService=e.columnSizeService,this.columnAutosizeService=e.columnAutosizeService}constructor(e,t,a,u){super(),this.eResize=t,this.comp=e,this.pinned=a,this.columnGroup=u}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}const e=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(e),!this.gos.get("suppressAutoSize")){const t=this.gos.get("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",()=>{const a=[];this.columnGroup.getDisplayedLeafColumns().forEach(g=>{g.getColDef().suppressAutoSize||a.push(g.getColId())}),a.length>0&&this.columnAutosizeService.autoSizeCols({colKeys:a,skipHeader:t,stopAtGroup:this.columnGroup,source:"uiColumnResized"}),this.resizeLeafColumnsToFit("uiColumnResized")})}}onResizeStart(e){const t=this.getInitialValues(e);this.storeLocalValues(t),this.toggleColumnResizing(!0)}onResizing(e,t,a="uiColumnResized"){const u=this.normaliseDragChange(t),g=this.resizeStartWidth+u;this.resizeColumnsFromLocalValues(g,a,e)}getInitialValues(e){const t=this.getColumnsToResize(),a=this.getInitialSizeOfColumns(t),u=this.getSizeRatiosOfColumns(t,a),g={columnsToResize:t,resizeStartWidth:a,resizeRatios:u};let _=null;if(e&&(_=this.visibleColsService.getGroupAtDirection(this.columnGroup,"After")),_){const K=_.getDisplayedLeafColumns(),rt=g.groupAfterColumns=K.filter(Ql=>Ql.isResizable()),al=g.groupAfterStartWidth=this.getInitialSizeOfColumns(rt);g.groupAfterRatios=this.getSizeRatiosOfColumns(rt,al)}else g.groupAfterColumns=void 0,g.groupAfterStartWidth=void 0,g.groupAfterRatios=void 0;return g}storeLocalValues(e){const{columnsToResize:t,resizeStartWidth:a,resizeRatios:u,groupAfterColumns:g,groupAfterStartWidth:_,groupAfterRatios:K}=e;this.resizeCols=t,this.resizeStartWidth=a,this.resizeRatios=u,this.resizeTakeFromCols=g,this.resizeTakeFromStartWidth=_,this.resizeTakeFromRatios=K}clearLocalValues(){this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}resizeLeafColumnsToFit(e){const t=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup),a=this.getInitialValues();t>a.resizeStartWidth&&this.resizeColumns(a,t,e,!0)}resizeColumnsFromLocalValues(e,t,a=!0){if(!this.resizeCols||!this.resizeRatios)return;const u={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols??void 0,groupAfterStartWidth:this.resizeTakeFromStartWidth??void 0,groupAfterRatios:this.resizeTakeFromRatios??void 0};this.resizeColumns(u,e,t,a)}resizeColumns(e,t,a,u=!0){const{columnsToResize:g,resizeStartWidth:_,resizeRatios:K,groupAfterColumns:rt,groupAfterStartWidth:al,groupAfterRatios:Ql}=e,Gu=[];if(Gu.push({columns:g,ratios:K,width:t}),rt){const Wu=t-_;Gu.push({columns:rt,ratios:Ql,width:al-Wu})}this.columnSizeService.resizeColumnSets({resizeSets:Gu,finished:u,source:a}),u&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(t=>t.isResizable())}getInitialSizeOfColumns(e){return e.reduce((t,a)=>t+a.getActualWidth(),0)}getSizeRatiosOfColumns(e,t){return e.map(a=>a.getActualWidth()/t)}normaliseDragChange(e){let t=e;return this.gos.get("enableRtl")?this.pinned!=="left"&&(t*=-1):this.pinned==="right"&&(t*=-1),t}destroy(){super.destroy(),this.clearLocalValues()}},Wf=class extends Nh{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(t=>{t.addEventListener("widthChanged",e),t.addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{t.removeEventListener("widthChanged",e),t.removeEventListener("visibleChanged",e)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(e=>e()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.addOrRemoveCssClass("ag-hidden",e===0)}},zp=class extends yl{constructor(e,t,a){super(e,t,a),this.onSuppressColMoveChange=()=>{if(!this.isAlive()||this.isSuppressMoving())this.removeDragSource();else if(!this.dragSource){const u=this.getGui();this.setDragSource(u)}},this.column=e}setComp(e,t,a,u,g){this.comp=e,g=u0(this,this.beans.context,g),this.setGui(t,g),this.displayName=this.beans.columnNameService.getDisplayNameForColumnGroup(this.column,"header"),this.addClasses(),this.setupMovingCss(g),this.setupExpandable(g),this.setupTooltip(g),this.setupAutoHeight({wrapperElement:u,compBean:g}),this.setupUserComp(g),this.addHeaderMouseListeners(g),this.addManagedPropertyListener("groupHeaderHeight",this.refreshMaxHeaderHeight.bind(this)),this.refreshMaxHeaderHeight();const _=this.getParentRowCtrl().getPinned(),K=this.column.getProvidedColumnGroup().getLeafColumns();g.createManagedBean(new Fn(K,t)),g.createManagedBean(new gl(this.column,t,this.beans)),g.createManagedBean(new Wf(e,this.column)),this.resizeFeature=g.createManagedBean(new Op(e,a,_,this.column)),g.createManagedBean(new c1(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addHighlightListeners(g,K),g.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(g),g.addDestroyFunc(()=>this.clearComponent())}refreshMaxHeaderHeight(){const{gos:e,comp:t}=this,a=e.get("groupHeaderHeight");a!=null?a===0?t.setHeaderWrapperHidden(!0):t.setHeaderWrapperMaxHeight(a):(t.setHeaderWrapperHidden(!1),t.setHeaderWrapperMaxHeight(null))}addHighlightListeners(e,t){if(this.beans.gos.get("suppressMoveWhenColumnDragging"))for(const a of t)e.addManagedListeners(a,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,a)})}onLeafColumnHighlightChanged(e){const t=this.column.getDisplayedLeafColumns(),a=t[0]===e,u=Pp(t)===e;if(!a&&!u)return;const g=e.getHighlighted(),_=!!this.getParentRowCtrl().findHeaderCellCtrl(al=>al.getColumnGroupChild().isMoving());let K=!1,rt=!1;if(_){const al=this.beans.gos.get("enableRtl"),Ql=g===1,Gu=g===0;a&&(al?rt=Ql:K=Gu),u&&(al?K=Gu:rt=Ql)}this.comp.addOrRemoveCssClass("ag-header-highlight-before",K),this.comp.addOrRemoveCssClass("ag-header-highlight-after",rt)}getColumn(){return this.column}resizeHeader(e,t){if(!this.resizeFeature)return;const a=this.resizeFeature.getInitialValues(t);this.resizeFeature.resizeColumns(a,a.resizeStartWidth+e,"uiColumnResized",!0)}moveHeader(e){const{beans:t,eGui:a,column:u,ctrlsService:g}=this,{gos:_,columnModel:K,columnMoveService:rt,visibleColsService:al}=t,Ql=_.get("enableRtl"),Gu=e===0,Wu=this.getPinned(),id=a.getBoundingClientRect(),uh=id.left,Qh=id.width,uf=Pf({x:Gu!==Ql?uh-20:uh+Qh+20,pinned:Wu,fromKeyboard:!0,gos:_,ctrlsService:g}),tf=u.getGroupId(),Hf=this.focusService.getFocusedHeader();lh({allMovingColumns:this.column.getLeafColumns(),isFromHeader:!0,fromLeft:e===1,xPosition:uf,pinned:Wu,fromEnter:!1,fakeEvent:!1,gos:_,columnModel:K,columnMoveService:rt,visibleColsService:al,finished:!0});const Vf=u.getDisplayedLeafColumns(),Bf=Gu?Vf[0]:Pp(Vf);this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(Bf,"auto"),(!this.isAlive()||this.beans.gos.get("ensureDomOrder"))&&Hf&&this.restoreFocus(tf,u,Hf)}restoreFocus(e,t,a){const u=t.getLeafColumns();if(!u.length)return;const g=u[0].getParent();if(!g)return;const _=this.findGroupWidthId(g,e);_&&this.focusService.focusHeaderPosition({headerPosition:{...a,column:_}})}findGroupWidthId(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}return null}resizeLeafColumnsToFit(e){this.resizeFeature&&this.resizeFeature.resizeLeafColumnsToFit(e)}setupUserComp(e){const t=this.gos.addGridCommonParams({displayName:this.displayName,columnGroup:this.column,setExpanded:u=>{this.beans.columnModel.setColumnGroupOpened(this.column.getProvidedColumnGroup(),u,"gridInitializing")},setTooltip:(u,g)=>{this.setupTooltip(e,u,g)}}),a=this.userComponentFactory.getHeaderGroupCompDetails(t);this.comp.setUserCompDetails(a)}addHeaderMouseListeners(e){const t=g=>this.handleMouseOverChange(g.type==="mouseenter"),a=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column.getProvidedColumnGroup()),u=g=>this.handleContextMenuMouseEvent(g,void 0,this.column.getProvidedColumnGroup());e.addManagedListeners(this.getGui(),{mouseenter:t,mouseleave:t,click:a,contextmenu:u})}handleMouseOverChange(e){this.eventService.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(e,t,a){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const u=this.column.getColGroupDef(),g=this.gos.get("tooltipShowMode")==="whenTruncated",_=this.eGui;!a&&g&&!u?.headerGroupComponent&&(a=()=>{const rt=_.querySelector(".ag-header-group-text");return rt?rt.scrollWidth>rt.clientWidth:!0});const K={getColumn:()=>this.column,getGui:()=>_,getLocation:()=>"headerGroup",getTooltipValue:()=>t??(u&&u.headerTooltip),shouldDisplayTooltip:a};u&&(K.getColDef=()=>u),e.createManagedBean(new e1(K))}setupExpandable(e){const t=this.column.getProvidedColumnGroup();this.refreshExpanded();const a=this.refreshExpanded.bind(this);e.addManagedListeners(t,{expandedChanged:a,expandableChanged:a})}refreshExpanded(){const{column:e}=this;this.expandable=e.isExpandable();const t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0)}getColId(){return this.column.getUniqueId()}addClasses(){const e=this.column.getColGroupDef(),t=Pe(e,this.gos,null,this.column);this.column.isPadding()?(t.push("ag-header-group-cell-no-group"),this.column.getLeafColumns().every(u=>u.isSpanHeaderHeight())&&t.push("ag-header-span-height")):(t.push("ag-header-group-cell-with-group"),e?.wrapHeaderText&&t.push("ag-header-cell-wrap-text")),t.forEach(a=>this.comp.addOrRemoveCssClass(a,!0))}setupMovingCss(e){const a=this.column.getProvidedColumnGroup().getLeafColumns(),u=()=>this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving());a.forEach(g=>{e.addManagedListeners(g,{movingChanged:u})}),u()}onFocusIn(e){if(!this.eGui.contains(e.relatedTarget)){const t=this.getRowIndex();this.beans.focusService.setFocusedHeader(t,this.column)}}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();if(!(!this.expandable||!t)&&e.key===pf.ENTER){const a=this.column,u=!a.isExpanded();this.beans.columnModel.setColumnGroupOpened(a.getProvidedColumnGroup(),u,"uiColumnExpanded")}}setDragSource(e){if(!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),!e))return;const{beans:t,column:a,displayName:u,gos:g,dragAndDropService:_}=this,{columnModel:K}=t,rt=a.getProvidedColumnGroup().getLeafColumns();let al=!g.get("suppressDragLeaveHidesColumns");const Ql=this.dragSource={type:1,eElement:e,getDefaultIconName:()=>al?"hide":"notAllowed",dragItemName:u,getDragItem:()=>this.getDragItemForGroup(a),onDragStarted:()=>{al=!g.get("suppressDragLeaveHidesColumns"),jf(rt,!0)},onDragStopped:()=>jf(rt,!1),onDragCancelled:()=>jf(rt,!1),onGridEnter:Gu=>{if(al){const{columns:Wu=[],visibleState:id}=Gu??{},uh=Wu.filter(Qh=>!Qh.getColDef().lockVisible&&(!id||id[Qh.getColId()]));K.setColsVisible(uh,!0,"uiColumnMoved")}},onGridExit:Gu=>{if(al){const Wu=Gu?.columns?.filter(id=>!id.getColDef().lockVisible)||[];K.setColsVisible(Wu,!1,"uiColumnMoved")}}};_.addDragSource(Ql,!0)}getDragItemForGroup(e){const t=e.getProvidedColumnGroup().getLeafColumns(),a={};t.forEach(K=>a[K.getId()]=K.isVisible());const u=[];this.beans.visibleColsService.getAllCols().forEach(K=>{t.indexOf(K)>=0&&(u.push(K),Tg(t,K))}),t.forEach(K=>u.push(K));const g=[],_=e.getLeafColumns();for(const K of u)_.indexOf(K)!==-1&&g.push(K);return{columns:u,columnsInSplit:g,visibleState:a}}isSuppressMoving(){let e=!1;return this.column.getLeafColumns().forEach(a=>{(a.getColDef().suppressMovable||a.getColDef().lockPosition)&&(e=!0)}),e||this.gos.get("suppressMovableColumns")}destroy(){super.destroy()}},qp=0,p0=class extends Nh{constructor(e,t,a){super(),this.instanceId=qp++,this.rowIndex=e,this.pinned=t,this.type=a;const u=a=="group"?"ag-header-row-column-group":a=="filter"?"ag-header-row-column-filter":"ag-header-row-column";this.headerRowClass=`ag-header-row ${u}`}wireBeans(e){this.beans=e}postConstruct(){this.isPrintLayout=gd(this.gos,"print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}areCellsRendered(){return this.comp?this.getHeaderCellCtrls().every(e=>e.getGui()!=null):!1}setComp(e,t,a=!0){this.comp=e,t=u0(this,this.beans.context,t),a&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners(t)}getHeaderRowClass(){return this.headerRowClass}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(e){const t=this.onRowHeightChanged.bind(this);e.addManagedEventListeners({columnResized:this.onColumnResized.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:a=>this.onVirtualColumnsChanged(a.afterScroll),columnGroupHeaderHeightChanged:t,columnHeaderHeightChanged:t,gridStylesChanged:t,advancedFilterEnabledChanged:t}),e.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),e.addManagedPropertyListener("ensureDomOrder",a=>this.isEnsureDomOrder=a.currentValue),e.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],t)}getHeaderCellCtrl(e){if(this.headerCellCtrls)return qu(this.headerCellCtrls).find(t=>t.getColumnGroupChild()===e)}onDisplayedColumnsChanged(){this.isPrintLayout=gd(this.gos,"print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}getType(){return this.type}onColumnResized(){this.setWidth()}setWidth(){const e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){const{visibleColsService:e}=this.beans;return this.isPrintLayout?this.pinned!=null?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)}onRowHeightChanged(){const{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){const{columnModel:e,filterManager:t}=this.beans,a=[],u=e.getGroupRowsHeight(),g=e.getColumnHeaderRowHeight();a.push(...u),a.push(g),t?.hasFloatingFilters()&&a.push(e.getFloatingFiltersHeight());let _=0;for(let rt=0;rt<this.rowIndex;rt++)_+=a[rt];const K=a[this.rowIndex];return{topOffset:_,rowHeight:K}}getPinned(){return this.pinned}getRowIndex(){return this.rowIndex}onVirtualColumnsChanged(e=!1){const t=this.getHeaderCtrls(),a=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,a,e)}getHeaderCtrls(){const e=this.headerCellCtrls;this.headerCellCtrls=new Map;const t=this.getColumnsInViewport();for(const u of t)this.recycleAndCreateHeaderCtrls(u,e);const a=u=>{const{focusService:g,visibleColsService:_}=this.beans;return g.isHeaderWrapperFocused(u)?_.isVisible(u.getColumnGroupChild()):!1};if(e)for(const[u,g]of e)a(g)?this.headerCellCtrls.set(u,g):this.destroyBean(g);return this.getHeaderCellCtrls()}getHeaderCellCtrls(){return Array.from(this.headerCellCtrls?.values()??[])}recycleAndCreateHeaderCtrls(e,t){if(!this.headerCellCtrls||e.isEmptyGroup())return;const a=e.getUniqueId();let u;if(t&&(u=t.get(a),t.delete(a)),u&&u.getColumnGroupChild()!=e&&(this.destroyBean(u),u=void 0),u==null)switch(this.type){case"filter":{u=this.createBean(this.beans.ctrlsFactory.getInstance("headerFilterCell",e,this.beans,this));break}case"group":u=this.createBean(new zp(e,this.beans,this));break;default:u=this.createBean(new bp(e,this.beans,this));break}this.headerCellCtrls.set(a,u)}getColumnsInViewport(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(this.pinned!=null)return[];let e=[];const t=this.getActualDepth(),{columnViewportService:a}=this.beans;return["left",null,"right"].forEach(u=>{const g=a.getHeadersToRender(u,t);e=e.concat(g)}),e}getActualDepth(){return this.type=="filter"?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.beans.columnViewportService.getHeadersToRender(this.pinned,this.getActualDepth())}findHeaderCellCtrl(e){if(!this.headerCellCtrls)return;const t=this.getHeaderCellCtrls();let a;return typeof e=="function"?a=t.find(e):a=t.find(u=>u.getColumnGroupChild()==e),a}focusHeader(e,t){const a=this.findHeaderCellCtrl(e);return a?a.focus(t):!1}destroy(){this.headerCellCtrls?.forEach(e=>{this.destroyBean(e)}),this.headerCellCtrls=void 0,super.destroy()}},m0=class extends Nh{constructor(e){super(),this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[],this.pinned=e}wireBeans(e){this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService,this.pinnedWidthService=e.pinnedWidthService,this.columnModel=e.columnModel,this.focusService=e.focusService,this.filterManager=e.filterManager}setComp(e,t){this.comp=e,this.eViewport=t,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport);const a=this.onDisplayedColumnsChanged.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),displayedColumnsChanged:a,advancedFilterEnabledChanged:a});const u=`${typeof this.pinned=="string"?this.pinned:"center"}Header`;this.ctrlsService.register(u,this),this.columnModel.isReady()&&this.refresh()}getAllCtrls(){const e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}refresh(e=!1){const t=new cv,a=this.focusService.getFocusHeaderToUseAfterRefresh(),u=()=>{const rt=this.columnModel.getHeaderRowCount()-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let al=0;al<rt;al++){const Ql=this.createBean(new p0(t.next(),this.pinned,"group"));this.groupsRowCtrls.push(Ql)}},g=()=>{const rt=t.next(),al=!this.hidden&&(this.columnsRowCtrl==null||!e||this.columnsRowCtrl.getRowIndex()!==rt);(al||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),al&&(this.columnsRowCtrl=this.createBean(new p0(rt,this.pinned,"column")))},_=()=>{this.includeFloatingFilter=!!this.filterManager?.hasFloatingFilters()&&!this.hidden;const rt=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){rt();return}const al=t.next();if(this.filtersRowCtrl){const Ql=this.filtersRowCtrl.getRowIndex()!==al;(!e||Ql)&&rt()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new p0(al,this.pinned,"filter")))};u(),g(),_();const K=this.getAllCtrls();this.comp.setCtrls(K),this.restoreFocusOnHeader(a)}getHeaderCtrlForColumn(e){if(Fu(e))return this.columnsRowCtrl?.getHeaderCellCtrl(e);if(this.groupsRowCtrls.length!==0)for(let t=0;t<this.groupsRowCtrls.length;t++){const a=this.groupsRowCtrls[t].getHeaderCellCtrl(e);if(a)return a}}getHtmlElementForColumnHeader(e){const t=this.getHeaderCtrlForColumn(e);return t?t.getGui():null}getRowType(e){const a=this.getAllCtrls()[e];return a?a.getType():void 0}focusHeader(e,t,a){const g=this.getAllCtrls()[e];return g?g.focusHeader(t,a):!1}getViewportElement(){return this.eViewport}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(e){return this.groupsRowCtrls[e]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}onScrollCallback(e){this.addManagedElementListeners(this.getViewportElement(),{scroll:e})}destroy(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),super.destroy()}setupDragAndDrop(e){const t=new Df(this.pinned,e);this.createManagedBean(t)}restoreFocusOnHeader(e){if(!e)return;const{column:t}=e;t.getPinned()==this.pinned&&this.focusService.focusHeaderPosition({headerPosition:e})}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(){const e=this.filterManager?.hasFloatingFilters()&&!this.hidden;this.includeFloatingFilter!==e&&this.refresh(!0)}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new Nd(e=>this.comp.setCenterWidth(`${e}px`),!0))}setupPinnedWidth(){if(this.pinned==null)return;const e=this.pinned==="left",t=this.pinned==="right";this.hidden=!0;const a=()=>{const u=e?this.pinnedWidthService.getPinnedLeftWidth():this.pinnedWidthService.getPinnedRightWidth();if(u==null)return;const g=u==0,_=this.hidden!==g,K=this.gos.get("enableRtl"),rt=this.scrollVisibleService.getScrollbarWidth(),Ql=this.scrollVisibleService.isVerticalScrollShowing()&&(K&&e||!K&&t)?u+rt:u;this.comp.setPinnedContainerWidth(`${Ql}px`),this.comp.setDisplayed(!g),_&&(this.hidden=g,this.refresh())};this.addManagedEventListeners({leftPinnedWidthChanged:a,rightPinnedWidthChanged:a,scrollVisibilityChanged:a,scrollbarWidthChanged:a})}},Ap='<div class="ag-pinned-left-header" role="rowgroup"></div>',Hp='<div class="ag-pinned-right-header" role="rowgroup"></div>',Tp=`<div class="ag-header-viewport" role="presentation">
        <div class="ag-header-container" data-ref="eCenterContainer" role="rowgroup"></div>
    </div>`,bf=class extends bg{constructor(e){super(),this.eCenterContainer=Dp,this.headerRowComps={},this.rowCompsList=[],this.pinned=e}postConstruct(){this.selectAndSetTemplate();const e={setDisplayed:a=>this.setDisplayed(a),setCtrls:a=>this.setCtrls(a),setCenterWidth:a=>this.eCenterContainer.style.width=a,setViewportScrollLeft:a=>this.getGui().scrollLeft=a,setPinnedContainerWidth:a=>{const u=this.getGui();u.style.width=a,u.style.maxWidth=a,u.style.minWidth=a}};this.createManagedBean(new m0(this.pinned)).setComp(e,this.getGui())}selectAndSetTemplate(){const e=this.pinned=="left",t=this.pinned=="right",a=e?Ap:t?Hp:Tp;this.setTemplate(a),this.eRowContainer=this.eCenterContainer!==Dp?this.eCenterContainer:this.getGui()}destroy(){this.setCtrls([]),super.destroy()}destroyRowComp(e){this.destroyBean(e),this.eRowContainer.removeChild(e.getGui())}setCtrls(e){const t=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[];let a;const u=g=>{const _=g.getGui();_.parentElement!=this.eRowContainer&&this.eRowContainer.appendChild(_),a&&Wy(this.eRowContainer,_,a),a=_};e.forEach(g=>{const _=g.instanceId,K=t[_];delete t[_];const rt=K||this.createBean(new Hu(g));this.headerRowComps[_]=rt,this.rowCompsList.push(rt),u(rt)}),ll(t).forEach(g=>this.destroyRowComp(g))}},N0=class extends bg{constructor(){super('<div class="ag-header" role="presentation"/>')}postConstruct(){const e={addOrRemoveCssClass:(u,g)=>this.addOrRemoveCssClass(u,g),setHeightAndMinHeight:u=>{this.getGui().style.height=u,this.getGui().style.minHeight=u}};this.createManagedBean(new bd).setComp(e,this.getGui(),this.getFocusableElement());const a=u=>{this.createManagedBean(u),this.appendChild(u)};a(new bf("left")),a(new bf(null)),a(new bf("right"))}},Fl={selector:"AG-HEADER-ROOT",component:N0},Sl=(e=>(e.AUTO_HEIGHT="ag-layout-auto-height",e.NORMAL="ag-layout-normal",e.PRINT="ag-layout-print",e))(Sl||{}),od=class extends Nh{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const e=this.getDomLayout(),t={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},a=t.autoHeight?"ag-layout-auto-height":t.print?"ag-layout-print":"ag-layout-normal";this.view.updateLayoutClasses(a,t)}getDomLayout(){const e=this.gos.get("domLayout")??"normal";return["normal","print","autoHeight"].indexOf(e)===-1?(ie(`${e} is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.`),"normal"):e}},dd=class extends bg{constructor(){super(`
            <div class="ag-overlay" role="presentation">
                <div class="ag-overlay-panel" role="presentation">
                    <div class="ag-overlay-wrapper" data-ref="eOverlayWrapper" role="presentation"></div>
                </div>
            </div>`),this.eOverlayWrapper=Dp,this.activePromise=null,this.activeOverlay=null,this.updateListenerDestroyFunc=null,this.activeOverlayWrapperCssClass=null,this.elToFocusAfter=null}wireBeans(e){this.overlayService=e.overlayService,this.focusService=e.focusService,this.visibleColsService=e.visibleColsService}handleKeyDown(e){if(e.key!==pf.TAB||e.defaultPrevented||_h(e)||this.focusService.findNextFocusableElement(this.eOverlayWrapper,!1,e.shiftKey))return;let a=!1;e.shiftKey?a=this.focusService.focusGridView(Pp(this.visibleColsService.getAllCols()),!0,!1):a=this.focusService.focusNextGridCoreContainer(!1),a&&e.preventDefault()}updateLayoutClasses(e,t){const a=this.eOverlayWrapper.classList;a.toggle("ag-layout-auto-height",t.autoHeight),a.toggle("ag-layout-normal",t.normal),a.toggle("ag-layout-print",t.print)}postConstruct(){this.createManagedBean(new od(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.overlayService.setOverlayWrapperComp(this),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}setWrapperTypeClass(e){const t=this.eOverlayWrapper.classList;this.activeOverlayWrapperCssClass&&t.toggle(this.activeOverlayWrapperCssClass,!1),this.activeOverlayWrapperCssClass=e,t.toggle(e,!0)}showOverlay(e,t,a,u){if(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=e,!!e){if(this.setDisplayed(!0,{skipAriaHidden:!0}),a&&this.focusService.isGridFocused()){const g=Gp(this.gos);g&&!E0(this.gos)&&(this.elToFocusAfter=g)}e.then(g=>{if(this.activePromise!==e){this.activeOverlay!==g&&(this.destroyBean(g),g=null);return}if(this.activePromise=null,!g)return;if(this.activeOverlay!==g&&(this.eOverlayWrapper.appendChild(g.getGui()),this.activeOverlay=g,u)){const K=g;this.updateListenerDestroyFunc=this.addManagedPropertyListener(u,({currentValue:rt})=>{K.refresh?.(this.gos.addGridCommonParams({...rt??{}}))})}const _=this.focusService;a&&_.isGridFocused()&&_.focusInto(this.eOverlayWrapper)})}}updateOverlayWrapperPaddingTop(e){this.eOverlayWrapper.style.setProperty("padding-top",`${e}px`)}destroyActiveOverlay(){this.activePromise=null;const e=this.activeOverlay;if(!e)return;let t=this.elToFocusAfter;this.activeOverlay=null,this.elToFocusAfter=null,t&&!this.focusService.isGridFocused()&&(t=null);const a=this.updateListenerDestroyFunc;a&&(a(),this.updateListenerDestroyFunc=null),this.destroyBean(e),Dm(this.eOverlayWrapper),t?.focus?.({preventScroll:!0})}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),this.overlayService.setOverlayWrapperComp(void 0),super.destroy()}},_d={selector:"AG-OVERLAY-WRAPPER",component:dd},nd=class extends bg{constructor(e,t){super(),this.direction=t,this.eViewport=Dp,this.eContainer=Dp,this.hideTimeout=null,this.setTemplate(e)}wireBeans(e){this.animationFrameService=e.animationFrameService}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",Yy()||I1())}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=uy(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const e=this.getGui(),t=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!0),a=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!1);this.addManagedListeners(e,{mouseenter:t,mousedown:t,touchstart:t,mouseleave:a,touchend:a})}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),this.animationFrameService.requestAnimationFrame(()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:e=>{e.direction===this.direction&&(this.hideTimeout!==null&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=null),this.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout(()=>{this.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),this.hideTimeout=null},400)}})}attemptSettingScrollPosition(e){const t=this.getViewportElement();vu(()=>Nm(t),()=>this.setScrollPosition(e),100)}getViewportElement(){return this.eViewport}getContainer(){return this.eContainer}onScrollCallback(e){this.addManagedElementListeners(this.getViewportElement(),{scroll:e})}},ud=class extends nd{constructor(){super(`<div class="ag-body-horizontal-scroll" aria-hidden="true">
            <div class="ag-horizontal-left-spacer" data-ref="eLeftSpacer"></div>
            <div class="ag-body-horizontal-scroll-viewport" data-ref="eViewport">
                <div class="ag-body-horizontal-scroll-container" data-ref="eContainer"></div>
            </div>
            <div class="ag-horizontal-right-spacer" data-ref="eRightSpacer"></div>
        </div>`,"horizontal"),this.eLeftSpacer=Dp,this.eRightSpacer=Dp}wireBeans(e){super.wireBeans(e),this.visibleColsService=e.visibleColsService,this.pinnedRowModel=e.pinnedRowModel,this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService}postConstruct(){super.postConstruct();const e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e,pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this)}),this.addManagedPropertyListener("domLayout",e),this.ctrlsService.register("fakeHScrollComp",this),this.createManagedBean(new Nd(t=>this.eContainer.style.width=`${t}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}onPinnedRowDataChanged(){this.refreshCompBottom()}refreshCompBottom(){if(!this.invisibleScrollbar)return;const e=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const e=this.scrollVisibleService.isVerticalScrollShowing();let t=this.visibleColsService.getDisplayedColumnsRightWidth();const a=!this.enableRtl&&e,u=this.scrollVisibleService.getScrollbarWidth();a&&(t+=u),s1(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=u);let g=this.visibleColsService.getColsLeftWidth();this.enableRtl&&e&&(g+=u),s1(this.eLeftSpacer,g),this.eLeftSpacer.classList.toggle("ag-scroller-corner",g<=u)}setScrollVisible(){const e=this.scrollVisibleService.isHorizontalScrollShowing(),t=this.invisibleScrollbar,a=this.gos.get("suppressHorizontalScroll"),u=e&&this.scrollVisibleService.getScrollbarWidth()||0,_=a?0:u===0&&t?16:u;this.addOrRemoveCssClass("ag-scrollbar-invisible",t),Cv(this.getGui(),_),Cv(this.eViewport,_),Cv(this.eContainer,_),this.setDisplayed(e,{skipAriaHidden:!0})}getScrollPosition(){return wv(this.getViewportElement(),this.enableRtl)}setScrollPosition(e){Nm(this.getViewportElement())||this.attemptSettingScrollPosition(e),ey(this.getViewportElement(),e,this.enableRtl)}},Td={selector:"AG-FAKE-HORIZONTAL-SCROLL",component:ud},wd=class extends Nh{wireBeans(e){this.maxDivHeightScaler=e.rowContainerHeightService}constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this)})}onHeightChanged(){const e=this.maxDivHeightScaler.getUiContainerHeight(),t=e!=null?`${e}px`:"";this.eContainer.style.height=t,this.eViewport&&(this.eViewport.style.height=t)}},Kd=class extends nd{wireBeans(e){super.wireBeans(e),this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService}constructor(){super(`<div class="ag-body-vertical-scroll" aria-hidden="true">
            <div class="ag-body-vertical-scroll-viewport" data-ref="eViewport">
                <div class="ag-body-vertical-scroll-container" data-ref="eContainer"></div>
            </div>
        </div>`,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new wd(this.eContainer)),this.ctrlsService.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this)})}setScrollVisible(){const e=this.scrollVisibleService.isVerticalScrollShowing(),t=this.invisibleScrollbar,a=e&&this.scrollVisibleService.getScrollbarWidth()||0,u=a===0&&t?16:a;this.addOrRemoveCssClass("ag-scrollbar-invisible",t),s1(this.getGui(),u),s1(this.eViewport,u),s1(this.eContainer,u),this.setDisplayed(e,{skipAriaHidden:!0})}onRowContainerHeightChanged(){const{ctrlsService:e}=this,a=e.getGridBodyCtrl().getBodyViewportElement(),u=this.getScrollPosition(),g=a.scrollTop;u!=g&&this.setScrollPosition(g,!0)}getScrollPosition(){return this.getViewportElement().scrollTop}setScrollPosition(e,t){!t&&!Nm(this.getViewportElement())&&this.attemptSettingScrollPosition(e),this.getViewportElement().scrollTop=e}},Qd={selector:"AG-FAKE-VERTICAL-SCROLL",component:Kd},Mh=(e=>(e.FakeHScrollbar="fakeHScrollComp",e.Header="centerHeader",e.PinnedTop="topCenter",e.PinnedBottom="bottomCenter",e.StickyTop="stickyTopCenter",e.StickyBottom="stickyBottomCenter",e))(Mh||{}),hf=class extends Nh{constructor(e){super(),this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.eBodyViewport=e,this.resetLastHScrollDebounced=Kl(()=>this.lastScrollSource[1]=null,500),this.resetLastVScrollDebounced=Kl(()=>this.lastScrollSource[0]=null,500)}wireBeans(e){this.ctrlsService=e.ctrlsService,this.animationFrameService=e.animationFrameService,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService,this.rowModel=e.rowModel,this.heightScaler=e.rowContainerHeightService,this.rowRenderer=e.rowRenderer,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this)}),this.ctrlsService.whenReady(this,e=>{this.centerRowsCtrl=e.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.getViewportElement(),{scroll:this.onHScroll.bind(this,"Viewport")});for(const e of Object.values(Mh)){const t=this.ctrlsService.get(e);this.registerScrollPartner(t,this.onHScroll.bind(this,e))}}addVerticalScrollListeners(){const e=this.ctrlsService.get("fakeVScrollComp"),t=this.gos.get("debounceVerticalScrollbar"),a=t?Kl(this.onVScroll.bind(this,"Viewport"),100):this.onVScroll.bind(this,"Viewport"),u=t?Kl(this.onVScroll.bind(this,"fakeVScrollComp"),100):this.onVScroll.bind(this,"fakeVScrollComp");this.addManagedElementListeners(this.eBodyViewport,{scroll:a}),this.registerScrollPartner(e,u)}registerScrollPartner(e,t){e.onScrollCallback(t)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){this.centerRowsCtrl!=null&&(e===void 0&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(e)))}setScrollLeftForAllContainersExceptCurrent(e){for(const t of[...Object.values(Mh),"Viewport"]){if(this.lastScrollSource[1]===t)continue;const a=this.getViewportForSource(t);ey(a,e,this.enableRtl)}}getViewportForSource(e){return e==="Viewport"?this.centerRowsCtrl.getViewportElement():this.ctrlsService.get(e).getViewportElement()}isControllingScroll(e,t){return this.lastScrollSource[t]==null?(t===0?this.lastScrollSource[0]=e:this.lastScrollSource[1]=e,!0):this.lastScrollSource[t]===e}onHScroll(e){if(!this.isControllingScroll(e,1))return;const t=this.centerRowsCtrl.getViewportElement(),{scrollLeft:a}=t;if(this.shouldBlockScrollUpdate(1,a,!0))return;const u=wv(this.getViewportForSource(e),this.enableRtl);this.doHorizontalScroll(u),this.resetLastHScrollDebounced()}onVScroll(e){if(!this.isControllingScroll(e,0))return;let t;e==="Viewport"?t=this.eBodyViewport.scrollTop:t=this.ctrlsService.get("fakeVScrollComp").getScrollPosition(),!this.shouldBlockScrollUpdate(0,t,!0)&&(this.animationFrameService.setScrollTop(t),this.nextScrollTop=t,e==="Viewport"?this.ctrlsService.get("fakeVScrollComp").setScrollPosition(t):this.eBodyViewport.scrollTop=t,this.gos.get("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())}doHorizontalScroll(e){const t=this.ctrlsService.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}fireScrollEvent(e){const t={type:"bodyScroll",direction:e===1?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(()=>{this.eventService.dispatchEvent({...t,type:"bodyScrollEnd"})},100)}shouldBlockScrollUpdate(e,t,a=!1){return a&&!I1()?!1:e===0?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t)}shouldBlockVerticalScroll(e){const t=jy(this.eBodyViewport),{scrollHeight:a}=this.eBodyViewport;return e<0||e+t>a}shouldBlockHorizontalScroll(e){const t=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:a}=this.centerRowsCtrl.getViewportElement();if(this.enableRtl){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>a}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){this.scrollLeft!==this.centerRowsCtrl.getCenterViewportScrollLeft()&&this.onHScroll("Viewport")}scrollGridIfNeeded(){const e=this.scrollTop!=this.nextScrollTop;return e&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),e}setHorizontalScrollPosition(e,t=!1){const u=this.centerRowsCtrl.getViewportElement().scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(this.enableRtl?e=e>0?0:u:e=Math.min(Math.max(e,0),u)),ey(this.centerRowsCtrl.getViewportElement(),Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.eBodyViewport.scrollTop=e}getVScrollPosition(){return this.lastScrollTop=this.eBodyViewport.scrollTop,this.lastOffsetHeight=this.eBodyViewport.offsetHeight,{top:this.lastScrollTop,bottom:this.lastScrollTop+this.lastOffsetHeight}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.centerRowsCtrl.isHorizontalScrollShowing()}scrollHorizontally(e){const t=this.centerRowsCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.getViewportElement().scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,t=null){const a=this.rowModel.getRowCount();let u=-1;for(let g=0;g<a;g++){const _=this.rowModel.getRow(g);if(typeof e=="function"){if(_&&e(_)){u=g;break}}else if(e===_||e===_.data){u=g;break}}u>=0&&this.ensureIndexVisible(u,t)}ensureIndexVisible(e,t){if(gd(this.gos,"print"))return;const a=this.rowModel.getRowCount();if(typeof e!="number"||e<0||e>=a){ie("Invalid row index for ensureIndexVisible: "+e);return}const g=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.getFrameworkOverrides().wrapIncoming(()=>{g||this.paginationService?.goToPageWithIndex(e);const _=this.ctrlsService.getGridBodyCtrl(),K=_.getStickyTopHeight(),rt=_.getStickyBottomHeight(),al=this.rowModel.getRow(e);let Ql;do{const Gu=al.rowTop,Wu=al.rowHeight,id=this.pageBoundsService.getPixelOffset(),uh=al.rowTop-id,Qh=uh+al.rowHeight,uf=this.getVScrollPosition(),tf=this.heightScaler.getDivStretchOffset(),Hf=uf.top+tf,Vf=uf.bottom+tf,Bf=Vf-Hf,Kp=this.heightScaler.getScrollPositionForPixel(uh),K0=this.heightScaler.getScrollPositionForPixel(Qh-Bf),h0=Math.min((Kp+K0)/2,uh),x0=Hf+K>uh,Mg=Vf-rt<Qh;let em=null;t==="top"?em=Kp:t==="bottom"?em=K0:t==="middle"?em=h0:x0?em=Kp-K:Mg&&(em=K0+rt),em!==null&&(this.setVerticalScrollPosition(em),this.rowRenderer.redraw({afterScroll:!0})),Ql=Gu!==al.rowTop||Wu!==al.rowHeight}while(Ql);this.animationFrameService.flushAllFrames()})}ensureColumnVisible(e,t="auto"){const a=this.columnModel.getCol(e);if(!a||a.isPinned()||!this.visibleColsService.isColDisplayed(a))return;const u=this.getPositionedHorizontalScroll(a,t);this.getFrameworkOverrides().wrapIncoming(()=>{u!==null&&this.centerRowsCtrl.setCenterViewportScrollLeft(u),this.centerRowsCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()})}setScrollPosition(e,t){this.getFrameworkOverrides().wrapIncoming(()=>{this.centerRowsCtrl.setCenterViewportScrollLeft(t),this.setVerticalScrollPosition(e),this.rowRenderer.redraw({afterScroll:!0}),this.animationFrameService.flushAllFrames()})}getPositionedHorizontalScroll(e,t){const{columnBeforeStart:a,columnAfterEnd:u}=this.isColumnOutsideViewport(e),g=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),_=this.centerRowsCtrl.getCenterWidth(),K=this.enableRtl;let rt=(K?a:u)||g,al=K?u:a;t!=="auto"&&(rt=t==="start",al=t==="end");const Ql=t==="middle";if(rt||al||Ql){const{colLeft:Gu,colMiddle:Wu,colRight:id}=this.getColumnBounds(e);return Ql?Wu-_/2:rt?K?id:Gu:K?Gu-_:id-_}return null}isColumnOutsideViewport(e){const{start:t,end:a}=this.getViewportBounds(),{colLeft:u,colRight:g}=this.getColumnBounds(e),_=this.enableRtl,K=_?t>g:a<g,rt=_?a<u:t>u;return{columnBeforeStart:K,columnAfterEnd:rt}}getColumnBounds(e){const t=this.enableRtl,a=this.visibleColsService.getBodyContainerWidth(),u=e.getActualWidth(),g=e.getLeft(),_=t?-1:1,K=t?a-g:g,rt=K+u*_,al=K+u/2*_;return{colLeft:K,colMiddle:al,colRight:rt}}getViewportBounds(){const e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft(),a=t,u=e+t;return{start:a,end:u,width:e}}},Kh=class extends Nh{wireBeans(e){this.animationFrameService=e.animationFrameService,this.ctrlsService=e.ctrlsService,this.pinnedWidthService=e.pinnedWidthService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnSizeService=e.columnSizeService,this.scrollVisibleService=e.scrollVisibleService,this.columnViewportService=e.columnViewportService}constructor(e){super(),this.centerContainerCtrl=e}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()}),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){const e=()=>{this.animationFrameService.requestAnimationFrame(()=>{this.onCenterViewportResized()})};this.centerContainerCtrl.registerViewportResizeListener(e),this.gridBodyCtrl.registerBodyViewportResizeListener(e)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.scrollVisibleService.onCentreViewportResized(),this.centerContainerCtrl.isViewportInTheDOMTree()){this.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const e=this.centerContainerCtrl.getCenterWidth();e!==this.centerWidth&&(this.centerWidth=e,this.columnSizeService.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}keepPinnedColumnsNarrowerThanViewport(){const e=this.gridBodyCtrl.getBodyViewportElement(),t=$1(e);if(t<=50)return;let a=this.getPinnedColumnsOverflowingViewport(t-50);const u=this.gos.getCallback("processUnpinnedColumns");a.length&&(u&&(a=u({columns:a,viewportWidth:t})),this.columnModel.setColsPinned(a,null,"viewportSizeFeature"))}getPinnedColumnsOverflowingViewport(e){const t=this.pinnedWidthService.getPinnedRightWidth(),a=this.pinnedWidthService.getPinnedLeftWidth(),u=t+a;if(u<e)return[];const g=[...this.visibleColsService.getLeftCols()],_=[...this.visibleColsService.getRightCols()];let K=0,rt=0;const al=0,Ql=[];let Gu=u-al-e;for(;(rt<g.length||K<_.length)&&Gu>0;){if(K<_.length){const Wu=_[K++];Gu-=Wu.getActualWidth(),Ql.push(Wu)}if(rt<g.length&&Gu>0){const Wu=g[rt++];Gu-=Wu.getActualWidth(),Ql.push(Wu)}}return Ql}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const e=this.gridBodyCtrl.getBodyViewportElement(),t=jy(e);this.bodyHeight!==t&&(this.bodyHeight=t,this.eventService.dispatchEvent({type:"bodyHeightChanged"}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const e={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(e)}isHorizontalScrollShowing(){return this.centerContainerCtrl.isHorizontalScrollShowing()}onHorizontalViewportChanged(){const e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.columnViewportService.setScrollPosition(e,t)}},wf=class extends Nh{wireBeans(e){this.dragService=e.dragService,this.rangeService=e.rangeService}constructor(e){super(),this.eContainer=e}postConstruct(){if(!this.rangeService)return;this.params={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)},this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{hp(this.gos)?this.enableFeature():this.disableFeature()}),this.addDestroyFunc(()=>this.disableFeature()),hp(this.gos)&&this.enableFeature()}enableFeature(){this.dragService.addDragSource(this.params)}disableFeature(){this.dragService.removeDragSource(this.params)}},ef=class extends bg{constructor(){super(`
            <div class="ag-selection-checkbox" role="presentation">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[z1]),this.eCheckbox=Dp}postConstruct(){this.eCheckbox.setPassive(!0)}getCheckboxId(){return this.eCheckbox.getInputElement().id}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const e=this.localeService.getLocaleTextFunc(),t=this.rowNode.isSelected(),a=z0(e,t),[u,g]=this.rowNode.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],_=e(u,g);this.eCheckbox.setValue(t,!0),this.eCheckbox.setInputAriaLabel(`${_} (${a})`)}onClicked(e,t,a){return this.rowNode.setSelectedParams({newValue:e,rangeSelect:a.shiftKey,groupSelectsFiltered:t,event:a,source:"checkboxSelected"})}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getInputElement(),{dblclick:u=>Ih(u),click:u=>{Ih(u);const g=_p(this.gos)==="filteredDescendants",_=this.eCheckbox.getValue();this.shouldHandleIndeterminateState(_,g)?this.onClicked(!0,g,u||{})===0&&this.onClicked(!1,g,u):_?this.onClicked(!1,g,u):this.onClicked(!0,g,u||{})}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)}),ig(this.gos)||typeof this.getIsVisible()=="function"){const u=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:u}),this.addManagedListeners(this.rowNode,{dataChanged:u,cellChanged:u}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}shouldHandleIndeterminateState(e,t){return t&&(this.eCheckbox.getPreviousValue()===void 0||e===void 0)&&Dd(this.gos)}showOrHideSelect(){let e=this.rowNode.selectable;const t=this.getIsVisible();if(e)if(typeof t=="function"){const g=this.overrides?.callbackParams;if(!this.column)e=t({...g,node:this.rowNode,data:this.rowNode.data});else{const _=this.column.createColumnFunctionCallbackParams(this.rowNode);e=t({...g,..._})}}else e=t??!1;const a=this.gos.get("rowSelection");if(a&&typeof a!="string"?!Mf(a):this.column?.getColDef().showDisabledCheckboxes){this.eCheckbox.setDisabled(!e),this.setVisible(!0),this.setDisplayed(!0);return}if(this.overrides?.removeHidden){this.setDisplayed(e);return}this.setVisible(e)}getIsVisible(){if(this.overrides)return this.overrides.isVisible;const e=this.gos.get("rowSelection");return e&&typeof e!="string"?qd(e):this.column?.getColDef()?.checkboxSelection}},Sf=class extends bg{constructor(e,t,a){super('<div class="ag-drag-handle ag-row-drag" draggable="true"></div>'),this.rowNode=e,this.column=t,this.eCell=a}postConstruct(){this.getGui().appendChild(Vm("rowDrag",this.gos,null)),this.addGuiEventListener("mousedown",t=>{t.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){const t=this.column.getColDef().dndSourceOnRowDrag;e.dataTransfer.setDragImage(this.eCell,0,0);const a=()=>{try{const u=JSON.stringify(this.rowNode.data);e.dataTransfer.setData("application/json",u),e.dataTransfer.setData("text/plain",u)}catch{}};if(t){const u=this.gos.addGridCommonParams({rowNode:this.rowNode,dragEvent:e});t(u)}else a()}checkVisibility(){const e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}},zf=class extends Nh{constructor(e,t){super(),this.staticClasses=[],this.cellCtrl=e,this.beans=t,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const e=this.column.getColDef(),{cellClassRules:t}=e,a=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:e,column:this.column,rowIndex:this.rowNode.rowIndex});this.beans.stylingService.processClassRules(t===this.cellClassRules?void 0:this.cellClassRules,t,a,u=>this.cellComp.addOrRemoveCssClass(u,!0),u=>this.cellComp.addOrRemoveCssClass(u,!1)),this.cellClassRules=t}applyUserStyles(){const e=this.column.getColDef();if(!e.cellStyle)return;let t;if(typeof e.cellStyle=="function"){const a=this.beans.gos.addGridCommonParams({column:this.column,value:this.cellCtrl.getValue(),colDef:e,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex}),u=e.cellStyle;t=u(a)}else t=e.cellStyle;t&&this.cellComp.setUserStyles(t)}applyClassesFromColDef(){const e=this.column.getColDef(),t=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:e,rowIndex:this.rowNode.rowIndex});this.staticClasses.length&&this.staticClasses.forEach(a=>this.cellComp.addOrRemoveCssClass(a,!1)),this.staticClasses=this.beans.stylingService.getStaticCellClasses(e,t),this.staticClasses.length&&this.staticClasses.forEach(a=>this.cellComp.addOrRemoveCssClass(a,!0))}destroy(){super.destroy()}},t0=class extends Nh{constructor(e,t,a,u,g){super(),this.cellCtrl=e,this.beans=t,this.rowNode=u,this.rowCtrl=g}setComp(e){this.eGui=e}onKeyDown(e){const t=e.key;switch(t){case pf.ENTER:this.onEnterKeyDown(e);break;case pf.F2:this.onF2KeyDown(e);break;case pf.ESCAPE:this.onEscapeKeyDown(e);break;case pf.TAB:this.onTabKeyDown(e);break;case pf.BACKSPACE:case pf.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case pf.DOWN:case pf.UP:case pf.RIGHT:case pf.LEFT:this.onNavigationKeyDown(e,t);break}}onNavigationKeyDown(e,t){this.cellCtrl.isEditing()||(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(e):this.beans.navigationService.navigateToNextCell(e,t,this.cellCtrl.getCellPosition(),!0),e.preventDefault())}onShiftRangeSelect(e){if(!this.beans.rangeService)return;const t=this.beans.rangeService.extendLatestRangeInDirection(e);t&&this.beans.navigationService.ensureCellVisible(t)}onTabKeyDown(e){this.beans.navigationService.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){const{cellCtrl:a,beans:u,rowNode:g}=this,{gos:_,rangeService:K,eventService:rt}=u;if(!a.isEditing()){if(rt.dispatchEvent({type:"keyShortcutChangedCellStart"}),G2(e,_.get("enableCellEditingOnBackspace"))){if(K&&hp(_))K.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(a.isCellEditable()){const al=a.getColumn(),Ql=this.beans.valueService.getDeleteValue(al,g);g.setDataValue(al,Ql,"cellClear")}}else a.startRowOrCellEdit(e,t);rt.dispatchEvent({type:"keyShortcutChangedCellEnd"})}}onEnterKeyDown(e){if(this.cellCtrl.isEditing()||this.rowCtrl.isEditing())this.cellCtrl.stopEditingAndFocus(!1,e.shiftKey);else if(this.beans.gos.get("enterNavigatesVertically")){const t=e.shiftKey?pf.UP:pf.DOWN;this.beans.navigationService.navigateToNextCell(null,t,this.cellCtrl.getCellPosition(),!1)}else this.cellCtrl.startRowOrCellEdit(pf.ENTER,e),this.cellCtrl.isEditing()&&e.preventDefault()}onF2KeyDown(e){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(pf.F2,e)}onEscapeKeyDown(e){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))}processCharacter(e){if(e.target!==this.eGui||this.cellCtrl.isEditing())return;const u=e.key;u===" "?this.onSpaceKeyDown(e):this.cellCtrl.startRowOrCellEdit(u,e)&&e.preventDefault()}onSpaceKeyDown(e){const{gos:t}=this.beans;if(!this.cellCtrl.isEditing()&&md(t)){const a=this.rowNode.isSelected(),u=!a,g=_p(t)==="filteredDescendants",_=this.rowNode.setSelectedParams({newValue:u,rangeSelect:e.shiftKey,groupSelectsFiltered:g,event:e,source:"spaceKey"});a===void 0&&_===0&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:g,event:e,source:"spaceKey"})}e.preventDefault()}destroy(){super.destroy()}},ap=class extends Nh{constructor(e,t,a){super(),this.cellCtrl=e,this.beans=t,this.column=a}onMouseEvent(e,t){if(!_h(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t);break}}onCellClicked(e){if(this.isDoubleClickOnIPad()){this.onCellDoubleClicked(e),e.preventDefault();return}const{eventService:t,rangeService:a,gos:u}=this.beans,g=e.ctrlKey||e.metaKey;a&&g&&a.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&a.intersectLastRange(!0);const _=this.cellCtrl.createEvent(e,"cellClicked");t.dispatchEvent(_);const K=this.column.getColDef();K.onCellClicked&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{K.onCellClicked(_)})},0),(u.get("singleClickEdit")||K.singleClickEdit)&&!u.get("suppressClickEdit")&&!(e.shiftKey&&a?.getCellRanges().length!=0)&&this.cellCtrl.startRowOrCellEdit()}isDoubleClickOnIPad(){if(!I1()||ep("dblclick"))return!1;const e=new Date().getTime(),t=e-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=e,t}onCellDoubleClicked(e){const{column:t,beans:a,cellCtrl:u}=this,{eventService:g,frameworkOverrides:_,gos:K}=a,rt=t.getColDef(),al=u.createEvent(e,"cellDoubleClicked");g.dispatchEvent(al),typeof rt.onCellDoubleClicked=="function"&&window.setTimeout(()=>{_.wrapOutgoing(()=>{rt.onCellDoubleClicked(al)})},0),!K.get("singleClickEdit")&&!K.get("suppressClickEdit")&&u.startRowOrCellEdit(null,e)}onMouseDown(e){const{ctrlKey:t,metaKey:a,shiftKey:u}=e,g=e.target,{cellCtrl:_,beans:K}=this,{eventService:rt,rangeService:al,focusService:Ql,gos:Gu}=K;if(this.isRightClickInExistingRange(e))return;const Wu=al&&al.getCellRanges().length!=0;if(!u||!Wu){const uh=Gu.get("enableCellTextSelection")&&e.defaultPrevented,Qh=(_1()||uh)&&!_.isEditing()&&!f1(g);_.focusCell(Qh)}if(u&&Wu&&!Ql.isCellFocused(_.getCellPosition())){e.preventDefault();const id=Ql.getFocusedCell();if(id){const{column:uh,rowIndex:Qh,rowPinned:uf}=id,Hf=K.rowRenderer.getRowByPosition({rowIndex:Qh,rowPinned:uf})?.getCellCtrl(uh);Hf?.isEditing()&&Hf.stopEditing(),Ql.setFocusedCell({column:uh,rowIndex:Qh,rowPinned:uf,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!this.containsWidget(g)){if(al){const id=this.cellCtrl.getCellPosition();if(u)al.extendLatestRangeToCell(id);else{const uh=t||a;al.setRangeToCell(id,uh)}}rt.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseDown"))}}isRightClickInExistingRange(e){const{rangeService:t}=this.beans;if(t){const a=t.isCellInAnyRange(this.cellCtrl.getCellPosition()),u=e.button===2||e.ctrlKey&&this.beans.gos.get("allowContextMenuWithControlKey");if(a&&u)return!0}return!1}containsWidget(e){return Km(e,"ag-selection-checkbox",3)}onMouseOut(e){this.mouseStayingInsideCell(e)||(this.beans.eventService.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOut")),this.beans.columnHoverService.clearMouseOver())}onMouseOver(e){this.mouseStayingInsideCell(e)||(this.beans.eventService.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOver")),this.beans.columnHoverService.setMouseOver([this.column]))}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const t=this.cellCtrl.getGui(),a=t.contains(e.target),u=t.contains(e.relatedTarget);return a&&u}destroy(){super.destroy()}},B0=class extends Nh{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventService,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}setComp(e){this.eGui=e,this.setupColSpan(),this.setupRowSpan(),this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()}onNewColumnsLoaded(){const e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this.applyRowSpan(!0))}onDisplayColumnsChanged(){const e=this.getColSpanningList();Xg(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventService,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eGui)return;const e=this.getCellWidth();this.eGui.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const e=this.column.getColSpan(this.rowNode),t=[];if(e===1)t.push(this.column);else{let a=this.column;const u=this.column.getPinned();for(let g=0;a&&g<e&&(t.push(a),a=this.beans.visibleColsService.getColAfter(a),!(!a||Zu(a)||u!==a.getPinned()));g++);}return t}onLeftChanged(){if(!this.eGui)return;const e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=e+"px"}getCellLeft(){let e;return this.beans.gos.get("enableRtl")&&this.colsSpanning?e=Pp(this.colsSpanning):e=this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.isPrintLayout()||this.column.getPinned()==="left")return e;const t=this.beans.visibleColsService.getColsLeftWidth();if(this.column.getPinned()==="right"){const a=this.beans.visibleColsService.getBodyContainerWidth();return t+a+(e||0)}return t+(e||0)}applyRowSpan(e){if(this.rowSpan===1&&!e)return;const a=Ef(this.beans.gos)*this.rowSpan;this.eGui.style.height=`${a}px`,this.eGui.style.zIndex="1"}destroy(){super.destroy()}},Lp=(e=>(e[e.FILL=0]="FILL",e[e.RANGE=1]="RANGE",e))(Lp||{}),q0=(e=>(e[e.VALUE=0]="VALUE",e[e.DIMENSION=1]="DIMENSION",e))(q0||{}),F0="ag-cell-range-selected",kg="ag-cell-range-chart",H0="ag-cell-range-single-cell",Vp="ag-cell-range-chart-category",Rg="ag-cell-range-handle",rg="ag-cell-range-top",r0="ag-cell-range-right",Fg="ag-cell-range-bottom",pg="ag-cell-range-left",_g=class{constructor(e,t){this.beans=e,this.rangeService=e.rangeService,this.selectionHandleFactory=e.selectionHandleFactory,this.cellCtrl=t}setComp(e,t){this.cellComp=e,this.eGui=t,this.onCellSelectionChanged()}onCellSelectionChanged(){this.cellComp&&(this.rangeCount=this.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(F0,this.rangeCount!==0),this.cellComp.addOrRemoveCssClass(`${F0}-1`,this.rangeCount===1),this.cellComp.addOrRemoveCssClass(`${F0}-2`,this.rangeCount===2),this.cellComp.addOrRemoveCssClass(`${F0}-3`,this.rangeCount===3),this.cellComp.addOrRemoveCssClass(`${F0}-4`,this.rangeCount>=4),this.cellComp.addOrRemoveCssClass(kg,this.hasChartRange),fg(this.eGui,this.rangeCount>0?!0:void 0),this.cellComp.addOrRemoveCssClass(H0,this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())}updateRangeBorders(){const e=this.getRangeBorders(),t=this.isSingleCell(),a=!t&&e.top,u=!t&&e.right,g=!t&&e.bottom,_=!t&&e.left;this.cellComp.addOrRemoveCssClass(rg,a),this.cellComp.addOrRemoveCssClass(r0,u),this.cellComp.addOrRemoveCssClass(Fg,g),this.cellComp.addOrRemoveCssClass(pg,_)}isSingleCell(){const{rangeService:e}=this.beans;return this.rangeCount===1&&!!e&&!e.isMoreThanOneCell()}getHasChartRange(){const{rangeService:e}=this.beans;if(!this.rangeCount||!e)return!1;const t=e.getCellRanges();return t.length>0&&t.every(a=>yg([1,0],a.type))}updateRangeBordersIfRangeCount(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())}getRangeBorders(){const e=this.beans.gos.get("enableRtl");let t=!1,a=!1,u=!1,g=!1;const _=this.cellCtrl.getCellPosition().column,K=this.beans.visibleColsService;let rt,al;e?(rt=K.getColAfter(_),al=K.getColBefore(_)):(rt=K.getColBefore(_),al=K.getColAfter(_));const Ql=this.rangeService.getCellRanges().filter(Gu=>this.rangeService.isCellInSpecificRange(this.cellCtrl.getCellPosition(),Gu));rt||(g=!0),al||(a=!0);for(let Gu=0;Gu<Ql.length&&!(t&&a&&u&&g);Gu++){const Wu=Ql[Gu],id=this.rangeService.getRangeStartRow(Wu),uh=this.rangeService.getRangeEndRow(Wu);!t&&this.beans.rowPositionUtils.sameRow(id,this.cellCtrl.getCellPosition())&&(t=!0),!u&&this.beans.rowPositionUtils.sameRow(uh,this.cellCtrl.getCellPosition())&&(u=!0),!g&&rt&&Wu.columns.indexOf(rt)<0&&(g=!0),!a&&al&&Wu.columns.indexOf(al)<0&&(a=!0)}return{top:t,right:a,bottom:u,left:g}}refreshHandle(){if(this.beans.context.isDestroyed())return;const e=this.shouldHaveSelectionHandle();this.selectionHandle&&!e&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),e&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass(Rg,!!this.selectionHandle)}shouldHaveSelectionHandle(){const e=this.beans.gos,t=this.rangeService.getCellRanges(),a=t.length;if(this.rangeCount<1||a<1)return!1;const u=Pp(t),g=this.cellCtrl.getCellPosition(),_=sp(e)&&!this.cellCtrl.isSuppressFillHandle(),K=Cp(e);let rt=a===1&&!this.cellCtrl.isEditing()&&(_||K);if(this.hasChartRange){const Ql=t[0].type===1&&this.rangeService.isCellInSpecificRange(g,t[0]);this.cellComp.addOrRemoveCssClass(Vp,Ql),rt=u.type===0}return rt&&u.endRow!=null&&this.rangeService.isContiguousRange(u)&&this.rangeService.isBottomRightCell(u,g)}addSelectionHandle(){const e=Pp(this.rangeService.getCellRanges()).type,a=sp(this.beans.gos)&&Zu(e)?0:1;this.selectionHandle&&this.selectionHandle.getType()!==a&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.selectionHandleFactory.createSelectionHandle(a)),this.selectionHandle.refresh(this.cellCtrl)}destroy(){this.beans.context.destroyBean(this.selectionHandle)}},Bg="ag-cell",fm="ag-cell-auto-height",C0="ag-cell-normal-height",gg="ag-cell-focus",Y0="ag-cell-first-right-pinned",lg="ag-cell-last-left-pinned",ng="ag-cell-not-inline-editing",Hg="ag-column-hover",zg="ag-cell-wrap-text",wg=0,pm=class sw extends Nh{constructor(t,a,u,g){super(),this.column=t,this.rowNode=a,this.beans=u,this.rowCtrl=g,this.cellRangeFeature=void 0,this.cellPositionFeature=void 0,this.cellCustomStyleFeature=void 0,this.tooltipFeature=void 0,this.cellMouseListenerFeature=void 0,this.cellKeyboardListenerFeature=void 0,this.suppressRefreshCell=!1,this.onCellCompAttachedFuncs=[],this.onCellEditorAttachedFuncs=[],this.instanceId=t.getId()+"-"+wg++,this.colIdSanitised=Rh(this.column.getId()),this.createCellPosition(),this.updateAndFormatValue(!1)}shouldRestoreFocus(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)}onFocusOut(){this.beans.focusService.clearRestoreFocus()}addFeatures(){this.cellPositionFeature=new B0(this,this.beans),this.cellCustomStyleFeature=new zf(this,this.beans),this.cellMouseListenerFeature=new ap(this,this.beans,this.column),this.cellKeyboardListenerFeature=new t0(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.column.isTooltipEnabled()&&this.enableTooltipFeature(),this.beans.rangeService&&hp(this.beans.gos)&&(this.cellRangeFeature=new _g(this.beans,this))}removeFeatures(){const t=this.beans.context;this.cellPositionFeature=t.destroyBean(this.cellPositionFeature),this.cellCustomStyleFeature=t.destroyBean(this.cellCustomStyleFeature),this.cellMouseListenerFeature=t.destroyBean(this.cellMouseListenerFeature),this.cellKeyboardListenerFeature=t.destroyBean(this.cellKeyboardListenerFeature),this.cellRangeFeature=t.destroyBean(this.cellRangeFeature),this.disableTooltipFeature()}enableTooltipFeature(t,a){const u=()=>{const K=this.column.getColDef(),rt=this.rowNode.data;if(K.tooltipField&&Vu(rt))return Bl(rt,K.tooltipField,this.column.isTooltipFieldContainsDots());const al=K.tooltipValueGetter;return al?al(this.beans.gos.addGridCommonParams({location:"cell",colDef:this.column.getColDef(),column:this.column,rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,value:this.value,valueFormatted:this.valueFormatted})):null},g=this.beans.gos.get("tooltipShowMode")==="whenTruncated";!a&&g&&!this.isCellRenderer()&&(a=()=>{const K=this.getGui(),rt=K.children.length===0?K:K.querySelector(".ag-cell-value");return rt?rt.scrollWidth>rt.clientWidth:!0});const _={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getRowIndex:()=>this.cellPosition.rowIndex,getRowNode:()=>this.rowNode,getGui:()=>this.getGui(),getLocation:()=>"cell",getTooltipValue:t!=null?()=>t:u,getValueFormatted:()=>this.valueFormatted,shouldDisplayTooltip:a};this.tooltipFeature=new e1(_,this.beans)}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature)}setComp(t,a,u,g,_,K){this.cellComp=t,this.eGui=a,this.printLayout=g,K??(K=this),this.addDomData(K),this.addFeatures(),K.addDestroyFunc(()=>this.removeFeatures()),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(u,K),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),this.cellPositionFeature?.setComp(a),this.cellCustomStyleFeature?.setComp(t),this.tooltipFeature?.refreshToolTip(),this.cellKeyboardListenerFeature?.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(t,a),_&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach(rt=>rt()),this.onCellCompAttachedFuncs=[])}setupAutoHeight(t,a){if(this.isAutoHeight=this.column.isAutoHeight(),!this.isAutoHeight||!t)return;const u=t.parentElement,g=yh(this.beans.gos,this.rowNode).height,_=al=>{if(this.editing||!this.isAlive()||!a.isAlive())return;const{paddingTop:Ql,paddingBottom:Gu,borderBottomWidth:Wu,borderTopWidth:id}=g1(u),uh=Ql+Gu+Wu+id,uf=t.offsetHeight+uh;if(al<5){const Hf=Fp(this.beans.gos),Vf=!Hf||!Hf.contains(t),Bf=uf==0;if(Vf||Bf){window.setTimeout(()=>_(al+1),0);return}}const tf=Math.max(uf,g);this.rowNode.setRowAutoHeight(tf,this.column)},K=()=>_(0);K();const rt=this.beans.resizeObserverService.observeResize(t,K);a.addDestroyFunc(()=>{rt(),this.rowNode.setRowAutoHeight(void 0,this.column)})}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}isCellRenderer(){const t=this.column.getColDef();return t.cellRenderer!=null||t.cellRendererSelector!=null}getValueToDisplay(){return this.valueFormatted??this.value}showValue(t=!1){const{beans:a,column:u,rowNode:g,cellRangeFeature:_,cellComp:K}=this,{userComponentFactory:rt,animationFrameService:al}=a,Ql=this.getValueToDisplay();let Gu;if(g.stub&&g.groupData?.[this.column.getId()]==null){const id=this.createCellRendererParams();Gu=rt.getLoadingCellRendererDetails(u.getColDef(),id)}else if(this.isCellRenderer()){const id=this.createCellRendererParams();Gu=rt.getCellRendererDetails(u.getColDef(),id)}K.setRenderDetails(Gu,Ql,t),al.requestAnimationFrame(()=>_?.refreshHandle())}setupControlComps(){const t=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(t)),this.includeRowDrag=this.isIncludeControl(t.rowDrag),this.includeDndSource=this.isIncludeControl(t.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(t){return this.rowNode.rowPinned!=null?!1:typeof t=="function"||t===!0}isCheckboxSelection(t){const{rowSelection:a}=this.beans.gridOptions;return t.checkboxSelection||Ng(this.column)&&a&&typeof a!="string"&&qd(a)}refreshShouldDestroy(){const t=this.column.getColDef(),a=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(t)),u=this.includeRowDrag!=this.isIncludeControl(t.rowDrag),g=this.includeDndSource!=this.isIncludeControl(t.dndSource),_=this.isAutoHeight!=this.column.isAutoHeight();return a||u||g||_}startEditing(t=null,a=!1,u=null){const{editService:g}=this.beans;return!this.isCellEditable()||this.editing||!g?!0:this.cellComp?g.startEditing(this,t,a,u):(this.onCellCompAttachedFuncs.push(()=>{this.startEditing(t,a,u)}),!0)}setEditing(t,a){this.editCompDetails=a,this.editing!==t&&(this.editing=t)}stopRowOrCellEdit(t=!1){this.beans.gos.get("editType")==="fullRow"?this.rowCtrl.stopEditing(t):this.stopEditing(t)}onPopupEditorClosed(){this.editing&&this.stopEditingAndFocus()}stopEditing(t=!1){this.onCellEditorAttachedFuncs=[];const{editService:a}=this.beans;return!this.editing||!a?!1:a.stopEditing(this,t)}createCellRendererParams(){return this.beans.gos.addGridCommonParams({value:this.value,valueFormatted:this.valueFormatted,getValue:()=>this.beans.valueService.getValueForDisplay(this.column,this.rowNode),setValue:a=>this.beans.valueService.setValue(this.rowNode,this.column,a),formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:(a,u,g,_)=>this.registerRowDragger(a,u,_),setTooltip:(a,u)=>{this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(a,u),this.tooltipFeature?.refreshToolTip()}})}setFocusOutOnEditor(){this.editing&&this.beans.editService?.setFocusOutOnEditor(this)}setFocusInOnEditor(){this.editing&&this.beans.editService?.setFocusInOnEditor(this)}onCellChanged(t){t.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(t){this.refreshShouldDestroy()?this.rowCtrl?.recreateCell(this):this.refreshCell(t)}refreshCell(t){if(this.suppressRefreshCell||this.editing)return;const a=this.column.getColDef(),u=t!=null&&!!t.newData,g=t!=null&&!!t.suppressFlash||!!a.suppressCellFlash,_=a.field==null&&a.valueGetter==null&&a.showRowGroup==null,K=t&&t.forceRefresh||_||u,rt=!!this.cellComp,al=this.updateAndFormatValue(rt),Ql=K||al;if(rt){if(Ql){this.showValue(u);const Gu=this.beans.filterManager?.isSuppressFlashingCellsBecauseFiltering();!g&&!Gu&&(this.beans.gos.get("enableCellChangeFlash")||a.enableCellChangeFlash)&&this.flashCell(),this.cellCustomStyleFeature?.applyUserStyles(),this.cellCustomStyleFeature?.applyClassesFromColDef()}this.tooltipFeature?.refreshToolTip(),this.cellCustomStyleFeature?.applyCellClassRules()}}stopEditingAndFocus(t=!1,a=!1){this.beans.editService?.stopEditingAndFocus(this,t,a)}flashCell(t){const a=t?.flashDuration??t?.flashDelay,u=t?.fadeDuration??t?.fadeDelay;this.animateCell("data-changed",a,u)}animateCell(t,a,u){if(!this.cellComp)return;const{gos:g}=this.beans;if(a||(a=g.get("cellFlashDuration")),a===0)return;Vu(u)||(u=g.get("cellFadeDuration"));const _=`ag-cell-${t}`,K=`ag-cell-${t}-animation`;this.cellComp.addOrRemoveCssClass(_,!0),this.cellComp.addOrRemoveCssClass(K,!1),this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(_,!1),this.cellComp.addOrRemoveCssClass(K,!0),this.eGui.style.transition=`background-color ${u}ms`,window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(K,!1),this.eGui.style.transition="")},u))},a)})}onFlashCells(t){if(!this.cellComp)return;const a=this.beans.cellPositionUtils.createId(this.getCellPosition());t.cells[a]&&this.animateCell("highlight")}isCellEditable(){return this.column.isCellEditable(this.rowNode)}isSuppressFillHandle(){return this.column.isSuppressFillHandle()}formatValue(t){return this.callValueFormatter(t)??t}callValueFormatter(t){return this.beans.valueService.formatValue(this.column,this.rowNode,t)}updateAndFormatValue(t){const a=this.value,u=this.valueFormatted;return this.value=this.beans.valueService.getValueForDisplay(this.column,this.rowNode),this.valueFormatted=this.callValueFormatter(this.value),t?!this.valuesAreEqual(a,this.value)||this.valueFormatted!=u:!0}valuesAreEqual(t,a){const u=this.column.getColDef();return u.equals?u.equals(t,a):t===a}getComp(){return this.cellComp}getValue(){return this.value}addDomData(t){const a=this.getGui();rp(this.beans.gos,a,sw.DOM_DATA_KEY_CELL_CTRL,this),t.addDestroyFunc(()=>rp(this.beans.gos,a,sw.DOM_DATA_KEY_CELL_CTRL,null))}createEvent(t,a){return this.beans.gos.addGridCommonParams({type:a,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),rowPinned:this.rowNode.rowPinned,event:t,rowIndex:this.rowNode.rowIndex})}processCharacter(t){this.cellKeyboardListenerFeature?.processCharacter(t)}onKeyDown(t){this.cellKeyboardListenerFeature?.onKeyDown(t)}onMouseEvent(t,a){this.cellMouseListenerFeature?.onMouseEvent(t,a)}getGui(){return this.eGui}getColSpanningList(){return this.cellPositionFeature.getColSpanningList()}onLeftChanged(){this.cellComp&&this.cellPositionFeature?.onLeftChanged()}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{cellComp:t,column:a,beans:u}=this;tl(t,a,u.visibleColsService)}refreshAriaColIndex(){const t=this.beans.visibleColsService.getAriaColIndex(this.column);Sg(this.getGui(),t)}isSuppressNavigable(){return this.column.isSuppressNavigable(this.rowNode)}onWidthChanged(){return this.cellPositionFeature?.onWidthChanged()}getColumn(){return this.column}getRowNode(){return this.rowNode}isPrintLayout(){return this.printLayout}getCellPosition(){return this.cellPosition}isEditing(){return this.editing}startRowOrCellEdit(t,a=null){return this.cellComp?this.beans.gos.get("editType")==="fullRow"?this.rowCtrl.startRowEditing(t,this):this.startEditing(t,!0,a):(this.onCellCompAttachedFuncs.push(()=>{this.startRowOrCellEdit(t,a)}),!0)}getRowCtrl(){return this.rowCtrl}getRowPosition(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}}updateRangeBordersIfRangeCount(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()}onCellSelectionChanged(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onCellSelectionChanged()}isRangeSelectionEnabled(){return this.cellRangeFeature!=null}focusCell(t=!1){this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:t})}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onCellSelectionChanged()}onSuppressCellFocusChanged(t){this.eGui&&Jm(this.eGui,"tabindex",t?void 0:-1)}onFirstRightPinnedChanged(){if(!this.cellComp)return;const t=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass(Y0,t)}onLastLeftPinnedChanged(){if(!this.cellComp)return;const t=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass(lg,t)}onCellFocused(t){if(this.beans.focusService.isCellFocusSuppressed())return;const a=this.beans.focusService.isCellFocused(this.cellPosition);if(!this.cellComp){a&&t?.forceBrowserFocus&&(this.focusEventToRestore=t);return}if(this.focusEventToRestore=void 0,this.cellComp.addOrRemoveCssClass(gg,a),a&&t&&t.forceBrowserFocus){let g=this.cellComp.getFocusableElement();if(this.editing){const _=this.beans.focusService.findFocusableElements(g,null,!0);_.length&&(g=_[0])}g.focus({preventScroll:!!t.preventScrollOnBrowserFocus})}const u=this.beans.gos.get("editType")==="fullRow";!a&&!u&&this.editing&&this.stopRowOrCellEdit(),a&&this.rowCtrl.announceDescription()}createCellPosition(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:Xu(this.rowNode.rowPinned),column:this.column}}applyStaticCssClasses(){this.cellComp.addOrRemoveCssClass(Bg,!0),this.cellComp.addOrRemoveCssClass(ng,!0);const t=this.column.isAutoHeight()==!0;this.cellComp.addOrRemoveCssClass(fm,t),this.cellComp.addOrRemoveCssClass(C0,!t)}onColumnHover(){if(!this.cellComp||!this.beans.gos.get("columnHoverHighlight"))return;const t=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass(Hg,t)}onColDefChanged(){if(!this.cellComp)return;this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editing?this.beans.editService?.handleColDefChanged(this):this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0})}setWrapText(){const t=this.column.getColDef().wrapText==!0;this.cellComp.addOrRemoveCssClass(zg,t)}dispatchCellContextMenuEvent(t){const a=this.column.getColDef(),u=this.createEvent(t,"cellContextMenu");this.beans.eventService.dispatchEvent(u),a.onCellContextMenu&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{a.onCellContextMenu(u)})},0)}getCellRenderer(){return this.cellComp?this.cellComp.getCellRenderer():null}getCellEditor(){return this.cellComp?this.cellComp.getCellEditor():null}destroy(){this.onCellCompAttachedFuncs=[],this.onCellEditorAttachedFuncs=[],super.destroy()}createSelectionCheckbox(){const t=new ef;return this.beans.context.createBean(t),t.init({rowNode:this.rowNode,column:this.column}),t}createDndSource(){const t=new Sf(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(t),t}registerRowDragger(t,a,u){if(this.customRowDragComp){this.customRowDragComp.setDragElement(t,a);return}const g=this.createRowDragComp(t,a,u);g&&(this.customRowDragComp=g,this.addDestroyFunc(()=>{this.beans.context.destroyBean(g),this.customRowDragComp=null}))}createRowDragComp(t,a,u){const g=this.beans.gos.get("pagination"),_=this.beans.gos.get("rowDragManaged"),K=Dd(this.beans.gos);if(_){if(!K){ie("managed row dragging is only allowed in the Client Side Row Model");return}if(g){ie("managed row dragging is not possible when doing pagination");return}}const rt=new by(()=>this.value,this.rowNode,this.column,t,a,u);return this.beans.context.createBean(rt),rt}setSuppressRefreshCell(t){this.suppressRefreshCell=t}getEditCompDetails(){return this.editCompDetails}onCellEditorAttached(t){this.onCellEditorAttachedFuncs.push(t)}cellEditorAttached(){this.onCellEditorAttachedFuncs.forEach(t=>t()),this.onCellEditorAttachedFuncs=[]}};pm.DOM_DATA_KEY_CELL_CTRL="cellCtrl";var Dg=pm,eg=0,Gm=class lw extends Nh{constructor(t,a,u,g,_){super(),this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKeySanitised=null,this.beans=a,this.gos=a.gos,this.rowNode=t,this.paginationPage=a.paginationService?.getCurrentPage()??0,this.useAnimationFrameForCreate=g,this.printLayout=_,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=t.id+"-"+eg++,this.rowId=Rh(t.id),this.initRowBusinessKey(),this.rowFocused=a.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=a.rowCssClassCalculator.calculateRowLevel(this.rowNode),this.setRowType(),this.setAnimateFlags(u),this.rowStyles=this.processStylesFromGridOptions(),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;const t=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=Rh(t)}getRowId(){return this.rowId}getRowStyles(){return this.rowStyles}isSticky(){return this.rowNode.sticky}updateGui(t,a){t==="left"?this.leftGui=a:t==="right"?this.rightGui=a:t==="fullWidth"?this.fullWidthGui=a:this.centerGui=a}setComp(t,a,u,g){g=u0(this,this.beans.context,g);const _={rowComp:t,element:a,containerType:u,compBean:g};this.allRowGuis.push(_),this.updateGui(u,_),this.initialiseRowComp(_),this.rowType!=="FullWidthLoading"&&!this.rowNode.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()}unsetComp(t){this.allRowGuis=this.allRowGuis.filter(a=>a.containerType!==t),this.updateGui(t,void 0)}isCacheable(){return this.rowType==="FullWidthDetail"&&this.gos.get("keepDetailRows")}setCached(t){const a=t?"none":"";this.allRowGuis.forEach(u=>u.element.style.display=a)}initialiseRowComp(t){const a=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(t),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights(),this.onRowHeightChanged(t),this.updateRowIndexes(t),this.setFocusedClasses(t),this.setStylesFromGridOptions(!1,t),md(a)&&this.rowNode.selectable&&this.onRowSelected(t),this.updateColumnLists(!this.useAnimationFrameForCreate);const u=t.rowComp;this.getInitialRowClasses(t.containerType).forEach(_=>u.addOrRemoveCssClass(_,!0)),this.executeSlideAndFadeAnimations(t),this.rowNode.group&&Fh(t.element,this.rowNode.expanded==!0),this.setRowCompRowId(u),this.setRowCompRowBusinessKey(u),rp(a,t.element,lw.DOM_DATA_KEY_ROW_CTRL,this),t.compBean.addDestroyFunc(()=>rp(a,t.element,lw.DOM_DATA_KEY_ROW_CTRL,null)),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,t),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(t),this.isFullWidth()&&this.setupFullWidth(t),a.get("rowDragEntireRow")&&this.addRowDraggerToRow(t),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask(()=>{this.isAlive()&&t.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(t){this.businessKeySanitised!=null&&t.setRowBusinessKey(this.businessKeySanitised)}getBusinessKey(){return this.businessKeySanitised}setRowCompRowId(t){this.rowId=Rh(this.rowNode.id),this.rowId!=null&&t.setRowId(this.rowId)}executeSlideAndFadeAnimations(t){const{containerType:a}=t;this.slideInAnimation[a]&&(Ft(()=>{this.onTopChanged()}),this.slideInAnimation[a]=!1),this.fadeInAnimation[a]&&(Ft(()=>{t.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[a]=!1)}addRowDraggerToRow(t){if(hp(this.gos)){ie("Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `cellSelection: true`");return}const a=this.beans.localeService.getLocaleTextFunc(),u=new by(()=>`1 ${a("rowDragRow","row")}`,this.rowNode,void 0,t.element,void 0,!0),g=this.createBean(u,this.beans.context);this.rowDragComps.push(g),t.compBean.addDestroyFunc(()=>{this.rowDragComps=this.rowDragComps.filter(_=>_!==g),this.destroyBean(g,this.beans.context)})}setupFullWidth(t){const a=this.getPinnedForContainer(t.containerType);if(this.rowType=="FullWidthDetail"&&!this.gos.assertModuleRegistered("@ag-grid-enterprise/master-detail","cell renderer 'agDetailCellRenderer' (for master detail)"))return;const u=this.createFullWidthCompDetails(t.element,a);t.rowComp.showFullWidth(u)}isPrintLayout(){return this.printLayout}getFullWidthCellRenderers(){return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(t=>t?.rowComp?.getFullWidthCellRenderer()):[this.fullWidthGui?.rowComp?.getFullWidthCellRenderer()]}getCellElement(t){const a=this.getCellCtrl(t);return a?a.getGui():null}executeProcessRowPostCreateFunc(){const t=this.gos.getCallback("processRowPostCreate");if(!t||!this.areAllContainersReady())return;const a={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};t(a)}areAllContainersReady(){const t=!!this.leftGui||!this.beans.visibleColsService.isPinningLeft(),a=!!this.centerGui,u=!!this.rightGui||!this.beans.visibleColsService.isPinningRight();return t&&a&&u}isNodeFullWidthCell(){if(this.rowNode.detail)return!0;const t=this.beans.gos.getCallback("isFullWidthRow");return t?t({rowNode:this.rowNode}):!1}setRowType(){const t=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow")&&!this.gos.get("groupHideOpenParents"),a=this.isNodeFullWidthCell(),u=this.gos.get("masterDetail")&&this.rowNode.detail,g=this.beans.columnModel.isPivotMode(),K=!!this.rowNode.group&&!this.rowNode.footer&&_f(this.gos,g);t?this.rowType="FullWidthLoading":u?this.rowType="FullWidthDetail":a?this.rowType="FullWidth":K?this.rowType="FullWidthGroup":this.rowType="Normal"}updateColumnLists(t=!1,a=!1){if(this.isFullWidth())return;if(t||this.gos.get("suppressAnimationFrame")||this.printLayout){this.updateColumnListsImpl(a);return}this.updateColumnListsPending||(this.beans.animationFrameService.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}createCellCtrls(t,a,u=null){const g={list:[],map:{}},_=(rt,al,Ql)=>{Ql!=null?g.list.splice(Ql,0,al):g.list.push(al),g.map[rt]=al},K=[];for(const rt of a){const al=rt.getInstanceId();let Ql=t.map[al];Ql||(Ql=new Dg(rt,this.rowNode,this.beans,this)),_(al,Ql)}for(const rt of t.list){const al=rt.getColumn().getInstanceId();if(g.map[al]!=null)continue;!this.isCellEligibleToBeRemoved(rt,u)?K.push([al,rt]):rt.destroy()}if(K.length)for(const[rt,al]of K){const Ql=g.list.findIndex(Wu=>Wu.getColumn().getLeft()>al.getColumn().getLeft()),Gu=Ql===-1?void 0:Math.max(Ql-1,0);_(rt,al,Gu)}return g}updateColumnListsImpl(t){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(t)}setCellCtrls(t){this.allRowGuis.forEach(a=>{const u=this.getCellCtrlsForContainer(a.containerType);a.rowComp.setCellCtrls(u,t)})}getCellCtrlsForContainer(t){switch(t){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){const t=this.beans.columnViewportService,a=this.beans.visibleColsService;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,a.getAllCols()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const u=t.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,u);const g=a.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,g,"left");const _=a.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,_,"right")}}isCellEligibleToBeRemoved(t,a){if(t.getColumn().getPinned()!=a)return!0;const K=t.isEditing(),rt=this.beans.focusService.isCellFocused(t.getCellPosition());if(K||rt){const Ql=t.getColumn();return!(this.beans.visibleColsService.getAllCols().indexOf(Ql)>=0)}return!0}getDomOrder(){return this.gos.get("ensureDomOrder")||gd(this.gos,"print")}listenOnDomOrder(t){const a=()=>{t.rowComp.setDomOrder(this.getDomOrder())};t.compBean.addManagedPropertyListeners(["domLayout","ensureDomOrder"],a)}setAnimateFlags(t){if(this.isSticky()||!t)return;const a=Vu(this.rowNode.oldRowTop),u=this.beans.visibleColsService.isPinningLeft(),g=this.beans.visibleColsService.isPinningRight();if(a){if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){this.slideInAnimation.fullWidth=!0;return}this.slideInAnimation.center=!0,this.slideInAnimation.left=u,this.slideInAnimation.right=g}else{if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){this.fadeInAnimation.fullWidth=!0;return}this.fadeInAnimation.center=!0,this.fadeInAnimation.left=u,this.fadeInAnimation.right=g}}isEditing(){return this.editingRow}isFullWidth(){return this.rowType!=="Normal"}refreshFullWidth(){const t=(rt,al)=>rt?rt.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(rt.element,al).params):!0,a=t(this.fullWidthGui,null),u=t(this.centerGui,null),g=t(this.leftGui,"left"),_=t(this.rightGui,"right");return a&&u&&g&&_}addListeners(){this.addManagedListeners(this.rowNode,{heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this),expandedChanged:this.updateExpandedCss.bind(this),hasChildrenChanged:this.updateExpandedCss.bind(this)}),this.rowNode.detail&&this.addManagedListeners(this.rowNode.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(this.rowNode,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this)}),this.addManagedListeners(this.beans.eventService,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),this.addDestroyFunc(()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature,this.beans.context))}),this.addManagedPropertyListeners(["rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules"],this.postProcessCss.bind(this)),this.addManagedPropertyListener("rowDragEntireRow",()=>{if(this.gos.get("rowDragEntireRow")){this.allRowGuis.forEach(a=>{this.addRowDraggerToRow(a)});return}this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context)}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>{this.getAllCellCtrls().forEach(t=>t.onRowIndexChanged())},cellChanged:t=>{this.getAllCellCtrls().forEach(a=>a.onCellChanged(t))}})}onRowNodeDataChanged(t){if(this.isFullWidth()!==!!this.isNodeFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(u=>u.refreshCell({suppressFlash:!t.update,newData:!t.update})),this.allRowGuis.forEach(u=>{this.setRowCompRowId(u.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(u.rowComp)}),this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const t=this.rowNode.highlighted;this.allRowGuis.forEach(a=>{const u=t===0,g=t===1;a.rowComp.addOrRemoveCssClass("ag-row-highlight-above",u),a.rowComp.addOrRemoveCssClass("ag-row-highlight-below",g)})}postProcessRowDragging(){const t=this.rowNode.dragging;this.allRowGuis.forEach(a=>a.rowComp.addOrRemoveCssClass("ag-row-dragging",t))}updateExpandedCss(){const t=this.rowNode.isExpandable(),a=this.rowNode.expanded==!0;this.allRowGuis.forEach(u=>{u.rowComp.addOrRemoveCssClass("ag-row-group",t),u.rowComp.addOrRemoveCssClass("ag-row-group-expanded",t&&a),u.rowComp.addOrRemoveCssClass("ag-row-group-contracted",t&&!a),Fh(u.element,t&&a)})}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:Xu(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}findFullWidthRowGui(t){return this.allRowGuis.find(a=>a.element.contains(t))}onKeyboardNavigate(t){const a=this.findFullWidthRowGui(t.target);if(!((a?a.element:null)===t.target))return;const _=this.rowNode,K=this.beans.focusService.getFocusedCell(),rt={rowIndex:_.rowIndex,rowPinned:_.rowPinned,column:K?.column??this.getColumnForFullWidth(a)};this.beans.navigationService.navigateToNextCell(t,t.key,rt,!0),t.preventDefault()}onTabKeyDown(t){if(t.defaultPrevented||_h(t))return;const a=this.allRowGuis.find(al=>al.element.contains(t.target)),u=a?a.element:null,g=u===t.target,_=Gp(this.gos);let K=!1;u&&_&&(K=u.contains(_)&&_.classList.contains("ag-cell"));let rt=null;!g&&!K&&(rt=this.beans.focusService.findNextFocusableElement(u,!1,t.shiftKey)),(this.isFullWidth()&&g||!rt)&&this.beans.navigationService.onTabKeyDown(this,t)}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){const t=this.allRowGuis.find(a=>Nm(a.element))?.element;return t?t.getBoundingClientRect().top:0}onSuppressCellFocusChanged(t){const a=this.isFullWidth()&&t?void 0:-1;this.allRowGuis.forEach(u=>{Jm(u.element,"tabindex",a)})}onFullWidthRowFocused(t){const a=this.rowNode,u=t?this.isFullWidth()&&t.rowIndex===a.rowIndex&&t.rowPinned==a.rowPinned:!1,g=this.fullWidthGui?this.fullWidthGui.element:this.centerGui?.element;g&&(g.classList.toggle("ag-full-width-focus",u),u&&t?.forceBrowserFocus&&g.focus({preventScroll:!0}))}recreateCell(t){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,t),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,t),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,t),t.destroy(),this.updateColumnLists()}removeCellCtrl(t,a){const u={list:[],map:{}};return t.list.forEach(g=>{g!==a&&(u.list.push(g),u.map[g.getColumn().getInstanceId()]=g)}),u}onMouseEvent(t,a){switch(t){case"dblclick":this.onRowDblClick(a);break;case"click":this.onRowClick(a);break;case"touchstart":case"mousedown":this.onRowMouseDown(a);break}}createRowEvent(t,a){return this.gos.addGridCommonParams({type:t,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,event:a})}createRowEventWithSource(t,a){const u=this.createRowEvent(t,a);return u.source=this,u}onRowDblClick(t){_h(t)||this.beans.eventService.dispatchEvent(this.createRowEventWithSource("rowDoubleClicked",t))}getColumnForFullWidth(t){const{visibleColsService:a}=this.beans;switch(t?.containerType){case"center":return a.getCenterCols()[0];case"left":return a.getLeftCols()[0];case"right":return a.getRightCols()[0];default:return a.getAllCols()[0]}}onRowMouseDown(t){if(this.lastMouseDownOnDragger=Km(t.target,"ag-row-drag",3),!this.isFullWidth())return;const a=this.rowNode;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges();const u=this.findFullWidthRowGui(t.target),g=u?.element,_=t.target;let K=!0;g&&g.contains(_)&&f1(_)&&(K=!1),this.beans.focusService.setFocusedCell({rowIndex:a.rowIndex,column:this.getColumnForFullWidth(u),rowPinned:a.rowPinned,forceBrowserFocus:K})}onRowClick(t){if(_h(t)||this.lastMouseDownOnDragger)return;const{gos:u}=this;this.beans.eventService.dispatchEvent(this.createRowEventWithSource("rowClicked",t));const g=t.ctrlKey||t.metaKey,_=t.shiftKey,K=this.rowNode.isSelected(),rt=Ep(u),al=qg(u),Ql=tg(u);if(rt&&this.rowNode.group||this.isRowSelectionBlocked()||!Ql&&!K||!al&&K)return;const Gu=cg(u),Wu="rowClicked";if(K)Gu?this.rowNode.setSelectedParams({newValue:!1,event:t,source:Wu}):g?al&&this.rowNode.setSelectedParams({newValue:!1,event:t,source:Wu}):Ql&&this.rowNode.setSelectedParams({newValue:!0,clearSelection:!_,rangeSelect:_,event:t,source:Wu});else{const id=Gu?!1:!g;this.rowNode.setSelectedParams({newValue:!0,clearSelection:id,rangeSelect:_,event:t,source:Wu})}}isRowSelectionBlocked(){return!this.rowNode.selectable||!!this.rowNode.rowPinned||!md(this.gos)}setupDetailRowAutoHeight(t){if(this.rowType!=="FullWidthDetail"||!this.gos.get("detailRowAutoHeight"))return;const a=()=>{const g=t.clientHeight;if(g!=null&&g>0){const _=()=>{this.rowNode.setRowHeight(g),(Dd(this.gos)||mh(this.gos))&&this.beans.rowModel.onRowHeightChanged()};window.setTimeout(_,0)}},u=this.beans.resizeObserverService.observeResize(t,a);this.addDestroyFunc(u),a()}createFullWidthCompDetails(t,a){const{gos:u,rowNode:g}=this,_=u.addGridCommonParams({fullWidth:!0,data:g.data,node:g,value:g.key,valueFormatted:g.key,eGridCell:t,eParentOfValue:t,pinned:a,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(rt,al,Ql,Gu)=>this.addFullWidthRowDragging(rt,al,Ql,Gu),setTooltip:(rt,al)=>this.refreshRowTooltip(rt,al)}),K=this.beans.userComponentFactory;switch(this.rowType){case"FullWidthDetail":return K.getFullWidthDetailCellRendererDetails(_);case"FullWidthGroup":return K.getFullWidthGroupCellRendererDetails(_);case"FullWidthLoading":return K.getFullWidthLoadingCellRendererDetails(_);default:return K.getFullWidthCellRendererDetails(_)}}refreshRowTooltip(t,a){if(!this.fullWidthGui)return;const u={getGui:()=>this.fullWidthGui.element,getTooltipValue:()=>t,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:a};this.tooltipFeature&&this.destroyBean(this.tooltipFeature,this.beans.context),this.tooltipFeature=this.createBean(new e1(u,this.beans))}addFullWidthRowDragging(t,a,u="",g){if(!this.isFullWidth())return;const _=new by(()=>u,this.rowNode,void 0,t,a,g);this.createBean(_,this.beans.context),this.addDestroyFunc(()=>{this.destroyBean(_,this.beans.context)})}onUiLevelChanged(){const t=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=t){const a="ag-row-level-"+t,u="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(g=>{g.rowComp.addOrRemoveCssClass(a,!0),g.rowComp.addOrRemoveCssClass(u,!1)})}this.rowLevel=t}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBoundsService.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBoundsService.getLastRow()}refreshFirstAndLastRowStyles(){const t=this.isFirstRowOnPage(),a=this.isLastRowOnPage();this.firstRowOnPage!==t&&(this.firstRowOnPage=t,this.allRowGuis.forEach(u=>u.rowComp.addOrRemoveCssClass("ag-row-first",t))),this.lastRowOnPage!==a&&(this.lastRowOnPage=a,this.allRowGuis.forEach(u=>u.rowComp.addOrRemoveCssClass("ag-row-last",a)))}stopEditing(t=!1){this.stoppingRowEdit||this.beans.rowEditService?.stopEditing(this,t)}setInlineEditingCss(){const t=this.editingRow||this.getAllCellCtrls().some(a=>a.isEditing());this.allRowGuis.forEach(a=>{a.rowComp.addOrRemoveCssClass("ag-row-inline-editing",t),a.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!t)})}setEditingRow(t){this.editingRow=t}startRowEditing(t=null,a=null,u=null){return this.editingRow?!0:this.beans.rowEditService?.startEditing(this,t,a,u)??!0}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){const t=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!t||!t.length||t.forEach(a=>{this.allRowGuis.forEach(u=>u.rowComp.addOrRemoveCssClass(a,!0))})}postProcessRowClassRules(){this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,t=>{this.allRowGuis.forEach(a=>a.rowComp.addOrRemoveCssClass(t,!0))},t=>{this.allRowGuis.forEach(a=>a.rowComp.addOrRemoveCssClass(t,!1))})}setStylesFromGridOptions(t,a){t&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(a,u=>u.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(t){return t==="left"||t==="right"?t:null}getInitialRowClasses(t){const a=this.getPinnedForContainer(t),u={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[t],rowIsEven:this.rowNode.rowIndex%2===0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:a};return this.beans.rowCssClassCalculator.getInitialRowClasses(u)}processStylesFromGridOptions(){const t=this.gos.get("rowStyle");if(t&&typeof t=="function"){ie("rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead");return}const a=this.gos.getCallback("getRowStyle");let u;if(a){const g={data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex};u=a(g)}return u||t?Object.assign({},t,u):this.emptyStyle}onRowSelected(t){const a=!!this.rowNode.isSelected();this.forEachGui(t,u=>{u.rowComp.addOrRemoveCssClass("ag-row-selected",a),fg(u.element,a),u.element.contains(Gp(this.gos))&&(u===this.centerGui||u===this.fullWidthGui)&&this.announceDescription()})}announceDescription(){if(this.isRowSelectionBlocked())return;const t=this.rowNode.isSelected();if(t&&!qg(this.gos))return;const u=this.beans.localeService.getLocaleTextFunc()(t?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${t?"deselect":"select"} this row.`);this.beans.ariaAnnouncementService.announceValue(u,"rowSelection")}addHoverFunctionality(t){if(!this.active)return;const{element:a,compBean:u}=t,{rowNode:g,beans:_,gos:K}=this;u.addManagedListeners(a,{mouseenter:()=>g.onMouseEnter(),mouseleave:()=>g.onMouseLeave()}),u.addManagedListeners(g,{mouseEnter:()=>{!_.dragService.isDragging()&&!K.get("suppressRowHoverHighlight")&&(a.classList.add("ag-row-hover"),g.setHovered(!0))},mouseLeave:()=>{a.classList.remove("ag-row-hover"),g.setHovered(!1)}})}roundRowTopToBounds(t){const a=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getApproximateVScollPosition(),u=this.applyPaginationOffset(a.top,!0)-100,g=this.applyPaginationOffset(a.bottom,!0)+100;return Math.min(Math.max(u,t),g)}getFrameworkOverrides(){return this.beans.frameworkOverrides}forEachGui(t,a){t?a(t):this.allRowGuis.forEach(a)}onRowHeightChanged(t){if(this.rowNode.rowHeight==null)return;const a=this.rowNode.rowHeight,u=this.beans.environment.getDefaultRowHeight(),_=qh(this.gos)?yh(this.gos,this.rowNode).height:void 0,K=_?`${Math.min(u,_)-2}px`:void 0;this.forEachGui(t,rt=>{rt.element.style.height=`${a}px`,K&&rt.element.style.setProperty("--ag-line-height",K)})}addEventListener(t,a){super.addEventListener(t,a)}removeEventListener(t,a){super.removeEventListener(t,a)}destroyFirstPass(t=!1){if(this.active=!1,!t&&l0(this.gos)&&!this.isSticky())if(this.rowNode.rowTop!=null){const g=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(g)}else this.allRowGuis.forEach(g=>g.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0));this.rowNode.setHovered(!1);const a=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(a),this.beans.eventService.dispatchEvent(a),super.destroy()}destroySecondPass(){this.allRowGuis.length=0,this.stopEditing();const t=a=>(a.list.forEach(u=>u.destroy()),{list:[],map:{}});this.centerCellCtrls=t(this.centerCellCtrls),this.leftCellCtrls=t(this.leftCellCtrls),this.rightCellCtrls=t(this.rightCellCtrls)}setFocusedClasses(t){this.forEachGui(t,a=>{a.rowComp.addOrRemoveCssClass("ag-row-focus",this.rowFocused),a.rowComp.addOrRemoveCssClass("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){const t=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);t!==this.rowFocused&&(this.rowFocused=t,this.setFocusedClasses()),!t&&this.editingRow&&this.stopEditing(!1)}onPaginationChanged(){const t=this.beans.paginationService?.getCurrentPage()??0;this.paginationPage!==t&&(this.paginationPage=t,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(t,a=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return t;const u=this.beans.pageBoundsService.getPixelOffset();return t+u*(a?1:-1)}setRowTop(t){if(!this.printLayout&&Vu(t)){const a=this.applyPaginationOffset(t),_=`${this.rowNode.isRowPinned()||this.rowNode.sticky?a:this.beans.rowContainerHeightService.getRealPixelPosition(a)}px`;this.setRowTopStyle(_)}}getInitialRowTop(t){return this.suppressRowTransform?this.getInitialRowTopShared(t):void 0}getInitialTransform(t){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(t)})`}getInitialRowTopShared(t){if(this.printLayout)return"";const a=this.rowNode;let u;if(this.isSticky())u=a.stickyRowTop;else{const g=this.slideInAnimation[t]?this.roundRowTopToBounds(a.oldRowTop):a.rowTop,_=this.applyPaginationOffset(g);u=a.isRowPinned()?_:this.beans.rowContainerHeightService.getRealPixelPosition(_)}return u+"px"}setRowTopStyle(t){this.allRowGuis.forEach(a=>this.suppressRowTransform?a.rowComp.setTop(t):a.rowComp.setTransform(`translateY(${t})`))}getRowNode(){return this.rowNode}getCellCtrl(t){let a=null;return this.getAllCellCtrls().forEach(u=>{u.getColumn()==t&&(a=u)}),a!=null||this.getAllCellCtrls().forEach(u=>{u.getColSpanningList().indexOf(t)>=0&&(a=u)}),a}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}getRowIndex(){return this.rowNode.getRowIndexString()}updateRowIndexes(t){const a=this.rowNode.getRowIndexString();if(a===null)return;const u=this.beans.headerNavigationService.getHeaderRowCount()+(this.beans.filterManager?.getHeaderRowCount()??0),g=this.rowNode.rowIndex%2===0,_=u+this.rowNode.rowIndex+1;this.forEachGui(t,K=>{K.rowComp.setRowIndex(a),K.rowComp.addOrRemoveCssClass("ag-row-even",g),K.rowComp.addOrRemoveCssClass("ag-row-odd",!g),sg(K.element,_)})}setStoppingRowEdit(t){this.stoppingRowEdit=t}};Gm.DOM_DATA_KEY_ROW_CTRL="renderedRow";var Eg=Gm,km=class extends Nh{wireBeans(e){this.mouseEventService=e.mouseEventService,this.valueService=e.valueService,this.menuService=e.menuService,this.ctrlsService=e.ctrlsService,this.navigationService=e.navigationService,this.focusService=e.focusService,this.undoRedoService=e.undoRedoService,this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.rangeService=e.rangeService,this.clipboardService=e.clipboardService}constructor(e){super(),this.element=e}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.mockContextMenuForIPad()}addKeyboardListeners(){const e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t})}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",ep("touchstart")?"touchstart":"mousedown"].forEach(a=>{const u=this.processMouseEvent.bind(this,a);this.addManagedElementListeners(this.element,{[a]:u})})}processMouseEvent(e,t){if(!this.mouseEventService.isEventFromThisGrid(t)||_h(t))return;const a=this.getRowForEvent(t),u=this.mouseEventService.getRenderedCellForEvent(t);e==="contextmenu"?this.handleContextMenuMouseEvent(t,void 0,a,u):(u&&u.onMouseEvent(e,t),a&&a.onMouseEvent(e,t))}mockContextMenuForIPad(){if(!I1())return;const e=new l1(this.element),t=a=>{const u=this.getRowForEvent(a.touchEvent),g=this.mouseEventService.getRenderedCellForEvent(a.touchEvent);this.handleContextMenuMouseEvent(void 0,a.touchEvent,u,g)};this.addManagedListeners(e,{longTap:t}),this.addDestroyFunc(()=>e.destroy())}getRowForEvent(e){let t=e.target;for(;t;){const a=Mp(this.gos,t,Eg.DOM_DATA_KEY_ROW_CTRL);if(a)return a;t=t.parentElement}return null}handleContextMenuMouseEvent(e,t,a,u){const g=a?a.getRowNode():null,_=u?u.getColumn():null;let K=null;if(_){const Ql=e||t;u.dispatchCellContextMenuEvent(Ql??null),K=this.valueService.getValue(_,g)}const rt=this.ctrlsService.getGridBodyCtrl(),al=u?u.getGui():rt.getGridBodyElement();this.menuService.showContextMenu({mouseEvent:e,touchEvent:t,rowNode:g,column:_,value:K,anchorToElement:al})}getControlsForEventTarget(e){return{cellCtrl:Of(this.gos,e,Dg.DOM_DATA_KEY_CELL_CTRL),rowCtrl:Of(this.gos,e,Eg.DOM_DATA_KEY_ROW_CTRL)}}processKeyboardEvent(e,t){const{cellCtrl:a,rowCtrl:u}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(a?this.processCellKeyboardEvent(a,e,t):u&&u.isFullWidth()&&this.processFullWidthRowKeyboardEvent(u,e,t))}processCellKeyboardEvent(e,t,a){const u=e.getRowNode(),g=e.getColumn(),_=e.isEditing();!My(this.gos,a,u,g,_)&&t==="keydown"&&(!_&&this.navigationService.handlePageScrollingKey(a)||e.onKeyDown(a),this.doGridOperations(a,e.isEditing()),tv(a)&&e.processCharacter(a)),t==="keydown"&&this.eventService.dispatchEvent(e.createEvent(a,"cellKeyDown"))}processFullWidthRowKeyboardEvent(e,t,a){const u=e.getRowNode(),g=this.focusService.getFocusedCell(),_=g&&g.column;if(!My(this.gos,a,u,_,!1)){const rt=a.key;if(t==="keydown")switch(rt){case pf.PAGE_HOME:case pf.PAGE_END:case pf.PAGE_UP:case pf.PAGE_DOWN:this.navigationService.handlePageScrollingKey(a,!0);break;case pf.UP:case pf.DOWN:e.onKeyboardNavigate(a);break;case pf.TAB:e.onTabKeyDown(a);break}}t==="keydown"&&this.eventService.dispatchEvent(e.createRowEvent("cellKeyDown",a))}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey||t||!this.mouseEventService.isEventFromThisGrid(e))return;const a=d3(e);if(a===pf.A)return this.onCtrlAndA(e);if(a===pf.C)return this.onCtrlAndC(e);if(a===pf.D)return this.onCtrlAndD(e);if(a===pf.V)return this.onCtrlAndV(e);if(a===pf.X)return this.onCtrlAndX(e);if(a===pf.Y)return this.onCtrlAndY();if(a===pf.Z)return this.onCtrlAndZ(e)}onCtrlAndA(e){const{pinnedRowModel:t,rowModel:a,rangeService:u}=this;if(u&&a.isRowsToRender()){const[g,_]=[t.isEmpty("top"),t.isEmpty("bottom")],K=g?null:"top";let rt,al;_?(rt=null,al=a.getRowCount()-1):(rt="bottom",al=t.getPinnedBottomRowCount()-1);const Ql=this.visibleColsService.getAllCols();if(Od(Ql))return;u.setCellRange({rowStartIndex:0,rowStartPinned:K,rowEndIndex:al,rowEndPinned:rt,columnStart:Ql[0],columnEnd:Pp(Ql)})}e.preventDefault()}onCtrlAndC(e){if(!this.clipboardService||this.gos.get("enableCellTextSelection"))return;const{cellCtrl:t,rowCtrl:a}=this.getControlsForEventTarget(e.target);t?.isEditing()||a?.isEditing()||(e.preventDefault(),this.clipboardService.copyToClipboard())}onCtrlAndX(e){if(!this.clipboardService||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;const{cellCtrl:t,rowCtrl:a}=this.getControlsForEventTarget(e.target);t?.isEditing()||a?.isEditing()||(e.preventDefault(),this.clipboardService.cutToClipboard(void 0,"ui"))}onCtrlAndV(e){const{cellCtrl:t,rowCtrl:a}=this.getControlsForEventTarget(e.target);t?.isEditing()||a?.isEditing()||this.clipboardService&&!this.gos.get("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()}onCtrlAndD(e){this.clipboardService&&!this.gos.get("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),e.preventDefault()}onCtrlAndZ(e){!this.gos.get("undoRedoCellEditing")||!this.undoRedoService||(e.preventDefault(),e.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))}onCtrlAndY(){this.undoRedoService?.redo("ui")}},gm=class extends Nh{wireBeans(e){this.pinnedWidthService=e.pinnedWidthService}constructor(e){super(),this.element=e}postConstruct(){this.addManagedEventListeners({leftPinnedWidthChanged:this.onPinnedLeftWidthChanged.bind(this)})}onPinnedLeftWidthChanged(){const e=this.pinnedWidthService.getPinnedLeftWidth(),t=e>0;Pg(this.element,t),s1(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedLeftWidth()}},Zg=class extends Nh{wireBeans(e){this.pinnedWidthService=e.pinnedWidthService}constructor(e){super(),this.element=e}postConstruct(){this.addManagedEventListeners({rightPinnedWidthChanged:this.onPinnedRightWidthChanged.bind(this)})}onPinnedRightWidthChanged(){const e=this.pinnedWidthService.getPinnedRightWidth(),t=e>0;Pg(this.element,t),s1(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedRightWidth()}},Mm=e=>e.getTopRowCtrls(),am=e=>e.getStickyTopRowCtrls(),nm=e=>e.getStickyBottomRowCtrls(),Am=e=>e.getBottomRowCtrls(),Lm=e=>e.getCentreRowCtrls(),ug={center:{type:"center",container:"ag-center-cols-container",viewport:"ag-center-cols-viewport",getRowCtrls:Lm},left:{type:"left",container:"ag-pinned-left-cols-container",pinnedType:"left",getRowCtrls:Lm},right:{type:"right",container:"ag-pinned-right-cols-container",pinnedType:"right",getRowCtrls:Lm},fullWidth:{type:"fullWidth",container:"ag-full-width-container",fullWidth:!0,getRowCtrls:Lm},topCenter:{type:"center",container:"ag-floating-top-container",viewport:"ag-floating-top-viewport",getRowCtrls:Mm},topLeft:{type:"left",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:Mm},topRight:{type:"right",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:Mm},topFullWidth:{type:"fullWidth",container:"ag-floating-top-full-width-container",fullWidth:!0,getRowCtrls:Mm},stickyTopCenter:{type:"center",container:"ag-sticky-top-container",viewport:"ag-sticky-top-viewport",getRowCtrls:am},stickyTopLeft:{type:"left",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:am},stickyTopRight:{type:"right",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:am},stickyTopFullWidth:{type:"fullWidth",container:"ag-sticky-top-full-width-container",fullWidth:!0,getRowCtrls:am},stickyBottomCenter:{type:"center",container:"ag-sticky-bottom-container",viewport:"ag-sticky-bottom-viewport",getRowCtrls:nm},stickyBottomLeft:{type:"left",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:nm},stickyBottomRight:{type:"right",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:nm},stickyBottomFullWidth:{type:"fullWidth",container:"ag-sticky-bottom-full-width-container",fullWidth:!0,getRowCtrls:nm},bottomCenter:{type:"center",container:"ag-floating-bottom-container",viewport:"ag-floating-bottom-viewport",getRowCtrls:Am},bottomLeft:{type:"left",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:Am},bottomRight:{type:"right",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:Am},bottomFullWidth:{type:"fullWidth",container:"ag-floating-bottom-full-width-container",fullWidth:!0,getRowCtrls:Am}};function Lg(e){return ug[e]}var cm=["topCenter","topLeft","topRight"],_m=["bottomCenter","bottomLeft","bottomRight"],im=["center","left","right"],mg=["center","left","right","fullWidth"],Tm=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],d1=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],R1=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],om=["stickyTopCenter","stickyTopLeft","stickyTopRight"],F1=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],Ty=[...om,"stickyTopFullWidth",...F1,"stickyBottomFullWidth"],u2=[...cm,..._m,...im,...om,...F1],Ry=class extends Nh{constructor(e){super(),this.visible=!0,this.EMPTY_CTRLS=[],this.name=e,this.options=Lg(e)}wireBeans(e){this.dragService=e.dragService,this.ctrlsService=e.ctrlsService,this.columnViewportService=e.columnViewportService,this.resizeObserverService=e.resizeObserverService,this.rowRenderer=e.rowRenderer}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>{this.viewportSizeFeature=this.createManagedBean(new Kh(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})})}onStickyTopOffsetChanged(e){this.comp.setOffsetTop(`${e.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.ctrlsService.register(this.name,this)}forContainers(e,t){e.indexOf(this.name)>=0&&t()}getContainerElement(){return this.eContainer}getViewportSizeFeature(){return this.viewportSizeFeature}setComp(e,t,a){this.comp=e,this.eContainer=t,this.eViewport=a,this.createManagedBean(new km(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();const u=()=>this.onPinnedWidthChanged();this.forContainers(d1,()=>{this.pinnedWidthFeature=this.createManagedBean(new gm(this.eContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:u})}),this.forContainers(R1,()=>{this.pinnedWidthFeature=this.createManagedBean(new Zg(this.eContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:u})}),this.forContainers(mg,()=>this.createManagedBean(new wd(this.eContainer,this.name==="center"?a:void 0))),this.forContainers(u2,()=>this.createManagedBean(new wf(this.eContainer))),this.forContainers(Tm,()=>this.createManagedBean(new Nd(g=>this.comp.setContainerWidth(`${g}px`)))),this.visible=this.isContainerVisible(),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(e){this.addManagedElementListeners(this.getViewportElement(),{scroll:e})}addListeners(){this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),displayedRowsChanged:e=>this.onDisplayedRowsChanged(e.afterScroll)}),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()}listenOnDomOrder(){if(Ty.indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}const t=()=>{const a=this.gos.get("ensureDomOrder"),u=gd(this.gos,"print");this.comp.setDomOrder(a||u)};this.addManagedPropertyListener("domLayout",t),t()}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}onDisplayedColumnsWidthChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){const e=t=>{this.dragService.isDragging()&&t.cancelable&&t.preventDefault()};this.eContainer.addEventListener("touchmove",e,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",e))}onHorizontalViewportChanged(e=!1){const t=this.getCenterWidth(),a=this.getCenterViewportScrollLeft();this.columnViewportService.setScrollPosition(t,a,e)}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0}getCenterWidth(){return $1(this.eViewport)}getCenterViewportScrollLeft(){return wv(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){const t=this.resizeObserverService.observeResize(this.eViewport,e);this.addDestroyFunc(()=>t())}isViewportInTheDOMTree(){return k2(this.eViewport)}getViewportScrollLeft(){return wv(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||ty(this.eViewport)}getViewportElement(){return this.eViewport}setHorizontalScroll(e){this.comp.setHorizontalScroll(e)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){ey(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!(this.options.pinnedType!=null)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){const t=this.options.getRowCtrls(this.rowRenderer);if(!this.visible||t.length===0){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}const a=gd(this.gos,"print"),g=this.gos.get("embedFullWidthRows")||a,_=t.filter(K=>{const rt=K.isFullWidth();return this.options.fullWidth?!g&&rt:g||!rt});this.comp.setRowCtrls({rowCtrls:_,useFlushSync:e})}},Rv="ag-force-vertical-scroll",rv="ag-selectable",O3="ag-column-moving",Zm=class extends Nh{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(e){this.animationFrameService=e.animationFrameService,this.rowContainerHeightService=e.rowContainerHeightService,this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.scrollVisibleService=e.scrollVisibleService,this.menuService=e.menuService,this.headerNavigationService=e.headerNavigationService,this.dragAndDropService=e.dragAndDropService,this.pinnedRowModel=e.pinnedRowModel,this.rowRenderer=e.rowRenderer,this.popupService=e.popupService,this.mouseEventService=e.mouseEventService,this.rowModel=e.rowModel,this.filterManager=e.filterManager,this.environment=e.environment}getScrollFeature(){return this.bodyScrollFeature}getBodyViewportElement(){return this.eBodyViewport}setComp(e,t,a,u,g,_,K){this.comp=e,this.eGridBody=t,this.eBodyViewport=a,this.eTop=u,this.eBottom=g,this.eStickyTop=_,this.eStickyBottom=K,this.eCenterColsViewport=a.querySelector(`.${Lg("center").viewport}`),this.eFullWidthContainer=a.querySelector(`.${Lg("fullWidth").container}`),this.eStickyTopFullWidthContainer=_.querySelector(`.${Lg("stickyTopFullWidth").container}`),this.eStickyBottomFullWidthContainer=K.querySelector(`.${Lg("stickyBottomFullWidth").container}`),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",rt=>this.setCellTextSelection(rt.currentValue)),this.createManagedBean(new od(this.comp)),this.bodyScrollFeature=this.createManagedBean(new hf(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([u,a,g,_,K]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.updateScrollingClasses(),this.filterManager?.setupAdvancedFilterHeaderComp(u),this.ctrlsService.register("gridBodyCtrl",this)}getComp(){return this.comp}addEventListeners(){const e=this.setFloatingHeights.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.onScrollGapChanged.bind(this),pinnedRowDataChanged:e,pinnedHeightChanged:e,headerHeightChanged:this.onHeaderHeightChanged.bind(this)})}addFocusListeners(e){e.forEach(t=>{this.addManagedElementListeners(t,{focusin:a=>{const{target:u}=a,g=Km(u,"ag-root",t);t.classList.toggle("ag-has-focus",!g)},focusout:a=>{const{target:u,relatedTarget:g}=a,_=t.contains(g),K=Km(g,"ag-root",t);Km(u,"ag-root",t)||(!_||K)&&t.classList.remove("ag-has-focus")}})})}setColumnMovingCss(e){this.comp.setColumnMovingCss(O3,e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss(rv,e)}onScrollVisibilityChanged(){const e=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(e),this.setStickyWidth(e),this.setStickyBottomOffsetBottom();const t=e&&this.scrollVisibleService.getScrollbarWidth()||0,a=uy()?16:0,u=`calc(100% + ${t+a}px)`;this.animationFrameService.requestAnimationFrame(()=>this.comp.setBodyViewportWidth(u)),this.updateScrollingClasses()}onScrollGapChanged(){this.updateScrollingClasses()}updateScrollingClasses(){this.eGridBody.classList.toggle("ag-body-vertical-content-no-gap",!this.scrollVisibleService.hasVerticalScrollGap()),this.eGridBody.classList.toggle("ag-body-horizontal-content-no-gap",!this.scrollVisibleService.hasHorizontalScrollGap())}onGridColumnsChanged(){const e=this.columnModel.getCols();this.comp.setColumnCount(e.length)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){if(!this.gos.get("stopEditingWhenCellsLoseFocus"))return;const e=a=>{const u=a.relatedTarget;if(hv(u)===null){this.rowRenderer.stopEditing();return}let g=t.some(_=>_.contains(u))&&this.mouseEventService.isElementInThisGrid(u);if(!g){const _=this.popupService;g=_.getActivePopups().some(K=>K.contains(u))||_.isElementWithinCustomPopup(u)}g||this.rowRenderer.stopEditing()},t=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom];t.forEach(a=>this.addManagedElementListeners(a,{focusout:e}))}updateRowCount(){const e=this.headerNavigationService.getHeaderRowCount()+(this.filterManager?.getHeaderRowCount()??0),t=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1,a=t===-1?-1:e+t;this.comp.setRowCount(a)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){const t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)}isVerticalScrollShowing(){const e=this.gos.get("alwaysShowVerticalScroll"),t=e?Rv:null,a=gd(this.gos,"normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||a&&E2(this.eBodyViewport)}setupRowAnimationCssClass(){let e=this.environment.hasMeasuredSizes();const t=()=>{const a=e&&l0(this.gos)&&!this.rowContainerHeightService.isStretching(),u=a?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(u,a)};t(),this.addManagedEventListeners({heightScaleChanged:t}),this.addManagedPropertyListener("animateRows",t),this.addManagedEventListeners({gridStylesChanged:()=>{!e&&this.environment.hasMeasuredSizes()&&(e=!0,t())}})}getGridBodyElement(){return this.eGridBody}addBodyViewportListener(){const e=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(this.eBodyViewport,{contextmenu:e}),this.mockContextMenuForIPad(e),this.addManagedElementListeners(this.eBodyViewport,{wheel:this.onBodyViewportWheel.bind(this)}),this.addManagedElementListeners(this.eStickyTop,{wheel:this.onStickyWheel.bind(this)}),this.addManagedElementListeners(this.eStickyBottom,{wheel:this.onStickyWheel.bind(this)}),this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)})}onFullWidthContainerWheel(e){const{deltaX:t,deltaY:a,shiftKey:u}=e;(u||Math.abs(t)>Math.abs(a))&&this.mouseEventService.isEventFromThisGrid(e)&&this.scrollGridBodyToMatchEvent(e)}onStickyWheel(e){const{deltaX:t,deltaY:a,shiftKey:u}=e,g=u||Math.abs(t)>Math.abs(a),_=e.target;g?(this.eStickyTopFullWidthContainer.contains(_)||this.eStickyBottomFullWidthContainer.contains(_))&&this.scrollGridBodyToMatchEvent(e):(e.preventDefault(),this.scrollVertically(a))}scrollGridBodyToMatchEvent(e){const{deltaX:t,deltaY:a}=e;e.preventDefault(),this.eCenterColsViewport.scrollBy({left:t||a})}onBodyViewportContextMenu(e,t,a){if(!e&&!a)return;this.gos.get("preventDefaultOnContextMenu")&&(e||a).preventDefault();const{target:u}=e||t;(u===this.eBodyViewport||u===this.ctrlsService.get("center").getViewportElement())&&this.menuService.showContextMenu({mouseEvent:e,touchEvent:a,value:null,anchorToElement:this.eGridBody})}mockContextMenuForIPad(e){if(!I1())return;const t=new l1(this.eBodyViewport),a=u=>{e(void 0,u.touchStart,u.touchEvent)};this.addManagedListeners(t,{longTap:a}),this.addDestroyFunc(()=>t.destroy())}onBodyViewportWheel(e){this.gos.get("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&e.preventDefault()}getGui(){return this.eGridBody}scrollVertically(e){const t=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}addRowDragListener(){this.rowDragFeature=this.createManagedBean(new Q1(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature),this.addDestroyFunc(()=>this.dragAndDropService.removeDropTarget(this.rowDragFeature))}getRowDragFeature(){return this.rowDragFeature}setFloatingHeights(){const{pinnedRowModel:e}=this,t=e.getPinnedTopTotalHeight(),a=e.getPinnedBottomTotalHeight();this.comp.setTopHeight(t),this.comp.setBottomHeight(a),this.comp.setTopDisplay(t?"inherit":"none"),this.comp.setBottomDisplay(a?"inherit":"none"),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}getStickyTopHeight(){return this.stickyTopHeight}setStickyBottomHeight(e=0){this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e}getStickyBottomHeight(){return this.stickyBottomHeight}setStickyWidth(e){if(!e)this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%");else{const t=this.scrollVisibleService.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${t}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${t}px)`)}}onHeaderHeightChanged(){this.setStickyTopOffsetTop()}setStickyTopOffsetTop(){const t=this.ctrlsService.get("gridHeaderCtrl").getHeaderHeight()+(this.filterManager?.getHeaderHeight()??0),a=this.pinnedRowModel.getPinnedTopTotalHeight();let u=0;t>0&&(u+=t),a>0&&(u+=a),u>0&&(u+=1),this.comp.setStickyTopTop(`${u}px`)}setStickyBottomOffsetBottom(){const e=this.pinnedRowModel.getPinnedBottomTotalHeight(),a=this.scrollVisibleService.isHorizontalScrollShowing()&&this.scrollVisibleService.getScrollbarWidth()||0,u=e+a;this.comp.setStickyBottomBottom(`${u}px`)}sizeColumnsToFit(e,t){const u=this.isVerticalScrollShowing()?this.scrollVisibleService.getScrollbarWidth():0,_=$1(this.eGridBody)-u;if(_>0){this.columnSizeService.sizeColumnsToFit(_,"sizeColumnsToFit",!1,e);return}t===void 0?window.setTimeout(()=>{this.sizeColumnsToFit(e,100)},0):t===100?window.setTimeout(()=>{this.sizeColumnsToFit(e,500)},100):t===500?window.setTimeout(()=>{this.sizeColumnsToFit(e,-1)},500):ie("tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")}addScrollEventListener(e){this.eBodyViewport.addEventListener("scroll",e,{passive:!0})}removeScrollEventListener(e){this.eBodyViewport.removeEventListener("scroll",e)}},Fy=class extends bg{constructor(e,t,a,u,g){super(),this.rendererVersion=0,this.editorVersion=0,this.beans=e,this.column=t.getColumn(),this.rowNode=t.getRowNode(),this.rowCtrl=t.getRowCtrl(),this.eRow=u,this.cellCtrl=t;const _=document.createElement("div");_.setAttribute("comp-id",`${this.getCompId()}`),this.setTemplateFromElement(_);const K=this.getGui();this.forceWrapper=t.isForceWrapper(),this.refreshWrapper(!1),w0(K,t.getCellAriaRole()),K.setAttribute("col-id",t.colIdSanitised);const rt={addOrRemoveCssClass:(al,Ql)=>this.addOrRemoveCssClass(al,Ql),setUserStyles:al=>v1(K,al),getFocusableElement:()=>this.getFocusableElement(),setIncludeSelection:al=>this.includeSelection=al,setIncludeRowDrag:al=>this.includeRowDrag=al,setIncludeDndSource:al=>this.includeDndSource=al,setRenderDetails:(al,Ql,Gu)=>this.setRenderDetails(al,Ql,Gu),setEditDetails:(al,Ql,Gu)=>this.setEditDetails(al,Ql,Gu),getCellEditor:()=>this.cellEditor||null,getCellRenderer:()=>this.cellRenderer||null,getParentOfValue:()=>this.getParentOfValue()};t.setComp(rt,this.getGui(),this.eCellWrapper,a,g,void 0)}getParentOfValue(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()}setRenderDetails(e,t,a){if(this.cellEditor&&!this.cellEditorPopupWrapper)return;this.firstRender=this.firstRender==null;const g=this.refreshWrapper(!1);this.refreshEditStyles(!1),e?!(a||g)&&this.refreshCellRenderer(e)||(this.destroyRenderer(),this.createCellRendererInstance(e)):(this.destroyRenderer(),this.insertValueWithoutCellRenderer(t))}setEditDetails(e,t,a){e?this.createCellEditorInstance(e,t,a):this.destroyEditor()}removeControls(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)}refreshWrapper(e){const t=this.includeRowDrag||this.includeDndSource||this.includeSelection,a=t||this.forceWrapper,u=a&&this.eCellWrapper==null;if(u){const Ql=document.createElement("div");Ql.setAttribute("role","presentation"),Ql.setAttribute("class","ag-cell-wrapper"),this.eCellWrapper=Ql,this.getGui().appendChild(this.eCellWrapper)}const g=!a&&this.eCellWrapper!=null;g&&(m1(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!a);const _=!e&&a,K=_&&this.eCellValue==null;if(K){const Ql=document.createElement("span");Ql.setAttribute("role","presentation"),Ql.setAttribute("class","ag-cell-value"),this.eCellValue=Ql,this.eCellWrapper.appendChild(this.eCellValue)}const rt=!_&&this.eCellValue!=null;rt&&(m1(this.eCellValue),this.eCellValue=void 0);const al=u||g||K||rt;return al&&this.removeControls(),e||t&&this.addControls(),al}addControls(){this.includeRowDrag&&this.rowDraggingComp==null&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&this.dndSourceComp==null&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&this.checkboxSelectionComp==null&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue))}createCellEditorInstance(e,t,a){const u=this.editorVersion,g=e.newAgStackInstance();if(g==null)return;const{params:_}=e;g.then(rt=>this.afterCellEditorCreated(u,rt,_,t,a)),Zu(this.cellEditor)&&_.cellStartedEdit&&this.cellCtrl.focusCell(!0)}insertValueWithoutCellRenderer(e){const t=this.getParentOfValue();Dm(t);const a=e!=null?Rh(e,!0):null;a!=null&&(t.textContent=a)}destroyEditorAndRenderer(){this.destroyRenderer(),this.destroyEditor()}destroyRenderer(){const{context:e}=this.beans;this.cellRenderer=e.destroyBean(this.cellRenderer),m1(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++}destroyEditor(){const{context:e}=this.beans;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=e.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=e.destroyBean(this.cellEditorPopupWrapper),m1(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++}refreshCellRenderer(e){if(this.cellRenderer==null||this.cellRenderer.refresh==null||this.cellRendererClass!==e.componentClass)return!1;const t=this.cellRenderer.refresh(e.params);return t===!0||t===void 0}createCellRendererInstance(e){const a=!this.beans.gos.get("suppressAnimationFrame"),u=this.rendererVersion,{componentClass:g}=e,_=()=>{if(this.rendererVersion!==u||!this.isAlive())return;const rt=e.newAgStackInstance(),al=this.afterCellRendererCreated.bind(this,u,g);rt&&rt.then(al)};a&&this.firstRender?this.beans.animationFrameService.createTask(_,this.rowNode.rowIndex,"createTasksP2"):_()}getCtrl(){return this.cellCtrl}getRowCtrl(){return this.rowCtrl}getCellRenderer(){return this.cellRenderer}getCellEditor(){return this.cellEditor}afterCellRendererCreated(e,t,a){if(!this.isAlive()||e!==this.rendererVersion){this.beans.context.destroyBean(a);return}if(this.cellRenderer=a,this.cellRendererClass=t,this.cellRendererGui=this.cellRenderer.getGui(),this.cellRendererGui!=null){const g=this.getParentOfValue();Dm(g),g.appendChild(this.cellRendererGui)}}afterCellEditorCreated(e,t,a,u,g){if(e!==this.editorVersion){this.beans.context.destroyBean(t);return}if(t.isCancelBeforeStart&&t.isCancelBeforeStart()){this.beans.context.destroyBean(t),this.cellCtrl.stopEditing(!0);return}if(!t.getGui){ie(`cellEditor for column ${this.column.getId()} is missing getGui() method`),this.beans.context.destroyBean(t);return}this.cellEditor=t,this.cellEditorGui=t.getGui();const rt=u||t.isPopup!==void 0&&t.isPopup();rt?this.addPopupCellEditor(a,g):this.addInCellEditor(),this.refreshEditStyles(!0,rt),t.afterGuiAttached&&t.afterGuiAttached(),this.cellCtrl.cellEditorAttached()}refreshEditStyles(e,t){this.addOrRemoveCssClass("ag-cell-inline-editing",e&&!t),this.addOrRemoveCssClass("ag-cell-popup-editing",e&&!!t),this.addOrRemoveCssClass("ag-cell-not-inline-editing",!e||!!t),this.rowCtrl?.setInlineEditingCss()}addInCellEditor(){const e=this.getGui();e.contains(Gp(this.beans.gos))&&e.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui&&this.getParentOfValue().appendChild(this.cellEditorGui)}addPopupCellEditor(e,t){this.beans.gos.get("editType")==="fullRow"&&ie("popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");const a=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(this.beans.editService.createPopupEditorWrapper(e));const u=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&u.appendChild(this.cellEditorGui);const g=this.beans.popupService,_=this.beans.gos.get("stopEditingWhenCellsLoseFocus"),K=t??a.getPopupPosition?.()??"over",rt=this.beans.gos.get("enableRtl"),al={ePopup:u,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),position:K,alignSide:rt?"right":"left",keepWithinBounds:!0},Ql=g.positionPopupByComponent.bind(g,al),Gu=this.beans.localeService.getLocaleTextFunc(),Wu=g.addPopup({modal:_,eChild:u,closeOnEsc:!0,closedCallback:()=>{this.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:Ql,ariaLabel:Gu("ariaLabelCellEditor","Cell Editor")});Wu&&(this.hideEditorPopup=Wu.hideFunc)}detach(){this.eRow.removeChild(this.getGui())}destroy(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),super.destroy()}clearParentOfValue(){const e=this.getGui();e.contains(Gp(this.beans.gos))&&T2()&&e.focus({preventScroll:!0}),Dm(this.getParentOfValue())}},nv=class extends bg{constructor(e,t,a){super(),this.cellComps={},this.beans=t,this.rowCtrl=e;const u=document.createElement("div");u.setAttribute("comp-id",`${this.getCompId()}`),this.setInitialStyle(u,a),this.setTemplateFromElement(u);const g=this.getGui(),_=g.style;this.domOrder=this.rowCtrl.getDomOrder(),w0(g,"row");const K={setDomOrder:rt=>this.domOrder=rt,setCellCtrls:rt=>this.setCellCtrls(rt),showFullWidth:rt=>this.showFullWidth(rt),getFullWidthCellRenderer:()=>this.fullWidthCellRenderer,addOrRemoveCssClass:(rt,al)=>this.addOrRemoveCssClass(rt,al),setUserStyles:rt=>v1(g,rt),setTop:rt=>_.top=rt,setTransform:rt=>_.transform=rt,setRowIndex:rt=>g.setAttribute("row-index",rt),setRowId:rt=>g.setAttribute("row-id",rt),setRowBusinessKey:rt=>g.setAttribute("row-business-key",rt),refreshFullWidth:rt=>this.fullWidthCellRenderer?.refresh?.(rt())??!1};e.setComp(K,this.getGui(),a,void 0),this.addDestroyFunc(()=>{e.unsetComp(a)})}setInitialStyle(e,t){const a=this.rowCtrl.getInitialTransform(t);if(a)e.style.setProperty("transform",a);else{const u=this.rowCtrl.getInitialRowTop(t);u&&e.style.setProperty("top",u)}}showFullWidth(e){const t=u=>{if(this.isAlive()){const g=u.getGui();this.getGui().appendChild(g),this.rowCtrl.setupDetailRowAutoHeight(g),this.setFullWidthRowComp(u)}else this.beans.context.destroyBean(u)},a=e.newAgStackInstance();a?.then(t)}setCellCtrls(e){const t=Object.assign({},this.cellComps);e.forEach(u=>{const g=u.instanceId;this.cellComps[g]==null?this.newCellComp(u):t[g]=null});const a=ll(t).filter(u=>u!=null);this.destroyCells(a),this.ensureDomOrder(e)}ensureDomOrder(e){if(!this.domOrder)return;const t=[];e.forEach(a=>{const u=this.cellComps[a.instanceId];u&&t.push(u.getGui())}),_2(this.getGui(),t)}newCellComp(e){const t=new Fy(this.beans,e,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[e.instanceId]=t,this.getGui().appendChild(t.getGui())}destroy(){super.destroy(),this.destroyAllCells()}destroyAllCells(){const e=ll(this.cellComps).filter(t=>t!=null);this.destroyCells(e)}setFullWidthRowComp(e){this.fullWidthCellRenderer&&Et("should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=e,this.addDestroyFunc(()=>{this.fullWidthCellRenderer=this.beans.context.destroyBean(this.fullWidthCellRenderer)})}destroyCells(e){e.forEach(t=>{if(!t)return;const a=t.getCtrl().instanceId;this.cellComps[a]===t&&(t.detach(),t.destroy(),this.cellComps[a]=null)})}};function iv(e){let t;return e.type==="center"?t=`<div class="${e.viewport}" data-ref="eViewport" role="presentation">
                <div class="${e.container}" data-ref="eContainer" role="rowgroup"></div>
            </div>`:t=`<div class="${e.container}" data-ref="eContainer" role="rowgroup"></div>`,t}var Fv=class extends bg{constructor(){super(),this.eViewport=Dp,this.eContainer=Dp,this.rowComps={},this.name=bg.elementGettingCreated.getAttribute("name"),this.options=Lg(this.name),this.setTemplate(iv(this.options))}wireBeans(e){this.beans=e}postConstruct(){const e={setHorizontalScroll:a=>this.eViewport.scrollLeft=a,setViewportHeight:a=>this.eViewport.style.height=a,setRowCtrls:({rowCtrls:a})=>this.setRowCtrls(a),setDomOrder:a=>{this.domOrder=a},setContainerWidth:a=>this.eContainer.style.width=a,setOffsetTop:a=>this.eContainer.style.transform=`translateY(${a})`};this.createManagedBean(new Ry(this.name)).setComp(e,this.eContainer,this.eViewport)}destroy(){this.setRowCtrls([]),super.destroy(),this.lastPlacedElement=null}setRowCtrls(e){const{rowComps:t,beans:a,options:u}=this,g={...t};this.rowComps={},this.lastPlacedElement=null;const _=[];for(const K of e){const rt=K.instanceId,al=g[rt];let Ql;if(al)Ql=al,delete g[rt];else{if(!K.getRowNode().displayed)continue;Ql=new nv(K,a,u.type)}this.rowComps[rt]=Ql,_.push([Ql,!al])}this.removeOldRows(Object.values(g)),this.addRowNodes(_)}addRowNodes(e){const{domOrder:t,eContainer:a}=this;for(const[u,g]of e){const _=u.getGui();t?this.ensureDomOrder(_):g&&a.appendChild(_)}}removeOldRows(e){const{eContainer:t}=this;for(const a of e)t.removeChild(a.getGui()),a.destroy()}ensureDomOrder(e){this.domOrder&&(Wy(this.eContainer,e,this.lastPlacedElement),this.lastPlacedElement=e)}},ov={selector:"AG-ROW-CONTAINER",component:Fv};function i1(e){return e.map(t=>`<ag-row-container name="${t}"></ag-row-container>`).join("")}var Zv=`<div class="ag-root ag-unselectable" role="treegrid">
        <ag-header-root></ag-header-root>
        <div class="ag-floating-top" data-ref="eTop" role="presentation">
            ${i1(["topLeft","topCenter","topRight","topFullWidth"])}
        </div>
        <div class="ag-body" data-ref="eBody" role="presentation">
            <div class="ag-body-viewport" data-ref="eBodyViewport" role="presentation">
            ${i1(["left","center","right","fullWidth"])}
            </div>
            <ag-fake-vertical-scroll></ag-fake-vertical-scroll>
        </div>
        <div class="ag-sticky-top" data-ref="eStickyTop" role="presentation">
            ${i1(["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"])}
        </div>
        <div class="ag-sticky-bottom" data-ref="eStickyBottom" role="presentation">
            ${i1(["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"])}
        </div>
        <div class="ag-floating-bottom" data-ref="eBottom" role="presentation">
            ${i1(["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"])}
        </div>
        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>
        <ag-overlay-wrapper></ag-overlay-wrapper>
    </div>`,Py=class extends bg{constructor(){super(Zv,[_d,Td,Qd,Fl,ov]),this.eBodyViewport=Dp,this.eStickyTop=Dp,this.eStickyBottom=Dp,this.eTop=Dp,this.eBottom=Dp,this.eBody=Dp}wireBeans(e){this.resizeObserverService=e.resizeObserverService,this.rangeService=e.rangeService}postConstruct(){const e=(a,u)=>{const g=`${a}px`;u.style.minHeight=g,u.style.height=g},t={setRowAnimationCssOnBodyViewport:(a,u)=>this.setRowAnimationCssOnBodyViewport(a,u),setColumnCount:a=>d0(this.getGui(),a),setRowCount:a=>Yg(this.getGui(),a),setTopHeight:a=>e(a,this.eTop),setBottomHeight:a=>e(a,this.eBottom),setTopDisplay:a=>this.eTop.style.display=a,setBottomDisplay:a=>this.eBottom.style.display=a,setStickyTopHeight:a=>this.eStickyTop.style.height=a,setStickyTopTop:a=>this.eStickyTop.style.top=a,setStickyTopWidth:a=>this.eStickyTop.style.width=a,setStickyBottomHeight:a=>{this.eStickyBottom.style.height=a,this.eStickyBottom.classList.toggle("ag-hidden",a==="0px")},setStickyBottomBottom:a=>this.eStickyBottom.style.bottom=a,setStickyBottomWidth:a=>this.eStickyBottom.style.width=a,setColumnMovingCss:(a,u)=>this.addOrRemoveCssClass(a,u),updateLayoutClasses:(a,u)=>{[this.eBodyViewport.classList,this.eBody.classList].forEach(_=>{_.toggle("ag-layout-auto-height",u.autoHeight),_.toggle("ag-layout-normal",u.normal),_.toggle("ag-layout-print",u.print)}),this.addOrRemoveCssClass("ag-layout-auto-height",u.autoHeight),this.addOrRemoveCssClass("ag-layout-normal",u.normal),this.addOrRemoveCssClass("ag-layout-print",u.print)},setAlwaysVerticalScrollClass:(a,u)=>this.eBodyViewport.classList.toggle(Rv,u),registerBodyViewportResizeListener:a=>{const u=this.resizeObserverService.observeResize(this.eBodyViewport,a);this.addDestroyFunc(()=>u())},setPinnedTopBottomOverflowY:a=>this.eTop.style.overflowY=this.eBottom.style.overflowY=a,setCellSelectableCss:(a,u)=>{[this.eTop,this.eBodyViewport,this.eBottom].forEach(g=>g.classList.toggle(a,u))},setBodyViewportWidth:a=>this.eBodyViewport.style.width=a};this.ctrl=this.createManagedBean(new Zm),this.ctrl.setComp(t,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop,this.eStickyBottom),(this.rangeService&&hp(this.gos)||vg(this.gos))&&Yf(this.getGui(),!0)}setRowAnimationCssOnBodyViewport(e,t){const a=this.eBodyViewport.classList;a.toggle("ag-row-animation",t),a.toggle("ag-row-no-animation",!t)}getFloatingTopBottom(){return[this.eTop,this.eBottom]}},z3={selector:"AG-GRID-BODY",component:Py},c2=class extends Nh{constructor(){super(...arguments),this.beanName="scrollVisibleService"}wireBeans(e){this.ctrlsService=e.ctrlsService,this.columnAnimationService=e.columnAnimationService}postConstruct(){this.getScrollbarWidth(),this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this)})}onDisplayedColumnsChanged(){this.updateScrollVisible()}onDisplayedColumnsWidthChanged(){this.updateScrollVisible()}onCentreViewportResized(){this.updateScrollGap()}updateScrollVisible(){this.columnAnimationService.isActive()?this.columnAnimationService.executeLaterVMTurn(()=>{this.columnAnimationService.executeLaterVMTurn(()=>this.updateScrollVisibleImpl())}):this.updateScrollVisibleImpl()}updateScrollVisibleImpl(){const e=this.ctrlsService.get("center");if(!e||this.columnAnimationService.isActive())return;const t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(t),this.updateScrollGap()}updateScrollGap(){const e=this.ctrlsService.get("center"),t=e.hasHorizontalScrollGap(),a=e.hasVerticalScrollGap();(this.horizontalScrollGap!==t||this.verticalScrollGap!==a)&&(this.horizontalScrollGap=t,this.verticalScrollGap=a,this.eventService.dispatchEvent({type:"scrollGapChanged"}))}setScrollsVisible(e){(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing)&&(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventService.dispatchEvent({type:"scrollVisibilityChanged"}))}isHorizontalScrollShowing(){return this.horizontalScrollShowing}isVerticalScrollShowing(){return this.verticalScrollShowing}hasHorizontalScrollGap(){return this.horizontalScrollGap}hasVerticalScrollGap(){return this.verticalScrollGap}getScrollbarWidth(){if(this.scrollbarWidth==null){const e=this.gos.get("scrollbarWidth"),a=typeof e=="number"&&e>=0?e:sm();a!=null&&(this.scrollbarWidth=a,this.eventService.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}},h3="__ag_grid_instance",d2=class CC extends Nh{constructor(){super(...arguments),this.beanName="mouseEventService",this.gridInstanceId=CC.gridInstanceSequence.next()}wireBeans(t){this.ctrlsService=t.ctrlsService}stampTopLevelGridCompWithGridInstance(t){t[h3]=this.gridInstanceId}getRenderedCellForEvent(t){return Of(this.gos,t.target,Dg.DOM_DATA_KEY_CELL_CTRL)}isEventFromThisGrid(t){return this.isElementInThisGrid(t.target)}isElementInThisGrid(t){let a=t;for(;a;){const u=a[h3];if(Vu(u))return u===this.gridInstanceId;a=a.parentElement}return!1}getCellPositionForEvent(t){const a=this.getRenderedCellForEvent(t);return a?a.getCellPosition():null}getNormalisedPosition(t){const a=gd(this.gos,"normal"),u=t;let g,_;if(u.clientX!=null||u.clientY!=null?(g=u.clientX,_=u.clientY):(g=u.x,_=u.y),a){const K=this.ctrlsService.getGridBodyCtrl(),rt=K.getScrollFeature().getVScrollPosition(),al=K.getScrollFeature().getHScrollPosition();g+=al.left,_+=rt.top}return{x:g,y:_}}};d2.gridInstanceSequence=new cv;var h2=d2,Dy=class extends Nh{constructor(){super(),this.beanName="navigationService",this.onPageDown=Al(this.onPageDown,100),this.onPageUp=Al(this.onPageUp,100)}wireBeans(e){this.mouseEventService=e.mouseEventService,this.pageBoundsService=e.pageBoundsService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.ctrlsService=e.ctrlsService,this.rowRenderer=e.rowRenderer,this.headerNavigationService=e.headerNavigationService,this.rowPositionUtils=e.rowPositionUtils,this.cellNavigationService=e.cellNavigationService,this.pinnedRowModel=e.pinnedRowModel,this.scrollVisibleService=e.scrollVisibleService,this.rangeService=e.rangeService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,t=!1){const a=e.key,u=e.altKey,g=e.ctrlKey||e.metaKey,_=!!this.rangeService&&e.shiftKey,K=this.mouseEventService.getCellPositionForEvent(e);let rt=!1;switch(a){case pf.PAGE_HOME:case pf.PAGE_END:!g&&!u&&(this.onHomeOrEndKey(a),rt=!0);break;case pf.LEFT:case pf.RIGHT:case pf.UP:case pf.DOWN:if(!K)return!1;g&&!u&&!_&&(this.onCtrlUpDownLeftRight(a,K),rt=!0);break;case pf.PAGE_DOWN:case pf.PAGE_UP:!g&&!u&&(rt=this.handlePageUpDown(a,K,t));break}return rt&&e.preventDefault(),rt}handlePageUpDown(e,t,a){return a&&(t=this.focusService.getFocusedCell()),t?(e===pf.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0):!1}navigateTo(e){const{scrollIndex:t,scrollType:a,scrollColumn:u,focusIndex:g,focusColumn:_}=e;Vu(u)&&!u.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(u),Vu(t)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(t,a),e.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(g),this.focusService.setFocusedCell({rowIndex:g,column:_,rowPinned:null,forceBrowserFocus:!0}),this.rangeService?.setRangeToCell({rowIndex:g,rowPinned:null,column:_})}onPageDown(e){const a=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),u=this.getViewportHeight(),g=this.pageBoundsService.getPixelOffset(),_=a.top+u,K=this.rowModel.getRowIndexAtPixel(_+g);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,K):this.navigateToNextPage(e,K)}onPageUp(e){const a=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),u=this.pageBoundsService.getPixelOffset(),g=a.top,_=this.rowModel.getRowIndexAtPixel(g+u);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,_,!0):this.navigateToNextPage(e,_,!0)}navigateToNextPage(e,t,a=!1){const u=this.getViewportHeight(),g=this.pageBoundsService.getFirstRow(),_=this.pageBoundsService.getLastRow(),K=this.pageBoundsService.getPixelOffset(),rt=this.rowModel.getRow(e.rowIndex),al=a?rt?.rowHeight-u-K:u-K,Ql=rt?.rowTop+al;let Gu=this.rowModel.getRowIndexAtPixel(Ql+K);if(Gu===e.rowIndex){const id=a?-1:1;t=Gu=e.rowIndex+id}let Wu;a?(Wu="bottom",Gu<g&&(Gu=g),t<g&&(t=g)):(Wu="top",Gu>_&&(Gu=_),t>_&&(t=_)),this.isRowTallerThanView(Gu)&&(t=Gu,Wu="top"),this.navigateTo({scrollIndex:t,scrollType:Wu,scrollColumn:null,focusIndex:Gu,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t,a=!1){this.navigateTo({scrollIndex:t,scrollType:a?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{const u=this.getNextFocusIndexForAutoHeight(e,a);this.navigateTo({scrollIndex:t,scrollType:a?"bottom":"top",scrollColumn:null,focusIndex:u,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,t=!1){const a=t?-1:1,u=this.getViewportHeight(),g=this.pageBoundsService.getLastRow();let _=0,K=e.rowIndex;for(;K>=0&&K<=g;){const rt=this.rowModel.getRow(K);if(rt){const al=rt.rowHeight??0;if(_+al>u)break;_+=al}K+=a}return Math.max(0,Math.min(K,g))}getViewportHeight(){const e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),t=this.scrollVisibleService.getScrollbarWidth();let a=e.bottom-e.top;return this.ctrlsService.get("center").isHorizontalScrollShowing()&&(a-=t),a}isRowTallerThanView(e){const t=this.rowModel.getRow(e);if(!t)return!1;const a=t.rowHeight;return typeof a!="number"?!1:a>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){const a=this.cellNavigationService.getNextCellToFocus(e,t,!0),{rowIndex:u}=a,g=a.column;this.navigateTo({scrollIndex:u,scrollType:null,scrollColumn:g,focusIndex:u,focusColumn:g})}onHomeOrEndKey(e){const t=e===pf.PAGE_HOME,a=this.visibleColsService.getAllCols(),u=t?a[0]:Pp(a),g=t?this.pageBoundsService.getFirstRow():this.pageBoundsService.getLastRow();this.navigateTo({scrollIndex:g,scrollType:null,scrollColumn:u,focusIndex:g,focusColumn:u})}onTabKeyDown(e,t){const a=t.shiftKey,u=this.tabToNextCellCommon(e,a,t);if(u!==!1){u?t.preventDefault():u===null&&this.focusService.allowFocusForNextGridCoreContainer(a);return}if(a){const{rowIndex:g,rowPinned:_}=e.getRowPosition();(_?g===0:g===this.pageBoundsService.getFirstRow())&&(this.gos.get("headerHeight")===0||this.focusService.isHeaderFocusSuppressed()?this.focusService.focusNextGridCoreContainer(!0,!0):(t.preventDefault(),this.focusService.focusPreviousFromFirstCell(t)))}else e instanceof Dg&&e.focusCell(!0),(!a&&this.focusService.focusOverlay(!1)||this.focusService.focusNextGridCoreContainer(a))&&t.preventDefault()}tabToNextCell(e,t){const a=this.focusService.getFocusedCell();if(!a)return!1;let u=this.getCellByPosition(a);return!u&&(u=this.rowRenderer.getRowByPosition(a),!u||!u.isFullWidth())?!1:!!this.tabToNextCellCommon(u,e,t)}tabToNextCellCommon(e,t,a){let u=e.isEditing();if(!u&&e instanceof Dg){const K=e.getRowCtrl();K&&(u=K.isEditing())}let g;return u?this.gos.get("editType")==="fullRow"?g=this.moveToNextEditingRow(e,t,a):g=this.moveToNextEditingCell(e,t,a):g=this.moveToNextCellNotEditing(e,t),g===null?g:g||!!this.focusService.getFocusedHeader()}moveToNextEditingCell(e,t,a=null){const u=e.getCellPosition();e.getGui().focus(),e.stopEditing();const g=this.findNextCellToFocusOn(u,t,!0);return g===!1?null:g==null?!1:(g.startEditing(null,!0,a),g.focusCell(!1),!0)}moveToNextEditingRow(e,t,a=null){const u=e.getCellPosition(),g=this.findNextCellToFocusOn(u,t,!0);if(g===!1)return null;if(g==null)return!1;const _=g.getCellPosition(),K=this.isCellEditable(u),rt=this.isCellEditable(_),al=_&&u.rowIndex===_.rowIndex&&u.rowPinned===_.rowPinned;return K&&e.setFocusOutOnEditor(),al||(e.getRowCtrl().stopEditing(),g.getRowCtrl().startRowEditing(void 0,void 0,a)),rt?(g.setFocusInOnEditor(),g.focusCell()):g.focusCell(!0),!0}moveToNextCellNotEditing(e,t){const a=this.visibleColsService.getAllCols();let u;e instanceof Eg?u={...e.getRowPosition(),column:t?a[0]:Pp(a)}:u=e.getCellPosition();const g=this.findNextCellToFocusOn(u,t,!1);if(g===!1)return null;if(g instanceof Dg)g.focusCell(!0);else if(g)return this.tryToFocusFullWidthRow(g.getRowPosition(),t);return Vu(g)}findNextCellToFocusOn(e,t,a){let u=e;for(;;){e!==u&&(e=u),t||(u=this.getLastCellOfColSpan(u)),u=this.cellNavigationService.getNextTabbedCell(u,t);const g=this.gos.getCallback("tabToNextCell");if(Vu(g)){const al=g({backwards:t,editing:a,previousCellPosition:e,nextCellPosition:u||null});if(al===!0||al===null)al===null&&ie("Returning `null` from tabToNextCell is deprecated. Return `true` to stay on the current cell, or `false` to let the browser handle the tab behaviour."),u=e;else{if(al===!1)return!1;u={rowIndex:al.rowIndex,column:al.column,rowPinned:al.rowPinned}}}if(!u)return null;if(u.rowIndex<0){const rt=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:rt+u.rowIndex,column:u.column},fromCell:!0}),null}const _=this.gos.get("editType")==="fullRow";if(a&&!_&&!this.isCellEditable(u))continue;this.ensureCellVisible(u);const K=this.getCellByPosition(u);if(!K){const rt=this.rowRenderer.getRowByPosition(u);if(!rt||!rt.isFullWidth()||a)continue;return rt}if(!K.isSuppressNavigable())return this.rangeService?.setRangeToCell(u),K}}isCellEditable(e){const t=this.lookupRowNodeForCell(e);return t?e.column.isCellEditable(t):!1}getCellByPosition(e){const t=this.rowRenderer.getRowByPosition(e);return t?t.getCellCtrl(e.column):null}lookupRowNodeForCell(e){return e.rowPinned==="top"?this.pinnedRowModel.getPinnedTopRow(e.rowIndex):e.rowPinned==="bottom"?this.pinnedRowModel.getPinnedBottomRow(e.rowIndex):this.rowModel.getRow(e.rowIndex)}navigateToNextCell(e,t,a,u){let g=a,_=!1;for(;g&&(g===a||!this.isValidNavigateCell(g));)this.gos.get("enableRtl")?t===pf.LEFT&&(g=this.getLastCellOfColSpan(g)):t===pf.RIGHT&&(g=this.getLastCellOfColSpan(g)),g=this.cellNavigationService.getNextCellToFocus(t,g),_=Zu(g);if(_&&e&&e.key===pf.UP&&(g={rowIndex:-1,rowPinned:null,column:a.column}),u){const rt=this.gos.getCallback("navigateToNextCell");if(Vu(rt)){const Ql=rt({key:t,previousCellPosition:a,nextCellPosition:g||null,event:e});Vu(Ql)?g={rowPinned:Ql.rowPinned,rowIndex:Ql.rowIndex,column:Ql.column}:g=null}}if(!g)return;if(g.rowIndex<0){const rt=this.headerNavigationService.getHeaderRowCount();this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:rt+g.rowIndex,column:a.column},event:e||void 0,fromCell:!0});return}const K=this.getNormalisedPosition(g);K?this.focusPosition(K):this.tryToFocusFullWidthRow(g)}getNormalisedPosition(e){this.ensureCellVisible(e);const t=this.getCellByPosition(e);return t?(e=t.getCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t){const a=this.visibleColsService.getAllCols(),u=this.rowRenderer.getRowByPosition(e);if(!u||!u.isFullWidth())return!1;const g=this.focusService.getFocusedCell(),_={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?Pp(a):a[0])};this.focusPosition(_);const K=t??(g!=null&&this.rowPositionUtils.before(_,g));return this.eventService.dispatchEvent({type:"fullWidthRowFocused",rowIndex:_.rowIndex,rowPinned:_.rowPinned,column:_.column,isFullWidthCell:!0,fromBelow:K}),!0}focusPosition(e){this.focusService.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),this.rangeService?.setRangeToCell(e)}isValidNavigateCell(e){return!!this.rowPositionUtils.getRowNode(e)}getLastCellOfColSpan(e){const t=this.getCellByPosition(e);if(!t)return e;const a=t.getColSpanningList();return a.length===1?e:{rowIndex:e.rowIndex,column:Pp(a),rowPinned:e.rowPinned}}ensureCellVisible(e){const t=n0(this.gos),a=this.rowModel.getRow(e.rowIndex);!(t&&a?.sticky)&&Zu(e.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e.rowIndex),e.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(e.column)}},Ly=class extends Nh{constructor(){super(...arguments),this.beanName="horizontalResizeService"}wireBeans(e){this.dragService=e.dragService,this.ctrlsService=e.ctrlsService}addResizeBar(e){const t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),onDragCancel:this.onDragStop.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0};return this.dragService.addDragSource(t),()=>this.dragService.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();const a=t instanceof MouseEvent&&t.shiftKey===!0;e.onResizeStart(a)}setResizeIcons(){const e=this.ctrlsService.get("gridCtrl");e.setResizeCursor(!0),e.disableUserSelect(!0)}onDragStop(e){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const e=this.ctrlsService.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}},V2=class extends Nh{constructor(){super(...arguments),this.beanName="filterMenuFactory"}wireBeans(e){this.popupService=e.popupService,this.focusService=e.focusService,this.ctrlsService=e.ctrlsService,this.menuService=e.menuService}hideActiveMenu(){this.hidePopup&&this.hidePopup()}showMenuAfterMouseEvent(e,t,a){this.showPopup(e,u=>{this.popupService.positionPopupUnderMouseEvent({column:e,type:a,mouseEvent:t,ePopup:u})},a,t.target,this.menuService.isLegacyMenuEnabled())}showMenuAfterButtonClick(e,t,a){let u=-1,g="left";const _=this.menuService.isLegacyMenuEnabled();!_&&this.gos.get("enableRtl")&&(u=1,g="right");const K=_?void 0:4*u,rt=_?void 0:4;this.showPopup(e,al=>{this.popupService.positionPopupByComponent({type:a,eventSource:t,ePopup:al,nudgeX:K,nudgeY:rt,alignSide:g,keepWithinBounds:!0,position:"under",column:e})},a,t,_)}showPopup(e,t,a,u,g){const _=e?this.createBean(new Cy(e,"COLUMN_MENU")):void 0;if(this.activeMenu=_,!_?.hasFilter()||!e)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");const K=document.createElement("div");w0(K,"presentation"),K.classList.add("ag-menu"),g||K.classList.add("ag-filter-menu"),[this.tabListener]=this.addManagedElementListeners(K,{keydown:Qh=>this.trapFocusWithin(Qh,K)}),K.appendChild(_?.getGui());let rt;const al=()=>_?.afterGuiDetached(),Ql=this.menuService.isColumnMenuAnchoringEnabled()?u??this.ctrlsService.getGridBodyCtrl().getGui():void 0,Gu=Qh=>{e.setMenuVisible(!1,"contextMenu");const uf=Qh instanceof KeyboardEvent;if(this.tabListener&&(this.tabListener=this.tabListener()),uf&&u&&Nm(u)){const tf=this.focusService.findTabbableParent(u);tf&&tf.focus()}al(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,a,e)},Wu=this.localeService.getLocaleTextFunc(),id=g&&a!=="columnFilter"?Wu("ariaLabelColumnMenu","Column Menu"):Wu("ariaLabelColumnFilter","Column Filter"),uh=this.popupService.addPopup({modal:!0,eChild:K,closeOnEsc:!0,closedCallback:Gu,positionCallback:()=>t(K),anchorToElement:Ql,ariaLabel:id});uh&&(this.hidePopup=rt=uh.hideFunc),_.afterInit().then(()=>{t(K),_.afterGuiAttached({container:a,hidePopup:rt})}),e.setMenuVisible(!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,a,e)}trapFocusWithin(e,t){e.key!==pf.TAB||e.defaultPrevented||this.focusService.findNextFocusableElement(t,!1,e.shiftKey)||(e.preventDefault(),this.focusService.focusInto(t,e.shiftKey))}dispatchVisibleChangedEvent(e,t,a){this.eventService.dispatchEvent({type:"columnMenuVisibleChanged",visible:e,switchingTab:!1,key:t,column:a??null,columnGroup:null})}isMenuEnabled(e){return e.isFilterAllowed()&&(e.getColDef().menuTabs??["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}},f2=class extends Nh{constructor(){super(...arguments),this.beanName="resizeObserverService"}observeResize(e,t){const u=_0(this.gos).ResizeObserver,g=u?new u(t):null;return g?.observe(e),()=>g?.disconnect()}},f3=class extends Nh{constructor(){super(...arguments),this.beanName="animationFrameService",this.createTasksP1={list:[],sorted:!1},this.createTasksP2={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastPage=0,this.lastScrollTop=0,this.taskCount=0,this.cancelledTasks=new Set}wireBeans(e){this.ctrlsService=e.ctrlsService,this.paginationService=e.paginationService}setScrollTop(e){const t=this.gos.get("pagination");if(this.scrollGoingDown=e>=this.lastScrollTop,t&&e===0){const a=this.paginationService?.getCurrentPage()??0;a!==this.lastPage&&(this.lastPage=a,this.scrollGoingDown=!0)}this.lastScrollTop=e}postConstruct(){this.useAnimationFrame=!this.gos.get("suppressAnimationFrame")}isOn(){return this.useAnimationFrame}verifyAnimationFrameOn(e){this.useAnimationFrame===!1&&ie(`AnimationFrameService.${e} called but animation frames are off`)}createTask(e,t,a){this.verifyAnimationFrameOn(a);const u={task:e,index:t,createOrder:++this.taskCount};this.addTaskToList(this[a],u),this.schedule()}cancelTask(e){this.cancelledTasks.add(e)}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;const t=this.scrollGoingDown?1:-1;e.list.sort((a,u)=>a.index!==u.index?t*(u.index-a.index):u.createOrder-a.createOrder),e.sorted=!0}addDestroyTask(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()}executeFrame(e){this.verifyAnimationFrameOn("executeFrame");const t=this.createTasksP1,a=t.list,u=this.createTasksP2,g=u.list,_=this.destroyTasks,K=new Date().getTime();let rt=new Date().getTime()-K;const al=e<=0,Ql=this.ctrlsService.getGridBodyCtrl();for(;al||rt<e;){if(!Ql.getScrollFeature().scrollGridIfNeeded()){let Wu;if(a.length)this.sortTaskList(t),Wu=a.pop().task;else if(g.length)this.sortTaskList(u),Wu=g.pop().task;else if(_.length)Wu=_.pop();else{this.cancelledTasks.clear();break}this.cancelledTasks.has(Wu)||Wu()}rt=new Date().getTime()-K}a.length||g.length||_.length?this.requestFrame():this.stopTicking()}stopTicking(){this.ticking=!1}flushAllFrames(){this.useAnimationFrame&&this.executeFrame(-1)}schedule(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const e=this.executeFrame.bind(this,60);this.requestAnimationFrame(e)}requestAnimationFrame(e){const t=_0(this.gos);t.requestAnimationFrame?t.requestAnimationFrame(e):t.webkitRequestAnimationFrame?t.webkitRequestAnimationFrame(e):t.setTimeout(e,0)}isQueueEmpty(){return!this.ticking}debounce(e){let t=!1;return()=>{if(!this.isOn()){window.setTimeout(e,0);return}t||(t=!0,this.addDestroyTask(()=>{t=!1,e()}))}}},j2=(e=>(e.EVERYTHING="group",e.FILTER="filter",e.SORT="sort",e.MAP="map",e.AGGREGATE="aggregate",e.FILTER_AGGREGATES="filter_aggregates",e.PIVOT="pivot",e.NOTHING="nothing",e))(j2||{}),p2=class extends Nh{constructor(){super(...arguments),this.beanName="expansionService"}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.isClientSideRowModel=Dd(this.gos)}expandRows(e){if(!this.isClientSideRowModel)return;const t=new Set(e);this.rowModel.forEachNode(a=>{a.id&&t.has(a.id)&&(a.expanded=!0)}),this.onGroupExpandedOrCollapsed()}getExpandedRows(){const e=[];return this.rowModel.forEachNode(({expanded:t,id:a})=>{t&&a&&e.push(a)}),e}expandAll(e){this.isClientSideRowModel&&this.rowModel.expandOrCollapseAll(e)}setRowNodeExpanded(e,t,a,u){e&&(a&&e.parent&&e.parent.level!==-1&&this.setRowNodeExpanded(e.parent,t,a,u),e.setExpanded(t,void 0,u))}onGroupExpandedOrCollapsed(){this.isClientSideRowModel&&this.rowModel.refreshModel({step:"map"})}},Iy=class extends Nh{constructor(){super(...arguments),this.beanName="menuService"}wireBeans(e){this.valueService=e.valueService,this.filterMenuFactory=e.filterMenuFactory,this.ctrlsService=e.ctrlsService,this.animationFrameService=e.animationFrameService,this.filterManager=e.filterManager,this.rowRenderer=e.rowRenderer,this.columnChooserFactory=e.columnChooserFactory,this.contextMenuFactory=e.contextMenuFactory,this.enterpriseMenuFactory=e.enterpriseMenuFactory}postConstruct(){this.activeMenuFactory=this.enterpriseMenuFactory??this.filterMenuFactory}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){const t=this.enterpriseMenuFactory&&this.isLegacyMenuEnabled()?this.enterpriseMenuFactory:this.filterMenuFactory;this.showColumnMenuCommon(t,e,e.containerType,!0)}showHeaderContextMenu(e,t,a){this.activeMenuFactory.showMenuAfterContextMenuEvent(e,t,a)}getContextMenuPosition(e,t){const a=this.getRowCtrl(e),u=this.getCellGui(a,t);if(!u)return a?{x:0,y:a.getRowYPosition()}:{x:0,y:0};const g=u.getBoundingClientRect();return{x:g.x+g.width/2,y:g.y+g.height/2}}showContextMenu(e){const t=e.rowNode,a=e.column;let{anchorToElement:u,value:g}=e;t&&a&&g==null&&(g=this.valueService.getValueForDisplay(a,t)),u==null&&(u=this.getContextMenuAnchorElement(t,a)),this.contextMenuFactory?.onContextMenu(e.mouseEvent??null,e.touchEvent??null,t??null,a??null,g,u)}showColumnChooser(e){this.columnChooserFactory?.showColumnChooser(e)}hidePopupMenu(){this.contextMenuFactory?.hideActiveMenu(),this.activeMenuFactory.hideActiveMenu()}hideColumnChooser(){this.columnChooserFactory?.hideActiveColumnChooser()}isColumnMenuInHeaderEnabled(e){const{suppressMenu:t,suppressHeaderMenuButton:a}=e.getColDef();return!(a??t)&&this.activeMenuFactory.isMenuEnabled(e)&&(this.isLegacyMenuEnabled()||!!this.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){return!e.getColDef().suppressHeaderFilterButton&&!!this.filterManager?.isFilterAllowed(e)}isHeaderContextMenuEnabled(e){return!(e&&Fu(e)?e.getColDef():e?.getColGroupDef())?.suppressHeaderContextMenu&&this.getColumnMenuType()==="new"}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const e=!this.isSuppressMenuHide();return!(I1()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!this.isLegacyMenuEnabled()&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){return!!this.filterManager?.isFilterAllowed(e)&&!this.isLegacyMenuEnabled()&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isColumnMenuAnchoringEnabled(){return!this.isLegacyMenuEnabled()}areAdditionalColumnMenuItemsEnabled(){return this.getColumnMenuType()==="new"}isLegacyMenuEnabled(){return this.getColumnMenuType()==="legacy"}isFloatingFilterButtonEnabled(e){const t=e.getColDef(),a=t.floatingFilterComponentParams?.suppressFilterButton;return a!=null&&ie("As of v31.1, 'colDef.floatingFilterComponentParams.suppressFilterButton' is deprecated. Use 'colDef.suppressFloatingFilterButton' instead."),t.suppressFloatingFilterButton==null?!a:!t.suppressFloatingFilterButton}getColumnMenuType(){return this.gos.get("columnMenu")}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){const e=this.gos.get("suppressMenuHide");return this.isLegacyMenuEnabled()?this.gos.exists("suppressMenuHide")?e:!1:e}showColumnMenuCommon(e,t,a,u){const{positionBy:g}=t,_=t.column;if(g==="button"){const{buttonElement:K}=t;e.showMenuAfterButtonClick(_,K,a,u)}else if(g==="mouse"){const{mouseEvent:K}=t;e.showMenuAfterMouseEvent(_,K,a,u)}else _&&(this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(_,"auto"),this.animationFrameService.requestAnimationFrame(()=>{const K=this.ctrlsService.getHeaderRowContainerCtrl(_.getPinned())?.getHeaderCtrlForColumn(_);K&&e.showMenuAfterButtonClick(_,K.getAnchorElementForMenu(u),a,!0)}))}getRowCtrl(e){const{rowIndex:t,rowPinned:a}=e||{};if(t!=null)return this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:a})||void 0}getCellGui(e,t){return!e||!t?void 0:e.getCellCtrl(t)?.getGui()||void 0}getContextMenuAnchorElement(e,t){const a=this.ctrlsService.getGridBodyCtrl().getGridBodyElement(),u=this.getRowCtrl(e);if(!u)return a;const g=this.getCellGui(u,t);return g||(u.isFullWidth()?u.getFullWidthElement():a)}},g2=class extends t1{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,t){const a=super.setValue(e,t);return this.eInput.value=e,a}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}},m2={selector:"AG-INPUT-TEXT-AREA",component:g2},U2=class extends r1{constructor(){super(`<div class="ag-large-text">
        <ag-input-text-area data-ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>
        </div>`,[m2]),this.eTextArea=Dp}init(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),Vu(e.value,!0)&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(e){const t=e.key;(t===pf.LEFT||t===pf.UP||t===pf.RIGHT||t===pf.DOWN||e.shiftKey&&t===pf.ENTER)&&e.stopPropagation()}afterGuiAttached(){const e=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()}getValue(){const e=this.eTextArea.getValue();return!Vu(e)&&!Vu(this.params.value)?this.params.value:this.params.parseValue(e)}},p3=class extends r1{constructor(e){super('<div class="ag-popup-editor" tabindex="-1"/>'),this.params=e}postConstruct(){rp(this.gos,this.getGui(),"popupEditorWrapper",!0),this.addKeyDownListener()}addKeyDownListener(){const e=this.getGui(),t=this.params,a=u=>{My(this.gos,u,t.node,t.column,!0)||t.onKeyDown(u)};this.addManagedElementListeners(e,{keydown:a})}},Oy=class extends r1{constructor(){super(`<div class="ag-cell-edit-wrapper">
                <ag-select class="ag-cell-editor" data-ref="eSelect"></ag-select>
            </div>`,[um]),this.eSelect=Dp,this.startedByEnter=!1}wireBeans(e){this.valueService=e.valueService}init(e){this.focusAfterAttached=e.cellStartedEdit;const{eSelect:t,valueService:a,gos:u}=this,{values:g,value:_,eventKey:K}=e;if(Zu(g)){ie("no values found for select cellEditor");return}this.startedByEnter=K!=null?K===pf.ENTER:!1;let rt=!1;g.forEach(Wu=>{const id={value:Wu},uh=a.formatValue(e.column,null,Wu),Qh=uh!=null;id.text=Qh?uh:Wu,t.addOption(id),rt=rt||_===Wu}),rt?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);const{valueListGap:al,valueListMaxWidth:Ql,valueListMaxHeight:Gu}=e;al!=null&&t.setPickerGap(al),Gu!=null&&t.setPickerMaxHeight(Gu),Ql!=null&&t.setPickerMaxWidth(Ql),u.get("editType")!=="fullRow"&&this.addManagedListeners(this.eSelect,{selectedItem:()=>e.stopEditing()})}afterGuiAttached(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eSelect.showPicker()})}focusIn(){this.eSelect.getFocusableElement().focus()}getValue(){return this.eSelect.getValue()}isPopup(){return!1}},zy=class extends r1{constructor(e){super(`
            <div class="ag-cell-edit-wrapper">
                ${e.getTemplate()}
            </div>`,e.getAgComponents()),this.cellEditorInput=e,this.eInput=Dp}init(e){this.params=e;const{cellStartedEdit:t,eventKey:a,suppressPreventDefault:u}=e,g=this.eInput;this.cellEditorInput.init(g,e);let _,K=!0;t?(this.focusAfterAttached=!0,a===pf.BACKSPACE||a===pf.DELETE?_="":a&&a.length===1?u?K=!1:_=a:(_=this.cellEditorInput.getStartValue(),a!==pf.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,_=this.cellEditorInput.getStartValue()),K&&_!=null&&g.setStartValue(_),this.addManagedElementListeners(g.getGui(),{keydown:rt=>{const{key:al}=rt;(al===pf.PAGE_UP||al===pf.PAGE_DOWN)&&rt.preventDefault()}})}afterGuiAttached(){const e=this.localeService.getLocaleTextFunc(),t=this.eInput;if(t.setInputAriaLabel(e("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;_1()||t.getFocusableElement().focus();const a=t.getInputElement();this.highlightAllOnFocus?a.select():this.cellEditorInput.setCaret?.()}focusIn(){const e=this.eInput,t=e.getFocusableElement(),a=e.getInputElement();t.focus(),a.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}},Xv=class{getTemplate(){return'<ag-input-text-field class="ag-cell-editor" data-ref="eInput"></ag-input-text-field>'}getAgComponents(){return[vv]}init(e,t){this.eInput=e,this.params=t,t.maxLength!=null&&e.setMaxLength(t.maxLength)}getValue(){const e=this.eInput.getValue();return!Vu(e)&&!Vu(this.params.value)?this.params.value:this.params.parseValue(e)}getStartValue(){return this.params.useFormatter||this.params.column.getColDef().refData?this.params.formatValue(this.params.value):this.params.value}setCaret(){const e=this.eInput.getValue(),t=Vu(e)&&e.length||0;t&&this.eInput.getInputElement().setSelectionRange(t,t)}},v2=class extends zy{constructor(){super(new Xv)}},Ny=class{getTemplate(){return'<ag-input-number-field class="ag-cell-editor" data-ref="eInput"></ag-input-number-field>'}getAgComponents(){return[l2]}init(e,t){this.eInput=e,this.params=t,t.max!=null&&e.setMax(t.max),t.min!=null&&e.setMin(t.min),t.precision!=null&&e.setPrecision(t.precision),t.step!=null&&e.setStep(t.step);const a=e.getInputElement();t.preventStepping?e.addManagedElementListeners(a,{keydown:this.preventStepping}):t.showStepperButtons&&a.classList.add("ag-number-field-input-stepper")}preventStepping(e){(e.key===pf.UP||e.key===pf.DOWN)&&e.preventDefault()}getValue(){const e=this.eInput.getValue();if(!Vu(e)&&!Vu(this.params.value))return this.params.value;let t=this.params.parseValue(e);if(t==null)return t;if(typeof t=="string"){if(t==="")return null;t=Number(t)}return isNaN(t)?null:t}getStartValue(){return this.params.value}setCaret(){_1()&&this.eInput.getInputElement().focus({preventScroll:!0})}},m=class extends zy{constructor(){super(new Ny)}},b=class extends Kg{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct();const e=_1();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||e||this.eInput.focus()}}),this.eInput.step="any"}onWheel(e){Gp(this.gos)===this.eInput&&e.preventDefault()}setMin(e){const t=e instanceof Date?Q(e??null,!1)??void 0:e;return this.min===t?this:(this.min=t,Jm(this.eInput,"min",t),this)}setMax(e){const t=e instanceof Date?Q(e??null,!1)??void 0:e;return this.max===t?this:(this.max=t,Jm(this.eInput,"max",t),this)}setStep(e){return this.step===e?this:(this.step=e,Jm(this.eInput,"step",e),this)}getDate(){if(this.eInput.validity.valid)return q(this.getValue())??void 0}setDate(e,t){this.setValue(Q(e??null,!1),t)}},X={selector:"AG-INPUT-DATE-FIELD",component:b},el=class{getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[X]}init(e,t){this.eInput=e,this.params=t,t.min!=null&&e.setMin(t.min),t.max!=null&&e.setMax(t.max),t.step!=null&&e.setStep(t.step)}getValue(){const e=this.eInput.getDate();return!Vu(e)&&!Vu(this.params.value)?this.params.value:e??null}getStartValue(){const{value:e}=this.params;if(e instanceof Date)return Q(e,!1)}},jl=class extends zy{constructor(){super(new el)}},bu=class{constructor(e){this.getDataTypeService=e}getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[X]}init(e,t){this.eInput=e,this.params=t,t.min!=null&&e.setMin(t.min),t.max!=null&&e.setMax(t.max),t.step!=null&&e.setStep(t.step)}getValue(){const e=this.formatDate(this.eInput.getDate());return!Vu(e)&&!Vu(this.params.value)?this.params.value:this.params.parseValue(e??"")}getStartValue(){return Q(this.parseDate(this.params.value??void 0)??null,!1)}parseDate(e){const t=this.getDataTypeService();return t?t.getDateParserFunction(this.params.column)(e):q(e)??void 0}formatDate(e){const t=this.getDataTypeService();return t?t.getDateFormatterFunction(this.params.column)(e):Q(e??null,!1)??void 0}},xd=class extends zy{wireBeans(e){this.dataTypeService=e.dataTypeService}constructor(){super(new bu(()=>this.dataTypeService))}},xh=class extends r1{constructor(){super(`
            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[z1]),this.eCheckbox=Dp}init(e){this.params=e;const t=e.value??void 0;this.eCheckbox.setValue(t),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(t),this.addManagedListeners(this.eCheckbox,{fieldValueChanged:u=>this.setAriaLabel(u.selected)})}getValue(){return this.eCheckbox.getValue()}focusIn(){this.eCheckbox.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){const t=this.localeService.getLocaleTextFunc(),a=z0(t,e),u=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(`${u} (${a})`)}},Lh=class{constructor(e){this.cellValueChanges=e}},xf=class extends Lh{constructor(e,t,a,u){super(e),this.initialRange=t,this.finalRange=a,this.ranges=u}},cp=10,pp=class{constructor(e){this.actionStack=[],this.maxStackSize=e||cp,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}},lp=class extends Nh{constructor(){super(...arguments),this.beanName="undoRedoService",this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.onCellValueChanged=e=>{const t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},a=this.activeCellEdit!==null&&this.cellPositionUtils.equals(this.activeCellEdit,t),u=this.activeRowEdit!==null&&this.rowPositionUtils.sameRow(this.activeRowEdit,t);if(!(a||u||this.isPasting||this.isRangeInAction))return;const{rowPinned:_,rowIndex:K,column:rt,oldValue:al,value:Ql}=e,Gu={rowPinned:_,rowIndex:K,columnId:rt.getColId(),newValue:Ql,oldValue:al};this.cellValueChanges.push(Gu)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}wireBeans(e){this.focusService=e.focusService,this.ctrlsService=e.ctrlsService,this.cellPositionUtils=e.cellPositionUtils,this.rowPositionUtils=e.rowPositionUtils,this.columnModel=e.columnModel,this.rangeService=e.rangeService}postConstruct(){if(!this.gos.get("undoRedoCellEditing"))return;const e=this.gos.get("undoRedoCellEditingLimit");if(e<=0)return;this.undoStack=new pp(e),this.redoStack=new pp(e),this.addListeners();const t=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:a=>{a.keepUndoRedoStack||this.clearStacks()},columnPivotModeChanged:t,newColumnsLoaded:t,columnGroupOpened:t,columnRowGroupChanged:t,columnMoved:t,columnPinned:t,columnVisible:t,rowDragEnd:t}),this.ctrlsService.whenReady(this,a=>{this.gridBodyCtrl=a.gridBodyCtrl})}getCurrentUndoStackSize(){return this.undoStack?this.undoStack.getCurrentStackSize():0}getCurrentRedoStackSize(){return this.redoStack?this.redoStack.getCurrentStackSize():0}undo(e){this.eventService.dispatchEvent({type:"undoStarted",source:e});const t=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo");this.eventService.dispatchEvent({type:"undoEnded",source:e,operationPerformed:t})}redo(e){this.eventService.dispatchEvent({type:"redoStarted",source:e});const t=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo");this.eventService.dispatchEvent({type:"redoEnded",source:e,operationPerformed:t})}undoRedo(e,t,a,u,g){if(!e)return!1;const _=e.pop();return!_||!_.cellValueChanges?!1:(this.processAction(_,K=>K[u],g),_ instanceof xf?this.processRange(this.rangeService,_.ranges||[_[a]]):this.processCell(_.cellValueChanges),t.push(_),!0)}processAction(e,t,a){e.cellValueChanges.forEach(u=>{const{rowIndex:g,rowPinned:_,columnId:K}=u,rt={rowIndex:g,rowPinned:_},al=this.rowPositionUtils.getRowNode(rt);al.displayed&&al.setDataValue(K,t(u),a)})}processRange(e,t){let a;e.removeAllCellRanges(!0),t.forEach((u,g)=>{if(!u)return;const _=u.startRow,K=u.endRow;g===t.length-1&&(a={rowPinned:_.rowPinned,rowIndex:_.rowIndex,columnId:u.startColumn.getColId()},this.setLastFocusedCell(a));const rt={rowStartIndex:_.rowIndex,rowStartPinned:_.rowPinned,rowEndIndex:K.rowIndex,rowEndPinned:K.rowPinned,columnStart:u.startColumn,columns:u.columns};e.addCellRange(rt)})}processCell(e){const t=e[0],{rowIndex:a,rowPinned:u}=t,g={rowIndex:a,rowPinned:u},_=this.rowPositionUtils.getRowNode(g),K={rowPinned:t.rowPinned,rowIndex:_.rowIndex,columnId:t.columnId};this.setLastFocusedCell(K,this.rangeService)}setLastFocusedCell(e,t){const{rowIndex:a,columnId:u,rowPinned:g}=e,_=this.gridBodyCtrl.getScrollFeature(),K=this.columnModel.getCol(u);if(!K)return;_.ensureIndexVisible(a),_.ensureColumnVisible(K);const rt={rowIndex:a,column:K,rowPinned:g};this.focusService.setFocusedCell({...rt,forceBrowserFocus:!0}),t?.setRangeToCell(rt)}addListeners(){this.addManagedEventListeners({rowEditingStarted:e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}},rowEditingStopped:()=>{const e=new Lh(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null},cellEditingStarted:e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}},cellEditingStopped:e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const a=new Lh(this.cellValueChanges);this.pushActionsToUndoStack(a)}},pasteStart:()=>{this.isPasting=!0},pasteEnd:()=>{const e=new Lh(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1},fillStart:()=>{this.isRangeInAction=!0},fillEnd:e=>{const t=new xf(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0},keyShortcutChangedCellEnd:()=>{let e;this.rangeService&&hp(this.gos)?e=new xf(this.cellValueChanges,void 0,void 0,[...this.rangeService.getCellRanges()]):e=new Lh(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1}})}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}};function Zp(e){return e.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition()}function o0(e){return e.ctrlsService.getGridBodyCtrl().getScrollFeature().getHScrollPosition()}function s0(e,t,a="auto"){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(t,a),"ensureVisible")}function xm(e,t,a){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureIndexVisible(t,a),"ensureVisible")}function df(e,t,a=null){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureNodeVisible(t,a),"ensureVisible")}function Wh(e){e.undoRedoService?.undo("api")}function gf(e){e.undoRedoService?.redo("api")}function Sp(e,t={}){return e.rowRenderer.getCellEditorInstances(t).map(gv)}function a0(e){return e.rowRenderer.getEditingCells()}function S0(e,t=!1){e.rowRenderer.stopEditing(t)}function g0(e,t){const a=e.columnModel.getCol(t.colKey);if(!a){ie(`no column found for ${t.colKey}`);return}const u={rowIndex:t.rowIndex,rowPinned:t.rowPinned||null,column:a};t.rowPinned==null&&xm(e,t.rowIndex),s0(e,t.colKey);const _=e.navigationService.getCellByPosition(u);if(!_)return;const{focusService:K,gos:rt}=e,al=()=>{const Gu=Gp(rt),Wu=_.getGui();return Gu!==Wu&&!!Wu?.contains(Gu)},Ql=rt.get("stopEditingWhenCellsLoseFocus")&&al();(Ql||!K.isCellFocused(u))&&K.setFocusedCell({...u,forceBrowserFocus:Ql,preventScrollOnBrowserFocus:!0}),_.startRowOrCellEdit(t.key)}function $0(e){return e.undoRedoService?.getCurrentUndoStackSize()??0}function Im(e){return e.undoRedoService?.getCurrentRedoStackSize()??0}var Ug=class extends Nh{constructor(){super(...arguments),this.beanName="editService"}wireBeans(e){this.navigationService=e.navigationService,this.userComponentFactory=e.userComponentFactory,this.valueService=e.valueService}startEditing(e,t=null,a=!1,u=null){const g=this.createCellEditorParams(e,t,a),_=e.getColumn().getColDef(),K=this.userComponentFactory.getCellEditorDetails(_,g),rt=K?.popupFromSelector!=null?K.popupFromSelector:!!_.cellEditorPopup,al=K?.popupPositionFromSelector!=null?K.popupPositionFromSelector:_.cellEditorPopupPosition;return e.setEditing(!0,K),e.getComp().setEditDetails(K,rt,al,this.gos.get("reactiveCustomComponents")),this.eventService.dispatchEvent(e.createEvent(u,"cellEditingStarted")),!K?.params?.suppressPreventDefault}stopEditing(e,t){const a=e.getComp(),{newValue:u,newValueExists:g}=this.takeValueFromCellEditor(t,a),_=e.getRowNode(),K=e.getColumn(),rt=this.valueService.getValueForDisplay(K,_);let al=!1;return g&&(al=this.saveNewValue(e,rt,u,_,K)),e.setEditing(!1,void 0),a.setEditDetails(),e.updateAndFormatValue(!1),e.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.eventService.dispatchEvent({...e.createEvent(null,"cellEditingStopped"),oldValue:rt,newValue:u,valueChanged:al}),al}handleColDefChanged(e){const t=e.getCellEditor();if(t?.refresh){const{eventKey:a,cellStartedEdit:u}=e.getEditCompDetails().params,g=this.createCellEditorParams(e,a,u),_=e.getColumn().getColDef(),K=this.userComponentFactory.getCellEditorDetails(_,g);t.refresh(K.params)}}setFocusOutOnEditor(e){const t=e.getComp().getCellEditor();t&&t.focusOut&&t.focusOut()}setFocusInOnEditor(e){const t=e.getComp(),a=t.getCellEditor();a?.focusIn?a.focusIn():(e.focusCell(!0),e.onCellEditorAttached(()=>t.getCellEditor()?.focusIn?.()))}stopEditingAndFocus(e,t=!1,a=!1){e.stopRowOrCellEdit(),e.focusCell(!0),t||this.navigateAfterEdit(a,e.getCellPosition())}createPopupEditorWrapper(e){return new p3(e)}takeValueFromCellEditor(e,t){const a={newValueExists:!1};if(e)return a;const u=t.getCellEditor();return!u||u.isCancelAfterEnd&&u.isCancelAfterEnd()?a:{newValue:u.getValue(),newValueExists:!0}}saveNewValue(e,t,a,u,g){if(a===t)return!1;e.setSuppressRefreshCell(!0);const _=u.setDataValue(g,a,"edit");return e.setSuppressRefreshCell(!1),_}createCellEditorParams(e,t,a){const u=e.getColumn(),g=e.getRowNode();return this.gos.addGridCommonParams({value:this.valueService.getValueForDisplay(u,g),eventKey:t,column:u,colDef:u.getColDef(),rowIndex:e.getCellPosition().rowIndex,node:g,data:g.data,cellStartedEdit:a,onKeyDown:e.onKeyDown.bind(e),stopEditing:e.stopEditingAndFocus.bind(e),eGridCell:e.getGui(),parseValue:_=>this.valueService.parseValue(u,g,_,e.getValue()),formatValue:e.formatValue.bind(e)})}navigateAfterEdit(e,t){if(this.gos.get("enterNavigatesVerticallyAfterEdit")){const u=e?pf.UP:pf.DOWN;this.navigationService.navigateToNextCell(null,u,t,!1)}}},yv=class extends Nh{constructor(){super(...arguments),this.beanName="rowEditService"}startEditing(e,t=null,a=null,u=null){let g=!0;return e.getAllCellCtrls().reduce((K,rt)=>{const al=rt===a;return al?g=rt.startEditing(t,al,u):rt.startEditing(null,al,u),K?!0:rt.isEditing()},!1)&&this.setEditing(e,!0),g}stopEditing(e,t=!1){const a=e.getAllCellCtrls(),u=e.isEditing();e.setStoppingRowEdit(!0);let g=!1;for(const _ of a){const K=_.stopEditing(t);u&&!t&&!g&&K&&(g=!0)}g&&this.eventService.dispatchEvent(e.createRowEvent("rowValueChanged")),u&&this.setEditing(e,!1),e.setStoppingRowEdit(!1)}setEditing(e,t){e.setEditingRow(t),e.forEachGui(void 0,u=>u.rowComp.addOrRemoveCssClass("ag-row-editing",t));const a=t?e.createRowEvent("rowEditingStarted"):e.createRowEvent("rowEditingStopped");this.eventService.dispatchEvent(a)}},av={version:kl,moduleName:"@ag-grid-community/edit-core",beans:[Ug]},ob={version:kl,moduleName:"@ag-grid-community/edit-api",apiFunctions:{undoCellEditing:Wh,redoCellEditing:gf,getCellEditorInstances:Sp,getEditingCells:a0,stopEditing:S0,startEditingCell:g0,getCurrentUndoSize:$0,getCurrentRedoSize:Im},dependantModules:[av]},ab={version:kl,moduleName:"@ag-grid-community/undo-redo-edit",beans:[lp],dependantModules:[av]},sb={version:kl,moduleName:"@ag-grid-community/full-row-edit",beans:[yv],dependantModules:[av]},mx={version:kl,moduleName:"@ag-grid-community/default-editor",userComponents:[{name:"agCellEditor",classImp:v2}],dependantModules:[av]},lb={version:kl,moduleName:"@ag-grid-community/data-type-editors",userComponents:[{name:"agTextCellEditor",classImp:v2},{name:"agNumberCellEditor",classImp:m,params:{suppressPreventDefault:!0}},{name:"agDateCellEditor",classImp:jl},{name:"agDateStringCellEditor",classImp:xd},{name:"agCheckboxCellEditor",classImp:xh}],dependantModules:[mx]},N3={version:kl,moduleName:"@ag-grid-community/select-editor",userComponents:[{name:"agSelectCellEditor",classImp:Oy}],dependantModules:[av]},B3={version:kl,moduleName:"@ag-grid-community/large-text-editor",userComponents:[{name:"agLargeTextCellEditor",classImp:U2}],dependantModules:[av]},ub={version:kl,moduleName:"@ag-grid-community/all-editors",dependantModules:[mx,lb,N3,B3]},cb={version:kl,moduleName:"@ag-grid-community/editing",dependantModules:[av,ab,sb,ub,ob]},vx=class extends Nh{constructor(){super(...arguments),this.beanName="autoWidthCalculator"}wireBeans(e){this.rowRenderer=e.rowRenderer,this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.centerRowContainerCtrl=e.center})}getPreferredWidthForColumn(e,t){const a=this.getHeaderCellForColumn(e);if(!a)return-1;const u=this.rowRenderer.getAllCellsForColumn(e);return t||u.push(a),this.addElementsToContainerAndGetWidth(u)}getPreferredWidthForColumnGroup(e){const t=this.getHeaderCellForColumn(e);return t?this.addElementsToContainerAndGetWidth([t]):-1}addElementsToContainerAndGetWidth(e){const t=document.createElement("form");t.style.position="fixed";const a=this.centerRowContainerCtrl.getContainerElement();e.forEach(_=>this.cloneItemIntoDummy(_,t)),a.appendChild(t);const u=t.offsetWidth;a.removeChild(t);const g=this.getAutoSizePadding();return u+g}getAutoSizePadding(){return this.gos.get("autoSizePadding")}getHeaderCellForColumn(e){let t=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(a=>{const u=a.getHtmlElementForColumnHeader(e);u!=null&&(t=u)}),t}cloneItemIntoDummy(e,t){const a=e.cloneNode(!0);a.style.width="",a.style.position="static",a.style.left="";const u=document.createElement("div"),g=u.classList;["ag-header-cell","ag-header-group-cell"].some(rt=>a.classList.contains(rt))?(g.add("ag-header","ag-header-row"),u.style.position="static"):g.add("ag-row");let K=e.parentElement;for(;K;){if(["ag-header-row","ag-row"].some(al=>K.classList.contains(al))){for(let al=0;al<K.classList.length;al++){const Ql=K.classList[al];Ql!="ag-row-position-absolute"&&g.add(Ql)}break}K=K.parentElement}u.appendChild(a),t.appendChild(u)}},db=class extends Nh{constructor(e,t){super(),this.createRowCon=e,this.destroyRowCtrls=t,this.stickyTopRowCtrls=[],this.stickyBottomRowCtrls=[],this.extraTopHeight=0,this.extraBottomHeight=0}wireBeans(e){this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer,this.ctrlsService=e.ctrlsService,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.isClientSide=Dd(this.gos),this.ctrlsService.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl}),this.resetStickyContainers()}getStickyTopRowCtrls(){return this.stickyTopRowCtrls}getStickyBottomRowCtrls(){return this.stickyBottomRowCtrls}setOffsetTop(e){this.extraTopHeight!==e&&(this.extraTopHeight=e,this.eventService.dispatchEvent({type:"stickyTopOffsetChanged",offset:e}))}setOffsetBottom(e){this.extraBottomHeight!==e&&(this.extraBottomHeight=e)}resetOffsets(){this.setOffsetBottom(0),this.setOffsetTop(0)}getExtraTopHeight(){return this.extraTopHeight}getExtraBottomHeight(){return this.extraBottomHeight}getLastPixelOfGroup(e){return this.isClientSide?this.getClientSideLastPixelOfGroup(e):this.getServerSideLastPixelOfGroup(e)}getFirstPixelOfGroup(e){return e.footer?e.sibling.rowTop+e.sibling.rowHeight-1:e.hasChildren()?e.rowTop-1:0}getServerSideLastPixelOfGroup(e){if(this.isClientSide)throw new Error("This func should only be called in server side row model.");if(e.isExpandable()||e.footer){if(e.master)return e.detailNode.rowTop+e.detailNode.rowHeight;if(!e.sibling||Math.abs(e.sibling.rowIndex-e.rowIndex)===1){let a=e.childStore?.getStoreBounds();return e.footer&&(a=e.sibling.childStore?.getStoreBounds()),(a?.heightPx??0)+(a?.topPx??0)}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}getClientSideLastPixelOfGroup(e){if(!this.isClientSide)throw new Error("This func should only be called in client side row model.");if(e.isExpandable()||e.footer){if(e.footer&&e.rowIndex===0)return Number.MAX_SAFE_INTEGER;if(!e.sibling||Math.abs(e.sibling.rowIndex-e.rowIndex)===1){let u=e.footer?e.sibling:e;for(;u.isExpandable()&&u.expanded;)if(u.master)u=u.detailNode;else if(u.childrenAfterSort){if(u.childrenAfterSort.length===0)break;u=Pp(u.childrenAfterSort)}return u.rowTop+u.rowHeight}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}updateStickyRows(e){const t=e==="top";let a=0;if(!this.canRowsBeSticky())return this.refreshNodesAndContainerHeight(e,new Set,a);const u=t?this.rowRenderer.getFirstVisibleVerticalPixel()-this.extraTopHeight:this.rowRenderer.getLastVisibleVerticalPixel()-this.extraTopHeight,g=new Set,_=Ql=>{if(g.add(Ql),t){const Gu=this.getLastPixelOfGroup(Ql),Wu=u+a+Ql.rowHeight;Gu<Wu?Ql.stickyRowTop=a+(Gu-Wu):Ql.stickyRowTop=a}else{const Gu=this.getFirstPixelOfGroup(Ql),Wu=u-(a+Ql.rowHeight);Gu>Wu?Ql.stickyRowTop=a-(Gu-Wu):Ql.stickyRowTop=a}a=0,g.forEach(Gu=>{const Wu=Gu.stickyRowTop+Gu.rowHeight;a<Wu&&(a=Wu)})},K=this.areFooterRowsStickySuppressed(),rt=this.gos.get("suppressGroupRowsSticky"),al=Ql=>{if(!Ql.displayed)return!1;if(Ql.footer){if(K===!0||K==="grand"&&Ql.level===-1||K==="group"&&Ql.level>-1)return!1;const Gu=Ql.sibling.rowIndex?Ql.sibling.rowIndex+1===Ql.rowIndex:!1;return e==="bottom"&&Gu?!1:!g.has(Ql)}return Ql.isExpandable()?rt===!0||e==="bottom"?!1:!g.has(Ql)&&Ql.expanded:!1};for(let Ql=0;Ql<100;Ql++){let Gu=u+a;t||(Gu=u-a);const Wu=this.rowModel.getRowIndexAtPixel(Gu),id=this.rowModel.getRow(Wu);if(id==null)break;const Qh=this.getStickyAncestors(id).find(tf=>(t?tf.rowIndex<Wu:tf.rowIndex>Wu)&&al(tf));if(Qh){_(Qh);continue}if((t?id.rowTop<Gu:id.rowTop+id.rowHeight>Gu)&&al(id)){_(id);continue}break}return t||g.forEach(Ql=>{Ql.stickyRowTop=a-(Ql.stickyRowTop+Ql.rowHeight)}),this.refreshNodesAndContainerHeight(e,g,a)}areFooterRowsStickySuppressed(){const e=this.gos.get("suppressStickyTotalRow");if(e===!0)return!0;const t=!!this.gos.get("groupIncludeFooter")||e==="group",a=!!this.gos.get("groupIncludeTotalFooter")||e==="grand";return t&&a?!0:a?"grand":t?"group":!1}canRowsBeSticky(){const e=n0(this.gos),t=this.areFooterRowsStickySuppressed(),a=this.gos.get("suppressGroupRowsSticky");return e&&(!t||!a)}getStickyAncestors(e){const t=[];let a=e.footer?e.sibling:e.parent;for(;a;)a.sibling&&t.push(a.sibling),t.push(a),a=a.parent;return t.reverse()}checkStickyRows(){const e=this.updateStickyRows("top"),t=this.updateStickyRows("bottom");return e||t}destroyStickyCtrls(){this.resetStickyContainers()}resetStickyContainers(){this.refreshNodesAndContainerHeight("top",new Set,0),this.refreshNodesAndContainerHeight("bottom",new Set,0)}refreshStickyNode(e){const t=new Set;if(this.stickyTopRowCtrls.some(a=>a.getRowNode()===e)){for(let a=0;a<this.stickyTopRowCtrls.length;a++){const u=this.stickyTopRowCtrls[a].getRowNode();u!==e&&t.add(u)}this.refreshNodesAndContainerHeight("top",t,this.topContainerHeight)&&this.checkStickyRows();return}for(let a=0;a<this.stickyBottomRowCtrls.length;a++){const u=this.stickyBottomRowCtrls[a].getRowNode();u!==e&&t.add(u)}this.refreshNodesAndContainerHeight("bottom",t,this.bottomContainerHeight)&&this.checkStickyRows()}refreshNodesAndContainerHeight(e,t,a){const u=e==="top",g=u?this.stickyTopRowCtrls:this.stickyBottomRowCtrls,_={},K=[];for(let id=0;id<g.length;id++){const uh=g[id].getRowNode();if(!t.has(uh)){_[uh.id]=g[id],uh.sticky=!1;continue}K.push(g[id])}const rt=new Set;for(let id=0;id<K.length;id++)rt.add(K[id].getRowNode());const al=[];t.forEach(id=>{rt.has(id)||(id.sticky=!0,al.push(this.createRowCon(id,!1,!1)))});let Ql=!!al.length||K.length!==g.length;u?this.topContainerHeight!==a&&(this.topContainerHeight=a,this.gridBodyCtrl.setStickyTopHeight(a),Ql=!0):this.bottomContainerHeight!==a&&(this.bottomContainerHeight=a,this.gridBodyCtrl.setStickyBottomHeight(a),Ql=!0),this.destroyRowCtrls(_,!1);const Gu=[...K,...al];Gu.sort((id,uh)=>uh.getRowNode().rowIndex-id.getRowNode().rowIndex),u||Gu.reverse(),Gu.forEach(id=>id.setRowTop(id.getRowNode().stickyRowTop));let Wu=0;return u?(t.forEach(id=>{id.rowIndex<this.pageBoundsService.getFirstRow()&&(Wu+=id.rowHeight)}),Wu>this.topContainerHeight&&(Wu=this.topContainerHeight),this.setOffsetTop(Wu)):(t.forEach(id=>{id.rowIndex>this.pageBoundsService.getLastRow()&&(Wu+=id.rowHeight)}),Wu>this.bottomContainerHeight&&(Wu=this.bottomContainerHeight),this.setOffsetBottom(Wu)),Ql?(u?this.stickyTopRowCtrls=Gu:this.stickyBottomRowCtrls=Gu,!0):!1}ensureRowHeightsValid(){let e=!1;const t=a=>{const u=a.getRowNode();if(u.rowHeightEstimated){const g=yh(this.gos,u);u.setRowHeight(g.height),e=!0}};return this.stickyTopRowCtrls.forEach(t),this.stickyBottomRowCtrls.forEach(t),e}},H3=class extends Nh{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const e=()=>{this.getAllCellCtrls().forEach(_=>_.onCellSelectionChanged())},t=()=>{this.getAllCellCtrls().forEach(_=>_.updateRangeBordersIfRangeCount())},a=()=>{this.eventService.addEventListener("cellSelectionChanged",e),this.eventService.addEventListener("columnMoved",t),this.eventService.addEventListener("columnPinned",t),this.eventService.addEventListener("columnVisible",t)},u=()=>{this.eventService.removeEventListener("cellSelectionChanged",e),this.eventService.removeEventListener("columnMoved",t),this.eventService.removeEventListener("columnPinned",t),this.eventService.removeEventListener("columnVisible",t)};this.addDestroyFunc(()=>u()),this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{hp(this.gos)?a():u()}),hp(this.gos)&&a()}}wireBeans(e){this.animationFrameService=e.animationFrameService,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusService=e.focusService,this.beans=e,this.rowContainerHeightService=e.rowContainerHeightService,this.ctrlsService=e.ctrlsService,this.environment=e.environment}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()})}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListener("suppressCellFocus",e=>this.onSuppressCellFocusChanged(e.currentValue)),this.addManagedPropertyListeners(["groupSuppressBlankHeader","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection","rowSelection"],()=>this.redrawRows()),n0(this.gos)&&(Dd(this.gos)||mh(this.gos))&&(this.stickyRowFeature=this.createManagedBean(new db(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this)))),this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=gd(this.gos,"print"),this.embedFullWidthRows=this.printLayout||this.gos.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){const e=this.getKeepDetailRowsCount(),t=e??3;this.cachedRowCtrls=new hb(t)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyTopRowCtrls():[]}getStickyBottomRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyBottomRowCtrls():[]}updateAllRowCtrls(){const e=ll(this.rowCtrlsByRowIndex),t=ll(this.zombieRowCtrls),a=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];t.length>0||a.length>0?this.allRowCtrls=[...e,...t,...a]:this.allRowCtrls=e}onCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onCellFocused(e)),this.getFullWidthRowCtrls().forEach(t=>t.onFullWidthRowFocused(e))}onSuppressCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onSuppressCellFocusChanged(e)),this.getFullWidthRowCtrls().forEach(t=>t.onSuppressCellFocusChanged(e))}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:e=>{this.onCellFocusChanged(e)},cellFocusCleared:()=>this.onCellFocusChanged(),flashCells:e=>{this.getAllCellCtrls().forEach(t=>t.onFlashCells(e))},columnHoverChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onColumnHover())},displayedColumnsChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onDisplayedColumnsChanged())},displayedColumnsWidthChanged:()=>{this.printLayout&&this.getAllCellCtrls().forEach(e=>e.onLeftChanged())}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(e=>e()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners(),this.columnModel.getCols().forEach(t=>{const a=al=>{this.getAllCellCtrls().forEach(Ql=>{Ql.getColumn()===t&&al(Ql)})},u=()=>{a(al=>al.onLeftChanged())},g=()=>{a(al=>al.onWidthChanged())},_=()=>{a(al=>al.onFirstRightPinnedChanged())},K=()=>{a(al=>al.onLastLeftPinnedChanged())},rt=()=>{a(al=>al.onColDefChanged())};t.addEventListener("leftChanged",u),t.addEventListener("widthChanged",g),t.addEventListener("firstRightPinnedChanged",_),t.addEventListener("lastLeftPinnedChanged",K),t.addEventListener("colDefChanged",rt),this.destroyFuncsForColumnListeners.push(()=>{t.removeEventListener("leftChanged",u),t.removeEventListener("widthChanged",g),t.removeEventListener("firstRightPinnedChanged",_),t.removeEventListener("lastLeftPinnedChanged",K),t.removeEventListener("colDefChanged",rt)})})}onDomLayoutChanged(){const e=gd(this.gos,"print"),t=e||this.gos.get("embedFullWidthRows"),a=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,a&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){const t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}getAllCellsForColumn(e){const t=[];return this.getAllRowCtrls().forEach(a=>{const u=a.getCellElement(e);u&&t.push(u)}),t}refreshFloatingRowComps(){this.refreshFloatingRows(this.topRowCtrls,"top"),this.refreshFloatingRows(this.bottomRowCtrls,"bottom")}getTopRowCtrls(){return this.topRowCtrls}getCentreRowCtrls(){return this.allRowCtrls}getBottomRowCtrls(){return this.bottomRowCtrls}refreshFloatingRows(e,t){const{pinnedRowModel:a,beans:u,printLayout:g}=this,_=Object.fromEntries(e.map(rt=>[rt.getRowNode().id,rt]));a.forEachPinnedRow(t,(rt,al)=>{const Ql=e[al];Ql&&a.getPinnedRowById(Ql.getRowNode().id,t)===void 0&&(Ql.destroyFirstPass(),Ql.destroySecondPass()),rt.id in _?(e[al]=_[rt.id],delete _[rt.id]):e[al]=new Eg(rt,u,!1,!1,g)});const K=t==="top"?a.getPinnedTopRowCount():a.getPinnedBottomRowCount();e.length=K}onPinnedRowDataChanged(){const e={recycleRows:!0};this.redrawAfterModelUpdate(e)}redrawRow(e,t=!1){if(e.sticky)this.stickyRowFeature.refreshStickyNode(e);else if(this.cachedRowCtrls?.has(e)){this.cachedRowCtrls.removeRow(e);return}else{const a=u=>{const g=u[e.rowIndex];g&&g.getRowNode()===e&&(g.destroyFirstPass(),g.destroySecondPass(),u[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":a(this.topRowCtrls);break;case"bottom":a(this.bottomRowCtrls);break;default:a(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){if(e!=null){e?.forEach(a=>this.redrawRow(a,!0)),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}getCellToRestoreFocusToAfterRefresh(e){const t=e?.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(t==null)return null;const a=Gp(this.gos),u=Mp(this.gos,a,Dg.DOM_DATA_KEY_CELL_CTRL),g=Mp(this.gos,a,Eg.DOM_DATA_KEY_ROW_CTRL);return u||g?t:null}redrawAfterModelUpdate(e={}){this.getLockOnRefresh();const t=this.getCellToRestoreFocusToAfterRefresh(e);this.updateContainerHeights(),this.scrollToTopIfNewData(e);const a=!e.domLayoutChanged&&!!e.recycleRows,u=e.animate&&l0(this.gos),g=a?this.getRowsToRecycle():null;if(a||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature){this.stickyRowFeature.checkStickyRows();const _=this.stickyRowFeature.getExtraTopHeight()+this.stickyRowFeature.getExtraBottomHeight();_&&this.updateContainerHeights(_)}this.recycleRows(g,u),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),t!=null&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){const t=e.newData||e.newPage,a=this.gos.get("suppressScrollOnNewData");t&&!a&&(this.gridBodyCtrl.getScrollFeature().scrollToTop(),this.stickyRowFeature?.resetOffsets())}updateContainerHeights(e=0){if(this.printLayout){this.rowContainerHeightService.setModelHeight(null);return}let t=this.pageBoundsService.getCurrentPageHeight();t===0&&(t=1),this.rowContainerHeightService.setModelHeight(t+e)}getLockOnRefresh(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0,this.frameworkOverrides.getLockOnRefresh?.()}releaseLockOnRefresh(){this.refreshInProgress=!1,this.frameworkOverrides.releaseLockOnRefresh?.()}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){e&&this.focusService.restoreFocusedCell(e,()=>{this.onCellFocusChanged(this.gos.addGridCommonParams({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"}))})}stopEditing(e=!1){this.getAllRowCtrls().forEach(t=>{t.stopEditing(e)})}getAllCellCtrls(){const e=[],t=this.getAllRowCtrls(),a=t.length;for(let u=0;u<a;u++){const g=t[u].getAllCellCtrls(),_=g.length;for(let K=0;K<_;K++)e.push(g[K])}return e}getAllRowCtrls(){const e=this.stickyRowFeature&&this.stickyRowFeature.getStickyTopRowCtrls()||[],t=this.stickyRowFeature&&this.stickyRowFeature.getStickyBottomRowCtrls()||[],a=[...this.topRowCtrls,...this.bottomRowCtrls,...e,...t];for(const u in this.rowCtrlsByRowIndex)a.push(this.rowCtrlsByRowIndex[u]);return a}addRenderedRowListener(e,t,a){const u=this.rowCtrlsByRowIndex[t];u&&u.addEventListener(e,a)}flashCells(e={}){this.getCellCtrls(e.rowNodes,e.columns).forEach(t=>t.flashCell(e))}refreshCells(e={}){const t={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};for(const a of this.getCellCtrls(e.rowNodes,e.columns))a.refreshOrDestroyCell(t);this.refreshFullWidth(e.rowNodes)}refreshFullWidth(e){if(!e)return;let t=null;this.stickyRowFeature&&T2()&&(t=this.getCellToRestoreFocusToAfterRefresh()||null);for(const a of this.getRowCtrls(e)){if(!a.isFullWidth())continue;a.refreshFullWidth()||this.redrawRow(a.getRowNode(),!0)}this.dispatchDisplayedRowsChanged(!1),t&&this.restoreFocusedCell(t)}getCellRendererInstances(e){const t=this.getCellCtrls(e.rowNodes,e.columns).map(g=>g.getCellRenderer()).filter(g=>g!=null);if(e.columns?.length)return t;const a=[],u=this.mapRowNodes(e.rowNodes);return this.getAllRowCtrls().forEach(g=>{if(u&&!this.isRowInMap(g.getRowNode(),u)||!g.isFullWidth())return;const _=g.getFullWidthCellRenderers();for(let K=0;K<_.length;K++){const rt=_[K];rt!=null&&a.push(rt)}}),[...a,...t]}getCellEditorInstances(e){const t=[];return this.getCellCtrls(e.rowNodes,e.columns).forEach(a=>{const u=a.getCellEditor();u&&t.push(u)}),t}getEditingCells(){const e=[];return this.getAllCellCtrls().forEach(t=>{if(t.isEditing()){const a=t.getCellPosition();e.push(a)}}),e}mapRowNodes(e){if(!e)return;const t={top:{},bottom:{},normal:{}};return e.forEach(a=>{const u=a.id;switch(a.rowPinned){case"top":t.top[u]=a;break;case"bottom":t.bottom[u]=a;break;default:t.normal[u]=a;break}}),t}isRowInMap(e,t){const a=e.id;switch(e.rowPinned){case"top":return t.top[a]!=null;case"bottom":return t.bottom[a]!=null;default:return t.normal[a]!=null}}getRowCtrls(e){const t=this.mapRowNodes(e),a=this.getAllRowCtrls();return!e||!t?a:a.filter(u=>{const g=u.getRowNode();return this.isRowInMap(g,t)})}getCellCtrls(e,t){let a;Vu(t)&&(a={},t.forEach(g=>{const _=this.columnModel.getCol(g);Vu(_)&&(a[_.getId()]=!0)}));const u=[];return this.getRowCtrls(e).forEach(g=>{g.getAllCellCtrls().forEach(_=>{const K=_.getColumn().getId();a&&!a[K]||u.push(_)})}),u}destroy(){this.removeAllRowComps(!0),super.destroy()}removeAllRowComps(e=!1){const t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t,e),this.stickyRowFeature&&this.stickyRowFeature.destroyStickyCtrls()}getRowsToRecycle(){const e=[];Me(this.rowCtrlsByRowIndex,(a,u)=>{u.getRowNode().id==null&&e.push(a)}),this.removeRowCtrls(e);const t={};return Me(this.rowCtrlsByRowIndex,(a,u)=>{const g=u.getRowNode();t[g.id]=u}),this.rowCtrlsByRowIndex={},t}removeRowCtrls(e,t=!1){e.forEach(a=>{const u=this.rowCtrlsByRowIndex[a];u&&(u.destroyFirstPass(t),u.destroySecondPass()),delete this.rowCtrlsByRowIndex[a]})}onBodyScroll(e){e.direction==="vertical"&&this.redraw({afterScroll:!0})}redraw(e={}){const{afterScroll:t}=e;let a;this.stickyRowFeature&&T2()&&(a=this.getCellToRestoreFocusToAfterRefresh()||void 0);const u=this.firstRenderedRow,g=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let _=!1;if(this.stickyRowFeature){_=this.stickyRowFeature.checkStickyRows();const rt=this.stickyRowFeature.getExtraTopHeight()+this.stickyRowFeature.getExtraBottomHeight();rt&&this.updateContainerHeights(rt)}const K=this.firstRenderedRow!==u||this.lastRenderedRow!==g;if(!(t&&!_&&!K)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,t),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(t&&!_),a!=null)){const rt=this.getCellToRestoreFocusToAfterRefresh();a!=null&&rt==null&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(a))}}removeRowCompsNotToDraw(e,t){const a={};e.forEach(_=>a[_]=!0);const g=Object.keys(this.rowCtrlsByRowIndex).filter(_=>!a[_]);this.removeRowCtrls(g,t)}calculateIndexesToDraw(e){const t=W(this.firstRenderedRow,this.lastRenderedRow),a=(g,_)=>{const K=_.getRowNode().rowIndex;K!=null&&(K<this.firstRenderedRow||K>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(_)&&t.push(K)};Me(this.rowCtrlsByRowIndex,a),Me(e,a),t.sort((g,_)=>g-_);const u=[];for(let g=0;g<t.length;g++){const _=t[g],K=this.rowModel.getRow(_);K&&!K.sticky&&u.push(_)}return u}recycleRows(e,t=!1,a=!1){const u=this.calculateIndexesToDraw(e);(this.printLayout||a)&&(t=!1),this.removeRowCompsNotToDraw(u,!t),u.forEach(g=>{this.createOrUpdateRowCtrl(g,e,t,a)}),e&&(a&&!this.gos.get("suppressAnimationFrame")&&!this.printLayout?this.beans.animationFrameService.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,t)),this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){this.eventService.dispatchEvent({type:"displayedRowsChanged",afterScroll:e})}onDisplayedColumnsChanged(){const e=this.visibleColsService.isPinningLeft(),t=this.visibleColsService.isPinningRight();(this.pinningLeft!==e||t!==this.pinningRight)&&(this.pinningLeft=e,this.pinningRight=t,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const e=[];this.getFullWidthRowCtrls().forEach(t=>{const a=t.getRowNode().rowIndex;e.push(a.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){const t=this.mapRowNodes(e);return this.getAllRowCtrls().filter(a=>{if(!a.isFullWidth())return!1;const u=a.getRowNode();return!(t!=null&&!this.isRowInMap(u,t))})}createOrUpdateRowCtrl(e,t,a,u){let g,_=this.rowCtrlsByRowIndex[e];if(_||(g=this.rowModel.getRow(e),Vu(g)&&Vu(t)&&t[g.id]&&g.alreadyRendered&&(_=t[g.id],t[g.id]=null)),!_)if(g||(g=this.rowModel.getRow(e)),Vu(g))_=this.createRowCon(g,a,u);else return;return g&&(g.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=_,_}destroyRowCtrls(e,t){const a=[];Me(e,(u,g)=>{if(g){if(this.cachedRowCtrls&&g.isCacheable()){this.cachedRowCtrls.addRow(g);return}if(g.destroyFirstPass(!t),t){const _=g.instanceId;this.zombieRowCtrls[_]=g,a.push(()=>{g.destroySecondPass(),delete this.zombieRowCtrls[_]})}else g.destroySecondPass()}}),t&&(a.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),$l(a))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){const e=this.getRowBuffer(),t=Ef(this.gos);return e*t}workOutFirstAndLastRowsToRender(){this.rowContainerHeightService.updateOffset();let e,t;if(!this.rowModel.isRowsToRender())e=0,t=-1;else if(this.printLayout)this.environment.refreshRowHeightVariable(),e=this.pageBoundsService.getFirstRow(),t=this.pageBoundsService.getLastRow();else{const rt=this.getRowBufferInPixels(),al=this.ctrlsService.getGridBodyCtrl(),Ql=this.gos.get("suppressRowVirtualisation");let Gu=!1,Wu,id;do{const Hf=this.pageBoundsService.getPixelOffset(),{pageFirstPixel:Vf,pageLastPixel:Bf}=this.pageBoundsService.getCurrentPagePixelRange(),Kp=this.rowContainerHeightService.getDivStretchOffset(),K0=al.getScrollFeature().getVScrollPosition(),h0=K0.top,x0=K0.bottom;Ql?(Wu=Vf+Kp,id=Bf+Kp):(Wu=Math.max(h0+Hf-rt,Vf)+Kp,id=Math.min(x0+Hf+rt,Bf)+Kp),this.firstVisibleVPixel=Math.max(h0+Hf,Vf)+Kp,this.lastVisibleVPixel=Math.min(x0+Hf,Bf)+Kp,Gu=this.ensureAllRowsInRangeHaveHeightsCalculated(Wu,id)}while(Gu);let uh=this.rowModel.getRowIndexAtPixel(Wu),Qh=this.rowModel.getRowIndexAtPixel(id);const uf=this.pageBoundsService.getFirstRow(),tf=this.pageBoundsService.getLastRow();uh<uf&&(uh=uf),Qh>tf&&(Qh=tf),e=uh,t=Qh}const a=gd(this.gos,"normal"),u=this.gos.get("suppressMaxRenderedRowRestriction"),g=Math.max(this.getRowBuffer(),500);a&&!u&&t-e>g&&(t=e+g);const _=e!==this.firstRenderedRow,K=t!==this.lastRenderedRow;(_||K)&&(this.firstRenderedRow=e,this.lastRenderedRow=t,this.eventService.dispatchEvent({type:"viewportChanged",firstRow:e,lastRow:t}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,window.requestAnimationFrame(()=>{this.beans.eventService.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})}))}ensureAllRowsInRangeHaveHeightsCalculated(e,t){const a=this.pinnedRowModel?.ensureRowHeightsValid(),u=this.stickyRowFeature?.ensureRowHeightsValid(),g=this.rowModel.ensureRowHeightsValid(e,t,this.pageBoundsService.getFirstRow(),this.pageBoundsService.getLastRow());return(g||u)&&this.eventService.dispatchEvent({type:"recalculateRowBounds"}),u||g||a?(this.updateContainerHeights(),!0):!1}getFirstVisibleVerticalPixel(){return this.firstVisibleVPixel}getLastVisibleVerticalPixel(){return this.lastVisibleVPixel}getFirstVirtualRenderedRow(){return this.firstRenderedRow}getLastVirtualRenderedRow(){return this.lastRenderedRow}doNotUnVirtualiseRow(e){const u=e.getRowNode(),g=this.focusService.isRowNodeFocused(u),_=e.isEditing(),K=u.detail;return g||_||K?!!this.isRowPresent(u):!1}isRowPresent(e){return this.rowModel.isRowPresent(e)?this.paginationService?this.paginationService.isRowPresent(e):!0:!1}createRowCon(e,t,a){const u=this.cachedRowCtrls?this.cachedRowCtrls.getRow(e):null;if(u)return u;const g=this.gos.get("suppressAnimationFrame"),_=a&&!g&&!this.printLayout;return new Eg(e,this.beans,t,_,this.printLayout)}getRenderedNodes(){const e=this.rowCtrlsByRowIndex;return Object.values(e).map(t=>t.getRowNode())}getRowByPosition(e){let t;const{rowIndex:a}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[a];break;case"bottom":t=this.bottomRowCtrls[a];break;default:t=this.rowCtrlsByRowIndex[a],t||(t=this.getStickyTopRowCtrls().find(u=>u.getRowNode().rowIndex===a)||null,t||(t=this.getStickyBottomRowCtrls().find(u=>u.getRowNode().rowIndex===a)||null));break}return t}isRangeInRenderedViewport(e,t){if(e==null||t==null)return!1;const u=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!u}},hb=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.getRowNode().id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){const t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}}getRow(e){if(e==null||e.id==null)return null;const t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.getRowNode()!=e?null:t):null}has(e){return this.entriesMap[e.id]!=null}removeRow(e){const t=e.id,a=this.entriesMap[t];delete this.entriesMap[t],Tg(this.entriesList,a)}removeFromCache(e){const t=e.getRowNode().id;delete this.entriesMap[t],Tg(this.entriesList,e)}getEntries(){return this.entriesList}},yx=class extends Nh{constructor(){super(...arguments),this.beanName="pinnedRowModel",this.nextId=0,this.pinnedTopRows=new g3,this.pinnedBottomRows=new g3}wireBeans(e){this.beans=e}postConstruct(){this.setPinnedRowData(this.gos.get("pinnedTopRowData"),"top"),this.setPinnedRowData(this.gos.get("pinnedBottomRowData"),"bottom"),this.addManagedPropertyListener("pinnedTopRowData",e=>this.setPinnedRowData(e.currentValue,"top")),this.addManagedPropertyListener("pinnedBottomRowData",e=>this.setPinnedRowData(e.currentValue,"bottom")),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this)})}isEmpty(e){return(e==="top"?this.pinnedTopRows:this.pinnedBottomRows).isEmpty()}isRowsToRender(e){return!this.isEmpty(e)}onGridStylesChanges(e){if(e.rowHeightChanged){const t=a=>{a.setRowHeight(a.rowHeight,!0)};this.pinnedBottomRows.forEach(t),this.pinnedTopRows.forEach(t)}}ensureRowHeightsValid(){let e=!1,t=0;const a=u=>{if(u.rowHeightEstimated){const g=yh(this.gos,u);u.setRowTop(t),u.setRowHeight(g.height),t+=g.height,e=!0}};return this.pinnedBottomRows?.forEach(a),t=0,this.pinnedTopRows?.forEach(a),this.eventService.dispatchEvent({type:"pinnedHeightChanged"}),e}setPinnedRowData(e,t){this.updateNodesFromRowData(e,t),this.eventService.dispatchEvent({type:"pinnedRowDataChanged"})}updateNodesFromRowData(e,t){const a=t==="top"?this.pinnedTopRows:this.pinnedBottomRows;if(e===void 0){a.clear();return}const u=hd(this.gos),g=t==="top"?T1.ID_PREFIX_TOP_PINNED:T1.ID_PREFIX_BOTTOM_PINNED,_=a.getIds(),K=[],rt=new Set;let al=0,Ql=-1;for(const Gu of e){const Wu=u?.({data:Gu,level:0,rowPinned:t})??g+this.nextId++;if(rt.has(Wu)){ie("Duplicate ID",Wu,"found for pinned row with data",Gu,"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter.");continue}Ql++,rt.add(Wu),K.push(Wu);const id=a.getById(Wu);if(id!==void 0)id.data!==Gu&&id.setData(Gu),al+=this.setRowTopAndRowIndex(id,al,Ql),_.delete(Wu);else{const uh=new T1(this.beans);uh.id=Wu,uh.data=Gu,uh.rowPinned=t,al+=this.setRowTopAndRowIndex(uh,al,Ql),a.push(uh)}}_.forEach(Gu=>{a.getById(Gu)?.clearRowTopAndRowIndex()}),a.removeAllById(_),a.setOrder(K)}setRowTopAndRowIndex(e,t,a){return e.setRowTop(t),e.setRowHeight(yh(this.gos,e).height),e.setRowIndex(a),e.rowHeight}getPinnedTopTotalHeight(){return this.getTotalHeight(this.pinnedTopRows)}getPinnedBottomTotalHeight(){return this.getTotalHeight(this.pinnedBottomRows)}getPinnedTopRowCount(){return this.pinnedTopRows.getSize()}getPinnedBottomRowCount(){return this.pinnedBottomRows.getSize()}getPinnedTopRow(e){return this.pinnedTopRows.getByIndex(e)}getPinnedBottomRow(e){return this.pinnedBottomRows.getByIndex(e)}getPinnedRowById(e,t){return t==="top"?this.pinnedTopRows.getById(e):this.pinnedBottomRows.getById(e)}forEachPinnedRow(e,t){return e==="top"?this.pinnedTopRows.forEach(t):this.pinnedBottomRows.forEach(t)}getTotalHeight(e){const t=e.getSize();if(t===0)return 0;const a=e.getByIndex(t-1);return a===void 0?0:a.rowTop+a.rowHeight}},g3=class{constructor(){this.cache={},this.ordering=[]}getById(e){return this.cache[e]}getByIndex(e){const t=this.ordering[e];return this.cache[t]}push(e){this.cache[e.id]=e,this.ordering.push(e.id)}removeAllById(e){for(const t of e)delete this.cache[t];this.ordering=this.ordering.filter(t=>!e.has(t))}setOrder(e){this.ordering=e}forEach(e){this.ordering.forEach((t,a)=>{const u=this.cache[t];u&&e(u,a)})}clear(){this.ordering.length=0,this.cache={}}isEmpty(){return this.ordering.length===0}getSize(){return this.ordering.length}getIds(){return new Set(this.ordering)}},G3=(e=>(e.Applied="Applied",e.StoreNotFound="StoreNotFound",e.StoreLoading="StoreLoading",e.StoreWaitingToLoad="StoreWaitingToLoad",e.StoreLoadingFailed="StoreLoadingFailed",e.StoreWrongType="StoreWrongType",e.Cancelled="Cancelled",e.StoreNotStarted="StoreNotStarted",e))(G3||{}),V3=class extends Nh{constructor(e){super(),this.state="needsLoading",this.version=0,this.id=e}getId(){return this.id}load(){this.state="loading",this.loadFromDatasource()}getVersion(){return this.version}setStateWaitingToLoad(){this.version++,this.state="needsLoading"}getState(){return this.state}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state="failed",this.processServerFail()),this.dispatchLoadCompleted(!1)}success(e,t){this.successCommon(e,t)}pageLoaded(e,t,a){this.successCommon(e,{rowData:t,rowCount:a})}isRequestMostRecentAndLive(e){const t=e===this.version,a=this.isAlive();return t&&a}successCommon(e,t){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(e)&&(this.state="loaded",this.processServerResult(t))}dispatchLoadCompleted(e=!0){const t={type:"loadComplete",success:e,block:this};this.dispatchLocalEvent(t)}},j3=class extends Nh{constructor(){super(...arguments),this.beanName="rowNodeBlockLoader",this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();const e=this.gos.get("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=Kl(this.performCheckBlocksToLoad.bind(this),e))}getMaxConcurrentDatasourceRequests(){const e=this.gos.get("maxConcurrentDatasourceRequests");if(e==null)return 2;if(!(e<=0))return e}addBlock(e){this.blocks.push(e),e.addEventListener("loadComplete",this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){Tg(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchLocalEvent({type:"blockLoaded"}),this.activeBlockLoadsCount==0&&this.dispatchLocalEvent({type:"blockLoaderFinished"})}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){this.gos.get("debug")&&ce("RowNodeBlockLoader - checkBlockToLoad: max loads exceeded");return}const e=this.getAvailableLoadingCount(),t=this.blocks.filter(a=>a.getState()==="needsLoading").slice(0,e);this.registerLoads(t.length),t.forEach(a=>a.load()),this.printCacheStatus()}getBlockState(){if(mh(this.gos))return this.rowModel.getBlockStates();const e={};return this.blocks.forEach(t=>{const{id:a,state:u}=t.getBlockStateJson();e[a]=u}),e}printCacheStatus(){this.gos.get("debug")&&ce(`RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}isLoading(){return this.activeBlockLoadsCount>0}registerLoads(e){this.activeBlockLoadsCount+=e}getAvailableLoadingCount(){return this.maxConcurrentRequests!==void 0?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0}},xx={version:kl,moduleName:"@ag-grid-community/row-node-block",beans:[j3]},fb=class{constructor(){this.root=null,this.end=null,this.cachedRange=[]}init(e){this.rowModel=e}reset(){this.root=null,this.end=null,this.cachedRange.length=0}setRoot(e){this.root=e,this.end=null,this.cachedRange.length=0}setEndRange(e){this.end=e,this.cachedRange.length=0}getRange(){if(this.cachedRange.length===0){const e=this.getRoot(),t=this.getEnd();if(e==null||t==null)return this.cachedRange;this.cachedRange=this.rowModel.getNodesInRangeForSelection(e,t)}return this.cachedRange}isInRange(e){return this.root===null?!1:this.getRange().some(t=>t.id===e.id)}getRoot(){return this.root&&this.root?.key===null&&(this.root=this.rowModel.getRowNode(this.root.id)??null),this.root}getEnd(){return this.end&&this.end?.key===null&&(this.end=this.rowModel.getRowNode(this.end.id)??null),this.end}truncate(e){const t=this.getRange();if(t.length===0)return{keep:[],discard:[]};const a=t[0].id===this.root.id,u=t.findIndex(g=>g.id===e.id);if(u>-1){const g=t.slice(0,u),_=t.slice(u+1);return this.setEndRange(e),a?{keep:g,discard:_}:{keep:_,discard:g}}else return{keep:t,discard:[]}}extend(e,t=!1){const a=this.getRoot();if(a==null){const g=this.getRange().slice();return t&&e.depthFirstSearch(_=>!_.group&&g.push(_)),g.push(e),this.setRoot(e),{keep:g,discard:[]}}if(this.rowModel.getNodesInRangeForSelection(a,e).find(g=>g.id===this.end?.id))return this.setEndRange(e),{keep:this.getRange(),discard:[]};{const g=this.getRange().slice();return this.setEndRange(e),{keep:this.getRange(),discard:g}}}},U3=class extends Nh{constructor(){super(...arguments),this.beanName="stylingService"}wireBeans(e){this.expressionService=e.expressionService}processAllCellClasses(e,t,a,u){this.processClassRules(void 0,e.cellClassRules,t,a,u),this.processStaticCellClasses(e,t,a)}processClassRules(e,t,a,u,g){if(t==null&&e==null)return;const _={},K={},rt=(al,Ql)=>{al.split(" ").forEach(Gu=>{Gu.trim()!=""&&Ql(Gu)})};if(t){const al=Object.keys(t);for(let Ql=0;Ql<al.length;Ql++){const Gu=al[Ql],Wu=t[Gu];let id;typeof Wu=="string"?id=this.expressionService.evaluate(Wu,a):typeof Wu=="function"&&(id=Wu(a)),rt(Gu,uh=>{id?_[uh]=!0:K[uh]=!0})}}e&&g&&Object.keys(e).forEach(al=>rt(al,Ql=>{_[Ql]||(K[Ql]=!0)})),g&&Object.keys(K).forEach(g),Object.keys(_).forEach(u)}getStaticCellClasses(e,t){const{cellClass:a}=e;if(!a)return[];let u;return typeof a=="function"?u=a(t):u=a,typeof u=="string"&&(u=[u]),u||[]}processStaticCellClasses(e,t,a){this.getStaticCellClasses(e,t).forEach(g=>{a(g)})}},W3=class extends A1{constructor(e){super(e,"ag-toggle-button")}setValue(e,t){return super.setValue(e,t),this.addOrRemoveCssClass("ag-selected",this.getValue()),this}},bx={selector:"AG-TOGGLE-BUTTON",component:W3},m3=(e=>(e.TAB_GUARD="ag-tab-guard",e.TAB_GUARD_TOP="ag-tab-guard-top",e.TAB_GUARD_BOTTOM="ag-tab-guard-bottom",e))(m3||{}),v3=class extends Nh{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;const{comp:t,eTopGuard:a,eBottomGuard:u,focusTrapActive:g,forceFocusOutWhenTabGuardsAreEmpty:_,isFocusableContainer:K,focusInnerElement:rt,onFocusIn:al,onFocusOut:Ql,shouldStopEventPropagation:Gu,onTabKeyDown:Wu,handleKeyDown:id,eFocusableElement:uh}=e;this.comp=t,this.eTopGuard=a,this.eBottomGuard=u,this.providedFocusInnerElement=rt,this.eFocusableElement=uh,this.focusTrapActive=!!g,this.forceFocusOutWhenTabGuardsAreEmpty=!!_,this.isFocusableContainer=!!K,this.providedFocusIn=al,this.providedFocusOut=Ql,this.providedShouldStopEventPropagation=Gu,this.providedOnTabKeyDown=Wu,this.providedHandleKeyDown=id}wireBeans(e){this.focusService=e.focusService}postConstruct(){this.createManagedBean(new c1(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(e=>this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)}))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;const e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&this.focusService.findFocusableElements(this.eFocusableElement,".ag-tab-guard").length===0){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;const t=e.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t)}findNextElementOutsideAndFocus(e){const t=Fp(this.gos),a=this.focusService.findFocusableElements(t.body,null,!0),u=a.indexOf(e?this.eTopGuard:this.eBottomGuard);if(u===-1)return;let g,_;e?(g=0,_=u):(g=u+1,_=a.length);const K=a.slice(g,_),rt=this.gos.get("tabIndex");K.sort((al,Ql)=>{const Gu=parseInt(al.getAttribute("tabindex")||"0"),Wu=parseInt(Ql.getAttribute("tabindex")||"0");return Wu===rt?1:Gu===rt?-1:Gu===0?1:Wu===0?-1:Gu-Wu}),K[e?K.length-1:0]?.focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(this.focusTrapActive||e.defaultPrevented)return;const t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();const a=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),a&&(a.focus(),e.preventDefault())}focusInnerElement(e=!1){const t=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length&&t[e?t.length-1:0].focus({preventScroll:!0})}getNextFocusableElement(e){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;const t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e,t){return e===this.eTopGuard&&!t||e===this.eBottomGuard&&(t??!0)}setAllowFocus(e){this.allowFocus=e}},wx=class extends Nh{constructor(e){super(),this.comp=e}initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();const{eTopGuard:t,eBottomGuard:a,eFocusableElement:u}=this,g=[t,a],_={setTabIndex:uf=>{g.forEach(tf=>uf!=null?tf.setAttribute("tabindex",uf):tf.removeAttribute("tabindex"))}};this.addTabGuards(t,a);const{focusTrapActive:K=!1,onFocusIn:rt,onFocusOut:al,focusInnerElement:Ql,handleKeyDown:Gu,onTabKeyDown:Wu,shouldStopEventPropagation:id,forceFocusOutWhenTabGuardsAreEmpty:uh,isFocusableContainer:Qh}=e;this.tabGuardCtrl=this.createManagedBean(new v3({comp:_,focusTrapActive:K,eTopGuard:t,eBottomGuard:a,eFocusableElement:u,onFocusIn:rt,onFocusOut:al,focusInnerElement:Ql,handleKeyDown:Gu,onTabKeyDown:Wu,shouldStopEventPropagation:id,forceFocusOutWhenTabGuardsAreEmpty:uh,isFocusableContainer:Qh}))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(e){const t=Fp(this.gos).createElement("div"),a=e==="top"?"ag-tab-guard-top":"ag-tab-guard-bottom";return t.classList.add("ag-tab-guard",a),w0(t,"presentation"),t}addTabGuards(e,t){this.eFocusableElement.insertAdjacentElement("afterbegin",e),this.eFocusableElement.insertAdjacentElement("beforeend",t)}removeAllChildrenExceptTabGuards(){const e=[this.eTopGuard,this.eBottomGuard];Dm(this.comp.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t,a){$y(t)||(t=t.getGui());const{eBottomGuard:u}=this;u?u.insertAdjacentElement("beforebegin",t):e(t,a)}},$3=class extends bg{initialiseTabGuard(e){this.tabGuardFeature=this.createManagedBean(new wx(this)),this.tabGuardFeature.initialiseTabGuard(e)}forceFocusOutOfContainer(e=!1){this.tabGuardFeature.forceFocusOutOfContainer(e)}appendChild(e,t){this.tabGuardFeature.appendChild(super.appendChild.bind(this),e,t)}},pb=0,gb=200,Cx=class extends Nh{constructor(){super(...arguments),this.beanName="popupService",this.popupList=[]}wireBeans(e){this.ctrlsService=e.ctrlsService,this.resizeObserverService=e.resizeObserverService,this.environment=e.environment}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridCtrl=e.gridCtrl}),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)})}getPopupParent(){const e=this.gos.get("popupParent");return e||this.gridCtrl.getGui()}positionPopupForMenu(e){const{eventSource:t,ePopup:a}=e,u=this.getPopupIndex(a);if(u!==-1){const uh=this.popupList[u];uh.alignedToElement=t}const g=t.getBoundingClientRect(),_=this.getParentRect(),K=this.keepXYWithinBounds(a,g.top-_.top,0),rt=a.clientWidth>0?a.clientWidth:200;a.style.minWidth=`${rt}px`;const Ql=_.right-_.left-rt;let Gu;this.gos.get("enableRtl")?(Gu=id(),Gu<0&&(Gu=Wu(),this.setAlignedStyles(a,"left")),Gu>Ql&&(Gu=0,this.setAlignedStyles(a,"right"))):(Gu=Wu(),Gu>Ql&&(Gu=id(),this.setAlignedStyles(a,"right")),Gu<0&&(Gu=0,this.setAlignedStyles(a,"left"))),a.style.left=`${Gu}px`,a.style.top=`${K}px`;function Wu(){return g.right-_.left-2}function id(){return g.left-_.left-rt}}positionPopupUnderMouseEvent(e){const{ePopup:t,nudgeX:a,nudgeY:u,skipObserver:g}=e;this.positionPopup({ePopup:t,nudgeX:a,nudgeY:u,keepWithinBounds:!0,skipObserver:g,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)})}calculatePointerAlign(e){const t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){const{ePopup:t,nudgeX:a,nudgeY:u,keepWithinBounds:g,eventSource:_,alignSide:K="left",position:rt="over",column:al,rowNode:Ql,type:Gu}=e,Wu=_.getBoundingClientRect(),id=this.getParentRect(),uh=this.getPopupIndex(t);if(uh!==-1){const uf=this.popupList[uh];uf.alignedToElement=_}const Qh=()=>{let uf=Wu.left-id.left;K==="right"&&(uf-=t.offsetWidth-Wu.width);let tf;return rt==="over"?(tf=Wu.top-id.top,this.setAlignedStyles(t,"over")):(this.setAlignedStyles(t,"under"),this.shouldRenderUnderOrAbove(t,Wu,id,e.nudgeY||0)==="under"?tf=Wu.top-id.top+Wu.height:tf=Wu.top-t.offsetHeight-(u||0)*2-id.top),{x:uf,y:tf}};this.positionPopup({ePopup:t,nudgeX:a,nudgeY:u,keepWithinBounds:g,updatePosition:Qh,postProcessCallback:()=>this.callPostProcessPopup(Gu,t,_,null,al,Ql)})}shouldRenderUnderOrAbove(e,t,a,u){const g=a.bottom-t.bottom,_=t.top-a.top,K=e.offsetHeight+u;return g>K?"under":_>K||_>g?"above":"under"}setAlignedStyles(e,t){const a=this.getPopupIndex(e);if(a===-1)return;const u=this.popupList[a],{alignedToElement:g}=u;!g||(["right","left","over","above","under"].forEach(K=>{g.classList.remove(`ag-has-popup-positioned-${K}`),e.classList.remove(`ag-popup-positioned-${K}`)}),!t)||(g.classList.add(`ag-has-popup-positioned-${t}`),e.classList.add(`ag-popup-positioned-${t}`))}callPostProcessPopup(e,t,a,u,g,_){const K=this.gos.getCallback("postProcessPopup");K&&K({column:g,rowNode:_,ePopup:t,type:e,eventSource:a,mouseEvent:u})}positionPopup(e){const{ePopup:t,keepWithinBounds:a,nudgeX:u,nudgeY:g,skipObserver:_,updatePosition:K}=e,rt={width:0,height:0},al=(Ql=!1)=>{let{x:Gu,y:Wu}=K();Ql&&t.clientWidth===rt.width&&t.clientHeight===rt.height||(rt.width=t.clientWidth,rt.height=t.clientHeight,u&&(Gu+=u),g&&(Wu+=g),a&&(Gu=this.keepXYWithinBounds(t,Gu,1),Wu=this.keepXYWithinBounds(t,Wu,0)),t.style.left=`${Gu}px`,t.style.top=`${Wu}px`,e.postProcessCallback&&e.postProcessCallback())};if(al(),!_){const Ql=this.resizeObserverService.observeResize(t,()=>al(!0));setTimeout(()=>Ql(),gb)}}getActivePopups(){return this.popupList.map(e=>e.element)}getPopupList(){return this.popupList}getParentRect(){const e=Fp(this.gos);let t=this.getPopupParent();return t===e.body?t=e.documentElement:getComputedStyle(t).position==="static"&&(t=t.offsetParent),Uy(t)}keepXYWithinBounds(e,t,a){const u=a===0,g=u?"clientHeight":"clientWidth",_=u?"top":"left",K=u?"height":"width",rt=u?"scrollTop":"scrollLeft",al=Fp(this.gos),Ql=al.documentElement,Gu=this.getPopupParent(),Wu=e.getBoundingClientRect(),id=Gu.getBoundingClientRect(),uh=al.documentElement.getBoundingClientRect(),Qh=Gu===al.body,uf=Math.ceil(Wu[K]);let Hf=Qh?(u?Pv:L1)(Ql)+Ql[rt]:Gu[g];Qh&&(Hf-=Math.abs(uh[_]-id[_]));const Vf=Hf-uf;return Math.min(Math.max(t,0),Math.abs(Vf))}addPopup(e){const t=Fp(this.gos),{eChild:a,ariaLabel:u,alwaysOnTop:g,positionCallback:_,anchorToElement:K}=e;if(!t)return ie("could not find the document, document is empty"),{hideFunc:()=>{}};const rt=this.getPopupIndex(a);if(rt!==-1)return{hideFunc:this.popupList[rt].hideFunc};this.initialisePopupPosition(a);const al=this.createPopupWrapper(a,u,!!g),Ql=this.addEventListenersToPopup({...e,wrapperEl:al});return _&&_(),this.addPopupToPopupList(a,al,Ql,K),{hideFunc:Ql}}initialisePopupPosition(e){const a=this.getPopupParent().getBoundingClientRect();Vu(e.style.top)||(e.style.top=`${a.top*-1}px`),Vu(e.style.left)||(e.style.left=`${a.left*-1}px`)}createPopupWrapper(e,t,a){const u=this.getPopupParent(),g=document.createElement("div");return this.environment.applyThemeClasses(g),g.classList.add("ag-popup"),e.classList.add(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||w0(e,"dialog"),A0(e,t),g.appendChild(e),u.appendChild(g),a?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),g}handleThemeChange(e){if(e.themeChanged)for(const t of this.popupList)this.environment.applyThemeClasses(t.wrapper)}addEventListenersToPopup(e){const t=Fp(this.gos),a=this.getPopupParent(),{wrapperEl:u,eChild:g,closedCallback:_,afterGuiAttached:K,closeOnEsc:rt,modal:al}=e;let Ql=!1;const Gu=Qh=>{if(!u.contains(Gp(this.gos)))return;Qh.key===pf.ESCAPE&&!_h(Qh)&&uh({keyboardEvent:Qh})},Wu=Qh=>uh({mouseEvent:Qh}),id=Qh=>uh({touchEvent:Qh}),uh=(Qh={})=>{const{mouseEvent:uf,touchEvent:tf,keyboardEvent:Hf,forceHide:Vf}=Qh;!Vf&&(this.isEventFromCurrentPopup({mouseEvent:uf,touchEvent:tf},g)||Ql)||(Ql=!0,a.removeChild(u),t.removeEventListener("keydown",Gu),t.removeEventListener("mousedown",Wu),t.removeEventListener("touchstart",id),t.removeEventListener("contextmenu",Wu),this.eventService.removeEventListener("dragStarted",Wu),_&&_(uf||tf||Hf),this.removePopupFromPopupList(g))};return K&&K({hidePopup:uh}),window.setTimeout(()=>{rt&&t.addEventListener("keydown",Gu),al&&(t.addEventListener("mousedown",Wu),this.eventService.addEventListener("dragStarted",Wu),t.addEventListener("touchstart",id),t.addEventListener("contextmenu",Wu))},0),uh}addPopupToPopupList(e,t,a,u){this.popupList.push({element:e,wrapper:t,hideFunc:a,instanceId:pb++,isAnchored:!!u}),u&&this.setPopupPositionRelatedToElement(e,u)}getPopupIndex(e){return this.popupList.findIndex(t=>t.element===e)}setPopupPositionRelatedToElement(e,t){const a=this.getPopupIndex(e);if(a===-1)return;const u=this.popupList[a];if(u.stopAnchoringPromise&&u.stopAnchoringPromise.then(_=>_&&_()),u.stopAnchoringPromise=void 0,u.isAnchored=!1,!t)return;const g=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:u.hideFunc});return u.stopAnchoringPromise=g,u.isAnchored=!0,g}removePopupFromPopupList(e){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),this.popupList=this.popupList.filter(t=>t.element!==e)}keepPopupPositionedRelativeTo(e){const t=this.getPopupParent(),a=t.getBoundingClientRect(),{element:u,ePopup:g}=e,_=u.getBoundingClientRect(),K=Wu=>parseInt(Wu.substring(0,Wu.length-1),10),rt=(Wu,id)=>{const uh=a[Wu]-_[Wu],Qh=K(g.style[Wu]);return{initialDiff:uh,lastDiff:uh,initial:Qh,last:Qh,direction:id}},al=rt("top",0),Ql=rt("left",1),Gu=this.getFrameworkOverrides();return new Hm(Wu=>{Gu.wrapIncoming(()=>{Gu.setInterval(()=>{const id=t.getBoundingClientRect(),uh=u.getBoundingClientRect();if(uh.top==0&&uh.left==0&&uh.height==0&&uh.width==0){e.hidePopup();return}const uf=(tf,Hf)=>{const Vf=K(g.style[Hf]);tf.last!==Vf&&(tf.initial=Vf,tf.last=Vf);const Bf=id[Hf]-uh[Hf];if(Bf!=tf.lastDiff){const Kp=this.keepXYWithinBounds(g,tf.initial+tf.initialDiff-Bf,tf.direction);g.style[Hf]=`${Kp}px`,tf.last=Kp}tf.lastDiff=Bf};uf(al,"top"),uf(Ql,"left")},200).then(id=>{Wu(()=>{id!=null&&window.clearInterval(id)})})},"popupPositioning")})}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isEventFromCurrentPopup(e,t){const{mouseEvent:a,touchEvent:u}=e,g=a||u;if(!g)return!1;const _=this.getPopupIndex(t);if(_===-1)return!1;for(let K=_;K<this.popupList.length;K++){const rt=this.popupList[K];if(Qf(rt.element,g))return!0}return this.isElementWithinCustomPopup(g.target)}isElementWithinCustomPopup(e){const t=Fp(this.gos);for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||e.parentElement===null)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){const a=this.getWrapper(e);a&&(a.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(a))}bringPopupToFront(e){const t=this.getPopupParent(),a=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),u=a.length,g=this.getWrapper(e);if(!g||u<=1||!t.contains(e))return;const _=[],K=[];for(const id of a)id!==g&&(id.classList.contains("ag-always-on-top")?K.push(id):_.push(id));const rt=[],al=K.length,Wu=g.classList.contains("ag-always-on-top")||!al?[..._,...K,g]:[..._,g,...K];for(let id=0;id<=u;id++){const uh=Wu[id];if(a[id]===Wu[id]||uh===g)continue;uh.querySelectorAll("div").forEach(uf=>{uf.scrollTop!==0&&rt.push([uf,uf.scrollTop])}),id===0?t.insertAdjacentElement("afterbegin",uh):Wu[id-1].insertAdjacentElement("afterend",uh)}for(;rt.length;){const id=rt.pop();id[0].scrollTop=id[1]}}},Sx=["touchstart","touchend","touchmove","touchcancel"],q3=class{constructor(e="javascript"){this.frameworkName=e,this.renderingEngine="vanilla",this.wrapIncoming=t=>t(),this.wrapOutgoing=t=>t()}setInterval(e,t){return new Hm(a=>{a(window.setInterval(e,t))})}addEventListener(e,t,a,u){const g=yg(Sx,t);e.addEventListener(t,a,{capture:!!u,passive:g})}get shouldWrapOutgoing(){return!1}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return`https://www.ag-grid.com/${this.frameworkName==="solid"?"react":this.frameworkName}-data-grid${e?`/${e}`:""}`}},y3=class extends Nh{constructor(){super(...arguments),this.beanName="cellNavigationService"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer,this.pinnedRowModel=e.pinnedRowModel,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService}getNextCellToFocus(e,t,a=!1){return a?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){const a=e===pf.UP,u=e===pf.DOWN,g=e===pf.LEFT;let _,K;if(a||u)K=a?this.pageBoundsService.getFirstRow():this.pageBoundsService.getLastRow(),_=t.column;else{const rt=this.visibleColsService.getAllCols(),al=this.gos.get("enableRtl");K=t.rowIndex,_=g!==al?rt[0]:Pp(rt)}return{rowIndex:K,rowPinned:null,column:_}}getNextCellToFocusWithoutCtrlPressed(e,t){let a=t,u=!1;for(;!u;){switch(e){case pf.UP:a=this.getCellAbove(a);break;case pf.DOWN:a=this.getCellBelow(a);break;case pf.RIGHT:this.gos.get("enableRtl")?a=this.getCellToLeft(a):a=this.getCellToRight(a);break;case pf.LEFT:this.gos.get("enableRtl")?a=this.getCellToRight(a):a=this.getCellToLeft(a);break;default:a=null,ie("unknown key for navigation ",e);break}a?u=this.isCellGoodToFocusOn(a):u=!0}return a}isCellGoodToFocusOn(e){const t=e.column;let a;switch(e.rowPinned){case"top":a=this.pinnedRowModel.getPinnedTopRow(e.rowIndex);break;case"bottom":a=this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);break;default:a=this.rowModel.getRow(e.rowIndex);break}return a?!t.isSuppressNavigable(a):!1}getCellToLeft(e){if(!e)return null;const t=this.visibleColsService.getColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;const t=this.visibleColsService.getColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getRowBelow(e){const t=e.rowIndex,a=e.rowPinned;let u=!1;if(this.isLastRowInContainer(e))switch(a){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.pageBoundsService.getFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}else a&&(u=!0);const g=this.rowModel.getRow(e.rowIndex),_=u?void 0:this.getNextStickyPosition(g);return _||{rowIndex:t+1,rowPinned:a}}getNextStickyPosition(e,t){if(!n0(this.gos)||!e||!e.sticky)return;const a=this.rowRenderer.getStickyTopRowCtrls().some(rt=>rt.getRowNode().rowIndex===e.rowIndex);let u=[];a?u=[...this.rowRenderer.getStickyTopRowCtrls()].sort((rt,al)=>rt.getRowNode().rowIndex-al.getRowNode().rowIndex):u=[...this.rowRenderer.getStickyBottomRowCtrls()].sort((rt,al)=>al.getRowNode().rowIndex-rt.getRowNode().rowIndex);const g=t?-1:1,_=u.findIndex(rt=>rt.getRowNode().rowIndex===e.rowIndex),K=u[_+g];if(K)return{rowIndex:K.getRowNode().rowIndex,rowPinned:null}}getCellBelow(e){if(!e)return null;const t=this.getRowBelow(e);return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null}isLastRowInContainer(e){const t=e.rowPinned,a=e.rowIndex;return t==="top"?this.pinnedRowModel.getPinnedTopRowCount()-1<=a:t==="bottom"?this.pinnedRowModel.getPinnedBottomRowCount()-1<=a:this.pageBoundsService.getLastRow()<=a}getRowAbove(e){const t=e.rowIndex,a=e.rowPinned,u=a?t===0:t===this.pageBoundsService.getFirstRow();let g=!1;if(u)return a==="top"?null:a?this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null:this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;a&&(g=!0);const _=this.rowModel.getRow(e.rowIndex),K=g?void 0:this.getNextStickyPosition(_,!0);return K||{rowIndex:t-1,rowPinned:a}}getCellAbove(e){if(!e)return null;const t=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null}getLastBodyCell(){return{rowIndex:this.pageBoundsService.getLastRow(),rowPinned:null}}getLastFloatingTopRow(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowCount()-1,rowPinned:"top"}}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){const t=this.visibleColsService.getAllCols();let a=e.rowIndex,u=e.rowPinned,g=this.visibleColsService.getColAfter(e.column);if(!g){g=t[0];const _=this.getRowBelow(e);if(Zu(_)||!_.rowPinned&&!(this.paginationService?.isRowInPage(_)??!0))return null;a=_?_.rowIndex:null,u=_?_.rowPinned:null}return{rowIndex:a,column:g,rowPinned:u}}getNextTabbedCellBackwards(e){const t=this.visibleColsService.getAllCols();let a=e.rowIndex,u=e.rowPinned,g=this.visibleColsService.getColBefore(e.column);if(!g){g=Pp(t);const _=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(Zu(_)||!_.rowPinned&&!(this.paginationService?.isRowInPage(_)??!0))return null;a=_?_.rowIndex:null,u=_?_.rowPinned:null}return{rowIndex:a,column:g,rowPinned:u}}},o1=(e,t)=>{for(const a in t)t[a]=e;return t},W2={...o1("@ag-grid-community/core",{dispatchEvent:0,destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0,getState:0,setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0,redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRow:0,getFirstDisplayedRowIndex:0,getLastDisplayedRow:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0,getModel:0,getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0,getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0,addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0,expireValueCache:0,getValue:0,getCellValue:0,showColumnMenuAfterButtonClick:0,showColumnMenuAfterMouseClick:0,showColumnMenu:0,hidePopupMenu:0,onSortChanged:0,getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0,showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0,setGridAriaProperty:0,refreshCells:0,flashCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0,addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0,getColumnDef:0,getColumnDefs:0,sizeColumnsToFit:0,setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumn:0,getDisplayNameForColumnGroup:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnVisible:0,setColumnsVisible:0,setColumnPinned:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0,moveColumn:0,moveColumnByIndex:0,moveColumns:0,setColumnWidth:0,setColumnWidths:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0,autoSizeColumn:0,autoSizeColumns:0,autoSizeAllColumns:0,undoCellEditing:0,redoCellEditing:0,getCellEditorInstances:0,getEditingCells:0,stopEditing:0,startEditingCell:0,getCurrentUndoSize:0,getCurrentRedoSize:0,isAnyFilterPresent:0,onFilterChanged:0,isColumnFilterPresent:0,getFilterInstance:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0,isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0,paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0,expandAll:0,collapseAll:0,onRowHeightChanged:0,setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0}),...o1("@ag-grid-community/client-side-row-model",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,resetRowHeights:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0}),...o1("@ag-grid-community/csv-export",{getDataAsCsv:0,exportDataAsCsv:0}),...o1("@ag-grid-community/infinite-row-model",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0}),...o1("@ag-grid-enterprise/advanced-filter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0}),...o1("@ag-grid-enterprise/charts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0}),...o1("@ag-grid-enterprise/clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0}),...o1("@ag-grid-enterprise/excel-export",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0}),...o1("@ag-grid-enterprise/master-detail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0}),...o1("@ag-grid-enterprise/menu",{showContextMenu:0,showColumnChooser:0,hideColumnChooser:0}),...o1("@ag-grid-enterprise/range-selection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0}),...o1("@ag-grid-enterprise/row-grouping",{addAggFunc:0,addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0,isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumn:0,removeValueColumns:0,addValueColumn:0,addValueColumns:0,setRowGroupColumns:0,removeRowGroupColumn:0,removeRowGroupColumns:0,addRowGroupColumn:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0,setPivotColumns:0,removePivotColumn:0,removePivotColumns:0,addPivotColumn:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0}),...o1("@ag-grid-enterprise/server-side-row-model",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0}),...o1("@ag-grid-enterprise/side-bar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0}),...o1("@ag-grid-enterprise/status-bar",{getStatusPanel:0})},y2={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},mb=(e,t)=>e.eventService.dispatchEvent(t),x3=class{};Reflect.defineProperty(x3,"name",{value:"GridApi"});var kx=class extends Nh{constructor(){super(),this.beanName="apiFunctionService",this.api=new x3,this.fns={...y2,dispatchEvent:mb},this.beans=null,this.preDestroyLink="";const{api:e}=this;for(const t in W2)e[t]=this.makeApi(t)[t]}wireBeans(e){this.beans=e}postConstruct(){this.preDestroyLink=this.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(e,t){const{fns:a,beans:u}=this;a!==y2&&(a[e]=u?.validationService?.validateApiFunction(e,t)??t)}makeApi(e){return{[e]:(...t)=>{const{beans:a,fns:{[e]:u}}=this;return u?u(a,...t):this.apiNotFound(e)}}}apiNotFound(e){const{beans:t,gos:a,preDestroyLink:u}=this;if(!t)ie(`Grid API function ${e}() cannot be called as the grid has been destroyed.
Either clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${u}`);else{const g=W2[e];a.assertModuleRegistered(g,`api.${e}`)&&ie(`API function '${e}' not registered to module '${g}'`)}}destroy(){super.destroy(),this.fns=y2,this.beans=null}};function vb(e){return{beanName:"gridApi",bean:e.getBean("apiFunctionService").api}}var yb=class extends Nh{constructor(){super(...arguments),this.beanName="columnDefFactory"}buildColumnDefs(e,t,a){const u=[],g={};return e.forEach(_=>{const K=this.createDefFromColumn(_,t,a);let rt=!0,al=K,Ql=_.getOriginalParent(),Gu=null;for(;Ql;){let Wu=null;if(Ql.isPadding()){Ql=Ql.getOriginalParent();continue}const id=g[Ql.getGroupId()];if(id){id.children.push(al),rt=!1;break}if(Wu=this.createDefFromGroup(Ql),Wu&&(Wu.children=[al],g[Wu.groupId]=Wu,al=Wu,Ql=Ql.getOriginalParent()),Ql!=null&&Gu===Ql){rt=!1;break}Gu=Ql}rt&&u.push(al)}),u}createDefFromGroup(e){const t=Tl(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,a){const u=Tl(e.getColDef());return u.colId=e.getColId(),u.width=e.getActualWidth(),u.rowGroup=e.isRowGroupActive(),u.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,u.pivot=e.isPivotActive(),u.pivotIndex=e.isPivotActive()?a.indexOf(e):null,u.aggFunc=e.isValueActive()?e.getAggFunc():null,u.hide=e.isVisible()?void 0:!0,u.pinned=e.isPinned()?e.getPinned():null,u.sort=e.getSort()?e.getSort():null,u.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,u}},_x=class extends Nh{constructor(){super(...arguments),this.beanName="columnEventDispatcher"}visibleCols(e){this.eventService.dispatchEvent({type:"displayedColumnsChanged",source:e})}gridColumns(){this.eventService.dispatchEvent({type:"gridColumnsChanged"})}headerHeight(e){this.eventService.dispatchEvent({type:"columnHeaderHeightChanged",column:e,columns:[e],source:"autosizeColumnHeaderHeight"})}groupHeaderHeight(e){this.eventService.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:e,source:"autosizeColumnGroupHeaderHeight"})}groupOpened(e){this.eventService.dispatchEvent({type:"columnGroupOpened",columnGroup:e.length===1?e[0]:void 0,columnGroups:e})}rowGroupChanged(e,t){this.eventService.dispatchEvent({type:"columnRowGroupChanged",columns:e,column:e.length===1?e[0]:null,source:t})}genericColumnEvent(e,t,a){this.eventService.dispatchEvent({type:e,columns:t,column:t.length===1?t[0]:null,source:a})}pivotModeChanged(){this.eventService.dispatchEvent({type:"columnPivotModeChanged"})}virtualColumnsChanged(e){this.eventService.dispatchEvent({type:"virtualColumnsChanged",afterScroll:e})}newColumnsLoaded(e){this.eventService.dispatchEvent({type:"newColumnsLoaded",source:e})}everythingChanged(e){this.eventService.dispatchEvent({type:"columnEverythingChanged",source:e})}columnMoved(e){const{movedColumns:t,source:a,toIndex:u,finished:g}=e;this.eventService.dispatchEvent({type:"columnMoved",columns:t,column:t&&t.length===1?t[0]:null,toIndex:u,finished:g,source:a})}columnPinned(e,t){if(!e.length)return;const a=e.length===1?e[0]:null,u=this.getCommonValue(e,g=>g.getPinned());this.eventService.dispatchEvent({type:"columnPinned",pinned:u??null,columns:e,column:a,source:t})}columnVisible(e,t){if(!e.length)return;const a=e.length===1?e[0]:null,u=this.getCommonValue(e,g=>g.isVisible());this.eventService.dispatchEvent({type:"columnVisible",visible:u,columns:e,column:a,source:t})}getCommonValue(e,t){if(!e||e.length==0)return;const a=t(e[0]);for(let u=1;u<e.length;u++)if(a!==t(e[u]))return;return a}columnChanged(e,t,a){this.eventService.dispatchEvent({type:e,columns:t,column:t&&t.length==1?t[0]:null,source:a})}columnResized(e,t,a,u=null){e&&e.length&&this.eventService.dispatchEvent({type:"columnResized",columns:e,column:e.length===1?e[0]:null,flexColumns:u,finished:t,source:a})}},Ex=class extends Nh{constructor(){super(...arguments),this.beanName="columnGetStateService"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService}getColumnState(){const e=this.columnModel.getColDefCols();if(Zu(e)||!this.columnModel.isAlive())return[];const a=this.columnModel.getAllCols().map(u=>this.createStateItemFromColumn(u));return this.orderColumnStateList(a),a}createStateItemFromColumn(e){const t=this.funcColsService.getRowGroupColumns(),a=this.funcColsService.getPivotColumns(),u=e.isRowGroupActive()?t.indexOf(e):null,g=e.isPivotActive()?a.indexOf(e):null,_=e.isValueActive()?e.getAggFunc():null,K=e.getSort()!=null?e.getSort():null,rt=e.getSortIndex()!=null?e.getSortIndex():null,al=e.getFlex()!=null&&e.getFlex()>0?e.getFlex():null;return{colId:e.getColId(),width:e.getActualWidth(),hide:!e.isVisible(),pinned:e.getPinned(),sort:K,sortIndex:rt,aggFunc:_,rowGroup:e.isRowGroupActive(),rowGroupIndex:u,pivot:e.isPivotActive(),pivotIndex:g,flex:al}}orderColumnStateList(e){const t=this.columnModel.getCols(),a=new Map(t.map((u,g)=>[u.getColId(),g]));e.sort((u,g)=>{const _=a.has(u.colId)?a.get(u.colId):-1,K=a.has(g.colId)?a.get(g.colId):-1;return _-K})}},Mx=class extends Nh{constructor(){super(...arguments),this.beanName="columnGroupStateService"}wireBeans(e){this.columnModel=e.columnModel,this.columnAnimationService=e.columnAnimationService,this.eventDispatcher=e.columnEventDispatcher,this.visibleColsService=e.visibleColsService}getColumnGroupState(){const e=[],t=this.columnModel.getColTree();return ld(null,t,a=>{Rp(a)&&e.push({groupId:a.getGroupId(),open:a.isExpanded()})}),e}resetColumnGroupState(e){const t=this.columnModel.getColDefColTree();if(!t)return;const a=[];ld(null,t,u=>{if(Rp(u)){const g=u.getColGroupDef(),_={groupId:u.getGroupId(),open:g?g.openByDefault:void 0};a.push(_)}}),this.setColumnGroupState(a,e)}setColumnGroupState(e,t){if(!this.columnModel.getColTree())return;this.columnAnimationService.start();const u=[];e.forEach(g=>{const _=g.groupId,K=g.open,rt=this.columnModel.getProvidedColGroup(_);rt&&rt.isExpanded()!==K&&(rt.setExpanded(K),u.push(rt))}),this.visibleColsService.refresh(t,!0),u.length&&this.eventDispatcher.groupOpened(u),this.columnAnimationService.finish()}},Y3=class extends Nh{constructor(){super(...arguments),this.beanName="columnViewportService",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={}}wireBeans(e){this.visibleColsService=e.visibleColsService,this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(e,t,a=!1){const u=this.visibleColsService.isBodyWidthDirty();if(!(e===this.scrollWidth&&t===this.scrollPosition&&!u)){if(this.scrollWidth=e,this.scrollPosition=t,this.visibleColsService.setBodyWidthDirty(),this.gos.get("enableRtl")){const _=this.visibleColsService.getBodyContainerWidth();this.viewportLeft=_-this.scrollPosition-this.scrollWidth,this.viewportRight=_-this.scrollPosition}else this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition;this.columnModel.isReady()&&this.checkViewportColumns(a)}}getHeadersToRender(e,t){let a;switch(e){case"left":a=this.rowsOfHeadersToRenderLeft[t];break;case"right":a=this.rowsOfHeadersToRenderRight[t];break;default:a=this.rowsOfHeadersToRenderCenter[t];break}return a||[]}extractViewportColumns(){const e=this.visibleColsService.getCenterCols();this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}clear(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.colsWithinViewportHash=""}isColumnInHeaderViewport(e){return e.isAutoHeaderHeight()||this.isAnyParentAutoHeaderHeight(e)?!0:this.isColumnInRowViewport(e)}isAnyParentAutoHeaderHeight(e){for(;e;){if(e.isAutoHeaderHeight())return!0;e=e.getParent()}return!1}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;const t=e.getLeft()||0,a=t+e.getActualWidth(),u=this.viewportLeft-200,g=this.viewportRight+200,_=t<u&&a<u,K=t>g&&a>g;return!_&&!K}getViewportColumns(){const e=this.visibleColsService.getLeftCols(),t=this.visibleColsService.getRightCols();return this.colsWithinViewport.concat(e).concat(t)}getColsWithinViewport(e){if(!this.columnModel.isColSpanActive())return this.colsWithinViewport;const t=g=>{const _=g.getLeft();return Vu(_)&&_>this.viewportLeft},a=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this),u=this.visibleColsService.getColsCenter();return this.visibleColsService.getColsForRow(e,u,a,t)}checkViewportColumns(e=!1){this.extractViewport()&&this.eventDispatcher.virtualColumnsChanged(e)}calculateHeaderRows(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={};const e={},t=this.visibleColsService.getLeftCols(),a=this.visibleColsService.getRightCols();this.headerColsWithinViewport.concat(t).concat(a).forEach(_=>e[_.getId()]=!0);const g=(_,K,rt)=>{let al=!1;for(let Ql=0;Ql<_.length;Ql++){const Gu=_[Ql];let Wu=!1;if(Fu(Gu))Wu=e[Gu.getId()]===!0;else{const uh=Gu.getDisplayedChildren();uh&&(Wu=g(uh,K,rt+1))}Wu&&(al=!0,K[rt]||(K[rt]=[]),K[rt].push(Gu))}return al};g(this.visibleColsService.getTreeLeft(),this.rowsOfHeadersToRenderLeft,0),g(this.visibleColsService.getTreeRight(),this.rowsOfHeadersToRenderRight,0),g(this.visibleColsService.getTreeCenter(),this.rowsOfHeadersToRenderCenter,0)}extractViewport(){const e=u=>`${u.getId()}-${u.getPinned()||"normal"}`;this.extractViewportColumns();const t=this.getViewportColumns().map(e).join("#"),a=this.colsWithinViewportHash!==t;return a&&(this.colsWithinViewportHash=t,this.calculateHeaderRows()),a}},K3=class extends Nh{constructor(){super(...arguments),this.beanName="agComponentUtils"}wireBeans(e){this.componentMetadataProvider=e.componentMetadataProvider}adaptFunction(e,t){const a=this.componentMetadataProvider.retrieve(e);return a&&a.functionAdapter?a.functionAdapter(t):null}adaptCellRendererFunction(e){class t{refresh(){return!1}getGui(){return this.eGui}init(u){const g=e(u),_=typeof g;if(_==="string"||_==="number"||_==="boolean"){this.eGui=uv("<span>"+g+"</span>");return}if(g==null){this.eGui=uv("<span></span>");return}this.eGui=g}}return t}doesImplementIComponent(e){return e?e.prototype&&"getGui"in e.prototype:!1}},Ax=class extends Nh{constructor(){super(...arguments),this.beanName="componentMetadataProvider"}wireBeans(e){this.agComponentUtils=e.agComponentUtils}postConstruct(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","onParamsUpdated","refresh"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},dragAndDropImageComponent:{mandatoryMethodList:["setIcon","setLabel"],optionalMethodList:[]},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached","onParamsUpdated","refresh"]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["refresh"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","getState"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]},menuItem:{mandatoryMethodList:[],optionalMethodList:["setActive","select","setExpanded","configureDefaults"]}}}retrieve(e){return this.componentMetaData[e]}},xb=["rowPositionUtils","cellPositionUtils","headerPositionUtils","paginationAutoPageSizeService","apiFunctionService","gridApi","userComponentRegistry","agComponentUtils","componentMetadataProvider","resizeObserverService","userComponentFactory","rowContainerHeightService","horizontalResizeService","localeService","validationService","pinnedRowModel","dragService","visibleColsService","eventService","gos","popupService","selectionService","columnFilterService","quickFilterService","filterManager","columnModel","headerNavigationService","pageBoundsService","paginationService","pageBoundsListener","rowRenderer","expressionService","columnFactory","alignedGridsService","navigationService","valueCache","valueService","loggerFactory","autoWidthCalculator","filterMenuFactory","dragAndDropService","focusService","mouseEventService","environment","cellNavigationService","stylingService","scrollVisibleService","sortController","columnHoverService","columnAnimationService","selectableService","autoColService","controlsColService","changeDetectionService","animationFrameService","undoRedoService","columnDefFactory","rowCssClassCalculator","rowNodeBlockLoader","rowNodeSorter","ctrlsService","pinnedWidthService","rowNodeEventThrottle","ctrlsFactory","dataTypeService","syncService","overlayService","stateService","expansionService","apiEventService","ariaAnnouncementService","menuService","columnApplyStateService","columnEventDispatcher","columnMoveService","columnAutosizeService","columnGetStateService","columnGroupStateService","columnSizeService","funcColsService","columnNameService","columnViewportService","pivotResultColsService","showRowGroupColsService"],Z3=Object.fromEntries(xb.map((e,t)=>[e,t]));function b3(e,t){const a=(e.beanName?Z3[e.beanName]:void 0)??Number.MAX_SAFE_INTEGER,u=(t.beanName?Z3[t.beanName]:void 0)??Number.MAX_SAFE_INTEGER;return a-u}function Tx(e,t){return e?.beanName==="gridDestroyService"?-1:0}var bb=class extends Nh{constructor(){super(...arguments),this.beanName="ctrlsFactory",this.registry={}}register(e){this.registry[e.name]=e.classImp}getInstance(e,...t){const a=this.registry[e];if(a!=null)return new a(...t)}},Rx=class extends Nh{constructor(){super(...arguments),this.beanName="ctrlsService",this.params={gridCtrl:void 0,gridBodyCtrl:void 0,center:void 0,left:void 0,right:void 0,bottomCenter:void 0,bottomLeft:void 0,bottomRight:void 0,topCenter:void 0,topLeft:void 0,topRight:void 0,stickyTopCenter:void 0,stickyTopLeft:void 0,stickyTopRight:void 0,stickyBottomCenter:void 0,stickyBottomLeft:void 0,stickyBottomRight:void 0,fakeHScrollComp:void 0,fakeVScrollComp:void 0,gridHeaderCtrl:void 0,centerHeader:void 0,leftHeader:void 0,rightHeader:void 0},this.ready=!1,this.readyCallbacks=[],this.runReadyCallbacksAsync=!1}wireBeans(e){this.runReadyCallbacksAsync=e.frameworkOverrides.runWhenReadyAsync?.()??!1}postConstruct(){this.addEventListener("ready",()=>{this.updateReady(),this.ready&&(this.readyCallbacks.forEach(e=>e(this.params)),this.readyCallbacks.length=0)},this.runReadyCallbacksAsync)}updateReady(){this.ready=Object.values(this.params).every(e=>e?.isAlive()??!1)}whenReady(e,t){this.ready?t(this.params):this.readyCallbacks.push(t),e.addDestroyFunc(()=>{const a=this.readyCallbacks.indexOf(t);a>=0&&this.readyCallbacks.splice(a,1)})}register(e,t){this.params[e]=t,this.updateReady(),this.ready&&this.dispatchLocalEvent({type:"ready"}),t.addDestroyFunc(()=>{this.updateReady()})}get(e){return this.params[e]}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){const{leftHeader:e,centerHeader:t,rightHeader:a}=this.params;return[e,a,t]}getHeaderRowContainerCtrl(e){const t=this.params;switch(e){case"left":return t.leftHeader;case"right":return t.rightHeader;default:return t.centerHeader}}},Fx=class extends Nh{constructor(){super(...arguments),this.beanName="cellPositionUtils"}createId(e){const{rowIndex:t,rowPinned:a,column:u}=e;return this.createIdFromValues({rowIndex:t,column:u,rowPinned:a})}createIdFromValues(e){const{rowIndex:t,rowPinned:a,column:u}=e;return`${t}.${a??"null"}.${u.getId()}`}equals(e,t){const a=e.column===t.column,u=e.rowPinned===t.rowPinned,g=e.rowIndex===t.rowIndex;return a&&u&&g}},wb=class extends Nh{constructor(){super(...arguments),this.beanName="rowNodeEventThrottle",this.events=[]}wireBeans(e){this.animationFrameService=e.animationFrameService,this.rowModel=e.rowModel}postConstruct(){Dd(this.gos)&&(this.clientSideRowModel=this.rowModel)}dispatchExpanded(e,t){if(this.clientSideRowModel==null){this.eventService.dispatchEvent(e);return}this.events.push(e);const a=()=>{this.clientSideRowModel&&this.clientSideRowModel.onRowGroupOpened(),this.events.forEach(u=>this.eventService.dispatchEvent(u)),this.events=[]};t?a():(this.dispatchExpandedDebounced==null&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(a)),this.dispatchExpandedDebounced())}},X3=class extends Nh{constructor(){super(...arguments),this.beanName="rowPositionUtils"}wireBeans(e){this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.pageBoundsService=e.pageBoundsService}getFirstRow(){let e=0,t;return this.pinnedRowModel.getPinnedTopRowCount()?t="top":this.rowModel.getRowCount()?(t=null,e=this.pageBoundsService.getFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(t="bottom"),t===void 0?null:{rowIndex:e,rowPinned:t}}getLastRow(){let e,t=null;const a=this.pinnedRowModel.getPinnedBottomRowCount(),u=this.pinnedRowModel.getPinnedTopRowCount();return a?(t="bottom",e=a-1):this.rowModel.getRowCount()?(t=null,e=this.pageBoundsService.getLastRow()):u&&(t="top",e=u-1),e===void 0?null:{rowIndex:e,rowPinned:t}}getRowNode(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRow(e.rowIndex);case"bottom":return this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);default:return this.rowModel.getRow(e.rowIndex)}}sameRow(e,t){return!e&&!t?!0:e&&!t||!e&&t?!1:e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned}before(e,t){switch(e.rowPinned){case"top":if(t.rowPinned!=="top")return!0;break;case"bottom":if(t.rowPinned!=="bottom")return!1;break;default:if(Vu(t.rowPinned))return t.rowPinned!=="top";break}return e.rowIndex<t.rowIndex}},Q3={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},J3={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},ex={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},Px=class extends Nh{constructor(){super(...arguments),this.beanName="environment",this.sizeEls=new Map,this.lastKnownValues=new Map,this.ancestorThemeClasses=[],this.sizesMeasured=!1,this.gridTheme=null}wireBeans(e){this.resizeObserverService=e.resizeObserverService,this.eGridDiv=e.eGridDiv}postConstruct(){this.addManagedPropertyListener("theme",()=>this.handleThemeGridOptionChange()),this.handleThemeGridOptionChange(),this.addDestroyFunc(()=>this.stopUsingTheme()),this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.ancestorThemeClasses=this.readAncestorThemeClasses(),this.setUpThemeClassObservers(),this.getSizeEl(Q3),this.getSizeEl(J3),this.getSizeEl(ex)}getDefaultRowHeight(){return this.getCSSVariablePixelValue(Q3)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(J3)}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight())}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(ex)}hasMeasuredSizes(){return this.sizesMeasured}getGridThemeClass(){return this.gridTheme?.getCssClass()||null}getThemeClasses(){return this.gridTheme?[this.gridTheme.getCssClass()]:this.ancestorThemeClasses}applyThemeClasses(e){const t=this.getThemeClasses();for(const a of Array.from(e.classList))a.startsWith("ag-theme-")&&!t.includes(a)&&e.classList.remove(a);e.classList.add(...t)}refreshRowHeightVariable(){const e=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),t=this.gos.get("rowHeight");if(t==null||isNaN(t)||!isFinite(t))return e!==null&&this.eGridDiv.style.setProperty("--ag-line-height",null),-1;const a=`${t}px`;return e!=a?(this.eGridDiv.style.setProperty("--ag-line-height",a),t):e!=""?parseFloat(e):-1}getCSSVariablePixelValue(e){const t=this.lastKnownValues.get(e);if(t!=null)return t;const a=this.measureSizeEl(e);return a==="detached"||a==="no-styles"?e.defaultValue:(this.lastKnownValues.set(e,a),a)}measureSizeEl(e){const t=this.getSizeEl(e);if(t.offsetParent==null)return"detached";const a=t.offsetWidth;return a===Dx?"no-styles":(this.sizesMeasured=!0,a)}getSizeEl(e){let t=this.sizeEls.get(e);if(t)return t;let a=this.eMeasurementContainer;a||(a=this.eMeasurementContainer=document.createElement("div"),a.className="ag-measurement-container",this.gos.get("theme")&&this.applyThemeClasses(a),this.eGridDiv.appendChild(a)),t=document.createElement("div"),t.style.width=`var(${e.cssName}, ${Dx}px)`,a.appendChild(t),this.sizeEls.set(e,t);let u=this.measureSizeEl(e);u==="no-styles"&&ie(`no value for ${e.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${e.defaultValue} will be used and updated when styles load.`);const g=this.resizeObserverService.observeResize(t,()=>{const _=this.measureSizeEl(e);_==="detached"||_==="no-styles"||(this.lastKnownValues.set(e,_),_!==u&&(u=_,this.fireGridStylesChangedEvent(e.changeKey)))});return this.addDestroyFunc(()=>g()),t}fireGridStylesChangedEvent(e){this.eventService.dispatchEvent({type:"gridStylesChanged",[e]:!0})}setUpThemeClassObservers(){const e=new MutationObserver(()=>{const a=this.readAncestorThemeClasses();w3(a,this.ancestorThemeClasses)||(this.ancestorThemeClasses=a,this.fireGridStylesChangedEvent("themeChanged"))});let t=this.eGridDiv;for(;t;)e.observe(t||this.eGridDiv,{attributes:!0,attributeFilter:["class"]}),t=t.parentElement;this.addDestroyFunc(()=>e.disconnect())}readAncestorThemeClasses(){let e=this.eGridDiv;const t=[];for(;e;){const a=Array.from(e.classList).filter(u=>u.startsWith("ag-theme-"));for(const u of a)t.includes(u)||t.unshift(u);e=e.parentElement}return Object.freeze(t)}handleThemeGridOptionChange(){const{gos:e,eMeasurementContainer:t,gridTheme:a}=this,u=e.get("theme")||null;u!==a&&(a?.stopUse(),this.gridTheme=u,u?.startUse({loadThemeGoogleFonts:e.get("loadThemeGoogleFonts"),container:this.eGridDiv}),t&&this.applyThemeClasses(t),this.fireGridStylesChangedEvent("themeChanged"))}stopUsingTheme(){this.gridTheme?.stopUse(),this.gridTheme=null}},w3=(e,t)=>e.length===t.length&&e.findIndex((a,u)=>e[u]!==t[u])===-1,Dx=15538,Lx=class extends Nh{constructor(){super(...arguments),this.beanName="eventService",this.globalEventService=new y}wireBeans(e){this.globalEventListener=e.globalEventListener,this.globalSyncEventListener=e.globalSyncEventListener}postConstruct(){if(this.globalEventListener){const e=oh(this.gos);this.addGlobalListener(this.globalEventListener,e)}this.globalSyncEventListener&&this.addGlobalListener(this.globalSyncEventListener,!1)}addEventListener(e,t,a){this.globalEventService.addEventListener(e,t,a)}removeEventListener(e,t,a){this.globalEventService.removeEventListener(e,t,a)}addGlobalListener(e,t=!1){this.globalEventService.addGlobalListener(e,t)}removeGlobalListener(e,t=!1){this.globalEventService.removeGlobalListener(e,t)}dispatchLocalEvent(){}dispatchEvent(e){this.globalEventService.dispatchEvent(this.gos.addGridCommonParams(e))}dispatchEventOnce(e){this.globalEventService.dispatchEventOnce(this.gos.addGridCommonParams(e))}},C3=class bv extends Nh{constructor(){super(...arguments),this.beanName="focusService"}wireBeans(t){this.eGridDiv=t.eGridDiv,this.columnModel=t.columnModel,this.visibleColsService=t.visibleColsService,this.headerNavigationService=t.headerNavigationService,this.headerPositionUtils=t.headerPositionUtils,this.rowRenderer=t.rowRenderer,this.rowPositionUtils=t.rowPositionUtils,this.cellPositionUtils=t.cellPositionUtils,this.navigationService=t.navigationService,this.ctrlsService=t.ctrlsService,this.filterManager=t.filterManager,this.rangeService=t.rangeService,this.advancedFilterService=t.advancedFilterService,this.overlayService=t.overlayService}static addKeyboardModeEvents(t){this.instanceCount>0||(t.addEventListener("keydown",bv.toggleKeyboardMode),t.addEventListener("mousedown",bv.toggleKeyboardMode))}static removeKeyboardModeEvents(t){this.instanceCount>0||(t.removeEventListener("keydown",bv.toggleKeyboardMode),t.removeEventListener("mousedown",bv.toggleKeyboardMode))}static toggleKeyboardMode(t){const a=bv.keyboardModeActive,u=t.type==="keydown";u&&(t.ctrlKey||t.metaKey||t.altKey)||a!==u&&(bv.keyboardModeActive=u)}postConstruct(){const t=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:t,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:t,columnRowGroupChanged:t}),this.registerKeyboardFocusEvents(),this.ctrlsService.whenReady(this,a=>{this.gridCtrl=a.gridCtrl})}registerKeyboardFocusEvents(){const t=Fp(this.gos);bv.addKeyboardModeEvents(t),bv.instanceCount++,this.addDestroyFunc(()=>{bv.instanceCount--,bv.removeKeyboardModeEvents(t)})}onColumnEverythingChanged(){if(!this.focusedCellPosition)return;const t=this.focusedCellPosition.column,a=this.columnModel.getCol(t.getId());t!==a&&this.clearFocusedCell()}isKeyboardMode(){return bv.keyboardModeActive}getFocusCellToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(Gp(this.gos),Eg.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(Gp(this.gos),yl.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition}isDomDataMissingInHierarchy(t,a){let u=t;for(;u;){if(Mp(this.gos,u,a))return!1;u=u.parentNode}return!0}getFocusedCell(){return this.focusedCellPosition}shouldRestoreFocus(t){return this.isCellRestoreFocused(t)?(setTimeout(()=>{this.restoredFocusedCellPosition=null},0),!0):!1}clearRestoreFocus(){this.restoredFocusedCellPosition=null,this.awaitRestoreFocusedCell=!1}restoreFocusedCell(t,a){this.awaitRestoreFocusedCell=!0,setTimeout(()=>{this.awaitRestoreFocusedCell&&(this.setRestoreFocusedCell(t),a())})}isCellRestoreFocused(t){return this.restoredFocusedCellPosition==null?!1:this.cellPositionUtils.equals(t,this.restoredFocusedCellPosition)}setRestoreFocusedCell(t){this.getFrameworkOverrides().renderingEngine==="react"&&(this.restoredFocusedCellPosition=t)}getFocusEventParams(t){const{rowIndex:a,rowPinned:u,column:g}=t,_={rowIndex:a,rowPinned:u,column:g,isFullWidthCell:!1},K=this.rowRenderer.getRowByPosition({rowIndex:a,rowPinned:u});return K&&(_.isFullWidthCell=K.isFullWidth()),_}clearFocusedCell(){if(this.restoredFocusedCellPosition=null,this.focusedCellPosition==null)return;const t=this.getFocusEventParams(this.focusedCellPosition);this.focusedCellPosition=null,this.eventService.dispatchEvent({type:"cellFocusCleared",...t})}setFocusedCell(t){const{column:a,rowIndex:u,rowPinned:g,forceBrowserFocus:_=!1,preventScrollOnBrowserFocus:K=!1}=t,rt=this.columnModel.getCol(a);if(!rt){this.focusedCellPosition=null;return}this.focusedCellPosition={rowIndex:u,rowPinned:Xu(g),column:rt},this.eventService.dispatchEvent({type:"cellFocused",...this.getFocusEventParams(this.focusedCellPosition),forceBrowserFocus:_,preventScrollOnBrowserFocus:K})}isCellFocused(t){return this.focusedCellPosition==null?!1:this.cellPositionUtils.equals(t,this.focusedCellPosition)}isRowNodeFocused(t){return this.isRowFocused(t.rowIndex,t.rowPinned)}isHeaderWrapperFocused(t){if(this.focusedHeaderPosition==null)return!1;const a=t.getColumnGroupChild(),u=t.getRowIndex(),g=t.getPinned(),{column:_,headerRowIndex:K}=this.focusedHeaderPosition;return a===_&&u===K&&g==_.getPinned()}clearFocusedHeader(){this.focusedHeaderPosition=null}getFocusedHeader(){return this.focusedHeaderPosition}setFocusedHeader(t,a){this.focusedHeaderPosition={headerRowIndex:t,column:a}}isHeaderFocusSuppressed(){return this.gos.get("suppressHeaderFocus")||this.overlayService.isExclusive()}isCellFocusSuppressed(){return this.gos.get("suppressCellFocus")||this.overlayService.isExclusive()}focusHeaderPosition(t){if(this.isHeaderFocusSuppressed())return!1;const{direction:a,fromTab:u,allowUserOverride:g,event:_,fromCell:K,rowWithoutSpanValue:rt}=t;let{headerPosition:al}=t;if(K&&this.filterManager?.isAdvancedFilterHeaderActive())return this.focusAdvancedFilter(al);if(g){const Ql=this.getFocusedHeader(),Gu=this.headerNavigationService.getHeaderRowCount();if(u){const Wu=this.gos.getCallback("tabToNextHeader");Wu&&(al=this.getHeaderPositionFromUserFunc({userFunc:Wu,direction:a,currentPosition:Ql,headerPosition:al,headerRowCount:Gu}))}else{const Wu=this.gos.getCallback("navigateToNextHeader");if(Wu&&_){const id={key:_.key,previousHeaderPosition:Ql,nextHeaderPosition:al,headerRowCount:Gu,event:_};al=Wu(id)}}}return al?this.focusProvidedHeaderPosition({headerPosition:al,direction:a,event:_,fromCell:K,rowWithoutSpanValue:rt}):!1}focusHeaderPositionFromUserFunc(t){if(this.isHeaderFocusSuppressed())return!1;const{userFunc:a,headerPosition:u,direction:g,event:_}=t,K=this.getFocusedHeader(),rt=this.headerNavigationService.getHeaderRowCount(),al=this.getHeaderPositionFromUserFunc({userFunc:a,direction:g,currentPosition:K,headerPosition:u,headerRowCount:rt});return!!al&&this.focusProvidedHeaderPosition({headerPosition:al,direction:g,event:_})}getHeaderPositionFromUserFunc(t){const{userFunc:a,direction:u,currentPosition:g,headerPosition:_,headerRowCount:K}=t,al=a({backwards:u==="Before",previousHeaderPosition:g,nextHeaderPosition:_,headerRowCount:K});return al===!0||al===null?(al===null&&ie("Since v31.3 Returning `null` from tabToNextHeader is deprecated. Return `true` to stay on the current header, or `false` to let the browser handle the tab behaviour."),g):al===!1?null:al}focusProvidedHeaderPosition(t){const{headerPosition:a,direction:u,fromCell:g,rowWithoutSpanValue:_,event:K}=t,{column:rt,headerRowIndex:al}=a;if(al===-1)return this.filterManager?.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(a):this.focusGridView(rt);this.headerNavigationService.scrollToColumn(rt,u);const Gu=this.ctrlsService.getHeaderRowContainerCtrl(rt.getPinned())?.focusHeader(a.headerRowIndex,rt,K)||!1;return Gu&&(_!=null||g)&&this.headerNavigationService.setCurrentHeaderRowWithoutSpan(_??-1),Gu}focusFirstHeader(){if(this.overlayService.isExclusive()&&this.focusOverlay())return!0;let t=this.visibleColsService.getAllCols()[0];if(!t)return!1;t.getParent()&&(t=this.visibleColsService.getColGroupAtLevel(t,0));const a=this.headerPositionUtils.getHeaderIndexToFocus(t,0);return this.focusHeaderPosition({headerPosition:a,rowWithoutSpanValue:0})}focusLastHeader(t){if(this.overlayService.isExclusive()&&this.focusOverlay(!0))return!0;const a=this.headerNavigationService.getHeaderRowCount()-1,u=Pp(this.visibleColsService.getAllCols());return this.focusHeaderPosition({headerPosition:{headerRowIndex:a,column:u},rowWithoutSpanValue:-1,event:t})}focusPreviousFromFirstCell(t){return this.filterManager?.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(t)}isAnyCellFocused(){return!!this.focusedCellPosition}isRowFocused(t,a){return this.focusedCellPosition==null?!1:this.focusedCellPosition.rowIndex===t&&this.focusedCellPosition.rowPinned===Xu(a)}findFocusableElements(t,a,u=!1){const g=J0;let _=Em;a&&(_+=", "+a),u&&(_+=', [tabindex="-1"]');const K=Array.prototype.slice.apply(t.querySelectorAll(g)).filter(Ql=>Nm(Ql)),rt=Array.prototype.slice.apply(t.querySelectorAll(_));return rt.length?((Ql,Gu)=>Ql.filter(Wu=>Gu.indexOf(Wu)===-1))(K,rt):K}focusInto(t,a=!1,u=!1){const g=this.findFocusableElements(t,null,u),_=a?Pp(g):g[0];return _?(_.focus({preventScroll:!0}),!0):!1}findFocusableElementBeforeTabGuard(t,a){if(!a)return null;const u=this.findFocusableElements(t),g=u.indexOf(a);if(g===-1)return null;let _=-1;for(let K=g-1;K>=0;K--)if(u[K].classList.contains("ag-tab-guard-top")){_=K;break}return _<=0?null:u[_-1]}findNextFocusableElement(t=this.eGridDiv,a,u){const g=this.findFocusableElements(t,a?':not([tabindex="-1"])':null),_=Gp(this.gos);let K;a?K=g.findIndex(al=>al.contains(_)):K=g.indexOf(_);const rt=K+(u?-1:1);return rt<0||rt>=g.length?null:g[rt]}isTargetUnderManagedComponent(t,a){if(!a)return!1;const u=t.querySelectorAll(`.${c1.FOCUS_MANAGED_CLASS}`);if(!u.length)return!1;for(let g=0;g<u.length;g++)if(u[g].contains(a))return!0;return!1}findTabbableParent(t,a=5){let u=0;for(;t&&hv(t)===null&&++u<=a;)t=t.parentElement;return hv(t)===null?null:t}focusOverlay(t){const a=this.overlayService.isVisible()&&this.overlayService.getOverlayWrapper()?.getGui();return!!a&&this.focusInto(a,t)}focusGridViewFailed(t,a){return a&&this.focusOverlay(t)||t&&this.focusLastHeader()}focusGridView(t,a=!1,u=!0){if(this.overlayService.isExclusive())return u&&this.focusOverlay(a);if(this.isCellFocusSuppressed())return a&&!this.isHeaderFocusSuppressed()?this.focusLastHeader():u&&this.focusOverlay(a)?!0:this.focusNextGridCoreContainer(!1);const g=a?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(g){const{rowIndex:_,rowPinned:K}=g;if(t??(t=this.getFocusedHeader()?.column),t&&_!==void 0&&_!==null)return this.navigationService.ensureCellVisible({rowIndex:_,column:t,rowPinned:K}),a&&this.rowRenderer.getRowByPosition(g)?.isFullWidth()&&this.navigationService.tryToFocusFullWidthRow(g,a)||(this.setFocusedCell({rowIndex:_,column:t,rowPinned:Xu(K),forceBrowserFocus:!0}),this.rangeService?.setRangeToCell({rowIndex:_,rowPinned:K,column:t})),!0}return!!(u&&this.focusOverlay(a)||a&&this.focusLastHeader())}isGridFocused(){const t=Gp(this.gos);return!!t&&this.eGridDiv.contains(t)}focusNextGridCoreContainer(t,a=!1){return!a&&this.gridCtrl.focusNextInnerContainer(t)?!0:((a||!t&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(t),!1)}focusAdvancedFilter(t){return this.advancedFilterFocusColumn=t?.column,this.advancedFilterService?.getCtrl().focusHeaderComp()??!1}focusNextFromAdvancedFilter(t,a){const u=(a?void 0:this.advancedFilterFocusColumn)??this.visibleColsService.getAllCols()?.[0];return t?this.focusHeaderPosition({headerPosition:{column:u,headerRowIndex:this.headerNavigationService.getHeaderRowCount()-1}}):this.focusGridView(u)}clearAdvancedFilterColumn(){this.advancedFilterFocusColumn=void 0}addFocusableContainer(t){this.gridCtrl.addFocusableContainer(t)}removeFocusableContainer(t){this.gridCtrl.removeFocusableContainer(t)}focusGridInnerElement(t){return this.gridCtrl.focusInnerElement(t)}allowFocusForNextGridCoreContainer(t){this.gridCtrl.allowFocusForNextCoreContainer(t)}};C3.keyboardModeActive=!1,C3.instanceCount=0;var tx=C3,Cb=class extends Nh{constructor(){super(...arguments),this.beanName="pinnedWidthService"}wireBeans(e){this.visibleColsService=e.visibleColsService}postConstruct(){const e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){const e=gd(this.gos,"print"),t=e?0:this.visibleColsService.getColsLeftWidth(),a=e?0:this.visibleColsService.getDisplayedColumnsRightWidth();t!=this.leftWidth&&(this.leftWidth=t,this.eventService.dispatchEvent({type:"leftPinnedWidthChanged"})),a!=this.rightWidth&&(this.rightWidth=a,this.eventService.dispatchEvent({type:"rightPinnedWidthChanged"}))}getPinnedRightWidth(){return this.rightWidth}getPinnedLeftWidth(){return this.leftWidth}},$2=class extends Nh{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}wireBeans(e){this.beans=e,this.focusService=e.focusService,this.visibleColsService=e.visibleColsService}setComp(e,t,a){this.view=e,this.eGridHostDiv=t,this.eGui=a,this.eGui.setAttribute("grid-id",this.beans.context.getGridId());const{dragAndDropService:u,mouseEventService:g,ctrlsService:_,resizeObserverService:K}=this.beans,rt={getContainer:()=>this.eGui,isInterestedIn:Ql=>Ql===1||Ql===0,getIconName:()=>"notAllowed"};u.addDropTarget(rt),this.addDestroyFunc(()=>u.removeDropTarget(rt)),g.stampTopLevelGridCompWithGridInstance(t),this.createManagedBean(new od(this.view)),this.view.setRtlClass(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr"),this.updateGridThemeClass(),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)});const al=K.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>al()),_.register("gridCtrl",this)}isDetailGrid(){return this.focusService.findTabbableParent(this.getGui())?.getAttribute("row-id")?.startsWith("detail")||!1}getOptionalSelectors(){const e=this.beans;return{paginationSelector:e.paginationService?.getPaginationSelector(),gridHeaderDropZonesSelector:e.columnDropZonesService?.getDropZoneSelector(),sideBarSelector:e.sideBarService?.getSideBarSelector(),statusBarSelector:e.statusBarService?.getStatusPanelSelector(),watermarkSelector:e.licenseManager?.getWatermarkSelector()}}onGridSizeChanged(){this.eventService.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){this.view.setCursor(e?"ew-resize":null)}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){const t=this.getFocusableContainers(),{indexWithFocus:a,nextIndex:u}=this.getNextFocusableIndex(t,e);if(u<0||u>=t.length)return!1;if(u===0){if(a>0){const g=this.visibleColsService.getAllCols(),_=Pp(g);if(this.focusService.focusGridView(_,!0))return!0}return!1}return this.focusContainer(t[u],e)}focusInnerElement(e){const t=this.gos.getCallback("focusGridInnerElement");if(t&&t({fromBottom:!!e}))return!0;const a=this.getFocusableContainers(),u=this.visibleColsService.getAllCols();if(e){if(a.length>1)return this.focusContainer(Pp(a),!0);const g=Pp(u);if(this.focusService.focusGridView(g,!0))return!0}if(this.gos.get("headerHeight")===0||this.focusService.isHeaderFocusSuppressed()){if(this.focusService.focusGridView(u[0]))return!0;for(let g=1;g<a.length;g++)if(this.focusService.focusInto(a[g].getGui()))return!0;return!1}return this.focusService.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}addFocusableContainer(e){this.additionalFocusableContainers.add(e)}removeFocusableContainer(e){this.additionalFocusableContainers.delete(e)}allowFocusForNextCoreContainer(e){const t=this.view.getFocusableContainers(),{nextIndex:a,indexWithFocus:u}=this.getNextFocusableIndex(t,e);if(u===-1||a<0||a>=t.length)return;const g=t[a];g.setAllowFocus?.(!0),setTimeout(()=>{g.setAllowFocus?.(!1)})}getNextFocusableIndex(e,t){const a=Gp(this.gos),u=e.findIndex(_=>_.getGui().contains(a)),g=u+(t?-1:1);return{indexWithFocus:u,nextIndex:g}}focusContainer(e,t){e.setAllowFocus?.(!0);const a=this.focusService.focusInto(e.getGui(),t);return e.setAllowFocus?.(!1),a}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}updateGridThemeClass(){const e=this.beans.environment.getGridThemeClass();e&&this.view.setGridThemeClass(e)}handleThemeChange(e){e.themeChanged&&this.updateGridThemeClass()}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},x2=class extends $3{constructor(e){super(),this.gridBody=Dp,this.sideBar=Dp,this.pagination=Dp,this.rootWrapperBody=Dp,this.eGridDiv=e}postConstruct(){const e={destroyGridUi:()=>this.destroyBean(this),setRtlClass:_=>this.addCssClass(_),setGridThemeClass:_=>this.addCssClass(_),forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:_=>{this.getGui().style.userSelect=_??"",this.getGui().style.webkitUserSelect=_??""},setCursor:_=>{this.getGui().style.cursor=_??""}},t=this.createManagedBean(new $2),a=t.getOptionalSelectors(),u=this.createTemplate(a),g=[z3,...Object.values(a).filter(_=>!!_)];this.setTemplate(u,g),t.setComp(e,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:_=>t.focusInnerElement(_),forceFocusOutWhenTabGuardsAreEmpty:!0})}insertGridIntoDom(){const e=this.getGui();this.eGridDiv.appendChild(e),this.addDestroyFunc(()=>{this.eGridDiv.removeChild(e),this.gos.get("debug")&&ce("Grid removed from DOM")})}updateLayoutClasses(e,t){const a=this.rootWrapperBody.classList;a.toggle("ag-layout-auto-height",t.autoHeight),a.toggle("ag-layout-normal",t.normal),a.toggle("ag-layout-print",t.print),this.addOrRemoveCssClass("ag-layout-auto-height",t.autoHeight),this.addOrRemoveCssClass("ag-layout-normal",t.normal),this.addOrRemoveCssClass("ag-layout-print",t.print)}createTemplate(e){const t=e.gridHeaderDropZonesSelector?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"",a=e.sideBarSelector?'<ag-side-bar data-ref="sideBar"></ag-side-bar>':"",u=e.statusBarSelector?"<ag-status-bar></ag-status-bar>":"",g=e.watermarkSelector?"<ag-watermark></ag-watermark>":"",_=e.paginationSelector?'<ag-pagination data-ref="pagination"></ag-pagination>':"";return`<div class="ag-root-wrapper" role="presentation">
                ${t}
                <div class="ag-root-wrapper-body" data-ref="rootWrapperBody" role="presentation">
                    <ag-grid-body data-ref="gridBody"></ag-grid-body>
                    ${a}
                </div>
                ${u}
                ${_}
                ${g}
            </div>`}getFocusableElement(){return this.rootWrapperBody}forceFocusOutOfContainer(e=!1){if(!e&&this.pagination?.isDisplayed()){this.pagination.forceFocusOutOfContainer(e);return}super.forceFocusOutOfContainer(e)}getFocusableContainers(){const e=[this.gridBody];return[this.sideBar,this.pagination].forEach(t=>{t&&e.push(t)}),e.filter(t=>Nm(t.getGui()))}},Ix=class extends Nh{constructor(){super(...arguments),this.beanName="alignedGridsService",this.consuming=!1}wireBeans(e){this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.ctrlsService=e.ctrlsService,this.columnApplyStateService=e.columnApplyStateService}getAlignedGridApis(){let e=this.gos.get("alignedGrids")??[];const t=typeof e=="function";typeof e=="function"&&(e=e());const a=()=>`See ${this.getFrameworkOverrides().getDocLink("aligned-grids")}`;return e.map(g=>{if(!g){Et("alignedGrids contains an undefined option."),t||Et(`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`),Et(a());return}if(this.isGridApi(g))return g;const _=g;return"current"in _?_.current?.api:(_.api||Et(`alignedGrids - No api found on the linked grid. If you are passing gridOptions to alignedGrids since v31 this is no longer valid. ${a()}`),_.api)}).filter(g=>!!g&&!g.isDestroyed())}isGridApi(e){return!!e&&!!e.dispatchEvent}postConstruct(){const e=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:e,columnVisible:e,columnPinned:e,columnGroupOpened:e,columnResized:e,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:({event:t})=>this.onColumnEvent(t),alignedGridScroll:({event:t})=>this.onScrollEvent(t)})}fireEvent(e){this.consuming||this.getAlignedGridApis().forEach(t=>{t.isDestroyed()||t.dispatchEvent(e)})}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent({type:"alignedGridColumn",event:e})}fireScrollEvent(e){e.direction==="horizontal"&&this.fireEvent({type:"alignedGridScroll",event:e})}onScrollEvent(e){this.onEvent(()=>{this.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}extractDataFromEvent(e,t){const a=[];return e.columns?e.columns.forEach(u=>{a.push(t(u))}):e.column&&a.push(t(e.column)),a}getMasterColumns(e){return this.extractDataFromEvent(e,t=>t)}getColumnIds(e){return this.extractDataFromEvent(e,t=>t.getColId())}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":{this.processColumnEvent(e);break}case"columnGroupOpened":{this.processGroupOpenedEvent(e);break}case"columnPivotChanged":ie("pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.");break}})}processGroupOpenedEvent(e){const{columnModel:t}=this;e.columnGroups.forEach(a=>{let u=null;a&&(u=t.getProvidedColGroup(a.getGroupId())),!(a&&!u)&&t.setColumnGroupOpened(u,a.isExpanded(),"alignedGridChanged")})}processColumnEvent(e){const t=e.column;let a=null;if(t&&(a=this.columnModel.getColDefCol(t.getColId())),t&&!a)return;const u=this.getMasterColumns(e),{columnApplyStateService:g,columnSizeService:_,ctrlsService:K}=this;switch(e.type){case"columnMoved":{const Gu=e.api.getColumnState().map(Wu=>({colId:Wu.colId}));g.applyColumnState({state:Gu,applyOrder:!0},"alignedGridChanged")}break;case"columnVisible":{const Gu=e.api.getColumnState().map(Wu=>({colId:Wu.colId,hide:Wu.hide}));g.applyColumnState({state:Gu},"alignedGridChanged")}break;case"columnPinned":{const Gu=e.api.getColumnState().map(Wu=>({colId:Wu.colId,pinned:Wu.pinned}));g.applyColumnState({state:Gu},"alignedGridChanged")}break;case"columnResized":{const Ql=e,Gu={};u.forEach(Wu=>{Gu[Wu.getId()]={key:Wu.getColId(),newWidth:Wu.getActualWidth()}}),Ql.flexColumns?.forEach(Wu=>{Gu[Wu.getId()]&&delete Gu[Wu.getId()]}),_.setColumnWidths(Object.values(Gu),!1,Ql.finished,"alignedGridChanged");break}}const al=K.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach(Ql=>{Ql.setGridOption("alwaysShowVerticalScroll",al)})}},Ox={version:kl,moduleName:"@ag-grid-community/aligned-grid",beans:[Ix]};function rx(e,t){const a=e.columnModel.getColDefCol(t);return a?a.getColDef():null}function sv(e){return e.columnModel.getColumnDefs()}function zx(e,t){typeof t=="number"?e.columnSizeService.sizeColumnsToFit(t,"api"):e.ctrlsService.getGridBodyCtrl().sizeColumnsToFit(t)}function Sb(e,t,a){e.columnModel.setColumnGroupOpened(t,a,"api")}function nx(e,t,a){return e.visibleColsService.getColumnGroup(t,a)}function ix(e,t){return e.columnModel.getProvidedColGroup(t)}function kb(e,t,a){return e.columnNameService.getDisplayNameForColumn(t,a)||""}function _b(e,t,a){return e.columnNameService.getDisplayNameForColumnGroup(t,a)||""}function Eb(e,t){return e.columnModel.getColDefCol(t)}function S3(e){return e.columnModel.getColDefCols()}function ox(e,t){return e.columnApplyStateService.applyColumnState(t,"api")}function Nx(e){return e.columnGetStateService.getColumnState()}function Mb(e){e.columnApplyStateService.resetColumnState("api")}function Ab(e){return e.columnGroupStateService.getColumnGroupState()}function Tb(e,t){e.columnGroupStateService.setColumnGroupState(t,"api")}function V1(e){e.columnGroupStateService.resetColumnGroupState("api")}function Bx(e){return e.visibleColsService.isPinningLeft()||e.visibleColsService.isPinningRight()}function Hx(e){return e.visibleColsService.isPinningLeft()}function Qv(e){return e.visibleColsService.isPinningRight()}function ax(e,t){return e.visibleColsService.getColAfter(t)}function sx(e,t){return e.visibleColsService.getColBefore(t)}function Rb(e,t,a){e.columnModel.setColsVisible([t],a,"api")}function Fb(e,t,a){e.columnModel.setColsVisible(t,a,"api")}function Pb(e,t,a){e.columnModel.setColsPinned([t],a,"api")}function Gx(e,t,a){e.columnModel.setColsPinned(t,a,"api")}function Vx(e){return e.columnModel.getCols()}function jx(e){return e.visibleColsService.getLeftCols()}function Ux(e){return e.visibleColsService.getCenterCols()}function Db(e){return e.visibleColsService.getRightCols()}function Wx(e){return e.visibleColsService.getAllCols()}function Lb(e){return e.columnViewportService.getViewportColumns()}function Ib(e,t,a){e.columnMoveService.moveColumns([t],a,"api")}function Ob(e,t,a){e.columnMoveService.moveColumnByIndex(t,a,"api")}function $x(e,t,a){e.columnMoveService.moveColumns(t,a,"api")}function qx(e,t,a,u=!0,g="api"){e.columnSizeService.setColumnWidths([{key:t,newWidth:a}],!1,u,g)}function k3(e,t,a=!0,u="api"){e.columnSizeService.setColumnWidths(t,!1,a,u)}function Yx(e){return e.visibleColsService.getTreeLeft()}function _3(e){return e.visibleColsService.getTreeCenter()}function Kx(e){return e.visibleColsService.getTreeRight()}function q2(e){return e.visibleColsService.getAllTrees()}function Rm(e,t,a){return e.columnAutosizeService.autoSizeCols({colKeys:[t],skipHeader:a,source:"api"})}function Zx(e,t,a){e.columnAutosizeService.autoSizeCols({colKeys:t,skipHeader:a,source:"api"})}function By(e,t){e.columnAutosizeService.autoSizeAllColumns("api",t)}var Y2=class extends Nh{constructor(){super(...arguments),this.beanName="dataTypeService",this.dataTypeDefinitions={},this.isWaitingForRowData=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[]}wireBeans(e){this.rowModel=e.rowModel,this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.valueService=e.valueService,this.columnApplyStateService=e.columnApplyStateService,this.filterManager=e.filterManager}postConstruct(){this.groupHideOpenParents=this.gos.get("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",()=>{this.groupHideOpenParents=this.gos.get("groupHideOpenParents")}),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.columnModel.recreateColumnDefs(Ld(e.source))})}processDataTypeDefinitions(){const e=this.getDefaultDataTypes();this.dataTypeDefinitions={},this.formatValueFuncs={};const t=u=>g=>{const{column:_,node:K,value:rt}=g;let al=_.getColDef().valueFormatter;return al===u.groupSafeValueFormatter&&(al=u.valueFormatter),this.valueService.formatValue(_,K,rt,al)};Object.entries(e).forEach(([u,g])=>{const _={...g,groupSafeValueFormatter:this.createGroupSafeValueFormatter(g)};this.dataTypeDefinitions[u]=_,this.formatValueFuncs[u]=t(_)});const a=this.gos.get("dataTypeDefinitions")??{};this.dataTypeMatchers={},Object.entries(a).forEach(([u,g])=>{const _=this.processDataTypeDefinition(g,a,[u],e);_&&(this.dataTypeDefinitions[u]=_,g.dataTypeMatcher&&(this.dataTypeMatchers[u]=g.dataTypeMatcher),this.formatValueFuncs[u]=t(_))}),this.checkObjectValueHandlers(e),["dateString","text","number","boolean","date"].forEach(u=>{const g=this.dataTypeMatchers[u];g&&delete this.dataTypeMatchers[u],this.dataTypeMatchers[u]=g??e[u].dataTypeMatcher})}mergeDataTypeDefinitions(e,t){const a={...e,...t};return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(a.columnTypes=[...kd(e.columnTypes),...kd(t.columnTypes)]),a}processDataTypeDefinition(e,t,a,u){let g;const _=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let K=u[_];const rt=t[_];if(K&&rt&&(K=rt),!this.validateDataTypeDefinition(e,K,_))return;g=this.mergeDataTypeDefinitions(K,e)}else{if(a.includes(_)){ie('Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.');return}const K=t[_];if(!this.validateDataTypeDefinition(e,K,_))return;const rt=this.processDataTypeDefinition(K,t,[...a,_],u);if(!rt)return;g=this.mergeDataTypeDefinitions(rt,e)}return{...g,groupSafeValueFormatter:this.createGroupSafeValueFormatter(g)}}validateDataTypeDefinition(e,t,a){return t?t.baseDataType!==e.baseDataType?(ie('The "baseDataType" property of a data type definition must match that of its parent.'),!1):!0:(ie(`The data type definition ${a} does not exist.`),!1)}createGroupSafeValueFormatter(e){if(e.valueFormatter)return t=>{if(t.node?.group){const a=(t.colDef.pivotValueColumn??t.column).getAggFunc();if(a){if(a==="first"||a==="last")return e.valueFormatter(t);if(e.baseDataType==="number"&&a!=="count"){if(typeof t.value=="number")return e.valueFormatter(t);if(typeof t.value=="object"){if(!t.value)return;if("toNumber"in t.value)return e.valueFormatter({...t,value:t.value.toNumber()});if("value"in t.value)return e.valueFormatter({...t,value:t.value.value})}}return}if((this.gos.get("suppressGroupMaintainValueType")||this.gos.get("groupDisplayType")==="groupRows")&&!this.gos.get("treeData"))return}else if(this.groupHideOpenParents&&t.column.isRowGroupActive()&&typeof t.value=="string"&&!e.dataTypeMatcher?.(t.value))return;return e.valueFormatter(t)}}updateColDefAndGetColumnType(e,t,a){let{cellDataType:u}=t;const{field:g}=t;if(u===void 0&&(u=e.cellDataType),(u==null||u===!0)&&(u=this.canInferCellDataType(e,t)?this.inferCellDataType(g,a):!1),!u){e.cellDataType=!1;return}const _=this.dataTypeDefinitions[u];if(!_){ie(`Missing data type definition - "${u}"`);return}return e.cellDataType=u,_.groupSafeValueFormatter&&(e.valueFormatter=_.groupSafeValueFormatter),_.valueParser&&(e.valueParser=_.valueParser),_.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,u,_,a),_.columnTypes}addColumnListeners(e){if(!this.isWaitingForRowData)return;const t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;const a=u=>{t.add(u.key)};e.addEventListener("columnStateUpdated",a),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.removeEventListener("columnStateUpdated",a))}canInferCellDataType(e,t){if(!Dd(this.gos))return!1;const a={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(t,a))return!1;const u=t.type===null?e.type:t.type;if(u){const g=this.gos.get("columnTypes")??{};if(kd(u).some(K=>{const rt=g[K.trim()];return rt&&this.doColDefPropsPreventInference(rt,a)}))return!1}return!this.doColDefPropsPreventInference(e,a)}doColDefPropsPreventInference(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([a,u])=>this.doesColDefPropPreventInference(e,t,a,u))}doesColDefPropPreventInference(e,t,a,u){if(!t[a])return!1;const g=e[a];return g===null?(t[a]=!1,!1):u===void 0?!!g:g===u}inferCellDataType(e,t){if(!e)return;let a;const u=this.getInitialData();if(u){const _=e.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");a=Bl(u,e,_)}else this.initWaitForRowData(t);if(a==null)return;const[g]=Object.entries(this.dataTypeMatchers).find(([_,K])=>K(a))??["object"];return g}getInitialData(){const e=this.gos.get("rowData");if(e?.length)return e[0];if(this.initialData)return this.initialData;{const t=this.rowModel.getRootNode().allLeafChildren;if(t?.length)return t[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isWaitingForRowData)return;this.isWaitingForRowData=!0;const t=this.isColumnTypeOverrideInDataTypeDefinitions;t&&this.columnModel.queueResizeOperations();const[a]=this.addManagedEventListeners({rowDataUpdateStarted:u=>{const{firstRowData:g}=u;g&&(a?.(),this.isWaitingForRowData=!1,this.processColumnsPendingInference(g,t),this.columnStateUpdatesPendingInference={},t&&this.columnModel.processResizeOperations(),this.eventService.dispatchEvent({type:"dataTypesInferred"}))}})}isPendingInference(){return this.isWaitingForRowData}processColumnsPendingInference(e,t){this.initialData=e;const a=[];this.destroyColumnStateUpdateListeners();const u={},g={};Object.entries(this.columnStateUpdatesPendingInference).forEach(([_,K])=>{const rt=this.columnModel.getCol(_);if(!rt)return;const al=rt.getColDef();if(!this.columnModel.resetColDefIntoCol(rt,"cellDataTypeInferred"))return;const Ql=rt.getColDef();if(t&&Ql.type&&Ql.type!==al.type){const Gu=this.getUpdatedColumnState(rt,K);Gu.rowGroup&&Gu.rowGroupIndex==null&&(u[_]=Gu),Gu.pivot&&Gu.pivotIndex==null&&(g[_]=Gu),a.push(Gu)}}),t&&a.push(...this.funcColsService.generateColumnStateForRowGroupAndPivotIndexes(u,g)),a.length&&this.columnApplyStateService.applyColumnState({state:a},"cellDataTypeInferred"),this.initialData=null}getUpdatedColumnState(e,t){const a=this.columnApplyStateService.getColumnStateFromColDef(e);return t.forEach(u=>{delete a[u],u==="rowGroup"?delete a.rowGroupIndex:u==="pivot"&&delete a.pivotIndex}),a}checkObjectValueHandlers(e){const t=this.dataTypeDefinitions.object,a=e.object;this.hasObjectValueParser=t.valueParser!==a.valueParser,this.hasObjectValueFormatter=t.valueFormatter!==a.valueFormatter}getDateStringTypeDefinition(e){return e?this.getDataTypeDefinition(e)??this.dataTypeDefinitions.dateString:this.dataTypeDefinitions.dateString}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDataTypeDefinition(e){const t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){return this.getDataTypeDefinition(e)?.baseDataType}checkType(e,t){if(t==null)return!0;const a=this.getDataTypeDefinition(e)?.dataTypeMatcher;return a?a(t):!0}validateColDef(e){const t=a=>ie(`Cell data type is "object" but no Value ${a} has been provided. Please either provide an object data type definition with a Value ${a}, or set "colDef.value${a}"`);e.cellDataType==="object"&&(e.valueFormatter===this.dataTypeDefinitions.object.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&t("Formatter"),e.editable&&e.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&t("Parser"))}getFormatValue(e){return this.formatValueFuncs[e]}setColDefPropertiesForBaseDataType(e,t,a,u){const g=this.formatValueFuncs[t];switch(a.baseDataType){case"number":{e.cellEditor="agNumberCellEditor";break}case"boolean":{e.cellEditor="agCheckboxCellEditor",e.cellRenderer="agCheckboxCellRenderer",e.suppressKeyboardEvent=_=>!!_.colDef.editable&&_.event.key===pf.SPACE;break}case"date":{e.cellEditor="agDateCellEditor",e.keyCreator=g;break}case"dateString":{e.cellEditor="agDateStringCellEditor",e.keyCreator=g;break}case"object":{e.cellEditorParams={useFormatter:!0},e.comparator=(_,K)=>{const rt=this.columnModel.getColDefCol(u),al=rt?.getColDef();if(!rt||!al)return 0;const Ql=_==null?"":g({column:rt,node:null,value:_}),Gu=K==null?"":g({column:rt,node:null,value:K});return Ql===Gu?0:Ql>Gu?1:-1},e.keyCreator=g;break}}this.filterManager?.setColDefPropertiesForDataType(e,a,g)}getDefaultDataTypes(){const e=a=>!!a.match("^\\d{4}-\\d{2}-\\d{2}$"),t=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:a=>a.newValue?.trim?.()===""?null:Number(a.newValue),valueFormatter:a=>a.value==null?"":typeof a.value!="number"||isNaN(a.value)?t("invalidNumber","Invalid Number"):String(a.value),dataTypeMatcher:a=>typeof a=="number"},text:{baseDataType:"text",valueParser:a=>a.newValue===""?null:Id(a.newValue),dataTypeMatcher:a=>typeof a=="string"},boolean:{baseDataType:"boolean",valueParser:a=>a.newValue==null?a.newValue:a.newValue?.trim?.()===""?null:String(a.newValue).toLowerCase()==="true",valueFormatter:a=>a.value==null?"":String(a.value),dataTypeMatcher:a=>typeof a=="boolean"},date:{baseDataType:"date",valueParser:a=>q(a.newValue==null?null:String(a.newValue)),valueFormatter:a=>a.value==null?"":!(a.value instanceof Date)||isNaN(a.value.getTime())?t("invalidDate","Invalid Date"):Q(a.value,!1)??"",dataTypeMatcher:a=>a instanceof Date},dateString:{baseDataType:"dateString",dateParser:a=>q(a)??void 0,dateFormatter:a=>Q(a??null,!1)??void 0,valueParser:a=>e(String(a.newValue))?a.newValue:null,valueFormatter:a=>e(String(a.value))?a.value:"",dataTypeMatcher:a=>typeof a=="string"&&e(a)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:a=>Id(a.value)??""}}}destroyColumnStateUpdateListeners(){this.columnStateUpdateListenerDestroyFuncs.forEach(e=>e()),this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}},lx={version:kl,moduleName:"@ag-grid-community/data-type",beans:[Y2]},zb={version:kl,moduleName:"@ag-grid-community/column-api",apiFunctions:{getColumnDef:rx,getColumnDefs:sv,sizeColumnsToFit:zx,setColumnGroupOpened:Sb,getColumnGroup:nx,getProvidedColumnGroup:ix,getDisplayNameForColumn:kb,getDisplayNameForColumnGroup:_b,getColumn:Eb,getColumns:S3,applyColumnState:ox,getColumnState:Nx,resetColumnState:Mb,getColumnGroupState:Ab,setColumnGroupState:Tb,resetColumnGroupState:V1,isPinning:Bx,isPinningLeft:Hx,isPinningRight:Qv,getDisplayedColAfter:ax,getDisplayedColBefore:sx,setColumnVisible:Rb,setColumnsVisible:Fb,setColumnPinned:Pb,setColumnsPinned:Gx,getAllGridColumns:Vx,getDisplayedLeftColumns:jx,getDisplayedCenterColumns:Ux,getDisplayedRightColumns:Db,getAllDisplayedColumns:Wx,getAllDisplayedVirtualColumns:Lb,moveColumn:Ib,moveColumnByIndex:Ob,moveColumns:$x,setColumnWidth:qx,setColumnWidths:k3,getLeftDisplayedColumnGroups:Yx,getCenterDisplayedColumnGroups:_3,getRightDisplayedColumnGroups:Kx,getAllDisplayedColumnGroups:q2,autoSizeColumn:Rm,autoSizeColumns:Zx,autoSizeAllColumns:By}};function ux(e,t){e.ctrlsService.getGridBodyCtrl().getRowDragFeature().addRowDropZone(t)}function E3(e,t){const a=e.dragAndDropService.findExternalZone(t);a&&e.dragAndDropService.removeDropTarget(a)}function Xx(e,t){return e.ctrlsService.getGridBodyCtrl().getRowDragFeature().getRowDropZone(t)}var Nb={version:kl,moduleName:"@ag-grid-community/drag-api",apiFunctions:{addRowDropZone:ux,removeRowDropZone:E3,getRowDropZoneParams:Xx}};function Bb(e){return e.pinnedRowModel.getPinnedTopRowCount()}function Hb(e){return e.pinnedRowModel.getPinnedBottomRowCount()}function Gb(e,t){return e.pinnedRowModel.getPinnedTopRow(t)}function cx(e,t){return e.pinnedRowModel.getPinnedBottomRow(t)}var Vb={version:kl,moduleName:"@ag-grid-community/pinned-row-api",apiFunctions:{getPinnedTopRowCount:Bb,getPinnedBottomRowCount:Hb,getPinnedTopRow:Gb,getPinnedBottomRow:cx}};function jb(e){e.overlayService.showLoadingOverlay()}function M(e){e.overlayService.showNoRowsOverlay()}function oe(e){e.overlayService.hideOverlay()}var st={version:kl,moduleName:"@ag-grid-community/overlay-api",apiFunctions:{showLoadingOverlay:jb,showNoRowsOverlay:M,hideOverlay:oe}};function fl(e,t,a){if(!t)return;const u=e.ctrlsService.getGridBodyCtrl().getGui(),g=`aria-${t}`;a===null?u.removeAttribute(g):u.setAttribute(g,a)}function Cl(e,t={}){e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.refreshCells(t))}function Rl(e,t={}){const a=u=>ie(`Since v31.1 api.flashCells parameter '${u}Delay' is deprecated. Please use '${u}Duration' instead.`);Vu(t.fadeDelay)&&a("fade"),Vu(t.flashDelay)&&a("flash"),e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.flashCells(t))}function Mu(e){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getHeaderRowContainerCtrls().forEach(t=>t.refresh()))}function hu(e){return e.animationFrameService.isQueueEmpty()}function Uu(e){e.animationFrameService.flushAllFrames()}function cd(e){return{rowHeight:Ef(e.gos),headerHeight:e.columnModel.getHeaderHeight()}}function pd(e,t={}){return e.rowRenderer.getCellRendererInstances(t).map(gv)}var Vd={version:kl,moduleName:"@ag-grid-community/render-api",apiFunctions:{setGridAriaProperty:fl,refreshCells:Cl,flashCells:Rl,refreshHeader:Mu,isAnimationFrameQueueEmpty:hu,flushAllAnimationFrames:Uu,getSizesForCurrentTheme:cd,getCellRendererInstances:pd}};function Zd(e){e.valueCache.expire()}function Eh(e,t,a){return Vh(e,{colKey:t,rowNode:a})}function Vh(e,t){const{colKey:a,rowNode:u,useFormatter:g}=t,_=e.columnModel.getColDefCol(a)??e.columnModel.getCol(a);if(Zu(_))return null;const K=e.valueService.getValueForDisplay(_,u);return g?e.valueService.formatValue(_,u,K)??Rh(K,!0):K}function Jd(e){return e.context.getGridId()}function bh(e){e.gridDestroyService.destroy()}function Sh(e){return e.gridDestroyService.isDestroyCalled()}function Bh(e,t){return e.gos.get(t)}function Gh(e,t,a){kh(e,{[t]:a})}function kh(e,t){e.gos.updateGridOptions({options:t})}function Nf(e,t,a){e.apiEventService.addEventListener(t,a)}function yp(e,t,a){e.apiEventService.removeEventListener(t,a)}function kp(e,t){e.apiEventService.addGlobalListener(t)}function wp(e,t){e.apiEventService.removeGlobalListener(t)}function Np(e){return e.focusService.getFocusedCell()}function Bp(e){return e.focusService.clearFocusedCell()}function P0(e,t,a,u){e.focusService.setFocusedCell({rowIndex:t,column:a,rowPinned:u,forceBrowserFocus:!0})}function Wp(e,t){return e.navigationService.tabToNextCell(!1,t)}function k0(e,t){return e.navigationService.tabToNextCell(!0,t)}function Ig(e,t,a=!1){const u=e.headerNavigationService.getHeaderPositionForColumn(t,a);u&&e.focusService.focusHeaderPosition({headerPosition:u})}function bm(e,t,a){const u=e.columnModel.getCol(t);e.menuService.showColumnMenu({column:u,buttonElement:a,positionBy:"button"})}function Wg(e,t,a){let u=e.columnModel.getCol(t);if(u||(u=e.columnModel.getColDefCol(t)),!u){Et(`column '${t}' not found`);return}e.menuService.showColumnMenu({column:u,mouseEvent:a,positionBy:"mouse"})}function gp(e,t){const a=e.columnModel.getCol(t);if(!a){Et(`column '${t}' not found`);return}e.menuService.showColumnMenu({column:a,positionBy:"auto"})}function D0(e){e.menuService.hidePopupMenu()}function U0(e,t={}){const a=t?t.rowNodes:void 0;e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.redrawRows(a))}function Og(e,t,a,u,g){e.expansionService.setRowNodeExpanded(t,a,u,g)}function mm(e,t){return e.rowModel.getRowNode(t)}function Fm(e,t,a,u){e.rowRenderer.addRenderedRowListener(t,a,u)}function $m(e){return e.rowRenderer.getRenderedNodes()}function a1(e,t,a){e.rowModel.forEachNode(t,a)}function h1(e){return Xm(e)}function Xm(e){return e.rowRenderer.getFirstVirtualRenderedRow()}function w1(e){return qm(e)}function qm(e){return e.rowRenderer.getLastVirtualRenderedRow()}function C1(e,t){return e.rowModel.getRow(t)}function Hy(e){return e.rowModel.getRowCount()}function Ub(e){return e.rowModel}function lv(e,t){if(!t.nodes.every(rt=>rt.rowPinned?(ie("cannot select pinned rows"),!1):rt.id===void 0?(ie("cannot select node until id for node is known"),!1):!0))return;const{nodes:u,source:g,newValue:_}=t,K=u;e.selectionService.setNodesSelected({nodes:K,source:g??"api",newValue:_})}function Ym(e,t="apiSelectAll"){e.selectionService.selectAllRowNodes({source:t})}function j1(e,t="apiSelectAll"){e.selectionService.deselectAllRowNodes({source:t})}function xv(e,t="apiSelectAllFiltered"){e.selectionService.selectAllRowNodes({source:t,justFiltered:!0})}function U1(e,t="apiSelectAllFiltered"){e.selectionService.deselectAllRowNodes({source:t,justFiltered:!0})}function b2(e,t="apiSelectAllCurrentPage"){e.selectionService.selectAllRowNodes({source:t,justCurrentPage:!0})}function Gy(e,t="apiSelectAllCurrentPage"){e.selectionService.deselectAllRowNodes({source:t,justCurrentPage:!0})}function Jv(e){return e.selectionService.getSelectedNodes()}function M3(e){return e.selectionService.getSelectedRows()}function Qx(e){e.sortController.onSortChanged("api")}var _C={version:kl,moduleName:"@ag-grid-community/core-api",apiFunctions:{getGridId:Jd,destroy:bh,isDestroyed:Sh,getGridOption:Bh,setGridOption:Gh,updateGridOptions:kh}},EC={version:kl,moduleName:"@ag-grid-community/row-selection-api",apiFunctions:{setNodesSelected:lv,selectAll:Ym,deselectAll:j1,selectAllFiltered:xv,deselectAllFiltered:U1,selectAllOnCurrentPage:b2,deselectAllOnCurrentPage:Gy,getSelectedNodes:Jv,getSelectedRows:M3}},MC={version:kl,moduleName:"@ag-grid-community/row-api",apiFunctions:{redrawRows:U0,setRowNodeExpanded:Og,getRowNode:mm,addRenderedRowListener:Fm,getRenderedNodes:$m,forEachNode:a1,getFirstDisplayedRow:h1,getFirstDisplayedRowIndex:Xm,getLastDisplayedRow:w1,getLastDisplayedRowIndex:qm,getDisplayedRowAtIndex:C1,getDisplayedRowCount:Hy,getModel:Ub}},AC={version:kl,moduleName:"@ag-grid-community/scroll-api",apiFunctions:{getVerticalPixelRange:Zp,getHorizontalPixelRange:o0,ensureColumnVisible:s0,ensureIndexVisible:xm,ensureNodeVisible:df}},TC={version:kl,moduleName:"@ag-grid-community/keyboard-navigation-api",apiFunctions:{getFocusedCell:Np,clearFocusedCell:Bp,setFocusedCell:P0,setFocusedHeader:Ig,tabToNextCell:Wp,tabToPreviousCell:k0}},RC={version:kl,moduleName:"@ag-grid-community/event-api",apiFunctions:{addEventListener:Nf,addGlobalListener:kp,removeEventListener:yp,removeGlobalListener:wp}},FC={version:kl,moduleName:"@ag-grid-community/cell-api",apiFunctions:{expireValueCache:Zd,getValue:Eh,getCellValue:Vh}},dw={version:kl,moduleName:"@ag-grid-community/menu-api",apiFunctions:{showColumnMenuAfterButtonClick:bm,showColumnMenuAfterMouseClick:Wg,showColumnMenu:gp,hidePopupMenu:D0}},PC={version:kl,moduleName:"@ag-grid-community/sort-api",apiFunctions:{onSortChanged:Qx}},DC={version:kl,moduleName:"@ag-grid-community/api",dependantModules:[_C,Vb,EC,zb,MC,Nb,AC,st,TC,RC,Vd,FC,dw,PC]};function LC(e){return e.stateService?.getState()??{}}function IC(e){switch(e={...e},e.version||(e.version="32.1.0"),e.version){case"32.1.0":e=OC(e)}return e}function OC(e){return e.cellSelection=zC(e,"rangeSelection"),e}function zC(e,t){if(e&&typeof e=="object")return e[t]}var NC=class extends Nh{constructor(){super(...arguments),this.beanName="stateService",this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=Kl(()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=Kl(()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),0),this.onRowSelectedDebounced=Kl(()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}wireBeans(e){this.filterManager=e.filterManager,this.ctrlsService=e.ctrlsService,this.pivotResultColsService=e.pivotResultColsService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnGroupStateService=e.columnGroupStateService,this.columnGetStateService=e.columnGetStateService,this.paginationService=e.paginationService,this.selectionService=e.selectionService,this.expansionService=e.expansionService,this.columnAnimationService=e.columnAnimationService,this.columnApplyStateService=e.columnApplyStateService,this.sideBarService=e.sideBarService,this.rangeService=e.rangeService}postConstruct(){this.isClientSideRowModel=Dd(this.gos),this.cachedState=this.getInitialState(),this.setCachedStateValue("version",kl),this.ctrlsService.whenReady(this,()=>this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnGridReady()));const[e,t,a]=this.addManagedEventListeners({newColumnsLoaded:({source:u})=>{u==="gridInitializing"&&(e(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnColumnsInitialised()))},rowCountReady:()=>{t?.(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnRowCountReady())},firstDataRendered:()=>{a?.(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnFirstDataRendered())}})}getInitialState(){return IC(this.gos.get("initialState")??{})}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setupStateOnGridReady(){this.updateCachedState("sideBar",this.getSideBarState());const e=()=>this.updateCachedState("sideBar",this.getSideBarState());this.addManagedEventListeners({toolPanelVisibleChanged:e,sideBarUpdated:e})}setupStateOnColumnsInitialised(){const e=this.getInitialState();this.setColumnState(e),this.setColumnGroupState(e),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState());const t=a=>()=>this.updateColumnState([a]);this.addManagedEventListeners({columnValueChanged:t("aggregation"),columnMoved:t("columnOrder"),columnPinned:t("columnPinning"),columnResized:t("columnSizing"),columnVisible:t("columnVisibility"),columnPivotChanged:t("pivot"),columnPivotModeChanged:t("pivot"),columnRowGroupChanged:t("rowGroup"),sortChanged:t("sort"),newColumnsLoaded:()=>this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"]),columnGroupOpened:()=>this.updateCachedState("columnGroup",this.getColumnGroupState())})}setupStateOnRowCountReady(){const{filter:e,rowGroupExpansion:t,rowSelection:a,pagination:u}=this.getInitialState(),g=this.gos.get("advancedFilterModel");(e||g)&&this.setFilterState(e,g),t&&this.setRowGroupExpansionState(t),a&&this.setRowSelectionState(a),u&&this.setPaginationState(u),this.updateCachedState("filter",this.getFilterState()),this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("rowSelection",this.getRowSelectionState()),this.updateCachedState("pagination",this.getPaginationState());const _=()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState());this.addManagedEventListeners({filterChanged:()=>this.updateCachedState("filter",this.getFilterState()),rowGroupOpened:()=>this.onRowGroupOpenedDebounced(),expandOrCollapseAll:_,columnRowGroupChanged:_,rowDataUpdated:()=>{this.gos.get("groupDefaultExpanded")!==0&&setTimeout(()=>{_()})},selectionChanged:()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()},paginationChanged:K=>{(K.newPage||K.newPageSize)&&this.updateCachedState("pagination",this.getPaginationState())}})}setupStateOnFirstDataRendered(){const{scroll:e,cellSelection:t,focusedCell:a,columnOrder:u}=this.getInitialState();a&&this.setFocusedCellState(a),t&&this.setCellSelectionState(t),e&&this.setScrollState(e),this.setColumnPivotState(!!u?.orderedColIds),this.updateCachedState("sideBar",this.getSideBarState()),this.updateCachedState("focusedCell",this.getFocusedCellState());const g=this.getRangeSelectionState();this.updateCachedState("rangeSelection",g),this.updateCachedState("cellSelection",g),this.updateCachedState("scroll",this.getScrollState()),this.addManagedEventListeners({cellFocused:()=>this.updateCachedState("focusedCell",this.getFocusedCellState()),cellSelectionChanged:_=>{if(_.finished){const K=this.getRangeSelectionState();this.updateCachedState("rangeSelection",K),this.updateCachedState("cellSelection",K)}},bodyScrollEnd:()=>this.updateCachedState("scroll",this.getScrollState())})}getColumnState(){const e=this.columnModel.isPivotMode(),t=[],a=[],u=[],g=[],_=[],K=[],rt=[],al=[],Ql=[];let Gu=0;const Wu=this.columnGetStateService.getColumnState();for(let id=0;id<Wu.length;id++){const{colId:uh,sort:Qh,sortIndex:uf,rowGroup:tf,rowGroupIndex:Hf,aggFunc:Vf,pivot:Bf,pivotIndex:Kp,pinned:K0,hide:h0,width:x0,flex:Mg}=Wu[id];Ql.push(uh),Qh&&(t[uf??Gu++]={colId:uh,sort:Qh}),tf&&(a[Hf??0]=uh),typeof Vf=="string"&&u.push({colId:uh,aggFunc:Vf}),Bf&&(g[Kp??0]=uh),K0&&(K0==="right"?K:_).push(uh),h0&&rt.push(uh),(Mg||x0)&&al.push({colId:uh,flex:Mg??void 0,width:x0})}return{sort:t.length?{sortModel:t}:void 0,rowGroup:a.length?{groupColIds:a}:void 0,aggregation:u.length?{aggregationModel:u}:void 0,pivot:g.length||e?{pivotMode:e,pivotColIds:g}:void 0,columnPinning:_.length||K.length?{leftColIds:_,rightColIds:K}:void 0,columnVisibility:rt.length?{hiddenColIds:rt}:void 0,columnSizing:al.length?{columnSizingModel:al}:void 0,columnOrder:Ql.length?{orderedColIds:Ql}:void 0}}setColumnState(e){const{sort:t,rowGroup:a,aggregation:u,pivot:g,columnPinning:_,columnVisibility:K,columnSizing:rt,columnOrder:al,partialColumnState:Ql}=e,Gu={},Wu=tf=>{let Hf=Gu[tf];return Hf||(Hf={colId:tf},Gu[tf]=Hf,Hf)},id=Ql?{}:{sort:null,sortIndex:null,rowGroup:null,rowGroupIndex:null,aggFunc:null,pivot:null,pivotIndex:null,pinned:null,hide:null,flex:null};t&&(t.sortModel.forEach(({colId:tf,sort:Hf},Vf)=>{const Bf=Wu(tf);Bf.sort=Hf,Bf.sortIndex=Vf}),id.sort=null,id.sortIndex=null),a&&(a.groupColIds.forEach((tf,Hf)=>{const Vf=Wu(tf);Vf.rowGroup=!0,Vf.rowGroupIndex=Hf}),id.rowGroup=null,id.rowGroupIndex=null),u&&(u.aggregationModel.forEach(({colId:tf,aggFunc:Hf})=>{Wu(tf).aggFunc=Hf}),id.aggFunc=null),g&&(g.pivotColIds.forEach((tf,Hf)=>{const Vf=Wu(tf);Vf.pivot=!0,Vf.pivotIndex=Hf}),this.gos.updateGridOptions({options:{pivotMode:g.pivotMode},source:"gridInitializing"}),id.pivot=null,id.pivotIndex=null),_&&(_.leftColIds.forEach(tf=>{Wu(tf).pinned="left"}),_.rightColIds.forEach(tf=>{Wu(tf).pinned="right"}),id.pinned=null),K&&(K.hiddenColIds.forEach(tf=>{Wu(tf).hide=!0}),id.hide=null),rt&&(rt.columnSizingModel.forEach(({colId:tf,flex:Hf,width:Vf})=>{const Bf=Wu(tf);Bf.flex=Hf??null,Bf.width=Vf}),id.flex=null);const uh=al?.orderedColIds,Qh=!!uh?.length,uf=Qh?uh.map(tf=>Wu(tf)):Object.values(Gu);uf.length&&(this.columnStates=uf,this.columnApplyStateService.applyColumnState({state:uf,applyOrder:Qh,defaultState:id},"gridInitializing"))}setColumnPivotState(e){const t=this.columnStates;this.columnStates=void 0;const a=this.columnGroupStates;if(this.columnGroupStates=void 0,!!this.pivotResultColsService.isPivotResultColsPresent()){if(t){const u=[];for(const g of t)this.pivotResultColsService.getPivotResultCol(g.colId)&&u.push(g);this.columnApplyStateService.applyColumnState({state:u,applyOrder:e},"gridInitializing")}a&&this.columnGroupStateService.setColumnGroupState(a,"gridInitializing")}}getColumnGroupState(){const e=this.columnGroupStateService.getColumnGroupState(),t=[];return e.forEach(({groupId:a,open:u})=>{u&&t.push(a)}),t.length?{openColumnGroupIds:t}:void 0}setColumnGroupState(e){if(!Object.prototype.hasOwnProperty.call(e,"columnGroup"))return;const t=new Set(e.columnGroup?.openColumnGroupIds),u=this.columnGroupStateService.getColumnGroupState().map(({groupId:g})=>{const _=t.has(g);return _&&t.delete(g),{groupId:g,open:_}});t.forEach(g=>{u.push({groupId:g,open:!0})}),u.length&&(this.columnGroupStates=u),this.columnGroupStateService.setColumnGroupState(u,"gridInitializing")}getFilterState(){let e=this.filterManager?.getFilterModel();e&&Object.keys(e).length===0&&(e=void 0);const t=this.filterManager?.getAdvancedFilterModel()??void 0;return e||t?{filterModel:e,advancedFilterModel:t}:void 0}setFilterState(e,t){const{filterModel:a,advancedFilterModel:u}=e??{advancedFilterModel:t};a&&this.filterManager?.setFilterModel(a,"columnFilter"),u&&this.filterManager?.setAdvancedFilterModel(u)}getRangeSelectionState(){const e=this.rangeService?.getCellRanges().map(t=>{const{id:a,type:u,startRow:g,endRow:_,columns:K,startColumn:rt}=t;return{id:a,type:u,startRow:g,endRow:_,colIds:K.map(al=>al.getColId()),startColId:rt.getColId()}});return e?.length?{cellRanges:e}:void 0}setCellSelectionState(e){const{gos:t,rangeService:a,columnModel:u,visibleColsService:g}=this;if(!hp(t)||!a)return;const _=[];if(e.cellRanges.forEach(K=>{const rt=[];if(K.colIds.forEach(Ql=>{const Gu=u.getCol(Ql);Gu&&rt.push(Gu)}),!rt.length)return;let al=u.getCol(K.startColId);if(!al){const Ql=g.getAllCols(),Gu=new Set(rt);al=Ql.find(Wu=>Gu.has(Wu))}_.push({...K,columns:rt,startColumn:al})}),mp(t)&&rf(t)&&_.length>1)return ie("cannot add multiple ranges when `cellSelection.suppressMultiRanges = true`");a.setCellRanges(_)}getScrollState(){if(!this.isClientSideRowModel)return;const e=this.ctrlsService.getGridBodyCtrl()?.getScrollFeature(),{left:t}=e?.getHScrollPosition()??{left:0},{top:a}=e?.getVScrollPosition()??{top:0};return a||t?{top:a,left:t}:void 0}setScrollState(e){if(!this.isClientSideRowModel)return;const{top:t,left:a}=e;this.ctrlsService.getGridBodyCtrl()?.getScrollFeature().setScrollPosition(t,a)}getSideBarState(){return this.sideBarService?.getSideBarComp()?.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;const e=this.focusService.getFocusedCell();if(e){const{column:t,rowIndex:a,rowPinned:u}=e;return{colId:t.getColId(),rowIndex:a,rowPinned:u}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;const{colId:t,rowIndex:a,rowPinned:u}=e;this.focusService.setFocusedCell({column:this.columnModel.getCol(t),rowIndex:a,rowPinned:u,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){if(!this.paginationService)return;const e=this.paginationService.getCurrentPage(),t=this.gos.get("paginationAutoPageSize")?void 0:this.paginationService.getPageSize();if(!(!e&&!t))return{page:e,pageSize:t}}setPaginationState(e){this.paginationService&&(e.pageSize&&!this.gos.get("paginationAutoPageSize")&&this.paginationService.setPageSize(e.pageSize,"initialState"),typeof e.page=="number"&&this.paginationService.setPage(e.page))}getRowSelectionState(){const e=this.selectionService.getSelectionState();return!e||!Array.isArray(e)&&(e.selectAll===!1||e.selectAllChildren===!1)&&!e?.toggledNodes?.length?void 0:e}setRowSelectionState(e){this.selectionService.setSelectionState(e,"gridInitializing")}getRowGroupExpansionState(){const e=this.expansionService.getExpandedRows();return e.length?{expandedRowGroupIds:e}:void 0}setRowGroupExpansionState(e){this.expansionService.expandRows(e.expandedRowGroupIds)}updateColumnState(e){const t=this.getColumnState();let a=!1;Object.entries(t).forEach(([u,g])=>{jd(g,this.cachedState[u])||(a=!0)}),this.cachedState={...this.cachedState,...t},a&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,t){const a=this.cachedState[e];this.setCachedStateValue(e,t),jd(t,a)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,t){this.cachedState={...this.cachedState,[e]:t}}refreshStaleState(){this.staleStateKeys.forEach(e=>{switch(e){case"rowSelection":this.setCachedStateValue(e,this.getRowSelectionState());break}}),this.staleStateKeys.clear()}dispatchStateUpdateEvent(e){this.suppressEvents||(e.forEach(t=>this.queuedUpdateSources.add(t)),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){const e=Array.from(this.queuedUpdateSources);this.queuedUpdateSources.clear(),this.eventService.dispatchEvent({type:"stateUpdated",sources:e,state:this.cachedState})}suppressEventsAndDispatchInitEvent(e){this.suppressEvents=!0,this.columnAnimationService.setSuppressAnimation(!0),e(),setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(this.columnAnimationService.setSuppressAnimation(!1),this.dispatchStateUpdateEvent(["gridInitializing"]))})}},hw={version:kl,moduleName:"@ag-grid-community/state-core",beans:[NC]},BC={version:kl,moduleName:"@ag-grid-community/state-api",apiFunctions:{getState:LC},dependantModules:[hw]},HC={version:kl,moduleName:"@ag-grid-community/state",dependantModules:[hw,BC]};function GC(e){return e.rowModel.isLastRowIndexKnown()}function VC(e){return e.paginationService?.getPageSize()??100}function jC(e){return e.paginationService?.getCurrentPage()??0}function UC(e){return e.paginationService?.getTotalPages()??1}function WC(e){return e.paginationService?e.paginationService.getMasterRowCount():e.rowModel.getRowCount()}function $C(e){e.paginationService?.goToNextPage()}function qC(e){e.paginationService?.goToPreviousPage()}function YC(e){e.paginationService?.goToFirstPage()}function KC(e){e.paginationService?.goToLastPage()}function ZC(e,t){e.paginationService?.goToPage(t)}var XC=class extends Nh{constructor(){super(...arguments),this.beanName="paginationAutoPageSizeService"}wireBeans(e){this.ctrlsService=e.ctrlsService,this.paginationService=e.paginationService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.centerRowsCtrl=e.center;const t=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:t,scrollVisibilityChanged:t}),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gos.get("paginationAutoPageSize")||this.centerRowsCtrl==null}onPaginationAutoSizeChanged(){this.notActive()?this.paginationService.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;const e=this.centerRowsCtrl.getViewportSizeFeature().getBodyHeight();if(e>0){const t=()=>{const a=Math.max(Ef(this.gos),1),u=Math.floor(e/a);this.paginationService.setPageSize(u,"autoCalculated")};this.isBodyRendered?Kl(()=>t(),50)():(t(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}};function fw(e,t,a){e.addManagedElementListeners(t,{keydown:u=>{if(!u.defaultPrevented&&u.key===pf.TAB){const g=u.shiftKey;a.findNextFocusableElement(t,!1,g)||a.focusNextGridCoreContainer(g)&&u.preventDefault()}}})}var dx="paginationPageSizeSelector",QC=class extends bg{constructor(){super('<span class="ag-paging-page-size"></span>'),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;const e=this.selectPageSizeComp.getValue();if(!e)return;const t=Number(e);isNaN(t)||t<1||t===this.paginationService.getPageSize()||(this.paginationService.setPageSize(t,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}wireBeans(e){this.paginationService=e.paginationService}postConstruct(){this.addManagedPropertyListener(dx,()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedEventListeners({paginationChanged:e=>this.handlePaginationChanged(e)})}handlePaginationChanged(e){if(!this.selectPageSizeComp||!e?.newPageSize)return;const t=this.paginationService.getPageSize();this.getPageSizeSelectorValues().includes(t)?this.selectPageSizeComp.setValue(t.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&!e&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp)}reset(){Dm(this.getGui()),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp))}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&this.gos.get(dx)!==!1}reloadPageSizesSelector(){const e=this.getPageSizeSelectorValues(),t=this.paginationService.getPageSize(),a=!t||!e.includes(t);if(a){const g=this.gos.exists("paginationPageSize"),_=this.gos.get(dx)!==!0;ie(`'paginationPageSize=${t}'${g?"":" (default value)"}, but ${t} is not included in${_?"":" the default"} paginationPageSizeSelector=[${e.join(", ")}].`),_||ie(`Either set '${dx}' to an array that includes ${t} or to 'false' to disable the page size selector.`),e.unshift("")}const u=String(a?"":t);this.selectPageSizeComp?(Xg(this.pageSizeOptions,e)||(this.selectPageSizeComp.clearOptions().addOptions(this.createPageSizeSelectOptions(e)),this.pageSizeOptions=e),this.selectPageSizeComp.setValue(u,!0)):this.createPageSizeSelectorComp(e,u),this.hasEmptyOption=a}createPageSizeSelectOptions(e){return e.map(t=>({value:String(t)}))}createPageSizeSelectorComp(e,t){const a=this.localeService.getLocaleTextFunc(),u=a("pageSizeSelectorLabel","Page Size:"),g=a("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new Sm).addOptions(this.createPageSizeSelectOptions(e)).setValue(t).setAriaLabel(g).setLabel(u).onValueChange(()=>this.handlePageSizeItemSelected()),this.appendChild(this.selectPageSizeComp)}getPageSizeSelectorValues(){const e=[20,50,100],t=this.gos.get(dx);return!Array.isArray(t)||Od(t)?e:[...t].sort((a,u)=>a-u)}destroy(){this.toggleSelectDisplay(!1),super.destroy()}},JC={selector:"AG-PAGE-SIZE-SELECTOR",component:QC},e5=class extends $3{constructor(){super(),this.btFirst=Dp,this.btPrevious=Dp,this.btNext=Dp,this.btLast=Dp,this.lbRecordCount=Dp,this.lbFirstRowOnPage=Dp,this.lbLastRowOnPage=Dp,this.lbCurrent=Dp,this.lbTotal=Dp,this.pageSizeComp=Dp,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1}wireBeans(e){this.rowModel=e.rowModel,this.paginationService=e.paginationService,this.focusService=e.focusService,this.ariaAnnouncementService=e.ariaAnnouncementService}postConstruct(){const e=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[JC]);const{btFirst:t,btPrevious:a,btNext:u,btLast:g}=this;this.activateTabIndex([t,a,u,g]),t.insertAdjacentElement("afterbegin",Vm(e?"last":"first",this.gos)),a.insertAdjacentElement("afterbegin",Vm(e?"next":"previous",this.gos)),u.insertAdjacentElement("afterbegin",Vm(e?"previous":"next",this.gos)),g.insertAdjacentElement("afterbegin",Vm(e?"first":"last",this.gos)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:_=>{this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(_):this.focusService.focusGridInnerElement(_)},forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}setAllowFocus(e){this.allowFocusInnerElement=e}onPaginationChanged(){const t=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(t),t&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){this.areListenersSetup||(this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)}),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(e=>{const{el:t,fn:a}=e;this.addManagedListeners(t,{click:a,keydown:u=>{(u.key===pf.ENTER||u.key===pf.SPACE)&&(u.preventDefault(),a())}})}),fw(this,this.getGui(),this.focusService),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.paginationService.goToFirstPage()}formatNumber(e){const t=this.gos.getCallback("paginationNumberFormatter");if(t)return t({value:e});const a=this.localeService.getLocaleTextFunc(),u=a("thousandSeparator",","),g=a("decimalSeparator",".");return U(e,u,g)}getTemplate(){const e=this.localeService.getLocaleTextFunc(),t=e("page","Page"),a=e("to","to"),u=e("of","of"),g=e("firstPage","First Page"),_=e("previousPage","Previous Page"),K=e("nextPage","Next Page"),rt=e("lastPage","Last Page"),al=this.getCompId();return`<div class="ag-paging-panel ag-unselectable" id="ag-${al}">
                <ag-page-size-selector data-ref="pageSizeComp"></ag-page-size-selector>
                <span class="ag-paging-row-summary-panel">
                    <span id="ag-${al}-first-row" data-ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${al}-to">${a}</span>
                    <span id="ag-${al}-last-row" data-ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${al}-of">${u}</span>
                    <span id="ag-${al}-row-count" data-ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>
                </span>
                <span class="ag-paging-page-summary-panel" role="presentation">
                    <div data-ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="${g}"></div>
                    <div data-ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="${_}"></div>
                    <span class="ag-paging-description">
                        <span id="ag-${al}-start-page">${t}</span>
                        <span id="ag-${al}-start-page-number" data-ref="lbCurrent" class="ag-paging-number"></span>
                        <span id="ag-${al}-of-page">${u}</span>
                        <span id="ag-${al}-of-page-number" data-ref="lbTotal" class="ag-paging-number"></span>
                    </span>
                    <div data-ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="${K}"></div>
                    <div data-ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="${rt}"></div>
                </span>
            </div>`}onBtNext(){this.nextButtonDisabled||this.paginationService.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.paginationService.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.paginationService.goToLastPage()}enableOrDisableButtons(){const e=this.paginationService.getCurrentPage(),t=this.rowModel.isLastRowIndexKnown(),a=this.paginationService.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const u=this.isZeroPagesToDisplay(),g=e===a-1;this.nextButtonDisabled=g||u,this.lastButtonDisabled=!t||u||e===a-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){Jh(e,t),e.classList.toggle("ag-disabled",t)}isZeroPagesToDisplay(){const e=this.rowModel.isLastRowIndexKnown(),t=this.paginationService.getTotalPages();return e&&t===0}updateLabels(){const e=this.rowModel.isLastRowIndexKnown(),t=this.paginationService.getTotalPages(),a=this.paginationService.getMasterRowCount(),u=e?a:null;if(u===1){const Vf=this.rowModel.getRow(0);if(Vf&&Vf.group&&!(Vf.groupData||Vf.aggData)){this.setTotalLabelsToZero();return}}const g=this.paginationService.getCurrentPage(),_=this.paginationService.getPageSize();let K,rt;this.isZeroPagesToDisplay()?K=rt=0:(K=_*g+1,rt=K+_-1,e&&rt>u&&(rt=u));const al=K+_-1,Ql=!e&&a<al,Gu=this.formatNumber(K);this.lbFirstRowOnPage.textContent=Gu;let Wu;const id=this.localeService.getLocaleTextFunc();Ql?Wu=id("pageLastRowUnknown","?"):Wu=this.formatNumber(rt),this.lbLastRowOnPage.textContent=Wu;const Qh=t>0?g+1:0,uf=this.formatNumber(Qh);this.lbCurrent.textContent=uf;let tf,Hf;if(e)tf=this.formatNumber(t),Hf=this.formatNumber(u);else{const Vf=id("more","more");tf=Vf,Hf=Vf}this.lbTotal.textContent=tf,this.lbRecordCount.textContent=Hf,this.announceAriaStatus(Gu,Wu,Hf,uf,tf)}announceAriaStatus(e,t,a,u,g){const _=this.localeService.getLocaleTextFunc(),K=_("page","Page"),rt=_("to","to"),al=_("of","of"),Ql=`${e} ${rt} ${t} ${al} ${a}`,Gu=`${K} ${u} ${al} ${g}`;Ql!==this.ariaRowStatus&&(this.ariaRowStatus=Ql,this.ariaAnnouncementService.announceValue(Ql,"paginationRow")),Gu!==this.ariaPageStatus&&(this.ariaPageStatus=Gu,this.ariaAnnouncementService.announceValue(Gu,"paginationPage"))}setTotalLabelsToZero(){const e=this.formatNumber(0);this.lbFirstRowOnPage.textContent=e,this.lbCurrent.textContent=e,this.lbLastRowOnPage.textContent=e,this.lbTotal.textContent=e,this.lbRecordCount.textContent=e,this.announceAriaStatus(e,e,e,e,e)}},t5={selector:"AG-PAGINATION",component:e5},r5=class extends Nh{constructor(){super(...arguments),this.beanName="paginationService",this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0}wireBeans(e){this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.active=this.gos.get("pagination"),this.pageSizeFromGridOptions=this.gos.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return t5}isPaginateChildRows(){return this.gos.get("groupRemoveSingleChildren")||this.gos.get("groupRemoveLowestSingleChildren")?!0:this.gos.get("paginateChildRows")}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(e){!this.active||this.currentPage===e||typeof this.currentPage!="number"||(this.currentPage=e,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0}))}isRowPresent(e){return e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex}getPageForIndex(e){return Math.floor(e/this.pageSize)}goToPageWithIndex(e){if(!this.active)return;const t=this.getPageForIndex(e);this.goToPage(t)}isRowInPage(e){return this.active?this.getPageForIndex(e.rowIndex)===this.currentPage:!0}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const e=this.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return Vu(this.pageSizeAutoCalculated)&&this.gos.get("paginationAutoPageSize")?this.pageSizeAutoCalculated:Vu(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:Vu(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:Vu(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.pageBoundsService.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(this.pageSizeAutoCalculated===void 0)return;const e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}setPageSize(e,t){const a=this.pageSize;switch(t){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}a!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0){this.setZeroRows();return}const e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid();const t=this.pageSize*this.currentPage;let a=this.pageSize*(this.currentPage+1)-1;if(a>e&&(a=e),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(t),a===e)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{const u=this.rowModel.getTopLevelRowDisplayedIndex(a+1);this.bottomDisplayedRowIndex=u-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){if(this.masterRowCount=this.rowModel.getRowCount(),this.masterRowCount===0){this.setZeroRows();return}const e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>e&&(this.bottomDisplayedRowIndex=e)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(e){const{keepRenderedRows:t=!1,newPage:a=!1,newPageSize:u=!1}=e;this.eventService.dispatchEvent({type:"paginationChanged",animate:!1,newData:!1,newPage:a,newPageSize:u,keepRenderedRows:t})}},pw={version:kl,moduleName:"@ag-grid-community/pagination-core",beans:[r5,XC]},n5={version:kl,moduleName:"@ag-grid-community/pagination-api",dependantModules:[pw],apiFunctions:{paginationIsLastPageFound:GC,paginationGetPageSize:VC,paginationGetCurrentPage:jC,paginationGetTotalPages:UC,paginationGetRowCount:WC,paginationGoToNextPage:$C,paginationGoToPreviousPage:qC,paginationGoToFirstPage:YC,paginationGoToLastPage:KC,paginationGoToPage:ZC}},i5={version:kl,moduleName:"@ag-grid-community/pagination",dependantModules:[pw,n5]},W1="clientSide",P1="serverSide",A3="infinite",o5={onGroupExpandedOrCollapsed:[W1],refreshClientSideRowModel:[W1],isRowDataEmpty:[W1],forEachLeafNode:[W1],forEachNodeAfterFilter:[W1],forEachNodeAfterFilterAndSort:[W1],resetRowHeights:[W1],applyTransaction:[W1],applyTransactionAsync:[W1],flushAsyncTransactions:[W1],getBestCostNodeSelection:[W1],getServerSideSelectionState:[P1],setServerSideSelectionState:[P1],applyServerSideTransaction:[P1],applyServerSideTransactionAsync:[P1],applyServerSideRowData:[P1],retryServerSideLoads:[P1],flushServerSideAsyncTransactions:[P1],refreshServerSide:[P1],getServerSideGroupLevelState:[P1],refreshInfiniteCache:[A3],purgeInfiniteCache:[A3],getInfiniteRowCount:[A3],isLastRowIndexKnown:[A3,P1],expandAll:[W1,P1],collapseAll:[W1,P1],onRowHeightChanged:[W1,P1],setRowCount:[A3,P1],getCacheBlockState:[A3,P1]},a5={getValue:{version:"v31.3",new:"getCellValue"},getFirstDisplayedRow:{version:"v31.1",new:"getFirstDisplayedRowIndex"},getLastDisplayedRow:{version:"v31.1",new:"getLastDisplayedRowIndex"},getModel:{version:"v31.1",message:"Please use the appropriate grid API methods instead."},setColumnVisible:{version:"v31.1",old:"setColumnVisible(key,visible)",new:"setColumnsVisible([key],visible)"},setColumnPinned:{version:"v31.1",old:"setColumnPinned(key,pinned)",new:"setColumnsPinned([key],pinned)"},moveColumn:{version:"v31.1",old:"moveColumn(key, toIndex)",new:"moveColumns([key], toIndex)"},setColumnWidth:{version:"v31.1",old:"setColumnWidth(col, width)",new:"setColumnWidths([{key: col, newWidth: width}])"},autoSizeColumn:{version:"v31.1",old:"autoSizeColumn(key, skipHeader)",new:"autoSizeColumns([key], skipHeader)"},addAggFunc:{version:"v31.1",old:"addAggFunc(key, func)",new:"addAggFuncs({ key: func })"},removeValueColumn:{version:"v31.1",old:"removeValueColumn(colKey)",new:"removeValueColumns([colKey])"},addValueColumn:{version:"v31.1",old:"addValueColumn(colKey)",new:"addValueColumns([colKey])"},removeRowGroupColumn:{version:"v31.1",old:"removeRowGroupColumn(colKey)",new:"removeRowGroupColumns([colKey])"},addRowGroupColumn:{version:"v31.1",old:"addRowGroupColumn(colKey)",new:"addRowGroupColumns([colKey])"},removePivotColumn:{version:"v31.1",old:"removePivotColumn(colKey)",new:"removePivotColumns([colKey])"},addPivotColumn:{version:"v31.1",old:"addPivotColumn(colKey)",new:"addPivotColumns([colKey])"},showColumnMenuAfterButtonClick:{version:"v31.1",message:"Use 'IHeaderParams.showColumnMenu' within a header component, or 'api.showColumnMenu' elsewhere."},showColumnMenuAfterMouseClick:{version:"v31.1",message:"Use 'IHeaderParams.showColumnMenuAfterMouseClick' within a header component, or 'api.showColumnMenu' elsewhere."},getFilterInstance:{version:"v31.1",message:"'getFilterInstance' is deprecated. To get/set individual filter models, use 'getColumnFilterModel' or 'setColumnFilterModel' instead. To get hold of the filter instance, use 'getColumnFilterInstance' which returns the instance asynchronously."},showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'},clearRangeSelection:{version:"v32.2",message:"Use `clearCellSelection` instead."},getInfiniteRowCount:{version:"v32.2",old:"getInfiniteRowCount()",new:"getDisplayedRowCount()"}};function s5(e,t,a){const u=a5[e];if(u){const{version:_,new:K,old:rt,message:al}=u,Ql=rt??e;return(...Gu)=>{const Wu=K?`Please use ${K} instead. `:"";return ie(`Since ${_} api.${Ql} is deprecated. ${Wu}${al??""}`),t.apply(t,Gu)}}const g=o5[e];return g?(..._)=>{const K=a.rowModel.getType();if(!g.includes(K)){Et(`api.${e} can only be called when gridOptions.rowModelType is ${g.join(" or ")}`);return}return t.apply(t,_)}:t}var l5={columnsMenuParams:{version:"31.1",message:"Use `columnChooserParams` instead."},suppressMenu:{version:"31.1",message:"Use `suppressHeaderMenuButton` instead."},suppressCellFlash:{version:"31.2",message:"Use `enableCellChangeFlash={false}` in the ColDef"},checkboxSelection:{version:"32.2",message:"Use `rowSelection.checkboxes` in `GridOptions` instead."},headerCheckboxSelection:{version:"32.2",message:"Use `rowSelection.headerCheckbox = true` in `GridOptions` instead."},headerCheckboxSelectionFilteredOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "filtered"` in `GridOptions` instead.'},headerCheckboxSelectionCurrentPageOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "currentPage"` in `GridOptions` instead.'},showDisabledCheckboxes:{version:"32.2",message:"Use `rowSelection.hideDisabledCheckboxes = true` in `GridOptions` instead."}},w2=(e,t)=>{const a=t.rowModelType??"clientSide";return a==="clientSide"||a==="serverSide"?{module:"@ag-grid-enterprise/row-grouping"}:null},u5={enableRowGroup:w2,rowGroup:w2,rowGroupIndex:w2,enablePivot:w2,enableValue:w2,pivot:w2,pivotIndex:w2,aggFunc:w2,cellEditor:e=>e.cellEditor==="agRichSelect"||e.cellEditor==="agRichSelectCellEditor"?{module:"@ag-grid-enterprise/rich-select"}:null,menuTabs:e=>{const t=["columnsMenuTab","generalMenuTab"];return e.menuTabs?.some(a=>t.includes(a))?{module:"@ag-grid-enterprise/menu"}:null},columnsMenuParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},columnChooserParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},children:()=>T3},c5={headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0},d5=Object.keys(c5),T3={objectName:"colDef",allProperties:d5,docsUrl:"column-properties/",deprecations:l5,validations:u5},h5=()=>({advancedFilterModel:{version:"31",message:"Use `initialState.filter.advancedFilterModel` instead."},suppressAsyncEvents:{version:"31",message:"Events should be handled asynchronously."},cellFadeDelay:{version:"31.1",renamed:"cellFadeDuration"},cellFlashDelay:{version:"31.1",renamed:"cellFlashDuration"},suppressServerSideInfiniteScroll:{version:"31.1"},serverSideSortOnServer:{version:"31.1"},serverSideFilterOnServer:{version:"31.1"},enableCellChangeFlash:{version:"31.2",message:"Use `enableCellChangeFlash` in the `ColDef` or `defaultColDef` for all columns."},groupIncludeFooter:{version:"31.3",message:"Use `groupTotalRow` instead."},groupIncludeTotalFooter:{version:"31.3",message:"Use `grandTotalRow` instead."},suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."},enableFillHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeSelection:{version:"32.2",message:"Use `cellSelection = true` instead."},suppressMultiRangeSelection:{version:"32.2",message:"Use `cellSelection.suppressMultiRanges` instead."},suppressClearOnFillReduction:{version:"32.2",message:"Use `cellSelection.handle.suppressClearOnFillReduction` instead."},fillHandleDirection:{version:"32.2",message:"Use `cellSelection.handle.direction` instead."},fillOperation:{version:"32.2",message:"Use `cellSelection.handle.setFillValue` instead."},suppressRowClickSelection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},suppressRowDeselection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},rowMultiSelectWithClick:{version:"32.2",message:"Use `rowSelection.enableSelectionWithoutKeys` instead."},groupSelectsChildren:{version:"32.2",message:'Use `rowSelection.groupSelects = "descendants"` instead.'},groupSelectsFiltered:{version:"32.2",message:'Use `rowSelection.groupSelects = "filteredDescendants"` instead.'},isRowSelectable:{version:"32.2",message:"Use `selectionOptions.isRowSelectable` instead."},suppressCopySingleCellRanges:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},suppressCopyRowsToClipboard:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},onRangeSelectionChanged:{version:"32.2",message:"Use `onCellSelectionChanged` instead."},onRangeDeleteStart:{version:"32.2",message:"Use `onCellSelectionDeleteStart` instead."},onRangeDeleteEnd:{version:"32.2",message:"Use `onCellSelectionDeleteEnd` instead."},suppressBrowserResizeObserver:{version:"32.2",message:"The grid always uses the browser's ResizeObserver, this grid option has no effect."},onColumnEverythingChanged:{version:"32.2",message:"Either use `onDisplayedColumnsChanged` which is fired at the same time, or use one of the more specific column events."}}),f5={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,enableStrictPivotColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressMoveWhenColumnDragging:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressAsyncEvents:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,enableCellChangeFlash:!1,cellFlashDelay:500,cellFlashDuration:500,cellFadeDelay:1e3,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupIncludeTotalFooter:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,suppressServerSideInfiniteScroll:!1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSideSortOnServer:!1,serverSideFilterOnServer:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,suppressGroupMaintainValueType:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0,suppressSetFilterByDefault:!1},p5=()=>({sideBar:{module:"@ag-grid-enterprise/side-bar"},statusBar:{module:"@ag-grid-enterprise/status-bar"},enableCharts:{module:"@ag-grid-enterprise/charts"},getMainMenuItems:{module:"@ag-grid-enterprise/menu"},getContextMenuItems:{module:"@ag-grid-enterprise/menu"},allowContextMenuWithControlKey:{module:"@ag-grid-enterprise/menu"},enableAdvancedFilter:{module:"@ag-grid-enterprise/advanced-filter"},treeData:{supportedRowModels:["clientSide","serverSide"],module:"@ag-grid-enterprise/row-grouping",validate:e=>{const t=e.rowModelType??"clientSide";switch(t){case"clientSide":{const a=`treeData requires 'getDataPath' in the ${t} row model.`;return e.getDataPath?null:a}case"serverSide":{const a=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${t} row model.`;return e.isServerSideGroup&&e.getServerSideGroupKey?null:a}}return null}},masterDetail:{module:"@ag-grid-enterprise/master-detail"},enableRangeSelection:{module:"@ag-grid-enterprise/range-selection"},enableRangeHandle:{dependencies:{enableRangeSelection:[!0]}},enableFillHandle:{dependencies:{enableRangeSelection:[!0]}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupIncludeFooter:{supportedRowModels:["clientSide","serverSide"],validate:e=>{switch(e.rowModelType??"clientSide"){case"clientSide":return null;case"serverSide":return e.suppressServerSideInfiniteScroll?"groupIncludeFooter is not supported alongside suppressServerSideInfiniteScroll":null}return null}},groupHideOpenParents:{supportedRowModels:["clientSide","serverSide"],dependencies:{groupTotalRow:[void 0,"bottom"]}},groupIncludeTotalFooter:{supportedRowModels:["clientSide"]},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveLowestSingleChildren:[void 0,!1]}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveSingleChildren:[void 0,!1]}},groupSelectsChildren:{dependencies:{rowSelection:["multiple"]}},viewportDatasource:{supportedRowModels:["viewport"],module:"@ag-grid-enterprise/viewport-row-model"},serverSideDatasource:{supportedRowModels:["serverSide"],module:"@ag-grid-enterprise/server-side-row-model"},cacheBlockSize:{supportedRowModels:["serverSide","infinite"]},datasource:{supportedRowModels:["infinite"],module:"@ag-grid-community/infinite-row-model"},rowData:{supportedRowModels:["clientSide"],module:"@ag-grid-community/client-side-row-model"},paginationPageSizeSelector:{validate:e=>{const t=e.paginationPageSizeSelector;return typeof t=="boolean"||t==null||t.length?null:`'paginationPageSizeSelector' cannot be an empty array.
                    If you want to hide the page size selector, set paginationPageSizeSelector to false.`}},rowSelection:{validate({rowSelection:e}){return e&&typeof e=="string"?'As of version 32.2.1, using `rowSelection` with the values "single" or "multiple" has been deprecated. Use the object value instead.':e&&typeof e!="object"?"Expected `RowSelectionOptions` object for the `rowSelection` property.":null}},cellSelection:{module:"@ag-grid-enterprise/range-selection"},columnDefs:()=>T3,defaultColDef:()=>T3,defaultColGroupDef:()=>T3,autoGroupColumnDef:()=>T3,selectionColumnDef:()=>T3}),g5=()=>({objectName:"gridOptions",allProperties:[...qf.ALL_PROPERTIES,...$p.EVENT_CALLBACKS],propertyExceptions:["api"],docsUrl:"grid-options/",deprecations:h5(),validations:p5()}),m5=class extends Nh{constructor(){super(...arguments),this.beanName="validationService"}wireBeans(e){this.beans=e,this.gridOptions=e.gridOptions}postConstruct(){this.processGridOptions(this.gridOptions)}processGridOptions(e){this.processOptions(e,g5())}validateApiFunction(e,t){return s5(e,t,this.beans)}processOptions(e,t){const{validations:a,deprecations:u,allProperties:g,propertyExceptions:_,objectName:K,docsUrl:rt}=t;g&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(e,[..._??[],...Object.keys(u)],g,K,rt);const al=new Set;Object.keys(e).forEach(Gu=>{const Wu=u[Gu];if(Wu)if("renamed"in Wu){const{renamed:Bf,version:Kp}=Wu;al.add(`As of v${Kp}, ${String(Gu)} is deprecated. Please use ${String(Bf)} instead.`),e[Bf]=e[Gu]}else{const{message:Bf,version:Kp}=Wu;al.add(`As of v${Kp}, ${String(Gu)} is deprecated. ${Bf??""}`)}const id=e[Gu];if(id==null||id===!1)return;const uh=a[Gu];let Qh;if(uh)if(typeof uh=="function"){const Bf=uh(e,this.gridOptions);if(!Bf)return;if("objectName"in Bf){const Kp=e[Gu];if(Array.isArray(Kp)){Kp.forEach(K0=>{this.processOptions(K0,Bf)});return}this.processOptions(e[Gu],Bf);return}Qh=Bf}else Qh=uh;else return;const{module:uf,dependencies:tf,validate:Hf,supportedRowModels:Vf}=Qh;if(Vf){const Bf=this.gridOptions.rowModelType??"clientSide";if(!Vf.includes(Bf)){al.add(`${String(Gu)} is not supported with the '${Bf}' row model.`);return}}if(uf){const Bf=Array.isArray(uf)?uf:[uf];let Kp=!0;if(Bf.forEach(K0=>{this.gos.assertModuleRegistered(K0,String(Gu))||(Kp=!1,al.add(`${String(Gu)} is only available when ${K0} is loaded.`))}),!Kp)return}if(tf){const Bf=this.checkForRequiredDependencies(Gu,tf,e);if(Bf){al.add(Bf);return}}if(Hf){const Bf=Hf(e,this.gridOptions);if(Bf){al.add(Bf);return}}}),al.size>0&&al.forEach(Gu=>{ie(Gu)})}checkForRequiredDependencies(e,t,a){const g=Object.entries(t).find(([rt,al])=>{const Ql=a[rt];return!al.includes(Ql)});if(!g)return null;const[_,K]=g;return K.length>1?`'${String(e)}' requires '${_}' to be one of [${K.join(", ")}].`:`'${String(e)}' requires '${_}' to be ${K[0]}.`}checkProperties(e,t,a,u,g){const _=["__ob__","__v_skip","__metadata__"],K=v5(Object.getOwnPropertyNames(e),[..._,...t,...a],a);if(Me(K,(rt,al)=>{let Ql=`invalid ${u} property '${rt}' did you mean any of these: ${al.slice(0,8).join(", ")}.`;a.includes("context")&&(Ql+=`
If you are trying to annotate ${u} with application data, use the '${u}.context' property instead.`),ie(Ql)}),Object.keys(K).length>0&&g){const rt=this.getFrameworkOverrides().getDocLink(g);ie(`to see all the valid ${u} properties please check: ${rt}`)}}};function v5(e,t,a){const u={},g=e.filter(_=>!t.some(K=>K===_));return g.length>0&&g.forEach(_=>u[_]=Um({inputValue:_,allSuggestions:a}).values),u}var gw={version:kl,moduleName:"@ag-grid-community/core"},y5={version:kl,moduleName:"@ag-grid-community/core-validations",beans:[m5]},Wb={version:kl,moduleName:"@ag-grid-community/core-community-features",dependantModules:[gw,y5,cb,Xh,HC,lx,Ox,i5,DC]},x5=class extends Nh{constructor(){super(...arguments),this.beanName="gridDestroyService",this.destroyCalled=!1}wireBeans(e){this.beans=e}destroy(){this.destroyCalled||(this.eventService.dispatchEvent({type:"gridPreDestroyed",state:this.beans.stateService?.getState()??{}}),this.destroyCalled=!0,this.beans.ctrlsService.get("gridCtrl")?.destroyGridUi(),this.beans.context.destroy(),super.destroy())}isDestroyCalled(){return this.destroyCalled}},hx=new Set(["gridPreDestroyed","fillStart","pasteStart"]),mw=e=>e==="checkboxSelected"||e==="rowClicked"||e==="spaceKey"||e==="uiSelectAll"||e==="uiSelectAllCurrentPage"||e==="uiSelectAllFiltered",b5=new Map([...qf.BOOLEAN_PROPERTIES.map(e=>[e,Wl]),...qf.NUMBER_PROPERTIES.map(e=>[e,I]),["groupAggFiltering",e=>typeof e=="function"?e:Wl(e)],["pageSize",B(1)],["autoSizePadding",B(0)],["keepDetailRowsCount",B(1)],["rowBuffer",B(0)],["infiniteInitialRowCount",B(1)],["cacheOverflowSize",B(1)],["cacheBlockSize",B(1)],["serverSideInitialRowCount",B(1)],["viewportRowModelPageSize",B(1)],["viewportRowModelBufferSize",B(0)]]);function vw(e,t){const a=b5.get(e);return a?a(t):t}function w5(e){const t={};return Object.entries(e).forEach(([a,u])=>{const g=vw(a,u);t[a]=g}),t}var yw=class SC extends Nh{constructor(){super(...arguments),this.beanName="gos",this.gridReadyFired=!1,this.queueEvents=[],this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new y,this.globalEventHandlerFactory=t=>(a,u)=>{if(!this.isAlive())return;const g=hx.has(a);if(g&&!t||!g&&t)return;const _=(K,rt)=>{const al=this.gridOptions[$p.getCallbackForEvent(K)];typeof al=="function"&&this.frameworkOverrides.wrapOutgoing(()=>al(rt))};if(this.gridReadyFired)_(a,u);else if(a==="gridReady"){_(a,u),this.gridReadyFired=!0;for(const K of this.queueEvents)_(K.eventName,K.event);this.queueEvents=[]}else this.queueEvents.push({eventName:a,event:u})}}wireBeans(t){this.gridOptions=t.gridOptions,this.eGridDiv=t.eGridDiv,this.validationService=t.validationService,this.environment=t.environment,this.api=t.gridApi,this.gridId=t.context.getGridId()}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){const t=!this.get("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandlerFactory().bind(this),t),this.eventService.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propertyEventService.setFrameworkOverrides(this.frameworkOverrides),this.addManagedEventListeners({gridOptionsChanged:({options:a})=>{this.updateGridOptions({options:a,force:!0,source:"gridOptionsUpdated"})}})}destroy(){super.destroy(),this.queueEvents=[]}get(t){return this.gridOptions[t]??f5[t]}getCallback(t){return this.mergeGridCommonParams(this.gridOptions[t])}exists(t){return Vu(this.gridOptions[t])}mergeGridCommonParams(t){return t&&(u=>{const g=u;return g.api=this.api,g.context=this.gridOptionsContext,t(g)})}updateGridOptions({options:t,force:a,source:u="api"}){const g={id:SC.changeSetId++,properties:[]},_=[];Object.entries(t).forEach(([K,rt])=>{u==="api"&&Xf[K]&&ie(`${K} is an initial property and cannot be updated.`);const al=vw(K,rt),Ql=a||typeof al=="object"&&u==="api",Gu=this.gridOptions[K];if(Ql||Gu!==al){this.gridOptions[K]=al;const Wu={type:K,currentValue:al,previousValue:Gu,changeSet:g,source:u};_.push(Wu)}}),this.validationService?.processGridOptions(this.gridOptions),g.properties=_.map(K=>K.type),_.forEach(K=>{this.gridOptions.debug&&ce(`Updated property ${K.type} from`,K.previousValue," to ",K.currentValue),this.propertyEventService.dispatchEvent(K)})}addPropertyEventListener(t,a){this.propertyEventService.addEventListener(t,a)}removePropertyEventListener(t,a){this.propertyEventService.removeEventListener(t,a)}getDomDataKey(){return this.domDataKey}getGridCommonParams(){return{api:this.api,context:this.gridOptionsContext}}addGridCommonParams(t){const a=t;return a.api=this.api,a.context=this.gridOptionsContext,a}assertModuleRegistered(t,a){return ym.__assertRegistered(t,a,this.gridId)}isModuleRegistered(t){return ym.__isRegistered(t,this.gridId)}};yw.changeSetId=0;var xw=yw,bw=class extends Nh{constructor(){super(...arguments),this.beanName="headerPositionUtils"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService}findHeader(e,t){let a,u;if(af(e.column)?a=this.visibleColsService.getGroupAtDirection(e.column,t):(u=`getCol${t}`,a=this.visibleColsService[u](e.column)),!a)return;const{headerRowIndex:g}=e;if(this.getHeaderRowType(g)!=="filter"){const rt=[a];for(;a.getParent();)a=a.getParent(),rt.push(a);a=rt[rt.length-1-g]}const{column:_,headerRowIndex:K}=this.getHeaderIndexToFocus(a,g);return{column:_,headerRowIndex:K}}getHeaderIndexToFocus(e,t){let a;if(af(e)&&this.isAnyChildSpanningHeaderHeight(e)&&e.isPadding()){const u=e;a=u.getLeafColumns()[0];let g=a;for(;g!==u;)t++,g=g.getParent()}return{column:a||e,headerRowIndex:t}}isAnyChildSpanningHeaderHeight(e){return e?e.getLeafColumns().some(t=>t.isSpanHeaderHeight()):!1}getColumnVisibleParent(e,t){const a=this.getHeaderRowType(t),u=a==="filter",g=a==="column";let _=u?e:e.getParent(),K=t-1,rt=K;if(g&&this.isAnyChildSpanningHeaderHeight(e.getParent())){for(;_&&_.isPadding();)_=_.getParent(),K--;rt=K,K<0&&(_=e,K=t,rt=void 0)}return{column:_,headerRowIndex:K,headerRowIndexWithoutSpan:rt}}getColumnVisibleChild(e,t,a="After"){const u=this.getHeaderRowType(t);let g=e,_=t+1;const K=_;if(u==="group"){const rt=e.getDisplayedLeafColumns(),al=a==="After"?rt[0]:Pp(rt),Ql=[];let Gu=al;for(;Gu.getParent()!==e;)Gu=Gu.getParent(),Ql.push(Gu);if(g=al,al.isSpanHeaderHeight())for(let Wu=Ql.length-1;Wu>=0;Wu--){const id=Ql[Wu];if(!id.isPadding()){g=id;break}_++}else g=Pp(Ql),g||(g=al)}return{column:g,headerRowIndex:_,headerRowIndexWithoutSpan:K}}getHeaderRowType(e){const t=this.ctrlsService.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}findColAtEdgeForHeaderRow(e,t){const a=this.visibleColsService.getAllCols(),u=a[t==="start"?0:a.length-1];if(!u)return;const _=this.ctrlsService.getHeaderRowContainerCtrl(u.getPinned())?.getRowType(e);if(_=="group"){const K=this.visibleColsService.getColGroupAtLevel(u,e);return{headerRowIndex:e,column:K}}return{headerRowIndex:_==null?-1:e,column:u}}},ww=class extends Nh{constructor(){super(...arguments),this.beanName="localeService"}getLocaleTextFunc(){const e=this.gos.getCallback("getLocaleText");if(e)return(a,u,g)=>e({key:a,defaultValue:u,variableValues:g});const t=this.gos.get("localeText");return(a,u,g)=>{let _=t&&t[a];if(_&&g&&g.length){let K=0;for(;!(K>=g.length||_.indexOf("${variable}")===-1);)_=_.replace("${variable}",g[K++])}return _??u}}},C5=class extends Nh{constructor(){super(...arguments),this.beanName="apiEventService",this.syncEventListeners=new Map,this.asyncEventListeners=new Map,this.syncGlobalEventListeners=new Set,this.globalEventListenerPairs=new Map}postConstruct(){this.frameworkEventWrappingService=new E(this.getFrameworkOverrides())}addEventListener(e,t){const a=this.frameworkEventWrappingService.wrap(e,t),u=oh(this.gos)&&!hx.has(e),g=u?this.asyncEventListeners:this.syncEventListeners;g.has(e)||g.set(e,new Set),g.get(e).add(a),this.eventService.addEventListener(e,a,u)}removeEventListener(e,t){const a=this.frameworkEventWrappingService.unwrap(e,t),g=!!this.asyncEventListeners.get(e)?.delete(a);g||this.syncEventListeners.get(e)?.delete(a),this.eventService.removeEventListener(e,a,g)}addGlobalListener(e){const t=this.frameworkEventWrappingService.wrapGlobal(e);if(oh(this.gos)){const u=(_,K)=>{hx.has(_)&&t(_,K)},g=(_,K)=>{hx.has(_)||t(_,K)};this.globalEventListenerPairs.set(e,{syncListener:u,asyncListener:g}),this.eventService.addGlobalListener(u,!1),this.eventService.addGlobalListener(g,!0)}else this.syncGlobalEventListeners.add(t),this.eventService.addGlobalListener(t,!1)}removeGlobalListener(e){const t=this.frameworkEventWrappingService.unwrapGlobal(e);if(this.globalEventListenerPairs.has(t)){const{syncListener:u,asyncListener:g}=this.globalEventListenerPairs.get(t);this.eventService.removeGlobalListener(u,!1),this.eventService.removeGlobalListener(g,!0),this.globalEventListenerPairs.delete(e)}else this.syncGlobalEventListeners.delete(t),this.eventService.removeGlobalListener(t,!1)}destroyEventListeners(e,t){e.forEach((a,u)=>{a.forEach(g=>this.eventService.removeEventListener(u,g,t)),a.clear()}),e.clear()}destroyGlobalListeners(e,t){e.forEach(a=>this.eventService.removeGlobalListener(a,t)),e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncEventListeners,!1),this.destroyEventListeners(this.asyncEventListeners,!0),this.destroyGlobalListeners(this.syncGlobalEventListeners,!1),this.globalEventListenerPairs.forEach(({syncListener:e,asyncListener:t})=>{this.eventService.removeGlobalListener(e,!1),this.eventService.removeGlobalListener(t,!0)}),this.globalEventListenerPairs.clear()}},S5=class extends Nh{constructor(){super(...arguments),this.beanName="pageBoundsListener"}wireBeans(e){this.rowModel=e.rowModel,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(e){this.calculatePages(),this.eventService.dispatchEvent({type:"paginationChanged",animate:e?.animate??!1,newData:e?.newData??!1,newPage:e?.newPage??!1,newPageSize:e?.newPageSize??!1,keepRenderedRows:e?.keepRenderedRows??!1})}calculatePages(){this.paginationService?this.paginationService.calculatePages():this.pageBoundsService.calculateBounds(0,this.rowModel.getRowCount()-1)}},k5=class extends Nh{constructor(){super(...arguments),this.beanName="pageBoundsService",this.pixelOffset=0}wireBeans(e){this.rowModel=e.rowModel}getFirstRow(){return this.topRowBounds?this.topRowBounds.rowIndex:-1}getLastRow(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1}getCurrentPageHeight(){return Zu(this.topRowBounds)||Zu(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)}getCurrentPagePixelRange(){const e=this.topRowBounds?this.topRowBounds.rowTop:0,t=this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0;return{pageFirstPixel:e,pageLastPixel:t}}calculateBounds(e,t){this.topRowBounds=this.rowModel.getRowBounds(e),this.topRowBounds&&(this.topRowBounds.rowIndex=e),this.bottomRowBounds=this.rowModel.getRowBounds(t),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=t),this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){const e=Vu(this.topRowBounds)?this.topRowBounds.rowTop:0;this.pixelOffset!==e&&(this.pixelOffset=e,this.eventService.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},Cw=class extends Nh{constructor(){super(),this.beanName="ariaAnnouncementService",this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.updateAnnouncement=Kl(this.updateAnnouncement.bind(this),200)}wireBeans(e){this.eGridDiv=e.eGridDiv}postConstruct(){const e=Fp(this.gos),t=this.descriptionContainer=e.createElement("div");t.classList.add("ag-aria-description-container"),hl(t,"polite"),Xd(t,"additions text"),eh(t,!0),this.eGridDiv.appendChild(t)}announceValue(e,t){this.pendingAnnouncements.set(t,e),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;const e=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout(()=>{this.isAlive()&&this.descriptionContainer&&(this.descriptionContainer.textContent=e)},50)}destroy(){super.destroy();const{descriptionContainer:e}=this;e&&(Dm(e),e.parentElement&&e.parentElement.removeChild(e)),this.descriptionContainer=null,this.eGridDiv=null,this.pendingAnnouncements.clear()}},_5=class extends Nh{constructor(){super(...arguments),this.beanName="columnAnimationService",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}wireBeans(e){this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady(this,e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){this.active||this.gos.get("suppressColumnMoveAnimation")||this.gos.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush(()=>this.activeNext=!1,()=>this.active=!1)}executeNextVMTurn(e){this.activeNext?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const e=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&this.gridBodyCtrl.setColumnMovingCss(!1)})}flush(e,t){if(this.executeNextFuncs.length===0&&this.executeLaterFuncs.length===0){e(),t();return}const a=u=>{for(;u.length;){const g=u.pop();g&&g()}};this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e(),a(this.executeNextFuncs)},0),window.setTimeout(()=>{t(),a(this.executeLaterFuncs)},200)})}},E5=class extends Nh{constructor(){super(...arguments),this.beanName="columnHoverService"}setMouseOver(e){this.updateState(e)}clearMouseOver(){this.updateState(null)}isHovered(e){return!!this.selectedColumns&&this.selectedColumns.indexOf(e)>=0}updateState(e){this.selectedColumns=e,this.eventService.dispatchEvent({type:"columnHoverChanged"})}},M5=class extends Nh{constructor(){super(...arguments),this.beanName="overlayService",this.state=0,this.showInitialOverlay=!0,this.wrapperPadding=0}wireBeans(e){this.userComponentFactory=e.userComponentFactory,this.rowModel=e.rowModel,this.columnModel=e.columnModel,this.ctrlsService=e.ctrlsService}postConstruct(){this.isClientSide=Dd(this.gos);const e=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:e,rowDataUpdated:e,gridSizeChanged:this.onGridSizeChanged.bind(this),rowCountReady:()=>{this.showInitialOverlay=!1,this.updateOverlayVisibility()}}),this.addManagedPropertyListener("loading",e)}setOverlayWrapperComp(e){this.overlayWrapperComp=e,this.updateOverlayVisibility()}isVisible(){return this.state!==0&&!!this.overlayWrapperComp}isExclusive(){return this.state===1&&!!this.overlayWrapperComp}getOverlayWrapper(){return this.overlayWrapperComp}showLoadingOverlay(){this.showInitialOverlay=!1;const e=this.gos.get("loading");!e&&(e!==void 0||this.gos.get("suppressLoadingOverlay"))||this.doShowLoadingOverlay()}showNoRowsOverlay(){this.showInitialOverlay=!1,!(this.gos.get("loading")||this.gos.get("suppressNoRowsOverlay"))&&this.doShowNoRowsOverlay()}hideOverlay(){if(this.showInitialOverlay=!1,this.gos.get("loading")){ie("Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead.");return}this.doHideOverlay()}updateOverlayVisibility(){if(!this.overlayWrapperComp){this.state=0;return}let e=this.gos.get("loading");this.showInitialOverlay&&e===void 0&&!this.gos.get("suppressLoadingOverlay")&&(e=!this.gos.get("columnDefs")||!this.columnModel.isReady()||!this.gos.get("rowData")&&this.isClientSide),e?this.state!==1&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,this.rowModel.isEmpty()&&!this.gos.get("suppressNoRowsOverlay")&&this.isClientSide?this.state!==2&&this.doShowNoRowsOverlay():this.state!==0&&this.doHideOverlay())}doShowLoadingOverlay(){this.overlayWrapperComp&&(this.state=1,this.showOverlay(this.userComponentFactory.getLoadingOverlayCompDetails({}),"ag-overlay-loading-wrapper","loadingOverlayComponentParams"),this.updateExclusive())}doShowNoRowsOverlay(){this.overlayWrapperComp&&(this.state=2,this.showOverlay(this.userComponentFactory.getNoRowsOverlayCompDetails({}),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams"),this.updateExclusive())}doHideOverlay(){this.overlayWrapperComp&&(this.state=0,this.overlayWrapperComp.hideOverlay(),this.updateExclusive())}showOverlay(e,t,a){const u=e.newAgStackInstance();this.overlayWrapperComp?.showOverlay(u,t,this.isExclusive(),a),this.refreshWrapperPadding()}updateExclusive(){const e=this.exclusive;this.exclusive=this.isExclusive(),this.exclusive!==e&&this.eventService.dispatchEvent({type:"overlayExclusiveChanged"})}onGridSizeChanged(){this.refreshWrapperPadding()}refreshWrapperPadding(){if(!this.overlayWrapperComp)return;let e=0;this.state===2?e=this.ctrlsService.get("gridHeaderCtrl")?.getHeaderHeight()||0:this.wrapperPadding!==0&&(e=0),this.wrapperPadding!==e&&(this.wrapperPadding=e,this.overlayWrapperComp.updateOverlayWrapperPaddingTop(e))}},A5=class extends Nh{constructor(){super(...arguments),this.beanName="rowCssClassCalculator"}wireBeans(e){this.stylingService=e.stylingService}getInitialRowClasses(e){const t=[];return Vu(e.extraCssClass)&&t.push(e.extraCssClass),t.push("ag-row"),t.push(e.rowFocused?"ag-row-focus":"ag-row-no-focus"),e.fadeRowIn&&t.push("ag-opacity-zero"),t.push(e.rowIsEven?"ag-row-even":"ag-row-odd"),e.rowNode.isRowPinned()&&t.push("ag-row-pinned"),e.rowNode.isSelected()&&t.push("ag-row-selected"),e.rowNode.footer&&t.push("ag-row-footer"),t.push("ag-row-level-"+e.rowLevel),e.rowNode.stub&&t.push("ag-row-loading"),e.fullWidthRow&&t.push("ag-full-width-row"),e.expandable&&(t.push("ag-row-group"),t.push(e.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),e.rowNode.dragging&&t.push("ag-row-dragging"),Pm(t,this.processClassesFromGridOptions(e.rowNode)),Pm(t,this.preProcessRowClassRules(e.rowNode)),t.push(e.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),e.firstRowOnPage&&t.push("ag-row-first"),e.lastRowOnPage&&t.push("ag-row-last"),e.fullWidthRow&&(e.pinned==="left"&&t.push("ag-cell-last-left-pinned"),e.pinned==="right"&&t.push("ag-cell-first-right-pinned")),t}processClassesFromGridOptions(e){const t=[],a=_=>{typeof _=="string"?t.push(_):Array.isArray(_)&&_.forEach(K=>t.push(K))},u=this.gos.get("rowClass");if(u){if(typeof u=="function")return ie("rowClass should not be a function, please use getRowClass instead"),[];a(u)}const g=this.gos.getCallback("getRowClass");if(g){const _={data:e.data,node:e,rowIndex:e.rowIndex},K=g(_);a(K)}return t}preProcessRowClassRules(e){const t=[];return this.processRowClassRules(e,a=>{t.push(a)},()=>{}),t}processRowClassRules(e,t,a){const u=this.gos.addGridCommonParams({data:e.data,node:e,rowIndex:e.rowIndex});this.stylingService.processClassRules(void 0,this.gos.get("rowClassRules"),u,t,a)}calculateRowLevel(e){return e.group?e.level:e.parent?e.parent.level+1:0}},T5=class extends Nh{constructor(){super(...arguments),this.beanName="rowContainerHeightService",this.scrollY=0,this.uiBodyHeight=0}wireBeans(e){this.ctrlsService=e.ctrlsService}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=I3(),this.gos.get("debug")&&ce("RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}isStretching(){return this.stretching}getDivStretchOffset(){return this.divStretchOffset}updateOffset(){if(!this.stretching)return;const t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,a=this.getUiBodyHeight();(t!==this.scrollY||a!==this.uiBodyHeight)&&(this.scrollY=t,this.uiBodyHeight=a,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;this.gos.get("debug")&&ce(`RowContainerHeightService - Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventService.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){const t=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventService.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getUiContainerHeight(){return this.uiContainerHeight}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){const t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return t.bottom-t.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;const t=this.modelHeight-this.getUiBodyHeight(),a=e/t;return this.maxScrollY*a}},Sw=class extends Nh{constructor(){super(...arguments),this.beanName="rowNodeSorter"}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.showRowGroupColsService=e.showRowGroupColsService}postConstruct(){this.isAccentedSort=this.gos.get("accentedSort"),this.primaryColumnsSortGroups=Z0(this.gos),this.addManagedPropertyListener("accentedSort",e=>this.isAccentedSort=e.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=Z0(this.gos))}doFullSort(e,t){const a=(g,_)=>({currentPos:_,rowNode:g}),u=e.map(a);return u.sort(this.compareRowNodes.bind(this,t)),u.map(g=>g.rowNode)}compareRowNodes(e,t,a){const u=t.rowNode,g=a.rowNode;for(let _=0,K=e.length;_<K;_++){const rt=e[_],al=rt.sort==="desc",Ql=this.getValue(u,rt.column),Gu=this.getValue(g,rt.column);let Wu;const id=this.getComparator(rt,u);if(id?Wu=id(Ql,Gu,u,g,al):Wu=Md(Ql,Gu,this.isAccentedSort),!isNaN(Wu)&&Wu!==0)return rt.sort==="asc"?Wu:Wu*-1}return t.currentPos-a.currentPos}getComparator(e,t){const a=e.column,u=a.getColDef().comparator;if(u!=null)return u;if(!a.getColDef().showRowGroup)return;const g=!t.group&&a.getColDef().field;if(!g)return;const _=this.columnModel.getColDefCol(g);if(_)return _.getColDef().comparator}getValue(e,t){if(!this.primaryColumnsSortGroups)return this.valueService.getValue(t,e,!1,!1);if(e.rowGroupColumn===t){if(_f(this.gos,this.columnModel.isPivotActive())){const _=e.allLeafChildren?.[0];return _?this.valueService.getValue(t,_,!1,!1):void 0}const g=this.showRowGroupColsService?.getShowRowGroupCol(t.getId());return g?e.groupData?.[g.getId()]:void 0}if(!(e.group&&t.getColDef().showRowGroup))return this.valueService.getValue(t,e,!1,!1)}},fx=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}setInactive(){this.active=!1}isActive(){return this.active}depthFirstSearchChangedPath(e,t){if(e.children)for(let a=0;a<e.children.length;a++)this.depthFirstSearchChangedPath(e.children[a],t);t(e.rowNode)}depthFirstSearchEverything(e,t,a){if(e.childrenAfterGroup)for(let u=0;u<e.childrenAfterGroup.length;u++){const g=e.childrenAfterGroup[u];g.childrenAfterGroup?this.depthFirstSearchEverything(e.childrenAfterGroup[u],t,a):a&&t(g)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,a=!1){this.active&&!a?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,a=0;for(;!this.mapToItems[t.id];){const u={rowNode:t,children:null};this.mapToItems[t.id]=u,a++,t=t.parent}return a}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let a=e;for(;a;)this.nodeIdsToColumns[a.id]||(this.nodeIdsToColumns[a.id]={}),t.forEach(u=>this.nodeIdsToColumns[a.id][u.getId()]=!0),a=a.parent}linkPathItems(e,t){let a=e;for(let u=0;u<t;u++){const g=this.mapToItems[a.id],_=this.mapToItems[a.parent.id];_.children||(_.children=[]),_.children.push(g),a=a.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;const a=this.createPathItems(e);this.linkPathItems(e,a),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;const a=this.nodeIdsToColumns[e.id];return t.filter(g=>a[g.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;const a=this.nodeIdsToColumns[e.id];return t.filter(g=>!a[g.getId()])}},kw=class extends Nh{constructor(){super(...arguments),this.beanName="selectionService",this.selectedNodes=new Map,this.selectionCtx=new fb,this.rowSelectionMode=void 0}wireBeans(e){this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService}postConstruct(){const{gos:e,rowModel:t,onRowSelected:a}=this;this.selectionCtx.init(t),this.rowSelectionMode=Ag(e),this.groupSelectsChildren=Ep(e),this.addManagedPropertyListeners(["groupSelectsChildren","rowSelection"],()=>{const u=Ep(e),g=Ag(e);(u!==this.groupSelectsChildren||g!==this.rowSelectionMode)&&(this.groupSelectsChildren=u,this.rowSelectionMode=g,this.deselectAllRowNodes({source:"api"}))}),this.addManagedEventListeners({rowSelected:a.bind(this)})}destroy(){super.destroy(),this.resetNodes(),this.selectionCtx.reset()}isMultiSelect(){return this.rowSelectionMode==="multiRow"}overrideSelectionValue(e,t){if(!mw(t))return e;const a=this.selectionCtx.getRoot();return a?a.isSelected()??!1:!0}setNodesSelected(e){const{newValue:t,clearSelection:a,suppressFinishActions:u,rangeSelect:g,nodes:_,event:K,source:rt}=e;if(_.length===0)return 0;if(_.length>1&&!this.isMultiSelect())return ie("cannot multi select unless selection mode is 'multiRow'"),0;const al=this.groupSelectsChildren&&e.groupSelectsFiltered===!0,Ql=_.map(Wu=>Wu.footer?Wu.sibling:Wu);if(g){if(Ql.length>1)return ie("cannot range select while selecting multiple rows"),0;const Wu=Ql[0],id=this.overrideSelectionValue(t,rt);if(this.isMultiSelect()){if(this.selectionCtx.isInRange(Wu)){const uh=this.selectionCtx.truncate(Wu);return id&&this.selectRange(uh.discard,!1,rt),this.selectRange(uh.keep,id,rt)}else if(this.selectionCtx.getRoot()!==Wu){const uf=this.selectionCtx.extend(Wu,this.groupSelectsChildren);return id&&this.selectRange(uf.discard,!1,rt),this.selectRange(uf.keep,id,rt)}}}u||this.selectionCtx.setRoot(Ql[0]);let Gu=0;for(let Wu=0;Wu<Ql.length;Wu++){const id=Ql[Wu];al&&id.group||id.selectThisNode(t,K,rt)&&Gu++,this.groupSelectsChildren&&id.childrenAfterGroup?.length&&(Gu+=this.selectChildren(id,t,al,rt))}return u||(t&&(a||!this.isMultiSelect())&&(Gu+=this.clearOtherNodes(Ql[0],rt)),Gu>0&&(this.updateGroupsFromChildrenSelections(rt),this.dispatchSelectionChanged(rt))),Gu}selectRange(e,t,a){let u=0;return e.forEach(g=>{if(g.group&&this.groupSelectsChildren)return;g.selectThisNode(t,void 0,a)&&u++}),u>0&&(this.updateGroupsFromChildrenSelections(a),this.dispatchSelectionChanged(a)),u}selectChildren(e,t,a,u){const g=a?e.childrenAfterAggFilter:e.childrenAfterGroup;return Zu(g)?0:this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:a,source:u,nodes:g})}getSelectedNodes(){const e=[];return this.selectedNodes.forEach(t=>{t&&e.push(t)}),e}getSelectedRows(){const e=[];return this.selectedNodes.forEach(t=>{t&&t.data&&e.push(t.data)}),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){const t=new Map;this.selectedNodes.forEach((a,u)=>{a&&e(a)&&t.set(u,a)}),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsChildren||!Dd(this.gos))return!1;const u=this.rowModel.getRootNode();t||(t=new fx(!0,u),t.setInactive());let g=!1;return t.forEachChangedNodeDepthFirst(_=>{if(_!==u){const K=_.calculateSelectedFromChildren();g=_.selectThisNode(K===null?!1:K,void 0,e)||g}}),g}clearOtherNodes(e,t){const a=new Map;let u=0;return this.selectedNodes.forEach(g=>{if(g&&g.id!==e.id){const _=this.selectedNodes.get(g.id);u+=_.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:t}),this.groupSelectsChildren&&g.parent&&a.set(g.parent.id,g.parent)}}),a.forEach(g=>{const _=g.calculateSelectedFromChildren();g.selectThisNode(_===null?!1:_,void 0,t)}),u}onRowSelected(e){const t=e.node;this.groupSelectsChildren&&t.group||(t.isSelected()?this.selectedNodes.set(t.id,t):this.selectedNodes.delete(t.id))}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}syncInOldRowNode(e,t){if(Vu(t)&&e.id!==t.id&&t){const u=t.id;this.selectedNodes.get(u)==e&&this.selectedNodes.set(t.id,t)}}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.setSelectedInitialValue(!0),this.selectedNodes.set(e.id,e)):e.setSelectedInitialValue(!1)}reset(e){const t=this.getSelectionCount();this.resetNodes(),t&&this.dispatchSelectionChanged(e)}resetNodes(){this.selectedNodes?.clear()}getBestCostNodeSelection(){if(!Dd(this.gos))return;const t=this.rowModel.getTopLevelNodes();if(t===null)return;const a=[];function u(g){for(let _=0,K=g.length;_<K;_++){const rt=g[_];if(rt.isSelected())a.push(rt);else{const al=rt;al.group&&al.children&&u(al.children)}}}return u(t),a}isEmpty(){let e=0;return this.selectedNodes.forEach(t=>{t&&e++}),e===0}deselectAllRowNodes(e){const t=K=>K.selectThisNode(!1,void 0,u),a=Dd(this.gos),{source:u,justFiltered:g,justCurrentPage:_}=e;if(_||g){if(!a){Et("selecting just filtered only works when gridOptions.rowModelType='clientSide'");return}this.getNodesToSelect(g,_).forEach(t)}else this.selectedNodes.forEach(K=>{K&&t(K)}),this.reset(u);this.selectionCtx.reset(),a&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(u),this.dispatchSelectionChanged(u)}getSelectedCounts(e,t){let a=0,u=0;const g=_=>{this.groupSelectsChildren&&_.group||(_.isSelected()?a++:_.selectable&&u++)};return this.getNodesToSelect(e,t).forEach(g),{selectedCount:a,notSelectedCount:u}}getSelectAllState(e,t){const{selectedCount:a,notSelectedCount:u}=this.getSelectedCounts(e,t);return a===0&&u===0?!1:a>0&&u>0?null:a>0}hasNodesToSelect(e=!1,t=!1){return this.getNodesToSelect(e,t).filter(a=>a.selectable).length>0}getNodesToSelect(e=!1,t=!1){this.validateSelectAllType();const a=[];if(t)return this.forEachNodeOnPage(g=>{if(!g.group){a.push(g);return}if(!g.expanded){const _=K=>{a.push(K),K.childrenAfterFilter?.length&&K.childrenAfterFilter.forEach(_)};_(g);return}this.groupSelectsChildren||a.push(g)}),a;const u=this.rowModel;return e?(u.forEachNodeAfterFilter(g=>{a.push(g)}),a):(u.forEachNode(g=>{a.push(g)}),a)}forEachNodeOnPage(e){const t=this.pageBoundsService.getFirstRow(),a=this.pageBoundsService.getLastRow();for(let u=t;u<=a;u++){const g=this.rowModel.getRow(u);g&&e(g)}}selectAllRowNodes(e){if(lf(this.gos)&&!vg(this.gos))return ie("cannot multi select unless selection mode is 'multiRow'");this.validateSelectAllType();const{source:t,justFiltered:a,justCurrentPage:u}=e,g=this.getNodesToSelect(a,u);g.forEach(_=>_.selectThisNode(!0,void 0,t)),this.selectionCtx.setRoot(g[0]??null),this.selectionCtx.setEndRange(Pp(g)??null),Dd(this.gos)&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(t),this.dispatchSelectionChanged(t)}getSelectionState(){const e=[];return this.selectedNodes.forEach(t=>{t?.id&&e.push(t.id)}),e.length?e:null}setSelectionState(e,t){if(!Array.isArray(e))return Et("Invalid selection state. When using client-side row model, the state must conform to `string[]`.");const a=new Set(e),u=[];this.rowModel.forEachNode(g=>{a.has(g.id)&&u.push(g)}),this.setNodesSelected({newValue:!0,nodes:u,source:t})}dispatchSelectionChanged(e){this.eventService.dispatchEvent({type:"selectionChanged",source:e})}validateSelectAllType(){if(!Dd(this.gos))throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`)}},_w=class extends Nh{constructor(){super(...arguments),this.beanName="selectableService"}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}postConstruct(){this.addManagedPropertyListeners(["isRowSelectable","rowSelection"],()=>this.updateSelectable())}updateSelectableAfterGrouping(){this.updateSelectable(!0)}updateSelectable(e=!1){const{gos:t}=this,a=md(t),u=ig(t);if(!a||!u)return;const g=Ep(t),_=Dd(t)&&g,K=[],rt=al=>{if(e&&!al.group)return;if(_&&al.group){const Gu=al.childrenAfterGroup.some(Wu=>Wu.selectable===!0);al.setRowSelectable(Gu,!0);return}const Ql=u?.(al)??!0;al.setRowSelectable(Ql,!0),!Ql&&al.isSelected()&&K.push(al)};if(_){const al=this.rowModel;new fx(!1,al.getRootNode()).forEachChangedNodeDepthFirst(rt,!0,!0)}else this.rowModel.forEachNode(rt);K.length&&this.selectionService.setNodesSelected({nodes:K,newValue:!1,source:"selectableChanged"}),_&&this.selectionService instanceof kw&&this.selectionService.updateGroupsFromChildrenSelections("selectableChanged")}},Ew=["asc","desc",null],Mw=class extends Nh{constructor(){super(...arguments),this.beanName="sortController"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.showRowGroupColsService=e.showRowGroupColsService}progressSort(e,t,a){const u=this.getNextSortDirection(e);this.setSortForColumn(e,u,t,a)}setSortForColumn(e,t,a,u){t!=="asc"&&t!=="desc"&&(t=null);const g=Z0(this.gos);let _=[e];if(g&&e.getColDef().showRowGroup){const Ql=this.funcColsService.getSourceColumnsForGroupColumn(e)?.filter(Gu=>Gu.isSortable());Ql&&(_=[e,...Ql])}_.forEach(al=>al.setSort(t,u));const K=(a||this.gos.get("alwaysMultiSort"))&&!this.gos.get("suppressMultiSort"),rt=[];if(!K){const al=this.clearSortBarTheseColumns(_,u);rt.push(...al)}this.updateSortIndex(e),rt.push(..._),this.dispatchSortChangedEvents(u,rt)}updateSortIndex(e){const t=Z0(this.gos),a=this.showRowGroupColsService?.getShowRowGroupCol(e.getId()),u=t&&a||e,g=this.getColumnsWithSortingOrdered();this.columnModel.getAllCols().forEach(rt=>rt.setSortIndex(null));const _=g.filter(rt=>t&&rt.getColDef().showRowGroup?!1:rt!==u);(u.getSort()?[..._,u]:_).forEach((rt,al)=>{rt.setSortIndex(al)})}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){const t=this.columnModel.getAllCols().filter(a=>!!a.getSort());return t&&t.length>0}dispatchSortChangedEvents(e,t){const a={type:"sortChanged",source:e};t&&(a.columns=t),this.eventService.dispatchEvent(a)}clearSortBarTheseColumns(e,t){const a=[];return this.columnModel.getAllCols().forEach(u=>{e.includes(u)||(u.getSort()&&a.push(u),u.setSort(void 0,t))}),a}getNextSortDirection(e){let t;if(e.getColDef().sortingOrder?t=e.getColDef().sortingOrder:this.gos.get("sortingOrder")?t=this.gos.get("sortingOrder"):t=Ew,!Array.isArray(t)||t.length<=0)return ie(`sortingOrder must be an array with at least one element, currently it's ${t}`),null;const a=t.indexOf(e.getSort()),u=a<0,g=a==t.length-1;let _;return u||g?_=t[0]:_=t[a+1],Ew.indexOf(_)<0?(ie("invalid sort type ",_),null):_}getIndexedSortMap(){let e=this.columnModel.getAllCols().filter(_=>!!_.getSort());if(this.columnModel.isPivotMode()){const _=Z0(this.gos);e=e.filter(K=>{const rt=!!K.getAggFunc(),al=!K.isPrimary(),Ql=_?this.showRowGroupColsService?.getShowRowGroupCol(K.getId()):K.getColDef().showRowGroup;return rt||al||Ql})}const t=this.funcColsService.getRowGroupColumns().filter(_=>!!_.getSort()),a={};e.forEach((_,K)=>a[_.getId()]=K),e.sort((_,K)=>{const rt=_.getSortIndex(),al=K.getSortIndex();if(rt!=null&&al!=null)return rt-al;if(rt==null&&al==null){const Ql=a[_.getId()],Gu=a[K.getId()];return Ql>Gu?1:-1}else return al==null?-1:1});const u=Z0(this.gos)&&!!t.length;u&&(e=[...new Set(e.map(_=>this.showRowGroupColsService?.getShowRowGroupCol(_.getId())??_))]);const g=new Map;return e.forEach((_,K)=>g.set(_,K)),u&&t.forEach(_=>{const K=this.showRowGroupColsService.getShowRowGroupCol(_.getId());g.set(_,g.get(K))}),g}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([e,t],[a,u])=>t-u).map(([e])=>e)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){const t=Z0(this.gos),a=!!e.getColDef().showRowGroup;return t&&a}getDisplaySortForColumn(e){const t=this.funcColsService.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!t?.length)return e.getSort();const u=e.getColDef().field!=null||!!e.getColDef().valueGetter?[e,...t]:t,g=u[0].getSort();return u.every(K=>K.getSort()==g)?g:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}},R5=class extends Nh{constructor(){super(...arguments),this.beanName="syncService",this.waitingForColumns=!1}wireBeans(e){this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.rowModel=e.rowModel}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e))}start(){this.ctrlsService.whenReady(this,()=>{const e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){this.columnModel.setColumnDefs(e??[],"gridInitializing"),this.rowModel.start()}gridReady(){this.eventService.dispatchEvent({type:"gridReady"});const e=this.gos.isModuleRegistered("@ag-grid-enterprise/core");this.gos.get("debug")&&ce(`initialised successfully, enterprise = ${e}`)}setColumnDefs(e){const t=this.gos.get("columnDefs");if(t){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(t);return}this.columnModel.setColumnDefs(t,Ld(e.source))}}},F5="paste",P5=class extends Nh{constructor(){super(...arguments),this.beanName="changeDetectionService"}wireBeans(e){this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer}postConstruct(){Dd(this.gos)&&(this.clientSideRowModel=this.rowModel),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(e){e.source!==F5&&this.doChangeDetection(e.node,e.column)}doChangeDetection(e,t){if(this.gos.get("suppressChangeDetection"))return;const a=[e];if(this.clientSideRowModel&&!e.isRowPinned()){const u=this.gos.get("aggregateOnlyChangedColumns"),g=new fx(u,this.clientSideRowModel.getRootNode());g.addParentNode(e.parent,[t]),this.clientSideRowModel.doAggregate(g),g.forEachChangedNodeDepthFirst(_=>{a.push(_)})}this.rowRenderer.refreshCells({rowNodes:a})}},Aw=class extends Nh{constructor(){super(...arguments),this.beanName="expressionService",this.expressionToFunctionCache={}}evaluate(e,t){if(typeof e=="string")return this.evaluateExpression(e,t);Et("value should be either a string or a function",e)}evaluateExpression(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.getValue,t.column,t.columnGroup)}catch(a){return ce("Processing of the expression failed"),ce("Expression = ",e),ce("Params = ",t),ce("Exception = ",a),null}}createExpressionFunction(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];const t=this.createFunctionBody(e),a=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",t);return this.expressionToFunctionCache[e]=a,a}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}},Tw=class extends Nh{constructor(){super(...arguments),this.beanName="valueCache",this.cacheVersion=0}postConstruct(){this.active=this.gos.get("valueCache"),this.neverExpires=this.gos.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,a){this.active&&(e.__cacheVersion!==this.cacheVersion&&(e.__cacheVersion=this.cacheVersion,e.__cacheData={}),e.__cacheData[t]=a)}getValue(e,t){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[t]}},Rw=class extends Nh{constructor(){super(...arguments),this.beanName="valueService",this.initialised=!1,this.isSsrm=!1}wireBeans(e){this.expressionService=e.expressionService,this.columnModel=e.columnModel,this.valueCache=e.valueCache,this.dataTypeService=e.dataTypeService}postConstruct(){this.initialised||this.init()}init(){this.isSsrm=mh(this.gos),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;const e=a=>this.callColumnCellValueChangedHandler(a),t=oh(this.gos);this.eventService.addEventListener("cellValueChanged",e,t),this.addDestroyFunc(()=>this.eventService.removeEventListener("cellValueChanged",e,t)),this.addManagedPropertyListener("treeData",a=>this.isTreeData=a.currentValue)}getValueForDisplay(e,t){const a=t.leafGroup&&this.columnModel.isPivotMode(),u=t.group&&t.expanded&&!t.footer&&!a,g=this.gos.get("groupSuppressBlankHeader");if(!u||g)return this.getValue(e,t);let _=!1;const K=this.gos.get("groupTotalRow")??this.gos.get("groupIncludeFooter");typeof K!="function"?_=!!K:_=!!(this.gos.getCallback("groupTotalRow")??this.gos.getCallback("groupIncludeFooter"))({node:this});const rt=u&&_;return this.getValue(e,t,!1,rt)}getValue(e,t,a=!1,u=!1){if(this.initialised||this.init(),!t)return;const g=e.getColDef(),_=g.field,K=e.getColId(),rt=t.data;let al;const Ql=t.groupData&&t.groupData[K]!==void 0,Gu=!u&&t.aggData&&t.aggData[K]!==void 0,Wu=this.isSsrm&&u&&!!e.getColDef().aggFunc,id=this.isSsrm&&t.footer&&t.field&&(e.getColDef().showRowGroup===!0||e.getColDef().showRowGroup===t.field);if(a&&g.filterValueGetter?al=this.executeFilterValueGetter(g.filterValueGetter,rt,e,t):this.isTreeData&&Gu?al=t.aggData[K]:this.isTreeData&&g.valueGetter?al=this.executeValueGetter(g.valueGetter,rt,e,t):this.isTreeData&&_&&rt?al=Bl(rt,_,e.isFieldContainsDots()):Ql?al=t.groupData[K]:Gu?al=t.aggData[K]:g.valueGetter?al=this.executeValueGetter(g.valueGetter,rt,e,t):id?al=Bl(rt,t.field,e.isFieldContainsDots()):_&&rt&&!Wu&&(al=Bl(rt,_,e.isFieldContainsDots())),this.cellExpressions&&typeof al=="string"&&al.indexOf("=")===0){const uh=al.substring(1);al=this.executeValueGetter(uh,rt,e,t)}if(al==null){const uh=this.getOpenedGroup(t,e);if(uh!=null)return uh}return al}parseValue(e,t,a,u){const g=e.getColDef(),_=g.valueParser;if(Vu(_)){const K=this.gos.addGridCommonParams({node:t,data:t?.data,oldValue:u,newValue:a,colDef:g,column:e});return typeof _=="function"?_(K):this.expressionService.evaluate(_,K)}return a}getDeleteValue(e,t){return Vu(e.getColDef().valueParser)?this.parseValue(e,t,"",this.getValueForDisplay(e,t))??null:null}formatValue(e,t,a,u,g=!0){let _=null,K;const rt=e.getColDef();if(u?K=u:g&&(K=rt.valueFormatter),K){const al=this.gos.addGridCommonParams({value:a,node:t,data:t?t.data:null,colDef:rt,column:e});typeof K=="function"?_=K(al):_=this.expressionService.evaluate(K,al)}else if(rt.refData)return rt.refData[a]||"";return _==null&&Array.isArray(a)&&(_=a.join(", ")),_}getOpenedGroup(e,t){if(!this.gos.get("showOpenedGroup")||!t.getColDef().showRowGroup)return;const u=t.getColDef().showRowGroup;let g=e.parent;for(;g!=null;){if(g.rowGroupColumn&&(u===!0||u===g.rowGroupColumn.getColId()))return g.key;g=g.parent}}setValue(e,t,a,u){const g=this.columnModel.getColDefCol(t);if(!e||!g)return!1;Zu(e.data)&&(e.data={});const{field:_,valueSetter:K}=g.getColDef();if(Zu(_)&&Zu(K))return ie("you need either field or valueSetter set on colDef for editing to work"),!1;if(this.dataTypeService&&!this.dataTypeService.checkType(g,a))return ie("Data type of the new value does not match the cell data type of the column"),!1;const rt=this.gos.addGridCommonParams({node:e,data:e.data,oldValue:this.getValue(g,e),newValue:a,colDef:g.getColDef(),column:g});rt.newValue=a;let al;if(Vu(K)?typeof K=="function"?al=K(rt):al=this.expressionService.evaluate(K,rt):al=this.setValueUsingField(e.data,_,a,g.isFieldContainsDots()),al===void 0&&(al=!0),!al)return!1;e.resetQuickFilterAggregateText(),this.valueCache.onDataChanged();const Ql=this.getValue(g,e);return this.eventService.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:rt.column,colDef:rt.colDef,data:e.data,node:e,oldValue:rt.oldValue,newValue:Ql,value:Ql,source:u}),!0}callColumnCellValueChangedHandler(e){const t=e.colDef.onCellValueChanged;typeof t=="function"&&this.getFrameworkOverrides().wrapOutgoing(()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context})})}setValueUsingField(e,t,a,u){if(!t)return!1;let g=!1;if(!u)g=e[t]===a,g||(e[t]=a);else{const _=t.split(".");let K=e;for(;_.length>0&&K;){const rt=_.shift();_.length===0?(g=K[rt]===a,g||(K[rt]=a)):K=K[rt]}}return!g}executeFilterValueGetter(e,t,a,u){const g=this.gos.addGridCommonParams({data:t,node:u,column:a,colDef:a.getColDef(),getValue:this.getValueCallback.bind(this,u)});return typeof e=="function"?e(g):this.expressionService.evaluate(e,g)}executeValueGetter(e,t,a,u){const g=a.getColId(),_=this.valueCache.getValue(u,g);if(_!==void 0)return _;const K=this.gos.addGridCommonParams({data:t,node:u,column:a,colDef:a.getColDef(),getValue:this.getValueCallback.bind(this,u)});let rt;return typeof e=="function"?rt=e(K):rt=this.expressionService.evaluate(e,K),this.valueCache.setValue(u,g,rt),rt}getValueCallback(e,t){const a=this.columnModel.getColDefCol(t);return a?this.getValue(a,e):null}getKeyForNode(e,t){const a=this.getValue(e,t),u=e.getColDef().keyCreator;let g=a;if(u){const _=this.gos.addGridCommonParams({value:a,colDef:e.getColDef(),column:e,node:t,data:t.data});g=u(_)}return typeof g=="string"||g==null||(g=String(g),g==="[object Object]"&&ie("a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")),g}},$b=class Z2{static applyGlobalGridOptions(t){if(!Z2.gridOptions)return t;let a={};return Pl(a,Z2.gridOptions,!0,!0),Z2.mergeStrategy==="deep"?Pl(a,t,!0,!0):a={...a,...t},Z2.gridOptions.context&&(a.context=Z2.gridOptions.context),t.context&&(Z2.mergeStrategy==="deep"&&a.context&&Pl(t.context,a.context,!0,!0),a.context=t.context),a}};$b.gridOptions=void 0,$b.mergeStrategy="shallow";var Jx=$b;function D5(e,t="shallow"){Jx.gridOptions=e,Jx.mergeStrategy=t}function L5(e){return Jx.gridOptions?.[e]}function I5(e,t,a){if(!t)return Et("No gridOptions provided to createGrid"),{};const u=new qb().create(e,t,g=>{const _=new x2(e);g.createBean(_)},void 0,a);if(!Object.isFrozen(t)&&!a?.frameworkOverrides){const g="https://ag-grid.com/javascript-data-grid/grid-interface/#grid-api";Object.defineProperty(t,"api",{get:()=>{Et(`gridOptions.api is no longer supported. See ${g}.`)},configurable:!0})}return u}var O5=class{constructor(e,t,a){if(ie("Since v31 new Grid(...) is deprecated. Use createGrid instead: `const gridApi = createGrid(...)`. The grid api is returned from createGrid and will not be available on gridOptions."),!t){Et("No gridOptions provided to the grid");return}this.gridOptions=t;const u=new qb().create(e,t,g=>{const _=new x2(e);g.createBean(_).addDestroyFunc(()=>{this.destroy()})},void 0,a);this.gridOptions.api=u}destroy(){this.gridOptions&&(this.gridOptions.api?.destroy(),delete this.gridOptions.api)}},z5=1,qb=class{create(e,t,a,u,g){const _=Jx.applyGlobalGridOptions(t),K=w5(_),rt=K.gridId??String(z5++),al=this.getRegisteredModules(g,rt),Ql=this.createBeansList(K.rowModelType,al,rt),Gu=this.createProvidedBeans(e,K,g);if(!Ql){Et("Failed to create grid.");return}const Wu={providedBeanInstances:Gu,beanClasses:Ql,gridId:rt,beanInitComparator:b3,beanDestroyComparator:Tx,derivedBeans:[vb]},id=new b1(Wu);return this.registerModuleUserComponents(id,al),this.registerControllers(id,al),this.registerModuleApiFunctions(id,al),a(id),id.getBean("syncService").start(),u&&u(id),id.getBean("gridApi")}registerControllers(e,t){const a=e.getBean("ctrlsFactory");t.forEach(u=>{u.controllers&&u.controllers.forEach(g=>a.register(g))})}getRegisteredModules(e,t){const a=e?e.modules:null,u=ym.__getRegisteredModules(t),g=[],_={},K=(rt,al,Ql)=>{(Wu=>{_[Wu.moduleName]||(_[Wu.moduleName]=!0,g.push(Wu),ym.__register(Wu,rt,Ql))})(al),al.dependantModules&&al.dependantModules.forEach(Wu=>K(rt,Wu,Ql))};return K(!!a?.length||!ym.__isPackageBased(),Wb,void 0),a&&a.forEach(rt=>K(!0,rt,t)),u&&u.forEach(rt=>K(!ym.__isPackageBased(),rt,void 0)),g}registerModuleUserComponents(e,t){const a=this.extractModuleEntity(t,g=>g.userComponents?g.userComponents:[]),u=e.getBean("userComponentRegistry");a.forEach(({name:g,classImp:_,params:K})=>{u.registerDefaultComponent(g,_,K)})}registerModuleApiFunctions(e,t){const a=e.getBean("apiFunctionService");t.forEach(u=>{const g=u.apiFunctions;g&&Object.keys(g).forEach(K=>{a?.addFunction(K,g[K])})})}createProvidedBeans(e,t,a){let u=a?a.frameworkOverrides:null;Zu(u)&&(u=new q3);const g={gridOptions:t,eGridDiv:e,globalEventListener:a?a.globalEventListener:null,globalSyncEventListener:a?a.globalSyncEventListener:null,frameworkOverrides:u};return a&&a.providedBeanInstances&&Object.assign(g,a.providedBeanInstances),g}createBeansList(e="clientSide",t,a){const u=t.filter(al=>!al.rowModel||al.rowModel===e),g={clientSide:"@ag-grid-community/client-side-row-model",infinite:"@ag-grid-community/infinite-row-model",serverSide:"@ag-grid-enterprise/server-side-row-model",viewport:"@ag-grid-enterprise/viewport-row-model"};if(!g[e]){Et("Could not find row model for rowModelType = ",e);return}if(!ym.__assertRegistered(g[e],`rowModelType = '${e}'`,a))return;const _=[X3,Fx,bw,x5,kx,Bm,K3,Ax,f2,yy,T5,Ly,ww,yx,e2,$f,Lx,xw,Cx,kw,vd,fd,k5,S5,H3,Aw,Qu,Dy,Tw,Rw,vx,V2,jv,tx,h2,Px,y3,U3,c2,Mw,E5,_5,_w,P5,f3,yb,A5,Sw,Rx,Cb,wb,bb,R5,M5,p2,C5,Cw,Iy,$u,_x,ih,vh,Ex,Mx,nf,Xl,Hh,Y3,Cf,jg],K=this.extractModuleEntity(u,al=>al.beans?al.beans:[]);_.push(...K);const rt=[];return _.forEach(al=>{rt.indexOf(al)<0&&rt.push(al)}),rt}extractModuleEntity(e,t){return[].concat(...e.map(t))}},Yb=class extends Nh{constructor(){super(...arguments),this.beanName="rowModelHelperService"}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){const e=this.rowModel;switch(e.getType()){case"clientSide":this.clientSideRowModel=e;break;case"infinite":this.infiniteRowModel=e;break;case"serverSide":this.serverSideRowModel=e;break}}getClientSideRowModel(){return this.clientSideRowModel}getInfiniteRowModel(){return this.infiniteRowModel}getServerSideRowModel(){return this.serverSideRowModel}};function N5(e){e.expansionService.expandAll(!0)}function B5(e){e.expansionService.expandAll(!1)}function H5(e){const t=e.rowModelHelperService?.getClientSideRowModel(),a=e.rowModelHelperService?.getServerSideRowModel();t?t.onRowHeightChanged():a&&a.onRowHeightChanged()}function G5(e,t,a){const u=e.rowModelHelperService?.getServerSideRowModel();if(u){if(e.funcColsService.isRowGroupEmpty()){u.setRowCount(t,a);return}Et("setRowCount cannot be used while using row grouping.");return}const g=e.rowModelHelperService?.getInfiniteRowModel();if(g){g.setRowCount(t,a);return}}function V5(e){return e.rowNodeBlockLoader?.getBlockState()??{}}function j5(e){return e.rowModel.isLastRowIndexKnown()}var Fw={version:kl,moduleName:"@ag-grid-community/csrm-ssrm-shared-api",apiFunctions:{expandAll:N5,collapseAll:B5,onRowHeightChanged:H5}},Pw={version:kl,moduleName:"@ag-grid-community/ssrm-infinite-shared-api",apiFunctions:{setRowCount:G5,getCacheBlockState:V5,isLastRowIndexKnown:j5}},U5=class{wrap(e,t,a=[],u){const g=this.createWrapper(e,u);return t.forEach(_=>{this.createMethod(g,_,!0)}),a.forEach(_=>{this.createMethod(g,_,!1)}),g}createMethod(e,t,a){e.addMethod(t,this.createMethodProxy(e,t,a))}createMethodProxy(e,t,a){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(a&&ie("Framework component is missing the method "+t+"()"),null)}}},eb=class{};eb.CHART_TYPE_TO_SERIES_TYPE={column:"bar",groupedColumn:"bar",stackedColumn:"bar",normalizedColumn:"bar",bar:"bar",groupedBar:"bar",stackedBar:"bar",normalizedBar:"bar",line:"line",scatter:"scatter",bubble:"bubble",pie:"pie",donut:"donut",doughnut:"donut",area:"area",stackedArea:"area",normalizedArea:"area",histogram:"histogram",radarLine:"radar-line",radarArea:"radar-area",nightingale:"nightingale",radialColumn:"radial-column",radialBar:"radial-bar",sunburst:"sunburst",rangeBar:"range-bar",rangeArea:"range-area",boxPlot:"box-plot",treemap:"treemap",heatmap:"heatmap",waterfall:"waterfall"},eb.COMBO_CHART_TYPES=["columnLineCombo","areaColumnCombo","customCombo"],eb.SERIES_GROUP_TYPES=["grouped","stacked","normalized"];var Dw=(e=>(e.InsideBase="insideBase",e.InsideEnd="insideEnd",e.Center="center",e.OutsideEnd="outsideEnd",e))(Dw||{}),R3=typeof commonjsGlobal>"u"?{}:commonjsGlobal;R3.HTMLElement=typeof HTMLElement>"u"?{}:HTMLElement,R3.HTMLButtonElement=typeof HTMLButtonElement>"u"?{}:HTMLButtonElement,R3.HTMLSelectElement=typeof HTMLSelectElement>"u"?{}:HTMLSelectElement,R3.HTMLInputElement=typeof HTMLInputElement>"u"?{}:HTMLInputElement,R3.Node=typeof Node>"u"?{}:Node,R3.MouseEvent=typeof MouseEvent>"u"?{}:MouseEvent;var W5="ROOT_NODE_ID",Kb=0,$5=class{constructor(e,t,a,u,g,_){this.nextId=0,this.rowCountReady=!1,this.allNodesMap={},this.rootNode=e,this.gos=t,this.eventService=a,this.funcColsService=u,this.beans=_,this.selectionService=g,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=W5,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[]}getCopyOfNodesMap(){return ot(this.allNodesMap)}getRowNode(e){return this.allNodesMap[e]}setRowData(e){if(typeof e=="string"){ie("rowData must be an array.");return}this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(e);const t=this.rootNode,a=this.rootNode.sibling;t.childrenAfterFilter=null,t.childrenAfterGroup=null,t.childrenAfterAggFilter=null,t.childrenAfterSort=null,t.childrenMapped=null,t.updateHasChildren(),this.nextId=0,this.allNodesMap={},e?t.allLeafChildren=e.map((u,g)=>this.createNode(u,this.rootNode,Kb,g)):(t.allLeafChildren=[],t.childrenAfterGroup=[]),a&&(a.childrenAfterFilter=t.childrenAfterFilter,a.childrenAfterGroup=t.childrenAfterGroup,a.childrenAfterAggFilter=t.childrenAfterAggFilter,a.childrenAfterSort=t.childrenAfterSort,a.childrenMapped=t.childrenMapped,a.allLeafChildren=t.allLeafChildren)}updateRowData(e){this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(e.add);const t={rowNodeTransaction:{remove:[],update:[],add:[]},rowsInserted:!1},a=[];return this.executeRemove(e,t,a),this.executeUpdate(e,t,a),this.executeAdd(e,t),this.updateSelection(a,"rowDataChanged"),t}updateRowOrderFromRowData(e){const t=this.rootNode.allLeafChildren,a=t?.length??0,u=new Map;let g=-1,_=-1;for(let K=0;K<a;++K){const rt=t[K],al=rt.data;al!==e[K]&&(_<0&&(g=K),_=K,u.set(al,rt))}if(g<0)return!1;for(let K=g;K<=_;++K){const rt=u.get(e[K]);rt!==void 0&&(t[K]=rt,rt.sourceRowIndex=K)}return!0}isRowCountReady(){return this.rowCountReady}dispatchRowDataUpdateStartedEvent(e){this.eventService.dispatchEvent({type:"rowDataUpdateStarted",firstRowData:e?.length?e[0]:null})}updateSelection(e,t){const a=e.length>0;a&&this.selectionService.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t}),this.selectionService.updateGroupsFromChildrenSelections(t),a&&this.eventService.dispatchEvent({type:"selectionChanged",source:t})}executeAdd(e,t){const a=e.add;if(Od(a))return;const u=this.rootNode.allLeafChildren;let g=u.length;if(typeof e.addIndex=="number"&&(g=this.sanitizeAddIndex(e.addIndex),g>0&&this.gos.get("treeData"))){for(let al=0;al<u.length;al++)if(u[al]?.rowIndex==g-1){g=al+1;break}}const _=a.map((rt,al)=>this.createNode(rt,this.rootNode,Kb,g+al));if(g<u.length){const rt=u.slice(0,g),al=u.slice(g,u.length),Ql=rt.length+_.length;for(let Gu=0,Wu=al.length;Gu<Wu;++Gu)al[Gu].sourceRowIndex=Ql+Gu;this.rootNode.allLeafChildren=[...rt,..._,...al],t.rowsInserted=!0}else this.rootNode.allLeafChildren=u.concat(_);const K=this.rootNode.sibling;K&&(K.allLeafChildren=u),t.rowNodeTransaction.add=_}sanitizeAddIndex(e){const t=this.rootNode.allLeafChildren?.length??0;return e<0||e>=t||Number.isNaN(e)?t:Math.ceil(e)}executeRemove(e,{rowNodeTransaction:t},a){const{remove:u}=e;if(Od(u))return;const g={};u.forEach(K=>{const rt=this.lookupRowNode(K);rt&&(rt.isSelected()&&a.push(rt),rt.clearRowTopAndRowIndex(),g[rt.id]=!0,delete this.allNodesMap[rt.id],t.remove.push(rt))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren?.filter(K=>!g[K.id])??null,this.rootNode.allLeafChildren?.forEach((K,rt)=>{K.sourceRowIndex=rt});const _=this.rootNode.sibling;_&&(_.allLeafChildren=this.rootNode.allLeafChildren)}executeUpdate(e,{rowNodeTransaction:t},a){const{update:u}=e;Od(u)||u.forEach(g=>{const _=this.lookupRowNode(g);_&&(_.updateData(g),!_.selectable&&_.isSelected()&&a.push(_),this.setMasterForRow(_,g,Kb,!1),t.update.push(_))})}lookupRowNode(e){const t=hd(this.gos);let a;if(t){const u=t({data:e,level:0});if(a=this.allNodesMap[u],!a)return Et(`could not find row id=${u}, data item was not found for this id`),null}else if(a=this.rootNode.allLeafChildren?.find(u=>u.data===e),!a)return Et("could not find data item as object was not found",e),Et("Consider using getRowId to help the Grid find matching row data"),null;return a||null}createNode(e,t,a,u){const g=new T1(this.beans);return g.sourceRowIndex=u,g.group=!1,this.setMasterForRow(g,e,a,!0),t&&(g.parent=t),g.level=a,g.setDataAndId(e,this.nextId.toString()),this.allNodesMap[g.id]&&ie(`duplicate node id '${g.id}' detected from getRowId callback, this could cause issues in your grid.`),this.allNodesMap[g.id]=g,this.nextId++,g}setMasterForRow(e,t,a,u){if(this.gos.get("treeData"))e.setMaster(!1),u&&(e.expanded=!1);else{if(this.gos.get("masterDetail")){const K=this.gos.get("isRowMaster");K?e.setMaster(K(t)):e.setMaster(!0)}else e.setMaster(!1);if(u){const K=this.funcColsService.getRowGroupColumns(),rt=K?K.length:0,al=a+rt;e.expanded=e.master?this.isExpanded(al):!1}}}isExpanded(e){const t=this.gos.get("groupDefaultExpanded");return t===-1?!0:e<t}},q5=class extends Nh{constructor(){super(...arguments),this.beanName="rowModel",this.onRowHeightChanged_debounced=Kl(this.onRowHeightChanged.bind(this),100),this.rowsToDisplay=[],this.hasStarted=!1,this.shouldSkipSettingDataOnStart=!1,this.isRefreshingModel=!1,this.rowCountReady=!1}wireBeans(e){this.beans=e,this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.selectionService=e.selectionService,this.valueCache=e.valueCache,this.environment=e.environment,this.filterStage=e.filterStage,this.sortStage=e.sortStage,this.flattenStage=e.flattenStage,this.groupStage=e.groupStage,this.aggregationStage=e.aggregationStage,this.pivotStage=e.pivotStage,this.filterAggregatesStage=e.filterAggregatesStage}postConstruct(){const e=this.refreshModel.bind(this,{step:"group"}),t=!this.gos.get("suppressAnimationFrame"),a=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:t});this.addManagedEventListeners({newColumnsLoaded:a,columnRowGroupChanged:e,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:this.refreshModel.bind(this,{step:"pivot"}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),columnPivotModeChanged:e,gridStylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this)}),this.addPropertyListeners(),this.rootNode=new T1(this.beans),this.nodeManager=new $5(this.rootNode,this.gos,this.eventService,this.funcColsService,this.selectionService,this.beans)}addPropertyListeners(){const e=new Set(["treeData","masterDetail"]),t=new Set(["groupDefaultExpanded","groupAllowUnbalanced","initialGroupOrderComparator","groupHideOpenParents","groupDisplayType"]),a=new Set(["excludeChildrenWhenTreeDataFiltering"]),u=new Set(["removePivotHeaderRowWhenSingleValueColumn","pivotRowTotals","pivotColumnGroupTotals","suppressExpandablePivotGroups"]),g=new Set(["getGroupRowAgg","alwaysAggregateAtRootLevel","groupIncludeTotalFooter","suppressAggFilteredOnly","grandTotalRow"]),_=new Set(["postSortRows","groupDisplayType","accentedSort"]),K=new Set([]),rt=new Set(["groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupIncludeFooter","groupTotalRow"]),al=[...e,...t,...a,...u,...u,...g,..._,...K,...rt];this.addManagedPropertyListeners(al,Ql=>{const Gu=Ql.changeSet?.properties;if(!Gu)return;const Wu=id=>Gu.some(uh=>id.has(uh));if(Wu(e)){this.setRowData(this.rootNode.allLeafChildren.map(id=>id.data));return}if(Wu(t)){this.refreshModel({step:"group"});return}if(Wu(a)){this.refreshModel({step:"filter"});return}if(Wu(u)){this.refreshModel({step:"pivot"});return}if(Wu(g)){this.refreshModel({step:"aggregate"});return}if(Wu(_)){this.refreshModel({step:"sort"});return}if(Wu(K)){this.refreshModel({step:"filter_aggregates"});return}Wu(rt)&&this.refreshModel({step:"map"})}),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.hasStarted=!0,this.shouldSkipSettingDataOnStart?this.dispatchUpdateEventsAndRefresh():this.setInitialData()}setInitialData(){const e=this.gos.get("rowData");e&&(this.shouldSkipSettingDataOnStart=!0,this.setRowData(e))}ensureRowHeightsValid(e,t,a,u){let g,_=!1;do{g=!1;const K=this.getRowIndexAtPixel(e),rt=this.getRowIndexAtPixel(t),al=Math.max(K,a),Ql=Math.min(rt,u);for(let Gu=al;Gu<=Ql;Gu++){const Wu=this.getRow(Gu);if(Wu.rowHeightEstimated){const id=yh(this.gos,Wu);Wu.setRowHeight(id.height),g=!0,_=!0}}g&&this.setRowTopAndRowIndex()}while(g);return _}setRowTopAndRowIndex(){const e=this.environment.getDefaultRowHeight();let t=0;const a=new Set,u=gd(this.gos,"normal");for(let g=0;g<this.rowsToDisplay.length;g++){const _=this.rowsToDisplay[g];if(_.id!=null&&a.add(_.id),_.rowHeight==null){const K=yh(this.gos,_,u,e);_.setRowHeight(K.height,K.estimated)}_.setRowTop(t),_.setRowIndex(g),t+=_.rowHeight}return a}clearRowTopAndRowIndex(e,t){const a=e.isActive(),u=_=>{_&&_.id!=null&&!t.has(_.id)&&_.clearRowTopAndRowIndex()},g=_=>{if(u(_),u(_.detailNode),u(_.sibling),_.hasChildren()&&_.childrenAfterGroup){const K=_.level==-1;a&&!K&&!_.expanded||_.childrenAfterGroup.forEach(g)}};g(this.rootNode)}ensureRowsAtPixel(e,t,a=0){const u=this.getRowIndexAtPixel(t),g=this.getRow(u),_=!this.gos.get("suppressAnimationFrame");if(g===e[0])return!1;const K=this.rootNode.allLeafChildren;return e.forEach(rt=>{Tg(K,rt)}),e.forEach((rt,al)=>{Cm(K,rt,Math.max(u+a,0)+al)}),e.forEach((rt,al)=>{rt.sourceRowIndex=al}),this.refreshModel({step:"group",keepRenderedRows:!0,keepEditingRows:!0,animate:_,rowNodesOrderChanged:!0}),!0}highlightRowAtPixel(e,t){const a=t!=null?this.getRowIndexAtPixel(t):null,u=a!=null?this.getRow(a):null;if(!u||!e||t==null){this.clearHighlightedRow();return}const g=this.getHighlightPosition(t,u),_=this.isHighlightingCurrentPosition(e,u,g),K=this.lastHighlightedRow!=null&&this.lastHighlightedRow!==u;(_||K)&&(this.clearHighlightedRow(),_)||(u.setHighlighted(g),this.lastHighlightedRow=u)}getHighlightPosition(e,t){if(!t){const g=this.getRowIndexAtPixel(e);if(t=this.getRow(g||0),!t)return 1}const{rowTop:a,rowHeight:u}=t;return e-a<u/2?0:1}getLastHighlightedRowNode(){return this.lastHighlightedRow}isHighlightingCurrentPosition(e,t,a){if(e===t)return!0;const u=a===0?-1:1;return this.getRow(t.rowIndex+u)===e}clearHighlightedRow(){this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null)}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){if(this.rowsToDisplay.length===0)return 0;if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;const t=this.rootNode.childrenAfterAggFilter,a=this.rootNode.sibling?1:0;return(t?t.length:0)+a}getTopLevelRowDisplayedIndex(e){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return e;let a=e;if(this.rowsToDisplay[0].footer){if(e===0)return 0;a-=1}const u=this.rowsToDisplay[this.rowsToDisplay.length-1],g=a>=this.rootNode.childrenAfterSort.length;if(u.footer&&g)return u.rowIndex;let _=this.rootNode.childrenAfterSort[a];if(this.gos.get("groupHideOpenParents"))for(;_.expanded&&_.childrenAfterSort&&_.childrenAfterSort.length>0;)_=_.childrenAfterSort[0];return _.rowIndex}getRowBounds(e){if(Zu(this.rowsToDisplay))return null;const t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){const e=l0(this.gos);this.refreshModel({step:"map",keepRenderedRows:!0,animate:e})}onFilterChanged(e){if(e.afterDataChange)return;const t=l0(this.gos),u=e.columns.length===0||e.columns.some(g=>g.isPrimary())?"filter":"filter_aggregates";this.refreshModel({step:u,keepRenderedRows:!0,animate:t})}onSortChanged(){const e=l0(this.gos);this.refreshModel({step:"sort",keepRenderedRows:!0,animate:e,keepEditingRows:!0})}getType(){return"clientSide"}onValueChanged(){this.columnModel.isPivotActive()?this.refreshModel({step:"pivot"}):this.refreshModel({step:"aggregate"})}createChangePath(e){const t=Od(e),a=new fx(!1,this.rootNode);return t&&a.setInactive(),a}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction")||e.rowNodeTransactions==null)return!1;const t=e.rowNodeTransactions.filter(u=>u.add!=null&&u.add.length>0||u.remove!=null&&u.remove.length>0);return t==null||t.length==0}buildRefreshModelParams(e){let t="group";const a={everything:"group",group:"group",filter:"filter",map:"map",aggregate:"aggregate",filter_aggregates:"filter_aggregates",sort:"sort",pivot:"pivot",nothing:"nothing"};if(Vu(e)&&(t=a[e]),Zu(t)){Et(`invalid step ${e}, available steps are ${Object.keys(a).join(", ")}`);return}const u=!this.gos.get("suppressAnimationFrame");return{step:t,keepRenderedRows:!0,keepEditingRows:!0,animate:u}}refreshModel(e){if(!this.hasStarted||this.isRefreshingModel||this.columnModel.isChangeEventsDispatching())return;const t=typeof e=="object"&&"step"in e?e:this.buildRefreshModelParams(e);if(!t||this.isSuppressModelUpdateAfterUpdateTransaction(t))return;const a=this.createChangePath(t.rowNodeTransactions);switch(this.isRefreshingModel=!0,t.step){case"group":this.doRowGrouping(t.rowNodeTransactions,a,!!t.rowNodesOrderChanged,!!t.afterColumnsChanged);case"filter":this.doFilter(a);case"pivot":this.doPivot(a);case"aggregate":this.doAggregate(a);case"filter_aggregates":this.doFilterAggregates(a);case"sort":this.doSort(t.rowNodeTransactions,a);case"map":this.doRowsToDisplay()}const u=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(a,u),this.isRefreshingModel=!1,this.eventService.dispatchEvent({type:"modelUpdated",animate:t.animate,keepRenderedRows:t.keepRenderedRows,newData:t.newData,newPage:!1,keepUndoRedoStack:t.keepUndoRedoStack})}isEmpty(){const e=Zu(this.rootNode.allLeafChildren)||this.rootNode.allLeafChildren.length===0;return Zu(this.rootNode)||e||!this.columnModel.isReady()}isRowsToRender(){return Vu(this.rowsToDisplay)&&this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,t){let a=!1,u=!1;const g=[],_=Ep(this.gos);return this.forEachNodeAfterFilterAndSort(K=>{if(u)return;if(a&&(K===t||K===e)&&(u=!0,K.group&&_)){g.push(...K.allLeafChildren);return}if(!a){if(K!==t&&K!==e)return;a=!0}if(!K.group||!_){g.push(K);return}}),g}setDatasource(e){Et("should never call setDatasource on clientSideRowController")}getTopLevelNodes(){return this.rootNode?this.rootNode.childrenAfterGroup:null}getRootNode(){return this.rootNode}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){if(this.isEmpty()||this.rowsToDisplay.length===0)return-1;let t=0,a=this.rowsToDisplay.length-1;if(e<=0)return 0;if(Pp(this.rowsToDisplay).rowTop<=e)return this.rowsToDisplay.length-1;let g=-1,_=-1;for(;;){const K=Math.floor((t+a)/2),rt=this.rowsToDisplay[K];if(this.isRowInPixel(rt,e)||(rt.rowTop<e?t=K+1:rt.rowTop>e&&(a=K-1),g===t&&_===a))return K;g=t,_=a}}isRowInPixel(e,t){const a=e.rowTop,u=e.rowTop+e.rowHeight;return a<=t&&u>t}forEachLeafNode(e){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach((t,a)=>e(t,a))}forEachNode(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterGroup||[]],callback:e,recursionType:0,index:0,includeFooterNodes:t})}forEachNodeAfterFilter(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterAggFilter||[]],callback:e,recursionType:1,index:0,includeFooterNodes:t})}forEachNodeAfterFilterAndSort(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterSort||[]],callback:e,recursionType:2,index:0,includeFooterNodes:t})}forEachPivotNode(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:e,recursionType:3,index:0,includeFooterNodes:t})}recursivelyWalkNodesAndCallback(e){const{nodes:t,callback:a,recursionType:u,includeFooterNodes:g}=e;let{index:_}=e;const K=rt=>{const al=t[0]?.parent;if(!al)return;const Ql=g&&X0(this.gos),Gu=$g(this.gos),Wu=g&&Gu({node:al});if(al===this.rootNode){Ql===rt&&(al.createFooter(),a(al.sibling,_++));return}Wu===rt&&(al.createFooter(),a(al.sibling,_++))};K("top");for(let rt=0;rt<t.length;rt++){const al=t[rt];if(a(al,_++),al.hasChildren()&&!al.footer){let Ql=null;switch(u){case 0:Ql=al.childrenAfterGroup;break;case 1:Ql=al.childrenAfterAggFilter;break;case 2:Ql=al.childrenAfterSort;break;case 3:Ql=al.leafGroup?null:al.childrenAfterSort;break}Ql&&(_=this.recursivelyWalkNodesAndCallback({nodes:[...Ql],callback:a,recursionType:u,index:_,includeFooterNodes:g}))}}return K("bottom"),_}doAggregate(e){this.aggregationStage?.execute({rowNode:this.rootNode,changedPath:e})}doFilterAggregates(e){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:e}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter}expandOrCollapseAll(e){const t=this.gos.get("treeData"),a=this.columnModel.isPivotActive(),u=g=>{g&&g.forEach(_=>{const K=()=>{_.expanded=e,u(_.childrenAfterGroup)};if(t){Vu(_.childrenAfterGroup)&&K();return}if(a){!_.leafGroup&&K();return}_.group&&K()})};this.rootNode&&u(this.rootNode.childrenAfterGroup),this.refreshModel({step:"map"}),this.eventService.dispatchEvent({type:"expandOrCollapseAll",source:e?"expandAll":"collapseAll"})}doSort(e,t){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,changedPath:t})}doRowGrouping(e,t,a,u){if(this.groupStage)e?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,rowNodesOrderChanged:a,changedPath:t}):this.groupStage.execute({rowNode:this.rootNode,changedPath:t,afterColumnsChanged:u}),Ep(this.gos)&&this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",t)&&this.eventService.dispatchEvent({type:"selectionChanged",source:"rowGroupChanged"});else{const g=this.rootNode,_=g.sibling;g.childrenAfterGroup=g.allLeafChildren,_&&(_.childrenAfterGroup=g.childrenAfterGroup),this.rootNode.updateHasChildren()}this.nodeManager.isRowCountReady()&&(this.rowCountReady=!0,this.eventService.dispatchEventOnce({type:"rowCountReady"}))}doFilter(e){this.filterStage.execute({rowNode:this.rootNode,changedPath:e})}doPivot(e){this.pivotStage?.execute({rowNode:this.rootNode,changedPath:e})}getNodeManager(){return this.nodeManager}getRowNode(e){if(typeof e=="string"&&e.indexOf(T1.ID_PREFIX_ROW_GROUP)==0){let a;return this.forEachNode(u=>{u.id===e&&(a=u)}),a}return this.nodeManager.getRowNode(e)}setRowData(e){this.selectionService.reset("rowDataChanged"),this.nodeManager.setRowData(e),this.hasStarted&&this.dispatchUpdateEventsAndRefresh()}dispatchUpdateEventsAndRefresh(){this.eventService.dispatchEvent({type:"rowDataUpdated"}),this.refreshModel({step:"group",newData:!0})}batchUpdateRowData(e,t){if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];const a=this.gos.get("asyncTransactionWaitMillis");this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.isAlive()&&this.executeBatchUpdateRowData()},a)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){this.valueCache.onDataChanged();const e=[],t=[];let a=!1;this.rowDataTransactionBatch?.forEach(u=>{const{rowNodeTransaction:g,rowsInserted:_}=this.nodeManager.updateRowData(u.rowDataTransaction);_&&(a=!0),t.push(g),u.callback&&e.push(u.callback.bind(null,g))}),this.commonUpdateRowData(t,a),e.length>0&&window.setTimeout(()=>{e.forEach(u=>u())},0),t.length>0&&this.eventService.dispatchEvent({type:"asyncTransactionsFlushed",results:t}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(e){this.valueCache.onDataChanged();const{rowNodeTransaction:t,rowsInserted:a}=this.nodeManager.updateRowData(e);return this.commonUpdateRowData([t],a),t}afterImmutableDataChange(e,t){this.commonUpdateRowData([e],t)}commonUpdateRowData(e,t){if(!this.hasStarted)return;const a=!this.gos.get("suppressAnimationFrame");this.eventService.dispatchEvent({type:"rowDataUpdated"}),this.refreshModel({step:"group",rowNodeTransactions:e,rowNodesOrderChanged:t,keepRenderedRows:!0,keepEditingRows:!0,animate:a})}doRowsToDisplay(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}resetRowHeights(){const e=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),this.rootNode.sibling&&this.rootNode.sibling.setRowHeight(this.rootNode.sibling.rowHeight,!0),e&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{t.setRowHeight(t.rowHeight,!0);const a=t.detailNode;a&&a.setRowHeight(a.rowHeight,!0),t.sibling&&t.sibling.setRowHeight(t.sibling.rowHeight,!0),e=!0}),e}onGridStylesChanges(e){if(e.rowHeightChanged){if(this.columnModel.isAutoRowHeightActive())return;this.resetRowHeights()}}onGridReady(){this.hasStarted||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}destroy(){super.destroy(),this.clearHighlightedRow()}};function Y5(e){e.expansionService.onGroupExpandedOrCollapsed()}function K5(e,t){e.rowModelHelperService?.getClientSideRowModel()?.refreshModel(t)}function Z5(e){return e.rowModelHelperService?.getClientSideRowModel()?.isEmpty()??!0}function X5(e,t){e.rowModelHelperService?.getClientSideRowModel()?.forEachLeafNode(t)}function Q5(e,t){e.rowModelHelperService?.getClientSideRowModel()?.forEachNodeAfterFilter(t)}function J5(e,t){e.rowModelHelperService?.getClientSideRowModel()?.forEachNodeAfterFilterAndSort(t)}function e4(e){if(e.columnModel.isAutoRowHeightActive()){ie("calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");return}e.rowModelHelperService?.getClientSideRowModel()?.resetRowHeights()}function t4(e,t){return e.frameworkOverrides.wrapIncoming(()=>e.rowModelHelperService?.getClientSideRowModel()?.updateRowData(t))}function r4(e,t,a){e.frameworkOverrides.wrapIncoming(()=>e.rowModelHelperService?.getClientSideRowModel()?.batchUpdateRowData(t,a))}function n4(e){e.frameworkOverrides.wrapIncoming(()=>e.rowModelHelperService?.getClientSideRowModel()?.flushAsyncTransactions())}function i4(e){return e.selectionService.getBestCostNodeSelection()}var o4=class extends Nh{constructor(){super(...arguments),this.beanName="filterStage"}wireBeans(e){this.filterManager=e.filterManager}execute(e){const{changedPath:t}=e;this.filter(t)}filter(e){const t=!!this.filterManager?.isChildFilterPresent();this.filterNodes(t,e)}filterNodes(e,t){const a=(u,g)=>{u.hasChildren()&&e&&!g?u.childrenAfterFilter=u.childrenAfterGroup.filter(_=>{const K=_.childrenAfterFilter&&_.childrenAfterFilter.length>0,rt=_.data&&this.filterManager.doesRowPassFilter({rowNode:_});return K||rt}):u.childrenAfterFilter=u.childrenAfterGroup,u.sibling&&(u.sibling.childrenAfterFilter=u.childrenAfterFilter)};if(this.doingTreeDataFiltering()){const u=(_,K)=>{if(_.childrenAfterGroup)for(let rt=0;rt<_.childrenAfterGroup.length;rt++){const al=_.childrenAfterGroup[rt],Ql=K||this.filterManager.doesRowPassFilter({rowNode:al});al.childrenAfterGroup?u(_.childrenAfterGroup[rt],Ql):a(al,Ql)}a(_,K)},g=_=>u(_,!1);t.executeFromRootNode(g)}else{const u=g=>a(g,!1);t.forEachChangedNodeDepthFirst(u,!0)}}doingTreeDataFiltering(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering")}},a4=class extends Nh{constructor(){super(...arguments),this.beanName="flattenStage"}wireBeans(e){this.beans=e,this.columnModel=e.columnModel}execute(e){const t=e.rowNode,a=[],u=this.columnModel.isPivotMode(),g=u&&t.leafGroup,_=g?[t]:t.childrenAfterSort,K=this.getFlattenDetails();this.recursivelyAddToRowsToDisplay(K,_,a,u,0);const rt=a.length>0;if(!g&&rt&&K.grandTotalRow){t.createFooter();const Ql=K.grandTotalRow==="top";this.addRowNodeToRowsToDisplay(K,t.sibling,a,0,Ql)}return a}getFlattenDetails(){const e=this.gos.get("groupRemoveSingleChildren");return{groupRemoveLowestSingleChildren:!e&&this.gos.get("groupRemoveLowestSingleChildren"),groupRemoveSingleChildren:e,isGroupMultiAutoColumn:Gg(this.gos),hideOpenParents:this.gos.get("groupHideOpenParents"),grandTotalRow:X0(this.gos),groupTotalRow:$g(this.gos)}}recursivelyAddToRowsToDisplay(e,t,a,u,g){if(!Od(t))for(let _=0;_<t.length;_++){const K=t[_],rt=K.hasChildren(),al=u&&!rt,Ql=e.groupRemoveSingleChildren&&rt&&K.childrenAfterGroup.length===1,Gu=e.groupRemoveLowestSingleChildren&&rt&&K.leafGroup&&K.childrenAfterGroup.length===1,Wu=u&&K.leafGroup,id=e.hideOpenParents&&K.expanded&&!K.master&&!Wu;if(!al&&!id&&!Ql&&!Gu&&this.addRowNodeToRowsToDisplay(e,K,a,g),!(u&&K.leafGroup)){if(rt){const Qh=Ql||Gu;if(K.expanded||Qh){const uf=e.groupTotalRow({node:K});uf||K.destroyFooter();const tf=Qh?g:g+1;uf==="top"&&(K.createFooter(),this.addRowNodeToRowsToDisplay(e,K.sibling,a,tf)),this.recursivelyAddToRowsToDisplay(e,K.childrenAfterSort,a,u,tf),uf==="bottom"&&(K.createFooter(),this.addRowNodeToRowsToDisplay(e,K.sibling,a,tf))}}else if(K.master&&K.expanded){const Qh=this.createDetailNode(K);this.addRowNodeToRowsToDisplay(e,Qh,a,g)}}}}addRowNodeToRowsToDisplay(e,t,a,u,g){g?a.unshift(t):a.push(t),t.setUiLevel(e.isGroupMultiAutoColumn?0:u)}createDetailNode(e){if(Vu(e.detailNode))return e.detailNode;const t=new T1(this.beans);return t.detail=!0,t.selectable=!1,t.parent=e,Vu(e.id)&&(t.id="detail_"+e.id),t.data=e.data,t.level=e.level+1,e.detailNode=t,t}},s4=class extends Nh{constructor(){super(...arguments),this.beanName="immutableService"}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}postConstruct(){Dd(this.gos)&&(this.clientSideRowModel=this.rowModel,this.addManagedPropertyListener("rowData",()=>this.onRowDataUpdated()))}isActive(){const e=this.gos.exists("getRowId");return this.gos.get("resetRowDataOnUpdate")?!1:e}setRowData(e){const t=this.createTransactionForRowData(e);if(!t)return;const a=this.clientSideRowModel.getNodeManager(),{rowNodeTransaction:u,rowsInserted:g}=a.updateRowData(t);let _=!1;this.gos.get("suppressMaintainUnsortedOrder")||(_=a.updateRowOrderFromRowData(e)),this.clientSideRowModel.afterImmutableDataChange(u,_||g)}createTransactionForRowData(e){if(!Dd(this.gos))return Et("ImmutableService only works with ClientSideRowModel"),null;const t=hd(this.gos);if(t==null)return Et("ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!"),null;const a=this.clientSideRowModel.getNodeManager().getCopyOfNodesMap(),u=[],g=[],_=[];return Vu(e)&&e.forEach(K=>{const rt=t({data:K,level:0}),al=a[rt];al?(al.data!==K&&g.push(K),a[rt]=void 0):_.push(K)}),Me(a,(K,rt)=>{rt&&u.push(rt.data)}),{remove:u,update:g,add:_}}onRowDataUpdated(){const e=this.gos.get("rowData");e&&(this.isActive()?this.setRowData(e):(this.selectionService.reset("rowDataChanged"),this.clientSideRowModel.setRowData(e)))}},l4=class extends Nh{constructor(){super(...arguments),this.beanName="sortService"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.rowNodeSorter=e.rowNodeSorter,this.showRowGroupColsService=e.showRowGroupColsService}sort(e,t,a,u,g,_){const K=this.gos.get("groupMaintainOrder"),rt=this.columnModel.getCols().some(id=>id.isRowGroupActive());let al={};a&&u&&(al=this.calculateDirtyNodes(u));const Ql=this.columnModel.isPivotMode(),Gu=this.gos.getCallback("postSortRows"),Wu=id=>{this.pullDownGroupDataForHideOpenParents(id.childrenAfterAggFilter,!0);const uh=Ql&&id.leafGroup;if(K&&rt&&!id.leafGroup&&!_){const tf=this.funcColsService.getRowGroupColumns()?.[id.level+1]?.getSort()===null,Hf=id.childrenAfterAggFilter.slice(0);if(id.childrenAfterSort&&!tf){const Vf={};id.childrenAfterSort.forEach((Bf,Kp)=>{Vf[Bf.id]=Kp}),Hf.sort((Bf,Kp)=>(Vf[Bf.id]??0)-(Vf[Kp.id]??0))}id.childrenAfterSort=Hf}else!t||uh?id.childrenAfterSort=id.childrenAfterAggFilter.slice(0):a?id.childrenAfterSort=this.doDeltaSort(id,al,g,e):id.childrenAfterSort=this.rowNodeSorter.doFullSort(id.childrenAfterAggFilter,e);if(id.sibling&&(id.sibling.childrenAfterSort=id.childrenAfterSort),this.updateChildIndexes(id),Gu){const uf={nodes:id.childrenAfterSort};Gu(uf)}};g&&g.forEachChangedNodeDepthFirst(Wu),this.updateGroupDataForHideOpenParents(g)}calculateDirtyNodes(e){const t={},a=u=>{u&&u.forEach(g=>t[g.id]=!0)};return e&&e.forEach(u=>{a(u.add),a(u.update),a(u.remove)}),t}doDeltaSort(e,t,a,u){const g=e.childrenAfterAggFilter,_=e.childrenAfterSort;if(!_)return this.rowNodeSorter.doFullSort(g,u);const K={},rt=[];g.forEach(Wu=>{t[Wu.id]||!a.canSkip(Wu)?rt.push(Wu):K[Wu.id]=!0});const al=_.filter(Wu=>K[Wu.id]),Ql=(Wu,id)=>({currentPos:id,rowNode:Wu}),Gu=rt.map(Ql).sort((Wu,id)=>this.rowNodeSorter.compareRowNodes(u,Wu,id));return this.mergeSortedArrays(u,Gu,al.map(Ql)).map(({rowNode:Wu})=>Wu)}mergeSortedArrays(e,t,a){const u=[];let g=0,_=0;for(;g<t.length&&_<a.length;)this.rowNodeSorter.compareRowNodes(e,t[g],a[_])<0?u.push(t[g++]):u.push(a[_++]);for(;g<t.length;)u.push(t[g++]);for(;_<a.length;)u.push(a[_++]);return u}updateChildIndexes(e){if(Zu(e.childrenAfterSort))return;const t=e.childrenAfterSort;for(let a=0;a<t.length;a++){const u=t[a],g=a===0,_=a===e.childrenAfterSort.length-1;u.setFirstChild(g),u.setLastChild(_),u.setChildIndex(a)}}updateGroupDataForHideOpenParents(e){if(!this.gos.get("groupHideOpenParents"))return;if(this.gos.get("treeData"))return ie("The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them."),!1;const t=a=>{this.pullDownGroupDataForHideOpenParents(a.childrenAfterSort,!1),a.childrenAfterSort.forEach(u=>{u.hasChildren()&&t(u)})};e&&e.executeFromRootNode(a=>t(a))}pullDownGroupDataForHideOpenParents(e,t){!this.gos.get("groupHideOpenParents")||Zu(e)||e.forEach(a=>{(this.showRowGroupColsService?.getShowRowGroupCols()??[]).forEach(g=>{const _=g.getColDef().showRowGroup;if(typeof _!="string"){Et("groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup");return}const K=_,rt=this.columnModel.getColDefCol(K);if(rt!==a.rowGroupColumn)if(t)a.setGroupValue(g.getId(),void 0);else{const Ql=this.getFirstChildOfFirstChild(a,rt);Ql&&a.setGroupValue(g.getId(),Ql.key)}})})}getFirstChildOfFirstChild(e,t){let a=e;for(;a;){const u=a.parent;if(u&&a.firstChild){if(u.rowGroupColumn===t)return u}else return null;a=u}return null}},u4=class extends Nh{constructor(){super(...arguments),this.beanName="sortStage"}wireBeans(e){this.sortService=e.sortService,this.sortController=e.sortController}execute(e){const t=this.sortController.getSortOptions(),a=Vu(t)&&t.length>0,u=a&&Vu(e.rowNodeTransactions)&&this.gos.get("deltaSort"),g=t.some(_=>Z0(this.gos)?_.column.isPrimary()&&_.column.isRowGroupActive():!!_.column.getColDef().showRowGroup);this.sortService.sort(t,a,u,e.rowNodeTransactions,e.changedPath,g)}},Zb="32.3.9",Lw={version:Zb,moduleName:"@ag-grid-community/client-side-row-model-core",rowModel:"clientSide",beans:[q5,o4,u4,a4,l4,s4]},c4={version:Zb,moduleName:"@ag-grid-community/client-side-row-model-api",beans:[Yb],apiFunctions:{onGroupExpandedOrCollapsed:Y5,refreshClientSideRowModel:K5,isRowDataEmpty:Z5,forEachLeafNode:X5,forEachNodeAfterFilter:Q5,forEachNodeAfterFilterAndSort:J5,resetRowHeights:e4,applyTransaction:t4,applyTransactionAsync:r4,flushAsyncTransactions:n4,getBestCostNodeSelection:i4},dependantModules:[Lw,Fw]},Iw={version:Zb,moduleName:"@ag-grid-community/client-side-row-model",dependantModules:[Lw,c4]},Ow=class extends Nh{setBeans(e){this.beans=e}getFileName(e){const t=this.getDefaultFileExtension();return(e==null||!e.length)&&(e=this.getDefaultFileName()),e.indexOf(".")===-1?`${e}.${t}`:e}getData(e){const t=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(t,e)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},zw=class{constructor(e){this.groupColumns=[];const{columnModel:t,funcColsService:a,columnNameService:u,valueService:g,gos:_,processCellCallback:K,processHeaderCallback:rt,processGroupHeaderCallback:al,processRowGroupCallback:Ql}=e;this.columnModel=t,this.funcColsService=a,this.columnNameService=u,this.valueService=g,this.gos=_,this.processCellCallback=K,this.processHeaderCallback=rt,this.processGroupHeaderCallback=al,this.processRowGroupCallback=Ql}prepare(e){this.groupColumns=e.filter(t=>!!t.getColDef().showRowGroup)}extractHeaderValue(e){return this.getHeaderName(this.processHeaderCallback,e)??""}extractRowCellValue(e,t,a,u,g){const K=(!this.gos.get("groupHideOpenParents")||g.footer)&&this.shouldRenderGroupSummaryCell(g,e,t)?this.createValueForGroupNode(e,g):this.valueService.getValue(e,g);return this.processCell({accumulatedRowIndex:a,rowNode:g,column:e,value:K,processCellCallback:this.processCellCallback,type:u})}shouldRenderGroupSummaryCell(e,t,a){if(!(e&&e.group))return!1;if(this.groupColumns.indexOf(t)!==-1){const K=e.groupData?.[t.getId()],rt=this.gos.get("suppressGroupMaintainValueType");if(rt&&K!=null||!rt&&K!==void 0||mh(this.gos)&&e.group)return!0;if(e.footer&&e.level===-1){const al=t.getColDef();return al==null||al.showRowGroup===!0||al.showRowGroup===this.funcColsService.getRowGroupColumns()[0].getId()}}const _=_f(this.gos,this.columnModel.isPivotMode());return a===0&&_}getHeaderName(e,t){return e?e(this.gos.addGridCommonParams({column:t})):this.columnNameService.getDisplayNameForColumn(t,"csv",!0)}createValueForGroupNode(e,t){if(this.processRowGroupCallback)return this.processRowGroupCallback(this.gos.addGridCommonParams({column:e,node:t}));const a=this.gos.get("treeData"),u=this.gos.get("suppressGroupMaintainValueType"),g=al=>{if(a||u)return al.key;const Ql=al.groupData?.[e.getId()];return!Ql||!al.rowGroupColumn||al.rowGroupColumn.getColDef().useValueFormatterForExport===!1?Ql:this.valueService.formatValue(al.rowGroupColumn,al,Ql)??Ql},_=t.footer,K=[g(t)];if(!Gg(this.gos))for(;t.parent;)t=t.parent,K.push(g(t));const rt=K.reverse().join(" -> ");return _?`Total ${rt}`:rt}processCell(e){const{accumulatedRowIndex:t,rowNode:a,column:u,value:g,processCellCallback:_,type:K}=e;return _?{value:_(this.gos.addGridCommonParams({accumulatedRowIndex:t,column:u,node:a,value:g,type:K,parseValue:rt=>this.valueService.parseValue(u,a,rt,this.valueService.getValue(u,a)),formatValue:rt=>this.valueService.formatValue(u,a,rt)??rt}))??""}:u.getColDef().useValueFormatterForExport!==!1?{value:g??"",valueFormatted:this.valueService.formatValue(u,a,g)}:{value:g??""}}},Nw=class{static download(e,t){const a=document.defaultView||window;if(!a){ie("There is no `window` associated with the current `document`");return}const u=document.createElement("a"),g=a.URL.createObjectURL(t);u.setAttribute("href",g),u.setAttribute("download",e),u.style.display="none",document.body.appendChild(u),u.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:a})),document.body.removeChild(u),a.setTimeout(()=>{a.URL.revokeObjectURL(g)},0)}},Bw=`\r
`,d4=class extends zw{constructor(e){super(e),this.isFirstLine=!0,this.result="";const{suppressQuotes:t,columnSeparator:a}=e;this.suppressQuotes=t,this.columnSeparator=a}addCustomContent(e){e&&(typeof e=="string"?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,Bw),this.result+=e):e.forEach(t=>{this.beginNewLine(),t.forEach((a,u)=>{u!==0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(a.data.value||""),a.mergeAcross&&this.appendEmptyCells(a.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,t,a,u){a!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(u)}appendEmptyCells(e){for(let t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,t){t!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,t,a){t!=0&&(this.result+=this.columnSeparator);const u=this.extractRowCellValue(e,t,t,"csv",a);this.result+=this.putInQuotes(u.valueFormatted??u.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(e==null)return'""';let t;return typeof e=="string"?t=e:typeof e.toString=="function"?t=e.toString():(ie("unknown value type during csv conversion"),t=""),'"'+t.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+=Bw),this.isFirstLine=!1}},Hw=class extends Ow{constructor(){super(...arguments),this.beanName="csvCreator"}wireBeans(e){this.columnModel=e.columnModel,this.columnNameService=e.columnNameService,this.funcColsService=e.funcColsService,this.valueService=e.valueService,this.gridSerializer=e.gridSerializer}postConstruct(){this.setBeans({gridSerializer:this.gridSerializer,gos:this.gos})}getMergedParams(e){const t=this.gos.get("defaultCsvExportParams");return Object.assign({},t,e)}export(e){if(this.isExportSuppressed()){ie("Export cancelled. Export is not allowed as per your configuration.");return}const t=this.getMergedParams(e),a=this.getData(t),u=new Blob(["\uFEFF",a],{type:"text/plain"}),g=typeof t.fileName=="function"?t.fileName(this.gos.getGridCommonParams()):t.fileName;Nw.download(this.getFileName(g),u)}exportDataAsCsv(e){this.export(e)}getDataAsCsv(e,t=!1){const a=t?Object.assign({},e):this.getMergedParams(e);return this.getData(a)}getDefaultFileExtension(){return"csv"}createSerializingSession(e){const{columnModel:t,columnNameService:a,funcColsService:u,valueService:g,gos:_}=this,{processCellCallback:K,processHeaderCallback:rt,processGroupHeaderCallback:al,processRowGroupCallback:Ql,suppressQuotes:Gu,columnSeparator:Wu}=e;return new d4({columnModel:t,columnNameService:a,funcColsService:u,valueService:g,gos:_,processCellCallback:K||void 0,processHeaderCallback:rt||void 0,processGroupHeaderCallback:al||void 0,processRowGroupCallback:Ql||void 0,suppressQuotes:Gu||!1,columnSeparator:Wu||","})}isExportSuppressed(){return this.gos.get("suppressCsvExport")}};function h4(e,t){return e.csvCreator?.getDataAsCsv(t)}function f4(e,t){e.csvCreator?.exportDataAsCsv(t)}var Gw=(e=>(e[e.HEADER_GROUPING=0]="HEADER_GROUPING",e[e.HEADER=1]="HEADER",e[e.BODY=2]="BODY",e))(Gw||{}),Vw=class extends Nh{constructor(){super(...arguments),this.beanName="gridSerializer"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.columnModel=e.columnModel,this.columnNameService=e.columnNameService,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.selectionService=e.selectionService,this.rowNodeSorter=e.rowNodeSorter,this.sortController=e.sortController}serialize(e,t={}){const{allColumns:a,columnKeys:u,skipRowGroups:g}=t,_=this.getColumnsToExport(a,g,u);return Nl(this.prepareSession(_),this.prependContent(t),this.exportColumnGroups(t,_),this.exportHeaders(t,_),this.processPinnedTopRows(t,_),this.processRows(t,_),this.processPinnedBottomRows(t,_),this.appendContent(t))(e).parse()}processRow(e,t,a,u){const g=t.shouldRowBeSkipped||(()=>!1),_=this.gos.get("groupRemoveSingleChildren"),K=this.gos.get("groupRemoveLowestSingleChildren"),al=t.rowPositions!=null||!!t.onlySelected,Ql=this.gos.get("groupHideOpenParents")&&!al,Gu=this.columnModel.isPivotMode()?u.leafGroup:!u.group,Wu=!!u.footer,id=K&&u.leafGroup,uh=u.allChildrenCount===1&&u.childrenAfterGroup?.length===1&&(_||id);if(!Gu&&!Wu&&(t.skipRowGroups||uh||Ql)||t.onlySelected&&!u.isSelected()||t.skipPinnedTop&&u.rowPinned==="top"||t.skipPinnedBottom&&u.rowPinned==="bottom"||u.level===-1&&!Gu&&!Wu||g(this.gos.addGridCommonParams({node:u})))return;const tf=e.onNewBodyRow(u);if(a.forEach((Hf,Vf)=>{tf.onColumn(Hf,Vf,u)}),t.getCustomContentBelowRow){const Hf=t.getCustomContentBelowRow(this.gos.addGridCommonParams({node:u}));Hf&&e.addCustomContent(Hf)}}appendContent(e){return t=>{const a=e.appendContent;return a&&t.addCustomContent(a),t}}prependContent(e){return t=>{const a=e.prependContent;return a&&t.addCustomContent(a),t}}prepareSession(e){return t=>(t.prepare(e),t)}exportColumnGroups(e,t){return a=>{if(!e.skipColumnGroupHeaders){const u=new Af,g=this.visibleColsService.createGroups({columns:t,idCreator:u,pinned:null,isStandaloneStructure:!0});this.recursivelyAddHeaderGroups(g,a,e.processGroupHeaderCallback)}return a}}exportHeaders(e,t){return a=>{if(!e.skipColumnHeaders){const u=a.onNewHeaderRow();t.forEach((g,_)=>{u.onColumn(g,_,void 0)})}return a}}processPinnedTopRows(e,t){return a=>{const u=this.processRow.bind(this,a,e,t);return e.rowPositions?e.rowPositions.filter(g=>g.rowPinned==="top").sort((g,_)=>g.rowIndex-_.rowIndex).map(g=>this.pinnedRowModel.getPinnedTopRow(g.rowIndex)).forEach(u):this.pinnedRowModel.forEachPinnedRow("top",u),a}}processRows(e,t){return a=>{const u=this.rowModel,g=Dd(this.gos),_=mh(this.gos),K=!g&&e.onlySelected,rt=this.processRow.bind(this,a,e,t),{exportedRows:al="filteredAndSorted"}=e;if(e.rowPositions)e.rowPositions.filter(Ql=>Ql.rowPinned==null).sort((Ql,Gu)=>Ql.rowIndex-Gu.rowIndex).map(Ql=>u.getRow(Ql.rowIndex)).forEach(rt);else if(this.columnModel.isPivotMode())g?u.forEachPivotNode(rt,!0):_?u.forEachNodeAfterFilterAndSort(rt,!0):u.forEachNode(rt);else if(e.onlySelectedAllPages||K){const Ql=this.selectionService.getSelectedNodes();this.replicateSortedOrder(Ql),Ql.forEach(rt)}else al==="all"?u.forEachNode(rt):g||_?u.forEachNodeAfterFilterAndSort(rt,!0):u.forEachNode(rt);return a}}replicateSortedOrder(e){const t=this.sortController.getSortOptions(),a=(u,g)=>u.rowIndex!=null&&g.rowIndex!=null?u.rowIndex-g.rowIndex:u.level===g.level?u.parent?.id===g.parent?.id?this.rowNodeSorter.compareRowNodes(t,{rowNode:u,currentPos:u.rowIndex??-1},{rowNode:g,currentPos:g.rowIndex??-1}):a(u.parent,g.parent):u.level>g.level?a(u.parent,g):a(u,g.parent);e.sort(a)}processPinnedBottomRows(e,t){return a=>{const u=this.processRow.bind(this,a,e,t);return e.rowPositions?e.rowPositions.filter(g=>g.rowPinned==="bottom").sort((g,_)=>g.rowIndex-_.rowIndex).map(g=>this.pinnedRowModel.getPinnedBottomRow(g.rowIndex)).forEach(u):this.pinnedRowModel.forEachPinnedRow("bottom",u),a}}getColumnsToExport(e=!1,t=!1,a){const u=this.columnModel.isPivotMode();if(a&&a.length)return this.columnModel.getColsForKeys(a);const g=this.gos.get("treeData");let _=[];return e&&!u?_=this.columnModel.getCols():_=this.visibleColsService.getAllCols(),t&&!g&&(_=_.filter(K=>!Yp(K)&&!Ng(K))),_}recursivelyAddHeaderGroups(e,t,a){const u=[];e.forEach(g=>{const _=g;_.getChildren&&_.getChildren().forEach(K=>u.push(K))}),e.length>0&&af(e[0])&&this.doAddHeaderHeader(t,e,a),u&&u.length>0&&this.recursivelyAddHeaderGroups(u,t,a)}doAddHeaderHeader(e,t,a){const u=e.onNewHeaderGroupingRow();let g=0;t.forEach(_=>{const K=_;let rt;a?rt=a(this.gos.addGridCommonParams({columnGroup:K})):rt=this.columnNameService.getDisplayNameForColumnGroup(K,"header");const al=K.getLeafColumns().reduce((Ql,Gu,Wu,id)=>{let uh=Pp(Ql);return Gu.getColumnGroupShow()==="open"?(!uh||uh[1]!=null)&&(uh=[Wu],Ql.push(uh)):uh&&uh[1]==null&&(uh[1]=Wu-1),Wu===id.length-1&&uh&&uh[1]==null&&(uh[1]=Wu),Ql},[]);u.onColumn(K,rt||"",g++,K.getLeafColumns().length-1,al)})}},Xb="32.3.9",Qb={version:Xb,moduleName:"@ag-grid-community/csv-export-core",beans:[Hw,Vw]},p4={version:Xb,moduleName:"@ag-grid-community/csv-export-api",apiFunctions:{getDataAsCsv:h4,exportDataAsCsv:f4},dependantModules:[Qb]},jw={version:Xb,moduleName:"@ag-grid-community/csv-export",dependantModules:[Qb,p4]},tb=`\r
`;function Uw(e,t,a){if(!t&&t!==""&&t!==0)return"";let u=t;return typeof t=="boolean"&&a&&(u=a(t)),` ${e}="${u}"`}var g4=class{static createHeader(e={}){const u=["version"];return e.version||(e.version="1.0"),e.encoding&&u.push("encoding"),e.standalone&&u.push("standalone"),`<?xml ${u.map(_=>`${_}="${e[_]}"`).join(" ")} ?>`}static createXml(e,t){let a="";e.properties&&(e.properties.prefixedAttributes&&e.properties.prefixedAttributes.forEach(g=>{Object.keys(g.map).forEach(_=>{a+=Uw(g.prefix+_,g.map[_],t)})}),e.properties.rawMap&&Object.keys(e.properties.rawMap).forEach(g=>{a+=Uw(g,e.properties.rawMap[g],t)}));let u="<"+e.name+a;return!e.children&&e.textNode==null?u+"/>"+tb:e.textNode!=null?u+">"+e.textNode+"</"+e.name+">"+tb:(u+=">"+tb,e.children&&e.children.forEach(g=>{u+=this.createXml(g,t)}),u+"</"+e.name+">"+tb)}},m4=async e=>{let t=0;const a=[],u=new WritableStream({write:K=>{a.push(K),t+=K.length}}),g=new ReadableStream({start:K=>{const rt=new FileReader;rt.onload=al=>{al.target?.result&&K.enqueue(al.target.result),K.close()},rt.readAsArrayBuffer(e)}}),_=new window.CompressionStream("deflate-raw");return await g.pipeThrough(_).pipeTo(u),{size:t,content:new Blob(a)}},v4=async e=>{const t=new Blob([e]),{size:a,content:u}=await m4(t),g=new Uint8Array(await u.arrayBuffer());return{size:a,content:g}},y4=e=>{let t=e.getHours();return t<<=6,t=t|e.getMinutes(),t<<=5,t=t|e.getSeconds()/2,t},x4=e=>{let t=e.getFullYear()-1980;return t<<=4,t=t|e.getMonth()+1,t<<=5,t=t|e.getDate(),t};function S1(e,t){let a="";for(let u=0;u<t;u++)a+=String.fromCharCode(e&255),e>>>=8;return a}var Ww=e=>{if(!e.length)return 0;let t=-1,a=0,u=0,g=0;for(let _=0;_<e.length;_++)a=e[_],u=(t^a)&255,g=b4[u],t=t>>>8^g;return t^-1},$w=e=>e.length?Ww(typeof e=="string"?new TextEncoder().encode(e):e):0,b4=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),qw=(e,t,a,u,g,_)=>{const{content:K,path:rt,created:al}=e,Ql=y4(al),Gu=x4(al),Wu=$w(g),id=_!==void 0?_:u,uh=Uh(rt),Qh=uh!==rt;let uf="";if(Qh){const Bf=S1(1,1)+S1($w(uh),4)+uh;uf="up"+S1(Bf.length,2)+Bf}const tf="\0"+(Qh?"\0\b":"\0\0")+S1(t?8:0,2)+S1(Ql,2)+S1(Gu,2)+S1(id?Wu:0,4)+S1(_??u,4)+S1(u,4)+S1(uh.length,2)+S1(uf.length,2),Hf="PK"+tf+uh+uf,Vf="PK\0"+tf+"\0\0\0\0\0\0"+(K?"\0\0\0\0":"\0\0\0")+S1(a,4)+uh+uf;return{localFileHeader:Uint8Array.from(Hf,Bf=>Bf.charCodeAt(0)),centralDirectoryHeader:Uint8Array.from(Vf,Bf=>Bf.charCodeAt(0))}},Yw=e=>{let t;if(typeof e=="string"){const a=atob(e.split(";base64,")[1]);t=Uint8Array.from(a,u=>u.charCodeAt(0))}else t=e;return{size:t.length,content:t}},w4=async(e,t)=>{const{content:a}=e,{size:u,content:g}=a?Yw(a):{size:0,content:Uint8Array.from([])};let _,K,rt=!1;if(e.type==="file"&&g&&u>0){const Gu=await v4(g);_=Gu.content,K=Gu.size,rt=!0}return{...qw(e,rt,t,u,g,K),content:_||g,isCompressed:rt}},C4=(e,t)=>{const{content:a}=e,{content:u}=a?Yw(a):{content:Uint8Array.from([])};return{...qw(e,!1,t,u.length,u,void 0),content:u,isCompressed:!1}},S4=(e,t,a)=>{const u="PK\0\0\0\0"+S1(e,2)+S1(e,2)+S1(t,4)+S1(a,4)+"\0\0";return Uint8Array.from(u,g=>g.charCodeAt(0))},Jb=class{static addFolders(e){e.forEach(this.addFolder.bind(this))}static addFolder(e){this.folders.push({path:e,created:new Date,isBase64:!1,type:"folder"})}static addFile(e,t,a=!1){this.files.push({path:e,created:new Date,content:a?t:new TextEncoder().encode(t),isBase64:a,type:"file"})}static async getZipFile(e="application/zip"){const t=await this.buildCompressedFileStream();return this.clearStream(),new Blob([t],{type:e})}static getUncompressedZipFile(e="application/zip"){const t=this.buildFileStream();return this.clearStream(),new Blob([t],{type:e})}static clearStream(){this.folders=[],this.files=[]}static packageFiles(e){let t=0,a=0;for(const Ql of e){const{localFileHeader:Gu,centralDirectoryHeader:Wu,content:id}=Ql;t+=Gu.length+id.length,a+=Wu.length}const u=new Uint8Array(t),g=new Uint8Array(a);let _=0,K=0;for(const Ql of e){const{localFileHeader:Gu,centralDirectoryHeader:Wu,content:id}=Ql;u.set(Gu,_),_+=Gu.length,u.set(id,_),_+=id.length,g.set(Wu,K),K+=Wu.length}const rt=S4(e.length,a,t),al=new Uint8Array(u.length+g.length+rt.length);return al.set(u),al.set(g,u.length),al.set(rt,u.length+g.length),al}static async buildCompressedFileStream(){const e=[...this.folders,...this.files],t=[];let a=0;for(const u of e){const g=await w4(u,a),{localFileHeader:_,content:K}=g;t.push(g),a+=_.length+K.length}return this.packageFiles(t)}static buildFileStream(){const e=[...this.folders,...this.files],t=[];let a=0;for(const u of e){const g=C4(u,a),{localFileHeader:_,content:K}=g;t.push(g),a+=_.length+K.length}return this.packageFiles(t)}};Jb.folders=[],Jb.files=[];var k4=class extends V3{wireBeans(e){this.beans=e}constructor(e,t,a){super(e),this.parentCache=t,this.params=a,this.startRow=e*a.blockSize,this.endRow=this.startRow+a.blockSize}postConstruct(){this.createRowNodes()}getBlockStateJson(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}}setDataAndId(e,t,a){Vu(t)?e.setDataAndId(t,a.toString()):e.setDataAndId(void 0,void 0)}loadFromDatasource(){const e=this.createLoadParams();if(Zu(this.params.datasource.getRows)){ie("datasource is missing getRows method");return}window.setTimeout(()=>{this.params.datasource.getRows(e)},0)}processServerFail(){}createLoadParams(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gos.getGridCommonParams().context}}forEachNode(e,t,a){this.rowNodes.forEach((u,g)=>{this.startRow+g<a&&e(u,t.next())})}getLastAccessed(){return this.lastAccessed}getRow(e,t=!1){t||(this.lastAccessed=this.params.lastAccessedSequence.next());const a=e-this.startRow;return this.rowNodes[a]}getStartRow(){return this.startRow}getEndRow(){return this.endRow}createRowNodes(){this.rowNodes=[];for(let e=0;e<this.params.blockSize;e++){const t=this.startRow+e,a=new T1(this.beans);a.setRowHeight(this.params.rowHeight),a.uiLevel=0,a.setRowIndex(t),a.setRowTop(this.params.rowHeight*t),this.rowNodes.push(a)}}processServerResult(e){this.rowNodes.forEach((a,u)=>{const g=e.rowData?e.rowData[u]:void 0;!a.id&&a.alreadyRendered&&g&&(this.rowNodes[u]=new T1(this.beans),this.rowNodes[u].setRowIndex(a.rowIndex),this.rowNodes[u].setRowTop(a.rowTop),this.rowNodes[u].setRowHeight(a.rowHeight),a.clearRowTopAndRowIndex()),this.setDataAndId(this.rowNodes[u],g,this.startRow+u)});const t=e.rowCount!=null&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,t)}destroy(){this.rowNodes.forEach(e=>{e.clearRowTopAndRowIndex()}),super.destroy()}},_4=2,E4=class extends Nh{constructor(e){super(),this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=e.initialRowCount,this.params=e}wireBeans(e){this.rowRenderer=e.rowRenderer,this.focusService=e.focusService}getRow(e,t=!1){const a=Math.floor(e/this.params.blockSize);let u=this.blocks[a];if(!u){if(t)return;u=this.createBlock(a)}return u.getRow(e)}createBlock(e){const t=this.createBean(new k4(e,this,this.params));return this.blocks[t.getId()]=t,this.blockCount++,this.purgeBlocksIfNeeded(t),this.params.rowNodeBlockLoader.addBlock(t),t}refreshCache(){if(this.blockCount==0){this.purgeCache();return}this.getBlocksInOrder().forEach(t=>t.setStateWaitingToLoad()),this.params.rowNodeBlockLoader.checkBlockToLoad()}destroy(){this.getBlocksInOrder().forEach(e=>this.destroyBlock(e)),super.destroy()}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(e,t){this.isAlive()&&(this.gos.get("debug")&&ce(`InfiniteCache - onPageLoaded: page = ${e.getId()}, lastRow = ${t}`),this.checkRowCount(e,t),this.onCacheUpdated())}purgeBlocksIfNeeded(e){const t=this.getBlocksInOrder().filter(K=>K!=e),a=(K,rt)=>rt.getLastAccessed()-K.getLastAccessed();t.sort(a);const u=this.params.maxBlocksInCache>0,g=u?this.params.maxBlocksInCache-1:null,_=_4-1;t.forEach((K,rt)=>{const al=K.getState()==="needsLoading"&&rt>=_,Ql=u?rt>=g:!1;if(al||Ql){if(this.isBlockCurrentlyDisplayed(K)||this.isBlockFocused(K))return;this.removeBlockFromCache(K)}})}isBlockFocused(e){const t=this.focusService.getFocusCellToUseAfterRefresh();if(!t||t.rowPinned!=null)return!1;const a=e.getStartRow(),u=e.getEndRow();return t.rowIndex>=a&&t.rowIndex<u}isBlockCurrentlyDisplayed(e){const t=e.getStartRow(),a=e.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(t,a)}removeBlockFromCache(e){e&&this.destroyBlock(e)}checkRowCount(e,t){if(typeof t=="number"&&t>=0)this.rowCount=t,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){const u=(e.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<u&&(this.rowCount=u)}}setRowCount(e,t){this.rowCount=e,Vu(t)&&(this.lastRowIndexKnown=t),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(e){const t=new cv;this.getBlocksInOrder().forEach(a=>a.forEachNode(e,t,this.rowCount))}getBlocksInOrder(){const e=(a,u)=>a.getId()-u.getId();return ll(this.blocks).sort(e)}destroyBlock(e){delete this.blocks[e.getId()],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventService.dispatchEvent({type:"storeUpdated"}))}destroyAllBlocksPastVirtualRowCount(){const e=[];this.getBlocksInOrder().forEach(t=>{t.getId()*this.params.blockSize>=this.rowCount&&e.push(t)}),e.length>0&&e.forEach(t=>this.destroyBlock(t))}purgeCache(){this.getBlocksInOrder().forEach(e=>this.removeBlockFromCache(e)),this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(e,t){const a=[];let u=-1,g=!1;const _=new cv;let K=!1;return this.getBlocksInOrder().forEach(al=>{if(!K){if(g&&u+1!==al.getId()){K=!0;return}u=al.getId(),al.forEachNode(Ql=>{const Gu=Ql===e||Ql===t;(g||Gu)&&a.push(Ql),Gu&&(g=!g)},_,this.rowCount)}}),K||g?[]:a}},M4=class extends Nh{constructor(){super(...arguments),this.beanName="rowModel"}wireBeans(e){this.filterManager=e.filterManager,this.sortController=e.sortController,this.selectionService=e.selectionService,this.rowRenderer=e.rowRenderer,this.rowNodeBlockLoader=e.rowNodeBlockLoader}getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}ensureRowHeightsValid(){return!1}postConstruct(){this.gos.get("rowModelType")==="infinite"&&(this.rowHeight=Ef(this.gos),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache()),this.verifyProps())}verifyProps(){this.gos.exists("initialGroupOrderComparator")&&ie("initialGroupOrderComparator cannot be used with Infinite Row Model as sorting is done on the server side")}start(){this.setDatasource(this.gos.get("datasource"))}destroy(){this.destroyDatasource(),super.destroy()}destroyDatasource(){this.datasource&&(this.destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedEventListeners({filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.onCacheUpdated.bind(this)}),this.addManagedPropertyListener("datasource",()=>this.setDatasource(this.gos.get("datasource"))),this.addManagedPropertyListener("cacheBlockSize",()=>this.resetCache()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=Ef(this.gos),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()})}onFilterChanged(){this.reset()}onSortChanged(){this.reset()}onColumnEverything(){let e;this.cacheParams?e=this.isSortModelDifferent():e=!0,e&&this.reset()}isSortModelDifferent(){return!jd(this.cacheParams.sortModel,this.sortController.getSortModel())}getType(){return"infinite"}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(e,t){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(e,t):[]}reset(){if(!this.datasource)return;hd(this.gos)!=null||this.selectionService.reset("rowDataChanged"),this.resetCache()}dispatchModelUpdatedEvent(){this.eventService.dispatchEvent({type:"modelUpdated",newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1})}resetCache(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager?.getFilterModel()??{},sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.gos.get("infiniteInitialRowCount"),maxBlocksInCache:this.gos.get("maxBlocksInCache"),rowHeight:Ef(this.gos),overflowSize:this.gos.get("cacheOverflowSize"),blockSize:this.gos.get("cacheBlockSize"),lastAccessedSequence:new cv},this.infiniteCache=this.createBean(new E4(this.cacheParams)),this.eventService.dispatchEventOnce({type:"rowCountReady"}),this.dispatchModelUpdatedEvent()}updateRowHeights(){this.forEachNode(e=>{e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*e.rowIndex)}),this.dispatchModelUpdatedEvent()}destroyCache(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))}onCacheUpdated(){this.dispatchModelUpdatedEvent()}getRow(e){if(this.infiniteCache&&!(e>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(e)}getRowNode(e){let t;return this.forEachNode(a=>{a.id===e&&(t=a)}),t}forEachNode(e){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(e)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}getRowIndexAtPixel(e){if(this.rowHeight!==0){const t=Math.floor(e/this.rowHeight),a=this.getRowCount()-1;return t>a?a:t}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(e){return!!this.getRowNode(e.id)}refreshCache(){this.infiniteCache&&this.infiniteCache.refreshCache()}purgeCache(){this.infiniteCache&&this.infiniteCache.purgeCache()}isLastRowIndexKnown(){return this.infiniteCache?this.infiniteCache.isLastRowIndexKnown():!1}setRowCount(e,t){this.infiniteCache&&this.infiniteCache.setRowCount(e,t)}};function A4(e){e.rowModelHelperService?.getInfiniteRowModel()?.refreshCache()}function T4(e){e.rowModelHelperService?.getInfiniteRowModel()?.purgeCache()}function R4(e){return e.rowModelHelperService?.getInfiniteRowModel()?.getRowCount()}var ew="32.3.9",Kw={version:ew,moduleName:"@ag-grid-community/infinite-row-model-core",rowModel:"infinite",beans:[M4],dependantModules:[xx]},F4={version:ew,moduleName:"@ag-grid-community/infinite-row-model-api",beans:[Yb],apiFunctions:{refreshInfiniteCache:A4,purgeInfiniteCache:T4,getInfiniteRowCount:R4},dependantModules:[Kw,Pw]},Zw={version:ew,moduleName:"@ag-grid-community/infinite-row-model",dependantModules:[Kw,F4]},F3=(e,t)=>new Xw(e.feature,t,e.defaults,e.css),P4=0,k1=(e,t=`customPart${++P4}`)=>new Xw(e,t),Xw=class uw{constructor(t,a,u={},g=[]){this.feature=t,this.variant=a,this.defaults=u,this.css=g}get id(){return this.feature?`${this.feature}/${this.variant}`:this.variant}withParams(t){const a={...this.defaults};for(const[u,g]of Object.entries(t))g!=null&&(a[u]=g);return new uw(this.feature,this.variant,a,this.css)}withAdditionalParams(t){return this.withParams(t)}withCSS(t){return new uw(this.feature,this.variant,this.defaults,this.css.concat(t))}},Qw=`:where([class^=ag-]){box-sizing:border-box;outline:none;&:after,&:before,&:focus,&:focus-within{box-sizing:border-box;outline:none}&:where(button){background:none;border:none;color:inherit;cursor:pointer;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;padding:0}&:where(button){font-weight:inherit}&::-ms-clear{display:none}}.ag-aria-description-container{border:0;z-index:9999;clip:rect(1px,1px,1px,1px);height:1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ag-hidden{display:none!important}.ag-invisible{visibility:hidden!important}.ag-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-selectable{-webkit-user-select:text;-moz-user-select:text;user-select:text}.ag-tab-guard{display:block;height:0;position:absolute;width:0}.ag-virtual-list-viewport .ag-tab-guard{position:sticky}.ag-tab-guard-top{top:1px}.ag-tab-guard-bottom{bottom:1px}.ag-shake-left-to-right{animation-direction:alternate;animation-duration:.2s;animation-iteration-count:infinite;animation-name:ag-shake-left-to-right}@keyframes ag-shake-left-to-right{0%{padding-left:6px;padding-right:2px}to{padding-left:2px;padding-right:6px}}.ag-watermark{bottom:20px;color:#9b9b9b;opacity:.7;position:absolute;right:25px;transition:opacity 1s ease-out 3s;&:before{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMDkiIGhlaWdodD0iMzYiIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAyMDkgMzYiPjxwYXRoIGZpbGw9IiM5QjlCOUIiIGQ9Ik0xOTIuOTkzIDIzLjY1OHYtNy45NDZoLTEzLjU0MWwtNy45NDcgNy45NDZ6TTIwOC4yNSAzLjk1aC0xNi45NzRsLTguMDEgNy45NDdoMjQuOTg0ek0xNjMuNjIyIDMxLjYwNWw0LjA2OS00LjA2OWgxMy43MzJ2Ny45NDdoLTE3LjgwMXoiLz48cGF0aCBmaWxsPSIjOUI5QjlCIiBkPSJNMTY2LjYxIDE5Ljc4aDguNzczbDguMDEtNy45NDZIMTY2LjYxek0xNTcuMDExIDMxLjYwNWg2LjYxMWw3Ljg4My03Ljk0N2gtMTQuNDk0ek0xOTEuMjc2IDMuOTVsLTQuMDY4IDQuMDdIMTYxLjI3Vi4wNzJoMzAuMDA2ek0yMC44NCAzMC4yMDZIOC4zNzhsLTIuMTYyIDUuMzRILjc1TDEyLjI1NyA4LjU5Mmg0Ljc2OEwyOC41MyAzNS41NDZoLTUuNTN6bS0xLjcxNy00LjI2TDE0LjYwOSAxNC45NWwtNC41MTQgMTAuOTk4ek0xMDQuNDM3IDE4LjUwOWMxLjU4OS0yLjM1MiA1LjU5NC0yLjYwNyA3LjI0Ny0yLjYwN3Y0LjU3OGMtMi4wMzQgMC00LjA2OS4wNjMtNS4yNzcuOTUzLTEuMjA3Ljg5LTEuODQzIDIuMDk4LTEuODQzIDMuNTZ2MTAuNTUzaC00Ljk1OVYxNS45MDJoNC43Njh6TTExOS4zNzYgMTUuOTAyaC00Ljk1OHYxOS42NDRoNC45NTh6TTExOS4zNzYgNy4xM2gtNC45NTh2NS44NDhoNC45NTh6TTE0My45NzkgNy4xM3YyOC40MTZoLTQuNzY4bC0uMTI3LTIuOTg4YTguMyA4LjMgMCAwIDEtMi42NyAyLjQ4Yy0xLjA4MS41NzItMi40MTYuODktMy45NDIuODktMS4zMzUgMC0yLjYwNi0uMjU1LTMuNjg3LS43LTEuMTQ0LS41MDgtMi4xNjItMS4xNDQtMi45ODgtMi4wMzRhOS42IDkuNiAwIDAgMS0xLjk3MS0zLjE3OWMtLjUwOC0xLjIwNy0uNjk5LTIuNjA2LS42OTktNC4xMzJzLjI1NC0yLjkyNC42OTktNC4xOTZjLjUwOS0xLjI3MSAxLjE0NS0yLjM1MiAxLjk3MS0zLjI0MnMxLjg0NC0xLjU4OSAyLjk4OC0yLjA5OCAyLjM1Mi0uNzYzIDMuNjg3LS43NjNjMS41MjYgMCAyLjc5Ny4yNTUgMy44NzguODI3czEuOTcxIDEuMzM1IDIuNjcgMi40MTZWNy4xOTNoNC45NTl6bS0xMC40MjYgMjQuNTM4YzEuNjUzIDAgMi45MjQtLjU3MiAzLjk0MS0xLjY1M3MxLjUyNi0yLjU0MyAxLjUyNi00LjMyMy0uNTA5LTMuMTc4LTEuNTI2LTQuMzIyYy0xLjAxNy0xLjA4MS0yLjI4OC0xLjY1My0zLjk0MS0xLjY1My0xLjU5IDAtMi45MjUuNTcyLTMuODc4IDEuNjUzLTEuMDE3IDEuMDgtMS41MjYgMi41NDMtMS41MjYgNC4zMjIgMCAxLjc4LjUwOSAzLjE4IDEuNTI2IDQuMjYgMS4wMTcgMS4xNDQgMi4yODggMS43MTYgMy44NzggMS43MTZNNTcuMjAyIDIwLjM1M0g0NC45MzN2NC4yNTloNi45OTNjLS4xOSAyLjE2MS0xLjAxNyAzLjgxNC0yLjQxNiA1LjE1LTEuMzk4IDEuMjctMy4xNzggMS45MDYtNS40NjcgMS45MDYtMS4yNzEgMC0yLjQ4LS4yNTQtMy40OTYtLjY5OWE3IDcgMCAwIDEtMi43MzQtMS45N2MtLjc2My0uODI3LTEuMzM1LTEuODQ0LTEuNzgtMy4wNTJzLS42MzYtMi40OC0uNjM2LTMuOTQyLjE5LTIuNzMzLjYzNi0zLjk0MWMuMzgxLTEuMjA4IDEuMDE3LTIuMTYyIDEuNzgtMy4wNTIuNzYzLS44MjYgMS42NTMtMS40NjIgMi43MzMtMS45N2E5LjEgOS4xIDAgMCAxIDMuNTYtLjdxNC4wMDUgMCA2LjEwMyAxLjkwN2wzLjMwNi0zLjMwNWMtMi40OC0xLjkwNy01LjY1OC0yLjkyNS05LjQwOS0yLjkyNS0yLjA5NyAwLTQuMDA0LjMxOC01LjcyMSAxLjAxOC0xLjcxNi42OTktMy4xNzkgMS41ODktNC4zODYgMi43OTdBMTIuMSAxMi4xIDAgMCAwIDMxLjIgMTYuMjJjLS42MzUgMS43MTctLjk1MyAzLjYyNC0uOTUzIDUuNjU4cy4zMTggMy45NDIgMS4wMTcgNS42NThjLjcgMS43MTcgMS41OSAzLjE3OSAyLjc5NyA0LjM4N2ExMi4xIDEyLjEgMCAwIDAgNC4zODcgMi43OTdjMS43MTYuNyAzLjYyMyAxLjAxNyA1LjY1NyAxLjAxNyAyLjAzNSAwIDMuODc4LS4zMTggNS41MzEtMS4wMTcgMS42NTMtLjcgMy4wNTItMS41OSA0LjE5Ni0yLjc5N3ExLjcxNi0xLjgxMiAyLjY3LTQuMzg3Yy42MzYtMS43MTYuOTU0LTMuNjIzLjk1NC01LjY1OHYtLjgyNmMtLjE5MS0uMTI3LS4yNTUtLjQ0NS0uMjU1LS43TTk1Ljk4MiAyMC4zNTNoLTEyLjI3djQuMjU5aDYuOTkzYy0uMTkgMi4xNjEtMS4wMTcgMy44MTQtMi40MTYgNS4xNS0xLjM5OCAxLjI3LTMuMTc4IDEuOTA2LTUuNDY3IDEuOTA2LTEuMjcxIDAtMi40OC0uMjU0LTMuNDk2LS42OTlhNyA3IDAgMCAxLTIuNzM0LTEuOTdjLS43NjMtLjgyNy0xLjMzNS0xLjg0NC0xLjc4LTMuMDUycy0uNjM2LTIuNDgtLjYzNi0zLjk0Mi4xOS0yLjczMy42MzYtMy45NDFjLjM4MS0xLjIwOCAxLjAxNy0yLjE2MiAxLjc4LTMuMDUyLjc2My0uODI2IDEuNjUzLTEuNDYyIDIuNzM0LTEuOTdhOS4xIDkuMSAwIDAgMSAzLjU2LS43cTQuMDA1IDAgNi4xMDMgMS45MDdsMy4zMDUtMy4zMDVjLTIuNDc5LTEuOTA3LTUuNjU4LTIuOTI1LTkuNDA4LTIuOTI1LTIuMDk4IDAtNC4wMDUuMzE4LTUuNzIyIDEuMDE4LTEuNzE2LjY5OS0zLjE3OCAxLjU4OS00LjM4NiAyLjc5N2ExMi4xIDEyLjEgMCAwIDAtMi43OTcgNC4zODZjLS42MzYgMS43MTctLjk1NCAzLjYyNC0uOTU0IDUuNjU4cy4zMTggMy45NDIgMS4wMTcgNS42NThjLjcgMS43MTcgMS41OSAzLjE3OSAyLjc5NyA0LjM4N2ExMi4xIDEyLjEgMCAwIDAgNC4zODcgMi43OTdjMS43MTYuNyAzLjYyMyAxLjAxNyA1LjY1OCAxLjAxNyAyLjAzNCAwIDMuODc4LS4zMTggNS41My0xLjAxNyAxLjY1My0uNyAzLjA1Mi0xLjU5IDQuMTk2LTIuNzk3cTEuNzE4LTEuODEyIDIuNjctNC4zODdjLjYzNi0xLjcxNi45NTQtMy42MjMuOTU0LTUuNjU4di0uODI2Yy0uMTktLjEyNy0uMjU1LS40NDUtLjI1NS0uNyIvPjwvc3ZnPg==);background-repeat:no-repeat;background-size:170px 40px;content:"";display:block;height:40px;width:170px}}.ag-watermark-text{font-family:Impact,sans-serif;font-size:19px;font-weight:700;opacity:.5}.ag-ltr .ag-watermark-text{padding-left:.7rem}.ag-rtl .ag-watermark-text{padding-right:.7rem}.ag-body-horizontal-scroll-viewport,.ag-body-vertical-scroll-viewport,.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport,.ag-virtual-list-viewport{flex:1 1 auto;height:100%;min-width:0;overflow:hidden;position:relative}.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport{overflow-x:auto;-ms-overflow-style:none!important;scrollbar-width:none!important;&::-webkit-scrollbar{display:none!important}}.ag-body-viewport{display:flex;overflow-x:hidden;&.ag-layout-normal{overflow-y:auto;-webkit-overflow-scrolling:touch}}.ag-sticky-bottom-container,.ag-sticky-top-container{min-height:1px}.ag-center-cols-viewport{min-height:100%;width:100%}.ag-body-horizontal-scroll-viewport{overflow-x:scroll}.ag-body-vertical-scroll-viewport{overflow-y:scroll}.ag-virtual-list-viewport{overflow:auto;width:100%}.ag-body-container,.ag-body-horizontal-scroll-container,.ag-body-vertical-scroll-container,.ag-center-cols-container,.ag-floating-bottom-container,.ag-floating-bottom-full-width-container,.ag-floating-top-container,.ag-full-width-container,.ag-header-container,.ag-pinned-left-cols-container,.ag-pinned-right-cols-container,.ag-sticky-bottom-container,.ag-sticky-top-container,.ag-virtual-list-container{position:relative}.ag-floating-bottom-container,.ag-floating-top-container,.ag-header-container,.ag-sticky-bottom-container,.ag-sticky-top-container{height:100%;white-space:nowrap}.ag-center-cols-container,.ag-pinned-right-cols-container{display:block}.ag-body-horizontal-scroll-container{height:100%}.ag-body-vertical-scroll-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container,.ag-full-width-container,.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{pointer-events:none;position:absolute;top:0}.ag-ltr .ag-floating-bottom-full-width-container,.ag-ltr .ag-floating-top-full-width-container,.ag-ltr .ag-full-width-container,.ag-ltr .ag-sticky-bottom-full-width-container,.ag-ltr .ag-sticky-top-full-width-container{left:0}.ag-rtl .ag-floating-bottom-full-width-container,.ag-rtl .ag-floating-top-full-width-container,.ag-rtl .ag-full-width-container,.ag-rtl .ag-sticky-bottom-full-width-container,.ag-rtl .ag-sticky-top-full-width-container{right:0}.ag-full-width-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container{display:inline-block;height:100%;overflow:hidden;width:100%}.ag-virtual-list-container{overflow:hidden}.ag-body{display:flex;flex:1 1 auto;flex-direction:row!important;min-height:0;position:relative}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:flex;min-height:0;min-width:0;position:relative;&.ag-scrollbar-invisible{bottom:0;position:absolute;&.ag-apple-scrollbar{opacity:0;transition:opacity .4s;visibility:hidden;&.ag-scrollbar-active,&.ag-scrollbar-scrolling{opacity:1;visibility:visible}}}}.ag-body-horizontal-scroll{width:100%;&.ag-scrollbar-invisible{left:0;right:0}}.ag-body-vertical-scroll{height:100%;&.ag-scrollbar-invisible{top:0;z-index:10}}.ag-ltr .ag-body-vertical-scroll{&.ag-scrollbar-invisible{right:0}}.ag-rtl .ag-body-vertical-scroll{&.ag-scrollbar-invisible{left:0}}.ag-force-vertical-scroll{overflow-y:scroll!important}.ag-horizontal-left-spacer,.ag-horizontal-right-spacer{height:100%;min-width:0;overflow-x:scroll;&.ag-scroller-corner{overflow-x:hidden}}.ag-ltr .ag-column-moving{.ag-cell,.ag-header-cell{transition:left .2s}.ag-header-group-cell{transition:left .2s,width .2s}}.ag-rtl .ag-column-moving{.ag-cell,.ag-header-cell{transition:right .2s}.ag-header-group-cell{transition:right .2s,width .2s}}.ag-row-animation .ag-row{transition:transform .4s,top .4s,opacity .2s}.ag-row-animation .ag-row.ag-after-created{transition:transform .4s,top .4s,height .4s,opacity .2s}.ag-row-no-animation .ag-row{transition:none}.ag-row-loading{align-items:center;display:flex}.ag-row-position-absolute{position:absolute}.ag-row-position-relative{position:relative}.ag-full-width-row{overflow:hidden;pointer-events:all}.ag-row-inline-editing{z-index:1}.ag-row-dragging{z-index:2}.ag-stub-cell{align-items:center;display:flex}.ag-cell{display:inline-block;height:100%;position:absolute;white-space:nowrap}.ag-cell-value{flex:1 1 auto}.ag-cell-value,.ag-group-value{overflow:hidden;text-overflow:ellipsis}.ag-cell-wrap-text{white-space:normal;word-break:break-word}.ag-sparkline-wrapper{height:100%;left:0;position:absolute;top:0;width:100%}.ag-full-width-row .ag-cell-wrapper.ag-row-group{align-items:center;height:100%}.ag-cell .ag-icon{display:inline-block;vertical-align:middle}.ag-floating-top{border-bottom:var(--ag-pinned-row-border);display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}.ag-pinned-left-floating-top,.ag-pinned-right-floating-top{display:inline-block;min-width:0;overflow:hidden;position:relative}.ag-floating-bottom{border-top:var(--ag-pinned-row-border);display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}.ag-pinned-left-floating-bottom,.ag-pinned-right-floating-bottom{display:inline-block;min-width:0;overflow:hidden;position:relative}.ag-sticky-bottom,.ag-sticky-top{background-color:var(--ag-background-color);display:flex;height:0;overflow:hidden;position:absolute;width:100%}.ag-pinned-left-sticky-top,.ag-pinned-right-sticky-top{height:100%;overflow:hidden;position:relative}.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{height:100%;overflow:hidden;width:100%}.ag-value-slide-out{opacity:1}.ag-ltr .ag-value-slide-out{margin-right:5px;transition:opacity 3s,margin-right 3s}.ag-rtl .ag-value-slide-out{margin-left:5px;transition:opacity 3s,margin-left 3s}:is(.ag-ltr,.ag-rtl) .ag-value-slide-out{transition-timing-function:linear}.ag-value-slide-out-end{opacity:0}.ag-ltr .ag-value-slide-out-end{margin-right:10px}.ag-rtl .ag-value-slide-out-end{margin-left:10px}.ag-opacity-zero{opacity:0!important}.ag-details-row{width:100%}.ag-details-row-fixed-height{height:100%}.ag-details-grid{width:100%}.ag-details-grid-fixed-height{height:100%}.ag-cell-label-container{align-items:center;display:flex;flex-direction:row-reverse;height:100%;justify-content:space-between;width:100%}.ag-right-aligned-header{.ag-cell-label-container{flex-direction:row}.ag-header-cell-text{text-align:end}}.ag-column-group-icons{display:block;>*{cursor:pointer}}.ag-pill-select{display:flex;flex-direction:column;.ag-column-drop-list{padding:0}.ag-select{padding-top:var(--ag-spacing)}.ag-picker-field-wrapper{background-color:transparent;border:0}.ag-picker-field-display{cursor:pointer}}.ag-ltr{direction:ltr;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row}}.ag-rtl{direction:rtl;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row-reverse}.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{display:block}}.ag-rtl{.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(180deg)}}.ag-rtl{.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(-180deg)}}.ag-measurement-container{overflow:hidden;visibility:hidden;width:0;& div{position:absolute}}.ag-group{position:relative;width:100%}.ag-group-title-bar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-title{display:inline;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-group-title-bar .ag-group-title{cursor:default}.ag-group-toolbar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-container{display:flex}.ag-disabled .ag-group-container{pointer-events:none}.ag-disabled-group-container,.ag-disabled-group-title-bar{opacity:.5}.ag-group-container-horizontal{flex-direction:row;flex-wrap:wrap}.ag-group-container-vertical{flex-direction:column}.ag-group-title-bar-icon{cursor:pointer;flex:none}.ag-ltr .ag-group-title-bar-icon{margin-right:var(--ag-spacing)}.ag-rtl .ag-group-title-bar-icon{margin-left:var(--ag-spacing)}.ag-group-item-alignment-stretch .ag-group-item{align-items:stretch}.ag-group-item-alignment-start .ag-group-item{align-items:flex-start}.ag-group-item-alignment-end .ag-group-item{align-items:flex-end}.ag-popup-child{top:0;z-index:5;&:where(:not(.ag-tooltip-custom)){box-shadow:var(--ag-popup-shadow)}}.ag-popup-editor{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-large-text-input{display:block}.ag-rtl{text-align:right}.ag-ltr .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-left:var(--ag-row-group-indent-size)}.ag-rtl .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-right:var(--ag-row-group-indent-size)}.ag-ltr .ag-row-group-leaf-indent{margin-left:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}.ag-rtl .ag-row-group-leaf-indent{margin-right:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}.ag-value-change-delta{padding:0 2px}.ag-value-change-delta-up{color:var(--ag-value-change-delta-up-color)}.ag-value-change-delta-down{color:var(--ag-value-change-delta-down-color)}.ag-value-change-value{background-color:transparent;border-radius:1px;padding-left:1px;padding-right:1px;transition:background-color 1s}.ag-value-change-value-highlight{background-color:var(--ag-value-change-value-highlight-background-color);transition:background-color .1s}.ag-cell-data-changed{background-color:var(--ag-value-change-value-highlight-background-color)!important}.ag-cell-data-changed-animation{background-color:transparent}.ag-cell-highlight{background-color:var(--ag-range-selection-highlight-color)!important}.ag-row{background-color:var(--ag-background-color);border-bottom:var(--ag-row-border);color:var(--ag-cell-text-color);font-size:var(--ag-data-font-size);height:var(--ag-row-height);white-space:nowrap;width:100%;--ag-internal-content-line-height:min(calc(var(--ag-row-height) - 1px),var(--ag-line-height,1000px))}:where(.ag-body-vertical-content-no-gap) .ag-row-last{border-bottom-color:transparent}.ag-sticky-bottom{border-top:var(--ag-row-border);box-sizing:content-box!important;display:none}.ag-group-contracted,.ag-group-expanded{cursor:pointer}.ag-cell,.ag-full-width-row .ag-cell-wrapper.ag-row-group{border:1px solid transparent;line-height:var(--ag-internal-content-line-height)}.ag-ltr .ag-cell{border-right:var(--ag-column-border)}.ag-rtl .ag-cell{border-left:var(--ag-column-border)}.ag-ltr :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-right-color:transparent}.ag-rtl :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-left-color:transparent}.ag-cell-wrapper{align-items:center;display:flex;&.ag-row-group{align-items:flex-start}>:not(.ag-cell-value):not(.ag-group-value){align-items:center;display:flex;height:var(--ag-internal-content-line-height)}}.ag-ltr .ag-cell-wrapper{padding-left:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}.ag-rtl .ag-cell-wrapper{padding-right:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}.ag-ltr .ag-row>.ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-rtl .ag-row>.ag-cell-wrapper.ag-row-group{padding-right:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-ltr .ag-group-contracted,.ag-ltr .ag-group-expanded,.ag-ltr .ag-row-drag,.ag-ltr .ag-selection-checkbox{margin-right:var(--ag-cell-widget-spacing)}.ag-rtl .ag-group-contracted,.ag-rtl .ag-group-expanded,.ag-rtl .ag-row-drag,.ag-rtl .ag-selection-checkbox{margin-left:var(--ag-cell-widget-spacing)}.ag-ltr .ag-group-child-count{margin-left:3px}.ag-rtl .ag-group-child-count{margin-right:3px}.ag-row-highlight-above:after,.ag-row-highlight-below:after{background-color:var(--ag-range-selection-border-color);content:"";height:1px;position:absolute;width:calc(100% - 1px)}.ag-ltr .ag-row-highlight-above:after,.ag-ltr .ag-row-highlight-below:after{left:1px}.ag-rtl .ag-row-highlight-above:after,.ag-rtl .ag-row-highlight-below:after{right:1px}.ag-row-highlight-above:after{top:-1px}.ag-row-highlight-above.ag-row-first:after{top:0}.ag-row-highlight-below:after{bottom:0}.ag-row-odd{background-color:var(--ag-odd-row-background-color)}.ag-row-selected:before{background-color:var(--ag-selected-row-background-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-full-width-row.ag-row-group:before,.ag-row-hover:not(.ag-full-width-row):before{background-color:var(--ag-row-hover-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-row-selected:before{background-color:var(--ag-row-hover-color);background-image:linear-gradient(var(--ag-selected-row-background-color),var(--ag-selected-row-background-color))}.ag-row-hover.ag-full-width-row.ag-row-group>*{position:relative}.ag-column-hover{background-color:var(--ag-column-hover-color)}.ag-right-aligned-cell{font-variant-numeric:tabular-nums}.ag-ltr .ag-right-aligned-cell{text-align:right}.ag-rtl .ag-right-aligned-cell{text-align:left}.ag-right-aligned-cell .ag-cell-value,.ag-right-aligned-cell .ag-group-value{margin-left:auto}.ag-cell:not(.ag-cell-inline-editing),.ag-full-width-row .ag-cell-wrapper.ag-row-group{-webkit-font-smoothing:subpixel-antialiased}.ag-ltr .ag-cell:not(.ag-cell-inline-editing),.ag-ltr .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level));padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}.ag-rtl .ag-cell:not(.ag-cell-inline-editing),.ag-rtl .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-row>.ag-cell-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}.ag-row-dragging{cursor:move;opacity:.5}.ag-details-row{background-color:var(--ag-background-color);padding:calc(var(--ag-spacing)*3.5)}.ag-layout-auto-height,.ag-layout-print{.ag-center-cols-container,.ag-center-cols-viewport{min-height:150px}}.ag-overlay-loading-wrapper{background-color:var(--ag-modal-overlay-background-color)}.ag-skeleton-container{align-content:center;height:100%;width:100%}.ag-skeleton-effect{animation:ag-skeleton-loading 1.5s ease-in-out .5s infinite;background-color:var(--ag-row-loading-skeleton-effect-color);border-radius:.25rem;height:1em;width:100%}.ag-ltr .ag-right-aligned-cell .ag-skeleton-effect{margin-left:auto}.ag-rtl .ag-right-aligned-cell .ag-skeleton-effect{margin-right:auto}@keyframes ag-skeleton-loading{0%{opacity:1}50%{opacity:.4}to{opacity:1}}.ag-loading{align-items:center;display:flex;height:100%}.ag-ltr .ag-loading{padding-left:var(--ag-cell-horizontal-padding)}.ag-rtl .ag-loading{padding-right:var(--ag-cell-horizontal-padding)}.ag-ltr .ag-loading-icon{padding-right:var(--ag-cell-widget-spacing)}.ag-rtl .ag-loading-icon{padding-left:var(--ag-cell-widget-spacing)}.ag-icon-loading{animation-duration:1s;animation-iteration-count:infinite;animation-name:spin;animation-timing-function:linear}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.ag-details-row{padding:calc(var(--ag-spacing)*3.75)}.ag-pinned-left-header,.ag-pinned-right-header{display:inline-block;overflow:hidden;position:relative}.ag-body-horizontal-scroll:not(.ag-scrollbar-invisible){.ag-horizontal-left-spacer:not(.ag-scroller-corner){border-right:var(--ag-pinned-column-border)}.ag-horizontal-right-spacer:not(.ag-scroller-corner){border-left:var(--ag-pinned-column-border)}}.ag-pinned-right-header{border-left:var(--ag-pinned-column-border)}.ag-pinned-left-header{border-right:var(--ag-pinned-column-border)}.ag-cell.ag-cell-first-right-pinned:not(.ag-cell-range-left):not(.ag-cell-range-single-cell){border-left:var(--ag-pinned-column-border)}.ag-cell.ag-cell-last-left-pinned:not(.ag-cell-range-right):not(.ag-cell-range-single-cell){border-right:var(--ag-pinned-column-border)}.ag-pinned-left-header .ag-header-cell-resize:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}.ag-pinned-right-header .ag-header-cell-resize:after{left:50%}.ag-pinned-left-header,.ag-pinned-right-header{height:100%}.ag-pinned-left-header .ag-header-cell-resize{right:-3px}.ag-pinned-right-header .ag-header-cell-resize{left:-3px}.ag-body-viewport:not(.ag-has-focus) .ag-cell-range-single-cell:not(.ag-cell-inline-editing),.ag-cell-range-selected:not(.ag-cell-focus){background-color:var(--ag-range-selection-background-color);&.ag-cell-range-chart{background-color:var(--ag-range-selection-chart-background-color)!important;&.ag-cell-range-chart-category{background-color:var(--ag-range-selection-chart-category-background-color)!important}}}.ag-cell-range-selected-1:not(.ag-cell-focus),.ag-root:not(.ag-context-menu-open) .ag-body-viewport:not(.ag-has-focus) .ag-cell-range-selected-1:not(.ag-cell-inline-editing){background-color:var(--ag-range-selection-background-color)}.ag-cell-range-selected-2:not(.ag-cell-focus){background-image:linear-gradient(var(--ag-range-selection-background-color),var(--ag-range-selection-background-color))}.ag-cell-range-selected-3:not(.ag-cell-focus){background-image:linear-gradient(var(--ag-range-selection-background-color),var(--ag-range-selection-background-color)),linear-gradient(var(--ag-range-selection-background-color),var(--ag-range-selection-background-color))}.ag-cell-range-selected-4:not(.ag-cell-focus){background-image:linear-gradient(var(--ag-range-selection-background-color),var(--ag-range-selection-background-color)),linear-gradient(var(--ag-range-selection-background-color),var(--ag-range-selection-background-color)),linear-gradient(var(--ag-range-selection-background-color),var(--ag-range-selection-background-color))}.ag-cell.ag-cell-range-selected:not(.ag-cell-range-single-cell){&.ag-cell-range-top{border-top-color:var(--ag-range-selection-border-color);border-top-style:var(--ag-range-selection-border-style)}&.ag-cell-range-right{border-right-color:var(--ag-range-selection-border-color);border-right-style:var(--ag-range-selection-border-style)}&.ag-cell-range-bottom{border-bottom-color:var(--ag-range-selection-border-color);border-bottom-style:var(--ag-range-selection-border-style)}&.ag-cell-range-left{border-left-color:var(--ag-range-selection-border-color);border-left-style:var(--ag-range-selection-border-style)}}.ag-ltr,.ag-rtl{.ag-cell-focus:not(.ag-cell-range-selected):focus-within,.ag-cell-range-single-cell,.ag-cell-range-single-cell.ag-cell-range-handle,.ag-context-menu-open .ag-cell-focus:not(.ag-cell-range-selected),.ag-full-width-row.ag-row-focus:focus .ag-cell-wrapper.ag-row-group{border:1px solid;border-color:var(--ag-range-selection-border-color);border-style:var(--ag-range-selection-border-style);outline:initial}}.ag-cell.ag-selection-fill-top,.ag-cell.ag-selection-fill-top.ag-cell-range-selected{border-top:1px dashed;border-top-color:var(--ag-range-selection-border-color)}.ag-ltr .ag-cell.ag-selection-fill-right,.ag-ltr .ag-cell.ag-selection-fill-right.ag-cell-range-selected{border-right:1px dashed var(--ag-range-selection-border-color)!important}.ag-rtl .ag-cell.ag-selection-fill-right,.ag-rtl .ag-cell.ag-selection-fill-right.ag-cell-range-selected{border-left:1px dashed var(--ag-range-selection-border-color)!important}.ag-cell.ag-selection-fill-bottom,.ag-cell.ag-selection-fill-bottom.ag-cell-range-selected{border-bottom:1px dashed;border-bottom-color:var(--ag-range-selection-border-color)}.ag-ltr .ag-cell.ag-selection-fill-left,.ag-ltr .ag-cell.ag-selection-fill-left.ag-cell-range-selected{border-left:1px dashed var(--ag-range-selection-border-color)!important}.ag-rtl .ag-cell.ag-selection-fill-left,.ag-rtl .ag-cell.ag-selection-fill-left.ag-cell-range-selected{border-right:1px dashed var(--ag-range-selection-border-color)!important}.ag-fill-handle,.ag-range-handle{background-color:var(--ag-range-selection-border-color);bottom:-1px;height:6px;position:absolute;width:6px}.ag-ltr .ag-fill-handle,.ag-ltr .ag-range-handle{right:-1px}.ag-rtl .ag-fill-handle,.ag-rtl .ag-range-handle{left:-1px}.ag-fill-handle{cursor:cell}.ag-ltr .ag-range-handle{cursor:nwse-resize}.ag-rtl .ag-range-handle{cursor:nesw-resize}.ag-cell-inline-editing{border:var(--ag-input-focus-border)!important}.ag-input-wrapper,.ag-picker-field-wrapper{align-items:center;display:flex;flex:1 1 auto;line-height:normal;position:relative}.ag-input-field{align-items:center;display:flex;flex-direction:row}.ag-input-field-input{flex:1 1 auto}.ag-floating-filter-input .ag-input-field-input[type=date]{width:1px}.ag-input-field-input{min-width:0;width:100%}.ag-column-select-header-filter-wrapper,.ag-filter-filter,.ag-filter-toolpanel-search,.ag-mini-filter{.ag-input-wrapper:before{background-color:currentColor;content:"";display:block;height:12px;-webkit-mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;opacity:50%;position:absolute;width:12px}}.ag-ltr .ag-column-select-header-filter-wrapper,.ag-ltr .ag-filter-filter,.ag-ltr .ag-filter-toolpanel-search,.ag-ltr .ag-mini-filter{.ag-input-wrapper:before{margin-left:var(--ag-spacing)}& input.ag-number-field-input,& input.ag-text-field-input{padding-left:calc(var(--ag-spacing)*1.5 + 12px)}}.ag-rtl .ag-column-select-header-filter-wrapper,.ag-rtl .ag-filter-filter,.ag-rtl .ag-filter-toolpanel-search,.ag-rtl .ag-mini-filter{.ag-input-wrapper:before{margin-right:var(--ag-spacing)}& input.ag-number-field-input,& input.ag-text-field-input{padding-right:calc(var(--ag-spacing)*1.5 + 12px)}}.ag-advanced-filter-header{align-items:center;background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border);display:flex;padding-left:var(--ag-cell-horizontal-padding);padding-right:var(--ag-cell-horizontal-padding);position:relative}.ag-advanced-filter{align-items:center;display:flex;width:100%}.ag-advanced-filter-apply-button,.ag-advanced-filter-builder-button{line-height:normal;white-space:nowrap}.ag-ltr .ag-advanced-filter-apply-button,.ag-ltr .ag-advanced-filter-builder-button{margin-left:calc(var(--ag-spacing)*2)}.ag-rtl .ag-advanced-filter-apply-button,.ag-rtl .ag-advanced-filter-builder-button{margin-right:calc(var(--ag-spacing)*2)}.ag-advanced-filter-builder-button{align-items:center;background-color:unset;border:0;display:flex;font-size:var(--ag-font-size);font-weight:600;padding:var(--ag-spacing);&:hover:not(:disabled){background-color:var(--ag-row-hover-color)}&:not(:disabled){cursor:pointer}}.ag-ltr .ag-advanced-filter-builder-button-label{margin-left:var(--ag-spacing)}.ag-rtl .ag-advanced-filter-builder-button-label{margin-right:var(--ag-spacing)}.ag-advanced-filter-builder{display:flex;flex-direction:column;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:100%}.ag-advanced-filter-builder-list{flex:1;overflow:auto}.ag-advanced-filter-builder-button-panel{border-top:var(--ag-advanced-filter-builder-button-bar-border);display:flex;justify-content:flex-end;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}.ag-ltr .ag-advanced-filter-builder .ag-advanced-filter-builder-button-panel{.ag-advanced-filter-builder-apply-button,.ag-advanced-filter-builder-cancel-button{margin-left:calc(var(--ag-spacing)*2)}}.ag-rtl .ag-advanced-filter-builder .ag-advanced-filter-builder-button-panel{.ag-advanced-filter-builder-apply-button,.ag-advanced-filter-builder-cancel-button{margin-right:calc(var(--ag-spacing)*2)}}.ag-advanced-filter-builder-item-wrapper{align-items:center;display:flex;flex:1 1 auto;justify-content:space-between;overflow:hidden}.ag-ltr .ag-advanced-filter-builder-item-wrapper{padding-left:calc(var(--ag-icon-size)/2);padding-right:var(--ag-icon-size)}.ag-rtl .ag-advanced-filter-builder-item-wrapper{padding-left:var(--ag-icon-size);padding-right:calc(var(--ag-icon-size)/2)}.ag-virtual-list-viewport .ag-advanced-filter-builder-item-wrapper .ag-tab-guard{position:absolute}.ag-advanced-filter-builder-item-tree-lines>*{width:var(--ag-advanced-filter-builder-indent-size)}.ag-advanced-filter-builder-item-tree-lines .ag-advanced-filter-builder-item-tree-line-root{width:var(--ag-icon-size);&:before{height:50%;top:50%}}.ag-advanced-filter-builder-item-tree-line-horizontal,.ag-advanced-filter-builder-item-tree-line-vertical,.ag-advanced-filter-builder-item-tree-line-vertical-bottom,.ag-advanced-filter-builder-item-tree-line-vertical-top{align-items:center;display:flex;height:100%;position:relative;&:after,&:before{content:"";height:100%;position:absolute}}.ag-advanced-filter-builder-item-tree-line-horizontal:after{border-bottom:1px solid var(--ag-border-color);height:50%;top:0;width:calc(var(--ag-advanced-filter-builder-indent-size) - var(--ag-icon-size))}.ag-ltr .ag-advanced-filter-builder-item-tree-line-horizontal:after{left:calc(var(--ag-icon-size)/2)}.ag-rtl .ag-advanced-filter-builder-item-tree-line-horizontal:after{right:calc(var(--ag-icon-size)/2)}.ag-advanced-filter-builder-item-tree-line-vertical:before{top:0;width:calc(var(--ag-advanced-filter-builder-indent-size) - var(--ag-icon-size)/2)}.ag-ltr .ag-advanced-filter-builder-item-tree-line-vertical:before{border-left:1px solid var(--ag-border-color);left:calc(var(--ag-icon-size)/2)}.ag-rtl .ag-advanced-filter-builder-item-tree-line-vertical:before{border-right:1px solid var(--ag-border-color);right:calc(var(--ag-icon-size)/2)}.ag-advanced-filter-builder-item-tree-line-vertical-top:before{height:50%;top:0;width:calc(var(--ag-advanced-filter-builder-indent-size) - var(--ag-icon-size)/2)}.ag-ltr .ag-advanced-filter-builder-item-tree-line-vertical-top:before{border-left:1px solid var(--ag-border-color);left:calc(var(--ag-icon-size)/2)}.ag-rtl .ag-advanced-filter-builder-item-tree-line-vertical-top:before{border-right:1px solid var(--ag-border-color);right:calc(var(--ag-icon-size)/2)}.ag-advanced-filter-builder-item-tree-line-vertical-bottom:before{height:calc(50% - var(--ag-icon-size)*1.5/2);top:calc(50% + var(--ag-icon-size)*1.5/2);width:calc(var(--ag-icon-size)/2)}.ag-ltr .ag-advanced-filter-builder-item-tree-line-vertical-bottom:before{border-left:1px solid var(--ag-border-color);left:calc(var(--ag-icon-size)/2)}.ag-rtl .ag-advanced-filter-builder-item-tree-line-vertical-bottom:before{border-right:1px solid var(--ag-border-color);right:calc(var(--ag-icon-size)/2)}.ag-advanced-filter-builder-item-condition{padding-bottom:var(--ag-spacing);padding-top:var(--ag-spacing)}.ag-advanced-filter-builder-item,.ag-advanced-filter-builder-item-buttons,.ag-advanced-filter-builder-item-condition,.ag-advanced-filter-builder-item-tree-lines,.ag-advanced-filter-builder-pill,.ag-advanced-filter-builder-pill-wrapper{align-items:center;display:flex;height:100%}.ag-advanced-filter-builder-pill-wrapper{margin:0 var(--ag-spacing)}.ag-advanced-filter-builder-pill{border-radius:var(--ag-border-radius);min-height:calc(100% - var(--ag-spacing)*3);min-width:calc(var(--ag-spacing)*2);padding:var(--ag-spacing) calc(var(--ag-spacing)*2);position:relative;.ag-advanced-filter-builder-value-number{font-family:monospace;font-weight:700}.ag-advanced-filter-builder-value-empty{color:var(--ag-subtle-text-color)}}.ag-ltr .ag-advanced-filter-builder-pill{.ag-picker-field-display{margin-right:var(--ag-spacing)}}.ag-rtl .ag-advanced-filter-builder-pill{.ag-picker-field-display{margin-left:var(--ag-spacing)}}.ag-advanced-filter-builder-item-button,.ag-advanced-filter-builder-pill{&:focus-visible{shadow:var(--ag-focus-shadow)}}.ag-advanced-filter-builder-pill-display{font-weight:500;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-advanced-filter-builder-join-pill{background-color:var(--ag-advanced-filter-builder-join-pill-color);cursor:pointer}.ag-advanced-filter-builder-column-pill{background-color:var(--ag-advanced-filter-builder-column-pill-color);cursor:pointer}.ag-advanced-filter-builder-option-pill{background-color:var(--ag-advanced-filter-builder-option-pill-color);cursor:pointer}.ag-advanced-filter-builder-value-pill{background-color:var(--ag-advanced-filter-builder-value-pill-color);cursor:text;max-width:140px;.ag-advanced-filter-builder-pill-display{display:block}}.ag-advanced-filter-builder-item-buttons>*{margin:0 calc(var(--ag-spacing)*.5)}.ag-advanced-filter-builder-item-button{color:var(--ag-subtle-text-color);cursor:pointer;position:relative}.ag-advanced-filter-builder-item-button-disabled{cursor:default;opacity:.5}.ag-advanced-filter-builder-virtual-list-container{top:var(--ag-spacing)}.ag-advanced-filter-builder-virtual-list-item{cursor:default;display:flex;height:var(--ag-list-item-height);&:hover{background-color:var(--ag-row-hover-color);.ag-advanced-filter-builder-item-button{opacity:100%}}}.ag-advanced-filter-builder-validation .ag-advanced-filter-builder-invalid,.ag-advanced-filter-builder-virtual-list-item-highlight .ag-advanced-filter-builder-item-button:focus-visible{opacity:100%}.ag-advanced-filter-builder-invalid{color:var(--ag-invalid-color);cursor:default;margin:0 var(--ag-spacing)}.ag-cell-inline-editing{border-radius:var(--ag-border-radius);padding:0;z-index:1;.ag-cell-edit-wrapper,.ag-cell-editor,.ag-cell-editor .ag-wrapper,.ag-cell-editor input,.ag-cell-wrapper{height:100%;line-height:normal;width:100%}}.ag-autocomplete-list-popup,.ag-popup-editor .ag-large-text{background-color:var(--ag-background-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);padding:0}.ag-large-text-input{height:auto;padding:var(--ag-cell-horizontal-padding)}.ag-rtl .ag-large-text-input textarea{resize:none}.ag-checkbox-edit{padding-left:var(--ag-cell-horizontal-padding);padding-right:var(--ag-cell-horizontal-padding)}.ag-chart{display:flex;height:100%;position:relative;width:100%}.ag-chart-components-wrapper{display:flex}.ag-chart-canvas-wrapper,.ag-chart-components-wrapper{flex:1 1 auto;position:relative}.ag-chart-menu{display:flex;flex-direction:column;position:absolute;top:16px}.ag-ltr .ag-chart-menu{right:20px}.ag-rtl .ag-chart-menu{left:20px}.ag-chart-docked-container{min-width:var(--ag-chart-menu-panel-width);position:relative}.ag-chart-menu-hidden~.ag-chart-docked-container{display:none}.ag-chart-tabbed-menu{display:flex;flex-direction:column;height:100%;overflow:hidden;width:100%}.ag-chart-tabbed-menu-header{cursor:default;flex:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-chart-tabbed-menu-body{align-items:stretch;display:flex;flex:1 1 auto;overflow:hidden}.ag-chart-tab{overflow:hidden;overflow-y:auto;width:100%}.ag-chart-settings{overflow-x:hidden}.ag-chart-settings-wrapper{display:flex;flex-direction:column;height:100%;overflow:hidden;position:relative;width:100%}.ag-chart-settings-nav-bar{align-items:center;display:flex;height:30px;padding:0 10px;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:100%}.ag-chart-settings-card-selector{align-items:center;display:flex;flex:1 1 auto;height:100%;justify-content:space-around;padding:0 10px}.ag-chart-settings-card-item{background-color:var(--ag-foreground-color);border-radius:4px;cursor:pointer;height:10px;height:8px;position:relative;width:10px;width:8px;&.ag-not-selected{opacity:.2}&:before{background-color:transparent;content:" ";display:block;height:20px;left:50%;margin-left:-10px;margin-top:-10px;position:absolute;top:50%;width:20px}&.ag-selected{background-color:var(--ag-accent-color)}}.ag-chart-settings-next,.ag-chart-settings-prev{flex:none;position:relative;&:focus-within{border-radius:1px;box-shadow:var(--ag-focus-shadow)}}.ag-chart-settings-next-button,.ag-chart-settings-prev-button{cursor:pointer;height:100%;left:0;opacity:0;position:absolute;top:0;width:100%}.ag-chart-settings-mini-charts-container{flex:1 1 auto;overflow-x:hidden;overflow-y:auto;position:relative}.ag-chart-settings-mini-wrapper{display:flex;flex-direction:column;left:0;min-height:100%;overflow:hidden;position:absolute;top:0;width:100%;&.ag-animating{transition:left .3s;transition-timing-function:ease-in-out}}.ag-chart-mini-thumbnail{cursor:pointer}.ag-chart-mini-thumbnail-canvas{display:block}.ag-chart-advanced-settings-wrapper,.ag-chart-data-wrapper,.ag-chart-format-wrapper{display:flex;flex-direction:column;padding-bottom:16px;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-chart-advanced-settings-wrapper,.ag-chart-data-wrapper{height:100%;overflow-y:auto}.ag-chart-advanced-settings{background-color:var(--ag-chrome-background-color)}.ag-chart-advanced-settings,.ag-chart-advanced-settings-wrapper{width:100%}.ag-chart-advanced-settings-wrapper{padding-bottom:0}.ag-chart-advanced-settings-section,.ag-chart-data-section,.ag-chart-format-section{display:flex;margin:0}.ag-chart-advanced-settings-section{border-bottom:1px solid var(--ag-border-color)}.ag-chart-empty-text{align-items:center;background-color:var(--ag-background-color);display:flex;height:100%;justify-content:center;top:0;width:100%}.ag-chart .ag-chart-menu{display:none}.ag-chart-menu-hidden:hover .ag-chart-menu{display:block}.ag-chart{.ag-chart-menu-wrapper{.ag-chart-menu{display:flex;flex-direction:row;gap:20px;top:8px;width:auto}}}.ag-ltr .ag-chart{.ag-chart-menu-wrapper{.ag-chart-menu{justify-content:right;right:calc(var(--ag-cell-horizontal-padding) + var(--ag-spacing) - 4px)}}}.ag-rtl .ag-chart{.ag-chart-menu-wrapper{.ag-chart-menu{justify-content:left;left:calc(var(--ag-cell-horizontal-padding) + var(--ag-spacing) - 4px)}}}.ag-charts-font-size-color{align-self:stretch;display:flex;justify-content:space-between}.ag-charts-data-group-item{position:relative}.ag-charts-data-group-item:not(:last-child){margin-bottom:var(--ag-spacing)}.ag-chart-menu{background:var(--ag-background-color);border-radius:var(--ag-border-radius)}.ag-chart-menu-icon{border-radius:var(--ag-border-radius);cursor:pointer;margin:2px 0;opacity:.5;opacity:.8;&:hover{opacity:1}}.ag-chart-menu-toolbar-button{background-color:unset;border:0;border-radius:1px;padding:0 2px}.ag-chart-mini-thumbnail{border:1px solid var(--ag-border-color);border-radius:5px;&.ag-selected{border-color:var(--ag-accent-color);border-width:2px}&:focus-visible{border-color:var(--ag-accent-color);box-shadow:var(--ag-focus-shadow)}}.ag-chart-data-column-drag-handle{margin-left:var(--ag-spacing)}.ag-charts-data-group-title-bar,.ag-charts-format-top-level-group-title-bar,.ag-charts-settings-group-title-bar{position:relative}.ag-charts-advanced-settings-top-level-group-title-bar{background-color:unset;position:relative}.ag-charts-advanced-settings-top-level-group-title-bar:focus-visible,.ag-charts-data-group-title-bar:focus-visible,.ag-charts-format-top-level-group-title-bar:focus-visible,.ag-charts-settings-group-title-bar:focus-visible{box-shadow:inset var(--ag-focus-shadow)}.ag-charts-data-group-container{padding:calc(var(--ag-widget-container-vertical-padding)*.5) var(--ag-widget-container-horizontal-padding);.ag-charts-data-group-item:not(.ag-charts-format-sub-level-group):not(.ag-pill-select):not(.ag-select){height:var(--ag-list-item-height)}.ag-charts-data-group-item.ag-picker-field{margin-top:var(--ag-spacing)}}.ag-charts-advanced-settings-top-level-group-container,.ag-charts-format-top-level-group-container{margin-left:calc(var(--ag-spacing)*2);padding:var(--ag-spacing)}.ag-charts-advanced-settings-top-level-group-item,.ag-charts-format-top-level-group-item{margin:var(--ag-spacing) 0}.ag-charts-format-sub-level-group-container{display:flex;flex-direction:column;gap:var(--ag-widget-vertical-spacing);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}.ag-charts-settings-group-container{display:grid;grid-template-columns:60px 1fr 60px 1fr 60px;padding:var(--ag-spacing);row-gap:8px;.ag-chart-mini-thumbnail:nth-child(3n+1){grid-column:1}.ag-chart-mini-thumbnail:nth-child(3n+2){grid-column:3}.ag-chart-mini-thumbnail:nth-child(3n+3){grid-column:5}}.ag-chart-data-section,.ag-chart-format-section{display:flex;margin:0}.ag-chart-menu-panel{background-color:var(--ag-chrome-background-color)}.ag-ltr .ag-chart-menu-panel{border-left:1px solid var(--ag-border-color)}.ag-rtl .ag-chart-menu-panel{border-right:1px solid var(--ag-border-color)}.ag-chart-tabbed-menu-body{position:relative;&:after{background:linear-gradient(var(--ag-background-color),transparent);content:"";display:block;height:16px;left:0;position:absolute;right:0;top:0}}.ag-charts-data-group-title-bar,.ag-charts-format-top-level-group-title-bar,.ag-charts-settings-group-container,.ag-charts-settings-group-title-bar{border-top:none;font-weight:500;padding:0 calc(var(--ag-spacing)*1.5)}.ag-chart-settings-nav-bar{border-top:1px solid var(--ag-border-color)}.ag-charts-format-sub-level-group-title-bar{background:none;font-weight:500}.ag-chart-data-section,.ag-chart-format-section{.ag-label:not(.ag-group-title-bar){color:var(--ag-chart-menu-label-color)}.ag-label-align-top .ag-label{margin-bottom:var(--ag-widget-vertical-spacing);margin-top:calc(var(--ag-widget-vertical-spacing)*.5)}.ag-slider.ag-label-align-top .ag-label{margin-bottom:0}& label{display:inline-block}}.ag-chart-data-wrapper,.ag-chart-format-wrapper,.ag-charts-data-group-container,.ag-charts-data-group-title-bar,.ag-charts-format-sub-level-group,.ag-charts-format-sub-level-group-container,.ag-charts-format-sub-level-group-container>*,.ag-charts-format-sub-level-group-item:last-child,.ag-charts-format-sub-level-group-title-bar,.ag-charts-format-top-level-group,.ag-charts-format-top-level-group .ag-charts-format-top-level-group-container,.ag-charts-format-top-level-group-item,.ag-charts-format-top-level-group-title-bar,.ag-charts-settings-group-container,.ag-charts-settings-group-title-bar{margin:0;padding:0}.ag-charts-data-group,.ag-charts-format-top-level-group{border-top:1px solid var(--ag-border-color)}.ag-charts-data-group-title-bar,.ag-charts-format-top-level-group-title-bar,.ag-charts-settings-group-title-bar{padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}.ag-charts-data-group .ag-charts-data-group-container,.ag-charts-format-top-level-group .ag-charts-format-top-level-group-container,.ag-charts-settings-group .ag-charts-settings-group-container{padding:0 var(--ag-widget-container-horizontal-padding)}.ag-charts-format-sub-level-group-title-bar{padding:var(--ag-widget-vertical-spacing) 0}.ag-charts-format-sub-level-group-container{padding-bottom:var(--ag-widget-container-vertical-padding);padding-top:var(--ag-widget-vertical-spacing)}.ag-charts-format-sub-level-group-container>*,.ag-charts-format-sub-level-no-header-group-container>*,.ag-charts-format-top-level-group-container>*{margin-bottom:var(--ag-widget-vertical-spacing)}.ag-chart-advanced-settings-section,.ag-chart-settings-mini-wrapper,.ag-charts-data-group-item{padding-bottom:var(--ag-widget-container-vertical-padding)}.ag-chart-advanced-settings-section{padding-top:var(--ag-widget-container-vertical-padding)}.ag-charts-advanced-settings-top-level-group{.ag-charts-advanced-settings-top-level-group-container,.ag-charts-advanced-settings-top-level-group-title-bar{padding:0 var(--ag-widget-container-horizontal-padding)}}.ag-charts-advanced-settings-top-level-group-container{margin:0}.ag-charts-advanced-settings-top-level-group-item{margin-bottom:0;margin-top:calc(var(--ag-widget-vertical-spacing)*2)}.ag-chart-menu{--ag-icon-size:20px;background-color:color-mix(in srgb,transparent,var(--ag-background-color) 30%);padding:4px 2px}.ag-chart-settings-card-item.ag-not-selected:hover{opacity:.35}.ag-column-drop{align-items:center;display:inline-flex;overflow:auto;position:relative;width:100%}.ag-column-drop-cell,.ag-column-drop-list{align-items:center;display:flex}.ag-column-drop-cell{gap:var(--ag-spacing);position:relative}.ag-column-drop-cell-text{flex:1 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-column-drop-vertical{align-items:stretch;display:flex;flex-direction:column;overflow:hidden}.ag-column-drop-vertical-title-bar{align-items:center;display:flex;flex:none}.ag-column-drop-vertical-list{align-items:stretch;flex-direction:column;flex-grow:1;overflow-x:auto;position:relative;>*{flex:none}}.ag-column-drop-empty .ag-column-drop-vertical-list{overflow:hidden}.ag-column-drop-vertical-empty-message{display:block}.ag-column-drop.ag-column-drop-horizontal{overflow:hidden;white-space:nowrap}.ag-column-drop-cell-button{cursor:pointer}.ag-column-drop-wrapper{display:flex}.ag-column-drop-horizontal-half-width{width:50%!important}.ag-column-drop-cell{background:var(--ag-column-drop-cell-background-color);border:var(--ag-column-drop-cell-border);border-radius:500px;padding:calc(var(--ag-spacing)*.5);&:focus-visible{box-shadow:var(--ag-focus-shadow)}}.ag-ltr .ag-column-drop-cell{padding-left:calc(var(--ag-spacing)*.75)}.ag-rtl .ag-column-drop-cell{padding-right:calc(var(--ag-spacing)*.75)}.ag-column-drop-cell-button{min-width:calc(var(--ag-spacing)*4)}.ag-column-drop-cell-ghost{opacity:.5}.ag-column-drop-horizontal{gap:var(--ag-cell-widget-spacing);height:var(--ag-header-height)}.ag-ltr .ag-column-drop-horizontal{padding-left:var(--ag-cell-horizontal-padding)}.ag-rtl .ag-column-drop-horizontal{padding-right:var(--ag-cell-horizontal-padding)}.ag-column-drop-horizontal-list{gap:var(--ag-cell-widget-spacing)}.ag-column-drop-vertical-list{padding-bottom:var(--ag-spacing);padding-left:var(--ag-spacing);padding-right:var(--ag-spacing)}.ag-column-drop-vertical-cell{margin-top:var(--ag-spacing)}.ag-ltr .ag-column-drop-vertical-icon{margin-right:var(--ag-widget-horizontal-spacing)}.ag-rtl .ag-column-drop-vertical-icon{margin-left:var(--ag-widget-horizontal-spacing)}.ag-column-drop-vertical-empty-message{bottom:0;left:0;margin-top:var(--ag-spacing);overflow:hidden;position:absolute;right:0;top:0}.ag-select-agg-func-popup{background:var(--ag-background-color);border:1px solid var(--ag-border-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);height:calc(var(--ag-spacing)*5*3.5);padding:0;position:absolute}.ag-select-agg-func-virtual-list-item{cursor:default;&:hover{background-color:var(--ag-selected-row-background-color)}&:focus-visible{shadow:var(--ag-focus-shadow)}}.ag-ltr .ag-select-agg-func-virtual-list-item{padding-left:calc(var(--ag-spacing)*2)}.ag-rtl .ag-select-agg-func-virtual-list-item{padding-right:calc(var(--ag-spacing)*2)}.ag-sort-indicator-container{display:contents}.ag-ltr .ag-sort-indicator-icon{padding-left:var(--ag-spacing)}.ag-rtl .ag-sort-indicator-icon{padding-right:var(--ag-spacing)}.ag-column-drop-horizontal{background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border)}.ag-ltr .ag-column-drop-horizontal-half-width:not(:last-child){border-right:var(--ag-column-border)}.ag-rtl .ag-column-drop-horizontal-half-width:not(:last-child){border-left:var(--ag-column-border)}.ag-column-drop-cell-button{min-width:0;opacity:.75;&:hover{opacity:1}}.ag-column-drop-vertical{min-height:75px}.ag-column-drop-vertical-title-bar{padding:var(--ag-widget-container-vertical-padding) calc(var(--ag-spacing)*2) 0}.ag-column-drop-vertical-empty-message{align-items:center;border:1px dashed;border-color:var(--ag-border-color);display:flex;justify-content:center;margin:calc(var(--ag-spacing)*1.5) calc(var(--ag-spacing)*2);padding:calc(var(--ag-spacing)*2)}.ag-column-select{display:flex;flex:3 1 0px;flex-direction:column;overflow:hidden;position:relative}.ag-column-select-header{flex:none;height:var(--ag-header-height);padding-left:var(--ag-widget-container-horizontal-padding);padding-right:var(--ag-widget-container-horizontal-padding)}.ag-column-select-column,.ag-column-select-column-group,.ag-column-select-header{align-items:center;display:flex;gap:var(--ag-widget-horizontal-spacing);position:relative}.ag-column-select-column,.ag-column-select-column-group{height:100%}.ag-column-select-virtual-list-item:focus-visible{box-shadow:inset var(--ag-focus-shadow)}.ag-column-select-header-icon{border-radius:var(--ag-border-radius);cursor:pointer;height:var(--ag-icon-size);position:relative;width:var(--ag-icon-size);&:focus-visible{box-shadow:var(--ag-focus-shadow)}}.ag-column-select-header-filter-wrapper{flex:1 1 auto}.ag-column-select-header-filter{width:100%}.ag-column-select-list{flex:1 1 0px;overflow:hidden}.ag-ltr .ag-column-select-column,.ag-ltr .ag-column-select-column-group{padding-left:calc(var(--ag-indentation-level)*var(--ag-column-select-indent-size))}.ag-rtl .ag-column-select-column,.ag-rtl .ag-column-select-column-group{padding-right:calc(var(--ag-indentation-level)*var(--ag-column-select-indent-size))}.ag-ltr .ag-column-select-add-group-indent{margin-left:calc(var(--ag-icon-size) + var(--ag-spacing)*1.5)}.ag-rtl .ag-column-select-add-group-indent{margin-right:calc(var(--ag-icon-size) + var(--ag-spacing)*1.5)}.ag-column-select-column,.ag-column-select-column-group{&:not(:last-child){margin-bottom:var(--ag-widget-vertical-spacing)}}.ag-column-select-column-group-readonly,.ag-column-select-column-readonly{opacity:.5;pointer-events:none}.ag-column-select-virtual-list-viewport{padding:calc(var(--ag-widget-container-vertical-padding)*.5) 0}.ag-column-select-virtual-list-item{padding:0 var(--ag-widget-container-horizontal-padding)}.ag-column-select-column-label{flex:1 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-column-select-checkbox{display:flex}.ag-set-filter{--ag-indentation-level:0}.ag-set-filter-item{align-items:center;display:flex;height:100%}.ag-set-filter-item-checkbox{display:flex;height:100%;width:100%}.ag-set-filter-group-icons{display:block;>*{cursor:pointer}}.ag-filter-body-wrapper{display:flex;flex-direction:column}.ag-filter-filter{flex:1 1 0px}.ag-filter-condition{display:flex;justify-content:center}.ag-floating-filter-body{display:flex;flex:1 1 auto;height:100%;position:relative}.ag-floating-filter-full-body{align-items:center;display:flex;flex:1 1 auto;height:100%;overflow:hidden;width:100%}.ag-floating-filter-full-body>div{flex:1 1 auto}.ag-floating-filter-input{align-items:center;display:flex;width:100%;>*{flex:1 1 auto}}.ag-floating-filter-button{display:flex;flex:none}.ag-set-floating-filter-input input[disabled]{pointer-events:none}.ag-floating-filter-button-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:transparent;border:none;height:var(--ag-icon-size);width:var(--ag-icon-size)}.ag-filter-loading{height:100%;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;width:100%;z-index:1}.ag-column-panel{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.ag-pivot-mode-panel{display:flex;height:var(--ag-header-height)}.ag-pivot-mode-select{align-items:center;display:flex}.ag-ltr .ag-pivot-mode-select{margin-left:var(--ag-widget-container-horizontal-padding)}.ag-rtl .ag-pivot-mode-select{margin-right:var(--ag-widget-container-horizontal-padding)}.ag-column-panel-column-select{border-bottom:var(--ag-tool-panel-separator-border);border-top:var(--ag-tool-panel-separator-border)}:where(.ag-column-panel) .ag-column-drop-vertical{flex:1 1 0px;min-height:50px;&:where(:not(.ag-last-column-drop)){border-bottom:var(--ag-tool-panel-separator-border)}}.ag-dnd-ghost{align-items:center;background-color:var(--ag-drag-and-drop-image-background-color);border:var(--ag-drag-and-drop-image-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-drag-and-drop-image-shadow);color:var(--ag-text-color);cursor:move;font-weight:500;gap:var(--ag-cell-widget-spacing);height:var(--ag-header-height);max-width:200px;padding-left:var(--ag-cell-horizontal-padding);padding-right:var(--ag-cell-horizontal-padding);text-overflow:ellipsis;transform:translateY(calc(var(--ag-spacing)*2))}.ag-dnd-ghost,.ag-header{display:flex;overflow:hidden;white-space:nowrap}.ag-header{background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border);color:var(--ag-header-text-color);font-family:var(--ag-header-font-family);font-size:var(--ag-header-font-size);font-weight:var(--ag-header-font-weight);width:100%}.ag-header-row{height:var(--ag-header-height);position:absolute}.ag-header-row:not(:first-child){.ag-header-cell:not(.ag-header-span-height.ag-header-span-total),.ag-header-group-cell.ag-header-group-cell-with-group{border-top:var(--ag-header-row-border)}}.ag-header-row:not(.ag-header-row-column-group){overflow:hidden}.ag-header.ag-header-allow-overflow .ag-header-row{overflow:visible}.ag-header-cell,.ag-header-group-cell{align-items:center;display:inline-flex;gap:var(--ag-cell-widget-spacing);height:100%;overflow:hidden;padding:0 var(--ag-cell-horizontal-padding);position:absolute}@property --ag-internal-moving-color{syntax:"<color>";inherits:false;initial-value:transparent}@property --ag-internal-hover-color{syntax:"<color>";inherits:false;initial-value:transparent}.ag-header-cell:not(.ag-floating-filter),.ag-header-group-cell{&:before{background-image:linear-gradient(var(--ag-internal-hover-color),var(--ag-internal-hover-color)),linear-gradient(var(--ag-internal-moving-color),var(--ag-internal-moving-color));content:"";inset:0;position:absolute;--ag-internal-moving-color:transparent;--ag-internal-hover-color:transparent;transition:--ag-internal-moving-color var(--ag-header-cell-background-transition-duration),--ag-internal-hover-color var(--ag-header-cell-background-transition-duration)}&:hover:before{--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}&.ag-header-cell-moving:before{--ag-internal-moving-color:var(--ag-header-cell-moving-background-color);--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}}:where(.ag-header-cell:not(.ag-floating-filter) *,.ag-header-group-cell *){position:relative;z-index:1}.ag-header-cell-filter-button,.ag-header-cell.ag-header-active .ag-header-cell-menu-button{opacity:1}.ag-header-cell-menu-button:not(.ag-header-menu-always-show){opacity:0;transition:opacity .2s}.ag-header-cell-label,.ag-header-group-cell-label{align-items:center;align-self:stretch;display:flex;flex:1 1 auto;gap:var(--ag-spacing);padding:5px 0}.ag-header-cell-label{overflow:hidden;text-overflow:ellipsis}.ag-header-group-cell-label.ag-sticky-label{flex:none;max-width:100%;position:sticky}.ag-ltr .ag-header-group-cell-label.ag-sticky-label{left:var(--ag-cell-horizontal-padding)}.ag-rtl .ag-header-group-cell-label.ag-sticky-label{right:var(--ag-cell-horizontal-padding)}.ag-header-cell-text,.ag-header-group-text{overflow:hidden;text-overflow:ellipsis}.ag-header-cell-text{word-break:break-word}.ag-header-group-cell .ag-header-cell-comp-wrapper{display:flex}.ag-header-cell:not(.ag-header-cell-auto-height) .ag-header-cell-comp-wrapper{align-items:center;display:flex;height:100%}.ag-header-cell-comp-wrapper{width:100%}.ag-header-cell-wrap-text .ag-header-cell-comp-wrapper{white-space:normal}.ag-right-aligned-header .ag-header-cell-label{flex-direction:row-reverse}.ag-floating-filter-button-button,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-cell-sortable .ag-header-cell-label,.ag-header-expand-icon,.ag-panel-title-bar-button{cursor:pointer}.ag-advanced-filter-header-cell,.ag-header-cell,.ag-header-group-cell{&:focus-visible{box-shadow:inset var(--ag-focus-shadow)}}.ag-ltr :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}.ag-rtl :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}.ag-ltr :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}.ag-rtl :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}.ag-header-cell:after,.ag-header-group-cell:not(.ag-header-span-height.ag-header-group-cell-no-group):after{content:"";height:var(--ag-header-column-border-height);position:absolute;top:calc(50% - var(--ag-header-column-border-height)*.5);z-index:1}.ag-ltr .ag-header-cell:after,.ag-ltr .ag-header-group-cell:not(.ag-header-span-height.ag-header-group-cell-no-group):after{border-right:var(--ag-header-column-border);right:0}.ag-rtl .ag-header-cell:after,.ag-rtl .ag-header-group-cell:not(.ag-header-span-height.ag-header-group-cell-no-group):after{border-left:var(--ag-header-column-border);left:0}.ag-header-highlight-after:after,.ag-header-highlight-before:after{background-color:var(--ag-accent-color);content:"";height:100%;position:absolute;width:1px}.ag-ltr .ag-header-highlight-before:after{left:0}.ag-ltr .ag-header-highlight-after:after,.ag-rtl .ag-header-highlight-before:after{right:0}.ag-rtl .ag-header-highlight-after:after{left:0}.ag-ltr .ag-pinned-left-header .ag-header-highlight-after:after{right:1px}.ag-rtl .ag-pinned-left-header .ag-header-highlight-after:after{left:1px}.ag-header-cell-resize{align-items:center;cursor:ew-resize;display:flex;height:100%;position:absolute;top:0;width:8px;z-index:2;&:after{background-color:var(--ag-header-column-resize-handle-color);content:"";height:var(--ag-header-column-resize-handle-height);position:absolute;top:calc(50% - var(--ag-header-column-resize-handle-height)*.5);width:var(--ag-header-column-resize-handle-width);z-index:1}}.ag-ltr .ag-header-cell-resize{right:-3px;&:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}}.ag-rtl .ag-header-cell-resize{left:-3px;&:after{right:calc(50% - var(--ag-header-column-resize-handle-width))}}.ag-header-cell.ag-header-span-height .ag-header-cell-resize:after{height:calc(100% - var(--ag-spacing)*4);top:calc(var(--ag-spacing)*2)}.ag-header-group-cell-no-group.ag-header-span-height .ag-header-cell-resize{display:none}.ag-menu{background-color:var(--ag-menu-background-color);border:var(--ag-menu-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-menu-shadow);color:var(--ag-menu-text-color);max-height:100%;min-width:180px;overflow-y:auto;position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-menu-list{cursor:default;display:table;padding:var(--ag-spacing) 0;width:100%}.ag-menu-option,.ag-menu-separator{display:table-row}.ag-menu-option-part,.ag-menu-separator-part{display:table-cell;vertical-align:middle}.ag-menu-option-text{white-space:nowrap}.ag-menu-option-custom{display:contents}.ag-compact-menu-option{display:flex;flex-wrap:nowrap;width:100%}.ag-compact-menu-option-text{flex:1 1 auto;white-space:nowrap}.ag-menu-separator{height:calc(var(--ag-spacing)*2 + 1px)}.ag-menu-separator-part:after{border-top:1px solid var(--ag-menu-separator-color);content:"";display:block}.ag-compact-menu-option-active,.ag-menu-option-active{background-color:var(--ag-row-hover-color)}.ag-compact-menu-option-part,.ag-menu-option-part{line-height:var(--ag-icon-size);padding:calc(var(--ag-spacing) + 2px) 0}.ag-compact-menu-option-disabled,.ag-menu-option-disabled{cursor:not-allowed;opacity:.5}.ag-compact-menu-option-icon,.ag-menu-option-icon{width:var(--ag-icon-size)}.ag-ltr .ag-compact-menu-option-icon,.ag-ltr .ag-menu-option-icon{padding-left:calc(var(--ag-spacing)*2)}.ag-rtl .ag-compact-menu-option-icon,.ag-rtl .ag-menu-option-icon{padding-right:calc(var(--ag-spacing)*2)}.ag-compact-menu-option-text,.ag-menu-option-text{padding-left:calc(var(--ag-spacing)*2);padding-right:calc(var(--ag-spacing)*2)}.ag-ltr .ag-compact-menu-option-shortcut,.ag-ltr .ag-menu-option-shortcut{padding-right:var(--ag-spacing)}.ag-rtl .ag-compact-menu-option-shortcut,.ag-rtl .ag-menu-option-shortcut{padding-left:var(--ag-spacing)}.ag-ltr .ag-compact-menu-option-popup-pointer,.ag-ltr .ag-menu-option-popup-pointer{padding-right:var(--ag-spacing)}.ag-rtl .ag-compact-menu-option-popup-pointer,.ag-rtl .ag-menu-option-popup-pointer{padding-left:var(--ag-spacing)}.ag-menu-column-select-wrapper{height:265px;overflow:auto;.ag-column-select{height:100%}}.ag-menu.ag-tabs{min-width:290px}.ag-filter-separator{border-top:1px solid var(--menu-separator-color)}.ag-filter-select .ag-picker-field-wrapper{width:0}.ag-filter-condition-operator{height:17px}.ag-ltr .ag-filter-condition-operator-or{margin-left:calc(var(--ag-spacing)*2)}.ag-rtl .ag-filter-condition-operator-or{margin-right:calc(var(--ag-spacing)*2)}.ag-set-filter-select-all{padding-top:var(--ag-widget-container-vertical-padding)}.ag-filter-no-matches,.ag-set-filter-list{height:calc(var(--ag-list-item-height)*6)}.ag-filter-no-matches{padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}.ag-set-filter-tree-list{height:calc(var(--ag-list-item-height)*10)}.ag-set-filter-filter{margin-left:var(--ag-widget-container-horizontal-padding);margin-right:var(--ag-widget-container-horizontal-padding);margin-top:var(--ag-widget-container-vertical-padding)}.ag-filter-to{margin-top:var(--ag-widget-vertical-spacing)}.ag-mini-filter{margin:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}.ag-ltr .ag-set-filter-item{padding-left:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}.ag-rtl .ag-set-filter-item{padding-right:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}.ag-ltr .ag-set-filter-add-group-indent{margin-left:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}.ag-rtl .ag-set-filter-add-group-indent{margin-right:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}.ag-ltr .ag-set-filter-group-icons{margin-right:var(--ag-widget-container-horizontal-padding)}.ag-rtl .ag-set-filter-group-icons{margin-left:var(--ag-widget-container-horizontal-padding)}.ag-filter-menu .ag-set-filter-list{min-width:200px}.ag-filter-virtual-list-item:focus-visible{box-shadow:inset var(--ag-focus-shadow)}.ag-filter-apply-panel{display:flex;justify-content:flex-end;overflow:hidden;padding:var(--ag-widget-vertical-spacing) var(--ag-widget-container-horizontal-padding) var(--ag-widget-container-vertical-padding)}.ag-filter-apply-panel-button{line-height:1.5}.ag-ltr .ag-filter-apply-panel-button{margin-left:calc(var(--ag-spacing)*2)}.ag-rtl .ag-filter-apply-panel-button{margin-right:calc(var(--ag-spacing)*2)}.ag-simple-filter-body-wrapper{display:flex;flex-direction:column;min-height:calc(var(--ag-list-item-height) + var(--ag-widget-container-vertical-padding) + var(--ag-widget-vertical-spacing));overflow-y:auto;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);padding-bottom:calc(var(--ag-widget-container-vertical-padding) - var(--ag-widget-vertical-spacing));&>*{margin-bottom:var(--ag-widget-vertical-spacing)}.ag-resizer-wrapper{margin:0}}.ag-multi-filter-menu-item{margin:var(--ag-spacing) 0}.ag-multi-filter-group-title-bar{background-color:transparent;color:var(--ag-header-text-color);font-weight:500;padding:calc(var(--ag-spacing)*1.5) var(--ag-spacing);&:focus-visible{box-shadow:var(--ag-focus-shadow)}}.ag-group-filter-field-select-wrapper{display:flex;flex-direction:column;gap:var(--ag-widget-vertical-spacing);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}.ag-menu-option{cursor:pointer;font-weight:500}.ag-ltr .ag-menu-option-popup-pointer .ag-icon{text-align:right}.ag-rtl .ag-menu-option-popup-pointer .ag-icon{text-align:left}.ag-panel{background-color:var(--ag-panel-background-color);display:flex;flex-direction:column;overflow:hidden;position:relative}.ag-dialog{border:var(--ag-dialog-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dialog-shadow);position:absolute}.ag-panel-title-bar{align-items:center;background-color:var(--ag-panel-title-bar-background-color);border-bottom:var(--ag-panel-title-bar-border);color:var(--ag-header-text-color);cursor:default;display:flex;flex:none;height:var(--ag-header-height);padding:var(--ag-spacing) var(--ag-cell-horizontal-padding)}.ag-ltr .ag-panel-title-bar-button{margin-left:calc(var(--ag-spacing)*2);margin-right:var(--ag-spacing)}.ag-rtl .ag-panel-title-bar-button{margin-left:var(--ag-spacing);margin-right:calc(var(--ag-spacing)*2)}.ag-panel-title-bar-title{color:var(--ag-header-text-color);flex:1 1 auto;font-weight:500}.ag-panel-title-bar-buttons{display:flex}.ag-panel-title-bar-button{cursor:pointer}.ag-panel-content-wrapper{display:flex;flex:1 1 auto;overflow:hidden;position:relative}.ag-resizer{pointer-events:none;position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none;z-index:1;&.ag-resizer-topLeft{height:5px;left:0;top:0;width:5px}&.ag-resizer-top{cursor:ns-resize;height:5px;left:5px;right:5px;top:0}&.ag-resizer-topRight{height:5px;right:0;top:0;width:5px}&.ag-resizer-right{bottom:5px;cursor:ew-resize;right:0;top:5px;width:5px}&.ag-resizer-bottomRight{bottom:0;height:5px;right:0;width:5px}&.ag-resizer-bottom{bottom:0;cursor:ns-resize;height:5px;left:5px;right:5px}&.ag-resizer-bottomLeft{bottom:0;height:5px;left:0;width:5px}&.ag-resizer-left{bottom:5px;cursor:ew-resize;left:0;top:5px;width:5px}}.ag-ltr .ag-resizer{&.ag-resizer-topLeft{cursor:nwse-resize}&.ag-resizer-topRight{cursor:nesw-resize}&.ag-resizer-bottomRight{cursor:nwse-resize}&.ag-resizer-bottomLeft{cursor:nesw-resize}}.ag-rtl .ag-resizer{&.ag-resizer-topLeft{cursor:nesw-resize}&.ag-resizer-topRight{cursor:nwse-resize}&.ag-resizer-bottomRight{cursor:nesw-resize}&.ag-resizer-bottomLeft{cursor:nwse-resize}}.ag-dragging-fill-handle .ag-dialog,.ag-dragging-range-handle .ag-dialog{opacity:.7;pointer-events:none}.ag-layout-print{&.ag-body{display:block;height:unset}&.ag-root-wrapper{display:inline-block}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:none}&.ag-force-vertical-scroll{overflow-y:visible!important}}@media print{.ag-root-wrapper.ag-layout-print{display:table;.ag-body-horizontal-scroll-viewport,.ag-body-viewport,.ag-center-cols-container,.ag-center-cols-viewport,.ag-root,.ag-root-wrapper-body,.ag-virtual-list-viewport{display:block!important;height:auto!important;overflow:hidden!important}.ag-cell,.ag-row{-moz-column-break-inside:avoid;break-inside:avoid}}}.ag-select{align-items:center;display:flex;flex-direction:row;.ag-picker-field-wrapper{cursor:default}&.ag-disabled .ag-picker-field-wrapper:focus{box-shadow:none}&:not(.ag-cell-editor,.ag-label-align-top){min-height:var(--ag-list-item-height)}.ag-picker-field-display{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-picker-field-icon{align-items:center;display:flex}&.ag-disabled{opacity:.5}}.ag-ltr .ag-select{.ag-picker-field-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding)/2);padding-right:var(--ag-spacing)}}.ag-rtl .ag-select{.ag-picker-field-wrapper{padding-left:var(--ag-spacing);padding-right:calc(var(--ag-cell-horizontal-padding)/2)}}.ag-rich-select{cursor:default;height:100%}.ag-rich-select-value{align-items:center;background-color:var(--ag-input-background-color);display:flex;height:100%;padding:var(--ag-spacing);.ag-picker-field-display{overflow:hidden;text-overflow:ellipsis;&.ag-display-as-placeholder{opacity:.5}}}.ag-rich-select-list{background-color:var(--ag-input-background-color);border:var(--ag-input-border);border-radius:var(--ag-input-border-radius);box-shadow:var(--ag-dropdown-shadow);height:auto;position:relative;width:100%;.ag-loading-text{padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}}.ag-rich-select-row{align-items:center;display:flex;flex:1 1 auto;height:100%;overflow:hidden;padding:0 var(--ag-spacing);white-space:nowrap}.ag-rich-select-row-selected{background-color:var(--ag-selected-row-background-color)}.ag-rich-select-row-highlighted,.ag-rich-select-row:hover{background-image:linear-gradient(var(--ag-row-hover-color),var(--ag-row-hover-color))}.ag-rich-select-row-text-highlight{font-weight:700}.ag-rich-select-field-input{flex:1 1 auto;.ag-input-field-input{border:none!important;box-shadow:none!important;padding:0!important;text-overflow:ellipsis;&::-moz-placeholder{opacity:.8}&::placeholder{opacity:.8}}}.ag-ltr .ag-rich-select-field-input{left:var(--ag-spacing)}.ag-rtl .ag-rich-select-field-input{right:var(--ag-spacing)}.ag-popup-editor .ag-rich-select-value{height:var(--ag-row-height);min-width:200px}.ag-rich-select-virtual-list-item{cursor:default;height:var(--ag-list-item-height)}.ag-pill-container{display:flex;flex-wrap:nowrap;gap:.25rem}.ag-pill{align-items:center;background:var(--ag-select-cell-background-color);border:var(--ag-select-cell-border);border-radius:var(--ag-border-radius);display:flex;padding:0 .25rem;white-space:nowrap;&:focus-visible{box-shadow:var(--ag-focus-shadow)}}.ag-pill .ag-pill-button{border:none;padding:0;&:hover{color:var(--ag-accent-color);cursor:pointer}}.ag-ltr .ag-pill .ag-pill-button{margin-left:var(--ag-spacing)}.ag-rtl .ag-pill .ag-pill-button{margin-right:var(--ag-spacing)}ag-grid,ag-grid-angular{display:block}.ag-dnd-ghost,.ag-popup,.ag-root-wrapper{cursor:default;line-height:normal;white-space:normal;-webkit-font-smoothing:antialiased;background-color:var(--ag-background-color);color:var(--ag-text-color);color-scheme:var(--ag-browser-color-scheme);font-family:var(--ag-font-family);font-size:var(--ag-font-size);--ag-indentation-level:0}.ag-root-wrapper{border:var(--ag-wrapper-border);border-radius:var(--ag-wrapper-border-radius);display:flex;flex-direction:column;overflow:hidden;position:relative;&.ag-layout-normal{height:100%}}.ag-root-wrapper-body{display:flex;flex-direction:row;&.ag-layout-normal{flex:1 1 auto;height:0;min-height:0}}.ag-root{display:flex;flex-direction:column;position:relative;&.ag-layout-auto-height,&.ag-layout-normal{flex:1 1 auto;overflow:hidden;width:0}&.ag-layout-normal{height:100%}}.ag-tool-panel-wrapper{cursor:default;display:flex;overflow-x:hidden;overflow-y:auto;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:var(--ag-side-bar-panel-width)}.ag-select-agg-func-item{align-items:center;display:flex;flex:1 1 auto;flex-direction:row;flex-wrap:nowrap;height:100%;overflow:hidden;position:relative;text-overflow:ellipsis;white-space:nowrap;>*{flex:none}}.ag-tool-panel-horizontal-resize{cursor:ew-resize;height:100%;position:absolute;top:0;width:5px;z-index:1}.ag-ltr .ag-side-bar-left .ag-tool-panel-horizontal-resize{right:-3px}.ag-ltr .ag-side-bar-right .ag-tool-panel-horizontal-resize,.ag-rtl .ag-side-bar-left .ag-tool-panel-horizontal-resize{left:-3px}.ag-rtl .ag-side-bar-right .ag-tool-panel-horizontal-resize{right:-3px}.ag-side-bar{background-color:var(--ag-side-bar-background-color);display:flex;flex-direction:row-reverse;position:relative}.ag-side-bar-left{flex-direction:row;order:-1}.ag-side-buttons{position:relative;width:calc(var(--ag-icon-size) + var(--ag-spacing)*2)}.ag-side-button{&.ag-selected{background-color:var(--ag-background-color);border-bottom:1px solid var(--ag-border-color);&:not(:first-of-type){border-top:1px solid var(--ag-border-color)}}}.ag-side-button-button{align-items:center;cursor:pointer;display:flex;flex-direction:column;gap:var(--ag-spacing);padding:calc(var(--ag-spacing)*3) 0;position:relative;white-space:nowrap;width:100%;&:focus{box-shadow:none}}.ag-side-button-button:focus-visible{box-shadow:inset var(--ag-focus-shadow)}.ag-side-button-label{writing-mode:vertical-lr}@media (max-resolution:1.5x){.ag-side-button-label{font-family:"Segoe UI",var(--ag-font-family)}.ag-ltr .ag-side-button-label{transform:rotate(.05deg)}.ag-rtl .ag-side-button-label{transform:rotate(-.05deg)}}.ag-ltr .ag-side-bar-left,.ag-rtl .ag-side-bar-right{border-right:var(--ag-side-panel-border);.ag-tool-panel-wrapper{border-left:var(--ag-side-panel-border)}}.ag-ltr .ag-side-bar-right,.ag-rtl .ag-side-bar-left{border-left:var(--ag-side-panel-border);.ag-tool-panel-wrapper{border-right:var(--ag-side-panel-border)}}.ag-ltr .ag-chart-menu-panel{border-left:var(--ag-side-panel-border)}.ag-rtl .ag-chart-menu-panel{border-right:var(--ag-side-panel-border)}.ag-button{border-radius:0}.ag-standard-button{-moz-appearance:none;appearance:none;-webkit-appearance:none;background-color:var(--ag-background-color);border:var(--ag-input-border);border-radius:var(--ag-border-radius);cursor:pointer;font-family:inherit;padding:var(--ag-spacing) calc(var(--ag-spacing)*2);&:hover{background-color:var(--ag-row-hover-color)}&:active{border-color:var(--ag-accent-color)}&:disabled{background-color:var(--ag-input-disabled-background-color);border:var(--ag-input-disabled-border);color:var(--ag-input-disabled-text-color)}}:where(input[class^=ag-][type=button],button[class^=ag-]):focus-visible{box-shadow:var(--ag-focus-shadow)}.ag-drag-handle{color:var(--ag-drag-handle-color);cursor:grab}.ag-list-item,.ag-virtual-list-item{height:var(--ag-list-item-height)}.ag-virtual-list-item{position:absolute;width:100%}.ag-select-list{background-color:var(--ag-background-color);border:var(--ag-input-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);overflow-x:hidden;overflow-y:auto}.ag-list-item{align-items:center;display:flex;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;&.ag-active-item{background-color:var(--ag-row-hover-color)}}.ag-select-list-item{cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none;& span{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}}.ag-ltr .ag-select-list-item{padding-left:calc(var(--ag-cell-horizontal-padding)/2)}.ag-rtl .ag-select-list-item{padding-right:calc(var(--ag-cell-horizontal-padding)/2)}.ag-list-item-hovered:after{background-color:var(--ag-accent-color);content:"";height:1px;left:0;position:absolute;right:0}.ag-item-highlight-top:after{top:0}.ag-item-highlight-bottom:after{bottom:0}.ag-range-field{align-items:center;display:flex;.ag-input-wrapper{height:100%}}& input[class^=ag-][type=range]{-webkit-appearance:none;background:none;height:100%;overflow:visible;padding:0;width:100%;&::-webkit-slider-runnable-track{background-color:var(--ag-border-color);border-radius:1.5px;height:3px;margin:0;padding:0;width:100%}&::-moz-range-track{background-color:var(--ag-border-color);border-radius:1.5px;height:3px;margin:0;padding:0;width:100%}&::-webkit-slider-thumb{-webkit-appearance:none;background-color:var(--ag-background-color);border:1px solid var(--ag-border-color);border-radius:100%;height:var(--ag-icon-size);margin:0;padding:0;transform:translateY(calc(var(--ag-icon-size)*-.5 + 1.5px));width:var(--ag-icon-size)}&::-moz-ag-range-thumb{-webkit-appearance:none;background-color:var(--ag-background-color);border:1px solid var(--ag-border-color);border-radius:100%;height:var(--ag-icon-size);margin:0;padding:0;transform:translateY(calc(var(--ag-icon-size)*-.5 + 1.5px));width:var(--ag-icon-size)}&:focus{&::-webkit-slider-thumb{border-color:var(--ag-accent-color);box-shadow:var(--ag-focus-shadow)}&::-moz-ag-range-thumb{border-color:var(--ag-accent-color);box-shadow:var(--ag-focus-shadow)}}&:active{&::-webkit-slider-runnable-track{background-color:var(--ag-accent-color)}&::-moz-ag-range-track{background-color:var(--ag-accent-color)}}&:disabled{opacity:.5}}.ag-toggle-button{flex:none;min-width:unset;width:unset}.ag-toggle-button-input-wrapper{background-color:var(--ag-toggle-button-off-background-color);border:solid var(--ag-toggle-button-border-width) var(--ag-toggle-button-off-border-color);border-radius:calc(var(--ag-toggle-button-height)*.5);flex:none;height:var(--ag-toggle-button-height);max-width:var(--ag-toggle-button-width);min-width:var(--ag-toggle-button-width);position:relative;& input{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:100%;opacity:0;width:100%}&:before{background-color:var(--ag-toggle-button-switch-background-color);border:var(--ag-toggle-button-border-width) solid var(--ag-toggle-button-switch-border-color);border-radius:100%;content:"";display:block;height:var(--ag-toggle-button-height);pointer-events:none;position:absolute;top:calc(0px - var(--ag-toggle-button-border-width));width:var(--ag-toggle-button-height)}&.ag-checked{background-color:var(--ag-toggle-button-on-background-color);border-color:var(--ag-toggle-button-on-border-color);&:before{border-color:var(--ag-toggle-button-on-border-color)}}&:focus-within{box-shadow:var(--ag-focus-shadow)}&.ag-disabled{opacity:.5}}.ag-ltr .ag-toggle-button-input-wrapper{&:before{left:calc(0px - var(--ag-toggle-button-border-width));transition:left .1s}&.ag-checked{&:before{left:calc(100% - var(--ag-toggle-button-height) + var(--ag-toggle-button-border-width))}}}.ag-rtl .ag-toggle-button-input-wrapper{&:before{right:calc(0px - var(--ag-toggle-button-border-width));transition:right .1s}&.ag-checked{&:before{right:calc(100% - var(--ag-toggle-button-height) + var(--ag-toggle-button-border-width))}}}.ag-autocomplete{align-items:center;display:flex;width:100%;>*{flex:1 1 auto}}.ag-autocomplete-list-popup{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-autocomplete-list{height:calc(var(--ag-row-height)*6.5);min-width:200px;position:relative;width:100%}.ag-autocomplete-virtual-list-item{cursor:default;display:flex;height:var(--ag-list-item-height);&:focus-visible:after{content:none}&:hover{background-color:var(--ag-row-hover-color)}}.ag-autocomplete-row{align-items:center;display:flex;flex:1 1 auto;overflow:hidden}.ag-autocomplete-row-label{margin:0 var(--ag-widget-container-horizontal-padding);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-autocomplete-row-selected{background-color:var(--ag-selected-row-background-color)}.ag-tooltip{background-color:var(--ag-tooltip-background-color);border:var(--ag-tooltip-border);border-radius:var(--ag-border-radius);color:var(--ag-tooltip-text-color);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);white-space:normal}.ag-tooltip,.ag-tooltip-custom{position:absolute;z-index:99999}.ag-tooltip-custom:not(.ag-tooltip-interactive),.ag-tooltip:not(.ag-tooltip-interactive){pointer-events:none}.ag-tooltip-custom.ag-tooltip-animate,.ag-tooltip.ag-tooltip-animate{transition:opacity 1s;&.ag-tooltip-hiding{opacity:0}}.ag-angle-select{align-items:center;display:flex}.ag-angle-select-wrapper{display:flex}.ag-angle-select-parent-circle{display:block;position:relative}.ag-angle-select-child-circle{position:absolute}.ag-slider-wrapper{display:flex;.ag-input-field{flex:1 1 auto}}.ag-picker-field-display{flex:1 1 auto}.ag-picker-field{align-items:center;display:flex}.ag-picker-field-icon{border:0;cursor:pointer;display:flex;margin:0;padding:0}.ag-color-panel{display:flex;flex-direction:column;text-align:center;width:100%}.ag-spectrum-color{cursor:default;flex:1 1 auto;overflow:visible;position:relative}.ag-spectrum-fill{inset:0;position:absolute}.ag-spectrum-val{cursor:pointer}.ag-spectrum-dragger{cursor:pointer;pointer-events:none;position:absolute}.ag-spectrum-alpha,.ag-spectrum-hue{cursor:default}.ag-spectrum-hue-background{background:linear-gradient(270deg,red 3%,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red);height:100%;width:100%}.ag-spectrum-alpha-background{background:linear-gradient(to right,var(--ag-internal-spectrum-alpha-color-from),var(--ag-internal-spectrum-alpha-color-to)),url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="4" height="4"><rect x="0" y="0" width="4" height="4" fill="%23fff"/><path d="M0 0H2V4H4V2H0Z" fill="%23b2b2b2"/></svg>') 0 0 /4px 4px;height:100%;width:100%}.ag-spectrum-tool{cursor:pointer;position:relative}.ag-spectrum-slider{pointer-events:none;position:absolute}.ag-spectrum-alpha .ag-spectrum-slider{background:linear-gradient(to bottom,var(--ag-internal-spectrum-alpha-color),var(--ag-internal-spectrum-alpha-color)) var(--ag-background-color)}.ag-recent-colors{display:flex;gap:6px;margin-top:10px}.ag-recent-color{cursor:pointer}.ag-angle-select[disabled]{opacity:.5;pointer-events:none}.ag-ltr .ag-angle-select-field,.ag-ltr .ag-slider-field{margin-right:calc(var(--ag-spacing)*2)}.ag-rtl .ag-angle-select-field,.ag-rtl .ag-slider-field{margin-left:calc(var(--ag-spacing)*2)}.ag-angle-select-parent-circle{background-color:var(--ag-background-color);border:1px solid;border-color:var(--ag-border-color);border-radius:12px;height:24px;width:24px}.ag-angle-select-child-circle{background-color:var(--ag-foreground-color);border-radius:3px;height:6px;left:12px;margin-left:-3px;margin-top:-4px;top:4px;width:6px}.ag-picker-field-wrapper{background-color:var(--ag-background-color);border:var(--ag-input-border);border-radius:5px;min-height:max(var(--ag-list-item-height),calc(var(--ag-spacing)*4));overflow:hidden;&:disabled{opacity:.5}&.ag-picker-has-focus,&:focus-within{border:var(--ag-input-focus-border);box-shadow:var(--ag-focus-shadow)}}.ag-picker-field-button{background-color:var(--ag-background-color)}.ag-dialog.ag-color-dialog{border-radius:5px}.ag-color-picker{.ag-picker-field-wrapper{padding-left:var(--ag-spacing);padding-right:var(--ag-spacing)}.ag-picker-field-display{align-items:center;display:flex;flex-direction:row;min-height:var(--ag-list-item-height)}}.ag-ltr .ag-color-picker-color,.ag-ltr .ag-color-picker-value{margin-right:var(--ag-spacing)}.ag-rtl .ag-color-picker-color,.ag-rtl .ag-color-picker-value{margin-left:var(--ag-spacing)}.ag-color-panel{padding:var(--ag-spacing)}.ag-spectrum-tools{padding-bottom:0;padding-left:0;padding-right:0}.ag-spectrum-tool{height:12px}.ag-spectrum-alpha-background,.ag-spectrum-hue-background{border-radius:12px}.ag-spectrum-slider{border:3px solid #f8f8f8;border-radius:18px;height:18px;margin-top:-15px;width:18px}.ag-recent-colors{margin-bottom:2px;margin-left:var(--ag-spacing);margin-right:var(--ag-spacing)}.ag-color-input-color,.ag-color-picker-color,.ag-recent-color{border-radius:4px}.ag-recent-color{border:1px solid var(--ag-border-color)}.ag-spectrum-sat{background-image:linear-gradient(90deg,#fff,hsla(20,42%,65%,0))}.ag-spectrum-val{background-image:linear-gradient(0deg,#000,hsla(20,42%,65%,0))}.ag-spectrum-dragger{background:#000;border:3px solid #fff;border-radius:18px;box-shadow:0 0 2px 0 rgba(0,0,0,.24);height:18px;width:18px}.ag-spectrum-alpha-background,.ag-spectrum-hue-background{border-radius:2px}.ag-spectrum-tool{border-radius:2px;height:11px;margin-bottom:10px}.ag-spectrum-slider{border:2px solid #fff;border-radius:13px;box-shadow:0 1px 4px 0 rgba(0,0,0,.37);height:13px;margin-top:-12px;width:13px}.ag-recent-color,.ag-spectrum-color,.ag-spectrum-slider{&:focus-visible:not(:disabled):not([readonly]){box-shadow:var(--ag-focus-shadow)}}.ag-color-input{.ag-color-input-color{position:absolute}}.ag-ltr .ag-color-input{& input[class^=ag-][type=text].ag-input-field-input{padding-left:calc(var(--ag-icon-size) + var(--ag-spacing)*2)}.ag-color-input-color{margin-left:var(--ag-spacing)}}.ag-rtl .ag-color-input{& input[class^=ag-][type=text].ag-input-field-input{padding-right:calc(var(--ag-icon-size) + var(--ag-spacing)*2)}.ag-color-input-color{margin-right:var(--ag-spacing)}}.ag-color-input-color,.ag-color-picker-color{border:1px solid var(--ag-border-color);border-radius:2px;height:var(--ag-icon-size);width:var(--ag-icon-size)}.ag-pill-select{.ag-picker-field-display{font-weight:500}.ag-picker-field-display,.ag-picker-field-icon .ag-icon{color:var(--ag-chart-menu-label-color)}}.ag-filter-toolpanel{flex:1 1 0px;min-width:0}.ag-filter-toolpanel-header{position:relative}.ag-filter-toolpanel-header,.ag-filter-toolpanel-search{align-items:center;display:flex;>*{align-items:center;display:flex}}.ag-filter-toolpanel-header{height:calc(var(--ag-spacing)*6);&:focus-visible{border-radius:var(--ag-border-radius);box-shadow:inset var(--ag-focus-shadow)}}.ag-filter-toolpanel-header,.ag-filter-toolpanel-search{padding:0 var(--ag-spacing)}.ag-filter-toolpanel-group:not(.ag-has-filter)>.ag-group-title-bar .ag-filter-toolpanel-group-instance-header-icon{display:none}.ag-filter-toolpanel-group-level-0-header{height:calc(var(--ag-spacing)*8)}.ag-filter-toolpanel-group-item{margin-bottom:calc(var(--ag-spacing)*.5);margin-top:calc(var(--ag-spacing)*.5)}.ag-filter-toolpanel-search{margin-bottom:var(--ag-spacing);margin-top:var(--ag-widget-container-vertical-padding)}.ag-filter-toolpanel-search-input{flex-grow:1;height:calc(var(--ag-spacing)*4)}.ag-ltr .ag-filter-toolpanel-group-title-bar-icon{margin-right:var(--ag-spacing)}.ag-rtl .ag-filter-toolpanel-group-title-bar-icon{margin-left:var(--ag-spacing)}.ag-filter-toolpanel-expand{cursor:pointer}.ag-ltr .ag-filter-toolpanel-expand{margin-right:var(--ag-spacing)}.ag-rtl .ag-filter-toolpanel-expand{margin-left:var(--ag-spacing)}.ag-ltr .ag-filter-toolpanel-group-title-bar,.ag-ltr .ag-filter-toolpanel-instance-header{padding-left:calc(var(--ag-spacing) + var(--ag-filter-tool-panel-group-indent)*var(--ag-indentation-level))}.ag-rtl .ag-filter-toolpanel-group-title-bar,.ag-rtl .ag-filter-toolpanel-instance-header{padding-right:calc(var(--ag-spacing) + var(--ag-filter-tool-panel-group-indent)*var(--ag-indentation-level))}.ag-ltr .ag-filter-toolpanel-instance-body{margin-left:var(--ag-filter-tool-panel-group-indent)}.ag-rtl .ag-filter-toolpanel-instance-body{margin-right:var(--ag-filter-tool-panel-group-indent)}.ag-ltr .ag-filter-toolpanel-group-instance-header-icon,.ag-ltr .ag-filter-toolpanel-instance-header-icon{margin-left:var(--ag-spacing)}.ag-rtl .ag-filter-toolpanel-group-instance-header-icon,.ag-rtl .ag-filter-toolpanel-instance-header-icon{margin-right:var(--ag-spacing)}.ag-filter-toolpanel-instance-filter{background-color:var(--ag-chrome-background-color)}.ag-filter-toolpanel-group-level-0{border-top:none}.ag-filter-toolpanel-header{height:auto;padding-bottom:var(--ag-spacing);padding-top:var(--ag-spacing)}.ag-filter-toolpanel-group-item{margin:0}.ag-filter-toolpanel-header,.ag-filter-toolpanel-search{color:var(--ag-header-text-color);font-weight:500}.ag-paging-panel{align-items:center;border-top:var(--ag-footer-row-border);display:flex;gap:calc(var(--ag-spacing)*4);height:max(var(--ag-row-height),22px);justify-content:flex-end;padding:0 var(--ag-cell-horizontal-padding)}.ag-paging-page-size .ag-wrapper{min-width:50px}.ag-paging-page-summary-panel{align-items:center;display:flex;gap:var(--ag-cell-widget-spacing);.ag-disabled &{pointer-events:none}}.ag-paging-button{cursor:pointer;position:relative;&:focus-visible{box-shadow:var(--ag-focus-shadow)}&.ag-disabled{cursor:default;opacity:.5}}.ag-paging-number,.ag-paging-row-summary-panel-number{font-weight:500}.ag-status-bar{border-top:var(--ag-footer-row-border);display:flex;justify-content:space-between;line-height:1.5;overflow:hidden;padding-left:calc(var(--ag-spacing)*4);padding-right:calc(var(--ag-spacing)*4)}.ag-status-panel{display:inline-flex}.ag-status-name-value{white-space:nowrap}.ag-status-bar-center,.ag-status-bar-left,.ag-status-bar-right{display:inline-flex}.ag-status-bar-center{text-align:center}.ag-status-name-value{margin-left:var(--ag-spacing);margin-right:var(--ag-spacing);padding-bottom:var(--ag-widget-container-vertical-padding);padding-top:var(--ag-widget-container-vertical-padding)}.ag-status-name-value-value{font-weight:500}.ag-overlay{inset:0;pointer-events:none;position:absolute;z-index:2}.ag-overlay-panel,.ag-overlay-wrapper{display:flex;height:100%;width:100%}.ag-overlay-wrapper{align-items:center;flex:none;justify-content:center;text-align:center}.ag-overlay-loading-wrapper{pointer-events:all}.ag-overlay-loading-center{background:var(--ag-background-color);border:1px solid var(--ag-border-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-popup-shadow);padding:var(--ag-spacing)}.ag-icon{display:block;height:var(--ag-icon-size);position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:var(--ag-icon-size)}.ag-column-select-column-group-readonly,.ag-disabled,[disabled]{.ag-icon{opacity:.5}}.ag-column-select-column-readonly .ag-icon-grip,.ag-column-select-column-readonly.ag-icon-grip{opacity:.35}.ag-chart-menu-icon,.ag-chart-settings-next,.ag-chart-settings-prev,.ag-column-group-icons,.ag-column-select-header-icon,.ag-filter-toolpanel-expand,.ag-floating-filter-button-button,.ag-group-contracted .ag-icon,.ag-group-expanded .ag-icon,.ag-group-title-bar-icon,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,.ag-panel-title-bar-button-icon,.ag-set-filter-group-icons{&:hover{background-color:var(--ag-icon-button-hover-color);border-radius:1px;box-shadow:0 0 0 4px var(--ag-icon-button-hover-color)}}.ag-filter-active{--ag-icon-button-hover-color:color-mix(in srgb,transparent,var(--ag-accent-color) 28%);background-color:color-mix(in srgb,transparent,var(--ag-accent-color) 14%);border-radius:1px;box-shadow:0 0 0 4px color-mix(in srgb,transparent,var(--ag-accent-color) 14%);position:relative;&:after{background-color:var(--ag-accent-color);border-radius:50%;content:"";height:6px;position:absolute;top:-1px;width:6px}.ag-icon-filter{clip-path:path("M8,0C8,4.415 11.585,8 16,8L16,16L0,16L0,0L8,0Z")}}.ag-ltr .ag-filter-active{&:after{right:-1px}}.ag-rtl .ag-filter-active{&:after{left:-1px}}.ag-label-align-right{.ag-label{order:1}>*{flex:none}}.ag-label-align-top{align-items:flex-start;flex-direction:column;>*{align-self:stretch}}.ag-label-ellipsis{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-label{white-space:nowrap}.ag-ltr .ag-label{margin-right:var(--ag-spacing)}.ag-rtl .ag-label{margin-left:var(--ag-spacing)}.ag-label-align-top .ag-label{margin-bottom:calc(var(--ag-spacing)*.5)}.ag-ltr .ag-label-align-right .ag-label{margin-left:var(--ag-spacing)}.ag-rtl .ag-label-align-right .ag-label{margin-right:var(--ag-spacing)}`,Jw={backgroundColor:"#FFF",foregroundColor:"#181d1f",textColor:{ref:"foregroundColor"},accentColor:"#2196f3",invalidColor:"#e02525",borderColor:{ref:"foregroundColor",mix:.15},wrapperBorder:!0,rowBorder:!0,browserColorScheme:"light",headerRowBorder:{ref:"rowBorder"},footerRowBorder:{ref:"rowBorder"},columnBorder:{style:"solid",width:1,color:"transparent"},headerColumnBorder:!1,headerColumnBorderHeight:"100%",pinnedColumnBorder:!0,pinnedRowBorder:!0,sidePanelBorder:!0,fontFamily:["-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu","Cantarell","Helvetica Neue","sans-serif"],chromeBackgroundColor:{ref:"foregroundColor",mix:.02,onto:"backgroundColor"},headerBackgroundColor:{ref:"chromeBackgroundColor"},headerFontFamily:{ref:"fontFamily"},headerFontWeight:500,headerFontSize:{ref:"fontSize"},dataFontSize:{ref:"fontSize"},headerTextColor:{ref:"textColor"},headerCellHoverBackgroundColor:"transparent",headerCellMovingBackgroundColor:{ref:"backgroundColor"},headerCellBackgroundTransitionDuration:"0.2s",cellTextColor:{ref:"textColor"},subtleTextColor:{ref:"textColor",mix:.5},rangeSelectionBorderStyle:"solid",rangeSelectionBorderColor:{ref:"accentColor"},rangeSelectionBackgroundColor:{ref:"accentColor",mix:.2},rangeSelectionChartBackgroundColor:"#0058FF1A",rangeSelectionChartCategoryBackgroundColor:"#00FF841A",rangeSelectionHighlightColor:{ref:"accentColor",mix:.5},rowHoverColor:{ref:"accentColor",mix:.08},columnHoverColor:{ref:"accentColor",mix:.05},selectedRowBackgroundColor:{ref:"accentColor",mix:.12},modalOverlayBackgroundColor:{ref:"backgroundColor",mix:.66},oddRowBackgroundColor:{ref:"backgroundColor"},borderRadius:4,wrapperBorderRadius:8,cellHorizontalPadding:{calc:"spacing * 2 * cellHorizontalPaddingScale"},cellWidgetSpacing:{calc:"spacing * 1.5"},cellHorizontalPaddingScale:1,rowGroupIndentSize:{calc:"cellWidgetSpacing + iconSize"},valueChangeDeltaUpColor:"#43a047",valueChangeDeltaDownColor:"#e53935",valueChangeValueHighlightBackgroundColor:"#16a08580",spacing:8,fontSize:14,rowHeight:{calc:"max(iconSize, dataFontSize) + spacing * 3.25 * rowVerticalPaddingScale"},rowVerticalPaddingScale:1,headerHeight:{calc:"max(iconSize, dataFontSize) + spacing * 4 * headerVerticalPaddingScale"},headerVerticalPaddingScale:1,popupShadow:{radius:16,color:"#00000026"},dropdownShadow:{radius:4,spread:1,offsetY:1,color:"#babfc766"},dragAndDropImageBackgroundColor:{ref:"backgroundColor"},dragAndDropImageBorder:!0,dragAndDropImageShadow:{ref:"popupShadow"},dragHandleColor:{ref:"foregroundColor",mix:.7},focusShadow:{spread:3,color:{ref:"accentColor",mix:.5}},sideBarPanelWidth:250,sideBarBackgroundColor:{ref:"chromeBackgroundColor"},headerColumnResizeHandleHeight:"30%",headerColumnResizeHandleWidth:2,headerColumnResizeHandleColor:{ref:"borderColor"},widgetContainerHorizontalPadding:{calc:"spacing * 1.5"},widgetContainerVerticalPadding:{calc:"spacing * 1.5"},widgetHorizontalSpacing:{calc:"spacing * 1.5"},widgetVerticalSpacing:{ref:"spacing"},listItemHeight:{calc:"iconSize + widgetVerticalSpacing"},iconSize:16,toggleButtonWidth:28,toggleButtonHeight:18,toggleButtonBorderWidth:2,toggleButtonOnBorderColor:{ref:"accentColor"},toggleButtonOnBackgroundColor:{ref:"accentColor"},toggleButtonOffBorderColor:{ref:"foregroundColor",mix:.3,onto:"backgroundColor"},toggleButtonOffBackgroundColor:{ref:"foregroundColor",mix:.3,onto:"backgroundColor"},toggleButtonSwitchBorderColor:{ref:"toggleButtonOffBorderColor"},toggleButtonSwitchBackgroundColor:{ref:"backgroundColor"},menuBorder:{color:{ref:"foregroundColor",mix:.2}},menuBackgroundColor:{ref:"foregroundColor",mix:.03,onto:"backgroundColor"},menuTextColor:{ref:"foregroundColor",mix:.95,onto:"backgroundColor"},menuShadow:{ref:"popupShadow"},menuSeparatorColor:{ref:"borderColor"},setFilterIndentSize:{ref:"iconSize"},chartMenuPanelWidth:260,chartMenuLabelColor:{ref:"foregroundColor",mix:.8},iconButtonHoverColor:{ref:"foregroundColor",mix:.1},dialogShadow:{ref:"popupShadow"},dialogBorder:{color:{ref:"foregroundColor",mix:.2}},panelBackgroundColor:{ref:"backgroundColor"},panelTitleBarBackgroundColor:{ref:"headerBackgroundColor"},panelTitleBarBorder:!0,columnSelectIndentSize:{ref:"iconSize"},toolPanelSeparatorBorder:!0,tooltipBackgroundColor:{ref:"chromeBackgroundColor"},tooltipTextColor:{ref:"textColor"},tooltipBorder:!0,columnDropCellBackgroundColor:{ref:"foregroundColor",mix:.07},columnDropCellBorder:{color:{ref:"foregroundColor",mix:.13}},selectCellBackgroundColor:{ref:"foregroundColor",mix:.07},selectCellBorder:{color:{ref:"foregroundColor",mix:.13}},advancedFilterBuilderButtonBarBorder:!0,advancedFilterBuilderIndentSize:{calc:"spacing * 2 + iconSize"},advancedFilterBuilderJoinPillColor:"#f08e8d",advancedFilterBuilderColumnPillColor:"#a6e194",advancedFilterBuilderOptionPillColor:"#f3c08b",advancedFilterBuilderValuePillColor:"#85c0e4",filterToolPanelGroupIndent:{ref:"spacing"},iconButtonHoverBackgroundColor:{ref:"foregroundColor",mix:.1},rowLoadingSkeletonEffectColor:"rgba(66, 66, 66, 0.2)"},D4=e=>e.replace(/[A-Z]/g,t=>`-${t}`).toLowerCase(),eC=e=>`--ag-${D4(e)}`,C2=e=>`var(${eC(e)})`,L4=(e,t,a)=>Math.max(t,Math.min(a,e)),I4=e=>{const t=new Map;return a=>{const u=a;return t.has(u)||t.set(u,e(a)),t.get(u)}},tC=I4(e=>{if(/Color$/.test(e))return"color";if(/Scale?$/.test(e))return"scale";if(e==="spacing"||/(Padding|Spacing|Size|Width|Height|Radius|Indent|Start|End|Top|Bottom|Horizontal|Vertical)$/.test(e))return"length";if(/Border$/.test(e))return"border";if(/BorderStyle$/.test(e))return"borderStyle";if(/Shadow$/.test(e))return"shadow";if(/Image$/.test(e))return"image";if(/Family$/.test(e))return"fontFamily";if(/Weight$/.test(e))return"fontWeight";if(/Duration$/.test(e))return"duration";if(/ColorScheme$/.test(e))return"colorScheme";throw new Error(`"${e}" is not a valid theme parameter.`)}),rb=e=>typeof e=="string"?e:typeof e=="number"?String(e):!1,tw=e=>{if(typeof e=="string")return e;if("ref"in e){const t=C2(e.ref);return e.mix==null?t:`color-mix(in srgb, ${e.onto?"var(--ag-background-color)":"transparent"}, ${t} ${L4(e.mix*100,0,100)}%)`}return!1},O4=rb,P3=e=>typeof e=="string"?e:typeof e=="number"?`${e}px`:"calc"in e?`calc(${e.calc.replace(/ ?[*/+] ?/g," $& ").replace(/-?[a-z][a-z0-9]*\b(?![-(])/gi,a=>a[0]==="-"?a:` ${C2(a)} `)})`:"ref"in e?C2(e.ref):!1,z4=rb,N4=(e,t)=>typeof e=="string"?e:e===!0?"solid 1px var(--ag-border-color)":e===!1?t==="columnBorder"?"solid 1px transparent":"none":"ref"in e?C2(e.ref):rC(e.style??"solid")+" "+P3(e.width??1)+" "+tw(e.color??{ref:"borderColor"}),B4=e=>typeof e=="string"?e:e===!1?"none":"ref"in e?C2(e.ref):[P3(e.offsetX??0),P3(e.offsetY??0),P3(e.radius??0),P3(e.spread??0),tw(e.color??{ref:"foregroundColor"})].join(" "),rC=rb,nC=e=>typeof e=="string"?e:"googleFont"in e?nC(e.googleFont):"ref"in e?C2(e.ref):Array.isArray(e)?e.map(t=>(typeof t=="object"&&"googleFont"in t&&(t=t.googleFont),/^[\w-]+$/.test(t)?t:JSON.stringify(t))).join(", "):!1,H4=rb,iC=e=>typeof e=="string"?e:"url"in e?`url(${JSON.stringify(e.url)})`:"svg"in e?iC({url:`data:image/svg+xml,${encodeURIComponent(e.svg)}`}):"ref"in e?C2(e.ref):!1,G4=(e,t)=>typeof e=="string"?e:typeof e=="number"?(e>50&&Et(`Numeric value ${e} passed to ${t} param will be interpreted as ${e} seconds. If this is intentional use "${e}s" to silence this warning.`),`${e}s`):"ref"in e?C2(e.ref):!1,V4={color:tw,colorScheme:O4,length:P3,scale:z4,border:N4,borderStyle:rC,shadow:B4,image:iC,fontFamily:nC,fontWeight:H4,duration:G4},oC=(e,t)=>{const a=tC(e);return V4[a](t,e)},j4=0,aC=(e=`customTheme${++j4}`)=>new $4(e,[],{}),U4=typeof window!="object"||!window||typeof document!="object"||window.document!==document,W4=0,sC=!1,$4=class cw{constructor(t,a=[],u={}){this.id=t,this.dependencies=a,this.defaults=u,this.useCount=0}withPart(t){return typeof t=="function"&&(t=t()),new cw(this.id,this.dependencies.concat(t),this.defaults)}withParams(t){const a={...this.defaults};for(const[u,g]of Object.entries(t))g!=null&&(a[u]=g);return new cw(this.id,this.dependencies,a)}getCSS(){return[Qw,...this._getCSSChunks().map(t=>t.css)].join(`

`)}startUse(t){++this.useCount,this.useCount===1&&this._install(t)}stopUse(){--this.useCount,this.useCount===0&&setTimeout(()=>{this.useCount===0&&lC(this.getCssClass(),this._installRoot)},1e3)}getCssClass(){return this._cssClass==null&&(this._cssClass=`ag-theme-${++W4}`),this._cssClass}getParams(){if(this._getParamsCache)return this._getParamsCache;const t={...Jw};for(const a of this._getFlatUnits())for(const[u,g]of Object.entries(a.defaults)){const _=g??Jw[u];_!=null&&(t[u]=_)}return this._getParamsCache=t}async _install({container:t,loadThemeGoogleFonts:a}){if(U4)return;sC||(sC=!0,lC("legacy",document.head),getComputedStyle(document.body).getPropertyValue("--ag-legacy-styles-loaded")&&Et("both Theming API and the ag-grid.css are used on the same page, styling will be incorrect"));let u=t.getRootNode();u instanceof ShadowRoot||(u=document.head),this._installRoot=u;const g=[];g.push(rw({css:Qw,part:"core",root:u}));for(const _ of Y4(this))a?K4(_):a==null&&ie(`theme uses google font ${_} but no value for loadThemeGoogleFonts was provided. Pass true to load fonts from ${cC} or false to silence this warning.`);for(const _ of this._getCSSChunks())rw({css:_.css,part:_.id,scope:this.getCssClass(),root:u});return Promise.all(g)}_getFlatUnits(){if(this._getFlatUnitsCache)return this._getFlatUnitsCache;const t={};for(const u of this.dependencies)delete t[u.feature],t[u.feature]=u;const a=[...Object.values(t),this];return this._getFlatUnitsCache=a}_getCSSChunks(){if(this._getCssChunksCache)return this._getCssChunksCache;const t=[];t.push(q4(this));for(const a of this._getFlatUnits())if(a.css&&a.css.length>0){let u=`/* Part ${a.id} */`;u+=a.css.map(g=>typeof g=="function"?g():g).join(`
`)+`
`,u=`.${this.getCssClass()} {
	${u}
}`,t.push({css:u,id:a.id})}return this._getCssChunksCache=t}},q4=e=>{let t="",a="";for(const[_,K]of Object.entries(e.getParams())){const rt=oC(_,K);if(rt===!1)Et(`Invalid value for param ${_} - ${X4(K)}`);else{const al=eC(_),Ql=al.replace("--ag-","--ag-inherited-");t+=`	${al}: var(${Ql}, ${rt});
`,a+=`	${Ql}: var(${al});
`}}const u=`:where(.${e.getCssClass()})`;let g=`${u} {
${t}}
`;return g+=`:has(> ${u}):not(${u}) {
${a}}
`,{css:g,id:"variables"}},Y4=e=>Array.from(new Set(Object.values(e.getParams()).flat().map(t=>t?.googleFont).filter(t=>typeof t=="string"))).sort(),rw=async({root:e,part:t,scope:a,css:u})=>{let g=`:scope > style[data-ag-part="${t}"]`;a&&(g+=`[data-ag-scope="${a}"]`);let _=e.querySelector(g);if(!_){_=document.createElement("style"),_.dataset.agPart=t,a&&(_.dataset.agScope=a);const K=e.querySelectorAll(":scope > style[data-ag-part]"),rt=K[K.length-1];rt?rt.insertAdjacentElement("afterend",_):e.firstElementChild?e.firstElementChild.insertAdjacentElement("beforebegin",_):e.appendChild(_)}if(_._agTextContent!==u)return _.textContent=u,_._agTextContent=u,Z4(_)},lC=(e,t)=>{for(const a of Array.from(t.querySelectorAll(`:scope > style[data-ag-scope="${e}"]`)))a.remove()},uC=new Set,K4=async e=>{if(uC.has(e))return;uC.add(e);const t=`@import url('https://${cC}/css2?family=${encodeURIComponent(e)}:wght@100;200;300;400;500;600;700;800;900&display=swap');
`;return rw({css:t,part:`googleFont:${e}`,root:document.head})},cC="fonts.googleapis.com",Z4=e=>new Promise(t=>{const a=()=>{e.removeEventListener("load",a),t()};e.addEventListener("load",a)}),X4=e=>e==null?String(e):`${typeof e} ${e}`,Q4='.ag-checkbox-input-wrapper,.ag-radio-button-input-wrapper{background-color:var(--ag-checkbox-unchecked-background-color);border:solid var(--ag-checkbox-border-width) var(--ag-checkbox-unchecked-border-color);flex:none;height:var(--ag-icon-size);position:relative;width:var(--ag-icon-size);& input{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:100%;opacity:0;width:100%}&:after{content:"";display:block;inset:0;-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;pointer-events:none;position:absolute}&.ag-checked{background-color:var(--ag-checkbox-checked-background-color);border-color:var(--ag-checkbox-checked-border-color);&:after{background-color:var(--ag-checkbox-checked-shape-color)}}&:active,&:focus-within{box-shadow:var(--ag-focus-shadow)}&.ag-disabled{filter:grayscale();opacity:.5}}.ag-checkbox-input-wrapper{border-radius:var(--ag-checkbox-border-radius);&.ag-checked:after{-webkit-mask-image:var(--ag-checkbox-checked-shape-image);mask-image:var(--ag-checkbox-checked-shape-image)}&.ag-indeterminate{background-color:var(--ag-checkbox-indeterminate-background-color);border-color:var(--ag-checkbox-indeterminate-border-color);&:after{background-color:var(--ag-checkbox-indeterminate-shape-color);-webkit-mask-image:var(--ag-checkbox-indeterminate-shape-image);mask-image:var(--ag-checkbox-indeterminate-shape-image)}}}.ag-radio-button-input-wrapper{border-radius:100%;&.ag-checked:after{-webkit-mask-image:var(--ag-radio-checked-shape-image);mask-image:var(--ag-radio-checked-shape-image)}}',dC=k1("checkboxStyle","default").withAdditionalParams({checkboxBorderWidth:1,checkboxBorderRadius:{ref:"borderRadius"},checkboxUncheckedBackgroundColor:{ref:"backgroundColor"},checkboxUncheckedBorderColor:{ref:"foregroundColor",mix:.3,onto:"backgroundColor"},checkboxCheckedBackgroundColor:{ref:"accentColor"},checkboxCheckedBorderColor:{ref:"accentColor"},checkboxCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="7" fill="none"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.75" d="M1 3.5 3.5 6l5-5"/></svg>'},checkboxCheckedShapeColor:{ref:"backgroundColor"},checkboxIndeterminateBackgroundColor:{ref:"foregroundColor",mix:.3,onto:"backgroundColor"},checkboxIndeterminateBorderColor:{ref:"foregroundColor",mix:.3,onto:"backgroundColor"},checkboxIndeterminateShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="2" fill="none"><rect width="10" height="2" fill="#000" rx="1"/></svg>'},checkboxIndeterminateShapeColor:{ref:"backgroundColor"},radioCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="6" height="6" fill="none"><circle cx="3" cy="3" r="3" fill="#000"/></svg>'}}).withCSS(Q4),nw=k1("colorScheme","light"),J4=k1("colorScheme","lightWarm").withParams({foregroundColor:"#000000de",borderColor:"#60300026",chromeBackgroundColor:"#60300005"}),hC=k1("colorScheme","lightCold").withParams({foregroundColor:"#000",backgroundColor:"#fff",chromeBackgroundColor:"#f3f8f8"}),e6=k1("colorScheme","dark").withParams({backgroundColor:"hsl(217, 0%, 17%)",foregroundColor:"#FFF",chromeBackgroundColor:{ref:"foregroundColor",mix:.05,onto:"backgroundColor"},browserColorScheme:"dark"}),t6=k1("colorScheme","darkWarm").withParams({backgroundColor:"hsl(29, 10%, 17%)",foregroundColor:"#FFF",chromeBackgroundColor:{ref:"foregroundColor",mix:.05,onto:"backgroundColor"},browserColorScheme:"dark"}),r6=k1("colorScheme","darkBlue").withParams({backgroundColor:"#1f2836",foregroundColor:"#FFF",chromeBackgroundColor:{ref:"foregroundColor",mix:.07,onto:"backgroundColor"},browserColorScheme:"dark"}),n6=`.ag-icon:before{background-color:currentColor;content:"";display:block;height:var(--ag-icon-size);-webkit-mask-image:linear-gradient(#0000,#0000);mask-image:linear-gradient(#0000,#0000);-webkit-mask-size:contain;mask-size:contain;width:var(--ag-icon-size)}.ag-icon-aggregation:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M24 6H8v2l8 8-8 8v2h16v-2H11l8-8-8-8h13z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M24 6H8v2l8 8-8 8v2h16v-2H11l8-8-8-8h13z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-arrows:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M7.515 11.171 2.687 16l4.828 4.829-1.414 1.414L-.142 16l6.243-6.243zm16.97 0 1.414-1.414L32.142 16l-6.243 6.243-1.414-1.414L29.313 16zM16.028 13.2l2.829 2.828-2.829 2.829-2.828-2.829zm-4.857 11.285L16 29.313l4.829-4.828 1.414 1.414L16 32.142l-6.243-6.243zm0-16.97L9.757 6.101 16-.142l6.243 6.243-1.414 1.414L16 2.687z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M7.515 11.171 2.687 16l4.828 4.829-1.414 1.414L-.142 16l6.243-6.243zm16.97 0 1.414-1.414L32.142 16l-6.243 6.243-1.414-1.414L29.313 16zM16.028 13.2l2.829 2.828-2.829 2.829-2.828-2.829zm-4.857 11.285L16 29.313l4.829-4.828 1.414 1.414L16 32.142l-6.243-6.243zm0-16.97L9.757 6.101 16-.142l6.243 6.243-1.414 1.414L16 2.687z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-asc:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m5.333 16 1.88 1.88 7.453-7.44v16.227h2.667V10.44l7.44 7.453L26.666 16 15.999 5.333 5.332 16z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m5.333 16 1.88 1.88 7.453-7.44v16.227h2.667V10.44l7.44 7.453L26.666 16 15.999 5.333 5.332 16z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-cancel:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M16 2.667A13.32 13.32 0 0 0 2.667 16c0 7.373 5.96 13.333 13.333 13.333S29.333 23.373 29.333 16 23.373 2.667 16 2.667m6.667 18.12-1.88 1.88L16 17.88l-4.787 4.787-1.88-1.88L14.12 16l-4.787-4.787 1.88-1.88L16 14.12l4.787-4.787 1.88 1.88L17.88 16z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M16 2.667A13.32 13.32 0 0 0 2.667 16c0 7.373 5.96 13.333 13.333 13.333S29.333 23.373 29.333 16 23.373 2.667 16 2.667m6.667 18.12-1.88 1.88L16 17.88l-4.787 4.787-1.88-1.88L14.12 16l-4.787-4.787 1.88-1.88L16 14.12l4.787-4.787 1.88 1.88L17.88 16z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-chart:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Echart%3C/title%3E%3Cg fill='%23000' fill-rule='nonzero'%3E%3Cpath d='M14 7h4v18h-4zM8 17h4v8H8zM20 13h4v12h-4z'/%3E%3C/g%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Echart%3C/title%3E%3Cg fill='%23000' fill-rule='nonzero'%3E%3Cpath d='M14 7h4v18h-4zM8 17h4v8H8zM20 13h4v12h-4z'/%3E%3C/g%3E%3C/svg%3E")}.ag-icon-color-picker:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M23.907 17.587 10.574 4.254l-1.88 1.88 3.173 3.173-8.28 8.28 10.16 10.16zm-16.547 0 6.387-6.387 6.387 6.387zm18.387 2s-2.667 2.893-2.667 4.667c0 1.467 1.2 2.667 2.667 2.667s2.667-1.2 2.667-2.667c0-1.773-2.667-4.667-2.667-4.667' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M23.907 17.587 10.574 4.254l-1.88 1.88 3.173 3.173-8.28 8.28 10.16 10.16zm-16.547 0 6.387-6.387 6.387 6.387zm18.387 2s-2.667 2.893-2.667 4.667c0 1.467 1.2 2.667 2.667 2.667s2.667-1.2 2.667-2.667c0-1.773-2.667-4.667-2.667-4.667' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-columns:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M26 25H6V7h20zM12 11H8v12h4zm6 0h-4v12h4zm6 12V11h-4v12z' style='fill-rule:nonzero' transform='translate(0 -1)'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M26 25H6V7h20zM12 11H8v12h4zm6 0h-4v12h4zm6 12V11h-4v12z' style='fill-rule:nonzero' transform='translate(0 -1)'/%3E%3C/svg%3E")}.ag-icon-contracted:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m12 6 10 10-10 10-2-2 8-8-8-8z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m12 6 10 10-10 10-2-2 8-8-8-8z'/%3E%3C/svg%3E")}.ag-icon-copy:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M22 1.333H6A2.675 2.675 0 0 0 3.333 4v18.667H6V4h16zm4 5.334H11.333a2.675 2.675 0 0 0-2.667 2.667v18.667c0 1.467 1.2 2.667 2.667 2.667H26c1.467 0 2.667-1.2 2.667-2.667V9.334c0-1.467-1.2-2.667-2.667-2.667M26 28H11.333V9.333H26z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M22 1.333H6A2.675 2.675 0 0 0 3.333 4v18.667H6V4h16zm4 5.334H11.333a2.675 2.675 0 0 0-2.667 2.667v18.667c0 1.467 1.2 2.667 2.667 2.667H26c1.467 0 2.667-1.2 2.667-2.667V9.334c0-1.467-1.2-2.667-2.667-2.667M26 28H11.333V9.333H26z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-cross:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M15.984 13.894 27.05 2.828l2.122 2.122-11.066 11.066 11.066 11.066-2.122 2.12-11.066-11.066L4.918 29.202l-2.12-2.12 11.066-11.066L2.798 4.95l2.12-2.122z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M15.984 13.894 27.05 2.828l2.122 2.122-11.066 11.066 11.066 11.066-2.122 2.12-11.066-11.066L4.918 29.202l-2.12-2.12 11.066-11.066L2.798 4.95l2.12-2.122z'/%3E%3C/svg%3E")}.ag-icon-csv:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M384 131.9c-7.753-8.433-110.425-128.473-114.9-133L48-.1C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48zm-35.9 2.1H257V27.9zM30 479V27h200l1 105c0 13.3-1.3 29 12 29h111l1 318z' style='fill-rule:nonzero' transform='matrix(.06285 0 0 .06285 3.934 -.054)'/%3E%3Cpath d='M.688-.226a.2.2 0 0 1-.017.074.28.28 0 0 1-.145.14.412.412 0 0 1-.234.013.28.28 0 0 1-.202-.168.468.468 0 0 1-.04-.19q0-.086.025-.155a.319.319 0 0 1 .182-.191.4.4 0 0 1 .134-.025q.087 0 .155.035a.3.3 0 0 1 .104.085.17.17 0 0 1 .036.097.06.06 0 0 1-.018.044.06.06 0 0 1-.042.019.06.06 0 0 1-.042-.013.2.2 0 0 1-.031-.046.2.2 0 0 0-.066-.079.16.16 0 0 0-.095-.027.17.17 0 0 0-.142.068.3.3 0 0 0-.053.193.4.4 0 0 0 .023.139.2.2 0 0 0 .067.083.2.2 0 0 0 .1.027q.063 0 .106-.031a.2.2 0 0 0 .065-.091.2.2 0 0 1 .023-.046q.014-.018.044-.018a.06.06 0 0 1 .044.018.06.06 0 0 1 .019.045' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 7.122 25.977)'/%3E%3Cpath d='M.622-.215a.2.2 0 0 1-.033.117.23.23 0 0 1-.098.081.4.4 0 0 1-.153.029.34.34 0 0 1-.175-.04.23.23 0 0 1-.079-.077.17.17 0 0 1-.031-.093q0-.027.019-.045a.06.06 0 0 1 .046-.019.06.06 0 0 1 .039.014.1.1 0 0 1 .027.044.3.3 0 0 0 .03.057q.015.023.044.038.03.015.076.015.065 0 .105-.03a.09.09 0 0 0 .04-.075.08.08 0 0 0-.022-.058.14.14 0 0 0-.056-.034 1 1 0 0 0-.092-.025.7.7 0 0 1-.129-.042.2.2 0 0 1-.083-.066.17.17 0 0 1-.03-.104q0-.058.032-.105a.2.2 0 0 1 .093-.07.4.4 0 0 1 .144-.025q.066 0 .114.016a.3.3 0 0 1 .08.044.2.2 0 0 1 .046.057q.015.03.015.058a.07.07 0 0 1-.018.046.06.06 0 0 1-.046.021q-.025 0-.038-.012a.2.2 0 0 1-.028-.041.2.2 0 0 0-.047-.063Q.387-.625.326-.625a.15.15 0 0 0-.09.025q-.035.024-.035.059 0 .021.012.037a.1.1 0 0 0 .032.027.4.4 0 0 0 .111.036q.06.015.11.031.048.018.083.042a.2.2 0 0 1 .054.062.2.2 0 0 1 .019.091' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 13.339 25.977)'/%3E%3Cpath d='m.184-.633.162.48.163-.483q.013-.038.019-.053a.062.062 0 0 1 .061-.039q.018 0 .034.009a.1.1 0 0 1 .025.025q.009.015.009.031L.654-.64l-.007.025-.009.024-.173.468-.019.051a.2.2 0 0 1-.021.042.1.1 0 0 1-.033.03.1.1 0 0 1-.049.012.1.1 0 0 1-.05-.011A.1.1 0 0 1 .26-.03a.2.2 0 0 1-.021-.042L.22-.123.05-.587.041-.612.033-.638.03-.662q0-.025.02-.046a.07.07 0 0 1 .05-.02q.037 0 .053.023.015.023.031.072' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 18.94 25.977)'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M384 131.9c-7.753-8.433-110.425-128.473-114.9-133L48-.1C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48zm-35.9 2.1H257V27.9zM30 479V27h200l1 105c0 13.3-1.3 29 12 29h111l1 318z' style='fill-rule:nonzero' transform='matrix(.06285 0 0 .06285 3.934 -.054)'/%3E%3Cpath d='M.688-.226a.2.2 0 0 1-.017.074.28.28 0 0 1-.145.14.412.412 0 0 1-.234.013.28.28 0 0 1-.202-.168.468.468 0 0 1-.04-.19q0-.086.025-.155a.319.319 0 0 1 .182-.191.4.4 0 0 1 .134-.025q.087 0 .155.035a.3.3 0 0 1 .104.085.17.17 0 0 1 .036.097.06.06 0 0 1-.018.044.06.06 0 0 1-.042.019.06.06 0 0 1-.042-.013.2.2 0 0 1-.031-.046.2.2 0 0 0-.066-.079.16.16 0 0 0-.095-.027.17.17 0 0 0-.142.068.3.3 0 0 0-.053.193.4.4 0 0 0 .023.139.2.2 0 0 0 .067.083.2.2 0 0 0 .1.027q.063 0 .106-.031a.2.2 0 0 0 .065-.091.2.2 0 0 1 .023-.046q.014-.018.044-.018a.06.06 0 0 1 .044.018.06.06 0 0 1 .019.045' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 7.122 25.977)'/%3E%3Cpath d='M.622-.215a.2.2 0 0 1-.033.117.23.23 0 0 1-.098.081.4.4 0 0 1-.153.029.34.34 0 0 1-.175-.04.23.23 0 0 1-.079-.077.17.17 0 0 1-.031-.093q0-.027.019-.045a.06.06 0 0 1 .046-.019.06.06 0 0 1 .039.014.1.1 0 0 1 .027.044.3.3 0 0 0 .03.057q.015.023.044.038.03.015.076.015.065 0 .105-.03a.09.09 0 0 0 .04-.075.08.08 0 0 0-.022-.058.14.14 0 0 0-.056-.034 1 1 0 0 0-.092-.025.7.7 0 0 1-.129-.042.2.2 0 0 1-.083-.066.17.17 0 0 1-.03-.104q0-.058.032-.105a.2.2 0 0 1 .093-.07.4.4 0 0 1 .144-.025q.066 0 .114.016a.3.3 0 0 1 .08.044.2.2 0 0 1 .046.057q.015.03.015.058a.07.07 0 0 1-.018.046.06.06 0 0 1-.046.021q-.025 0-.038-.012a.2.2 0 0 1-.028-.041.2.2 0 0 0-.047-.063Q.387-.625.326-.625a.15.15 0 0 0-.09.025q-.035.024-.035.059 0 .021.012.037a.1.1 0 0 0 .032.027.4.4 0 0 0 .111.036q.06.015.11.031.048.018.083.042a.2.2 0 0 1 .054.062.2.2 0 0 1 .019.091' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 13.339 25.977)'/%3E%3Cpath d='m.184-.633.162.48.163-.483q.013-.038.019-.053a.062.062 0 0 1 .061-.039q.018 0 .034.009a.1.1 0 0 1 .025.025q.009.015.009.031L.654-.64l-.007.025-.009.024-.173.468-.019.051a.2.2 0 0 1-.021.042.1.1 0 0 1-.033.03.1.1 0 0 1-.049.012.1.1 0 0 1-.05-.011A.1.1 0 0 1 .26-.03a.2.2 0 0 1-.021-.042L.22-.123.05-.587.041-.612.033-.638.03-.662q0-.025.02-.046a.07.07 0 0 1 .05-.02q.037 0 .053.023.015.023.031.072' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 18.94 25.977)'/%3E%3C/svg%3E")}.ag-icon-cut:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M13.775 15.198 3.835 2.945a1.501 1.501 0 0 1 2.33-1.89l14.997 18.488A6.003 6.003 0 0 1 29.657 25c0 3.311-2.688 6-6 6s-6-2.689-6-6c0-1.335.437-2.569 1.176-3.566l-3.127-3.855-3.001 3.7A5.97 5.97 0 0 1 14 25c0 3.311-2.689 6-6 6s-6-2.689-6-6a6.003 6.003 0 0 1 8.315-5.536zm9.882 6.702a3.1 3.1 0 0 0-3.1 3.1c0 1.711 1.389 3.1 3.1 3.1s3.1-1.389 3.1-3.1-1.389-3.1-3.1-3.1M8 21.95a3.05 3.05 0 1 0 .001 6.101A3.05 3.05 0 0 0 8 21.95m9.63-11.505 1.932 2.381 8.015-9.881a1.5 1.5 0 0 0-2.329-1.89z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M13.775 15.198 3.835 2.945a1.501 1.501 0 0 1 2.33-1.89l14.997 18.488A6.003 6.003 0 0 1 29.657 25c0 3.311-2.688 6-6 6s-6-2.689-6-6c0-1.335.437-2.569 1.176-3.566l-3.127-3.855-3.001 3.7A5.97 5.97 0 0 1 14 25c0 3.311-2.689 6-6 6s-6-2.689-6-6a6.003 6.003 0 0 1 8.315-5.536zm9.882 6.702a3.1 3.1 0 0 0-3.1 3.1c0 1.711 1.389 3.1 3.1 3.1s3.1-1.389 3.1-3.1-1.389-3.1-3.1-3.1M8 21.95a3.05 3.05 0 1 0 .001 6.101A3.05 3.05 0 0 0 8 21.95m9.63-11.505 1.932 2.381 8.015-9.881a1.5 1.5 0 0 0-2.329-1.89z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-desc:before,.ag-icon-down:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m26.667 16-1.88-1.88-7.453 7.44V5.333h-2.667V21.56l-7.44-7.453L5.334 16l10.667 10.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m26.667 16-1.88-1.88-7.453 7.44V5.333h-2.667V21.56l-7.44-7.453L5.334 16l10.667 10.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-excel:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M384 131.9c-7.753-8.433-110.425-128.473-114.9-133L48-.1C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48zm-35.9 2.1H257V27.9zM30 479V27h200l1 105c0 13.3-1.3 29 12 29h111l1 318z' style='fill-rule:nonzero' transform='matrix(.06285 0 0 .06285 3.934 -.054)'/%3E%3Cpath d='m.052-.139.16-.234-.135-.208a.4.4 0 0 1-.028-.052.1.1 0 0 1-.01-.042.05.05 0 0 1 .018-.037.07.07 0 0 1 .045-.016q.03 0 .047.018a1 1 0 0 1 .047.066l.107.174.115-.174.024-.038.019-.026.021-.015a.1.1 0 0 1 .027-.005.06.06 0 0 1 .044.016.05.05 0 0 1 .018.039q0 .033-.038.089l-.141.211.152.234a.3.3 0 0 1 .03.051.1.1 0 0 1 .009.038.1.1 0 0 1-.008.031.1.1 0 0 1-.024.023.1.1 0 0 1-.034.008.1.1 0 0 1-.035-.008.1.1 0 0 1-.023-.022L.427-.067.301-.265l-.134.204-.022.034-.016.019a.1.1 0 0 1-.022.015.1.1 0 0 1-.03.005.06.06 0 0 1-.044-.016.06.06 0 0 1-.017-.047q0-.036.036-.088' style='fill-rule:nonzero' transform='matrix(17.82892 0 0 16.50777 10.371 25.928)'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M384 131.9c-7.753-8.433-110.425-128.473-114.9-133L48-.1C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48zm-35.9 2.1H257V27.9zM30 479V27h200l1 105c0 13.3-1.3 29 12 29h111l1 318z' style='fill-rule:nonzero' transform='matrix(.06285 0 0 .06285 3.934 -.054)'/%3E%3Cpath d='m.052-.139.16-.234-.135-.208a.4.4 0 0 1-.028-.052.1.1 0 0 1-.01-.042.05.05 0 0 1 .018-.037.07.07 0 0 1 .045-.016q.03 0 .047.018a1 1 0 0 1 .047.066l.107.174.115-.174.024-.038.019-.026.021-.015a.1.1 0 0 1 .027-.005.06.06 0 0 1 .044.016.05.05 0 0 1 .018.039q0 .033-.038.089l-.141.211.152.234a.3.3 0 0 1 .03.051.1.1 0 0 1 .009.038.1.1 0 0 1-.008.031.1.1 0 0 1-.024.023.1.1 0 0 1-.034.008.1.1 0 0 1-.035-.008.1.1 0 0 1-.023-.022L.427-.067.301-.265l-.134.204-.022.034-.016.019a.1.1 0 0 1-.022.015.1.1 0 0 1-.03.005.06.06 0 0 1-.044-.016.06.06 0 0 1-.017-.047q0-.036.036-.088' style='fill-rule:nonzero' transform='matrix(17.82892 0 0 16.50777 10.371 25.928)'/%3E%3C/svg%3E")}.ag-icon-expanded:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M20 26 10 16 20 6l2 2-8 8 8 8z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M20 26 10 16 20 6l2 2-8 8 8 8z'/%3E%3C/svg%3E")}.ag-icon-eye-slash:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eeye-slash%3C/title%3E%3Cpath fill='%23000' fill-rule='nonzero' d='M8.95 10.364 7 8.414 8.414 7l2.32 2.32A13.2 13.2 0 0 1 16.5 8c5.608 0 10.542 3.515 12.381 8.667L29 17l-.119.333a13 13 0 0 1-4.255 5.879l1.466 1.466-1.414 1.414-1.754-1.753A13.2 13.2 0 0 1 16.5 26c-5.608 0-10.542-3.515-12.381-8.667L4 17l.119-.333a13 13 0 0 1 4.83-6.303m1.445 1.445A11.02 11.02 0 0 0 6.148 17c1.646 4.177 5.728 7 10.352 7 1.76 0 3.441-.409 4.94-1.146l-1.878-1.878A5.06 5.06 0 0 1 16.5 22c-2.789 0-5.05-2.239-5.05-5 0-1.158.398-2.223 1.065-3.07zm1.855-.974 1.794 1.795A5.07 5.07 0 0 1 16.5 12c2.789 0 5.05 2.239 5.05 5 0 .9-.24 1.745-.661 2.474l2.305 2.306A11 11 0 0 0 26.852 17c-1.646-4.177-5.728-7-10.352-7-1.495 0-2.933.295-4.25.835'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eeye-slash%3C/title%3E%3Cpath fill='%23000' fill-rule='nonzero' d='M8.95 10.364 7 8.414 8.414 7l2.32 2.32A13.2 13.2 0 0 1 16.5 8c5.608 0 10.542 3.515 12.381 8.667L29 17l-.119.333a13 13 0 0 1-4.255 5.879l1.466 1.466-1.414 1.414-1.754-1.753A13.2 13.2 0 0 1 16.5 26c-5.608 0-10.542-3.515-12.381-8.667L4 17l.119-.333a13 13 0 0 1 4.83-6.303m1.445 1.445A11.02 11.02 0 0 0 6.148 17c1.646 4.177 5.728 7 10.352 7 1.76 0 3.441-.409 4.94-1.146l-1.878-1.878A5.06 5.06 0 0 1 16.5 22c-2.789 0-5.05-2.239-5.05-5 0-1.158.398-2.223 1.065-3.07zm1.855-.974 1.794 1.795A5.07 5.07 0 0 1 16.5 12c2.789 0 5.05 2.239 5.05 5 0 .9-.24 1.745-.661 2.474l2.305 2.306A11 11 0 0 0 26.852 17c-1.646-4.177-5.728-7-10.352-7-1.495 0-2.933.295-4.25.835'/%3E%3C/svg%3E")}.ag-icon-eye:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M16.5 23c4.624 0 8.706-2.823 10.352-7-1.646-4.177-5.728-7-10.352-7s-8.706 2.823-10.352 7c1.646 4.177 5.728 7 10.352 7M4.119 15.667C5.958 10.515 10.892 7 16.5 7s10.542 3.515 12.381 8.667L29 16l-.119.333C27.042 21.485 22.108 25 16.5 25S5.958 21.485 4.119 16.333L4 16zM16.5 21c2.789 0 5.049-2.239 5.049-5s-2.26-5-5.049-5-5.049 2.239-5.049 5 2.26 5 5.049 5' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M16.5 23c4.624 0 8.706-2.823 10.352-7-1.646-4.177-5.728-7-10.352-7s-8.706 2.823-10.352 7c1.646 4.177 5.728 7 10.352 7M4.119 15.667C5.958 10.515 10.892 7 16.5 7s10.542 3.515 12.381 8.667L29 16l-.119.333C27.042 21.485 22.108 25 16.5 25S5.958 21.485 4.119 16.333L4 16zM16.5 21c2.789 0 5.049-2.239 5.049-5s-2.26-5-5.049-5-5.049 2.239-5.049 5 2.26 5 5.049 5' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-filter:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m28 8-8 8v5l-6 6V16L6 8V6h22zM9 8l7 7v7l2-2v-5l7-7z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m28 8-8 8v5l-6 6V16L6 8V6h22zM9 8l7 7v7l2-2v-5l7-7z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-first:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M24.273 22.12 18.153 16l6.12-6.12L22.393 8l-8 8 8 8zM7.727 8h2.667v16H7.727z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M24.273 22.12 18.153 16l6.12-6.12L22.393 8l-8 8 8 8zM7.727 8h2.667v16H7.727z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-group:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M14 7v1H9V7zm0-3v1H5.001V4zm-7 7H5v-1h2zm0-3H5V7h2zM3 5H1V4h2zm11 5v1H9v-1zm-7 4H5v-1h2zm7-1v1H9v-1z' style='fill-rule:nonzero' transform='matrix(2 0 0 2 0 -2)'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M14 7v1H9V7zm0-3v1H5.001V4zm-7 7H5v-1h2zm0-3H5V7h2zM3 5H1V4h2zm11 5v1H9v-1zm-7 4H5v-1h2zm7-1v1H9v-1z' style='fill-rule:nonzero' transform='matrix(2 0 0 2 0 -2)'/%3E%3C/svg%3E")}.ag-icon-last:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m7.727 9.88 6.12 6.12-6.12 6.12L9.607 24l8-8-8-8zM21.607 8h2.667v16h-2.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m7.727 9.88 6.12 6.12-6.12 6.12L9.607 24l8-8-8-8zM21.607 8h2.667v16h-2.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-left:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M26.667 14.667H10.44l7.453-7.453L16 5.334 5.333 16.001 16 26.668l1.88-1.88-7.44-7.453h16.227z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M26.667 14.667H10.44l7.453-7.453L16 5.334 5.333 16.001 16 26.668l1.88-1.88-7.44-7.453h16.227z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-linked:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M5.2 16a4.136 4.136 0 0 1 4.133-4.133h5.333V9.334H9.333a6.67 6.67 0 0 0-6.667 6.667 6.67 6.67 0 0 0 6.667 6.667h5.333v-2.533H9.333A4.136 4.136 0 0 1 5.2 16.002zm5.467 1.333h10.667v-2.667H10.667zm12-8h-5.333v2.533h5.333a4.136 4.136 0 0 1 4.133 4.133 4.136 4.136 0 0 1-4.133 4.133h-5.333v2.533h5.333a6.67 6.67 0 0 0 6.667-6.667 6.67 6.67 0 0 0-6.667-6.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M5.2 16a4.136 4.136 0 0 1 4.133-4.133h5.333V9.334H9.333a6.67 6.67 0 0 0-6.667 6.667 6.67 6.67 0 0 0 6.667 6.667h5.333v-2.533H9.333A4.136 4.136 0 0 1 5.2 16.002zm5.467 1.333h10.667v-2.667H10.667zm12-8h-5.333v2.533h5.333a4.136 4.136 0 0 1 4.133 4.133 4.136 4.136 0 0 1-4.133 4.133h-5.333v2.533h5.333a6.67 6.67 0 0 0 6.667-6.667 6.67 6.67 0 0 0-6.667-6.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-loading:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M17 29h-2v-8h2zm-3.586-9L7 26.414 5.586 25 12 18.586zm13 5L25 26.414 18.586 20 20 18.586zM29 17h-8v-2h8zm-18 0H3v-2h8zm2.414-5L12 13.414 5.586 7 7 5.586zm13-5L20 13.414 18.586 12 25 5.586zM17 11h-2V3h2z' style='fill-rule:nonzero' transform='translate(-3.692 -3.692)scale(1.23077)'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M17 29h-2v-8h2zm-3.586-9L7 26.414 5.586 25 12 18.586zm13 5L25 26.414 18.586 20 20 18.586zM29 17h-8v-2h8zm-18 0H3v-2h8zm2.414-5L12 13.414 5.586 7 7 5.586zm13-5L20 13.414 18.586 12 25 5.586zM17 11h-2V3h2z' style='fill-rule:nonzero' transform='translate(-3.692 -3.692)scale(1.23077)'/%3E%3C/svg%3E")}.ag-icon-maximize:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M14 30H2V18h2.828v7.05l8.254-8.252 2.12 2.12-8.252 8.254H14zm4-28h12v12h-2.828V6.95l-8.254 8.252-2.12-2.12 8.252-8.254H18z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M14 30H2V18h2.828v7.05l8.254-8.252 2.12 2.12-8.252 8.254H14zm4-28h12v12h-2.828V6.95l-8.254 8.252-2.12-2.12 8.252-8.254H18z'/%3E%3C/svg%3E")}.ag-icon-menu:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M20 13H0v-2h20zm0-6H0V5h20zm0-6H0v-2h20z' style='fill-rule:nonzero' transform='translate(6 9)'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M20 13H0v-2h20zm0-6H0V5h20zm0-6H0v-2h20z' style='fill-rule:nonzero' transform='translate(6 9)'/%3E%3C/svg%3E")}.ag-icon-menu-alt:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='%23000' d='M16 19a3 3 0 1 0 0-6 3 3 0 0 0 0 6M16 11a3 3 0 1 0 0-6 3 3 0 0 0 0 6M16 27a3 3 0 1 0 0-6 3 3 0 0 0 0 6'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='%23000' d='M16 19a3 3 0 1 0 0-6 3 3 0 0 0 0 6M16 11a3 3 0 1 0 0-6 3 3 0 0 0 0 6M16 27a3 3 0 1 0 0-6 3 3 0 0 0 0 6'/%3E%3C/svg%3E")}.ag-icon-minimize:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M2 18h12v12h-2.828v-7.05l-8.254 8.252-2.12-2.12 8.252-8.254H2zm28-4H18V2h2.828v7.05L29.082.798l2.12 2.12-8.252 8.254H30z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M2 18h12v12h-2.828v-7.05l-8.254 8.252-2.12-2.12 8.252-8.254H2zm28-4H18V2h2.828v7.05L29.082.798l2.12 2.12-8.252 8.254H30z'/%3E%3C/svg%3E")}.ag-icon-minus:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M6.572 6.572a13.32 13.32 0 0 0 0 18.856 13.32 13.32 0 0 0 18.856 0 13.32 13.32 0 0 0 0-18.856 13.32 13.32 0 0 0-18.856 0m17.527 8.099v2.658H7.901v-2.658z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M6.572 6.572a13.32 13.32 0 0 0 0 18.856 13.32 13.32 0 0 0 18.856 0 13.32 13.32 0 0 0 0-18.856 13.32 13.32 0 0 0-18.856 0m17.527 8.099v2.658H7.901v-2.658z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-next:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M10.94 6 9.06 7.88 17.167 16 9.06 24.12 10.94 26l10-10z' style='fill-rule:nonzero' transform='translate(1)'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M10.94 6 9.06 7.88 17.167 16 9.06 24.12 10.94 26l10-10z' style='fill-rule:nonzero' transform='translate(1)'/%3E%3C/svg%3E")}.ag-icon-none:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Enone%3C/title%3E%3Cg fill='%23000' fill-rule='nonzero'%3E%3Cpath d='M23.708 14.645 16 6.939l-7.708 7.706 1.416 1.416L16 9.767l6.292 6.294zM23.708 20.355 16 28.061l-7.708-7.706 1.416-1.416L16 25.233l6.292-6.294z'/%3E%3C/g%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Enone%3C/title%3E%3Cg fill='%23000' fill-rule='nonzero'%3E%3Cpath d='M23.708 14.645 16 6.939l-7.708 7.706 1.416 1.416L16 9.767l6.292 6.294zM23.708 20.355 16 28.061l-7.708-7.706 1.416-1.416L16 25.233l6.292-6.294z'/%3E%3C/g%3E%3C/svg%3E")}.ag-icon-not-allowed:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M16 2.667C8.64 2.667 2.667 8.64 2.667 16S8.64 29.333 16 29.333 29.333 23.36 29.333 16 23.36 2.667 16 2.667M5.333 16c0-5.893 4.773-10.667 10.667-10.667 2.467 0 4.733.84 6.533 2.253L7.586 22.533A10.54 10.54 0 0 1 5.333 16M16 26.667c-2.467 0-4.733-.84-6.533-2.253L24.414 9.467A10.54 10.54 0 0 1 26.667 16c0 5.893-4.773 10.667-10.667 10.667' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M16 2.667C8.64 2.667 2.667 8.64 2.667 16S8.64 29.333 16 29.333 29.333 23.36 29.333 16 23.36 2.667 16 2.667M5.333 16c0-5.893 4.773-10.667 10.667-10.667 2.467 0 4.733.84 6.533 2.253L7.586 22.533A10.54 10.54 0 0 1 5.333 16M16 26.667c-2.467 0-4.733-.84-6.533-2.253L24.414 9.467A10.54 10.54 0 0 1 26.667 16c0 5.893-4.773 10.667-10.667 10.667' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-paste:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M25.334 4H19.76C19.2 2.453 17.733 1.333 16 1.333S12.8 2.453 12.24 4H6.667A2.675 2.675 0 0 0 4 6.667V28c0 1.467 1.2 2.667 2.667 2.667h18.667c1.467 0 2.667-1.2 2.667-2.667V6.667C28.001 5.2 26.801 4 25.334 4M16 4c.733 0 1.333.6 1.333 1.333s-.6 1.333-1.333 1.333-1.333-.6-1.333-1.333S15.267 4 16 4m9.333 24H6.666V6.667h2.667v4h13.333v-4h2.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M25.334 4H19.76C19.2 2.453 17.733 1.333 16 1.333S12.8 2.453 12.24 4H6.667A2.675 2.675 0 0 0 4 6.667V28c0 1.467 1.2 2.667 2.667 2.667h18.667c1.467 0 2.667-1.2 2.667-2.667V6.667C28.001 5.2 26.801 4 25.334 4M16 4c.733 0 1.333.6 1.333 1.333s-.6 1.333-1.333 1.333-1.333-.6-1.333-1.333S15.267 4 16 4m9.333 24H6.666V6.667h2.667v4h13.333v-4h2.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-pin:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m10.78 19.777-4.668-4.666s.032-1 .67-1.87c1.366-1.86 4.052-1.96 6.056-1.572l3.158-3.108c-.7-2.342 3.352-5.046 3.352-5.046l9.166 9.168q-.334.447-.67.894c-1.074 1.426-2.538 2.63-4.272 2.338l-3.32 3.218c.046.344.042.03.118 1.152.144 2.13-.64 4.324-2.632 5.34l-.746.364-4.798-4.798-7.292 7.294-1.416-1.416zm8.24-13.672c-.688.568-1.416 1.45-1.024 2.072l.49.722-4.986 4.988c-1.988-.506-4.346-.636-5.156.614l9.02 9.032q.14-.099.272-.21c1.226-1.08.764-3.04.498-4.9l4.79-4.79s1.47.938 2.936-.776l-6.79-6.79q-.026.019-.05.038' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m10.78 19.777-4.668-4.666s.032-1 .67-1.87c1.366-1.86 4.052-1.96 6.056-1.572l3.158-3.108c-.7-2.342 3.352-5.046 3.352-5.046l9.166 9.168q-.334.447-.67.894c-1.074 1.426-2.538 2.63-4.272 2.338l-3.32 3.218c.046.344.042.03.118 1.152.144 2.13-.64 4.324-2.632 5.34l-.746.364-4.798-4.798-7.292 7.294-1.416-1.416zm8.24-13.672c-.688.568-1.416 1.45-1.024 2.072l.49.722-4.986 4.988c-1.988-.506-4.346-.636-5.156.614l9.02 9.032q.14-.099.272-.21c1.226-1.08.764-3.04.498-4.9l4.79-4.79s1.47.938 2.936-.776l-6.79-6.79q-.026.019-.05.038' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-pivot:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M25.128 2.002c2.56.096 4.772 2.292 4.87 4.87a712 712 0 0 1 0 18.256c-.096 2.56-2.292 4.772-4.87 4.87a712 712 0 0 1-18.256 0c-2.558-.096-4.772-2.29-4.87-4.87a712 712 0 0 1 0-18.256c.096-2.56 2.292-4.772 4.87-4.87a712 712 0 0 1 18.256 0m2.966 7.954H9.892v18.136c5.086.13 10.18.098 15.264-.096 1.48-.094 2.746-1.35 2.84-2.84.192-5.064.226-10.134.098-15.2M3.968 24.1q.015.528.036 1.056c.094 1.484 1.354 2.746 2.84 2.84l1.012.036V24.1zM22 15.414l-.292.294-1.416-1.416L23 11.586l2.708 2.706-1.416 1.416-.292-.294v3.592c-.032 2.604-2.246 4.892-4.872 4.992L15.414 24l.294.292-1.416 1.416L11.586 23l2.706-2.708 1.416 1.416-.322.32c3.372.03 6.578-.164 6.614-3.034zM3.88 18.038c.002 1.346.012 2.694.038 4.04h3.938v-4.04zm.05-6.062a681 681 0 0 0-.044 4.042h3.97v-4.042zm5.962-7.99Q8.449 3.999 7.006 4c-1.57.02-2.946 1.348-3.004 2.922q-.02 1.517-.042 3.034h3.896v-2.02h2.036zm14.244-.016v3.966h3.898q-.017-.546-.038-1.092c-.094-1.48-1.35-2.746-2.84-2.84q-.51-.019-1.02-.034m-8.14-.054q-2.035.022-4.07.048v3.972h4.07zm6.106.008a213 213 0 0 0-4.07-.022v4.034h4.07z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M25.128 2.002c2.56.096 4.772 2.292 4.87 4.87a712 712 0 0 1 0 18.256c-.096 2.56-2.292 4.772-4.87 4.87a712 712 0 0 1-18.256 0c-2.558-.096-4.772-2.29-4.87-4.87a712 712 0 0 1 0-18.256c.096-2.56 2.292-4.772 4.87-4.87a712 712 0 0 1 18.256 0m2.966 7.954H9.892v18.136c5.086.13 10.18.098 15.264-.096 1.48-.094 2.746-1.35 2.84-2.84.192-5.064.226-10.134.098-15.2M3.968 24.1q.015.528.036 1.056c.094 1.484 1.354 2.746 2.84 2.84l1.012.036V24.1zM22 15.414l-.292.294-1.416-1.416L23 11.586l2.708 2.706-1.416 1.416-.292-.294v3.592c-.032 2.604-2.246 4.892-4.872 4.992L15.414 24l.294.292-1.416 1.416L11.586 23l2.706-2.708 1.416 1.416-.322.32c3.372.03 6.578-.164 6.614-3.034zM3.88 18.038c.002 1.346.012 2.694.038 4.04h3.938v-4.04zm.05-6.062a681 681 0 0 0-.044 4.042h3.97v-4.042zm5.962-7.99Q8.449 3.999 7.006 4c-1.57.02-2.946 1.348-3.004 2.922q-.02 1.517-.042 3.034h3.896v-2.02h2.036zm14.244-.016v3.966h3.898q-.017-.546-.038-1.092c-.094-1.48-1.35-2.746-2.84-2.84q-.51-.019-1.02-.034m-8.14-.054q-2.035.022-4.07.048v3.972h4.07zm6.106.008a213 213 0 0 0-4.07-.022v4.034h4.07z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-plus:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M6.572 6.572a13.32 13.32 0 0 0 0 18.856 13.32 13.32 0 0 0 18.856 0 13.32 13.32 0 0 0 0-18.856 13.32 13.32 0 0 0-18.856 0m17.527 8.099v2.658h-6.77v6.77h-2.658v-6.77h-6.77v-2.658h6.77v-6.77h2.658v6.77z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M6.572 6.572a13.32 13.32 0 0 0 0 18.856 13.32 13.32 0 0 0 18.856 0 13.32 13.32 0 0 0 0-18.856 13.32 13.32 0 0 0-18.856 0m17.527 8.099v2.658h-6.77v6.77h-2.658v-6.77h-6.77v-2.658h6.77v-6.77h2.658v6.77z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-previous:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M21.94 7.88 20.06 6l-10 10 10 10 1.88-1.88L13.833 16z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M21.94 7.88 20.06 6l-10 10 10 10 1.88-1.88L13.833 16z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-right:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m16 5.333-1.88 1.88 7.44 7.453H5.333v2.667H21.56l-7.44 7.453 1.88 1.88 10.667-10.667L16 5.332z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m16 5.333-1.88 1.88 7.44 7.453H5.333v2.667H21.56l-7.44 7.453 1.88 1.88 10.667-10.667L16 5.332z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-save:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M15.708 2.355 8 10.061.292 2.355 1.708.939 8 7.233 14.292.939z' style='fill-rule:nonzero' transform='translate(8 14)'/%3E%3Cpath d='M5 26h22v2H5zM15 4h2v18h-2z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M15.708 2.355 8 10.061.292 2.355 1.708.939 8 7.233 14.292.939z' style='fill-rule:nonzero' transform='translate(8 14)'/%3E%3Cpath d='M5 26h22v2H5zM15 4h2v18h-2z'/%3E%3C/svg%3E")}.ag-icon-small-down:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M7.334 10.667 16 21.334l8.667-10.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M7.334 10.667 16 21.334l8.667-10.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-small-left:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M21.333 7.334 10.666 16l10.667 8.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M21.333 7.334 10.666 16l10.667 8.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-small-right:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M10.667 24.666 21.334 16 10.667 7.333z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M10.667 24.666 21.334 16 10.667 7.333z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-small-up:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M7.334 21.333 16 10.666l8.667 10.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M7.334 21.333 16 10.666l8.667 10.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-tick:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M11.586 22.96 27.718 6.828 29.84 8.95 11.586 27.202 2.4 18.016l2.12-2.122z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M11.586 22.96 27.718 6.828 29.84 8.95 11.586 27.202 2.4 18.016l2.12-2.122z'/%3E%3C/svg%3E")}.ag-icon-tree-closed:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m11.94 6-1.88 1.88L18.167 16l-8.107 8.12L11.94 26l10-10z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m11.94 6-1.88 1.88L18.167 16l-8.107 8.12L11.94 26l10-10z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-tree-indeterminate:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M6 13.5h20v3H6z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M6 13.5h20v3H6z'/%3E%3C/svg%3E")}.ag-icon-tree-open:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M24.12 9.06 16 17.167 7.88 9.06 6 10.94l10 10 10-10z' style='fill-rule:nonzero' transform='translate(0 1)'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M24.12 9.06 16 17.167 7.88 9.06 6 10.94l10 10 10-10z' style='fill-rule:nonzero' transform='translate(0 1)'/%3E%3C/svg%3E")}.ag-icon-unlinked:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M22.667 9.333h-5.333v2.533h5.333a4.136 4.136 0 0 1 4.133 4.133c0 1.907-1.307 3.507-3.08 3.973l1.947 1.947c2.173-1.107 3.667-3.32 3.667-5.92a6.67 6.67 0 0 0-6.667-6.667zm-1.334 5.334h-2.92l2.667 2.667h.253zM2.667 5.693 6.814 9.84A6.65 6.65 0 0 0 2.667 16a6.67 6.67 0 0 0 6.667 6.667h5.333v-2.533H9.334a4.136 4.136 0 0 1-4.133-4.133c0-2.12 1.613-3.867 3.68-4.093l2.76 2.76h-.973v2.667h3.64l3.027 3.027v2.307h2.307l5.347 5.333 1.68-1.68L4.362 4.002 2.669 5.695z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M22.667 9.333h-5.333v2.533h5.333a4.136 4.136 0 0 1 4.133 4.133c0 1.907-1.307 3.507-3.08 3.973l1.947 1.947c2.173-1.107 3.667-3.32 3.667-5.92a6.67 6.67 0 0 0-6.667-6.667zm-1.334 5.334h-2.92l2.667 2.667h.253zM2.667 5.693 6.814 9.84A6.65 6.65 0 0 0 2.667 16a6.67 6.67 0 0 0 6.667 6.667h5.333v-2.533H9.334a4.136 4.136 0 0 1-4.133-4.133c0-2.12 1.613-3.867 3.68-4.093l2.76 2.76h-.973v2.667h3.64l3.027 3.027v2.307h2.307l5.347 5.333 1.68-1.68L4.362 4.002 2.669 5.695z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-up:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m5.333 16 1.88 1.88 7.453-7.44v16.227h2.667V10.44l7.44 7.453L26.666 16 15.999 5.333 5.332 16z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m5.333 16 1.88 1.88 7.453-7.44v16.227h2.667V10.44l7.44 7.453L26.666 16 15.999 5.333 5.332 16z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-grip:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M8 24H6v-4h2zm6 0h-2v-4h2zm6 0h-2v-4h2zm6 0h-2v-4h2zM8 18H6v-4h2zm6 0h-2v-4h2zm6 0h-2v-4h2zm6 0h-2v-4h2zM8 12H6V8h2zm6 0h-2V8h2zm6 0h-2V8h2zm6 0h-2V8h2z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M8 24H6v-4h2zm6 0h-2v-4h2zm6 0h-2v-4h2zm6 0h-2v-4h2zM8 18H6v-4h2zm6 0h-2v-4h2zm6 0h-2v-4h2zm6 0h-2v-4h2zM8 12H6V8h2zm6 0h-2V8h2zm6 0h-2V8h2zm6 0h-2V8h2z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-settings:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='%23000' d='M30 8h-4.1c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2v2h14.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30zm-9 4c-1.7 0-3-1.3-3-3s1.3-3 3-3 3 1.3 3 3-1.3 3-3 3M2 24h4.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30v-2H15.9c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2zm9-4c1.7 0 3 1.3 3 3s-1.3 3-3 3-3-1.3-3-3 1.3-3 3-3'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='%23000' d='M30 8h-4.1c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2v2h14.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30zm-9 4c-1.7 0-3-1.3-3-3s1.3-3 3-3 3 1.3 3 3-1.3 3-3 3M2 24h4.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30v-2H15.9c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2zm9-4c1.7 0 3 1.3 3 3s-1.3 3-3 3-3-1.3-3-3 1.3-3 3-3'/%3E%3C/svg%3E")}`,iw=k1("iconSet","alpine").withCSS(n6),i6=`.ag-icon:before{background-color:currentColor;content:"";display:block;height:var(--ag-icon-size);-webkit-mask-image:linear-gradient(#0000,#0000);mask-image:linear-gradient(#0000,#0000);-webkit-mask-size:contain;mask-size:contain;width:var(--ag-icon-size)}.ag-icon-aggregation:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eaggregation%3C/title%3E%3Cpath d='M24 5.333H8V8l8.667 8L8 24v2.667h16v-4h-9.333L21.334 16l-6.667-6.667H24z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eaggregation%3C/title%3E%3Cpath d='M24 5.333H8V8l8.667 8L8 24v2.667h16v-4h-9.333L21.334 16l-6.667-6.667H24z'/%3E%3C/svg%3E")}.ag-icon-arrows:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Earrows%3C/title%3E%3Cpath d='M13.333 11.556h5.333V8h3.556L16 1.778 9.778 8h3.556zm-1.777 1.777H8V9.777l-6.222 6.222L8 22.221v-3.556h3.556zM30.222 16 24 9.778v3.556h-3.556v5.333H24v3.556l6.222-6.222zm-11.555 4.444h-5.333V24H9.778L16 30.222 22.222 24h-3.556z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Earrows%3C/title%3E%3Cpath d='M13.333 11.556h5.333V8h3.556L16 1.778 9.778 8h3.556zm-1.777 1.777H8V9.777l-6.222 6.222L8 22.221v-3.556h3.556zM30.222 16 24 9.778v3.556h-3.556v5.333H24v3.556l6.222-6.222zm-11.555 4.444h-5.333V24H9.778L16 30.222 22.222 24h-3.556z'/%3E%3C/svg%3E")}.ag-icon-asc:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Easc%3C/title%3E%3Cpath d='m5.333 16 1.88 1.88 7.453-7.44v16.227h2.667V10.44l7.44 7.453L26.666 16 15.999 5.333z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Easc%3C/title%3E%3Cpath d='m5.333 16 1.88 1.88 7.453-7.44v16.227h2.667V10.44l7.44 7.453L26.666 16 15.999 5.333z'/%3E%3C/svg%3E")}.ag-icon-cancel:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecancel%3C/title%3E%3Cpath d='M16 2.667C8.627 2.667 2.667 8.627 2.667 16S8.627 29.333 16 29.333 29.333 23.373 29.333 16 23.373 2.667 16 2.667m6.667 18.12-1.88 1.88L16 17.88l-4.787 4.787-1.88-1.88L14.12 16l-4.787-4.787 1.88-1.88L16 14.12l4.787-4.787 1.88 1.88L17.88 16z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecancel%3C/title%3E%3Cpath d='M16 2.667C8.627 2.667 2.667 8.627 2.667 16S8.627 29.333 16 29.333 29.333 23.373 29.333 16 23.373 2.667 16 2.667m6.667 18.12-1.88 1.88L16 17.88l-4.787 4.787-1.88-1.88L14.12 16l-4.787-4.787 1.88-1.88L16 14.12l4.787-4.787 1.88 1.88L17.88 16z'/%3E%3C/svg%3E")}.ag-icon-chart:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Echart%3C/title%3E%3Cpath d='M6.667 12.267h4v13.067h-4zm7.466-5.6h3.733v18.667h-3.733zM21.6 17.333h3.733v8H21.6z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Echart%3C/title%3E%3Cpath d='M6.667 12.267h4v13.067h-4zm7.466-5.6h3.733v18.667h-3.733zM21.6 17.333h3.733v8H21.6z'/%3E%3C/svg%3E")}.ag-icon-color-picker:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecolor-picker%3C/title%3E%3Cpath d='M23.907 17.587 10.574 4.254l-1.88 1.88 3.173 3.173-8.28 8.28 10.16 10.16zm-16.547 0 6.387-6.387 6.387 6.387H7.361zm18.387 2s-2.667 2.893-2.667 4.667c0 1.467 1.2 2.667 2.667 2.667s2.667-1.2 2.667-2.667c0-1.773-2.667-4.667-2.667-4.667'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecolor-picker%3C/title%3E%3Cpath d='M23.907 17.587 10.574 4.254l-1.88 1.88 3.173 3.173-8.28 8.28 10.16 10.16zm-16.547 0 6.387-6.387 6.387 6.387H7.361zm18.387 2s-2.667 2.893-2.667 4.667c0 1.467 1.2 2.667 2.667 2.667s2.667-1.2 2.667-2.667c0-1.773-2.667-4.667-2.667-4.667'/%3E%3C/svg%3E")}.ag-icon-columns:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecolumns%3C/title%3E%3Cpath d='M5.333 10.667h5.333V5.334H5.333zm8 16h5.333v-5.333h-5.333zm-8 0h5.333v-5.333H5.333zm0-8h5.333v-5.333H5.333zm8 0h5.333v-5.333h-5.333zm8-13.334v5.333h5.333V5.333zm-8 5.334h5.333V5.334h-5.333zm8 8h5.333v-5.333h-5.333zm0 8h5.333v-5.333h-5.333z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecolumns%3C/title%3E%3Cpath d='M5.333 10.667h5.333V5.334H5.333zm8 16h5.333v-5.333h-5.333zm-8 0h5.333v-5.333H5.333zm0-8h5.333v-5.333H5.333zm8 0h5.333v-5.333h-5.333zm8-13.334v5.333h5.333V5.333zm-8 5.334h5.333V5.334h-5.333zm8 8h5.333v-5.333h-5.333zm0 8h5.333v-5.333h-5.333z'/%3E%3C/svg%3E")}.ag-icon-contracted:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Econtracted%3C/title%3E%3Cpath d='m12.94 8-1.88 1.88L17.167 16l-6.107 6.12L12.94 24l8-8z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Econtracted%3C/title%3E%3Cpath d='m12.94 8-1.88 1.88L17.167 16l-6.107 6.12L12.94 24l8-8z'/%3E%3C/svg%3E")}.ag-icon-copy:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecopy%3C/title%3E%3Cpath d='M22 1.333H6A2.675 2.675 0 0 0 3.333 4v18.667H6V4h16zm4 5.334H11.333a2.675 2.675 0 0 0-2.667 2.667v18.667c0 1.467 1.2 2.667 2.667 2.667H26c1.467 0 2.667-1.2 2.667-2.667V9.334c0-1.467-1.2-2.667-2.667-2.667M26 28H11.333V9.333H26z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecopy%3C/title%3E%3Cpath d='M22 1.333H6A2.675 2.675 0 0 0 3.333 4v18.667H6V4h16zm4 5.334H11.333a2.675 2.675 0 0 0-2.667 2.667v18.667c0 1.467 1.2 2.667 2.667 2.667H26c1.467 0 2.667-1.2 2.667-2.667V9.334c0-1.467-1.2-2.667-2.667-2.667M26 28H11.333V9.333H26z'/%3E%3C/svg%3E")}.ag-icon-cross:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecross%3C/title%3E%3Cpath d='m25.333 8.547-1.88-1.88L16 14.12 8.547 6.667l-1.88 1.88L14.12 16l-7.453 7.453 1.88 1.88L16 17.88l7.453 7.453 1.88-1.88L17.88 16z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecross%3C/title%3E%3Cpath d='m25.333 8.547-1.88-1.88L16 14.12 8.547 6.667l-1.88 1.88L14.12 16l-7.453 7.453 1.88 1.88L16 17.88l7.453 7.453 1.88-1.88L17.88 16z'/%3E%3C/svg%3E")}.ag-icon-csv:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M384 131.9c-7.753-8.433-110.425-128.473-114.9-133L48-.1C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48zm-35.9 2.1H257V27.9zM30 479V27h200l1 105c0 13.3-1.3 29 12 29h111l1 318z' style='fill-rule:nonzero' transform='matrix(.06285 0 0 .06285 3.934 -.054)'/%3E%3Cpath d='M.688-.226a.2.2 0 0 1-.017.074.28.28 0 0 1-.145.14.412.412 0 0 1-.234.013.28.28 0 0 1-.202-.168.468.468 0 0 1-.04-.19q0-.086.025-.155a.319.319 0 0 1 .182-.191.4.4 0 0 1 .134-.025q.087 0 .155.035a.3.3 0 0 1 .104.085.17.17 0 0 1 .036.097.06.06 0 0 1-.018.044.06.06 0 0 1-.042.019.06.06 0 0 1-.042-.013.2.2 0 0 1-.031-.046.2.2 0 0 0-.066-.079.16.16 0 0 0-.095-.027.17.17 0 0 0-.142.068.3.3 0 0 0-.053.193.4.4 0 0 0 .023.139.2.2 0 0 0 .067.083.2.2 0 0 0 .1.027q.063 0 .106-.031a.2.2 0 0 0 .065-.091.2.2 0 0 1 .023-.046q.014-.018.044-.018a.06.06 0 0 1 .044.018.06.06 0 0 1 .019.045' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 7.122 25.977)'/%3E%3Cpath d='M.622-.215a.2.2 0 0 1-.033.117.23.23 0 0 1-.098.081.4.4 0 0 1-.153.029.34.34 0 0 1-.175-.04.23.23 0 0 1-.079-.077.17.17 0 0 1-.031-.093q0-.027.019-.045a.06.06 0 0 1 .046-.019.06.06 0 0 1 .039.014.1.1 0 0 1 .027.044.3.3 0 0 0 .03.057q.015.023.044.038.03.015.076.015.065 0 .105-.03a.09.09 0 0 0 .04-.075.08.08 0 0 0-.022-.058.14.14 0 0 0-.056-.034 1 1 0 0 0-.092-.025.7.7 0 0 1-.129-.042.2.2 0 0 1-.083-.066.17.17 0 0 1-.03-.104q0-.058.032-.105a.2.2 0 0 1 .093-.07.4.4 0 0 1 .144-.025q.066 0 .114.016a.3.3 0 0 1 .08.044.2.2 0 0 1 .046.057q.015.03.015.058a.07.07 0 0 1-.018.046.06.06 0 0 1-.046.021q-.025 0-.038-.012a.2.2 0 0 1-.028-.041.2.2 0 0 0-.047-.063Q.387-.625.326-.625a.15.15 0 0 0-.09.025q-.035.024-.035.059 0 .021.012.037a.1.1 0 0 0 .032.027.4.4 0 0 0 .111.036q.06.015.11.031.048.018.083.042a.2.2 0 0 1 .054.062.2.2 0 0 1 .019.091' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 13.339 25.977)'/%3E%3Cpath d='m.184-.633.162.48.163-.483q.013-.038.019-.053a.062.062 0 0 1 .061-.039q.018 0 .034.009a.1.1 0 0 1 .025.025q.009.015.009.031L.654-.64l-.007.025-.009.024-.173.468-.019.051a.2.2 0 0 1-.021.042.1.1 0 0 1-.033.03.1.1 0 0 1-.049.012.1.1 0 0 1-.05-.011A.1.1 0 0 1 .26-.03a.2.2 0 0 1-.021-.042L.22-.123.05-.587.041-.612.033-.638.03-.662q0-.025.02-.046a.07.07 0 0 1 .05-.02q.037 0 .053.023.015.023.031.072' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 18.94 25.977)'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M384 131.9c-7.753-8.433-110.425-128.473-114.9-133L48-.1C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48zm-35.9 2.1H257V27.9zM30 479V27h200l1 105c0 13.3-1.3 29 12 29h111l1 318z' style='fill-rule:nonzero' transform='matrix(.06285 0 0 .06285 3.934 -.054)'/%3E%3Cpath d='M.688-.226a.2.2 0 0 1-.017.074.28.28 0 0 1-.145.14.412.412 0 0 1-.234.013.28.28 0 0 1-.202-.168.468.468 0 0 1-.04-.19q0-.086.025-.155a.319.319 0 0 1 .182-.191.4.4 0 0 1 .134-.025q.087 0 .155.035a.3.3 0 0 1 .104.085.17.17 0 0 1 .036.097.06.06 0 0 1-.018.044.06.06 0 0 1-.042.019.06.06 0 0 1-.042-.013.2.2 0 0 1-.031-.046.2.2 0 0 0-.066-.079.16.16 0 0 0-.095-.027.17.17 0 0 0-.142.068.3.3 0 0 0-.053.193.4.4 0 0 0 .023.139.2.2 0 0 0 .067.083.2.2 0 0 0 .1.027q.063 0 .106-.031a.2.2 0 0 0 .065-.091.2.2 0 0 1 .023-.046q.014-.018.044-.018a.06.06 0 0 1 .044.018.06.06 0 0 1 .019.045' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 7.122 25.977)'/%3E%3Cpath d='M.622-.215a.2.2 0 0 1-.033.117.23.23 0 0 1-.098.081.4.4 0 0 1-.153.029.34.34 0 0 1-.175-.04.23.23 0 0 1-.079-.077.17.17 0 0 1-.031-.093q0-.027.019-.045a.06.06 0 0 1 .046-.019.06.06 0 0 1 .039.014.1.1 0 0 1 .027.044.3.3 0 0 0 .03.057q.015.023.044.038.03.015.076.015.065 0 .105-.03a.09.09 0 0 0 .04-.075.08.08 0 0 0-.022-.058.14.14 0 0 0-.056-.034 1 1 0 0 0-.092-.025.7.7 0 0 1-.129-.042.2.2 0 0 1-.083-.066.17.17 0 0 1-.03-.104q0-.058.032-.105a.2.2 0 0 1 .093-.07.4.4 0 0 1 .144-.025q.066 0 .114.016a.3.3 0 0 1 .08.044.2.2 0 0 1 .046.057q.015.03.015.058a.07.07 0 0 1-.018.046.06.06 0 0 1-.046.021q-.025 0-.038-.012a.2.2 0 0 1-.028-.041.2.2 0 0 0-.047-.063Q.387-.625.326-.625a.15.15 0 0 0-.09.025q-.035.024-.035.059 0 .021.012.037a.1.1 0 0 0 .032.027.4.4 0 0 0 .111.036q.06.015.11.031.048.018.083.042a.2.2 0 0 1 .054.062.2.2 0 0 1 .019.091' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 13.339 25.977)'/%3E%3Cpath d='m.184-.633.162.48.163-.483q.013-.038.019-.053a.062.062 0 0 1 .061-.039q.018 0 .034.009a.1.1 0 0 1 .025.025q.009.015.009.031L.654-.64l-.007.025-.009.024-.173.468-.019.051a.2.2 0 0 1-.021.042.1.1 0 0 1-.033.03.1.1 0 0 1-.049.012.1.1 0 0 1-.05-.011A.1.1 0 0 1 .26-.03a.2.2 0 0 1-.021-.042L.22-.123.05-.587.041-.612.033-.638.03-.662q0-.025.02-.046a.07.07 0 0 1 .05-.02q.037 0 .053.023.015.023.031.072' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 18.94 25.977)'/%3E%3C/svg%3E")}.ag-icon-cut:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m19 3-6 6 2 2 7-7V3m-10 9.5a.503.503 0 0 1-.5-.5c0-.274.226-.5.5-.5s.5.226.5.5-.226.5-.5.5M6 20c-1.097 0-2-.903-2-2a2 2 0 0 1 2-2c1.097 0 2 .903 2 2a2 2 0 0 1-2 2M6 8c-1.097 0-2-.903-2-2a2 2 0 0 1 2-2c1.097 0 2 .903 2 2a2 2 0 0 1-2 2m3.64-.36c.23-.5.36-1.05.36-1.64 0-2.194-1.806-4-4-4S2 3.806 2 6s1.806 4 4 4c.59 0 1.14-.13 1.64-.36L10 12l-2.36 2.36C7.14 14.13 6.59 14 6 14c-2.194 0-4 1.806-4 4s1.806 4 4 4 4-1.806 4-4c0-.59-.13-1.14-.36-1.64L12 14l7 7h3v-1z' style='fill-rule:nonzero' transform='translate(4 4)'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m19 3-6 6 2 2 7-7V3m-10 9.5a.503.503 0 0 1-.5-.5c0-.274.226-.5.5-.5s.5.226.5.5-.226.5-.5.5M6 20c-1.097 0-2-.903-2-2a2 2 0 0 1 2-2c1.097 0 2 .903 2 2a2 2 0 0 1-2 2M6 8c-1.097 0-2-.903-2-2a2 2 0 0 1 2-2c1.097 0 2 .903 2 2a2 2 0 0 1-2 2m3.64-.36c.23-.5.36-1.05.36-1.64 0-2.194-1.806-4-4-4S2 3.806 2 6s1.806 4 4 4c.59 0 1.14-.13 1.64-.36L10 12l-2.36 2.36C7.14 14.13 6.59 14 6 14c-2.194 0-4 1.806-4 4s1.806 4 4 4 4-1.806 4-4c0-.59-.13-1.14-.36-1.64L12 14l7 7h3v-1z' style='fill-rule:nonzero' transform='translate(4 4)'/%3E%3C/svg%3E")}.ag-icon-desc:before,.ag-icon-down:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Edesc%3C/title%3E%3Cpath d='m26.667 16-1.88-1.88-7.453 7.44V5.333h-2.667V21.56l-7.44-7.453L5.334 16l10.667 10.667L26.668 16z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Edesc%3C/title%3E%3Cpath d='m26.667 16-1.88-1.88-7.453 7.44V5.333h-2.667V21.56l-7.44-7.453L5.334 16l10.667 10.667L26.668 16z'/%3E%3C/svg%3E")}.ag-icon-excel:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M384 131.9c-7.753-8.433-110.425-128.473-114.9-133L48-.1C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48zm-35.9 2.1H257V27.9zM30 479V27h200l1 105c0 13.3-1.3 29 12 29h111l1 318z' style='fill-rule:nonzero' transform='matrix(.06285 0 0 .06285 3.934 -.054)'/%3E%3Cpath d='m.052-.139.16-.234-.135-.208a.4.4 0 0 1-.028-.052.1.1 0 0 1-.01-.042.05.05 0 0 1 .018-.037.07.07 0 0 1 .045-.016q.03 0 .047.018a1 1 0 0 1 .047.066l.107.174.115-.174.024-.038.019-.026.021-.015a.1.1 0 0 1 .027-.005.06.06 0 0 1 .044.016.05.05 0 0 1 .018.039q0 .033-.038.089l-.141.211.152.234a.3.3 0 0 1 .03.051.1.1 0 0 1 .009.038.1.1 0 0 1-.008.031.1.1 0 0 1-.024.023.1.1 0 0 1-.034.008.1.1 0 0 1-.035-.008.1.1 0 0 1-.023-.022L.427-.067.301-.265l-.134.204-.022.034-.016.019a.1.1 0 0 1-.022.015.1.1 0 0 1-.03.005.06.06 0 0 1-.044-.016.06.06 0 0 1-.017-.047q0-.036.036-.088' style='fill-rule:nonzero' transform='matrix(17.82892 0 0 16.50777 10.371 25.928)'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M384 131.9c-7.753-8.433-110.425-128.473-114.9-133L48-.1C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48zm-35.9 2.1H257V27.9zM30 479V27h200l1 105c0 13.3-1.3 29 12 29h111l1 318z' style='fill-rule:nonzero' transform='matrix(.06285 0 0 .06285 3.934 -.054)'/%3E%3Cpath d='m.052-.139.16-.234-.135-.208a.4.4 0 0 1-.028-.052.1.1 0 0 1-.01-.042.05.05 0 0 1 .018-.037.07.07 0 0 1 .045-.016q.03 0 .047.018a1 1 0 0 1 .047.066l.107.174.115-.174.024-.038.019-.026.021-.015a.1.1 0 0 1 .027-.005.06.06 0 0 1 .044.016.05.05 0 0 1 .018.039q0 .033-.038.089l-.141.211.152.234a.3.3 0 0 1 .03.051.1.1 0 0 1 .009.038.1.1 0 0 1-.008.031.1.1 0 0 1-.024.023.1.1 0 0 1-.034.008.1.1 0 0 1-.035-.008.1.1 0 0 1-.023-.022L.427-.067.301-.265l-.134.204-.022.034-.016.019a.1.1 0 0 1-.022.015.1.1 0 0 1-.03.005.06.06 0 0 1-.044-.016.06.06 0 0 1-.017-.047q0-.036.036-.088' style='fill-rule:nonzero' transform='matrix(17.82892 0 0 16.50777 10.371 25.928)'/%3E%3C/svg%3E")}.ag-icon-expanded:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eexpanded%3C/title%3E%3Cpath d='M20.94 9.88 19.06 8l-8 8 8 8 1.88-1.88L14.833 16z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eexpanded%3C/title%3E%3Cpath d='M20.94 9.88 19.06 8l-8 8 8 8 1.88-1.88L14.833 16z'/%3E%3C/svg%3E")}.ag-icon-eye-slash:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eeye-slash%3C/title%3E%3Cpath d='M21.106 15.088A5.19 5.19 0 0 0 16 10.814a5.17 5.17 0 0 0-3.668 1.522L9.866 9.868a12.2 12.2 0 0 1 6.133-1.646c5.186 0 9.614 3.225 11.408 7.778a12.34 12.34 0 0 1-5.276 6.133l-2.468-2.466a5.17 5.17 0 0 0 1.449-2.802h-2.123c-.148.508-.42.964-.782 1.33l-1.33-1.33h-2.514l2.196 2.196q-.272.049-.56.05a3.11 3.11 0 0 1-2.99-2.245h-2.123a5.19 5.19 0 0 0 7.3 3.836l2.247 2.247a12.2 12.2 0 0 1-4.434.828c-5.186 0-9.614-3.225-11.408-7.778a12.3 12.3 0 0 1 3.781-5.111l2.924 2.924a5.1 5.1 0 0 0-.404 1.275h4.206l-1.296-1.296a3.1 3.1 0 0 1 2.196-.903c1.404 0 2.587.924 2.976 2.199h2.13z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eeye-slash%3C/title%3E%3Cpath d='M21.106 15.088A5.19 5.19 0 0 0 16 10.814a5.17 5.17 0 0 0-3.668 1.522L9.866 9.868a12.2 12.2 0 0 1 6.133-1.646c5.186 0 9.614 3.225 11.408 7.778a12.34 12.34 0 0 1-5.276 6.133l-2.468-2.466a5.17 5.17 0 0 0 1.449-2.802h-2.123c-.148.508-.42.964-.782 1.33l-1.33-1.33h-2.514l2.196 2.196q-.272.049-.56.05a3.11 3.11 0 0 1-2.99-2.245h-2.123a5.19 5.19 0 0 0 7.3 3.836l2.247 2.247a12.2 12.2 0 0 1-4.434.828c-5.186 0-9.614-3.225-11.408-7.778a12.3 12.3 0 0 1 3.781-5.111l2.924 2.924a5.1 5.1 0 0 0-.404 1.275h4.206l-1.296-1.296a3.1 3.1 0 0 1 2.196-.903c1.404 0 2.587.924 2.976 2.199h2.13z'/%3E%3C/svg%3E")}.ag-icon-eye:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eeye%3C/title%3E%3Cpath d='M16 8.222c-5.186 0-9.614 3.225-11.408 7.778 1.794 4.553 6.222 7.778 11.408 7.778S25.614 20.553 27.408 16C25.614 11.447 21.186 8.222 16 8.222m0 12.964c-2.862 0-5.186-2.324-5.186-5.186s2.324-5.186 5.186-5.186 5.186 2.324 5.186 5.186-2.324 5.186-5.186 5.186m0-8.297c-1.721 0-3.111 1.39-3.111 3.111s1.39 3.111 3.111 3.111 3.111-1.39 3.111-3.111-1.39-3.111-3.111-3.111'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eeye%3C/title%3E%3Cpath d='M16 8.222c-5.186 0-9.614 3.225-11.408 7.778 1.794 4.553 6.222 7.778 11.408 7.778S25.614 20.553 27.408 16C25.614 11.447 21.186 8.222 16 8.222m0 12.964c-2.862 0-5.186-2.324-5.186-5.186s2.324-5.186 5.186-5.186 5.186 2.324 5.186 5.186-2.324 5.186-5.186 5.186m0-8.297c-1.721 0-3.111 1.39-3.111 3.111s1.39 3.111 3.111 3.111 3.111-1.39 3.111-3.111-1.39-3.111-3.111-3.111'/%3E%3C/svg%3E")}.ag-icon-filter:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Efilter%3C/title%3E%3Cpath d='M13.333 24h5.333v-2.667h-5.333zM4 8v2.667h24V8zm4 9.333h16v-2.667H8z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Efilter%3C/title%3E%3Cpath d='M13.333 24h5.333v-2.667h-5.333zM4 8v2.667h24V8zm4 9.333h16v-2.667H8z'/%3E%3C/svg%3E")}.ag-icon-first:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Efirst%3C/title%3E%3Cpath d='M24.273 22.12 18.153 16l6.12-6.12L22.393 8l-8 8 8 8zM7.727 8h2.667v16H7.727z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Efirst%3C/title%3E%3Cpath d='M24.273 22.12 18.153 16l6.12-6.12L22.393 8l-8 8 8 8zM7.727 8h2.667v16H7.727z'/%3E%3C/svg%3E")}.ag-icon-group:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Egroup%3C/title%3E%3Cpath d='M18.667 21.333h8.889A3.555 3.555 0 0 1 24 24.889h-5.333zm8.888-7.111v3.556h-8.889v-3.556zM24 7.111a3.555 3.555 0 0 1 3.556 3.556h-16V7.111zm-8.889 17.778h-3.556v-3.556h3.556zm0-7.111h-3.556v-3.556h3.556zM8 10.667H4.444A3.555 3.555 0 0 1 8 7.111z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Egroup%3C/title%3E%3Cpath d='M18.667 21.333h8.889A3.555 3.555 0 0 1 24 24.889h-5.333zm8.888-7.111v3.556h-8.889v-3.556zM24 7.111a3.555 3.555 0 0 1 3.556 3.556h-16V7.111zm-8.889 17.778h-3.556v-3.556h3.556zm0-7.111h-3.556v-3.556h3.556zM8 10.667H4.444A3.555 3.555 0 0 1 8 7.111z'/%3E%3C/svg%3E")}.ag-icon-last:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Elast%3C/title%3E%3Cpath d='m7.727 9.88 6.12 6.12-6.12 6.12L9.607 24l8-8-8-8zM21.607 8h2.667v16h-2.667z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Elast%3C/title%3E%3Cpath d='m7.727 9.88 6.12 6.12-6.12 6.12L9.607 24l8-8-8-8zM21.607 8h2.667v16h-2.667z'/%3E%3C/svg%3E")}.ag-icon-left:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eleft%3C/title%3E%3Cpath d='M26.667 14.667H10.44l7.453-7.453L16 5.334 5.333 16.001 16 26.668l1.88-1.88-7.44-7.453h16.227v-2.667z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eleft%3C/title%3E%3Cpath d='M26.667 14.667H10.44l7.453-7.453L16 5.334 5.333 16.001 16 26.668l1.88-1.88-7.44-7.453h16.227v-2.667z'/%3E%3C/svg%3E")}.ag-icon-linked:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Elinked%3C/title%3E%3Cpath d='M5.2 16a4.136 4.136 0 0 1 4.133-4.133h5.333V9.334H9.333c-3.68 0-6.667 2.987-6.667 6.667s2.987 6.667 6.667 6.667h5.333v-2.533H9.333A4.136 4.136 0 0 1 5.2 16.002zm5.467 1.333h10.667v-2.667H10.667zm12-8h-5.333v2.533h5.333c2.28 0 4.133 1.853 4.133 4.133s-1.853 4.133-4.133 4.133h-5.333v2.533h5.333c3.68 0 6.667-2.987 6.667-6.667s-2.987-6.667-6.667-6.667z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Elinked%3C/title%3E%3Cpath d='M5.2 16a4.136 4.136 0 0 1 4.133-4.133h5.333V9.334H9.333c-3.68 0-6.667 2.987-6.667 6.667s2.987 6.667 6.667 6.667h5.333v-2.533H9.333A4.136 4.136 0 0 1 5.2 16.002zm5.467 1.333h10.667v-2.667H10.667zm12-8h-5.333v2.533h5.333c2.28 0 4.133 1.853 4.133 4.133s-1.853 4.133-4.133 4.133h-5.333v2.533h5.333c3.68 0 6.667-2.987 6.667-6.667s-2.987-6.667-6.667-6.667z'/%3E%3C/svg%3E")}.ag-icon-loading:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eloading%3C/title%3E%3Cpath d='m17.778 11.708 3.25-3.251 2.516 2.516-3.251 3.25h4.597v3.556h-4.597l3.251 3.25-2.516 2.516-3.25-3.251v4.597h-3.556v-4.597l-3.25 3.251-2.516-2.516 3.251-3.25H7.11v-3.556h4.597l-3.251-3.25 2.516-2.516 3.25 3.251V7.111h3.556zm-3.251 7.847h2.944l2.084-2.084v-2.944l-2.084-2.084h-2.944l-2.084 2.084v2.944z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eloading%3C/title%3E%3Cpath d='m17.778 11.708 3.25-3.251 2.516 2.516-3.251 3.25h4.597v3.556h-4.597l3.251 3.25-2.516 2.516-3.25-3.251v4.597h-3.556v-4.597l-3.25 3.251-2.516-2.516 3.251-3.25H7.11v-3.556h4.597l-3.251-3.25 2.516-2.516 3.25 3.251V7.111h3.556zm-3.251 7.847h2.944l2.084-2.084v-2.944l-2.084-2.084h-2.944l-2.084 2.084v2.944z'/%3E%3C/svg%3E")}.ag-icon-maximize:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Emaximize%3C/title%3E%3Cpath d='M4 4h24v2.667H4z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Emaximize%3C/title%3E%3Cpath d='M4 4h24v2.667H4z'/%3E%3C/svg%3E")}.ag-icon-menu:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Emenu%3C/title%3E%3Cpath d='M4 24h24v-2.667H4zm0-6.667h24v-2.667H4zM4 8v2.667h24V8z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Emenu%3C/title%3E%3Cpath d='M4 24h24v-2.667H4zm0-6.667h24v-2.667H4zM4 8v2.667h24V8z'/%3E%3C/svg%3E")}.ag-icon-menu-alt:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='%23000' d='M16 26.667a2.57 2.57 0 0 1-1.883-.784A2.57 2.57 0 0 1 13.333 24q0-1.1.784-1.883A2.57 2.57 0 0 1 16 21.333q1.1 0 1.883.784.784.783.784 1.883t-.784 1.883a2.57 2.57 0 0 1-1.883.784m0-8a2.57 2.57 0 0 1-1.883-.784A2.57 2.57 0 0 1 13.333 16q0-1.1.784-1.883A2.57 2.57 0 0 1 16 13.333q1.1 0 1.883.784.784.783.784 1.883t-.784 1.883a2.57 2.57 0 0 1-1.883.784m0-8a2.57 2.57 0 0 1-1.883-.784A2.57 2.57 0 0 1 13.333 8q0-1.1.784-1.883A2.57 2.57 0 0 1 16 5.333q1.1 0 1.883.784.784.783.784 1.883t-.784 1.883a2.57 2.57 0 0 1-1.883.784'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='%23000' d='M16 26.667a2.57 2.57 0 0 1-1.883-.784A2.57 2.57 0 0 1 13.333 24q0-1.1.784-1.883A2.57 2.57 0 0 1 16 21.333q1.1 0 1.883.784.784.783.784 1.883t-.784 1.883a2.57 2.57 0 0 1-1.883.784m0-8a2.57 2.57 0 0 1-1.883-.784A2.57 2.57 0 0 1 13.333 16q0-1.1.784-1.883A2.57 2.57 0 0 1 16 13.333q1.1 0 1.883.784.784.783.784 1.883t-.784 1.883a2.57 2.57 0 0 1-1.883.784m0-8a2.57 2.57 0 0 1-1.883-.784A2.57 2.57 0 0 1 13.333 8q0-1.1.784-1.883A2.57 2.57 0 0 1 16 5.333q1.1 0 1.883.784.784.783.784 1.883t-.784 1.883a2.57 2.57 0 0 1-1.883.784'/%3E%3C/svg%3E")}.ag-icon-minimize:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eminimize%3C/title%3E%3Cpath d='M8 25.333h16V28H8z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eminimize%3C/title%3E%3Cpath d='M8 25.333h16V28H8z'/%3E%3C/svg%3E")}.ag-icon-minus:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M6.572 6.572a13.32 13.32 0 0 0 0 18.856 13.32 13.32 0 0 0 18.856 0 13.32 13.32 0 0 0 0-18.856 13.32 13.32 0 0 0-18.856 0m17.527 8.099v2.658H7.901v-2.658z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M6.572 6.572a13.32 13.32 0 0 0 0 18.856 13.32 13.32 0 0 0 18.856 0 13.32 13.32 0 0 0 0-18.856 13.32 13.32 0 0 0-18.856 0m17.527 8.099v2.658H7.901v-2.658z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-next:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Enext%3C/title%3E%3Cpath d='m12.94 8-1.88 1.88L17.167 16l-6.107 6.12L12.94 24l8-8z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Enext%3C/title%3E%3Cpath d='m12.94 8-1.88 1.88L17.167 16l-6.107 6.12L12.94 24l8-8z'/%3E%3C/svg%3E")}.ag-icon-none:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Enone%3C/title%3E%3Cpath d='M4 24h16v-2.667H4zM4 8v2.667h24V8zm0 9.333h24v-2.667H4z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Enone%3C/title%3E%3Cpath d='M4 24h16v-2.667H4zM4 8v2.667h24V8zm0 9.333h24v-2.667H4z'/%3E%3C/svg%3E")}.ag-icon-not-allowed:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Enot-allowed%3C/title%3E%3Cpath d='M16 2.667C8.64 2.667 2.667 8.64 2.667 16S8.64 29.333 16 29.333 29.333 23.36 29.333 16 23.36 2.667 16 2.667M5.333 16c0-5.893 4.773-10.667 10.667-10.667 2.467 0 4.733.84 6.533 2.253L7.586 22.533A10.54 10.54 0 0 1 5.333 16M16 26.667c-2.467 0-4.733-.84-6.533-2.253L24.414 9.467A10.54 10.54 0 0 1 26.667 16c0 5.893-4.773 10.667-10.667 10.667'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Enot-allowed%3C/title%3E%3Cpath d='M16 2.667C8.64 2.667 2.667 8.64 2.667 16S8.64 29.333 16 29.333 29.333 23.36 29.333 16 23.36 2.667 16 2.667M5.333 16c0-5.893 4.773-10.667 10.667-10.667 2.467 0 4.733.84 6.533 2.253L7.586 22.533A10.54 10.54 0 0 1 5.333 16M16 26.667c-2.467 0-4.733-.84-6.533-2.253L24.414 9.467A10.54 10.54 0 0 1 26.667 16c0 5.893-4.773 10.667-10.667 10.667'/%3E%3C/svg%3E")}.ag-icon-paste:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Epaste%3C/title%3E%3Cpath d='M25.333 4H19.76C19.2 2.453 17.733 1.333 16 1.333S12.8 2.453 12.24 4H6.667A2.675 2.675 0 0 0 4 6.667V28c0 1.467 1.2 2.667 2.667 2.667h18.667c1.467 0 2.667-1.2 2.667-2.667V6.667C28.001 5.2 26.801 4 25.334 4zM16 4c.733 0 1.333.6 1.333 1.333s-.6 1.333-1.333 1.333-1.333-.6-1.333-1.333S15.267 4 16 4m9.333 24H6.666V6.667h2.667v4h13.333v-4h2.667z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Epaste%3C/title%3E%3Cpath d='M25.333 4H19.76C19.2 2.453 17.733 1.333 16 1.333S12.8 2.453 12.24 4H6.667A2.675 2.675 0 0 0 4 6.667V28c0 1.467 1.2 2.667 2.667 2.667h18.667c1.467 0 2.667-1.2 2.667-2.667V6.667C28.001 5.2 26.801 4 25.334 4zM16 4c.733 0 1.333.6 1.333 1.333s-.6 1.333-1.333 1.333-1.333-.6-1.333-1.333S15.267 4 16 4m9.333 24H6.666V6.667h2.667v4h13.333v-4h2.667z'/%3E%3C/svg%3E")}.ag-icon-pin:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Epin%3C/title%3E%3Cpath d='m11.106 22.093-4.444 4.444-1.259-1.259 4.444-4.444zm5.872-16.63 9.618 9.62-.962.962-.962-.962-7.694 3.847 1.924 1.924-2.74 2.74-7.696-7.696 2.741-2.74 1.924 1.925 3.847-7.696-.962-.962z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Epin%3C/title%3E%3Cpath d='m11.106 22.093-4.444 4.444-1.259-1.259 4.444-4.444zm5.872-16.63 9.618 9.62-.962.962-.962-.962-7.694 3.847 1.924 1.924-2.74 2.74-7.696-7.696 2.741-2.74 1.924 1.925 3.847-7.696-.962-.962z'/%3E%3C/svg%3E")}.ag-icon-pivot:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Epivot%3C/title%3E%3Cpath d='M26.667 30.223H5.334a3.556 3.556 0 0 1-3.556-3.556V5.334a3.556 3.556 0 0 1 3.556-3.556h21.333a3.556 3.556 0 0 1 3.556 3.556v21.333a3.556 3.556 0 0 1-3.556 3.556m-16-8.89H5.334v5.333h5.333zm16-7.11H12.444v12.444h14.223zm-9.15 6.85-2.039 2.037 2.039 2.039-1.257 1.257-3.295-3.296 3.295-3.295q.63.628 1.257 1.257zm-6.85-6.85H5.334v5.333h5.333zm15.74 3.816-1.257 1.256-2.039-2.037-2.037 2.037-1.257-1.256 3.295-3.296zM10.667 5.333H5.334v5.333h5.333zm8.889 0h-7.112v5.333h7.112zm7.111 0h-5.333v5.333h5.333z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Epivot%3C/title%3E%3Cpath d='M26.667 30.223H5.334a3.556 3.556 0 0 1-3.556-3.556V5.334a3.556 3.556 0 0 1 3.556-3.556h21.333a3.556 3.556 0 0 1 3.556 3.556v21.333a3.556 3.556 0 0 1-3.556 3.556m-16-8.89H5.334v5.333h5.333zm16-7.11H12.444v12.444h14.223zm-9.15 6.85-2.039 2.037 2.039 2.039-1.257 1.257-3.295-3.296 3.295-3.295q.63.628 1.257 1.257zm-6.85-6.85H5.334v5.333h5.333zm15.74 3.816-1.257 1.256-2.039-2.037-2.037 2.037-1.257-1.256 3.295-3.296zM10.667 5.333H5.334v5.333h5.333zm8.889 0h-7.112v5.333h7.112zm7.111 0h-5.333v5.333h5.333z'/%3E%3C/svg%3E")}.ag-icon-plus:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M6.572 6.572a13.32 13.32 0 0 0 0 18.856 13.32 13.32 0 0 0 18.856 0 13.32 13.32 0 0 0 0-18.856 13.32 13.32 0 0 0-18.856 0m17.527 8.099v2.658h-6.77v6.77h-2.658v-6.77h-6.77v-2.658h6.77v-6.77h2.658v6.77z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M6.572 6.572a13.32 13.32 0 0 0 0 18.856 13.32 13.32 0 0 0 18.856 0 13.32 13.32 0 0 0 0-18.856 13.32 13.32 0 0 0-18.856 0m17.527 8.099v2.658h-6.77v6.77h-2.658v-6.77h-6.77v-2.658h6.77v-6.77h2.658v6.77z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-previous:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eprevious%3C/title%3E%3Cpath d='M20.94 9.88 19.06 8l-8 8 8 8 1.88-1.88L14.833 16z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eprevious%3C/title%3E%3Cpath d='M20.94 9.88 19.06 8l-8 8 8 8 1.88-1.88L14.833 16z'/%3E%3C/svg%3E")}.ag-icon-right:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eright%3C/title%3E%3Cpath d='m16 5.333-1.88 1.88 7.44 7.453H5.333v2.667H21.56l-7.44 7.453 1.88 1.88 10.667-10.667L16 5.332z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eright%3C/title%3E%3Cpath d='m16 5.333-1.88 1.88 7.44 7.453H5.333v2.667H21.56l-7.44 7.453 1.88 1.88 10.667-10.667L16 5.332z'/%3E%3C/svg%3E")}.ag-icon-save:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esave%3C/title%3E%3Cpath d='M25.333 16v9.333H6.666V16H3.999v9.333C3.999 26.8 5.199 28 6.666 28h18.667C26.8 28 28 26.8 28 25.333V16zm-8 .893 3.453-3.44 1.88 1.88L15.999 22l-6.667-6.667 1.88-1.88 3.453 3.44V4h2.667v12.893z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esave%3C/title%3E%3Cpath d='M25.333 16v9.333H6.666V16H3.999v9.333C3.999 26.8 5.199 28 6.666 28h18.667C26.8 28 28 26.8 28 25.333V16zm-8 .893 3.453-3.44 1.88 1.88L15.999 22l-6.667-6.667 1.88-1.88 3.453 3.44V4h2.667v12.893z'/%3E%3C/svg%3E")}.ag-icon-small-down:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esmall-down%3C/title%3E%3Cpath d='M9.333 12.667 16 19.334l6.667-6.667H9.334z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esmall-down%3C/title%3E%3Cpath d='M9.333 12.667 16 19.334l6.667-6.667H9.334z'/%3E%3C/svg%3E")}.ag-icon-small-left:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esmall-left%3C/title%3E%3Cpath d='M19.333 9.333 12.666 16l6.667 6.667V9.334z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esmall-left%3C/title%3E%3Cpath d='M19.333 9.333 12.666 16l6.667 6.667V9.334z'/%3E%3C/svg%3E")}.ag-icon-small-right:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esmall-right%3C/title%3E%3Cpath d='M12.667 22.667 19.334 16l-6.667-6.667v13.333z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esmall-right%3C/title%3E%3Cpath d='M12.667 22.667 19.334 16l-6.667-6.667v13.333z'/%3E%3C/svg%3E")}.ag-icon-small-up:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esmall-up%3C/title%3E%3Cpath d='M9.333 19.333 16 12.666l6.667 6.667H9.334z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esmall-up%3C/title%3E%3Cpath d='M9.333 19.333 16 12.666l6.667 6.667H9.334z'/%3E%3C/svg%3E")}.ag-icon-tick:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Etick%3C/title%3E%3Cpath d='m11.727 21.167-5.56-5.56-1.893 1.88 7.453 7.453 16-16-1.88-1.88z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Etick%3C/title%3E%3Cpath d='m11.727 21.167-5.56-5.56-1.893 1.88 7.453 7.453 16-16-1.88-1.88z'/%3E%3C/svg%3E")}.ag-icon-tree-closed:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Etree-closed%3C/title%3E%3Cpath d='m12.94 8-1.88 1.88L17.167 16l-6.107 6.12L12.94 24l8-8z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Etree-closed%3C/title%3E%3Cpath d='m12.94 8-1.88 1.88L17.167 16l-6.107 6.12L12.94 24l8-8z'/%3E%3C/svg%3E")}.ag-icon-tree-indeterminate:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Etree-indeterminate%3C/title%3E%3Cpath d='M6.667 14.667h18.667v2.667H6.667z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Etree-indeterminate%3C/title%3E%3Cpath d='M6.667 14.667h18.667v2.667H6.667z'/%3E%3C/svg%3E")}.ag-icon-tree-open:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Etree-open%3C/title%3E%3Cpath d='M22.12 11.06 16 17.167 9.88 11.06 8 12.94l8 8 8-8z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Etree-open%3C/title%3E%3Cpath d='M22.12 11.06 16 17.167 9.88 11.06 8 12.94l8 8 8-8z'/%3E%3C/svg%3E")}.ag-icon-unlinked:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eunlinked%3C/title%3E%3Cpath d='M22.667 9.333h-5.333v2.533h5.333a4.136 4.136 0 0 1 4.133 4.133c0 1.907-1.307 3.507-3.08 3.973l1.947 1.947c2.173-1.107 3.667-3.32 3.667-5.92a6.67 6.67 0 0 0-6.667-6.667zm-1.334 5.334h-2.92l2.667 2.667h.253zM2.667 5.693 6.814 9.84A6.65 6.65 0 0 0 2.667 16a6.67 6.67 0 0 0 6.667 6.667h5.333v-2.533H9.334a4.136 4.136 0 0 1-4.133-4.133c0-2.12 1.613-3.867 3.68-4.093l2.76 2.76h-.973v2.667h3.64l3.027 3.027v2.307h2.307l5.347 5.333 1.68-1.68L4.362 4.002 2.669 5.695z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eunlinked%3C/title%3E%3Cpath d='M22.667 9.333h-5.333v2.533h5.333a4.136 4.136 0 0 1 4.133 4.133c0 1.907-1.307 3.507-3.08 3.973l1.947 1.947c2.173-1.107 3.667-3.32 3.667-5.92a6.67 6.67 0 0 0-6.667-6.667zm-1.334 5.334h-2.92l2.667 2.667h.253zM2.667 5.693 6.814 9.84A6.65 6.65 0 0 0 2.667 16a6.67 6.67 0 0 0 6.667 6.667h5.333v-2.533H9.334a4.136 4.136 0 0 1-4.133-4.133c0-2.12 1.613-3.867 3.68-4.093l2.76 2.76h-.973v2.667h3.64l3.027 3.027v2.307h2.307l5.347 5.333 1.68-1.68L4.362 4.002 2.669 5.695z'/%3E%3C/svg%3E")}.ag-icon-up:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Easc%3C/title%3E%3Cpath d='m5.333 16 1.88 1.88 7.453-7.44v16.227h2.667V10.44l7.44 7.453L26.666 16 15.999 5.333z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Easc%3C/title%3E%3Cpath d='m5.333 16 1.88 1.88 7.453-7.44v16.227h2.667V10.44l7.44 7.453L26.666 16 15.999 5.333z'/%3E%3C/svg%3E")}.ag-icon-grip:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Egrip%3C/title%3E%3Cpath d='M26.667 12H5.334v2.667h21.333zM5.333 20h21.333v-2.667H5.333z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Egrip%3C/title%3E%3Cpath d='M26.667 12H5.334v2.667h21.333zM5.333 20h21.333v-2.667H5.333z'/%3E%3C/svg%3E")}.ag-icon-settings:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='%23000' d='M30 8h-4.1c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2v2h14.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30zm-9 4c-1.7 0-3-1.3-3-3s1.3-3 3-3 3 1.3 3 3-1.3 3-3 3M2 24h4.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30v-2H15.9c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2zm9-4c1.7 0 3 1.3 3 3s-1.3 3-3 3-3-1.3-3-3 1.3-3 3-3'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='%23000' d='M30 8h-4.1c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2v2h14.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30zm-9 4c-1.7 0-3-1.3-3-3s1.3-3 3-3 3 1.3 3 3-1.3 3-3 3M2 24h4.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30v-2H15.9c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2zm9-4c1.7 0 3 1.3 3 3s-1.3 3-3 3-3-1.3-3-3 1.3-3 3-3'/%3E%3C/svg%3E")}`,o6=k1("iconSet","material").withCSS(i6),a6='.ag-icon:before{background-color:currentColor;content:"";display:block;height:var(--ag-icon-size);-webkit-mask-image:linear-gradient(#0000,#0000);mask-image:linear-gradient(#0000,#0000);-webkit-mask-size:contain;mask-size:contain;width:var(--ag-icon-size)}',fC={aggregation:'<path d="M18 7V4H6l6 8-6 8h12v-3"/>',arrows:'<polyline points="5 9 2 12 5 15"/><polyline points="9 5 12 2 15 5"/><polyline points="15 19 12 22 9 19"/><polyline points="19 9 22 12 19 15"/><line x1="2" x2="22" y1="12" y2="12"/><line x1="12" x2="12" y1="2" y2="22"/>',asc:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',cancel:'<circle cx="12" cy="12" r="10"/><path d="m15 9-6 6"/><path d="m9 9 6 6"/>',chart:'<line x1="18" x2="18" y1="20" y2="10"/><line x1="12" x2="12" y1="20" y2="4"/><line x1="6" x2="6" y1="20" y2="14"/>',"color-picker":'<path d="m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z"/><path d="m5 2 5 5"/><path d="M2 13h15"/><path d="M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z"/>',columns:'<path d="M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"/>',contracted:'<path d="m9 18 6-6-6-6"/>',copy:'<rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/>',cross:'<path d="M18 6 6 18"/><path d="m6 6 12 12"/>',csv:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',cut:'<circle cx="6" cy="6" r="3"/><path d="M8.12 8.12 12 12"/><path d="M20 4 8.12 15.88"/><circle cx="6" cy="18" r="3"/><path d="M14.8 14.8 20 20"/>',desc:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',down:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',excel:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',expanded:'<path d="m15 18-6-6 6-6"/>',"eye-slash":'<path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"/><path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"/><path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"/><line x1="2" x2="22" y1="2" y2="22"/>',eye:'<path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/>',filter:'<path d="M3 6h18"/><path d="M7 12h10"/><path d="M10 18h4"/>',first:'<path d="m17 18-6-6 6-6"/><path d="M7 6v12"/>',group:'<path d="M16 12H3"/><path d="M16 18H3"/><path d="M10 6H3"/><path d="M21 18V8a2 2 0 0 0-2-2h-5"/><path d="m16 8-2-2 2-2"/>',last:'<path d="m7 18 6-6-6-6"/><path d="M17 6v12"/>',left:'<path d="m12 19-7-7 7-7"/><path d="M19 12H5"/>',linked:'<path d="M9 17H7A5 5 0 0 1 7 7h2"/><path d="M15 7h2a5 5 0 1 1 0 10h-2"/><line x1="8" x2="16" y1="12" y2="12"/>',loading:'<line x1="12" x2="12" y1="2" y2="6"/><line x1="12" x2="12" y1="18" y2="22"/><line x1="4.93" x2="7.76" y1="4.93" y2="7.76"/><line x1="16.24" x2="19.07" y1="16.24" y2="19.07"/><line x1="2" x2="6" y1="12" y2="12"/><line x1="18" x2="22" y1="12" y2="12"/><line x1="4.93" x2="7.76" y1="19.07" y2="16.24"/><line x1="16.24" x2="19.07" y1="7.76" y2="4.93"/>',maximize:'<polyline points="15 3 21 3 21 9"/><polyline points="9 21 3 21 3 15"/><line x1="21" x2="14" y1="3" y2="10"/><line x1="3" x2="10" y1="21" y2="14"/>',menu:'<line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/>',"menu-alt":'<circle cx="12" cy="5" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="12" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="19" r="0.75" fill="#D9D9D9"/>',minimize:'<polyline points="4 14 10 14 10 20"/><polyline points="20 10 14 10 14 4"/><line x1="14" x2="21" y1="10" y2="3"/><line x1="3" x2="10" y1="21" y2="14"/>',minus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/>',next:'<path d="m9 18 6-6-6-6"/>',none:'<path d="m7 15 5 5 5-5"/><path d="m7 9 5-5 5 5"/>',"not-allowed":'<circle cx="12" cy="12" r="10"/><path d="m4.9 4.9 14.2 14.2"/>',paste:'<path d="M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z"/><path d="M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10"/><path d="m17 10 4 4-4 4"/>',pin:'<line x1="12" x2="12" y1="17" y2="22"/><path d="M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z"/>',pivot:'<path d="M15 3v18"/><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M21 9H3"/><path d="M21 15H3"/>',plus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/><path d="M12 8v8"/>',previous:'<path d="m15 18-6-6 6-6"/>',right:'<path d="M5 12h14"/><path d="m12 5 7 7-7 7"/>',save:'<path d="M12 17V3"/><path d="m6 11 6 6 6-6"/><path d="M19 21H5"/>',"small-down":'<path d="m6 9 6 6 6-6"/>',"small-left":'<path d="m15 18-6-6 6-6"/>',"small-right":'<path d="m9 18 6-6-6-6"/>',"small-up":'<path d="m18 15-6-6-6 6"/>',tick:'<path d="M20 6 9 17l-5-5"/>',"tree-closed":'<path d="m9 18 6-6-6-6"/>',"tree-indeterminate":'<path d="M5 12h14"/>',"tree-open":'<path d="m6 9 6 6 6-6"/>',unlinked:'<path d="M9 17H7A5 5 0 0 1 7 7"/><path d="M15 7h2a5 5 0 0 1 4 8"/><line x1="8" x2="12" y1="12" y2="12"/><line x1="2" x2="22" y1="2" y2="22"/>',up:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',grip:'<circle cx="5" cy="8" r="0.5"/><circle cx="12" cy="8" r="0.5"/><circle cx="19" cy="8" r="0.5"/><circle cx="5" cy="16" r="0.5"/><circle cx="12" cy="16" r="0.5"/><circle cx="19" cy="16" r="0.5"/><g stroke="none" fill="currentColor"><circle cx="5" cy="8" r="1"/><circle cx="12" cy="8" r="1"/><circle cx="19" cy="8" r="1"/><circle cx="5" cy="16" r="1"/><circle cx="12" cy="16" r="1"/><circle cx="19" cy="16" r="1"/></g>',settings:'<path d="M20 7h-9"/><path d="M14 17H5"/><circle cx="17" cy="17" r="3"/><circle cx="7" cy="7" r="3"/>'},nb=(e={})=>{let t=a6;for(const a of Object.keys(fC)){const u=s6(a,e.strokeWidth||1.5);t+=`.ag-icon-${a}::before { mask-image: url('data:image/svg+xml,${encodeURIComponent(u)}'); }
`}return t},s6=(e,t)=>{const a=fC[e];if(!a)throw new Error(`Missing icon data for ${e}`);return`<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon ag-icon-${e}" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke="black" stroke-width="${t}" viewBox="0 0 24 24"><style>* { vector-effect: non-scaling-stroke; }</style>`+a+"</svg>"},pC=(e={})=>k1("iconSet","quartz").withCSS(()=>nb(e)),l6=k1("iconSet","quartzLight").withCSS(()=>nb({strokeWidth:1})),u6=k1("iconSet","quartzRegular").withCSS(nb),c6=k1("iconSet","quartzBold").withCSS(()=>nb({strokeWidth:2})),d6=":where(input[class^=ag-][type=number]:not(.ag-number-field-input-stepper)){-moz-appearance:textfield;&::-webkit-inner-spin-button,&::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}}:where(input[class^=ag-]:not([type]),input[class^=ag-][type=text],input[class^=ag-][type=number],input[class^=ag-][type=tel],input[class^=ag-][type=date],input[class^=ag-][type=datetime-local],textarea[class^=ag-]){background-color:var(--ag-input-background-color);border:var(--ag-input-border);border-radius:var(--ag-input-border-radius);color:var(--ag-input-text-color);cursor:pointer;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;min-height:var(--ag-input-height);padding:0;&:where(:disabled){background-color:var(--ag-input-disabled-background-color);border:var(--ag-input-disabled-border);color:var(--ag-input-disabled-text-color)}&:where(:focus){background-color:var(--ag-input-focus-background-color);border:var(--ag-input-focus-border);box-shadow:var(--ag-input-focus-shadow);color:var(--ag-input-focus-text-color)}&:where(:invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}}&.ag-ltr :where(input[class^=ag-]:not([type]),input[class^=ag-][type=text],input[class^=ag-][type=number],input[class^=ag-][type=tel],input[class^=ag-][type=date],input[class^=ag-][type=datetime-local],textarea[class^=ag-]){padding-left:var(--ag-input-padding-start)}&.ag-rtl :where(input[class^=ag-]:not([type]),input[class^=ag-][type=text],input[class^=ag-][type=number],input[class^=ag-][type=tel],input[class^=ag-][type=date],input[class^=ag-][type=datetime-local],textarea[class^=ag-]){padding-right:var(--ag-input-padding-start)}",h6=":where(input[class^=ag-]:not([type]),input[class^=ag-][type=text],input[class^=ag-][type=number],input[class^=ag-][type=tel],input[class^=ag-][type=date],input[class^=ag-][type=datetime-local],textarea[class^=ag-]){border-left:none;border-right:none;border-top:none}",ow=k1("inputStyle","base").withAdditionalParams({inputBackgroundColor:"transparent",inputBorder:!1,inputBorderRadius:0,inputTextColor:{ref:"textColor"},inputPaddingStart:0,inputHeight:{calc:"max(iconSize, fontSize) + spacing * 2"},inputFocusBackgroundColor:{ref:"inputBackgroundColor"},inputFocusBorder:{ref:"inputBorder"},inputFocusShadow:"none",inputFocusTextColor:{ref:"inputTextColor"},inputDisabledBackgroundColor:{ref:"inputBackgroundColor"},inputDisabledBorder:{ref:"inputBorder"},inputDisabledTextColor:{ref:"inputTextColor"},inputInvalidBackgroundColor:{ref:"inputBackgroundColor"},inputInvalidBorder:{ref:"inputBorder"},inputInvalidTextColor:{ref:"inputTextColor"}}).withCSS(d6),ib=F3(ow,"bordered").withParams({inputBackgroundColor:{ref:"backgroundColor"},inputBorder:!0,inputBorderRadius:{ref:"borderRadius"},inputPaddingStart:{ref:"spacing"},inputFocusBorder:{color:{ref:"accentColor"}},inputFocusShadow:{ref:"focusShadow"},inputDisabledBackgroundColor:{ref:"foregroundColor",mix:.06,onto:"backgroundColor"},inputDisabledTextColor:{ref:"textColor",mix:.5},inputInvalidBorder:{color:{ref:"invalidColor"}}}),f6=F3(ow,"underlined").withParams({inputBorder:{width:2,color:{ref:"foregroundColor",mix:.3}},inputPaddingStart:{ref:"spacing"},inputFocusBorder:"solid 2px var(--ag-accent-color)",inputDisabledTextColor:{ref:"textColor",mix:.5},inputDisabledBorder:"solid 1px var(--ag-border-color)",inputInvalidBorder:{width:2,color:{ref:"invalidColor",mix:.3}}}).withCSS(h6),p6='.ag-tabs-header{background-color:var(--ag-tab-bar-background-color);border-bottom:var(--ag-tab-bar-border);display:flex;gap:var(--ag-tab-spacing);padding:var(--ag-tab-bar-top-padding) var(--ag-tab-bar-horizontal-padding) 0}.ag-tabs-header-wrapper{display:flex;.ag-tabs-header{flex:1}}.ag-tabs-close-button-wrapper{border:0;padding:var(--ag-spacing)}&.ag-ltr .ag-tabs-close-button-wrapper{border-right:1px solid var(--ag-border-color)}&.ag-rtl .ag-tabs-close-button-wrapper{border-left:1px solid var(--ag-border-color)}.ag-tabs-close-button{background-color:unset;border:0;cursor:pointer;padding:0}.ag-tab{align-items:center;background-color:var(--ag-tab-background-color);border-left:var(--ag-tab-selected-border-width) solid transparent;border-right:var(--ag-tab-selected-border-width) solid transparent;color:var(--ag-tab-text-color);cursor:pointer;display:flex;flex:1;justify-content:center;padding:var(--ag-tab-top-padding) var(--ag-tab-horizontal-padding) var(--ag-tab-bottom-padding);position:relative;&:hover{background-color:var(--ag-tab-hover-background-color);color:var(--ag-tab-hover-text-color)}&.ag-tab-selected{background-color:var(--ag-tab-selected-background-color);color:var(--ag-tab-selected-text-color)}&:after{background-color:var(--ag-tab-selected-underline-color);bottom:0;content:"";display:block;height:var(--ag-tab-selected-underline-width);left:0;opacity:0;position:absolute;right:0;transition:opacity var(--ag-tab-selected-underline-transition-duration)}&.ag-tab-selected:after{opacity:1}&:focus-visible{box-shadow:inset var(--ag-focus-shadow)}}&.ag-ltr .ag-tab{&.ag-tab-selected{&:not(:first-of-type){border-left-color:var(--ag-tab-selected-border-color)}&:not(:last-of-type){border-right-color:var(--ag-tab-selected-border-color)}}}&.ag-rtl .ag-tab{&.ag-tab-selected{&:not(:first-of-type){border-right-color:var(--ag-tab-selected-border-color)}&:not(:last-of-type){border-left-color:var(--ag-tab-selected-border-color)}}}',g6=".ag-tab{border-left:var(--ag-tab-selected-border-width) solid transparent;border-right:var(--ag-tab-selected-border-width) solid transparent;border-top:var(--ag-tab-selected-border-width) solid transparent;flex:0;&.ag-tab-selected{border-left-color:var(--ag-tab-selected-border-color);border-right-color:var(--ag-tab-selected-border-color);border-top-color:var(--ag-tab-selected-border-color);margin-bottom:-1px;padding-bottom:calc(var(--ag-tab-bottom-padding) + 1px)}}",px=k1("tabStyle","base").withAdditionalParams({tabBarBackgroundColor:"transparent",tabBarHorizontalPadding:0,tabBarTopPadding:0,tabBackgroundColor:"transparent",tabTextColor:{ref:"textColor"},tabHorizontalPadding:{ref:"spacing"},tabTopPadding:{ref:"spacing"},tabBottomPadding:{ref:"spacing"},tabSpacing:"0",tabHoverBackgroundColor:{ref:"tabBackgroundColor"},tabHoverTextColor:{ref:"tabTextColor"},tabSelectedBackgroundColor:{ref:"tabBackgroundColor"},tabSelectedTextColor:{ref:"tabTextColor"},tabSelectedBorderWidth:1,tabSelectedBorderColor:"transparent",tabSelectedUnderlineColor:"transparent",tabSelectedUnderlineWidth:"0",tabSelectedUnderlineTransitionDuration:"0",tabBarBorder:!1}).withCSS(p6),gC=F3(px,"quartz").withParams({tabBarBorder:!0,tabBarBackgroundColor:{ref:"foregroundColor",mix:.05},tabTextColor:{ref:"textColor",mix:.7},tabSelectedTextColor:{ref:"textColor"},tabHoverTextColor:{ref:"textColor"},tabSelectedBorderColor:{ref:"borderColor"},tabSelectedBackgroundColor:{ref:"backgroundColor"}}),m6=F3(px,"material").withParams({tabBarBackgroundColor:{ref:"chromeBackgroundColor"},tabSelectedUnderlineColor:{ref:"primaryColor"},tabSelectedUnderlineWidth:2,tabSelectedUnderlineTransitionDuration:"0"}),mC=F3(px,"alpine").withParams({tabBarBorder:!0,tabBarBackgroundColor:{ref:"chromeBackgroundColor"},tabHoverTextColor:{ref:"accentColor"},tabSelectedTextColor:{ref:"accentColor"},tabSelectedUnderlineColor:{ref:"accentColor"},tabSelectedUnderlineWidth:2,tabSelectedUnderlineTransitionDuration:"0.3s"}),vC=F3(px,"rolodex").withParams({tabBarBackgroundColor:{ref:"chromeBackgroundColor"},tabBarHorizontalPadding:{ref:"spacing"},tabBarTopPadding:{ref:"spacing"},tabBarBorder:!0,tabHorizontalPadding:{calc:"spacing * 2"},tabTopPadding:{ref:"spacing"},tabBottomPadding:{ref:"spacing"},tabSpacing:{ref:"spacing"},tabSelectedBorderColor:{ref:"borderColor"},tabSelectedBackgroundColor:{ref:"backgroundColor"}}).withCSS(g6),aw=e=>aC(e).withPart(dC),v6=aw("quartz").withPart(nw).withPart(pC).withPart(gC).withPart(()=>ib).withParams({fontFamily:[{googleFont:"IBM Plex Sans"},"-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu"]}),y6=aw("alpine").withPart(nw).withPart(iw).withPart(mC).withPart(ib).withParams({accentColor:"#2196f3",selectedRowBackgroundColor:{ref:"accentColor",mix:.3},inputFocusBorder:{color:{ref:"accentColor",mix:.4}},fontSize:13,dataFontSize:14,headerFontWeight:700,borderRadius:3,wrapperBorderRadius:3,tabSelectedUnderlineColor:{ref:"accentColor"},tabSelectedBorderWidth:2,tabSelectedUnderlineTransitionDuration:.3}),x6=aw("balham").withPart(hC).withPart(iw).withPart(vC).withPart(ib).withParams({spacing:4,borderRadius:2,wrapperBorderRadius:2,headerColumnResizeHandleColor:"transparent",headerColumnBorder:!0,headerColumnBorderHeight:"50%",oddRowBackgroundColor:{ref:"chromeBackgroundColor",mix:.5},headerTextColor:{ref:"foregroundColor",mix:.5},fontSize:12,headerFontWeight:"bold"});return ym.__registerModules([Wb,Iw,Zw,jw],!1,void 0),main_cjs}var index_cjs,hasRequiredIndex_cjs;function requireIndex_cjs(){if(hasRequiredIndex_cjs)return index_cjs;hasRequiredIndex_cjs=1;var r=Object.create,n=Object.defineProperty,o=Object.getOwnPropertyDescriptor,l=Object.getOwnPropertyNames,c=Object.getPrototypeOf,f=Object.prototype.hasOwnProperty,d=(Xl,$u)=>{for(var Wd in $u)n(Xl,Wd,{get:$u[Wd],enumerable:!0})},w=(Xl,$u,Wd,ih)=>{if($u&&typeof $u=="object"||typeof $u=="function")for(let ph of l($u))!f.call(Xl,ph)&&ph!==Wd&&n(Xl,ph,{get:()=>$u[ph],enumerable:!(ih=o($u,ph))||ih.enumerable});return Xl},y=(Xl,$u,Wd)=>(Wd=Xl!=null?r(c(Xl)):{},w(!Xl||!Xl.__esModule?n(Wd,"default",{value:Xl,enumerable:!0}):Wd,Xl)),L=Xl=>w(n({},"__esModule",{value:!0}),Xl),G={};d(G,{AgGridReact:()=>Qu,CustomComponentContext:()=>Dd,getInstance:()=>_f,useGridCellEditor:()=>Ld,useGridDate:()=>Ad,useGridFilter:()=>nh,useGridFloatingFilter:()=>dh,useGridMenuItem:()=>vh,warnReactiveCustomComponents:()=>hd}),index_cjs=L(G);var H=y(requireReact()),ce=requireMain_cjs(),ie=y(requireReact()),Et=requireMain_cjs(),zn=y(requireReact()),$l=y(requireReact()),zl=$l.default.createContext({}),Hl=(Xl,$u,Wd,ih)=>{if(!Xl||Xl.componentFromFramework||$u.isDestroyed())return;const Dh=Xl.newAgStackInstance();if(Dh==null)return;let Uh,Oh,Rh=!1;return Dh.then(Yh=>{if(Rh){$u.destroyBean(Yh);return}Uh=Yh,Oh=Uh.getGui(),Wd.appendChild(Oh),Ft(ih,Uh)}),()=>{Rh=!0,Uh&&(Oh?.parentElement?.removeChild(Oh),$u.destroyBean(Uh),ih&&Ft(ih,void 0))}},Ft=(Xl,$u)=>{if(Xl)if(Xl instanceof Function)Xl($u);else{const Wd=Xl;Wd.current=$u}},El=y(requireReact()),Kl=y(requireReactDom()),Al=(...Xl)=>Xl.filter(Wd=>Wd!=null&&Wd!=="").join(" "),vu=class kC{constructor(...$u){this.classesMap={},$u.forEach(Wd=>{this.classesMap[Wd]=!0})}setClass($u,Wd){if(!!this.classesMap[$u]==Wd)return this;const ph=new kC;return ph.classesMap={...this.classesMap},ph.classesMap[$u]=Wd,ph}toString(){return Object.keys(this.classesMap).filter(Wd=>this.classesMap[Wd]).join(" ")}},Nl=Xl=>{const $u=()=>typeof Symbol=="function"&&Symbol.for,Wd=()=>$u()?Symbol.for("react.memo"):60115;return typeof Xl=="function"&&!(Xl.prototype&&Xl.prototype.isReactComponent)||typeof Xl=="object"&&Xl.$$typeof===Wd()},Xu=El.default.version?.split(".")[0],Vu=Xu==="16"||Xu==="17";function Zu(){return Xu==="19"}var Od=!1;function Id(Xl){return Od||setTimeout(()=>Od=!1,0),Od=!0,Xl()}var Bd=(Xl,$u)=>{!Vu&&Xl&&!Od?Kl.default.flushSync($u):$u()};function Cd(Xl,$u,Wd){if($u==null||Xl==null)return $u;if(Xl===$u||$u.length===0&&Xl.length===0)return Xl;if(Wd||Xl.length===0&&$u.length>0||Xl.length>0&&$u.length===0)return $u;const ih=[],ph=[],Dh=new Map,Uh=new Map;for(let Oh=0;Oh<$u.length;Oh++){const Rh=$u[Oh];Uh.set(Rh.instanceId,Rh)}for(let Oh=0;Oh<Xl.length;Oh++){const Rh=Xl[Oh];Dh.set(Rh.instanceId,Rh),Uh.has(Rh.instanceId)&&ih.push(Rh)}for(let Oh=0;Oh<$u.length;Oh++){const Rh=$u[Oh],Yh=Rh.instanceId;Dh.has(Yh)||ph.push(Rh)}return ih.length===Xl.length&&ph.length===0?Xl:ih.length===0&&ph.length===$u.length?$u:ih.length===0?ph:ph.length===0?ih:[...ih,...ph]}var Wl=(0,zn.forwardRef)((Xl,$u)=>{const{ctrlsFactory:Wd,context:ih}=(0,zn.useContext)(zl),ph=(0,zn.useRef)(null),Dh=(0,zn.useRef)(null),Uh=(0,zn.useRef)(null),Oh=(0,zn.useRef)(null),Rh=(0,zn.useRef)(null),Yh=(0,zn.useRef)(),[wh,Hh]=(0,zn.useState)(),[Cf,nf]=(0,zn.useState)(),[mf,af]=(0,zn.useState)(),[zh,Af]=(0,zn.useState)(()=>new vu),[$f,Rf]=(0,zn.useState)(()=>new vu("ag-hidden")),[cf,dp]=(0,zn.useState)(()=>new vu("ag-hidden")),[np,ip]=(0,zn.useState)(()=>new vu("ag-invisible"));(0,zn.useImperativeHandle)($u,()=>({refresh(){return!1}})),(0,zn.useLayoutEffect)(()=>Hl(wh,ih,Dh.current),[wh]);const Xf=(0,zn.useCallback)(c0=>{if(ph.current=c0,!c0){Yh.current=ih.destroyBean(Yh.current);return}const Xp={setInnerRenderer:(R0,W0)=>{Hh(R0),af(W0)},setChildCount:R0=>nf(R0),addOrRemoveCssClass:(R0,W0)=>Af(w0=>w0.setClass(R0,W0)),setContractedDisplayed:R0=>dp(W0=>W0.setClass("ag-hidden",!R0)),setExpandedDisplayed:R0=>Rf(W0=>W0.setClass("ag-hidden",!R0)),setCheckboxVisible:R0=>ip(W0=>W0.setClass("ag-invisible",!R0))},y0=Wd.getInstance("groupCellRendererCtrl");y0&&(Yh.current=ih.createBean(y0),Yh.current.init(Xp,c0,Uh.current,Oh.current,Rh.current,Wl,Xl))},[]),Jf=(0,zn.useMemo)(()=>`ag-cell-wrapper ${zh.toString()}`,[zh]),qf=(0,zn.useMemo)(()=>`ag-group-expanded ${$f.toString()}`,[$f]),fp=(0,zn.useMemo)(()=>`ag-group-contracted ${cf.toString()}`,[cf]),$p=(0,zn.useMemo)(()=>`ag-group-checkbox ${np.toString()}`,[np]),hg=wh&&wh.componentFromFramework,v0=hg?wh.componentClass:void 0,f0=wh==null&&mf!=null,u0=(0,Et._escapeString)(mf,!0);return zn.default.createElement("span",{className:Jf,ref:Xf,...Xl.colDef?{}:{role:Yh.current?.getCellAriaRole()}},zn.default.createElement("span",{className:qf,ref:Oh}),zn.default.createElement("span",{className:fp,ref:Rh}),zn.default.createElement("span",{className:$p,ref:Uh}),zn.default.createElement("span",{className:"ag-group-value",ref:Dh},f0&&zn.default.createElement(zn.default.Fragment,null,u0),hg&&zn.default.createElement(v0,{...wh.params})),zn.default.createElement("span",{className:"ag-group-child-count"},Cf))}),jd=Wl,Md=requireMain_cjs(),qu=y(requireReact()),ad=requireReact(),Dd=(0,ad.createContext)({setMethods:()=>{}}),mh=Xl=>{const{initialProps:$u,addUpdateCallback:Wd,CustomComponentClass:ih,setMethods:ph}=Xl,[{key:Dh,...Uh},Oh]=(0,qu.useState)($u);return(0,qu.useEffect)(()=>{Wd(Rh=>Oh(Rh))},[]),qu.default.createElement(Dd.Provider,{value:{setMethods:ph}},qu.default.createElement(ih,{key:Dh,...Uh}))},gd=(0,qu.memo)(mh),md=requireMain_cjs(),oh=requireReact(),qh=requireReactDom(),sf=0;function yh(){return`agPortalKey_${++sf}`}var vf=class{constructor(Xl,$u,Wd,ih){this.portal=null,this.oldPortal=null,this.reactComponent=Xl,this.portalManager=$u,this.componentType=Wd,this.suppressFallbackMethods=!!ih,this.statelessComponent=this.isStateless(this.reactComponent),this.key=yh(),this.portalKey=yh(),this.instanceCreated=this.isStatelessComponent()?md.AgPromise.resolve(!1):new md.AgPromise(ph=>{this.resolveInstanceCreated=ph})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy();const Xl=this.portal;Xl&&this.portalManager.destroyPortal(Xl)}createParentElement(Xl){const $u=this.portalManager.getComponentWrappingElement(),Wd=document.createElement($u||"div");return Wd.classList.add("ag-react-container"),Xl.reactContainer=Wd,Wd}addParentContainerStyleAndClasses(){this.componentInstance&&(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&((0,md._warnOnce)('Since v31.1 "getReactContainerStyle" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),Object.assign(this.eParentElement.style,this.componentInstance.getReactContainerStyle())),this.componentInstance.getReactContainerClasses&&this.componentInstance.getReactContainerClasses()&&((0,md._warnOnce)('Since v31.1 "getReactContainerClasses" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),this.componentInstance.getReactContainerClasses().forEach($u=>this.eParentElement.classList.add($u))))}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(Xl){return typeof Xl=="function"&&!(Xl.prototype&&Xl.prototype.isReactComponent)||typeof Xl=="object"&&Xl.$$typeof===this.getMemoType()}hasMethod(Xl){const $u=this.getFrameworkComponentInstance();return!!$u&&$u[Xl]!=null||this.fallbackMethodAvailable(Xl)}callMethod(Xl,$u){const Wd=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(Xl,$u&&$u[0]?$u[0]:{});if(!Wd){setTimeout(()=>this.callMethod(Xl,$u));return}const ih=Wd[Xl];if(ih)return ih.apply(Wd,$u);if(this.fallbackMethodAvailable(Xl))return this.fallbackMethod(Xl,$u&&$u[0]?$u[0]:{})}addMethod(Xl,$u){this[Xl]=$u}init(Xl){return this.eParentElement=this.createParentElement(Xl),this.createOrUpdatePortal(Xl),new md.AgPromise($u=>this.createReactComponent($u))}createOrUpdatePortal(Xl){this.isStatelessComponent()||(this.ref=$u=>{this.componentInstance=$u,this.addParentContainerStyleAndClasses(),this.resolveInstanceCreated?.(!0),this.resolveInstanceCreated=void 0},Xl.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...Xl,key:this.key}),this.portal=(0,qh.createPortal)(this.reactElement,this.eParentElement,this.portalKey)}createElement(Xl,$u){return(0,oh.createElement)(Xl,$u)}createReactComponent(Xl){this.portalManager.mountReactPortal(this.portal,this,Xl)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}refreshComponent(Xl){this.oldPortal=this.portal,this.createOrUpdatePortal(Xl),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(Xl,$u){const Wd=this[`${Xl}Component`];if(!this.suppressFallbackMethods&&Wd)return Wd.bind(this)($u)}fallbackMethodAvailable(Xl){return this.suppressFallbackMethods?!1:!!this[`${Xl}Component`]}};function Ef(Xl,$u,Wd){Xl.forEach(ih=>{const ph=$u[ih];ph&&(Wd[ih]=ph)})}var kf=class extends vf{constructor(){super(...arguments),this.awaitUpdateCallback=new Md.AgPromise(Xl=>{this.resolveUpdateCallback=Xl}),this.wrapperComponent=gd}init(Xl){return this.sourceParams=Xl,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(Xl,$u){return super.createElement(this.wrapperComponent,{initialProps:$u,CustomComponentClass:Xl,setMethods:Wd=>this.setMethods(Wd),addUpdateCallback:Wd=>{this.updateCallback=()=>(Wd(this.getProps()),new Md.AgPromise(ih=>{setTimeout(()=>{ih()})})),this.resolveUpdateCallback()}})}setMethods(Xl){this.providedMethods=Xl,Ef(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new Md.AgPromise(Xl=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>Xl())}))}},Mp=class extends kf{refresh(Xl){return this.sourceParams=Xl,this.refreshProps(),!0}},rp=class extends kf{constructor(){super(...arguments),this.date=null,this.onDateChange=Xl=>this.updateDate(Xl)}getDate(){return this.date}setDate(Xl){this.date=Xl,this.refreshProps()}refresh(Xl){this.sourceParams=Xl,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(Xl){this.setDate(Xl),this.sourceParams.onDateChanged()}getProps(){const Xl=super.getProps();return Xl.date=this.date,Xl.onDateChange=this.onDateChange,delete Xl.onDateChanged,Xl}},Fp=class extends kf{constructor(){super(...arguments),this.label="",this.icon=null,this.shake=!1}setIcon(Xl,$u){this.icon=Xl,this.shake=$u,this.refreshProps()}setLabel(Xl){this.label=Xl,this.refreshProps()}getProps(){const Xl=super.getProps(),{label:$u,icon:Wd,shake:ih}=this;return Xl.label=$u,Xl.icon=Wd,Xl.shake=ih,Xl}},_0=class extends kf{constructor(){super(...arguments),this.model=null,this.onModelChange=Xl=>this.updateModel(Xl),this.onUiChange=()=>this.sourceParams.filterChangedCallback(),this.expectingNewMethods=!0,this.hasBeenActive=!1}isFilterActive(){return this.model!=null}doesFilterPass(Xl){return this.providedMethods.doesFilterPass(Xl)}getModel(){return this.model}setModel(Xl){return this.expectingNewMethods=!0,this.model=Xl,this.hasBeenActive||(this.hasBeenActive=this.isFilterActive()),this.refreshProps()}refresh(Xl){return this.sourceParams=Xl,this.refreshProps(),!0}getOptionalMethods(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(Xl){this.expectingNewMethods===!1&&this.hasBeenActive&&this.providedMethods?.doesFilterPass!==Xl?.doesFilterPass&&setTimeout(()=>{this.sourceParams.filterChangedCallback()}),this.expectingNewMethods=!1,super.setMethods(Xl)}updateModel(Xl){this.setModel(Xl).then(()=>this.sourceParams.filterChangedCallback())}getProps(){const Xl=super.getProps();return Xl.model=this.model,Xl.onModelChange=this.onModelChange,Xl.onUiChange=this.onUiChange,delete Xl.filterChangedCallback,delete Xl.filterModifiedCallback,delete Xl.valueGetter,Xl}},L0=requireMain_cjs();function Gp(Xl,$u){Xl.parentFilterInstance(Wd=>{(Wd.setModel($u)||L0.AgPromise.resolve()).then(()=>{Xl.filterParams.filterChangedCallback()})})}var E0=class{constructor(Xl,$u){this.floatingFilterParams=Xl,this.refreshProps=$u,this.model=null,this.onModelChange=Wd=>this.updateModel(Wd)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(Xl){this.model=Xl,this.refreshProps()}refresh(Xl){this.floatingFilterParams=Xl,this.refreshProps()}setMethods(Xl){Ef(this.getOptionalMethods(),Xl,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(Xl){this.model=Xl,this.refreshProps(),Gp(this.floatingFilterParams,Xl)}},l0=class extends kf{constructor(){super(...arguments),this.model=null,this.onModelChange=Xl=>this.updateModel(Xl)}onParentModelChanged(Xl){this.model=Xl,this.refreshProps()}refresh(Xl){this.sourceParams=Xl,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(Xl){this.model=Xl,this.refreshProps(),Gp(this.sourceParams,Xl)}getProps(){const Xl=super.getProps();return Xl.model=this.model,Xl.onModelChange=this.onModelChange,Xl}},n0=class extends kf{refresh(Xl){this.sourceParams=Xl,this.refreshProps()}},Z0=class extends kf{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=Xl=>this.updateActive(Xl)}setActive(Xl){this.awaitSetActive(Xl)}setExpanded(Xl){this.expanded=Xl,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(Xl){return this.active=Xl,this.refreshProps()}updateActive(Xl){const $u=this.awaitSetActive(Xl);Xl&&$u.then(()=>this.sourceParams.onItemActivated())}getProps(){const Xl=super.getProps();return Xl.active=this.active,Xl.expanded=this.expanded,Xl.onActiveChange=this.onActiveChange,delete Xl.onItemActivated,Xl}},G0=class extends kf{refresh(Xl){this.sourceParams=Xl,this.refreshProps()}},X0=class extends kf{refresh(Xl){return this.sourceParams=Xl,this.refreshProps(),!0}},$g=class extends kf{constructor(){super(...arguments),this.onStateChange=Xl=>this.updateState(Xl)}refresh(Xl){return this.sourceParams=Xl,this.refreshProps(),!0}getState(){return this.state}updateState(Xl){this.state=Xl,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const Xl=super.getProps();return Xl.state=this.state,Xl.onStateChange=this.onStateChange,Xl}},Gg=requireMain_cjs();function _f(Xl,$u){(Xl?.getInstance?.()??Gg.AgPromise.resolve(void 0)).then(ih=>$u(ih))}function hd(){(0,Gg._warnOnce)("As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.")}var qd=1e3,fh=class{constructor(Xl,$u,Wd){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=$u||"div",this.refresher=Xl,this.maxComponentCreationTimeMs=Wd||qd}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(Xl){this.portals=this.portals.filter($u=>$u!==Xl),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(Xl,$u,Wd){this.portals=[...this.portals,Xl],this.waitForInstance($u,Wd),this.batchUpdate()}updateReactPortal(Xl,$u){this.portals[this.portals.indexOf(Xl)]=$u,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(Xl,$u,Wd=Date.now()){if(this.destroyed){$u(null);return}if(Xl.rendered())$u(Xl);else{if(Date.now()-Wd>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return;window.setTimeout(()=>{this.waitForInstance(Xl,$u,Wd)})}}},Mf=requireMain_cjs(),lf=y(requireReact()),mp=requireMain_cjs(),rf=y(requireReact()),hp=requireMain_cjs(),Cp=y(requireReact()),sp=requireMain_cjs(),jp=y(requireReact()),Cg=requireMain_cjs(),tg=y(requireReact()),qg=requireMain_cjs(),ig=y(requireReact()),Ag=({ctrl:Xl})=>{const $u=Xl.isAlive(),{context:Wd}=(0,ig.useContext)(zl),ih=$u?Xl.getColId():void 0,[ph,Dh]=(0,ig.useState)(),Uh=(0,ig.useRef)(),Oh=(0,ig.useRef)(null),Rh=(0,ig.useRef)(null),Yh=(0,ig.useRef)(null),wh=(0,ig.useRef)(),Hh=(0,ig.useRef)();$u&&!Hh.current&&(Hh.current=new qg.CssClassManager(()=>Oh.current));const Cf=(0,ig.useCallback)(zh=>{if(Oh.current=zh,Uh.current=zh?Wd.createBean(new qg._EmptyBean):Wd.destroyBean(Uh.current),!zh||!$u)return;const Af={setWidth:Rf=>{Oh.current&&(Oh.current.style.width=Rf)},addOrRemoveCssClass:(Rf,cf)=>Hh.current.addOrRemoveCssClass(Rf,cf),setAriaSort:Rf=>{Oh.current&&(Rf?(0,qg._setAriaSort)(Oh.current,Rf):(0,qg._removeAriaSort)(Oh.current))},setUserCompDetails:Rf=>Dh(Rf),getUserCompInstance:()=>wh.current||void 0};Xl.setComp(Af,zh,Rh.current,Yh.current,Uh.current);const $f=Xl.getSelectAllGui();Rh.current?.insertAdjacentElement("afterend",$f),Uh.current.addDestroyFunc(()=>$f.remove())},[]);(0,ig.useLayoutEffect)(()=>Hl(ph,Wd,Yh.current,wh),[ph]),(0,ig.useEffect)(()=>{Xl.setDragSource(Oh.current)},[ph]);const nf=(0,ig.useMemo)(()=>!!(ph?.componentFromFramework&&Nl(ph.componentClass)),[ph]),mf=ph&&ph.componentFromFramework,af=ph&&ph.componentClass;return ig.default.createElement("div",{ref:Cf,className:"ag-header-cell","col-id":ih,role:"columnheader"},ig.default.createElement("div",{ref:Rh,className:"ag-header-cell-resize",role:"presentation"}),ig.default.createElement("div",{ref:Yh,className:"ag-header-cell-comp-wrapper",role:"presentation"},mf&&nf&&ig.default.createElement(af,{...ph.params}),mf&&!nf&&ig.default.createElement(af,{...ph.params,ref:wh})))},vg=(0,ig.memo)(Ag),cg=requireMain_cjs(),_p=y(requireReact()),Ep=({ctrl:Xl})=>{const{context:$u,gos:Wd}=(0,_p.useContext)(zl),[ih,ph]=(0,_p.useState)(()=>new vu("ag-header-cell","ag-floating-filter")),[Dh,Uh]=(0,_p.useState)(()=>new vu),[Oh,Rh]=(0,_p.useState)(()=>new vu("ag-floating-filter-button","ag-hidden")),[Yh,wh]=(0,_p.useState)("false"),[Hh,Cf]=(0,_p.useState)(),[,nf]=(0,_p.useState)(1),mf=(0,_p.useRef)(),af=(0,_p.useRef)(null),zh=(0,_p.useRef)(null),Af=(0,_p.useRef)(null),$f=(0,_p.useRef)(null),Rf=(0,_p.useRef)(),cf=(0,_p.useRef)(),dp=u0=>{u0!=null&&Rf.current&&Rf.current(u0)},np=(0,_p.useCallback)(u0=>{if(af.current=u0,mf.current=u0?$u.createBean(new cg._EmptyBean):$u.destroyBean(mf.current),!u0)return;cf.current=new cg.AgPromise(Xp=>{Rf.current=Xp});const c0={addOrRemoveCssClass:(Xp,y0)=>ph(R0=>R0.setClass(Xp,y0)),addOrRemoveBodyCssClass:(Xp,y0)=>Uh(R0=>R0.setClass(Xp,y0)),setButtonWrapperDisplayed:Xp=>{Rh(y0=>y0.setClass("ag-hidden",!Xp)),wh(Xp?"false":"true")},setWidth:Xp=>{af.current&&(af.current.style.width=Xp)},setCompDetails:Xp=>Cf(Xp),getFloatingFilterComp:()=>cf.current?cf.current:null,setMenuIcon:Xp=>$f.current?.appendChild(Xp)};Xl.setComp(c0,u0,$f.current,zh.current,mf.current)},[]);(0,_p.useLayoutEffect)(()=>Hl(Hh,$u,zh.current,dp),[Hh]);const ip=(0,_p.useMemo)(()=>ih.toString(),[ih]),Xf=(0,_p.useMemo)(()=>Dh.toString(),[Dh]),Jf=(0,_p.useMemo)(()=>Oh.toString(),[Oh]),qf=(0,_p.useMemo)(()=>!!(Hh&&Hh.componentFromFramework&&Nl(Hh.componentClass)),[Hh]),fp=(0,_p.useMemo)(()=>Wd.get("reactiveCustomComponents"),[]),$p=(0,_p.useMemo)(()=>{if(Hh)if(fp){const u0=new E0(Hh.params,()=>nf(c0=>c0+1));return dp(u0),u0}else Hh.componentFromFramework&&hd()},[Hh]),hg=$p?.getProps(),v0=Hh&&Hh.componentFromFramework,f0=Hh&&Hh.componentClass;return _p.default.createElement("div",{ref:np,className:ip,role:"gridcell"},_p.default.createElement("div",{ref:zh,className:Xf,role:"presentation"},v0&&!fp&&_p.default.createElement(f0,{...Hh.params,ref:qf?()=>{}:dp}),v0&&fp&&_p.default.createElement(Dd.Provider,{value:{setMethods:u0=>$p.setMethods(u0)}},_p.default.createElement(f0,{...hg}))),_p.default.createElement("div",{ref:Af,"aria-hidden":Yh,className:Jf,role:"presentation"},_p.default.createElement("button",{ref:$f,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},dm=(0,_p.memo)(Ep),Om=requireMain_cjs(),Pp=y(requireReact()),Xg=({ctrl:Xl})=>{const{context:$u}=(0,Pp.useContext)(zl),[Wd,ih]=(0,Pp.useState)(()=>new vu),[ph,Dh]=(0,Pp.useState)(()=>new vu),[Uh,Oh]=(0,Pp.useState)("false"),[Rh,Yh]=(0,Pp.useState)(),[wh,Hh]=(0,Pp.useState)(),Cf=(0,Pp.useMemo)(()=>Xl.getColId(),[]),nf=(0,Pp.useRef)(),mf=(0,Pp.useRef)(null),af=(0,Pp.useRef)(null),zh=(0,Pp.useRef)(null),Af=(0,Pp.useRef)(),$f=(0,Pp.useCallback)(Xf=>{if(mf.current=Xf,nf.current=Xf?$u.createBean(new Om._EmptyBean):$u.destroyBean(nf.current),!Xf)return;const Jf={setWidth:qf=>{mf.current&&(mf.current.style.width=qf)},addOrRemoveCssClass:(qf,fp)=>ih($p=>$p.setClass(qf,fp)),setHeaderWrapperHidden:qf=>{const fp=zh.current;fp&&(qf?fp.style.setProperty("display","none"):fp.style.removeProperty("display"))},setHeaderWrapperMaxHeight:qf=>{const fp=zh.current;fp&&(qf!=null?fp.style.setProperty("max-height",`${qf}px`):fp.style.removeProperty("max-height"),fp.classList.toggle("ag-header-cell-comp-wrapper-limited-height",qf!=null))},setUserCompDetails:qf=>Hh(qf),setResizableDisplayed:qf=>{Dh(fp=>fp.setClass("ag-hidden",!qf)),Oh(qf?"false":"true")},setAriaExpanded:qf=>Yh(qf),getUserCompInstance:()=>Af.current||void 0};Xl.setComp(Jf,Xf,af.current,zh.current,nf.current)},[]);(0,Pp.useLayoutEffect)(()=>Hl(wh,$u,zh.current),[wh]),(0,Pp.useEffect)(()=>{mf.current&&Xl.setDragSource(mf.current)},[wh]);const Rf=(0,Pp.useMemo)(()=>!!(wh?.componentFromFramework&&Nl(wh.componentClass)),[wh]),cf=(0,Pp.useMemo)(()=>"ag-header-group-cell "+Wd.toString(),[Wd]),dp=(0,Pp.useMemo)(()=>"ag-header-cell-resize "+ph.toString(),[ph]),np=wh&&wh.componentFromFramework,ip=wh&&wh.componentClass;return Pp.default.createElement("div",{ref:$f,className:cf,"col-id":Cf,role:"columnheader","aria-expanded":Rh},Pp.default.createElement("div",{ref:zh,className:"ag-header-cell-comp-wrapper",role:"presentation"},np&&Rf&&Pp.default.createElement(ip,{...wh.params}),np&&!Rf&&Pp.default.createElement(ip,{...wh.params,ref:Af})),Pp.default.createElement("div",{ref:af,"aria-hidden":Uh,className:dp}))},wm=(0,Pp.memo)(Xg),hm=({ctrl:Xl})=>{const{context:$u}=(0,tg.useContext)(zl),{topOffset:Wd,rowHeight:ih}=(0,tg.useMemo)(()=>Xl.getTopAndHeight(),[]),ph=Xl.getAriaRowIndex(),Dh=Xl.getHeaderRowClass(),[Uh,Oh]=(0,tg.useState)(()=>ih+"px"),[Rh,Yh]=(0,tg.useState)(()=>Wd+"px"),wh=(0,tg.useRef)(null),Hh=(0,tg.useRef)(null),[Cf,nf]=(0,tg.useState)(()=>Xl.getHeaderCtrls()),mf=(0,tg.useRef)(),af=(0,tg.useRef)(null),zh=(0,tg.useCallback)(Rf=>{if(af.current=Rf,mf.current=Rf?$u.createBean(new Cg._EmptyBean):$u.destroyBean(mf.current),!Rf)return;const cf={setHeight:dp=>Oh(dp),setTop:dp=>Yh(dp),setHeaderCtrls:(dp,np,ip)=>{Hh.current=wh.current,wh.current=dp;const Xf=Cd(Hh.current,dp,np);Xf!==Hh.current&&Bd(ip,()=>nf(Xf))},setWidth:dp=>{af.current&&(af.current.style.width=dp)}};Xl.setComp(cf,mf.current,!1)},[]),Af=(0,tg.useMemo)(()=>({height:Uh,top:Rh}),[Uh,Rh]),$f=(0,tg.useCallback)(Rf=>{switch(Xl.getType()){case Cg.HeaderRowType.COLUMN_GROUP:return tg.default.createElement(wm,{ctrl:Rf,key:Rf.instanceId});case Cg.HeaderRowType.FLOATING_FILTER:return tg.default.createElement(dm,{ctrl:Rf,key:Rf.instanceId});default:return tg.default.createElement(vg,{ctrl:Rf,key:Rf.instanceId})}},[]);return tg.default.createElement("div",{ref:zh,className:Dh,role:"row",style:Af,"aria-rowindex":ph},Cf.map($f))},Vg=(0,tg.memo)(hm),Qg=({pinned:Xl})=>{const[$u,Wd]=(0,jp.useState)(!0),[ih,ph]=(0,jp.useState)([]),{context:Dh}=(0,jp.useContext)(zl),Uh=(0,jp.useRef)(null),Oh=(0,jp.useRef)(null),Rh=(0,jp.useRef)(),Yh=Xl==="left",wh=Xl==="right",Hh=!Yh&&!wh,Cf=(0,jp.useCallback)(af=>{if(Uh.current=af,Rh.current=af?Dh.createBean(new sp.HeaderRowContainerCtrl(Xl)):Dh.destroyBean(Rh.current),!af)return;const zh={setDisplayed:Wd,setCtrls:Af=>ph(Af),setCenterWidth:Af=>{Oh.current&&(Oh.current.style.width=Af)},setViewportScrollLeft:Af=>{Uh.current&&(Uh.current.scrollLeft=Af)},setPinnedContainerWidth:Af=>{Uh.current&&(Uh.current.style.width=Af,Uh.current.style.minWidth=Af,Uh.current.style.maxWidth=Af)}};Rh.current.setComp(zh,Uh.current)},[]),nf=$u?"":"ag-hidden",mf=()=>ih.map(af=>jp.default.createElement(Vg,{ctrl:af,key:af.instanceId}));return jp.default.createElement(jp.default.Fragment,null,Yh&&jp.default.createElement("div",{ref:Cf,className:"ag-pinned-left-header "+nf,"aria-hidden":!$u,role:"rowgroup"},mf()),wh&&jp.default.createElement("div",{ref:Cf,className:"ag-pinned-right-header "+nf,"aria-hidden":!$u,role:"rowgroup"},mf()),Hh&&jp.default.createElement("div",{ref:Cf,className:"ag-header-viewport "+nf,role:"presentation"},jp.default.createElement("div",{ref:Oh,className:"ag-header-container",role:"rowgroup"},mf())))},Tg=(0,jp.memo)(Qg),vm=()=>{const[Xl,$u]=(0,Cp.useState)(()=>new vu),[Wd,ih]=(0,Cp.useState)(),{context:ph}=(0,Cp.useContext)(zl),Dh=(0,Cp.useRef)(null),Uh=(0,Cp.useRef)(),Oh=(0,Cp.useCallback)(wh=>{if(Dh.current=wh,Uh.current=wh?ph.createBean(new hp.GridHeaderCtrl):ph.destroyBean(Uh.current),!wh)return;const Hh={addOrRemoveCssClass:(Cf,nf)=>$u(mf=>mf.setClass(Cf,nf)),setHeightAndMinHeight:Cf=>ih(Cf)};Uh.current.setComp(Hh,wh,wh)},[]),Rh=(0,Cp.useMemo)(()=>"ag-header "+Xl.toString(),[Xl]),Yh=(0,Cp.useMemo)(()=>({height:Wd,minHeight:Wd}),[Wd]);return Cp.default.createElement("div",{ref:Oh,className:Rh,style:Yh,role:"presentation"},Cp.default.createElement(Tg,{pinned:"left"}),Cp.default.createElement(Tg,{pinned:null}),Cp.default.createElement(Tg,{pinned:"right"}))},zm=(0,Cp.memo)(vm),Cm=requireReact(),Qm=(Xl,$u)=>{(0,Cm.useEffect)(()=>{const Wd=$u.current;if(Wd){const ih=Wd.parentElement;if(ih){const ph=document.createComment(Xl);return ih.insertBefore(ph,Wd),()=>{ih.removeChild(ph)}}}},[Xl])},b0=Qm,yg=requireMain_cjs(),I0=y(requireReact()),Pm=requireMain_cjs(),up=y(requireReact()),ls=requireMain_cjs(),ed=y(requireReact()),rh=requireMain_cjs(),Ih=class{constructor(Xl,$u){this.cellEditorParams=Xl,this.refreshProps=$u,this.instanceCreated=new rh.AgPromise(Wd=>{this.resolveInstanceCreated=Wd}),this.onValueChange=Wd=>this.updateValue(Wd),this.value=Xl.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(Xl){this.cellEditorParams=Xl,this.refreshProps()}setMethods(Xl){Ef(this.getOptionalMethods(),Xl,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(Xl){this.componentInstance=Xl,this.resolveInstanceCreated?.(),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached"]}updateValue(Xl){this.value=Xl,this.refreshProps()}},_h=y(requireReact()),ep=requireReactDom(),Of=requireReact(),Qf=Xl=>{const $u=(0,Of.useRef)(Xl),Wd=(0,Of.useRef)(),ih=(0,Of.useRef)(!1),ph=(0,Of.useRef)(!1),[,Dh]=(0,Of.useState)(0);ih.current&&(ph.current=!0),(0,Of.useEffect)(()=>(ih.current||(Wd.current=$u.current(),ih.current=!0),Dh(Uh=>Uh+1),()=>{ph.current&&Wd.current?.()}),[])},xp=Xl=>{const[$u,Wd]=(0,_h.useState)(),{context:ih,popupService:ph,localeService:Dh,gos:Uh,editService:Oh}=(0,_h.useContext)(zl);return Qf(()=>{const{editDetails:Rh,cellCtrl:Yh,eParentCell:wh}=Xl,{compDetails:Hh}=Rh,Cf=Uh.get("stopEditingWhenCellsLoseFocus"),nf=ih.createBean(Oh.createPopupEditorWrapper(Hh.params)),mf=nf.getGui();if(Xl.jsChildComp){const cf=Xl.jsChildComp.getGui();cf&&mf.appendChild(cf)}const af={column:Yh.getColumn(),rowNode:Yh.getRowNode(),type:"popupCellEditor",eventSource:wh,ePopup:mf,position:Rh.popupPosition,keepWithinBounds:!0},zh=ph.positionPopupByComponent.bind(ph,af),Af=Dh.getLocaleTextFunc(),$f=ph.addPopup({modal:Cf,eChild:mf,closeOnEsc:!0,closedCallback:()=>{Yh.onPopupEditorClosed()},anchorToElement:wh,positionCallback:zh,ariaLabel:Af("ariaLabelCellEditor","Cell Editor")}),Rf=$f?$f.hideFunc:void 0;return Wd(nf),Xl.jsChildComp?.afterGuiAttached?.(),()=>{Rf?.(),ih.destroyBean(nf)}}),_h.default.createElement(_h.default.Fragment,null,$u&&Xl.wrappedContent&&(0,ep.createPortal)(Xl.wrappedContent,$u.getGui()))},Zf=(0,_h.memo)(xp),vp=requireReact(),Nh=(Xl,$u,Wd,ih,ph,Dh)=>{const{context:Uh}=(0,vp.useContext)(zl),Oh=(0,vp.useCallback)(()=>{const Rh=ph.current;if(!Rh)return;const Yh=Rh.getGui();Yh&&Yh.parentElement&&Yh.parentElement.removeChild(Yh),Uh.destroyBean(Rh),ph.current=void 0},[]);(0,vp.useEffect)(()=>{const Rh=Xl!=null,Yh=Xl?.compDetails&&!Xl.compDetails.componentFromFramework,wh=$u&&Wd==null;if(!(Rh&&Yh&&!wh)){Oh();return}const Cf=Xl.compDetails;if(ph.current){const mf=ph.current,zh=mf.refresh!=null&&Xl.force==!1?mf.refresh(Cf.params):!1;if(zh===!0||zh===void 0)return;Oh()}const nf=Cf.newAgStackInstance();nf?.then(mf=>{if(!mf)return;const af=mf.getGui();if(!af)return;($u?Wd:Dh.current).appendChild(af),ph.current=mf})},[Xl,$u,ih]),(0,vp.useEffect)(()=>Oh,[])},Rp=Nh,Q0=(Xl,$u,Wd)=>{const{compProxy:ih}=Xl;Wd(ih);const ph=ih.getProps(),Dh=Nl($u);return ed.default.createElement(Dd.Provider,{value:{setMethods:Uh=>ih.setMethods(Uh)}},Dh?ed.default.createElement($u,{...ph}):ed.default.createElement($u,{...ph,ref:Uh=>ih.setRef(Uh)}))},dg=(Xl,$u,Wd)=>{const ih=Xl.compProxy;return ed.default.createElement(ed.default.Fragment,null,ih?Q0(Xl,$u,Wd):ed.default.createElement($u,{...Xl.compDetails.params,ref:Wd}))},jg=(Xl,$u,Wd,ih,ph)=>{const Dh=Xl.compDetails,Uh=Dh.componentClass,Oh=Dh.componentFromFramework&&!Xl.popup,Rh=Dh.componentFromFramework&&Xl.popup,Yh=!Dh.componentFromFramework&&Xl.popup;return ed.default.createElement(ed.default.Fragment,null,Oh&&dg(Xl,Uh,$u),Rh&&ed.default.createElement(Zf,{editDetails:Xl,cellCtrl:ih,eParentCell:Wd,wrappedContent:dg(Xl,Uh,$u)}),Yh&&ph&&ed.default.createElement(Zf,{editDetails:Xl,cellCtrl:ih,eParentCell:Wd,jsChildComp:ph}))},Jp=(Xl,$u,Wd,ih,ph,Dh,Uh)=>{const{compDetails:Oh,value:Rh}=Xl,Yh=!Oh,wh=Oh&&Oh.componentFromFramework,Hh=Oh&&Oh.componentClass,Cf=Rh?.toString?Rh.toString():Rh,nf=()=>ed.default.createElement(ed.default.Fragment,null,Yh&&ed.default.createElement(ed.default.Fragment,null,Cf),wh&&!Dh&&ed.default.createElement(Hh,{...Oh.params,key:$u,ref:ih}),wh&&Dh&&ed.default.createElement(Hh,{...Oh.params,key:$u}));return ed.default.createElement(ed.default.Fragment,null,ph?ed.default.createElement("span",{role:"presentation",id:`cell-${Wd}`,className:"ag-cell-value",ref:Uh},nf()):nf())},og=({cellCtrl:Xl,printLayout:$u,editingRow:Wd})=>{const{context:ih}=(0,ed.useContext)(zl),{colIdSanitised:ph,instanceId:Dh}=Xl,Uh=(0,ed.useRef)(),[Oh,Rh]=(0,ed.useState)(()=>Xl.isCellRenderer()?void 0:{compDetails:void 0,value:Xl.getValueToDisplay(),force:!1}),[Yh,wh]=(0,ed.useState)(),[Hh,Cf]=(0,ed.useState)(1),[nf,mf]=(0,ed.useState)(),[af,zh]=(0,ed.useState)(!1),[Af,$f]=(0,ed.useState)(!1),[Rf,cf]=(0,ed.useState)(!1),[dp,np]=(0,ed.useState)(),ip=(0,ed.useMemo)(()=>Xl.isForceWrapper(),[Xl]),Xf=(0,ed.useMemo)(()=>Xl.getCellAriaRole(),[Xl]),Jf=(0,ed.useRef)(null),qf=(0,ed.useRef)(null),fp=(0,ed.useRef)(),$p=(0,ed.useRef)(),hg=(0,ed.useRef)(),v0=(0,ed.useRef)([]),f0=(0,ed.useRef)(),[u0,c0]=(0,ed.useState)(0),Xp=(0,ed.useCallback)(hl=>{f0.current=hl,c0(eh=>eh+1)},[]),y0=Oh!=null&&(af||Rf||Af),R0=ip||y0,W0=(0,ed.useCallback)(hl=>{if($p.current=hl,hl){const eh=hl.isCancelBeforeStart&&hl.isCancelBeforeStart();setTimeout(()=>{eh?(Xl.stopEditing(!0),Xl.focusCell(!0)):Xl.cellEditorAttached()})}},[Xl]),w0=(0,ed.useRef)();w0.current||(w0.current=new ls.CssClassManager(()=>Jf.current)),Rp(Oh,R0,f0.current,u0,fp,Jf);const V0=(0,ed.useRef)();(0,ed.useLayoutEffect)(()=>{const hl=V0.current,eh=Oh;if(V0.current=Oh,hl==null||hl.compDetails==null||eh==null||eh.compDetails==null)return;const Xd=hl.compDetails,Gd=eh.compDetails;if(Xd.componentClass!=Gd.componentClass||qf.current?.refresh==null)return;qf.current.refresh(Gd.params)!=!0&&Cf(Ch=>Ch+1)},[Oh]),(0,ed.useLayoutEffect)(()=>{if(!(Yh&&!Yh.compDetails.componentFromFramework))return;const eh=Yh.compDetails,Xd=Yh.popup===!0,Gd=eh.newAgStackInstance();return Gd.then(Jh=>{if(!Jh)return;const Ch=Jh.getGui();W0(Jh),Xd||((ip?hg:Jf).current?.appendChild(Ch),Jh.afterGuiAttached&&Jh.afterGuiAttached()),np(Jh)}),()=>{Gd.then(Jh=>{const Ch=Jh.getGui();ih.destroyBean(Jh),W0(void 0),np(void 0),Ch?.parentElement?.removeChild(Ch)})}},[Yh]);const Qp=(0,ed.useCallback)(hl=>{if(hg.current=hl,!hl){v0.current.forEach(Xd=>Xd()),v0.current=[];return}const eh=Xd=>{if(Xd){const Gd=Xd.getGui();hl.insertAdjacentElement("afterbegin",Gd),v0.current.push(()=>{ih.destroyBean(Xd),(0,ls._removeFromParent)(Gd)})}return Xd};if(af){const Xd=Xl.createSelectionCheckbox();eh(Xd)}Rf&&eh(Xl.createDndSource()),Af&&eh(Xl.createRowDragComp())},[Xl,ih,Rf,Af,af]),j0=(0,ed.useCallback)(hl=>{if(Jf.current=hl,Uh.current=hl?ih.createBean(new ls._EmptyBean):ih.destroyBean(Uh.current),!hl||!Xl)return;const eh={addOrRemoveCssClass:(Gd,Jh)=>w0.current.addOrRemoveCssClass(Gd,Jh),setUserStyles:Gd=>mf(Gd),getFocusableElement:()=>Jf.current,setIncludeSelection:Gd=>zh(Gd),setIncludeRowDrag:Gd=>$f(Gd),setIncludeDndSource:Gd=>cf(Gd),getCellEditor:()=>$p.current||null,getCellRenderer:()=>qf.current??fp.current,getParentOfValue:()=>f0.current??hg.current??Jf.current,setRenderDetails:(Gd,Jh,Ch)=>{Rh(Uf=>Uf?.compDetails!==Gd||Uf?.value!==Jh||Uf?.force!==Ch?{value:Jh,compDetails:Gd,force:Ch}:Uf)},setEditDetails:(Gd,Jh,Ch,Uf)=>{if(Gd){let Fh;Uf?Fh=new Ih(Gd.params,()=>Cf(ff=>ff+1)):Gd.componentFromFramework&&hd(),wh({compDetails:Gd,popup:Jh,popupPosition:Ch,compProxy:Fh}),Jh||Rh(void 0)}else wh(Fh=>{Fh?.compProxy&&($p.current=void 0)})}},Xd=hg.current||void 0;Xl.setComp(eh,hl,Xd,$u,Wd,Uh.current)},[]),A0=(0,ed.useMemo)(()=>!!(Oh?.compDetails?.componentFromFramework&&Nl(Oh.compDetails.componentClass)),[Oh]);(0,ed.useLayoutEffect)(()=>{Jf.current&&(w0.current.addOrRemoveCssClass("ag-cell-value",!R0),w0.current.addOrRemoveCssClass("ag-cell-inline-editing",!!Yh&&!Yh.popup),w0.current.addOrRemoveCssClass("ag-cell-popup-editing",!!Yh&&!!Yh.popup),w0.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!Yh||!!Yh.popup),Xl.getRowCtrl()?.setInlineEditingCss(),Xl.shouldRestoreFocus()&&!Xl.isEditing()&&Jf.current.focus({preventScroll:!0}))});const Ln=()=>ed.default.createElement(ed.default.Fragment,null,Oh!=null&&Jp(Oh,Hh,Dh,qf,R0,A0,Xp),Yh!=null&&jg(Yh,W0,Jf.current,Xl,dp)),Yu=(0,ed.useCallback)(()=>Xl.onFocusOut(),[]);return ed.default.createElement("div",{ref:j0,style:nf,role:Xf,"col-id":ph,onBlur:Yu},R0?ed.default.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:Qp},Ln()):Ln())},i0=(0,ed.memo)(og),ag=({rowCtrl:Xl,containerType:$u})=>{const{context:Wd,gos:ih}=(0,up.useContext)(zl),ph=(0,up.useRef)(),Dh=(0,up.useRef)(Xl.getDomOrder()),Uh=Xl.isFullWidth(),Oh=Xl.getRowNode().displayed,[Rh,Yh]=(0,up.useState)(()=>Oh?Xl.getRowIndex():null),[wh,Hh]=(0,up.useState)(()=>Xl.getRowId()),[Cf,nf]=(0,up.useState)(()=>Xl.getBusinessKey()),[mf,af]=(0,up.useState)(()=>Xl.getRowStyles()),zh=(0,up.useRef)(null),Af=(0,up.useRef)(null),[$f,Rf]=(0,up.useState)(()=>null),[cf,dp]=(0,up.useState)(),[np,ip]=(0,up.useState)(()=>Oh?Xl.getInitialRowTop($u):void 0),[Xf,Jf]=(0,up.useState)(()=>Oh?Xl.getInitialTransform($u):void 0),qf=(0,up.useRef)(null),fp=(0,up.useRef)(),$p=(0,up.useRef)(!1),[hg,v0]=(0,up.useState)(0);(0,up.useEffect)(()=>{if($p.current||!cf||hg>10)return;const Qp=qf.current?.firstChild;Qp?(Xl.setupDetailRowAutoHeight(Qp),$p.current=!0):v0(j0=>j0+1)},[cf,hg]);const f0=(0,up.useRef)();f0.current||(f0.current=new Pm.CssClassManager(()=>qf.current));const u0=(0,up.useCallback)(Qp=>{if(qf.current=Qp,ph.current=Qp?Wd.createBean(new Pm._EmptyBean):Wd.destroyBean(ph.current),!Qp){Xl.unsetComp($u);return}if(!Xl.isAlive())return;const j0={setTop:ip,setTransform:Jf,addOrRemoveCssClass:(A0,Ln)=>f0.current.addOrRemoveCssClass(A0,Ln),setDomOrder:A0=>Dh.current=A0,setRowIndex:Yh,setRowId:Hh,setRowBusinessKey:nf,setUserStyles:af,setCellCtrls:(A0,Ln)=>{Af.current=zh.current;const Yu=Cd(Af.current,A0,Dh.current);Yu!==Af.current&&(zh.current=Yu,Bd(Ln,()=>Rf(Yu)))},showFullWidth:A0=>dp(A0),getFullWidthCellRenderer:()=>fp.current,refreshFullWidth:A0=>W0.current?(dp(Ln=>({...Ln,params:A0()})),!0):!fp.current||!fp.current.refresh?!1:fp.current.refresh(A0())};Xl.setComp(j0,Qp,$u,ph.current)},[]);(0,up.useLayoutEffect)(()=>Hl(cf,Wd,qf.current,fp),[cf]);const c0=(0,up.useMemo)(()=>{const Qp={top:np,transform:Xf};return Object.assign(Qp,mf),Qp},[np,Xf,mf]),Xp=Uh&&cf?.componentFromFramework,y0=!Uh&&$f!=null,R0=(0,up.useMemo)(()=>!!(cf?.componentFromFramework&&Nl(cf.componentClass)),[cf]),W0=(0,up.useRef)(!1);(0,up.useEffect)(()=>{W0.current=R0&&!!cf&&!!ih.get("reactiveCustomComponents")},[R0,cf]);const w0=()=>$f?.map(Qp=>up.default.createElement(i0,{cellCtrl:Qp,editingRow:Xl.isEditing(),printLayout:Xl.isPrintLayout(),key:Qp.instanceId})),V0=()=>{const Qp=cf.componentClass;return up.default.createElement(up.default.Fragment,null,R0?up.default.createElement(Qp,{...cf.params}):up.default.createElement(Qp,{...cf.params,ref:fp}))};return up.default.createElement("div",{ref:u0,role:"row",style:c0,"row-index":Rh,"row-id":wh,"row-business-key":Cf},y0&&w0(),Xp&&V0())},Yp=(0,up.memo)(ag),Ng=({name:Xl})=>{const{context:$u}=(0,I0.useContext)(zl),Wd=(0,I0.useMemo)(()=>(0,yg._getRowContainerOptions)(Xl),[Xl]),ih=(0,I0.useRef)(null),ph=(0,I0.useRef)(null),Dh=(0,I0.useRef)([]),Uh=(0,I0.useRef)([]),[Oh,Rh]=(0,I0.useState)(()=>[]),Yh=(0,I0.useRef)(!1),wh=(0,I0.useRef)(),Hh=(0,I0.useMemo)(()=>Al(Wd.viewport),[Wd]),Cf=(0,I0.useMemo)(()=>Al(Wd.container),[Wd]),nf=Wd.type==="center",mf=nf?ih:ph;b0(" AG Row Container "+Xl+" ",mf);const af=(0,I0.useCallback)(()=>nf?ih.current!=null&&ph.current!=null:ph.current!=null,[]),zh=(0,I0.useCallback)(()=>nf?ih.current==null&&ph.current==null:ph.current==null,[]),Af=(0,I0.useCallback)(()=>{if(zh()&&(wh.current=$u.destroyBean(wh.current)),af()){const dp=ip=>{const Xf=Cd(Uh.current,Dh.current,Yh.current);Xf!==Uh.current&&(Uh.current=Xf,Bd(ip,()=>Rh(Xf)))},np={setHorizontalScroll:ip=>{ih.current&&(ih.current.scrollLeft=ip)},setViewportHeight:ip=>{ih.current&&(ih.current.style.height=ip)},setRowCtrls:({rowCtrls:ip,useFlushSync:Xf})=>{const Jf=!!Xf&&Dh.current.length>0&&ip.length>0;Dh.current=ip,dp(Jf)},setDomOrder:ip=>{Yh.current!=ip&&(Yh.current=ip,dp(!1))},setContainerWidth:ip=>{ph.current&&(ph.current.style.width=ip)},setOffsetTop:ip=>{ph.current&&(ph.current.style.transform=`translateY(${ip})`)}};wh.current=$u.createBean(new yg.RowContainerCtrl(Xl)),wh.current.setComp(np,ph.current,ih.current)}},[af,zh]),$f=(0,I0.useCallback)(dp=>{ph.current=dp,Af()},[Af]),Rf=(0,I0.useCallback)(dp=>{ih.current=dp,Af()},[Af]),cf=()=>I0.default.createElement("div",{className:Cf,ref:$f,role:"rowgroup"},Oh.map(dp=>I0.default.createElement(Yp,{rowCtrl:dp,containerType:Wd.type,key:dp.instanceId})));return I0.default.createElement(I0.default.Fragment,null,nf?I0.default.createElement("div",{className:Hh,ref:Rf,role:"presentation"},cf()):cf())},kd=(0,I0.memo)(Ng),E=()=>{const{context:Xl,resizeObserverService:$u}=(0,rf.useContext)(zl),[Wd,ih]=(0,rf.useState)(""),[ph,Dh]=(0,rf.useState)(0),[Uh,Oh]=(0,rf.useState)(0),[Rh,Yh]=(0,rf.useState)("0px"),[wh,Hh]=(0,rf.useState)("0px"),[Cf,nf]=(0,rf.useState)("100%"),[mf,af]=(0,rf.useState)("0px"),[zh,Af]=(0,rf.useState)("0px"),[$f,Rf]=(0,rf.useState)("100%"),[cf,dp]=(0,rf.useState)(""),[np,ip]=(0,rf.useState)(""),[Xf,Jf]=(0,rf.useState)(null),[qf,fp]=(0,rf.useState)(""),[$p,hg]=(0,rf.useState)(null),[v0,f0]=(0,rf.useState)("ag-layout-normal"),u0=(0,rf.useRef)();u0.current||(u0.current=new mp.CssClassManager(()=>c0.current));const c0=(0,rf.useRef)(null),Xp=(0,rf.useRef)(null),y0=(0,rf.useRef)(null),R0=(0,rf.useRef)(null),W0=(0,rf.useRef)(null),w0=(0,rf.useRef)(null),V0=(0,rf.useRef)(null),Qp=(0,rf.useRef)([]),j0=(0,rf.useRef)([]);b0(" AG Grid Body ",c0),b0(" AG Pinned Top ",Xp),b0(" AG Sticky Top ",y0),b0(" AG Middle ",w0),b0(" AG Pinned Bottom ",V0);const A0=(0,rf.useCallback)(Yf=>{if(c0.current=Yf,!Yf){Qp.current=Xl.destroyBeans(Qp.current),j0.current.forEach(Kf=>Kf()),j0.current=[];return}if(!Xl)return;const Yg=(Kf,e0)=>{Kf.appendChild(e0),j0.current.push(()=>Kf.removeChild(e0))},sg=Kf=>{const e0=Xl.createBean(new Kf);return Qp.current.push(e0),e0},d0=(Kf,e0,fg)=>{Yg(Kf,document.createComment(fg)),Yg(Kf,sg(e0).getGui())};d0(Yf,mp.FakeHScrollComp," AG Fake Horizontal Scroll "),d0(Yf,mp.OverlayWrapperComponent," AG Overlay Wrapper "),W0.current&&d0(W0.current,mp.FakeVScrollComp," AG Fake Vertical Scroll ");const Sg={setRowAnimationCssOnBodyViewport:ih,setColumnCount:Kf=>{c0.current&&(0,mp._setAriaColCount)(c0.current,Kf)},setRowCount:Kf=>{c0.current&&(0,mp._setAriaRowCount)(c0.current,Kf)},setTopHeight:Dh,setBottomHeight:Oh,setStickyTopHeight:Yh,setStickyTopTop:Hh,setStickyTopWidth:nf,setTopDisplay:dp,setBottomDisplay:ip,setColumnMovingCss:(Kf,e0)=>u0.current.addOrRemoveCssClass(Kf,e0),updateLayoutClasses:f0,setAlwaysVerticalScrollClass:Jf,setPinnedTopBottomOverflowY:fp,setCellSelectableCss:(Kf,e0)=>hg(e0?Kf:null),setBodyViewportWidth:Kf=>{w0.current&&(w0.current.style.width=Kf)},registerBodyViewportResizeListener:Kf=>{if(w0.current){const e0=$u.observeResize(w0.current,Kf);j0.current.push(()=>e0())}},setStickyBottomHeight:af,setStickyBottomBottom:Af,setStickyBottomWidth:Rf},T0=Xl.createBean(new mp.GridBodyCtrl);Qp.current.push(T0),T0.setComp(Sg,Yf,w0.current,Xp.current,V0.current,y0.current,R0.current)},[]),Ln=(0,rf.useMemo)(()=>Al("ag-root","ag-unselectable",v0),[v0]),Yu=(0,rf.useMemo)(()=>Al("ag-body-viewport",Wd,v0,Xf,$p),[Wd,v0,Xf,$p]),hl=(0,rf.useMemo)(()=>Al("ag-body",v0),[v0]),eh=(0,rf.useMemo)(()=>Al("ag-floating-top",$p),[$p]),Xd=(0,rf.useMemo)(()=>Al("ag-sticky-top",$p),[$p]),Gd=(0,rf.useMemo)(()=>Al("ag-sticky-bottom",mf==="0px"?"ag-hidden":null,$p),[$p,mf]),Jh=(0,rf.useMemo)(()=>Al("ag-floating-bottom",$p),[$p]),Ch=(0,rf.useMemo)(()=>({height:ph,minHeight:ph,display:cf,overflowY:qf}),[ph,cf,qf]),Uf=(0,rf.useMemo)(()=>({height:Rh,top:wh,width:Cf}),[Rh,wh,Cf]),Fh=(0,rf.useMemo)(()=>({height:mf,bottom:zh,width:$f}),[mf,zh,$f]),ff=(0,rf.useMemo)(()=>({height:Uh,minHeight:Uh,display:np,overflowY:qf}),[Uh,np,qf]),O0=Yf=>rf.default.createElement(kd,{name:Yf,key:`${Yf}-container`}),Up=({section:Yf,children:Yg,className:sg,style:d0})=>rf.default.createElement("div",{ref:Yf,className:sg,role:"presentation",style:d0},Yg.map(O0));return rf.default.createElement("div",{ref:A0,className:Ln,role:"treegrid"},rf.default.createElement(zm,null),Up({section:Xp,className:eh,style:Ch,children:["topLeft","topCenter","topRight","topFullWidth"]}),rf.default.createElement("div",{className:hl,ref:W0,role:"presentation"},Up({section:w0,className:Yu,children:["left","center","right","fullWidth"]})),Up({section:y0,className:Xd,style:Uf,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),Up({section:R0,className:Gd,style:Fh,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),Up({section:V0,className:Jh,style:ff,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))},V=(0,rf.memo)(E),Me=requireMain_cjs(),ot=y(requireReact()),Tl=(Xl,$u)=>{const{children:Wd,eFocusableElement:ih,onTabKeyDown:ph,gridCtrl:Dh,forceFocusOutWhenTabGuardsAreEmpty:Uh}=Xl,{context:Oh}=(0,ot.useContext)(zl),Rh=(0,ot.useRef)(null),Yh=(0,ot.useRef)(null),wh=(0,ot.useRef)(),Hh=zh=>{const Af=zh==null?void 0:parseInt(zh,10).toString();[Rh,Yh].forEach($f=>{Af===void 0?$f.current?.removeAttribute("tabindex"):$f.current?.setAttribute("tabindex",Af)})};(0,ot.useImperativeHandle)($u,()=>({forceFocusOutOfContainer(zh){wh.current?.forceFocusOutOfContainer(zh)}}));const Cf=(0,ot.useCallback)(()=>{const zh=Rh.current,Af=Yh.current;if(!zh&&!Af){wh.current=Oh.destroyBean(wh.current);return}if(zh&&Af){const $f={setTabIndex:Hh};wh.current=Oh.createBean(new Me.TabGuardCtrl({comp:$f,eTopGuard:zh,eBottomGuard:Af,eFocusableElement:ih,onTabKeyDown:ph,forceFocusOutWhenTabGuardsAreEmpty:Uh,focusInnerElement:Rf=>Dh.focusInnerElement(Rf)}))}},[]),nf=(0,ot.useCallback)(zh=>{Rh.current=zh,Cf()},[Cf]),mf=(0,ot.useCallback)(zh=>{Yh.current=zh,Cf()},[Cf]),af=zh=>{const Af=zh==="top"?Me.TabGuardClassNames.TAB_GUARD_TOP:Me.TabGuardClassNames.TAB_GUARD_BOTTOM;return ot.default.createElement("div",{className:`${Me.TabGuardClassNames.TAB_GUARD} ${Af}`,role:"presentation",ref:zh==="top"?nf:mf})};return ot.default.createElement(ot.default.Fragment,null,af("top"),Wd,af("bottom"))},ll=(0,ot.forwardRef)(Tl),Pl=(0,ot.memo)(ll),Bl=({context:Xl})=>{const[$u,Wd]=(0,lf.useState)(""),[ih,ph]=(0,lf.useState)(""),[Dh,Uh]=(0,lf.useState)(""),[Oh,Rh]=(0,lf.useState)(null),[Yh,wh]=(0,lf.useState)(null),[Hh,Cf]=(0,lf.useState)(!1),[nf,mf]=(0,lf.useState)(),af=(0,lf.useRef)(),zh=(0,lf.useRef)(null),Af=(0,lf.useRef)(),[$f,Rf]=(0,lf.useState)(null),cf=(0,lf.useRef)(()=>{}),dp=(0,lf.useRef)(),np=(0,lf.useRef)([]),ip=(0,lf.useCallback)(()=>{},[]),Xf=(0,lf.useMemo)(()=>Xl.isDestroyed()?null:Xl.getBeans(),[Xl]);b0(" AG Grid ",zh);const Jf=(0,lf.useCallback)(v0=>{if(zh.current=v0,af.current=v0?Xl.createBean(new Mf.GridCtrl):Xl.destroyBean(af.current),!v0||Xl.isDestroyed())return;const f0=af.current;cf.current=f0.focusInnerElement.bind(f0);const u0={destroyGridUi:()=>{},setRtlClass:Wd,setGridThemeClass:ph,forceFocusOutOfContainer:c0=>{if(!c0&&dp.current?.isDisplayed()){dp.current.forceFocusOutOfContainer(c0);return}Af.current?.forceFocusOutOfContainer(c0)},updateLayoutClasses:Uh,getFocusableContainers:()=>{const c0=[],Xp=zh.current?.querySelector(".ag-root");return Xp&&c0.push({getGui:()=>Xp}),np.current.forEach(y0=>{y0.isDisplayed()&&c0.push(y0)}),c0},setCursor:Rh,setUserSelect:wh};f0.setComp(u0,v0,v0),Cf(!0)},[]);(0,lf.useEffect)(()=>{const v0=af.current,f0=zh.current;if(!nf||!Xf||!v0||!$f||!f0)return;const u0=[],{watermarkSelector:c0,paginationSelector:Xp,sideBarSelector:y0,statusBarSelector:R0,gridHeaderDropZonesSelector:W0}=v0.getOptionalSelectors(),w0=[];if(W0){const Qp=Xl.createBean(new W0.component),j0=Qp.getGui();f0.insertAdjacentElement("afterbegin",j0),w0.push(j0),u0.push(Qp)}if(y0){const Qp=Xl.createBean(new y0.component),j0=Qp.getGui(),A0=$f.querySelector(".ag-tab-guard-bottom");A0&&(A0.insertAdjacentElement("beforebegin",j0),w0.push(j0)),u0.push(Qp),np.current.push(Qp)}const V0=Qp=>{const j0=Xl.createBean(new Qp),A0=j0.getGui();return f0.insertAdjacentElement("beforeend",A0),w0.push(A0),u0.push(j0),j0};if(R0&&V0(R0.component),Xp){const Qp=V0(Xp.component);dp.current=Qp,np.current.push(Qp)}return c0&&V0(c0.component),()=>{Xl.destroyBeans(u0),w0.forEach(Qp=>{Qp.parentElement?.removeChild(Qp)})}},[nf,$f,Xf]);const qf=(0,lf.useMemo)(()=>Al("ag-root-wrapper",$u,ih,Dh),[$u,ih,Dh]),fp=(0,lf.useMemo)(()=>Al("ag-root-wrapper-body","ag-focus-managed",Dh),[Dh]),$p=(0,lf.useMemo)(()=>({userSelect:Yh??"",WebkitUserSelect:Yh??"",cursor:Oh??""}),[Yh,Oh]),hg=(0,lf.useCallback)(v0=>{Af.current=v0,mf(v0!==null)},[]);return lf.default.createElement("div",{ref:Jf,className:qf,style:$p,role:"presentation"},lf.default.createElement("div",{className:fp,ref:Rf,role:"presentation"},Hh&&$f&&Xf&&lf.default.createElement(zl.Provider,{value:Xf},lf.default.createElement(Pl,{ref:hg,eFocusableElement:$f,onTabKeyDown:ip,gridCtrl:af.current,forceFocusOutWhenTabGuardsAreEmpty:!0},lf.default.createElement(V,null)))))},Ml=(0,lf.memo)(Bl),Vl=requireMain_cjs(),Yl=class extends Vl.BeanStub{wireBeans(Xl){this.ctrlsService=Xl.ctrlsService}areHeaderCellsRendered(){return this.ctrlsService.getHeaderRowContainerCtrls().every(Xl=>Xl.getAllCtrls().every($u=>$u.areCellsRendered()))}},zu=Xl=>{const $u=(0,ie.useRef)(),Wd=(0,ie.useRef)(null),ih=(0,ie.useRef)(null),ph=(0,ie.useRef)([]),Dh=(0,ie.useRef)([]),Uh=(0,ie.useRef)(Xl),Oh=(0,ie.useRef)(),Rh=(0,ie.useRef)(),Yh=(0,ie.useRef)(!1),[wh,Hh]=(0,ie.useState)(void 0),[,Cf]=(0,ie.useState)(0),nf=(0,ie.useCallback)(zh=>{if(Wd.current=zh,!zh){ph.current.forEach(qf=>qf()),ph.current.length=0;return}const Af=Xl.modules||[];ih.current||(ih.current=new fh(()=>Cf(qf=>qf+1),Xl.componentWrappingElement,Xl.maxComponentCreationTimeMs),ph.current.push(()=>{ih.current?.destroy(),ih.current=null}));const $f=(0,ce._combineAttributesAndGridOptions)(Xl.gridOptions,Xl),Rf=()=>{if(Yh.current){const qf=()=>Oh.current?.shouldQueueUpdates()?void 0:Dh.current.shift();let fp=qf();for(;fp;)fp(),fp=qf()}},cf=new Du(Rf);Oh.current=cf;const dp=new Yl,np={providedBeanInstances:{frameworkComponentWrapper:new mu(ih.current,$f.reactiveCustomComponents??(0,ce._getGlobalGridOption)("reactiveCustomComponents")??!0),renderStatusService:dp},modules:Af,frameworkOverrides:cf},ip=qf=>{Hh(qf),qf.createBean(dp),ph.current.push(()=>{qf.destroy()}),qf.getBean("ctrlsService").whenReady({addDestroyFunc:fp=>{ph.current.push(fp)}},()=>{if(qf.isDestroyed())return;const fp=$u.current;fp&&Xl.setGridApi?.(fp)})},Xf=qf=>{qf.getBean("ctrlsService").whenReady({addDestroyFunc:fp=>{ph.current.push(fp)}},()=>{Dh.current.forEach(fp=>fp()),Dh.current.length=0,Yh.current=!0})},Jf=new ce.GridCoreCreator;$f.gridId??($f.gridId=Rh.current),$u.current=Jf.create(zh,$f,ip,Xf,np),ph.current.push(()=>{$u.current=void 0}),$u.current&&(Rh.current=$u.current.getGridId())},[]),mf=(0,ie.useMemo)(()=>({height:"100%",...Xl.containerStyle||{}}),[Xl.containerStyle]),af=(0,ie.useCallback)(zh=>{Yh.current&&!Oh.current?.shouldQueueUpdates()?zh():Dh.current.push(zh)},[]);return(0,ie.useEffect)(()=>{const zh=Fu(Uh.current,Xl);Uh.current=Xl,af(()=>{$u.current&&(0,ce._processOnChange)(zh,$u.current)})},[Xl]),ie.default.createElement("div",{style:mf,className:Xl.className,ref:nf},wh&&!wh.isDestroyed()?ie.default.createElement(Ml,{context:wh}):null,ih.current?.getPortals()??null)};function Fu(Xl,$u){const Wd={};return Object.keys($u).forEach(ih=>{const ph=$u[ih];Xl[ih]!==ph&&(Wd[ih]=ph)}),Wd}var mu=class extends ce.BaseComponentWrapper{constructor(Xl,$u){super(),this.parent=Xl,this.reactiveCustomComponents=$u}createWrapper(Xl,$u){if(this.reactiveCustomComponents){const ph=(Dh=>{switch(Dh){case"filter":return _0;case"floatingFilterComponent":return l0;case"dateComponent":return rp;case"dragAndDropImageComponent":return Fp;case"loadingOverlayComponent":return n0;case"noRowsOverlayComponent":return G0;case"statusPanel":return X0;case"toolPanel":return $g;case"menuItem":return Z0;case"cellRenderer":return Mp}})($u.propertyName);if(ph)return new ph(Xl,this.parent,$u)}else switch($u.propertyName){case"filter":case"floatingFilterComponent":case"dateComponent":case"dragAndDropImageComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":hd();break}const Wd=!$u.cellRenderer&&$u.propertyName!=="toolPanel";return new vf(Xl,this.parent,$u,Wd)}},Lu=(0,ie.forwardRef)((Xl,$u)=>{const{ctrlsFactory:Wd,context:ih,gos:ph,resizeObserverService:Dh,rowModel:Uh}=(0,ie.useContext)(zl),[Oh,Rh]=(0,ie.useState)(()=>new vu),[Yh,wh]=(0,ie.useState)(()=>new vu),[Hh,Cf]=(0,ie.useState)(),[nf,mf]=(0,ie.useState)(),af=(0,ie.useRef)(),zh=(0,ie.useRef)(null),Af=(0,ie.useRef)(),$f=(0,ie.useMemo)(()=>ce.ModuleRegistry.__getGridRegisteredModules(Xl.api.getGridId()),[Xl]),Rf=(0,ie.useMemo)(()=>Oh.toString()+" ag-details-row",[Oh]),cf=(0,ie.useMemo)(()=>Yh.toString()+" ag-details-grid",[Yh]);$u&&(0,ie.useImperativeHandle)($u,()=>({refresh(){return af.current?.refresh()??!1}})),Xl.template&&(0,ce._warnOnce)("detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://ag-grid.com/react-data-grid/master-detail-custom-detail/");const dp=(0,ie.useCallback)(ip=>{if(zh.current=ip,!ip){af.current=ih.destroyBean(af.current),Af.current?.();return}const Xf={addOrRemoveCssClass:(qf,fp)=>Rh($p=>$p.setClass(qf,fp)),addOrRemoveDetailGridCssClass:(qf,fp)=>wh($p=>$p.setClass(qf,fp)),setDetailGrid:qf=>Cf(qf),setRowData:qf=>mf(qf),getGui:()=>zh.current},Jf=Wd.getInstance("detailCellRenderer");if(Jf&&(ih.createBean(Jf),Jf.init(Xf,Xl),af.current=Jf,ph.get("detailRowAutoHeight"))){const qf=()=>{if(zh.current==null)return;const fp=zh.current.clientHeight;fp!=null&&fp>0&&setTimeout(()=>{Xl.node.setRowHeight(fp),((0,ce._isClientSideRowModel)(ph)||(0,ce._isServerSideRowModel)(ph))&&Uh.onRowHeightChanged()},0)};Af.current=Dh.observeResize(ip,qf),qf()}},[]),np=(0,ie.useCallback)(ip=>{af.current?.registerDetailWithMaster(ip)},[]);return ie.default.createElement("div",{className:Rf,ref:dp},Hh&&ie.default.createElement(zu,{className:cf,...Hh,modules:$f,rowData:nf,setGridApi:np}))}),Du=class extends ce.VanillaFrameworkOverrides{constructor(Xl){super("react"),this.processQueuedUpdates=Xl,this.queueUpdates=!1,this.frameworkComponents={agGroupCellRenderer:jd,agGroupRowRenderer:jd,agDetailCellRenderer:Lu},this.wrapIncoming=($u,Wd)=>Wd==="ensureVisible"?Id($u):$u(),this.renderingEngine="react"}frameworkComponent(Xl){return this.frameworkComponents[Xl]}isFrameworkComponent(Xl){if(!Xl)return!1;const $u=Xl.prototype;return!($u&&"getGui"in $u)}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}runWhenReadyAsync(){return Zu()}},Qu=class extends H.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=Xl=>{this.api=Xl,this.apiListeners.forEach($u=>$u(Xl))}}registerApiListener(Xl){this.apiListeners.push(Xl)}componentWillUnmount(){this.apiListeners.length=0}render(){return H.default.createElement(zu,{...this.props,setGridApi:this.setGridApi})}},ld=requireReact();function vd(Xl){const{setMethods:$u}=(0,ld.useContext)(Dd);$u(Xl)}function Ld(Xl){vd(Xl)}function Ad(Xl){return vd(Xl)}function nh(Xl){return vd(Xl)}function dh(Xl){vd(Xl)}function vh(Xl){vd(Xl)}return index_cjs}var ColumnSelector={},hasRequiredColumnSelector;function requireColumnSelector(){if(hasRequiredColumnSelector)return ColumnSelector;hasRequiredColumnSelector=1,Object.defineProperty(ColumnSelector,"__esModule",{value:!0}),ColumnSelector.default=void 0;var r=o(requireReact());function n(c){if(typeof WeakMap!="function")return null;var f=new WeakMap,d=new WeakMap;return(n=function(w){return w?d:f})(c)}function o(c,f){if(c&&c.__esModule)return c;if(c===null||typeof c!="object"&&typeof c!="function")return{default:c};var d=n(f);if(d&&d.has(c))return d.get(c);var w={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var L in c)if(L!=="default"&&Object.prototype.hasOwnProperty.call(c,L)){var G=y?Object.getOwnPropertyDescriptor(c,L):null;G&&(G.get||G.set)?Object.defineProperty(w,L,G):w[L]=c[L]}return w.default=c,d&&d.set(c,w),w}const l=c=>{const[f,d]=(0,r.useState)(!1),w=(0,r.useRef)(null);(0,r.useEffect)(()=>{const G=H=>{w.current&&!w.current.contains(H.target)&&f&&d(!1)};return document.addEventListener("mousedown",G),()=>{document.removeEventListener("mousedown",G)}},[f]);const y=G=>{const{name:H,checked:ce}=G.target;let ie=c.columnDefs.map(Et=>({...Et,hide:Et.field===H?!ce:Et.hide}));c.setColumnDefs(ie)};let L="column-dropdown-content";return f&&(L+=" show"),r.default.createElement("div",null,r.default.createElement("div",{ref:w,className:"column-dropdown"},r.default.createElement("button",{className:"aggrid-style-button",onClick:()=>d(G=>!G)},"Show columns"),r.default.createElement("div",{className:L},r.default.createElement("ul",null,c.columnDefs.map(G=>G.field!=="id"&&r.default.createElement("li",{key:G.field},r.default.createElement("label",null,r.default.createElement("input",{name:G.field,type:"checkbox",checked:!G.hide,onChange:y}),r.default.createElement("span",null,G.headerName))))))))};return ColumnSelector.default=l,ColumnSelector}var CustomHeader={},hasRequiredCustomHeader;function requireCustomHeader(){if(hasRequiredCustomHeader)return CustomHeader;hasRequiredCustomHeader=1,Object.defineProperty(CustomHeader,"__esModule",{value:!0}),CustomHeader.default=void 0;var r=n(requireReact());function n(l){return l&&l.__esModule?l:{default:l}}let o=class extends r.default.Component{constructor(c){super(c),this.state={sortMode:"none",multiSort:!1,sortIndex:null,filterActive:!1}}componentDidMount(){this.props.column.addEventListener("filterChanged",this.onFilterChanged.bind(this)),this.props.api.addEventListener("sortChanged",this.onSortChanged.bind(this)),this.onSortClicked.bind(this),this.onSortChanged(),this.onFilterChanged()}render(){let c=r.default.createElement("div",{ref:y=>{this.menuButton=y},className:"customHeaderMenuButton",onClick:this.onMenuClicked.bind(this),onTouchEnd:this.onMenuClicked.bind(this)},this.state.filterActive?r.default.createElement("div",{className:"filter-div active"},r.default.createElement("i",{className:"ag-icon ag-icon-filter"})):r.default.createElement("div",{className:"filter-div"},r.default.createElement("i",{className:"ag-icon ag-icon-menu"}))),f="";this.state.sortMode==="asc"&&(f=r.default.createElement("div",{style:{display:"flex"}},this.state.multiSort&&this.state.sortIndex+1,r.default.createElement("i",{className:"ag-icon ag-icon-asc"}))),this.state.sortMode==="desc"&&(f=r.default.createElement("div",{style:{display:"flex"}},this.state.multiSort&&this.state.sortIndex+1,r.default.createElement("i",{className:"ag-icon ag-icon-desc"})));let d="unit"in this.props&&this.props.unit!=null,w=r.default.createElement("div",{className:"custom-header-label-container",onClick:this.onSortClicked.bind(this),onTouchEnd:this.onSortClicked.bind(this)},f,r.default.createElement("div",{className:"customHeaderLabel"},r.default.createElement("span",null,this.props.displayName),d&&r.default.createElement("div",{className:"unit-label"},"(",this.props.unit,")")));return r.default.createElement("div",{className:"custom-header-container"},w,c)}onMenuClicked(){this.props.showColumnMenu(this.menuButton);const c=document.querySelector(".ag-menu.ag-ltr.ag-popup-child");if(c){c.style.maxWidth="200px";const f=document.createElement("div");if(f.style.margin="5px 10px 0px 10px",f.innerHTML="<b>Apply filter:</b>",c.prepend(f),this.props.infoText!=null){const d=document.createElement("div");d.style.margin="10px 10px 0px 10px",d.style.textAlign="justify",d.innerHTML=this.props.infoText,c.prepend(d)}}}onSortChanged(){if(!this.props.api){console.log("CustomHeader: api undefined!");return}let c="none";this.props.column.isSortAscending()&&(c="asc"),this.props.column.isSortDescending()&&(c="desc");let d=this.props.api.getColumnState().filter(y=>y.sort!==null).length>1,w=this.props.column.getSortIndex();this.setState({sortMode:c,multiSort:d,sortIndex:w})}onFilterChanged(){this.setState({filterActive:this.props.column.isFilterActive()})}onSortClicked(c){this.props.progressSort(c.shiftKey)}};return CustomHeader.default=o,CustomHeader}var ResetButton={},hasRequiredResetButton;function requireResetButton(){if(hasRequiredResetButton)return ResetButton;hasRequiredResetButton=1,Object.defineProperty(ResetButton,"__esModule",{value:!0}),ResetButton.default=void 0;var r=n(requireReact());function n(c){return c&&c.__esModule?c:{default:c}}function o(c){if(c){const f=c.getFilterModel();Object.keys(f).length>0&&c.setFilterModel({})}}function l(c){let{gridApi:f,anyColFilterActive:d}=c;const w=()=>{o(f)};return r.default.createElement("button",{className:`aggrid-style-button ${d?"":"disabled"}`,onClick:w,disabled:!d},"Reset column filters")}return ResetButton.default=l,ResetButton}var hasRequiredMaterialDataGrid;function requireMaterialDataGrid(){if(hasRequiredMaterialDataGrid)return MaterialDataGrid;hasRequiredMaterialDataGrid=1,Object.defineProperty(MaterialDataGrid,"__esModule",{value:!0}),MaterialDataGrid.default=void 0;var r=L(requireReact()),n=w(require$$1),o=requireIndex_cjs(),l=w(requireColumnSelector()),c=w(requireCustomHeader()),f=require$$8,d=w(requireResetButton());function w(Al){return Al&&Al.__esModule?Al:{default:Al}}function y(Al){if(typeof WeakMap!="function")return null;var vu=new WeakMap,Nl=new WeakMap;return(y=function(Xu){return Xu?Nl:vu})(Al)}function L(Al,vu){if(Al&&Al.__esModule)return Al;if(Al===null||typeof Al!="object"&&typeof Al!="function")return{default:Al};var Nl=y(vu);if(Nl&&Nl.has(Al))return Nl.get(Al);var Xu={},Vu=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Zu in Al)if(Zu!=="default"&&Object.prototype.hasOwnProperty.call(Al,Zu)){var Od=Vu?Object.getOwnPropertyDescriptor(Al,Zu):null;Od&&(Od.get||Od.set)?Object.defineProperty(Xu,Zu,Od):Xu[Zu]=Al[Zu]}return Xu.default=Al,Nl&&Nl.set(Al,Xu),Xu}function G(Al){return r.default.createElement("a",{href:Al.data.href,target:"_blank",rel:"noreferrer",style:{textDecoration:"none",color:"mediumblue"}},Al.value)}function H(Al){return Al.value==null?"-":Math.abs(Al.value)>=1e5||Math.abs(Al.value)<.01&&Al.value!==0?Al.value.toExponential(2):Al.value.toFixed(2)}function ce(Al){return Al.value==null?"-":Al.value}function ie(Al){return Al.value==null?"-":Al.value}function Et(Al){if(Al.value==null)return"-";let vu=Al.value.split(/(\d+)/);return r.default.createElement("span",null,vu.map((Nl,Xu)=>Nl.match(/\d+/)?r.default.createElement("sub",{key:Xu},Nl):Nl))}function zn(Al){if(Al.value==null)return"-";let vu=!1;return r.default.createElement("span",null,Al.value.split("").map((Nl,Xu)=>Nl==="_"?(vu=!0,null):vu?(vu=!1,r.default.createElement("sub",{key:Xu},Nl)):Nl))}function $l(Al){const Xu=Al.split(/\s+/),Vu=Math.max(...Xu.map(Id=>Id.length)),Od=Math.max(Al.length/2,Vu)*7+40;return Math.max(Od,120)}function zl(Al){return Al.map(vu=>{let Nl=structuredClone(vu);return delete Nl.colType,vu.colType==="text"?Object.assign(Nl,{filter:"agTextColumnFilter",valueFormatter:ce}):vu.colType==="integer"?Object.assign(Nl,{filter:"agNumberColumnFilter",valueFormatter:ie}):vu.colType==="float"?Object.assign(Nl,{filter:"agNumberColumnFilter",valueFormatter:H}):vu.colType==="boolean"?Object.assign(Nl,{filter:"agTextColumnFilter",valueFormatter:ce}):vu.colType==="id"?Object.assign(Nl,{filter:"agTextColumnFilter",valueFormatter:ce,pinned:"left",cellRenderer:G}):vu.colType==="formula"?Object.assign(Nl,{filter:"agTextColumnFilter",valueFormatter:ce,cellRenderer:Et}):vu.colType==="spg_symbol"&&Object.assign(Nl,{filter:"agTextColumnFilter",valueFormatter:ce,cellRenderer:zn}),Object.assign(Nl,{filterParams:{buttons:["reset","apply"],closeOnApply:!0}}),Nl.headerComponentParams={},"unit"in vu&&(Nl.headerComponentParams.unit=vu.unit,delete Nl.unit),"infoText"in vu&&(Nl.headerComponentParams.infoText=vu.infoText,delete Nl.infoText),"hide"in vu||(Nl.hide=!1),"minWidth"in vu||(Nl.minWidth=$l(vu.headerName)),Nl})}const Hl={minWidth:120,flex:1,sortable:!0,resizable:!0},Ft={agColumnHeader:c.default},El=r.default.createElement(n.default,{id:"popover-basic"},r.default.createElement(n.default.Header,{as:"h3"},"Materials Grid help"),r.default.createElement(n.default.Body,{style:{textAlign:"justify"}},r.default.createElement("p",null,"The Materials Grid, shown below, contains all the filtered materials."),r.default.createElement("b",null,"Columns"),r.default.createElement("p",null,"A selection of properties are shown in columns. Click"," ",r.default.createElement("b",null,"Show columns")," to hide/show all available columns."),r.default.createElement("b",null,"Sorting"),r.default.createElement("p",null,"The grid can be sorted based on any column by clicking on the corresponding label in the header. ",r.default.createElement("b",null,"Holding down shift")," allows to sort based on multiple columns."),r.default.createElement("b",null,"Column menu and filtering"),r.default.createElement("p",null,"Each column has a menu that contains any additional information about the column, and allows to filter the list of materials. Active filters are indicated by the menu icon turning into a blue filter icon."))),Kl=(0,r.forwardRef)((Al,vu)=>{const[Nl,Xu]=(0,r.useState)(null),[Vu,Zu]=(0,r.useState)(null),[Od,Id]=(0,r.useState)(null),[Bd,Cd]=(0,r.useState)(zl(Al.columns));(0,r.useImperativeHandle)(vu,()=>({getFilteredRows:()=>{const gd=[];return Nl&&Nl.forEachNodeAfterFilter(md=>{let oh={...md.data};"elem_array"in oh&&delete oh.elem_array,gd.push(oh)}),gd}})),(0,r.useEffect)(()=>{Nl&&Nl.onFilterChanged()},[Al.ptable_filter,Nl]),(0,r.useEffect)(()=>{Cd(zl(Al.columns))},[Al.columns]);const Wl=gd=>{Xu(gd.api),gd.api.onFilterChanged()},jd=()=>Object.keys(Al.ptable_filter.elements).length>0,Md=()=>{if(Nl){let gd=Nl.getDisplayedRowCount();Vu!==gd&&Zu(gd)}},qu=gd=>{if(gd.data){if(Al.ptable_filter.mode==="exact"){let md=Object.keys(Al.ptable_filter.elements),oh=gd.data.elem_array.length===md.length,qh=gd.data.elem_array.every(sf=>md.includes(sf));return oh&&qh}if(Al.ptable_filter.mode==="include"){let md=[],oh=[];for(const[yh,vf]of Object.entries(Al.ptable_filter.elements))vf===1&&md.push(yh),vf===2&&oh.push(yh);let qh=md.every(yh=>gd.data.elem_array.includes(yh)),sf=gd.data.elem_array.every(yh=>!oh.includes(yh));return qh&&sf}}return!0},ad=()=>{if(Md(),Nl){const gd=Nl.getFilterModel();Id(Object.keys(gd).length>0)}},Dd=()=>{Md()},mh={pagination:!0,paginationPageSize:20,suppressMenuHide:!0,enableCellTextSelection:!0,ensureDomOrder:!0,domLayout:"autoHeight",headerHeight:54};return r.default.createElement("div",null,r.default.createElement("div",{className:"grid-header-row"},r.default.createElement("div",{className:"grid-header-row-left-side"},r.default.createElement("span",{className:"grid-header-row-showing-text"},"Showing ",Vu," entries out of ",Al.rows.length),r.default.createElement("div",{style:{marginLeft:"10px"}},r.default.createElement(f.HelpButton,{popover:El,placement:"right"}))),r.default.createElement("div",{className:"grid-header-row-right-side"},r.default.createElement(d.default,{gridApi:Nl,anyColFilterActive:Od}),r.default.createElement(l.default,{columnDefs:Bd,setColumnDefs:Cd}))),r.default.createElement("div",{className:"ag-theme-alpine custom-grid-container"},r.default.createElement(o.AgGridReact,{columnDefs:Bd,defaultColDef:Hl,rowData:Al.rows,gridOptions:mh,onGridReady:Wl,isExternalFilterPresent:jd,doesExternalFilterPass:qu,onFilterChanged:ad,onRowDataUpdated:Dd,components:Ft})))});return MaterialDataGrid.default=Kl,MaterialDataGrid}var hasRequiredDist;function requireDist(){if(hasRequiredDist)return dist;hasRequiredDist=1,Object.defineProperty(dist,"__esModule",{value:!0}),dist.default=void 0;var r=f(requireReact()),n=l(requirePTable()),o=l(requireMaterialDataGrid());function l(L){return L&&L.__esModule?L:{default:L}}function c(L){if(typeof WeakMap!="function")return null;var G=new WeakMap,H=new WeakMap;return(c=function(ce){return ce?H:G})(L)}function f(L,G){if(L&&L.__esModule)return L;if(L===null||typeof L!="object"&&typeof L!="function")return{default:L};var H=c(G);if(H&&H.has(L))return H.get(L);var ce={},ie=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Et in L)if(Et!=="default"&&Object.prototype.hasOwnProperty.call(L,Et)){var zn=ie?Object.getOwnPropertyDescriptor(L,Et):null;zn&&(zn.get||zn.set)?Object.defineProperty(ce,Et,zn):ce[Et]=L[Et]}return ce.default=L,H&&H.set(L,ce),ce}function d(L){return[...new Set(L.match(/[A-Z][a-z]?/g))]}function w(L,G){let H=G.filter(ie=>ie.colType==="boolean").map(ie=>ie.field);return L.map(ie=>{const Et={...ie,elem_array:d(ie.formula)};return H.forEach(zn=>{zn in Et&&(Et[zn]=Et[zn]?"yes":"no")}),Et})}const y=(0,r.forwardRef)((L,G)=>{const[H,ce]=(0,r.useState)({mode:"include",elements:{}}),[ie,Et]=(0,r.useState)([]);(0,r.useEffect)(()=>{let zl=w(L.rows,L.columns);Et(zl)},[L.rows,L.columns]);const zn=(0,r.useCallback)(zl=>{let Hl=H.mode,Ft=structuredClone(H);if("mode"in zl&&(Ft.mode=zl.mode,Hl=zl.mode,zl.mode==="exact"))for(const[El,Kl]of Object.entries(Ft.elements))Kl>1&&delete Ft.elements[El];if("element"in zl){let El=zl.element;zl.element in Ft.elements?Ft.elements[El]+=1:Ft.elements[El]=1,Hl==="exact"?Ft.elements[El]===2&&delete Ft.elements[El]:Hl==="include"&&Ft.elements[El]===3&&delete Ft.elements[El]}ce(Ft)},[H]),$l=L.columns.length>0;return r.default.createElement("div",{className:"material_selector_container"},r.default.createElement(n.default,{onSelectionChange:zn,filter:H,rows:ie}),r.default.createElement("div",{style:{marginTop:"5px"}}),$l?r.default.createElement(o.default,{ref:G,columns:L.columns,rows:ie,ptable_filter:H}):r.default.createElement("div",{style:{marginTop:"50px",border:"solid 2px rgb(220, 220, 220)",height:"600px",display:"flex",justifyContent:"center",alignItems:"center"}},"Loading..."))});return dist.default=y,dist}var distExports=requireDist();const MaterialSelector=getDefaultExportFromCjs(distExports),Mc3dLogo="/assets/mc3d-BE0OUaqM.png";function cn(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Ve={exports:{}},ae={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sn;function ri(){if(Sn)return ae;Sn=1;var r=React,n=Symbol.for("react.element"),o=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,c=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,f={key:!0,ref:!0,__self:!0,__source:!0};function d(w,y,L){var G,H={},ce=null,ie=null;L!==void 0&&(ce=""+L),y.key!==void 0&&(ce=""+y.key),y.ref!==void 0&&(ie=y.ref);for(G in y)l.call(y,G)&&!f.hasOwnProperty(G)&&(H[G]=y[G]);if(w&&w.defaultProps)for(G in y=w.defaultProps,y)H[G]===void 0&&(H[G]=y[G]);return{$$typeof:n,type:w,key:ce,ref:ie,props:H,_owner:c.current}}return ae.Fragment=o,ae.jsx=d,ae.jsxs=d,ae}Ve.exports=ri();var T$1=Ve.exports;const ai="_archive_doicitation_y1o5i_1",ci="_doi_badge_y1o5i_9",ui="_doi_left_y1o5i_13",li="_doi_right_y1o5i_27",Ee={archive_doicitation:ai,doi_badge:ci,doi_left:ui,doi_right:li},wu=({doi_id:r,doi:n,label:o="DOI",color:l="#a2cbff"})=>{let c="";return r!=null?c=`10.24435/materialscloud:${r}`:c=n,T$1.jsx("div",{className:Ee.archive_doicitation,children:T$1.jsxs("span",{className:Ee.doi_badge,children:[T$1.jsx("span",{className:Ee.doi_left,children:o}),T$1.jsx("a",{href:`https://doi.org/${c}`,className:Ee.doi_right,target:"_blank",style:{backgroundColor:l},children:c})]})})};function We(r,n){if(r.contains)return r.contains(n);if(r.compareDocumentPosition)return r===n||!!(r.compareDocumentPosition(n)&16)}var Je={exports:{}},ze,Mn;function un(){if(Mn)return ze;Mn=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ze=r,ze}var He,Nn;function _i$1(){if(Nn)return He;Nn=1;var r=un();function n(){}function o(){}return o.resetWarningCache=n,He=function(){function l(d,w,y,L,G,H){if(H!==r){var ce=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw ce.name="Invariant Violation",ce}}l.isRequired=l;function c(){return l}var f={array:l,bigint:l,bool:l,func:l,number:l,object:l,string:l,symbol:l,any:l,arrayOf:c,element:l,elementType:l,instanceOf:c,node:l,objectOf:c,oneOf:c,oneOfType:c,shape:c,exact:c,checkPropTypes:o,resetWarningCache:n};return f.PropTypes=f,f},He}Je.exports=_i$1()();var yi=Je.exports;const N=cn(yi);function ur(){const r=reactExports.useRef(!0),n=reactExports.useRef(()=>r.current);return reactExports.useEffect(()=>(r.current=!0,()=>{r.current=!1}),[]),n.current}function bi(r){const n=reactExports.useRef(r);return n.current=r,n}function Pi(r){const n=bi(r);reactExports.useEffect(()=>()=>n.current(),[])}const Ge=2**31-1;function lr(r,n,o){const l=o-Date.now();r.current=l<=Ge?setTimeout(n,l):setTimeout(()=>lr(r,n,o),Ge)}function wi(){const r=ur(),n=reactExports.useRef();return Pi(()=>clearTimeout(n.current)),reactExports.useMemo(()=>{const o=()=>clearTimeout(n.current);function l(c,f=0){r()&&(o(),f<=Ge?n.current=setTimeout(c,f):lr(n,c,Date.now()+f))}return{set:l,clear:o,handleRef:n}},[])}var fr=function(){},Ai=fr;const dr=cn(Ai);function Oi(r,n){if(r==null)return{};var o={},l=Object.keys(r),c,f;for(f=0;f<l.length;f++)c=l[f],!(n.indexOf(c)>=0)&&(o[c]=r[c]);return o}function Ri(r,n,o){var l=reactExports.useRef(r!==void 0),c=reactExports.useState(n),f=c[0],d=c[1],w=r!==void 0,y=l.current;return l.current=w,!w&&y&&f!==n&&d(n),[w?r:f,reactExports.useCallback(function(L){for(var G=arguments.length,H=new Array(G>1?G-1:0),ce=1;ce<G;ce++)H[ce-1]=arguments[ce];o&&o.apply(void 0,[L].concat(H)),d(L)},[o])]}function qe(r,n){return qe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},qe(r,n)}function Ci(r,n){r.prototype=Object.create(n.prototype),r.prototype.constructor=r,qe(r,n)}const Zn=r=>!r||typeof r=="function"?r:n=>{r.current=n};function Ti(r,n){const o=Zn(r),l=Zn(n);return c=>{o&&o(c),l&&l(c)}}function ne(r,n){return reactExports.useMemo(()=>Ti(r,n),[r,n])}var pr={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(r){(function(){var n={}.hasOwnProperty;function o(){for(var f="",d=0;d<arguments.length;d++){var w=arguments[d];w&&(f=c(f,l(w)))}return f}function l(f){if(typeof f=="string"||typeof f=="number")return f;if(typeof f!="object")return"";if(Array.isArray(f))return o.apply(null,f);if(f.toString!==Object.prototype.toString&&!f.toString.toString().includes("[native code]"))return f.toString();var d="";for(var w in f)n.call(f,w)&&f[w]&&(d=c(d,w));return d}function c(f,d){return d?f?f+" "+d:f+d:f}r.exports?(o.default=o,r.exports=o):window.classNames=o})()})(pr);var Si=pr.exports;const Ut=cn(Si);function Hn(){return reactExports.useState(null)}var Un=Object.prototype.hasOwnProperty;function Yn(r,n,o){for(o of r.keys())if(fe(o,n))return o}function fe(r,n){var o,l,c;if(r===n)return!0;if(r&&n&&(o=r.constructor)===n.constructor){if(o===Date)return r.getTime()===n.getTime();if(o===RegExp)return r.toString()===n.toString();if(o===Array){if((l=r.length)===n.length)for(;l--&&fe(r[l],n[l]););return l===-1}if(o===Set){if(r.size!==n.size)return!1;for(l of r)if(c=l,c&&typeof c=="object"&&(c=Yn(n,c),!c)||!n.has(c))return!1;return!0}if(o===Map){if(r.size!==n.size)return!1;for(l of r)if(c=l[0],c&&typeof c=="object"&&(c=Yn(n,c),!c)||!fe(l[1],n.get(c)))return!1;return!0}if(o===ArrayBuffer)r=new Uint8Array(r),n=new Uint8Array(n);else if(o===DataView){if((l=r.byteLength)===n.byteLength)for(;l--&&r.getInt8(l)===n.getInt8(l););return l===-1}if(ArrayBuffer.isView(r)){if((l=r.byteLength)===n.byteLength)for(;l--&&r[l]===n[l];);return l===-1}if(!o||typeof r=="object"){l=0;for(o in r)if(Un.call(r,o)&&++l&&!Un.call(n,o)||!(o in n)||!fe(r[o],n[o]))return!1;return Object.keys(n).length===l}}return r!==r&&n!==n}function ki(r){const n=ur();return[r[0],reactExports.useCallback(o=>{if(n())return r[1](o)},[n,r[1]])]}var dt="top",yt="bottom",bt="right",pt="left",ln="auto",he=[dt,yt,bt,pt],$t="start",ge="end",Ii="clippingParents",mr="viewport",ue="popper",ji="reference",Vn=he.reduce(function(r,n){return r.concat([n+"-"+$t,n+"-"+ge])},[]),gr=[].concat(he,[ln]).reduce(function(r,n){return r.concat([n,n+"-"+$t,n+"-"+ge])},[]),Di="beforeRead",Fi="read",Mi="afterRead",Bi="beforeMain",zi="main",Li="afterMain",Ni="beforeWrite",Zi="write",Hi="afterWrite",Ui=[Di,Fi,Mi,Bi,zi,Li,Ni,Zi,Hi];function Pt(r){return r.split("-")[0]}function gt(r){if(r==null)return window;if(r.toString()!=="[object Window]"){var n=r.ownerDocument;return n&&n.defaultView||window}return r}function Zt(r){var n=gt(r).Element;return r instanceof n||r instanceof Element}function wt(r){var n=gt(r).HTMLElement;return r instanceof n||r instanceof HTMLElement}function fn(r){if(typeof ShadowRoot>"u")return!1;var n=gt(r).ShadowRoot;return r instanceof n||r instanceof ShadowRoot}var Nt=Math.max,Te=Math.min,Qt=Math.round;function Ke(){var r=navigator.userAgentData;return r!=null&&r.brands&&Array.isArray(r.brands)?r.brands.map(function(n){return n.brand+"/"+n.version}).join(" "):navigator.userAgent}function _r(){return!/^((?!chrome|android).)*safari/i.test(Ke())}function Xt(r,n,o){n===void 0&&(n=!1),o===void 0&&(o=!1);var l=r.getBoundingClientRect(),c=1,f=1;n&&wt(r)&&(c=r.offsetWidth>0&&Qt(l.width)/r.offsetWidth||1,f=r.offsetHeight>0&&Qt(l.height)/r.offsetHeight||1);var d=Zt(r)?gt(r):window,w=d.visualViewport,y=!_r()&&o,L=(l.left+(y&&w?w.offsetLeft:0))/c,G=(l.top+(y&&w?w.offsetTop:0))/f,H=l.width/c,ce=l.height/f;return{width:H,height:ce,top:G,right:L+H,bottom:G+ce,left:L,x:L,y:G}}function dn(r){var n=Xt(r),o=r.offsetWidth,l=r.offsetHeight;return Math.abs(n.width-o)<=1&&(o=n.width),Math.abs(n.height-l)<=1&&(l=n.height),{x:r.offsetLeft,y:r.offsetTop,width:o,height:l}}function vr(r,n){var o=n.getRootNode&&n.getRootNode();if(r.contains(n))return!0;if(o&&fn(o)){var l=n;do{if(l&&r.isSameNode(l))return!0;l=l.parentNode||l.host}while(l)}return!1}function It(r){return r?(r.nodeName||"").toLowerCase():null}function Rt(r){return gt(r).getComputedStyle(r)}function Yi(r){return["table","td","th"].indexOf(It(r))>=0}function Dt(r){return((Zt(r)?r.ownerDocument:r.document)||window.document).documentElement}function ke(r){return It(r)==="html"?r:r.assignedSlot||r.parentNode||(fn(r)?r.host:null)||Dt(r)}function Wn(r){return!wt(r)||Rt(r).position==="fixed"?null:r.offsetParent}function Vi(r){var n=/firefox/i.test(Ke()),o=/Trident/i.test(Ke());if(o&&wt(r)){var l=Rt(r);if(l.position==="fixed")return null}var c=ke(r);for(fn(c)&&(c=c.host);wt(c)&&["html","body"].indexOf(It(c))<0;){var f=Rt(c);if(f.transform!=="none"||f.perspective!=="none"||f.contain==="paint"||["transform","perspective"].indexOf(f.willChange)!==-1||n&&f.willChange==="filter"||n&&f.filter&&f.filter!=="none")return c;c=c.parentNode}return null}function ye(r){for(var n=gt(r),o=Wn(r);o&&Yi(o)&&Rt(o).position==="static";)o=Wn(o);return o&&(It(o)==="html"||It(o)==="body"&&Rt(o).position==="static")?n:o||Vi(r)||n}function pn(r){return["top","bottom"].indexOf(r)>=0?"x":"y"}function de(r,n,o){return Nt(r,Te(n,o))}function Wi(r,n,o){var l=de(r,n,o);return l>o?o:l}function hr(){return{top:0,right:0,bottom:0,left:0}}function yr(r){return Object.assign({},hr(),r)}function br$1(r,n){return n.reduce(function(o,l){return o[l]=r,o},{})}var Ji=function(r,n){return r=typeof r=="function"?r(Object.assign({},n.rects,{placement:n.placement})):r,yr(typeof r!="number"?r:br$1(r,he))};function Gi(r){var n,o=r.state,l=r.name,c=r.options,f=o.elements.arrow,d=o.modifiersData.popperOffsets,w=Pt(o.placement),y=pn(w),L=[pt,bt].indexOf(w)>=0,G=L?"height":"width";if(!(!f||!d)){var H=Ji(c.padding,o),ce=dn(f),ie=y==="y"?dt:pt,Et=y==="y"?yt:bt,zn=o.rects.reference[G]+o.rects.reference[y]-d[y]-o.rects.popper[G],$l=d[y]-o.rects.reference[y],zl=ye(f),Hl=zl?y==="y"?zl.clientHeight||0:zl.clientWidth||0:0,Ft=zn/2-$l/2,El=H[ie],Kl=Hl-ce[G]-H[Et],Al=Hl/2-ce[G]/2+Ft,vu=de(El,Al,Kl),Nl=y;o.modifiersData[l]=(n={},n[Nl]=vu,n.centerOffset=vu-Al,n)}}function qi(r){var n=r.state,o=r.options,l=o.element,c=l===void 0?"[data-popper-arrow]":l;c!=null&&(typeof c=="string"&&(c=n.elements.popper.querySelector(c),!c)||vr(n.elements.popper,c)&&(n.elements.arrow=c))}const Ki={name:"arrow",enabled:!0,phase:"main",fn:Gi,effect:qi,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function te(r){return r.split("-")[1]}var $i={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Qi(r,n){var o=r.x,l=r.y,c=n.devicePixelRatio||1;return{x:Qt(o*c)/c||0,y:Qt(l*c)/c||0}}function Jn(r){var n,o=r.popper,l=r.popperRect,c=r.placement,f=r.variation,d=r.offsets,w=r.position,y=r.gpuAcceleration,L=r.adaptive,G=r.roundOffsets,H=r.isFixed,ce=d.x,ie=ce===void 0?0:ce,Et=d.y,zn=Et===void 0?0:Et,$l=typeof G=="function"?G({x:ie,y:zn}):{x:ie,y:zn};ie=$l.x,zn=$l.y;var zl=d.hasOwnProperty("x"),Hl=d.hasOwnProperty("y"),Ft=pt,El=dt,Kl=window;if(L){var Al=ye(o),vu="clientHeight",Nl="clientWidth";if(Al===gt(o)&&(Al=Dt(o),Rt(Al).position!=="static"&&w==="absolute"&&(vu="scrollHeight",Nl="scrollWidth")),Al=Al,c===dt||(c===pt||c===bt)&&f===ge){El=yt;var Xu=H&&Al===Kl&&Kl.visualViewport?Kl.visualViewport.height:Al[vu];zn-=Xu-l.height,zn*=y?1:-1}if(c===pt||(c===dt||c===yt)&&f===ge){Ft=bt;var Vu=H&&Al===Kl&&Kl.visualViewport?Kl.visualViewport.width:Al[Nl];ie-=Vu-l.width,ie*=y?1:-1}}var Zu=Object.assign({position:w},L&&$i),Od=G===!0?Qi({x:ie,y:zn},gt(o)):{x:ie,y:zn};if(ie=Od.x,zn=Od.y,y){var Id;return Object.assign({},Zu,(Id={},Id[El]=Hl?"0":"",Id[Ft]=zl?"0":"",Id.transform=(Kl.devicePixelRatio||1)<=1?"translate("+ie+"px, "+zn+"px)":"translate3d("+ie+"px, "+zn+"px, 0)",Id))}return Object.assign({},Zu,(n={},n[El]=Hl?zn+"px":"",n[Ft]=zl?ie+"px":"",n.transform="",n))}function Xi(r){var n=r.state,o=r.options,l=o.gpuAcceleration,c=l===void 0?!0:l,f=o.adaptive,d=f===void 0?!0:f,w=o.roundOffsets,y=w===void 0?!0:w,L={placement:Pt(n.placement),variation:te(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:c,isFixed:n.options.strategy==="fixed"};n.modifiersData.popperOffsets!=null&&(n.styles.popper=Object.assign({},n.styles.popper,Jn(Object.assign({},L,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:d,roundOffsets:y})))),n.modifiersData.arrow!=null&&(n.styles.arrow=Object.assign({},n.styles.arrow,Jn(Object.assign({},L,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:y})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})}const to={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Xi,data:{}};var Ae={passive:!0};function eo(r){var n=r.state,o=r.instance,l=r.options,c=l.scroll,f=c===void 0?!0:c,d=l.resize,w=d===void 0?!0:d,y=gt(n.elements.popper),L=[].concat(n.scrollParents.reference,n.scrollParents.popper);return f&&L.forEach(function(G){G.addEventListener("scroll",o.update,Ae)}),w&&y.addEventListener("resize",o.update,Ae),function(){f&&L.forEach(function(G){G.removeEventListener("scroll",o.update,Ae)}),w&&y.removeEventListener("resize",o.update,Ae)}}const no={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:eo,data:{}};var ro={left:"right",right:"left",bottom:"top",top:"bottom"};function Re(r){return r.replace(/left|right|bottom|top/g,function(n){return ro[n]})}var io={start:"end",end:"start"};function Gn(r){return r.replace(/start|end/g,function(n){return io[n]})}function mn(r){var n=gt(r),o=n.pageXOffset,l=n.pageYOffset;return{scrollLeft:o,scrollTop:l}}function gn(r){return Xt(Dt(r)).left+mn(r).scrollLeft}function oo(r,n){var o=gt(r),l=Dt(r),c=o.visualViewport,f=l.clientWidth,d=l.clientHeight,w=0,y=0;if(c){f=c.width,d=c.height;var L=_r();(L||!L&&n==="fixed")&&(w=c.offsetLeft,y=c.offsetTop)}return{width:f,height:d,x:w+gn(r),y}}function so(r){var n,o=Dt(r),l=mn(r),c=(n=r.ownerDocument)==null?void 0:n.body,f=Nt(o.scrollWidth,o.clientWidth,c?c.scrollWidth:0,c?c.clientWidth:0),d=Nt(o.scrollHeight,o.clientHeight,c?c.scrollHeight:0,c?c.clientHeight:0),w=-l.scrollLeft+gn(r),y=-l.scrollTop;return Rt(c||o).direction==="rtl"&&(w+=Nt(o.clientWidth,c?c.clientWidth:0)-f),{width:f,height:d,x:w,y}}function _n(r){var n=Rt(r),o=n.overflow,l=n.overflowX,c=n.overflowY;return/auto|scroll|overlay|hidden/.test(o+c+l)}function Pr(r){return["html","body","#document"].indexOf(It(r))>=0?r.ownerDocument.body:wt(r)&&_n(r)?r:Pr(ke(r))}function pe(r,n){var o;n===void 0&&(n=[]);var l=Pr(r),c=l===((o=r.ownerDocument)==null?void 0:o.body),f=gt(l),d=c?[f].concat(f.visualViewport||[],_n(l)?l:[]):l,w=n.concat(d);return c?w:w.concat(pe(ke(d)))}function $e(r){return Object.assign({},r,{left:r.x,top:r.y,right:r.x+r.width,bottom:r.y+r.height})}function ao(r,n){var o=Xt(r,!1,n==="fixed");return o.top=o.top+r.clientTop,o.left=o.left+r.clientLeft,o.bottom=o.top+r.clientHeight,o.right=o.left+r.clientWidth,o.width=r.clientWidth,o.height=r.clientHeight,o.x=o.left,o.y=o.top,o}function qn(r,n,o){return n===mr?$e(oo(r,o)):Zt(n)?ao(n,o):$e(so(Dt(r)))}function co(r){var n=pe(ke(r)),o=["absolute","fixed"].indexOf(Rt(r).position)>=0,l=o&&wt(r)?ye(r):r;return Zt(l)?n.filter(function(c){return Zt(c)&&vr(c,l)&&It(c)!=="body"}):[]}function uo(r,n,o,l){var c=n==="clippingParents"?co(r):[].concat(n),f=[].concat(c,[o]),d=f[0],w=f.reduce(function(y,L){var G=qn(r,L,l);return y.top=Nt(G.top,y.top),y.right=Te(G.right,y.right),y.bottom=Te(G.bottom,y.bottom),y.left=Nt(G.left,y.left),y},qn(r,d,l));return w.width=w.right-w.left,w.height=w.bottom-w.top,w.x=w.left,w.y=w.top,w}function wr(r){var n=r.reference,o=r.element,l=r.placement,c=l?Pt(l):null,f=l?te(l):null,d=n.x+n.width/2-o.width/2,w=n.y+n.height/2-o.height/2,y;switch(c){case dt:y={x:d,y:n.y-o.height};break;case yt:y={x:d,y:n.y+n.height};break;case bt:y={x:n.x+n.width,y:w};break;case pt:y={x:n.x-o.width,y:w};break;default:y={x:n.x,y:n.y}}var L=c?pn(c):null;if(L!=null){var G=L==="y"?"height":"width";switch(f){case $t:y[L]=y[L]-(n[G]/2-o[G]/2);break;case ge:y[L]=y[L]+(n[G]/2-o[G]/2);break}}return y}function _e(r,n){n===void 0&&(n={});var o=n,l=o.placement,c=l===void 0?r.placement:l,f=o.strategy,d=f===void 0?r.strategy:f,w=o.boundary,y=w===void 0?Ii:w,L=o.rootBoundary,G=L===void 0?mr:L,H=o.elementContext,ce=H===void 0?ue:H,ie=o.altBoundary,Et=ie===void 0?!1:ie,zn=o.padding,$l=zn===void 0?0:zn,zl=yr(typeof $l!="number"?$l:br$1($l,he)),Hl=ce===ue?ji:ue,Ft=r.rects.popper,El=r.elements[Et?Hl:ce],Kl=uo(Zt(El)?El:El.contextElement||Dt(r.elements.popper),y,G,d),Al=Xt(r.elements.reference),vu=wr({reference:Al,element:Ft,placement:c}),Nl=$e(Object.assign({},Ft,vu)),Xu=ce===ue?Nl:Al,Vu={top:Kl.top-Xu.top+zl.top,bottom:Xu.bottom-Kl.bottom+zl.bottom,left:Kl.left-Xu.left+zl.left,right:Xu.right-Kl.right+zl.right},Zu=r.modifiersData.offset;if(ce===ue&&Zu){var Od=Zu[c];Object.keys(Vu).forEach(function(Id){var Bd=[bt,yt].indexOf(Id)>=0?1:-1,Cd=[dt,yt].indexOf(Id)>=0?"y":"x";Vu[Id]+=Od[Cd]*Bd})}return Vu}function lo(r,n){n===void 0&&(n={});var o=n,l=o.placement,c=o.boundary,f=o.rootBoundary,d=o.padding,w=o.flipVariations,y=o.allowedAutoPlacements,L=y===void 0?gr:y,G=te(l),H=G?w?Vn:Vn.filter(function(Et){return te(Et)===G}):he,ce=H.filter(function(Et){return L.indexOf(Et)>=0});ce.length===0&&(ce=H);var ie=ce.reduce(function(Et,zn){return Et[zn]=_e(r,{placement:zn,boundary:c,rootBoundary:f,padding:d})[Pt(zn)],Et},{});return Object.keys(ie).sort(function(Et,zn){return ie[Et]-ie[zn]})}function fo(r){if(Pt(r)===ln)return[];var n=Re(r);return[Gn(r),n,Gn(n)]}function po(r){var n=r.state,o=r.options,l=r.name;if(!n.modifiersData[l]._skip){for(var c=o.mainAxis,f=c===void 0?!0:c,d=o.altAxis,w=d===void 0?!0:d,y=o.fallbackPlacements,L=o.padding,G=o.boundary,H=o.rootBoundary,ce=o.altBoundary,ie=o.flipVariations,Et=ie===void 0?!0:ie,zn=o.allowedAutoPlacements,$l=n.options.placement,zl=Pt($l),Hl=zl===$l,Ft=y||(Hl||!Et?[Re($l)]:fo($l)),El=[$l].concat(Ft).reduce(function(md,oh){return md.concat(Pt(oh)===ln?lo(n,{placement:oh,boundary:G,rootBoundary:H,padding:L,flipVariations:Et,allowedAutoPlacements:zn}):oh)},[]),Kl=n.rects.reference,Al=n.rects.popper,vu=new Map,Nl=!0,Xu=El[0],Vu=0;Vu<El.length;Vu++){var Zu=El[Vu],Od=Pt(Zu),Id=te(Zu)===$t,Bd=[dt,yt].indexOf(Od)>=0,Cd=Bd?"width":"height",Wl=_e(n,{placement:Zu,boundary:G,rootBoundary:H,altBoundary:ce,padding:L}),jd=Bd?Id?bt:pt:Id?yt:dt;Kl[Cd]>Al[Cd]&&(jd=Re(jd));var Md=Re(jd),qu=[];if(f&&qu.push(Wl[Od]<=0),w&&qu.push(Wl[jd]<=0,Wl[Md]<=0),qu.every(function(md){return md})){Xu=Zu,Nl=!1;break}vu.set(Zu,qu)}if(Nl)for(var ad=Et?3:1,Dd=function(md){var oh=El.find(function(qh){var sf=vu.get(qh);if(sf)return sf.slice(0,md).every(function(yh){return yh})});if(oh)return Xu=oh,"break"},mh=ad;mh>0;mh--){var gd=Dd(mh);if(gd==="break")break}n.placement!==Xu&&(n.modifiersData[l]._skip=!0,n.placement=Xu,n.reset=!0)}}const mo={name:"flip",enabled:!0,phase:"main",fn:po,requiresIfExists:["offset"],data:{_skip:!1}};function Kn(r,n,o){return o===void 0&&(o={x:0,y:0}),{top:r.top-n.height-o.y,right:r.right-n.width+o.x,bottom:r.bottom-n.height+o.y,left:r.left-n.width-o.x}}function $n(r){return[dt,bt,yt,pt].some(function(n){return r[n]>=0})}function go(r){var n=r.state,o=r.name,l=n.rects.reference,c=n.rects.popper,f=n.modifiersData.preventOverflow,d=_e(n,{elementContext:"reference"}),w=_e(n,{altBoundary:!0}),y=Kn(d,l),L=Kn(w,c,f),G=$n(y),H=$n(L);n.modifiersData[o]={referenceClippingOffsets:y,popperEscapeOffsets:L,isReferenceHidden:G,hasPopperEscaped:H},n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-reference-hidden":G,"data-popper-escaped":H})}const _o={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:go};function vo(r,n,o){var l=Pt(r),c=[pt,dt].indexOf(l)>=0?-1:1,f=typeof o=="function"?o(Object.assign({},n,{placement:r})):o,d=f[0],w=f[1];return d=d||0,w=(w||0)*c,[pt,bt].indexOf(l)>=0?{x:w,y:d}:{x:d,y:w}}function ho(r){var n=r.state,o=r.options,l=r.name,c=o.offset,f=c===void 0?[0,0]:c,d=gr.reduce(function(G,H){return G[H]=vo(H,n.rects,f),G},{}),w=d[n.placement],y=w.x,L=w.y;n.modifiersData.popperOffsets!=null&&(n.modifiersData.popperOffsets.x+=y,n.modifiersData.popperOffsets.y+=L),n.modifiersData[l]=d}const yo={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:ho};function bo(r){var n=r.state,o=r.name;n.modifiersData[o]=wr({reference:n.rects.reference,element:n.rects.popper,placement:n.placement})}const Po={name:"popperOffsets",enabled:!0,phase:"read",fn:bo,data:{}};function wo(r){return r==="x"?"y":"x"}function Eo(r){var n=r.state,o=r.options,l=r.name,c=o.mainAxis,f=c===void 0?!0:c,d=o.altAxis,w=d===void 0?!1:d,y=o.boundary,L=o.rootBoundary,G=o.altBoundary,H=o.padding,ce=o.tether,ie=ce===void 0?!0:ce,Et=o.tetherOffset,zn=Et===void 0?0:Et,$l=_e(n,{boundary:y,rootBoundary:L,padding:H,altBoundary:G}),zl=Pt(n.placement),Hl=te(n.placement),Ft=!Hl,El=pn(zl),Kl=wo(El),Al=n.modifiersData.popperOffsets,vu=n.rects.reference,Nl=n.rects.popper,Xu=typeof zn=="function"?zn(Object.assign({},n.rects,{placement:n.placement})):zn,Vu=typeof Xu=="number"?{mainAxis:Xu,altAxis:Xu}:Object.assign({mainAxis:0,altAxis:0},Xu),Zu=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,Od={x:0,y:0};if(Al){if(f){var Id,Bd=El==="y"?dt:pt,Cd=El==="y"?yt:bt,Wl=El==="y"?"height":"width",jd=Al[El],Md=jd+$l[Bd],qu=jd-$l[Cd],ad=ie?-Nl[Wl]/2:0,Dd=Hl===$t?vu[Wl]:Nl[Wl],mh=Hl===$t?-Nl[Wl]:-vu[Wl],gd=n.elements.arrow,md=ie&&gd?dn(gd):{width:0,height:0},oh=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:hr(),qh=oh[Bd],sf=oh[Cd],yh=de(0,vu[Wl],md[Wl]),vf=Ft?vu[Wl]/2-ad-yh-qh-Vu.mainAxis:Dd-yh-qh-Vu.mainAxis,Ef=Ft?-vu[Wl]/2+ad+yh+sf+Vu.mainAxis:mh+yh+sf+Vu.mainAxis,kf=n.elements.arrow&&ye(n.elements.arrow),Mp=kf?El==="y"?kf.clientTop||0:kf.clientLeft||0:0,rp=(Id=Zu?.[El])!=null?Id:0,Fp=jd+vf-rp-Mp,_0=jd+Ef-rp,L0=de(ie?Te(Md,Fp):Md,jd,ie?Nt(qu,_0):qu);Al[El]=L0,Od[El]=L0-jd}if(w){var Gp,E0=El==="x"?dt:pt,l0=El==="x"?yt:bt,n0=Al[Kl],Z0=Kl==="y"?"height":"width",G0=n0+$l[E0],X0=n0-$l[l0],$g=[dt,pt].indexOf(zl)!==-1,Gg=(Gp=Zu?.[Kl])!=null?Gp:0,_f=$g?G0:n0-vu[Z0]-Nl[Z0]-Gg+Vu.altAxis,hd=$g?n0+vu[Z0]+Nl[Z0]-Gg-Vu.altAxis:X0,qd=ie&&$g?Wi(_f,n0,hd):de(ie?_f:G0,n0,ie?hd:X0);Al[Kl]=qd,Od[Kl]=qd-n0}n.modifiersData[l]=Od}}const xo={name:"preventOverflow",enabled:!0,phase:"main",fn:Eo,requiresIfExists:["offset"]};function Ao(r){return{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}}function Oo(r){return r===gt(r)||!wt(r)?mn(r):Ao(r)}function Ro(r){var n=r.getBoundingClientRect(),o=Qt(n.width)/r.offsetWidth||1,l=Qt(n.height)/r.offsetHeight||1;return o!==1||l!==1}function Co(r,n,o){o===void 0&&(o=!1);var l=wt(n),c=wt(n)&&Ro(n),f=Dt(n),d=Xt(r,c,o),w={scrollLeft:0,scrollTop:0},y={x:0,y:0};return(l||!l&&!o)&&((It(n)!=="body"||_n(f))&&(w=Oo(n)),wt(n)?(y=Xt(n,!0),y.x+=n.clientLeft,y.y+=n.clientTop):f&&(y.x=gn(f))),{x:d.left+w.scrollLeft-y.x,y:d.top+w.scrollTop-y.y,width:d.width,height:d.height}}function To(r){var n=new Map,o=new Set,l=[];r.forEach(function(f){n.set(f.name,f)});function c(f){o.add(f.name);var d=[].concat(f.requires||[],f.requiresIfExists||[]);d.forEach(function(w){if(!o.has(w)){var y=n.get(w);y&&c(y)}}),l.push(f)}return r.forEach(function(f){o.has(f.name)||c(f)}),l}function So(r){var n=To(r);return Ui.reduce(function(o,l){return o.concat(n.filter(function(c){return c.phase===l}))},[])}function ko(r){var n;return function(){return n||(n=new Promise(function(o){Promise.resolve().then(function(){n=void 0,o(r())})})),n}}function Io(r){var n=r.reduce(function(o,l){var c=o[l.name];return o[l.name]=c?Object.assign({},c,l,{options:Object.assign({},c.options,l.options),data:Object.assign({},c.data,l.data)}):l,o},{});return Object.keys(n).map(function(o){return n[o]})}var Qn={placement:"bottom",modifiers:[],strategy:"absolute"};function Xn(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return!n.some(function(l){return!(l&&typeof l.getBoundingClientRect=="function")})}function jo(r){r===void 0&&(r={});var n=r,o=n.defaultModifiers,l=o===void 0?[]:o,c=n.defaultOptions,f=c===void 0?Qn:c;return function(d,w,y){y===void 0&&(y=f);var L={placement:"bottom",orderedModifiers:[],options:Object.assign({},Qn,f),modifiersData:{},elements:{reference:d,popper:w},attributes:{},styles:{}},G=[],H=!1,ce={state:L,setOptions:function(zn){var $l=typeof zn=="function"?zn(L.options):zn;Et(),L.options=Object.assign({},f,L.options,$l),L.scrollParents={reference:Zt(d)?pe(d):d.contextElement?pe(d.contextElement):[],popper:pe(w)};var zl=So(Io([].concat(l,L.options.modifiers)));return L.orderedModifiers=zl.filter(function(Hl){return Hl.enabled}),ie(),ce.update()},forceUpdate:function(){if(!H){var zn=L.elements,$l=zn.reference,zl=zn.popper;if(Xn($l,zl)){L.rects={reference:Co($l,ye(zl),L.options.strategy==="fixed"),popper:dn(zl)},L.reset=!1,L.placement=L.options.placement,L.orderedModifiers.forEach(function(Nl){return L.modifiersData[Nl.name]=Object.assign({},Nl.data)});for(var Hl=0;Hl<L.orderedModifiers.length;Hl++){if(L.reset===!0){L.reset=!1,Hl=-1;continue}var Ft=L.orderedModifiers[Hl],El=Ft.fn,Kl=Ft.options,Al=Kl===void 0?{}:Kl,vu=Ft.name;typeof El=="function"&&(L=El({state:L,options:Al,name:vu,instance:ce})||L)}}}},update:ko(function(){return new Promise(function(zn){ce.forceUpdate(),zn(L)})}),destroy:function(){Et(),H=!0}};if(!Xn(d,w))return ce;ce.setOptions(y).then(function(zn){!H&&y.onFirstUpdate&&y.onFirstUpdate(zn)});function ie(){L.orderedModifiers.forEach(function(zn){var $l=zn.name,zl=zn.options,Hl=zl===void 0?{}:zl,Ft=zn.effect;if(typeof Ft=="function"){var El=Ft({state:L,name:$l,instance:ce,options:Hl}),Kl=function(){};G.push(El||Kl)}})}function Et(){G.forEach(function(zn){return zn()}),G=[]}return ce}}const Do=jo({defaultModifiers:[_o,Po,to,no,yo,mo,xo,Ki]}),Fo=["enabled","placement","strategy","modifiers"];function Mo(r,n){if(r==null)return{};var o={},l=Object.keys(r),c,f;for(f=0;f<l.length;f++)c=l[f],!(n.indexOf(c)>=0)&&(o[c]=r[c]);return o}const Bo={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},zo={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:r})=>()=>{const{reference:n,popper:o}=r.elements;if("removeAttribute"in n){const l=(n.getAttribute("aria-describedby")||"").split(",").filter(c=>c.trim()!==o.id);l.length?n.setAttribute("aria-describedby",l.join(",")):n.removeAttribute("aria-describedby")}},fn:({state:r})=>{var n;const{popper:o,reference:l}=r.elements,c=(n=o.getAttribute("role"))==null?void 0:n.toLowerCase();if(o.id&&c==="tooltip"&&"setAttribute"in l){const f=l.getAttribute("aria-describedby");if(f&&f.split(",").indexOf(o.id)!==-1)return;l.setAttribute("aria-describedby",f?`${f},${o.id}`:o.id)}}},Lo=[];function No(r,n,o={}){let{enabled:l=!0,placement:c="bottom",strategy:f="absolute",modifiers:d=Lo}=o,w=Mo(o,Fo);const y=reactExports.useRef(d),L=reactExports.useRef(),G=reactExports.useCallback(()=>{var $l;($l=L.current)==null||$l.update()},[]),H=reactExports.useCallback(()=>{var $l;($l=L.current)==null||$l.forceUpdate()},[]),[ce,ie]=ki(reactExports.useState({placement:c,update:G,forceUpdate:H,attributes:{},styles:{popper:{},arrow:{}}})),Et=reactExports.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:$l})=>{const zl={},Hl={};Object.keys($l.elements).forEach(Ft=>{zl[Ft]=$l.styles[Ft],Hl[Ft]=$l.attributes[Ft]}),ie({state:$l,styles:zl,attributes:Hl,update:G,forceUpdate:H,placement:$l.placement})}}),[G,H,ie]),zn=reactExports.useMemo(()=>(fe(y.current,d)||(y.current=d),y.current),[d]);return reactExports.useEffect(()=>{!L.current||!l||L.current.setOptions({placement:c,strategy:f,modifiers:[...zn,Et,Bo]})},[f,c,Et,l,zn]),reactExports.useEffect(()=>{if(!(!l||r==null||n==null))return L.current=Do(r,n,Object.assign({},w,{placement:c,strategy:f,modifiers:[...zn,zo,Et]})),()=>{L.current!=null&&(L.current.destroy(),L.current=void 0,ie($l=>Object.assign({},$l,{attributes:{},styles:{popper:{}}})))}},[l,r,n]),ce}const vn=!!(typeof window<"u"&&window.document&&window.document.createElement);var Qe=!1,Xe=!1;try{var Ue={get passive(){return Qe=!0},get once(){return Xe=Qe=!0}};vn&&(window.addEventListener("test",Ue,Ue),window.removeEventListener("test",Ue,!0))}catch{}function Zo(r,n,o,l){if(l&&typeof l!="boolean"&&!Xe){var c=l.once,f=l.capture,d=o;!Xe&&c&&(d=o.__once||function w(y){this.removeEventListener(n,w,f),o.call(this,y)},o.__once=d),r.addEventListener(n,d,Qe?l:f)}r.addEventListener(n,o,l)}function Ho(r,n,o,l){var c=l&&typeof l!="boolean"?l.capture:l;r.removeEventListener(n,o,c),o.__once&&r.removeEventListener(n,o.__once,c)}function Lt(r,n,o,l){return Zo(r,n,o,l),function(){Ho(r,n,o,l)}}function Ie(r){return r&&r.ownerDocument||document}function Uo(r){const n=reactExports.useRef(r);return reactExports.useEffect(()=>{n.current=r},[r]),n}function ee(r){const n=Uo(r);return reactExports.useCallback(function(...o){return n.current&&n.current(...o)},[n])}const tr=()=>{};function Yo(r){return r.button===0}function Vo(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}const Ce=r=>r&&("current"in r?r.current:r),er={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function Wo(r,n=tr,{disabled:o,clickTrigger:l="click"}={}){const c=reactExports.useRef(!1),f=reactExports.useRef(!1),d=reactExports.useCallback(L=>{const G=Ce(r);dr(!!G,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),c.current=!G||Vo(L)||!Yo(L)||!!We(G,L.target)||f.current,f.current=!1},[r]),w=ee(L=>{const G=Ce(r);G&&We(G,L.target)&&(f.current=!0)}),y=ee(L=>{c.current||n(L)});reactExports.useEffect(()=>{var L,G;if(o||r==null)return;const H=Ie(Ce(r)),ce=H.defaultView||window;let ie=(L=ce.event)!=null?L:(G=ce.parent)==null?void 0:G.event,Et=null;er[l]&&(Et=Lt(H,er[l],w,!0));const zn=Lt(H,l,d,!0),$l=Lt(H,l,Hl=>{if(Hl===ie){ie=void 0;return}y(Hl)});let zl=[];return"ontouchstart"in H.documentElement&&(zl=[].slice.call(H.body.children).map(Hl=>Lt(Hl,"mousemove",tr))),()=>{Et?.(),zn(),$l(),zl.forEach(Hl=>Hl())}},[r,o,l,d,w,y])}function Jo(r){return r.code==="Escape"||r.keyCode===27}const Go=()=>{};function qo(r,n,{disabled:o,clickTrigger:l}={}){const c=n||Go;Wo(r,c,{disabled:o,clickTrigger:l});const f=ee(d=>{Jo(d)&&c(d)});reactExports.useEffect(()=>{if(o||r==null)return;const d=Ie(Ce(r));let w=(d.defaultView||window).event;const y=Lt(d,"keyup",L=>{if(L===w){w=void 0;return}f(L)});return()=>{y()}},[r,o,f])}const Er=reactExports.createContext(vn?window:void 0);Er.Provider;function Ko(){return reactExports.useContext(Er)}const Ye=(r,n)=>vn?r==null?(n||Ie()).body:(typeof r=="function"&&(r=r()),r&&"current"in r&&(r=r.current),r&&("nodeType"in r||r.getBoundingClientRect)?r:null):null;function nr(r,n){const o=Ko(),[l,c]=reactExports.useState(()=>Ye(r,o?.document));if(!l){const f=Ye(r);f&&c(f)}return reactExports.useEffect(()=>{},[n,l]),reactExports.useEffect(()=>{const f=Ye(r);f!==l&&c(f)},[r,l]),l}function $o(r){const n={};return Array.isArray(r)?(r?.forEach(o=>{n[o.name]=o}),n):r||n}function Qo(r={}){return Array.isArray(r)?r:Object.keys(r).map(n=>(r[n].name=n,r[n]))}function Xo({enabled:r,enableEvents:n,placement:o,flip:l,offset:c,fixed:f,containerPadding:d,arrowElement:w,popperConfig:y={}}){var L,G,H,ce;const ie=$o(y.modifiers);return Object.assign({},y,{placement:o,enabled:r,strategy:f?"fixed":y.strategy,modifiers:Qo(Object.assign({},ie,{eventListeners:{enabled:n,options:(L=ie.eventListeners)==null?void 0:L.options},preventOverflow:Object.assign({},ie.preventOverflow,{options:Object.assign({padding:d},(G=ie.preventOverflow)==null?void 0:G.options)}),offset:{options:Object.assign({offset:c},(H=ie.offset)==null?void 0:H.options)},arrow:Object.assign({},ie.arrow,{enabled:!!w,options:Object.assign({},(ce=ie.arrow)==null?void 0:ce.options,{element:w})}),flip:Object.assign({enabled:!!l},ie.flip)}))})}const ts=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",es=typeof document<"u",tn=es||ts?reactExports.useLayoutEffect:reactExports.useEffect;function ns({children:r,in:n,onExited:o,mountOnEnter:l,unmountOnExit:c}){const f=reactExports.useRef(null),d=reactExports.useRef(n),w=ee(o);reactExports.useEffect(()=>{n?d.current=!0:w(f.current)},[n,w]);const y=ne(f,r.ref),L=reactExports.cloneElement(r,{ref:y});return n?L:c||!d.current&&l?null:L}function rs({in:r,onTransition:n}){const o=reactExports.useRef(null),l=reactExports.useRef(!0),c=ee(n);return tn(()=>{if(!o.current)return;let f=!1;return c({in:r,element:o.current,initial:l.current,isStale:()=>f}),()=>{f=!0}},[r,c]),tn(()=>(l.current=!1,()=>{l.current=!0}),[]),o}function is({children:r,in:n,onExited:o,onEntered:l,transition:c}){const[f,d]=reactExports.useState(!n);n&&f&&d(!1);const w=rs({in:!!n,onTransition:L=>{const G=()=>{L.isStale()||(L.in?l?.(L.element,L.initial):(d(!0),o?.(L.element)))};Promise.resolve(c(L)).then(G,H=>{throw L.in||d(!0),H})}}),y=ne(w,r.ref);return f&&!n?null:reactExports.cloneElement(r,{ref:y})}function os(r,n,o){return r?T$1.jsx(r,Object.assign({},o)):n?T$1.jsx(is,Object.assign({},o,{transition:n})):T$1.jsx(ns,Object.assign({},o))}const xr=reactExports.forwardRef((r,n)=>{const{flip:o,offset:l,placement:c,containerPadding:f,popperConfig:d={},transition:w,runTransition:y}=r,[L,G]=Hn(),[H,ce]=Hn(),ie=ne(G,n),Et=nr(r.container),zn=nr(r.target),[$l,zl]=reactExports.useState(!r.show),Hl=No(zn,L,Xo({placement:c,enableEvents:!!r.show,containerPadding:f||5,flip:o,offset:l,arrowElement:H,popperConfig:d}));r.show&&$l&&zl(!1);const Ft=(...Zu)=>{zl(!0),r.onExited&&r.onExited(...Zu)},El=r.show||!$l;if(qo(L,r.onHide,{disabled:!r.rootClose||r.rootCloseDisabled,clickTrigger:r.rootCloseEvent}),!El)return null;const{onExit:Kl,onExiting:Al,onEnter:vu,onEntering:Nl,onEntered:Xu}=r;let Vu=r.children(Object.assign({},Hl.attributes.popper,{style:Hl.styles.popper,ref:ie}),{popper:Hl,placement:c,show:!!r.show,arrowProps:Object.assign({},Hl.attributes.arrow,{style:Hl.styles.arrow,ref:ce})});return Vu=os(w,y,{in:!!r.show,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Vu,onExit:Kl,onExiting:Al,onExited:Ft,onEnter:vu,onEntering:Nl,onEntered:Xu}),Et?ReactDOM.createPortal(Vu,Et):null});xr.displayName="Overlay";function rr(r,n){return r.classList?!!n&&r.classList.contains(n):(" "+(r.className.baseVal||r.className)+" ").indexOf(" "+n+" ")!==-1}const ss=["xxl","xl","lg","md","sm","xs"],as="xs",Ar=reactExports.createContext({prefixes:{},breakpoints:ss,minBreakpoint:as});function Ht(r,n){const{prefixes:o}=reactExports.useContext(Ar);return r||o[n]||n}function Or(){const{dir:r}=reactExports.useContext(Ar);return r==="rtl"}const Rr=reactExports.forwardRef(({className:r,bsPrefix:n,as:o="div",...l},c)=>(n=Ht(n,"popover-header"),T$1.jsx(o,{ref:c,className:Ut(r,n),...l})));Rr.displayName="PopoverHeader";const hn=reactExports.forwardRef(({className:r,bsPrefix:n,as:o="div",...l},c)=>(n=Ht(n,"popover-body"),T$1.jsx(o,{ref:c,className:Ut(r,n),...l})));hn.displayName="PopoverBody";function Cr(r,n){let o=r;return r==="left"?o=n?"end":"start":r==="right"&&(o=n?"start":"end"),o}function Tr(r="absolute"){return{position:r,top:"0",left:"0",opacity:"0",pointerEvents:"none"}}const cs=reactExports.forwardRef(({bsPrefix:r,placement:n="right",className:o,style:l,children:c,body:f,arrowProps:d,hasDoneInitialMeasure:w,popper:y,show:L,...G},H)=>{const ce=Ht(r,"popover"),ie=Or(),[Et]=n?.split("-")||[],zn=Cr(Et,ie);let $l=l;return L&&!w&&($l={...l,...Tr(y?.strategy)}),T$1.jsxs("div",{ref:H,role:"tooltip",style:$l,"x-placement":Et,className:Ut(o,ce,Et&&`bs-popover-${zn}`),...G,children:[T$1.jsx("div",{className:"popover-arrow",...d}),f?T$1.jsx(hn,{children:c}):c]})}),en=Object.assign(cs,{Header:Rr,Body:hn,POPPER_OFFSET:[0,8]}),Sr=reactExports.forwardRef(({bsPrefix:r,placement:n="right",className:o,style:l,children:c,arrowProps:f,hasDoneInitialMeasure:d,popper:w,show:y,...L},G)=>{r=Ht(r,"tooltip");const H=Or(),[ce]=n?.split("-")||[],ie=Cr(ce,H);let Et=l;return y&&!d&&(Et={...l,...Tr(w?.strategy)}),T$1.jsxs("div",{ref:G,style:Et,role:"tooltip","x-placement":ce,className:Ut(o,r,`bs-tooltip-${ie}`),...L,children:[T$1.jsx("div",{className:"tooltip-arrow",...f}),T$1.jsx("div",{className:`${r}-inner`,children:c})]})});Sr.displayName="Tooltip";const kr=Object.assign(Sr,{TOOLTIP_OFFSET:[0,6]});function us(r){const n=reactExports.useRef(null),o=Ht(void 0,"popover"),l=Ht(void 0,"tooltip"),c=reactExports.useMemo(()=>({name:"offset",options:{offset:()=>{if(r)return r;if(n.current){if(rr(n.current,o))return en.POPPER_OFFSET;if(rr(n.current,l))return kr.TOOLTIP_OFFSET}return[0,0]}}}),[r,o,l]);return[n,[c]]}const ir={disabled:!1},Ir=React.createContext(null);var fs=function(r){return r.scrollTop},le="unmounted",Bt="exited",kt="entering",zt="entered",nn="exiting",Ct=(function(r){Ci(n,r);function n(l,c){var f;f=r.call(this,l,c)||this;var d=c,w=d&&!d.isMounting?l.enter:l.appear,y;return f.appearStatus=null,l.in?w?(y=Bt,f.appearStatus=kt):y=zt:l.unmountOnExit||l.mountOnEnter?y=le:y=Bt,f.state={status:y},f.nextCallback=null,f}n.getDerivedStateFromProps=function(l,c){var f=l.in;return f&&c.status===le?{status:Bt}:null};var o=n.prototype;return o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(l){var c=null;if(l!==this.props){var f=this.state.status;this.props.in?f!==kt&&f!==zt&&(c=kt):(f===kt||f===zt)&&(c=nn)}this.updateStatus(!1,c)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var l=this.props.timeout,c,f,d;return c=f=d=l,l!=null&&typeof l!="number"&&(c=l.exit,f=l.enter,d=l.appear!==void 0?l.appear:f),{exit:c,enter:f,appear:d}},o.updateStatus=function(l,c){if(l===void 0&&(l=!1),c!==null)if(this.cancelNextCallback(),c===kt){if(this.props.unmountOnExit||this.props.mountOnEnter){var f=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this);f&&fs(f)}this.performEnter(l)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Bt&&this.setState({status:le})},o.performEnter=function(l){var c=this,f=this.props.enter,d=this.context?this.context.isMounting:l,w=this.props.nodeRef?[d]:[ReactDOM.findDOMNode(this),d],y=w[0],L=w[1],G=this.getTimeouts(),H=d?G.appear:G.enter;if(!l&&!f||ir.disabled){this.safeSetState({status:zt},function(){c.props.onEntered(y)});return}this.props.onEnter(y,L),this.safeSetState({status:kt},function(){c.props.onEntering(y,L),c.onTransitionEnd(H,function(){c.safeSetState({status:zt},function(){c.props.onEntered(y,L)})})})},o.performExit=function(){var l=this,c=this.props.exit,f=this.getTimeouts(),d=this.props.nodeRef?void 0:ReactDOM.findDOMNode(this);if(!c||ir.disabled){this.safeSetState({status:Bt},function(){l.props.onExited(d)});return}this.props.onExit(d),this.safeSetState({status:nn},function(){l.props.onExiting(d),l.onTransitionEnd(f.exit,function(){l.safeSetState({status:Bt},function(){l.props.onExited(d)})})})},o.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(l,c){c=this.setNextCallback(c),this.setState(l,c)},o.setNextCallback=function(l){var c=this,f=!0;return this.nextCallback=function(d){f&&(f=!1,c.nextCallback=null,l(d))},this.nextCallback.cancel=function(){f=!1},this.nextCallback},o.onTransitionEnd=function(l,c){this.setNextCallback(c);var f=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this),d=l==null&&!this.props.addEndListener;if(!f||d){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var w=this.props.nodeRef?[this.nextCallback]:[f,this.nextCallback],y=w[0],L=w[1];this.props.addEndListener(y,L)}l!=null&&setTimeout(this.nextCallback,l)},o.render=function(){var l=this.state.status;if(l===le)return null;var c=this.props,f=c.children;c.in,c.mountOnEnter,c.unmountOnExit,c.appear,c.enter,c.exit,c.timeout,c.addEndListener,c.onEnter,c.onEntering,c.onEntered,c.onExit,c.onExiting,c.onExited,c.nodeRef;var d=Oi(c,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return React.createElement(Ir.Provider,{value:null},typeof f=="function"?f(l,d):React.cloneElement(React.Children.only(f),d))},n})(React.Component);Ct.contextType=Ir;Ct.propTypes={};function qt(){}Ct.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:qt,onEntering:qt,onEntered:qt,onExit:qt,onExiting:qt,onExited:qt};Ct.UNMOUNTED=le;Ct.EXITED=Bt;Ct.ENTERING=kt;Ct.ENTERED=zt;Ct.EXITING=nn;function ds(r){var n=Ie(r);return n&&n.defaultView||window}function ps(r,n){return ds(r).getComputedStyle(r,n)}var ms=/([A-Z])/g;function gs(r){return r.replace(ms,"-$1").toLowerCase()}var _s=/^ms-/;function Oe(r){return gs(r).replace(_s,"-ms-")}var vs=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function hs(r){return!!(r&&vs.test(r))}function jr(r,n){var o="",l="";if(typeof n=="string")return r.style.getPropertyValue(Oe(n))||ps(r).getPropertyValue(Oe(n));Object.keys(n).forEach(function(c){var f=n[c];!f&&f!==0?r.style.removeProperty(Oe(c)):hs(c)?l+=c+"("+f+") ":o+=Oe(c)+": "+f+";"}),l&&(o+="transform: "+l+";"),r.style.cssText+=";"+o}function ys(r,n,o,l){if(l===void 0&&(l=!0),r){var c=document.createEvent("HTMLEvents");c.initEvent(n,o,l),r.dispatchEvent(c)}}function bs(r){var n=jr(r,"transitionDuration")||"",o=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*o}function Ps(r,n,o){o===void 0&&(o=5);var l=!1,c=setTimeout(function(){l||ys(r,"transitionend",!0)},n+o),f=Lt(r,"transitionend",function(){l=!0},{once:!0});return function(){clearTimeout(c),f()}}function ws(r,n,o,l){o==null&&(o=bs(r)||0);var c=Ps(r,o,l),f=Lt(r,"transitionend",n);return function(){c(),f()}}function or(r,n){const o=jr(r,n)||"",l=o.indexOf("ms")===-1?1e3:1;return parseFloat(o)*l}function Es(r,n){const o=or(r,"transitionDuration"),l=or(r,"transitionDelay"),c=ws(r,f=>{f.target===r&&(c(),n(f))},o+l)}function xs(r){r.offsetHeight}function Se(r){return r&&"setState"in r?ReactDOM.findDOMNode(r):r??null}const As=React.forwardRef(({onEnter:r,onEntering:n,onEntered:o,onExit:l,onExiting:c,onExited:f,addEndListener:d,children:w,childRef:y,...L},G)=>{const H=reactExports.useRef(null),ce=ne(H,y),ie=Al=>{ce(Se(Al))},Et=Al=>vu=>{Al&&H.current&&Al(H.current,vu)},zn=reactExports.useCallback(Et(r),[r]),$l=reactExports.useCallback(Et(n),[n]),zl=reactExports.useCallback(Et(o),[o]),Hl=reactExports.useCallback(Et(l),[l]),Ft=reactExports.useCallback(Et(c),[c]),El=reactExports.useCallback(Et(f),[f]),Kl=reactExports.useCallback(Et(d),[d]);return T$1.jsx(Ct,{ref:G,...L,onEnter:zn,onEntered:zl,onEntering:$l,onExit:Hl,onExited:El,onExiting:Ft,addEndListener:Kl,nodeRef:H,children:typeof w=="function"?(Al,vu)=>w(Al,{...vu,ref:ie}):React.cloneElement(w,{ref:ie})})}),Os={[kt]:"show",[zt]:"show"},rn=reactExports.forwardRef(({className:r,children:n,transitionClasses:o={},onEnter:l,...c},f)=>{const d={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...c},w=reactExports.useCallback((y,L)=>{xs(y),l?.(y,L)},[l]);return T$1.jsx(As,{ref:f,addEndListener:Es,...d,onEnter:w,childRef:n.ref,children:(y,L)=>reactExports.cloneElement(n,{...L,className:Ut("fade",r,n.props.className,Os[y],o[y])})})});rn.displayName="Fade";function Rs(r,n){const{ref:o}=r,{ref:l}=n;r.ref=o.__wrapped||(o.__wrapped=c=>o(Se(c))),n.ref=l.__wrapped||(l.__wrapped=c=>l(Se(c)))}const Dr=reactExports.forwardRef(({children:r,transition:n=rn,popperConfig:o={},rootClose:l=!1,placement:c="top",show:f=!1,...d},w)=>{const y=reactExports.useRef({}),[L,G]=reactExports.useState(null),[H,ce]=us(d.offset),ie=ne(w,H),Et=n===!0?rn:n||void 0,zn=ee($l=>{G($l),o==null||o.onFirstUpdate==null||o.onFirstUpdate($l)});return tn(()=>{L&&d.target&&(y.current.scheduleUpdate==null||y.current.scheduleUpdate())},[L,d.target]),reactExports.useEffect(()=>{f||G(null)},[f]),T$1.jsx(xr,{...d,ref:ie,popperConfig:{...o,modifiers:ce.concat(o.modifiers||[]),onFirstUpdate:zn},transition:Et,rootClose:l,placement:c,show:f,children:($l,{arrowProps:zl,popper:Hl,show:Ft})=>{var El,Kl;Rs($l,zl);const Al=Hl?.placement,vu=Object.assign(y.current,{state:Hl?.state,scheduleUpdate:Hl?.update,placement:Al,outOfBoundaries:(Hl==null||(El=Hl.state)==null||(Kl=El.modifiersData.hide)==null?void 0:Kl.isReferenceHidden)||!1,strategy:o.strategy}),Nl=!!L;return typeof r=="function"?r({...$l,placement:Al,show:Ft,...!n&&Ft&&{className:"show"},popper:vu,arrowProps:zl,hasDoneInitialMeasure:Nl}):reactExports.cloneElement(r,{...$l,placement:Al,arrowProps:zl,popper:vu,hasDoneInitialMeasure:Nl,className:Ut(r.props.className,!n&&Ft&&"show"),style:{...r.props.style,...$l.style}})}})});Dr.displayName="Overlay";function Cs(r){return r&&typeof r=="object"?r:{show:r,hide:r}}function sr(r,n,o){const[l]=n,c=l.currentTarget,f=l.relatedTarget||l.nativeEvent[o];(!f||f!==c)&&!We(c,f)&&r(...n)}N.oneOf(["click","hover","focus"]);const yn=({trigger:r=["hover","focus"],overlay:n,children:o,popperConfig:l={},show:c,defaultShow:f=!1,onToggle:d,delay:w,placement:y,flip:L=y&&y.indexOf("auto")!==-1,...G})=>{const H=reactExports.useRef(null),ce=ne(H,o.ref),ie=wi(),Et=reactExports.useRef(""),[zn,$l]=Ri(c,f,d),zl=Cs(w),{onFocus:Hl,onBlur:Ft,onClick:El}=typeof o!="function"?reactExports.Children.only(o).props:{},Kl=Cd=>{ce(Se(Cd))},Al=reactExports.useCallback(()=>{if(ie.clear(),Et.current="show",!zl.show){$l(!0);return}ie.set(()=>{Et.current==="show"&&$l(!0)},zl.show)},[zl.show,$l,ie]),vu=reactExports.useCallback(()=>{if(ie.clear(),Et.current="hide",!zl.hide){$l(!1);return}ie.set(()=>{Et.current==="hide"&&$l(!1)},zl.hide)},[zl.hide,$l,ie]),Nl=reactExports.useCallback((...Cd)=>{Al(),Hl?.(...Cd)},[Al,Hl]),Xu=reactExports.useCallback((...Cd)=>{vu(),Ft?.(...Cd)},[vu,Ft]),Vu=reactExports.useCallback((...Cd)=>{$l(!zn),El?.(...Cd)},[El,$l,zn]),Zu=reactExports.useCallback((...Cd)=>{sr(Al,Cd,"fromElement")},[Al]),Od=reactExports.useCallback((...Cd)=>{sr(vu,Cd,"toElement")},[vu]),Id=r==null?[]:[].concat(r),Bd={ref:Kl};return Id.indexOf("click")!==-1&&(Bd.onClick=Vu),Id.indexOf("focus")!==-1&&(Bd.onFocus=Nl,Bd.onBlur=Xu),Id.indexOf("hover")!==-1&&(Bd.onMouseOver=Zu,Bd.onMouseOut=Od),T$1.jsxs(T$1.Fragment,{children:[typeof o=="function"?o(Bd):reactExports.cloneElement(o,Bd),T$1.jsx(Dr,{...G,show:zn,onHide:vu,flip:L,placement:y,popperConfig:l,target:H.current,children:n})]})},Ts="_help_button_1s4g5_1",Ss={help_button:Ts};function Eu(r){let n=T$1.jsx("div",{className:Ss.help_button,children:"?"});return r.popover!=null&&(n=T$1.jsx(yn,{trigger:"click",rootClose:!0,placement:r.placement,overlay:r.popover,children:n})),n}const ks="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20xmlns:dc='http://purl.org/dc/elements/1.1/'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20width='36.012337'%20height='31.802971'%20viewBox='0%200%2036.012336%2031.802972'%20id='svg9098'%20version='1.1'%20inkscape:version='0.91%20r13725'%20sodipodi:docname='mclogo-split-rotate-v9.svg'%3e%3cdefs%20id='defs9100'%20/%3e%3csodipodi:namedview%20id='base'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageopacity='0.0'%20inkscape:pageshadow='2'%20inkscape:zoom='11.2'%20inkscape:cx='14.890099'%20inkscape:cy='23.051314'%20inkscape:document-units='px'%20inkscape:current-layer='g9'%20showgrid='false'%20units='px'%20inkscape:window-width='1680'%20inkscape:window-height='940'%20inkscape:window-x='0'%20inkscape:window-y='1'%20inkscape:window-maximized='1'%20fit-margin-top='3'%20fit-margin-left='3'%20fit-margin-right='3'%20fit-margin-bottom='5'%20/%3e%3cmetadata%20id='metadata9103'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3cdc:title%20/%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cg%20inkscape:label='Layer%201'%20inkscape:groupmode='layer'%20id='layer1'%20transform='translate(3.0066849,-1015.2422)'%3e%3cg%20id='mctriangle'%20transform='matrix(1.1533275,0,0,1.1556928,-379.094,391.20844)'%3e%3cg%20transform='translate(2975.41,266.50511)'%20style='display:inline;stroke:%23d21f15;stroke-width:0.86616874;stroke-opacity:1'%20id='layer6'%20/%3e%3cg%20id='g9'%3e%3cpath%20inkscape:connector-curvature='0'%20d='M%20334.49344,550.22655%20C%20334.49344,546.23874%20337.72144,543.00587%20341.70205,543.00587%20345.68227,543.00587%20348.90912,546.23874%20348.90912,550.22655'%20style='fill:none;stroke:%23d21f15;stroke-width:0.88989985;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20id='path9220'%20/%3e%3cpath%20inkscape:connector-curvature='0'%20d='M%20334.49344,550.41953%20C%20331.53412,550.41953%20329.1333,552.88285%20329.1333,555.92274%20329.1333,558.96264%20331.53412,561.42596%20334.49344,561.42596'%20style='fill:none;stroke:%23d21f15;stroke-width:0.88643086;stroke-linecap:square;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20id='path9224'%20/%3e%3cpath%20inkscape:connector-curvature='0'%20d='M%20348.90912,550.41953%20C%20351.86844,550.41953%20354.26926,552.88285%20354.26926,555.92274%20354.26926,558.96264%20351.86844,561.42596%20348.90912,561.42596'%20style='fill:none;stroke:%23d21f15;stroke-width:0.88643086;stroke-linecap:square;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20id='path9228'%20/%3e%3cpath%20inkscape:connector-curvature='0'%20d='M%20334.45731,561.42596%20348.92565,561.42596'%20style='fill:none;stroke:%23d21f15;stroke-width:0.88643086;stroke-linecap:square;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20id='path9232'%20/%3e%3cpath%20inkscape:connector-curvature='0'%20d='M%20334.49344,550.22655%20C%20334.49344,546.23874%20337.72144,543.00587%20341.70205,543.00587%20345.68227,543.00587%20348.90912,546.23874%20348.90912,550.22655'%20style='fill:none;stroke:%23d21f15;stroke-width:0.88989985;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20id='path9236'%20/%3e%3cpath%20inkscape:connector-curvature='0'%20d='M%20334.49344,550.41953%20C%20331.53412,550.41953%20329.1333,552.88285%20329.1333,555.92274%20329.1333,558.96264%20331.53412,561.42596%20334.49344,561.42596'%20style='fill:none;stroke:%23d21f15;stroke-width:0.88643086;stroke-linecap:square;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20id='path9240'%20/%3e%3cpath%20inkscape:connector-curvature='0'%20d='M%20348.90912,550.41953%20C%20351.86844,550.41953%20354.26926,552.88285%20354.26926,555.92274%20354.26926,558.96264%20351.86844,561.42596%20348.90912,561.42596'%20style='fill:none;stroke:%23d21f15;stroke-width:0.88643086;stroke-linecap:square;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20id='path9244'%20/%3e%3cpath%20inkscape:connector-curvature='0'%20d='M%20334.45731,561.42596%20348.92565,561.42596'%20style='fill:none;stroke:%23d21f15;stroke-width:0.88643086;stroke-linecap:square;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20id='path9248'%20/%3e%3cellipse%20ry='0.25958455'%20rx='0.26011693'%20cy='553.91522'%20cx='341.70126'%20id='ref'%20style='color:%23000000;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000000;solid-opacity:1;fill:none;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:3.4000001;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate'%20/%3e%3cpath%20id='mctriangleonly'%20d='M%20335.13723,550.18801%20338.41923,555.66439%20341.70129,561.14077%20344.98332,555.66439%20348.26535,550.18801%20341.70129,550.18801%20Z'%20style='color:%23000000;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000000;solid-opacity:1;fill:none;fill-opacity:1;fill-rule:nonzero;stroke:%23d21f15;stroke-width:0.91575587;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;marker:none;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate'%20inkscape:connector-curvature='0'%20/%3e%3ccircle%20cy='550.02032'%20cx='348.39252'%20id='circle7840-5'%20style='color:%23000000;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000000;solid-opacity:1;fill:%23ffffff;fill-opacity:1;fill-rule:nonzero;stroke:%23d21f15;stroke-width:0.88349211;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;marker:none;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate'%20r='1.4070433'%20/%3e%3ccircle%20cy='550.02032'%20cx='335.01007'%20id='circle7842-0'%20style='color:%23000000;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000000;solid-opacity:1;fill:%23ffffff;fill-opacity:1;fill-rule:nonzero;stroke:%23d21f15;stroke-width:0.88349211;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;marker:none;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate'%20r='1.4070433'%20/%3e%3ccircle%20style='color:%23000000;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000000;solid-opacity:1;fill:%23ffffff;fill-opacity:1;fill-rule:nonzero;stroke:%23d21f15;stroke-width:0.88349211;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;marker:none;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate'%20id='circle7844-5'%20cx='341.70132'%20cy='561.30841'%20r='1.4070433'%20/%3e%3ccircle%20r='1.4070433'%20style='color:%23000000;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000000;solid-opacity:1;fill:%23ffffff;fill-opacity:1;fill-rule:nonzero;stroke:%23d21f15;stroke-width:0.88349211;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;marker:none;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate;filter-blend-mode:normal;filter-gaussianBlur-deviation:0'%20id='movingcircle'%20cx='335.01007'%20cy='550.02032'%3e%3canimateTransform%20id='anim1'%20repeatCount='indefinite'%20begin='0s'%20dur='1s'%20values='0.0%200.0;13.38245%200.0;6.69125%2011.28809;0.0%200.0'%20type='translate'%20attributeName='transform'%20/%3e%3c/circle%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e";function xu(){return T$1.jsx("div",{style:{background:"transparent",border:"none",textAlign:"center"},children:T$1.jsx("img",{src:ks,alt:"Materials Cloud spinner",style:{width:"100%",minWidth:"20px",maxWidth:"200px",height:"auto"}})})}const Is=["as","disabled"];function js(r,n){if(r==null)return{};var o={},l=Object.keys(r),c,f;for(f=0;f<l.length;f++)c=l[f],!(n.indexOf(c)>=0)&&(o[c]=r[c]);return o}function Ds(r){return!r||r.trim()==="#"}function Fr({tagName:r,disabled:n,href:o,target:l,rel:c,role:f,onClick:d,tabIndex:w=0,type:y}){r||(o!=null||l!=null||c!=null?r="a":r="button");const L={tagName:r};if(r==="button")return[{type:y||"button",disabled:n},L];const G=ce=>{if((n||r==="a"&&Ds(o))&&ce.preventDefault(),n){ce.stopPropagation();return}d?.(ce)},H=ce=>{ce.key===" "&&(ce.preventDefault(),G(ce))};return r==="a"&&(o||(o="#"),n&&(o=void 0)),[{role:f??"button",disabled:void 0,tabIndex:n?void 0:w,href:o,target:r==="a"?l:void 0,"aria-disabled":n||void 0,rel:r==="a"?c:void 0,onClick:G,onKeyDown:H},L]}const Fs=reactExports.forwardRef((r,n)=>{let{as:o,disabled:l}=r,c=js(r,Is);const[f,{tagName:d}]=Fr(Object.assign({tagName:o,disabled:l},c));return T$1.jsx(d,Object.assign({},c,f,{ref:n}))});Fs.displayName="Button";const Mr=reactExports.forwardRef(({as:r,bsPrefix:n,variant:o="primary",size:l,active:c=!1,disabled:f=!1,className:d,...w},y)=>{const L=Ht(n,"btn"),[G,{tagName:H}]=Fr({tagName:r,disabled:f,...w}),ce=H;return T$1.jsx(ce,{...G,...w,ref:y,disabled:f,className:Ut(d,L,c&&"active",o&&`${L}-${o}`,l&&`${L}-${l}`,w.href&&f&&"disabled")})});Mr.displayName="Button";const Ms="_download_dropdown_menu_23m9j_1",Bs={download_dropdown_menu:Ms},zs=[{format:"cif",label:"CIF"},{format:"xsf",label:"XSF"},{format:"xyz",label:"XYZ"}];function Au(r){const n=`${r.aiida_rest_url}/nodes/${r.uuid}/download`,o=r.download_formats||zs,l=T$1.jsx(en,{children:T$1.jsx(en.Body,{style:{padding:"5px 0px"},children:T$1.jsx("ul",{className:Bs.download_dropdown_menu,children:o.map(({format:c,label:f})=>T$1.jsx("li",{children:T$1.jsx("a",{href:`${n}?download_format=${c}`,children:f})},c))})})});return T$1.jsx(yn,{trigger:"click",rootClose:!0,placement:"bottom",overlay:l,children:T$1.jsx(Mr,{size:"sm",style:{margin:"4px",padding:"2px 7px"},title:"Download",children:T$1.jsx("span",{className:"bi bi-download"})})})}const Ls="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIoAAACACAYAAADUHPECAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAdTAAAHUwAGRbQIfAAAAB3RJTUUH4QoMEAcil62xzQAAGc9JREFUeNrtnXl8XVW1x7/r3JvcJC1tgdKWUqADs0CTAk6AAh+GgAzyBBUUKQ8R6GDx4Ud9j6YVWkCeAio2pSLqQxyK4gTSBBApVJDCo4lMMjQpHaAphVI6ZLrnrPfHOjeEtknOvfece8/N5/0+H/j00yb77L3P7+y99tpr/ZYwyKFzRgMCquAIeDoCmARMBmqAQ4B9gD2B3YCU/6udwBbgbWAd8BLwT+A54BUcbxOeYz8pINe1FXuokUKK3YGooHNHgwco4MgwVKcAJwPHAQdhxCjPstlu4B3gFeAx4GFgBcpmxJ4l8wcnYQYdUXT2aDIvDWFf4CzgM8DRwLCQH/ce8CzwO5D7cHQ1nv2DzBtchBk0RFGaoO60DEnGAhcAFwOHAYmIH+8BLwB3Ab/GtiqY14hQXeypCQWDgig6Z4zZIFABfBq4CjgGcArcFQ94Bvg+8EegHRSZt6HYU5Q3Sp4oWjfaSCJyAPCfwOeAIUXu1jZgMXAjyGuoh8wvbbKUNFG0bjSgAnIqcAMwpdh92gErgP/CcxtxElrKdkvJEkXrRoE6ZYheDFwH7F3sPvWB9cBckJ+BdpcqWUqSKLaSkAJmAdcQ/mkmbGwBrsdsl85SJEvJEUVnjwKRcuA/gDqgqth9CojtwHyEm1HtKjUDt9Cngrygc0aBagK4HFtJSoUk+H39L5TLURI6e3Sx+5MVSooodFeA43wamAsMLXZ3csBQYC4i51BeWot5yfTWt0uqsWPnQcXuT554GTvGN5eKvVISK4rW7Q0wAvg2pU8SgIOBa4EROntUsfsSCLEnin59GIgIMBU4o9j9CRFnAFNRFX+1jDViTxQqK0Hdw4CZQFmxuxMiyoCZOM5haPwtgPgTBZLAlcDEENpygUbgX8UelI+J/tiSxe7IQIg1UfwleQpwXojN3g2cA9wGbCz2GIHzEK3RujHF7ke/iDVRsPCALwJhb+KvYA6787Fb3o4ijnG0P8aoQyHyQmyJot/eB2xpPjPstv0jaRp4FPgScBmwHDJhRwXHWaAT9Zr4GrWxJQpeB8BpwP5RNC/z2jKE2YLI3cC52JVAaxFGuz9wKhVFeHJAxJcomqwETo+6jzKvDbrTAG/wescNGGHuAN4t4Ggd4HS6qCzgM7PuYFwxCYuSjxxy40YjzP4VAM14OgMLpVwCdBVovFMI52QXCWJJFN9bOQUoqNuyZzsSuoAG4EJgBtBcgMfvBRyldfH01MaSKHgIFjVflJOAzN8A6oFtP3dgcbjzyQRNR4MkcDTixNL7Fk+iJKgEPlTMLsj8t3qnXKzCTczBCHMXlqYRBQ5DvVjaKfEkCrIHsG+xewG9tiPHUyzC/nLsSP037IgdJvb1xx47xJQo7AnEasJk/npofQ/MOfcn4LOY0+6lwTzuDOJKlL0gfl4Fubs9Y+wCbMR1bsOuA24BwggsqfDHHjvElSjDiPFNsVznb0dlLsCrqHwDu4/6HRYbmyvKiGmgeFyJUkHM7z4A5NoN/gqjLrAMYSrw78AyLKE9WySI4UoK8SVKghIK05R5beB6oGwj6SwGfoipHmTdFDH9QOIaB5HG9AhiD50z2npaloBu90DS3uXAF8jNWegR/kkqFMSVKNuxCYvl1wWg3xoLSTdD55F0uxdiQUiH5NGsS342TmSIK1Hexfb4VJ7tRIdyFzwqsIvLr2ICPfnOZxewqdhD2xXiSpS3sC8rvrk7yuEI38SOx7uF1Op24hF1txPiasy+DcQ95/JQLEIuLJLgjzkXIzhyxJMowiZgVbG70T+0AQtDCBOtqMZy64knUbSrC1NgjDO2YOoEYW4Vz9GRKlT8S1aIJ1HssPM0JuEZT5SnQHgC+FVILXYCT1Oei58uesSSKDJvI0ATsLZQz9SrD0LrRhM0a0/q1oCdzBYCr4bQhTVAk9ywvlBDzgqxJAoAyjrgyYI8qm4UVG0GZDdgZFBJCrmuDZSXgdvJ31H2JGiUgVF5Ib5EQbuBvxBhzGqvFSQJfBL0buB7IFV+YnyQVhRLKnsqj650AveBE0uvLMSZKFIOlnfzQhTNa93ozOgPBbkFu/k9Gzgf0TOQYLaCzN8Aohsww3Zbjt15AXgsziZZbIki89ZCp9cG/JZwE7PUX0VG4XE1lik4Exjp/3sVcBWaGKV1AUNDLMn8AeD+HPrjAfewzWuTebE8GQMxJgoASVHgHsIxFsFuZoZgsa+/A25i13orHwG+iHqBbrBlXhso24EfYCqQ2eAVlN/GXYEp1kSRGzaApy3Az7ALszDGezUWIH08fV86JoErkOTBgZPHU4B6y4FfEPzm2wXuxPVa5TvxdkTHmigACIq92KdDGu9BBHO7HwhMA8qslMsA3axrA8QFFhE8jvYp4G4ciX1IReyJYsai+ya2TWwu8OMvAP24r7MfrK+etxJYwMARbpuBm/C89XJ9vFcTKAGiAKBlYMbiTyms4sBIrADDbjo3oGHrOGCChI/381Me8BOUBpy4XuDvMKxidyAIZN6bYP6U7wKPFPjxp4GcTWewOgy+Yfs2dlzuK1Hsr8D3gC5/bLFHSRAFMpom8ibwDeDFAj66EphFWfvYwKJ8ZS4gD2FH7x3xgo1B1pdStbCSIQoAqQ7wWIFtB68X8MlHAVN9dcoBIXM3AtqBBVn3dsu/DlxFwmuie2sBu58/SoooMvtdO7hu6XoICz9cU6BHO8BlqB4eVG3A0ji8FZhdhd/XmXSmH6Y7gXzn/4kSKeTaNhhaDpL4M3AF8FqBHj0e8+CW6zWBPbYecCdwLzANGXIfqSRyfTxviPtDyREF/Eqg6oLrPIDVDfxHgR59PsgJJIIlB8i8DaCyGriUJ469H91eskUpS5Io4C/tSReQJ7A8mruI/lZtBPA1VIcHFrwRVWAzxy5D5pXeStIzjGJ3IF/o7L1AHLA7nC8BX8O8qlGhE5jOe4fcKT9YWuzhFwwlT5QM7OjqAN7hmJzW+UQnIdEMnI3q6lIvKhkUJbv17Ajb+12A51H5KlYU+24sRyhsHIFp08Y2kzFsDJoVpTd09hiwe7ZyTDTw01g1iwMJTy3gNeAsmdcWF139SDEoiQJ+HGxmeJUpaO/cGxMQ/AQWbzIJ25qCEqcDS85aiUl0/Q1YKvPaotJzixUGLVF6wy9Y2fuvhgFjMV3XCcA4TH1gGLYKgd0tvYdl763FFK1bgDcok/fothvlUj3uZouCEWXykipEFFA8twySHppwkbRDsjuNV2bmUremeeH0aGKM9dtjwN2FSIIobHZgqDg4noM4gpdw8bZ4JCrZKQ6pWyGZQOZHdKFXvzLTMcCxx4tgl87d9KSMC3BlYTSMIyNKdWMFiiIfKFqkkOxGuyodTaiD44m44nmu5yUSfQfvNNVGV/xC68ZYIL0AbgISrh233TJwOvHfUrQrx8IWP+52hylQAUFQEnbPpIDrkhSP9I6vzv/daZMi6WKoRKlpMHKAjUkdrRCV0djyPhGTBN0b2B0LHnSwo8o2bP9fh+UctwCrsXRNFyCZTvPMmbHNZsgei1aC23v6JQE6EtgPs5/GA/tgSpFV2DLoYbbSJuBNf45W2pxpmzHbVm0gVNKEQpSaxkq0JwpMh4EcgemFHAschtWkGRLweS5mG6zB8o8fBx5OptMtg4IoC1vef5dCOXAA8HHMyJ6MfUzDCHb0VmArpkj5IvB3my99HmRLz4+EQJi8iDK5oQrBo6m2g+qGionAp7Cj6BTM3R0GuoBpyXT6zpImSv1KMistwh7AiZiS5LHYyhGWT+sdYAUWC/MAm8a0sPt6s8OuzJ0wORFlygMpPEdISDeulh2EVbD6LBa4HLbdsww4L5lOt5UsURa0ZGZlD+xDmgocQ7QKkB6W5rIYuBsSryIueALTJ2TdWNYv1YxUEGUv4CJM8juqWsTbgIsduPfZCA3ayLBwpRmkSjlCLRZwdRyF19B9GbgD4S6Ut3LZjrJa7iY3VuA5iCgnAr8G/ptoC1bfp7CkJNeR+lZQB2Aiwg+w2+0TKY7Q8sHATSi/Bk5CPIf6lqwaCLSiVDc4QDkqDBHlCiyJKmgWd65YD5yr8I/mgKtJdUMFCDSdVuTVp74FSDjg1gLXYaGUccF64GZMgWErLjBzYF/MgCtK9V/K8J2Ve4vyfeB6oieJJX2JPJ0VSWCoQLn/5+LAvtQUuNOxDMc4kQRgDPYObwXGkgDqVw34S/0S5cN/HoYfzTURy4C7lMJIer5kz9Ms0kilDKhTpQ4YUr2kCGQxkgwBZgPfocAVzLJAOfYuFwETwYNb+5dm6ZconSYnNhFbps6iMC7/bmBB2ulqCbqFGCn0WH/w3wTmAEMKurIs7CHJXCylpKpwD88JgpUKXgRMItV/cGCfRKlurECUfbCK46cUcACPA79JaDCbr8bskt2wE8WemLE4C+EbQGpyQwEKatW3AJICvgXM4v2LxVLAydg7HueTfZfYJVGqGytQZThwI6bMXCi8B9yKOO80nxYs/DVtt8LnAKf2+usUZnBfiuIc2RDhezNHmoPqZVihp1IiSQa1wA0ow/s6De1ElOqHKgGSYl/o5ylsKMIfVHkYL5hpUtOQIoGOxXJ8dlw6hgBzRPSURJQC3VoG6KlYce24bzd9QbB3PQshSf3qnX5gJ6JouwfKGdjkF/LMvxb4oTh0NJ0+8GpS/RQ4goMyFbsy2BVGA/MVb0Ik9kr9SpD0BKyCaVwN16CwLVuptXvHD+IDRKluSCHlsh/2dRSytp0H/BSkqWlFQB/IO5W4Kh9i4NjVo4CrQcoP+dOI8Hr8+y2gWm5tx+4InCv2AOoguS/1rR/4hx6iVC+tQIUEJh5T6IH/E7gT1ONbA/9wdWMliJZjmXvjB/hxAb4IesqQVHt4PV7XBuKcYm0PKhyNZWAmetsr768o2xVRORrLvAvDLllHsNzgTuC23Ts6VgcOUPI8gBOwlIwgGA58zUV2nxLGFrToVUg4u2N23PAQ5moL8C8Kq/3SFxxgKmhNbwGhHqKoxUZ8BfPchYFlwL9hubf9KSU9InDvOxXBjrFHNlSCyAgs0WtEFv05DjjLdUNQweqsAPNBHB/SXLVhtQhnY7G5xcZYjAs9NqoD5v4WpAZzqoUFj5T+LzAduBB4kJ3FhTdhruTNzbXBtoWOsgqwnJ0Ts+xPCrhEEjKi+pE8VpWbWyDZPRy4hHC91GtJjr8RC0O4AytuVUycg0g1Cyx+11YUwQE+R9g1d7slgW0tD5A5fsHzvX7iHmDpioBbTs2SFJXd7fthtkkuL+nDwCc0nwzlKgFbST4S6lyBQ7oVzF6b4c9XAxEqdw+AUViMkUPmf6KMwxKkQkdTbQfvmXt4kyC3Y+rQN2E69wuymwhxBL6MZerlgirgM0gex34lia1o4ftMpk2CaRPx56QRuAAjTXPozwqGTyEyFsCpbqhEbf+OLO6/5USlqbYDz2y1VkSvAc5D3BeCGrDVDRWoUIPt5fmEDX5CBj4p9QPdH/hkVHMFGFnaOwHeRbgD247mU8BqIz4OAI6jfiWOqiYxf3/kzrXm2k5LvVBxgTfACWTlVz9YjlrY4Fex+NJ8MA74aE1jDguC3YV8FAuAjhZXH2qE8RRgFcgc7HDwC+yUVAiUASejkkiKMAaL3ywYss3TkXQSHO8U7MvKF0ngeBV+SbbHUcXB7JPCaX5O90MW61sVeBqRr6B6L2bvFaIvxyCMcbB0iui/kBxR01COOt6e2HF4WFjN4nkjsv4tYQTRfFQDv+xpE2yFUTqAP4F8FvMKB1XJzhX7A4clgRrCrbQZLkQF5fOYHRXm4MeRfUXQoZifI+zE9HXs6oJlV5g2ARa0grARlR8iugQLcL+IaO6bdgOqk9gJIrY6KaqJcViF8jBtqOFY9mJ2BS4dZy2uXhTFMHGd4If2TLqFJZO9iiffxNE/Yjbcpwj3ROYARzpY+mKcsQUz4ML0WJYB+538TNa/5wHtof9n20n2LuMrJ9p2JLjAMpBLsFPhk4R7HTApSXgu+6jwbmJ7x01uVcUDmJc3DMktAfZ+6KgsL7UuH1/sudg1pk+AH60CR7chLEZZim1FX8GOuPlijEN4qZ+RoKm2A6+qAuA5RWZiHssl5K8AueeUhyoHjz7MjPFmv9g6sh4n+V3slFiPVabPB7s7lEBU1oraDsqTabDA64ewu6NpwLPkXh20Sl2NrW2WM6b725HXDaa7Pwu7nrkf2J5jq1UOhfQJ5IHlJ6dprm33ZTV4F5MOv5D+y530hzIcHTwryo6YNgl/Y01j1TwuAn5Mbh9WMoktViXxZR3RmDJhHk8cHD0GuweZkmNzrmoOBmSpYEGrKRioArIfZuSeS25Klm4Ss7zj60chI9Djjxsm4OhlmCJAPhmL7Q7xL9GWNW573VSjbMZGYG7/GUA1uQektSexoKJYEmXqPdA8PJVRztpd7dp7GnBkCM1vSqVSXlA/V0lgQatf1lDKQE9A9SrsHi/fFJJ3k5jq4bhij3FHTF5SwQoBB00BJ6mFHYapBtDmBawV2IOFraARRSt6HszIUZn99la7PKzcDtsrD0d0OvZRhRUgvyGJFRvKdZ8PHdUNVYBHd1opS0q1qszA4j9GhPiYNLBm+UlZeuKvGA8LV2f3O0EgAuU5mA53vgqdCXAVhLG0V34J4TLCDxlZlQSew87bRT0B1PylHE1ktP9kXFlSLsFyifeP4HFbMUHB7LCwdQwWoR6swGAwCMpG0ulFWGhoMNS3ZDxJQxHOxtz3xxD+wUSB55JAE3a+DnPwWaF6SYVftZ5hIOf4gz6K6MgbNENgRziYw+/gkPuzChMmGpgoC1b6mrOaBDnWn6taovOHbQOaklgM63qKcOfTk72nkgQ9HrNDTiVabTNszLox699S3kJoInyiDOzbuL3Fd2QIeHowyBVYnaJw45x3xpsozycRVqM0UUCiTDalBAQPD+cwEb0S+1JHFuDxHrBMO73sHU9lnd2kU3/H7psK53uqX5lxzY/E04xXOmyy9oUViK5Nalo7JSGPYM6YyAdf3VCRuScdrTgXicVShHFxFRQbgWVSlWDgYuc7oLMKEu4yv43oc40zTjO0EtteZmFyo4XypnvAI7jalXSGOGiHPoopIecbj9onqht7CDIEi5mYhaU8FLrmzXKUl5tOycF/MnN/qG/5F7AcSwCLBplUTg9B+DB2GXoOFjhVSKwDHmVkCmfFCe2o8ioRVSivWVLpJ5ipg30NP8W0zT5O4UmSBv6A4+SRhKztwO/JejkKiPfzfSfi6PX+s75A4UkCdkfUwgX79ixh3ZjVfW6oHRLUczxE5QBVyYTrBSxHHgleBBqtwkbug8Jybl4iHA9xplH1SbIHZgNNJ/f8pTCwBfgN/gdhCWACII8DYVZTVFz2FJXpwJ+Br1NcknjALzWhbzSdkUfy3bSJ0N39JuQQxd/fXFnm4+nYy7mN4pIE4FEsfxzwidJU24GaE2oR4eWMHIHJa98KHFrkQYO5AX6DF8JFYDKh2At9Pt+mfAwHbgF+henlFUO0uDe2AIsQtvmZi++fchKAKg9jX38YOAKTpij2oMFSNBeUO92rm8MQK55+ACSc1WSdEtsn9sKM4xFFnKPe+CPwCO77C2YPUZ6tbQehHVM1fr3YPQ0ZjcDibi/EU6VN4mK/7cGEVcAtqLYz432vxQf8Js21HTheogn4HtFXJS8UVgPXo2xeURvikGxJ3oypQOdyHRBHdAI3k3CaezIUfews9ieeCvwc24NLHe3ADcDyptMjiDuZNhE8We4/I0Tdr6JhMfBzdhF/sRNRVpzejgpbgW/Ty+otQbjAj1HuIpecmaAQFPgfTPwmDtJauWIZprq9lSt3rufT5+1s9YOV4OlR/iR8qNijyAGLUaYDb0eymvSG+T9GYqkRQXXl4oQXgYtRfWbHLSeDPu92tMtFXclIa71c7JFkifuAryMFIAlk7JWNmHL1/cUefJZ4BZiOyjNI347yPonSfGYXTtIDkaVYxllYPoMoocC9GLnXRlkGdydYaudakOnAH4hyuwsPLwCXk+BRRGHa+D5/sN/b4hWndYIqgj6GRb0/VuyR9YMu4CfAdIU1VQWpFrMDOpOArsbCAH5C8fTXgmAZcAkqj9JNZlXsE4EiyKxChSIWlngtFjtShDfRJ94CvouyEGHrqOF78ODH3ihOT360KiMkNRRb2a4m+uCibNCJnW7mAquCVmMPHGp4VGMK1+IVh2KixVdj0hHFhAJPANeB9zA4XkG3m/5Q3wIiCVRPwSTjP0aR45IxRYhbMPfHVkTY1QlnV8ipSuk2t4MhTkUNpoJ0DuEpIWWDNcCdIHeAvgFKU5gOtTCQqX+jjMU0+y+lOOpWW7CrmZvBXQGJAbeaHZETw6v9rQiLbT0ZM3ZPoDCJZG9idxF3OKJNnjqKaPELTvaFH7X4lqAKJvr8ZSzrIeq6jGAEWYqV3fsriDkFsyQJ5LEUHtFYScJTvwUZCnocpot6AvbVhLnMdmHHuPuB32JKSelYVCQNip6oNUni6BGYv+VMrBxwmPaeYjKjj2C2yGNYJL3l/8zMLTQ675dZYzq1gCKqSRU5ECPLScBk7MsZkuWzPEwnrRULO3wYeHKv7VXr3qoy5YZU0uOpk+N8qNgFfrwautM2E+1JqEyPxeRIT8VUtcdjIQfZxi5vA97AhIv/BiwFeQXUovAUk8PIA6F99VMaU6gHKpkmNSXIODXVySnA4f5EjPIno9KfkLQ/0E1Y2shrWFJaM8qLKrpe/GRyD/hnXIzVfHH7SvD8uXJU8GQMcAiWTH4kFnC+NxbxVoUfCYIlS2/GUoFXYf6tJuA5RNeg4htqYqevK8JJrvg/1r/N4lnuwIgAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTctMTAtMTJUMTY6MDc6MzQrMDI6MDB1PnpAAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE3LTEwLTEyVDE2OjA3OjM0KzAyOjAwBGPC/AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII=";function Ou(r){var n=`${r.explore_url}/details/${r.uuid}?nodeType=NODE`;return T$1.jsx(yn,{placement:"bottom",overlay:T$1.jsxs(kr,{className:"explore_btn_tooltip",children:["Browse provenance",T$1.jsx("br",{}),r.uuid]}),children:T$1.jsx("a",{href:n,target:"_blank",children:T$1.jsx("img",{src:Ls,className:"explore_btn_aiida_logo"})})})}const Ns="_toggleSwitchWrapper_i81zd_2",Zs="_toggleLabel_i81zd_11",Hs="_toggleSwitchContainer_i81zd_16",Us="_toggleSwitch_i81zd_2",Ys="_thumb_i81zd_34",Vs="_toggled_i81zd_46",Mt={toggleSwitchWrapper:Ns,toggleLabel:Zs,toggleSwitchContainer:Hs,toggleSwitch:Us,thumb:Ys,toggled:Vs};function Ru({switchLength:r="50px",labelLeft:n="Left",labelRight:o="Right",fontSize:l="12px",onToggle:c=()=>{},labelClassName:f="",containerClassName:d="",switchClassName:w="",thumbClassName:y=""}){const[L,G]=reactExports.useState(!1),H=()=>{const ce=!L;G(ce),c(ce)};return T$1.jsxs("div",{className:`${Mt.toggleSwitchWrapper} ${d}`,style:{fontSize:l},children:[T$1.jsx("span",{className:`${Mt.toggleLabel} ${f}`,children:n}),T$1.jsx("div",{className:Mt.toggleSwitchContainer,children:T$1.jsx("button",{className:`${Mt.toggleSwitch} ${L?Mt.toggled:""} ${w}`,onClick:H,style:{"--switch-length":r},children:T$1.jsx("div",{className:`${Mt.thumb} ${y}`})})}),T$1.jsx("span",{className:`${Mt.toggleLabel} ${f}`,children:o})]})}function Cu(r){return r.split(/(\d+)/).map((n,o)=>n.match(/\d+/)?T$1.jsx("sub",{children:n},o):n)}const Ws={display:"inline-block",position:"relative"},Js={position:"absolute",top:"0.15em",left:0,right:0,borderTop:"0.1em solid black",height:0,zIndex:1};function Tu(r){let n=!1,o=!1;return T$1.jsx("span",{children:r.split("").map((l,c)=>l=="-"?(o=!0,null):l=="_"?(n=!0,null):o?(o=!1,T$1.jsxs("span",{style:Ws,children:[T$1.jsx("span",{style:Js}),l]},c)):n?(n=!1,T$1.jsx("sub",{children:l},c)):l)})}function Br(r){return Math.sqrt(r.reduce((n,o)=>n+o*o,0))}function zr(r,n){return r.reduce((o,l,c)=>o+l*n[c],0)}function Gs(r){return r[0].map((n,o)=>r.map(l=>l[o]))}function qs(r,n){return r.map(o=>o.map(l=>l*n))}function Ks(r){return Array.from({length:r},(n,o)=>Array.from({length:r},(l,c)=>o===c?1:0))}function $s(r,n){for(var o=[],l=0;l<r.length;l++){o[l]=[];for(var c=0;c<n[0].length;c++){for(var f=0,d=0;d<r[0].length;d++)f+=r[l][d]*n[d][c];o[l][c]=f}}return o}function Qs(r){const n=r.length,o=r.map(c=>Br(c)),l=Array.from({length:n},()=>Array(n).fill(0));for(let c=0;c<n;c++)for(let f=0;f<n;f++){if(c===f){l[c][f]=0;continue}const d=zr(r[c],r[f]),w=o[c],y=o[f];if(w>0&&y>0){let L=d/(w*y);L=Math.max(-1,Math.min(1,L));const G=Math.acos(L);l[c][f]=G*(180/Math.PI)}else l[c][f]=null}return{lengths:o,angles:l}}function Xs(r){const n=r.length,o=r.map(c=>c.slice()),l=Array.from({length:n},(c,f)=>Array.from({length:n},(d,w)=>f===w?1:0));for(let c=0;c<n;c++){let f=c;for(let w=c+1;w<n;w++)Math.abs(o[w][c])>Math.abs(o[f][c])&&(f=w);if([o[c],o[f]]=[o[f],o[c]],[l[c],l[f]]=[l[f],l[c]],o[c][c]===0)throw new Error("Matrix is singular and cannot be inverted.");const d=o[c][c];for(let w=0;w<n;w++)o[c][w]/=d,l[c][w]/=d;for(let w=0;w<n;w++){if(w===c)continue;const y=o[w][c];for(let L=0;L<n;L++)o[w][L]-=y*o[c][L],l[w][L]-=y*l[c][L]}}return l}function Lr(r){const n=r.length;if(n===1)return r[0][0];if(n===2)return r[0][0]*r[1][1]-r[0][1]*r[1][0];let o=0;for(let l=0;l<n;l++){const c=r.slice(1).map(d=>d.filter((w,y)=>y!==l)),f=l%2===0?1:-1;o+=f*r[0][l]*Lr(c)}return o}const Su=Object.freeze(Object.defineProperty({__proto__:null,determinant:Lr,dot:zr,getMatrixParams:Qs,identityMatrix:Ks,invertMatrix:Xs,multiplyMatrices:$s,norm:Br,scalarMultiply:qs,transpose:Gs},Symbol.toStringTag,{value:"Module"})),ta={Z:1,mz:1.00794},ea={Z:2,mz:4.002602},na={Z:3,mz:6.941},ra={Z:4,mz:9.012182},ia={Z:5,mz:10.811},oa={Z:6,mz:12.0107},sa={Z:7,mz:14.0067},aa={Z:8,mz:15.9994},ca={Z:9,mz:18.9984032},ua={Z:10,mz:20.1797},la={Z:11,mz:22.98976928},fa={Z:12,mz:24.305},da={Z:13,mz:26.9815386},pa={Z:14,mz:28.0855},ma={Z:15,mz:30.973762},ga={Z:16,mz:32.065},_a={Z:17,mz:35.453},va={Z:18,mz:39.948},ha={Z:19,mz:39.0983},ya={Z:20,mz:40.078},ba={Z:21,mz:44.955912},Pa={Z:22,mz:47.867},wa={Z:23,mz:50.9415},Ea={Z:24,mz:51.9961},xa={Z:25,mz:54.938045},Aa={Z:26,mz:55.845},Oa={Z:27,mz:58.933195},Ra={Z:28,mz:58.6934},Ca={Z:29,mz:63.546},Ta={Z:30,mz:65.409},Sa={Z:31,mz:69.723},ka={Z:32,mz:72.64},Ia={Z:33,mz:74.9216},ja={Z:34,mz:78.96},Da={Z:35,mz:79.904},Fa={Z:36,mz:83.798},Ma={Z:37,mz:85.4678},Ba={Z:38,mz:87.62},za={Z:39,mz:88.90585},La={Z:40,mz:91.224},Na={Z:41,mz:92.90638},Za={Z:42,mz:95.94},Ha={Z:43,mz:98},Ua={Z:44,mz:101.07},Ya={Z:45,mz:102.9055},Va={Z:46,mz:106.42},Wa={Z:47,mz:107.8682},Ja={Z:48,mz:112.411},Ga={Z:49,mz:114.818},qa={Z:50,mz:118.71},Ka={Z:51,mz:121.76},$a={Z:52,mz:127.6},Qa={Z:53,mz:126.90447},Xa={Z:54,mz:131.293},tc={Z:55,mz:132.9054519},ec={Z:56,mz:137.327},nc={Z:57,mz:138.90547},rc={Z:58,mz:140.116},ic={Z:59,mz:140.90765},oc={Z:60,mz:144.242},sc={Z:61,mz:145},ac={Z:62,mz:150.36},cc={Z:63,mz:151.964},uc={Z:64,mz:157.25},lc={Z:65,mz:158.92535},fc={Z:66,mz:162.5},dc={Z:67,mz:164.93032},pc={Z:68,mz:167.259},mc={Z:69,mz:168.93421},gc={Z:70,mz:173.04},_c={Z:71,mz:174.967},vc={Z:72,mz:178.49},hc={Z:73,mz:180.94788},yc={Z:74,mz:183.84},bc={Z:75,mz:186.207},Pc={Z:76,mz:190.23},wc={Z:77,mz:192.217},Ec={Z:78,mz:195.084},xc={Z:79,mz:196.966569},Ac={Z:80,mz:200.59},Oc={Z:81,mz:204.3833},Rc={Z:82,mz:207.2},Cc={Z:83,mz:208.9804},Tc$1={Z:84,mz:210},Sc$1={Z:85,mz:210},kc={Z:86,mz:220},Ic={Z:87,mz:223},jc={Z:88,mz:226},Dc$1={Z:89,mz:227},Fc={Z:90,mz:232.03806},Mc={Z:91,mz:231.03588},Bc={Z:92,mz:238.02891},zc={Z:93,mz:237},Lc={Z:94,mz:244},Nc={Z:95,mz:243},Zc={Z:96,mz:247},Hc={Z:97,mz:247},Uc={Z:98,mz:251},Yc={Z:99,mz:252},Vc={Z:100,mz:257},Wc={Z:101,mz:258},Jc={Z:102,mz:259},Gc={Z:103,mz:262},qc={Z:104,mz:267},Kc={Z:105,mz:268},$c={Z:106,mz:269},Qc={Z:107,mz:270},Xc={Z:108,mz:270},tu={Z:109,mz:278},eu={Z:110,mz:281},nu={Z:111,mz:282},ru={Z:112,mz:285},iu={Z:113,mz:286},ou={Z:114,mz:289},su={Z:115,mz:290},au={Z:116,mz:293},cu={Z:117,mz:294},uu={Z:118,mz:294},lu={H:ta,He:ea,Li:na,Be:ra,B:ia,C:oa,N:sa,O:aa,F:ca,Ne:ua,Na:la,Mg:fa,Al:da,Si:pa,P:ma,S:ga,Cl:_a,Ar:va,K:ha,Ca:ya,Sc:ba,Ti:Pa,V:wa,Cr:Ea,Mn:xa,Fe:Aa,Co:Oa,Ni:Ra,Cu:Ca,Zn:Ta,Ga:Sa,Ge:ka,As:Ia,Se:ja,Br:Da,Kr:Fa,Rb:Ma,Sr:Ba,Y:za,Zr:La,Nb:Na,Mo:Za,Tc:Ha,Ru:Ua,Rh:Ya,Pd:Va,Ag:Wa,Cd:Ja,In:Ga,Sn:qa,Sb:Ka,Te:$a,I:Qa,Xe:Xa,Cs:tc,Ba:ec,La:nc,Ce:rc,Pr:ic,Nd:oc,Pm:sc,Sm:ac,Eu:cc,Gd:uc,Tb:lc,Dy:fc,Ho:dc,Er:pc,Tm:mc,Yb:gc,Lu:_c,Hf:vc,Ta:hc,W:yc,Re:bc,Os:Pc,Ir:wc,Pt:Ec,Au:xc,Hg:Ac,Tl:Oc,Pb:Rc,Bi:Cc,Po:Tc$1,At:Sc$1,Rn:kc,Fr:Ic,Ra:jc,Ac:Dc$1,Th:Fc,Pa:Mc,U:Bc,Np:zc,Pu:Lc,Am:Nc,Cm:Zc,Bk:Hc,Cf:Uc,Es:Yc,Fm:Vc,Md:Wc,No:Jc,Lr:Gc,Rf:qc,Db:Kc,Sg:$c,Bh:Qc,Hs:Xc,Mt:tu,Ds:eu,Rg:nu,Cn:ru,Nh:iu,Fl:ou,Mc:su,Lv:au,Ts:cu,Og:uu};function fu(r){var n=r.split(/(?=[A-Z])/),o=0;return n.forEach(l=>{let c=l.match(/\d+/),f=c==null?1:parseInt(c[0]);o+=f}),o}function du(r){return r.split(/(?=[A-Z])/).length}function pu(r,n){var o=r.split(/(?=[A-Z])/);let l=0;return o.forEach(c=>{var f;const d=c.match(/([a-zA-Z]+)(\d*)/),w=d[1],y=parseInt(d[2]||"1"),L=((f=lu[w])==null?void 0:f.mz)||0;l+=L*y}),Math.round(l*1e4/(n.value*6.0223))}const ku=Object.freeze(Object.defineProperty({__proto__:null,calculateDensity:pu,countNumberOfAtoms:fu,countNumberOfElements:du},Symbol.toStringTag,{value:"Module"}));function ju(r){return r.includes("P")?[[1,0,0],[0,1,0],[0,0,1]]:r.includes("I")?[[0,1,1],[1,0,1],[1,1,0]]:r.includes("F")?[[-1,1,1],[1,-1,1],[1,1,-1]]:r.includes("A")?[[1,1,0],[-1,1,0],[0,0,1]]:r.includes("R")?[[-1,1,0],[1,1,-1],[1,1,1]]:r.includes("C")?r in["C2","CmCc","C2/m","C2/c"]?[[1,-1,0],[1,1,0],[0,0,1]]:[[1,-1,0],[1,1,0],[0,0,1]]:(console.log("Missing Space group data for:",r),[[1,0,0],[0,1,0],[0,0,1]])}function TitleAndLogo({titleString:r="Materials Cloud Three-Dimensional Structure Database (MC3D)",imgSrc:n=Mc3dLogo,doiId:o="rw-t0"}){return jsxRuntimeExports.jsxs("div",{className:"title-and-logo",children:[jsxRuntimeExports.jsxs("div",{className:"title-and-doi",children:[jsxRuntimeExports.jsx("span",{className:"title-span",children:r}),jsxRuntimeExports.jsx("div",{style:{marginLeft:"4px"},children:jsxRuntimeExports.jsx(wu,{doi_id:o,label:"Data DOI"})})]}),jsxRuntimeExports.jsx("img",{src:n,className:"mc3d-logo",alt:"MC3D Logo"})]})}function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(r){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var l in o)({}).hasOwnProperty.call(o,l)&&(r[l]=o[l])}return r},_extends$1.apply(null,arguments)}function _objectWithoutPropertiesLoose$6(r,n){if(r==null)return{};var o={};for(var l in r)if({}.hasOwnProperty.call(r,l)){if(n.indexOf(l)!==-1)continue;o[l]=r[l]}return o}function defaultKey(r){return"default"+r.charAt(0).toUpperCase()+r.substr(1)}function _toPropertyKey$1(r){var n=_toPrimitive$1(r,"string");return typeof n=="symbol"?n:String(n)}function _toPrimitive$1(r,n){if(typeof r!="object"||r===null)return r;var o=r[Symbol.toPrimitive];if(o!==void 0){var l=o.call(r,n);if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function useUncontrolledProp$1(r,n,o){var l=reactExports.useRef(r!==void 0),c=reactExports.useState(n),f=c[0],d=c[1],w=r!==void 0,y=l.current;return l.current=w,!w&&y&&f!==n&&d(n),[w?r:f,reactExports.useCallback(function(L){for(var G=arguments.length,H=new Array(G>1?G-1:0),ce=1;ce<G;ce++)H[ce-1]=arguments[ce];o&&o.apply(void 0,[L].concat(H)),d(L)},[o])]}function useUncontrolled(r,n){return Object.keys(n).reduce(function(o,l){var c,f=o,d=f[defaultKey(l)],w=f[l],y=_objectWithoutPropertiesLoose$6(f,[defaultKey(l),l].map(_toPropertyKey$1)),L=n[l],G=useUncontrolledProp$1(w,d,r[L]),H=G[0],ce=G[1];return _extends$1({},y,(c={},c[l]=H,c[L]=ce,c))},r)}function _setPrototypeOf(r,n){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},_setPrototypeOf(r,n)}function _inheritsLoose(r,n){r.prototype=Object.create(n.prototype),r.prototype.constructor=r,_setPrototypeOf(r,n)}function ownerDocument(r){return r&&r.ownerDocument||document}function ownerWindow(r){var n=ownerDocument(r);return n&&n.defaultView||window}function getComputedStyle$1(r,n){return ownerWindow(r).getComputedStyle(r,n)}var rUpper=/([A-Z])/g;function hyphenate$1(r){return r.replace(rUpper,"-$1").toLowerCase()}var msPattern=/^ms-/;function hyphenateStyleName(r){return hyphenate$1(r).replace(msPattern,"-ms-")}var supportedTransforms=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function isTransform(r){return!!(r&&supportedTransforms.test(r))}function style$1(r,n){var o="",l="";if(typeof n=="string")return r.style.getPropertyValue(hyphenateStyleName(n))||getComputedStyle$1(r).getPropertyValue(hyphenateStyleName(n));Object.keys(n).forEach(function(c){var f=n[c];!f&&f!==0?r.style.removeProperty(hyphenateStyleName(c)):isTransform(c)?l+=c+"("+f+") ":o+=hyphenateStyleName(c)+": "+f+";"}),l&&(o+="transform: "+l+";"),r.style.cssText+=";"+o}var propTypes$3={exports:{}},ReactPropTypesSecret_1,hasRequiredReactPropTypesSecret;function requireReactPropTypesSecret(){if(hasRequiredReactPropTypesSecret)return ReactPropTypesSecret_1;hasRequiredReactPropTypesSecret=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ReactPropTypesSecret_1=r,ReactPropTypesSecret_1}var factoryWithThrowingShims,hasRequiredFactoryWithThrowingShims;function requireFactoryWithThrowingShims(){if(hasRequiredFactoryWithThrowingShims)return factoryWithThrowingShims;hasRequiredFactoryWithThrowingShims=1;var r=requireReactPropTypesSecret();function n(){}function o(){}return o.resetWarningCache=n,factoryWithThrowingShims=function(){function l(d,w,y,L,G,H){if(H!==r){var ce=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw ce.name="Invariant Violation",ce}}l.isRequired=l;function c(){return l}var f={array:l,bigint:l,bool:l,func:l,number:l,object:l,string:l,symbol:l,any:l,arrayOf:c,element:l,elementType:l,instanceOf:c,node:l,objectOf:c,oneOf:c,oneOfType:c,shape:c,exact:c,checkPropTypes:o,resetWarningCache:n};return f.PropTypes=f,f},factoryWithThrowingShims}var hasRequiredPropTypes;function requirePropTypes(){return hasRequiredPropTypes||(hasRequiredPropTypes=1,propTypes$3.exports=requireFactoryWithThrowingShims()()),propTypes$3.exports}var propTypesExports=requirePropTypes();const PropTypes=getDefaultExportFromCjs(propTypesExports),config={disabled:!1},TransitionGroupContext=React.createContext(null);var forceReflow=function(n){return n.scrollTop},UNMOUNTED="unmounted",EXITED="exited",ENTERING="entering",ENTERED="entered",EXITING="exiting",Transition=(function(r){_inheritsLoose(n,r);function n(l,c){var f;f=r.call(this,l,c)||this;var d=c,w=d&&!d.isMounting?l.enter:l.appear,y;return f.appearStatus=null,l.in?w?(y=EXITED,f.appearStatus=ENTERING):y=ENTERED:l.unmountOnExit||l.mountOnEnter?y=UNMOUNTED:y=EXITED,f.state={status:y},f.nextCallback=null,f}n.getDerivedStateFromProps=function(c,f){var d=c.in;return d&&f.status===UNMOUNTED?{status:EXITED}:null};var o=n.prototype;return o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(c){var f=null;if(c!==this.props){var d=this.state.status;this.props.in?d!==ENTERING&&d!==ENTERED&&(f=ENTERING):(d===ENTERING||d===ENTERED)&&(f=EXITING)}this.updateStatus(!1,f)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var c=this.props.timeout,f,d,w;return f=d=w=c,c!=null&&typeof c!="number"&&(f=c.exit,d=c.enter,w=c.appear!==void 0?c.appear:d),{exit:f,enter:d,appear:w}},o.updateStatus=function(c,f){if(c===void 0&&(c=!1),f!==null)if(this.cancelNextCallback(),f===ENTERING){if(this.props.unmountOnExit||this.props.mountOnEnter){var d=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this);d&&forceReflow(d)}this.performEnter(c)}else this.performExit();else this.props.unmountOnExit&&this.state.status===EXITED&&this.setState({status:UNMOUNTED})},o.performEnter=function(c){var f=this,d=this.props.enter,w=this.context?this.context.isMounting:c,y=this.props.nodeRef?[w]:[ReactDOM.findDOMNode(this),w],L=y[0],G=y[1],H=this.getTimeouts(),ce=w?H.appear:H.enter;if(!c&&!d||config.disabled){this.safeSetState({status:ENTERED},function(){f.props.onEntered(L)});return}this.props.onEnter(L,G),this.safeSetState({status:ENTERING},function(){f.props.onEntering(L,G),f.onTransitionEnd(ce,function(){f.safeSetState({status:ENTERED},function(){f.props.onEntered(L,G)})})})},o.performExit=function(){var c=this,f=this.props.exit,d=this.getTimeouts(),w=this.props.nodeRef?void 0:ReactDOM.findDOMNode(this);if(!f||config.disabled){this.safeSetState({status:EXITED},function(){c.props.onExited(w)});return}this.props.onExit(w),this.safeSetState({status:EXITING},function(){c.props.onExiting(w),c.onTransitionEnd(d.exit,function(){c.safeSetState({status:EXITED},function(){c.props.onExited(w)})})})},o.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(c,f){f=this.setNextCallback(f),this.setState(c,f)},o.setNextCallback=function(c){var f=this,d=!0;return this.nextCallback=function(w){d&&(d=!1,f.nextCallback=null,c(w))},this.nextCallback.cancel=function(){d=!1},this.nextCallback},o.onTransitionEnd=function(c,f){this.setNextCallback(f);var d=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this),w=c==null&&!this.props.addEndListener;if(!d||w){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var y=this.props.nodeRef?[this.nextCallback]:[d,this.nextCallback],L=y[0],G=y[1];this.props.addEndListener(L,G)}c!=null&&setTimeout(this.nextCallback,c)},o.render=function(){var c=this.state.status;if(c===UNMOUNTED)return null;var f=this.props,d=f.children;f.in,f.mountOnEnter,f.unmountOnExit,f.appear,f.enter,f.exit,f.timeout,f.addEndListener,f.onEnter,f.onEntering,f.onEntered,f.onExit,f.onExiting,f.onExited,f.nodeRef;var w=_objectWithoutPropertiesLoose$6(f,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return React.createElement(TransitionGroupContext.Provider,{value:null},typeof d=="function"?d(c,w):React.cloneElement(React.Children.only(d),w))},n})(React.Component);Transition.contextType=TransitionGroupContext;Transition.propTypes={};function noop$1(){}Transition.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:noop$1,onEntering:noop$1,onEntered:noop$1,onExit:noop$1,onExiting:noop$1,onExited:noop$1};Transition.UNMOUNTED=UNMOUNTED;Transition.EXITED=EXITED;Transition.ENTERING=ENTERING;Transition.ENTERED=ENTERED;Transition.EXITING=EXITING;function getReactVersion(){const r=reactExports.version.split(".");return{major:+r[0],minor:+r[1],patch:+r[2]}}function getChildRef(r){if(!r||typeof r=="function")return null;const{major:n}=getReactVersion();return n>=19?r.props.ref:r.ref}const canUseDOM=!!(typeof window<"u"&&window.document&&window.document.createElement);var optionsSupported=!1,onceSupported=!1;try{var options={get passive(){return optionsSupported=!0},get once(){return onceSupported=optionsSupported=!0}};canUseDOM&&(window.addEventListener("test",options,options),window.removeEventListener("test",options,!0))}catch{}function addEventListener(r,n,o,l){if(l&&typeof l!="boolean"&&!onceSupported){var c=l.once,f=l.capture,d=o;!onceSupported&&c&&(d=o.__once||function w(y){this.removeEventListener(n,w,f),o.call(this,y)},o.__once=d),r.addEventListener(n,d,optionsSupported?l:f)}r.addEventListener(n,o,l)}function removeEventListener(r,n,o,l){var c=l&&typeof l!="boolean"?l.capture:l;r.removeEventListener(n,o,c),o.__once&&r.removeEventListener(n,o.__once,c)}function listen(r,n,o,l){return addEventListener(r,n,o,l),function(){removeEventListener(r,n,o,l)}}function triggerEvent(r,n,o,l){if(l===void 0&&(l=!0),r){var c=document.createEvent("HTMLEvents");c.initEvent(n,o,l),r.dispatchEvent(c)}}function parseDuration$1(r){var n=style$1(r,"transitionDuration")||"",o=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*o}function emulateTransitionEnd(r,n,o){o===void 0&&(o=5);var l=!1,c=setTimeout(function(){l||triggerEvent(r,"transitionend",!0)},n+o),f=listen(r,"transitionend",function(){l=!0},{once:!0});return function(){clearTimeout(c),f()}}function transitionEnd(r,n,o,l){o==null&&(o=parseDuration$1(r)||0);var c=emulateTransitionEnd(r,o,l),f=listen(r,"transitionend",n);return function(){c(),f()}}function parseDuration(r,n){const o=style$1(r,n)||"",l=o.indexOf("ms")===-1?1e3:1;return parseFloat(o)*l}function transitionEndListener(r,n){const o=parseDuration(r,"transitionDuration"),l=parseDuration(r,"transitionDelay"),c=transitionEnd(r,f=>{f.target===r&&(c(),n(f))},o+l)}function triggerBrowserReflow(r){r.offsetHeight}const toFnRef$1=r=>!r||typeof r=="function"?r:n=>{r.current=n};function mergeRefs$1(r,n){const o=toFnRef$1(r),l=toFnRef$1(n);return c=>{o&&o(c),l&&l(c)}}function useMergedRefs$1(r,n){return reactExports.useMemo(()=>mergeRefs$1(r,n),[r,n])}function safeFindDOMNode(r){return r&&"setState"in r?ReactDOM.findDOMNode(r):r??null}const TransitionWrapper=React.forwardRef(({onEnter:r,onEntering:n,onEntered:o,onExit:l,onExiting:c,onExited:f,addEndListener:d,children:w,childRef:y,...L},G)=>{const H=reactExports.useRef(null),ce=useMergedRefs$1(H,y),ie=Al=>{ce(safeFindDOMNode(Al))},Et=Al=>vu=>{Al&&H.current&&Al(H.current,vu)},zn=reactExports.useCallback(Et(r),[r]),$l=reactExports.useCallback(Et(n),[n]),zl=reactExports.useCallback(Et(o),[o]),Hl=reactExports.useCallback(Et(l),[l]),Ft=reactExports.useCallback(Et(c),[c]),El=reactExports.useCallback(Et(f),[f]),Kl=reactExports.useCallback(Et(d),[d]);return jsxRuntimeExports.jsx(Transition,{ref:G,...L,onEnter:zn,onEntered:zl,onEntering:$l,onExit:Hl,onExited:El,onExiting:Ft,addEndListener:Kl,nodeRef:H,children:typeof w=="function"?(Al,vu)=>w(Al,{...vu,ref:ie}):React.cloneElement(w,{ref:ie})})});TransitionWrapper.displayName="TransitionWrapper";function useCommittedRef(r){const n=reactExports.useRef(r);return reactExports.useEffect(()=>{n.current=r},[r]),n}function useEventCallback(r){const n=useCommittedRef(r);return reactExports.useCallback(function(...o){return n.current&&n.current(...o)},[n])}const _excluded$5=["as","disabled"];function _objectWithoutPropertiesLoose$5(r,n){if(r==null)return{};var o={};for(var l in r)if({}.hasOwnProperty.call(r,l)){if(n.indexOf(l)>=0)continue;o[l]=r[l]}return o}function isTrivialHref$1(r){return!r||r.trim()==="#"}function useButtonProps({tagName:r,disabled:n,href:o,target:l,rel:c,role:f,onClick:d,tabIndex:w=0,type:y}){r||(o!=null||l!=null||c!=null?r="a":r="button");const L={tagName:r};if(r==="button")return[{type:y||"button",disabled:n},L];const G=ce=>{if((n||r==="a"&&isTrivialHref$1(o))&&ce.preventDefault(),n){ce.stopPropagation();return}d?.(ce)},H=ce=>{ce.key===" "&&(ce.preventDefault(),G(ce))};return r==="a"&&(o||(o="#"),n&&(o=void 0)),[{role:f??"button",disabled:void 0,tabIndex:n?void 0:w,href:o,target:r==="a"?l:void 0,"aria-disabled":n||void 0,rel:r==="a"?c:void 0,onClick:G,onKeyDown:H},L]}const Button$1=reactExports.forwardRef((r,n)=>{let{as:o,disabled:l}=r,c=_objectWithoutPropertiesLoose$5(r,_excluded$5);const[f,{tagName:d}]=useButtonProps(Object.assign({tagName:o,disabled:l},c));return jsxRuntimeExports.jsx(d,Object.assign({},c,f,{ref:n}))});Button$1.displayName="Button";const _excluded$4=["onKeyDown"];function _objectWithoutPropertiesLoose$4(r,n){if(r==null)return{};var o={};for(var l in r)if({}.hasOwnProperty.call(r,l)){if(n.indexOf(l)>=0)continue;o[l]=r[l]}return o}function isTrivialHref(r){return!r||r.trim()==="#"}const Anchor$1=reactExports.forwardRef((r,n)=>{let{onKeyDown:o}=r,l=_objectWithoutPropertiesLoose$4(r,_excluded$4);const[c]=useButtonProps(Object.assign({tagName:"a"},l)),f=useEventCallback(d=>{c.onKeyDown(d),o?.(d)});return isTrivialHref(l.href)||l.role==="button"?jsxRuntimeExports.jsx("a",Object.assign({ref:n},l,c,{onKeyDown:f})):jsxRuntimeExports.jsx("a",Object.assign({ref:n},l,{onKeyDown:o}))});Anchor$1.displayName="Anchor";const fadeStyles={[ENTERING]:"show",[ENTERED]:"show"},Fade=reactExports.forwardRef(({className:r,children:n,transitionClasses:o={},onEnter:l,...c},f)=>{const d={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...c},w=reactExports.useCallback((y,L)=>{triggerBrowserReflow(y),l?.(y,L)},[l]);return jsxRuntimeExports.jsx(TransitionWrapper,{ref:f,addEndListener:transitionEndListener,...d,onEnter:w,childRef:getChildRef(n),children:(y,L)=>reactExports.cloneElement(n,{...L,className:classNames("fade",r,n.props.className,fadeStyles[y],o[y])})})});Fade.displayName="Fade";const Button=reactExports.forwardRef(({as:r,bsPrefix:n,variant:o="primary",size:l,active:c=!1,disabled:f=!1,className:d,...w},y)=>{const L=useBootstrapPrefix(n,"btn"),[G,{tagName:H}]=useButtonProps({tagName:r,disabled:f,...w}),ce=H;return jsxRuntimeExports.jsx(ce,{...G,...w,ref:y,disabled:f,className:classNames(d,L,c&&"active",o&&`${L}-${o}`,l&&`${L}-${l}`,w.href&&f&&"disabled")})});Button.displayName="Button";const context$1=reactExports.createContext(null);context$1.displayName="CardHeaderContext";function map$2(r,n){let o=0;return reactExports.Children.map(r,l=>reactExports.isValidElement(l)?n(l,o++):l)}function forEach(r,n){let o=0;reactExports.Children.forEach(r,l=>{reactExports.isValidElement(l)&&n(l,o++)})}function hasChildOfType(r,n){return reactExports.Children.toArray(r).some(o=>reactExports.isValidElement(o)&&o.type===n)}function useCol({as:r,bsPrefix:n,className:o,...l}){n=useBootstrapPrefix(n,"col");const c=useBootstrapBreakpoints(),f=useBootstrapMinBreakpoint(),d=[],w=[];return c.forEach(y=>{const L=l[y];delete l[y];let G,H,ce;typeof L=="object"&&L!=null?{span:G,offset:H,order:ce}=L:G=L;const ie=y!==f?`-${y}`:"";G&&d.push(G===!0?`${n}${ie}`:`${n}${ie}-${G}`),ce!=null&&w.push(`order${ie}-${ce}`),H!=null&&w.push(`offset${ie}-${H}`)}),[{...l,className:classNames(o,...d,...w)},{as:r,bsPrefix:n,spans:d}]}const Col=reactExports.forwardRef((r,n)=>{const[{className:o,...l},{as:c="div",bsPrefix:f,spans:d}]=useCol(r);return jsxRuntimeExports.jsx(c,{...l,ref:n,className:classNames(o,!d.length&&f)})});Col.displayName="Col";const Container=reactExports.forwardRef(({bsPrefix:r,fluid:n=!1,as:o="div",className:l,...c},f)=>{const d=useBootstrapPrefix(r,"container"),w=typeof n=="string"?`-${n}`:"-fluid";return jsxRuntimeExports.jsx(o,{ref:f,...c,className:classNames(l,n?`${d}${w}`:d)})});Container.displayName="Container";var toArray=Function.prototype.bind.call(Function.prototype.call,[].slice);function qsa(r,n){return toArray(r.querySelectorAll(n))}function useUncontrolledProp(r,n,o){const l=reactExports.useRef(r!==void 0),[c,f]=reactExports.useState(n),d=r!==void 0,w=l.current;return l.current=d,!d&&w&&c!==n&&f(n),[d?r:c,reactExports.useCallback((...y)=>{const[L,...G]=y;let H=o?.(L,...G);return f(L),H},[o])]}function useForceUpdate(){const[,r]=reactExports.useReducer(n=>n+1,0);return r}const $b5e257d569688ac6$var$defaultContext={prefix:String(Math.round(Math.random()*1e10)),current:0},$b5e257d569688ac6$var$SSRContext=React.createContext($b5e257d569688ac6$var$defaultContext),$b5e257d569688ac6$var$IsSSRContext=React.createContext(!1);let $b5e257d569688ac6$var$componentIds=new WeakMap;function $b5e257d569688ac6$var$useCounter(r=!1){let n=reactExports.useContext($b5e257d569688ac6$var$SSRContext),o=reactExports.useRef(null);if(o.current===null&&!r){var l,c;let f=(c=React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||c===void 0||(l=c.ReactCurrentOwner)===null||l===void 0?void 0:l.current;if(f){let d=$b5e257d569688ac6$var$componentIds.get(f);d==null?$b5e257d569688ac6$var$componentIds.set(f,{id:n.current,state:f.memoizedState}):f.memoizedState!==d.state&&(n.current=d.id,$b5e257d569688ac6$var$componentIds.delete(f))}o.current=++n.current}return o.current}function $b5e257d569688ac6$var$useLegacySSRSafeId(r){let n=reactExports.useContext($b5e257d569688ac6$var$SSRContext),o=$b5e257d569688ac6$var$useCounter(!!r),l=`react-aria${n.prefix}`;return r||`${l}-${o}`}function $b5e257d569688ac6$var$useModernSSRSafeId(r){let n=React.useId(),[o]=reactExports.useState($b5e257d569688ac6$export$535bd6ca7f90a273()),l=o?"react-aria":`react-aria${$b5e257d569688ac6$var$defaultContext.prefix}`;return r||`${l}-${n}`}const $b5e257d569688ac6$export$619500959fc48b26=typeof React.useId=="function"?$b5e257d569688ac6$var$useModernSSRSafeId:$b5e257d569688ac6$var$useLegacySSRSafeId;function $b5e257d569688ac6$var$getSnapshot(){return!1}function $b5e257d569688ac6$var$getServerSnapshot(){return!0}function $b5e257d569688ac6$var$subscribe(r){return()=>{}}function $b5e257d569688ac6$export$535bd6ca7f90a273(){return typeof React.useSyncExternalStore=="function"?React.useSyncExternalStore($b5e257d569688ac6$var$subscribe,$b5e257d569688ac6$var$getSnapshot,$b5e257d569688ac6$var$getServerSnapshot):reactExports.useContext($b5e257d569688ac6$var$IsSSRContext)}const SelectableContext=reactExports.createContext(null),makeEventKey=(r,n=null)=>r!=null?String(r):n||null,NavContext=reactExports.createContext(null);NavContext.displayName="NavContext";const ATTRIBUTE_PREFIX="data-rr-ui-",PROPERTY_PREFIX="rrUi";function dataAttr(r){return`${ATTRIBUTE_PREFIX}${r}`}function dataProp(r){return`${PROPERTY_PREFIX}${r}`}const context=reactExports.createContext(null);context.displayName="NavbarContext";const propTypes$2={type:PropTypes.string,tooltip:PropTypes.bool,as:PropTypes.elementType},Feedback=reactExports.forwardRef(({as:r="div",className:n,type:o="valid",tooltip:l=!1,...c},f)=>jsxRuntimeExports.jsx(r,{...c,ref:f,className:classNames(n,`${o}-${l?"tooltip":"feedback"}`)}));Feedback.displayName="Feedback";Feedback.propTypes=propTypes$2;const FormContext=reactExports.createContext({}),FormCheckInput=reactExports.forwardRef(({id:r,bsPrefix:n,className:o,type:l="checkbox",isValid:c=!1,isInvalid:f=!1,as:d="input",...w},y)=>{const{controlId:L}=reactExports.useContext(FormContext);return n=useBootstrapPrefix(n,"form-check-input"),jsxRuntimeExports.jsx(d,{...w,ref:y,type:l,id:r||L,className:classNames(o,n,c&&"is-valid",f&&"is-invalid")})});FormCheckInput.displayName="FormCheckInput";const FormCheckLabel=reactExports.forwardRef(({bsPrefix:r,className:n,htmlFor:o,...l},c)=>{const{controlId:f}=reactExports.useContext(FormContext);return r=useBootstrapPrefix(r,"form-check-label"),jsxRuntimeExports.jsx("label",{...l,ref:c,htmlFor:o||f,className:classNames(n,r)})});FormCheckLabel.displayName="FormCheckLabel";const FormCheck=reactExports.forwardRef(({id:r,bsPrefix:n,bsSwitchPrefix:o,inline:l=!1,reverse:c=!1,disabled:f=!1,isValid:d=!1,isInvalid:w=!1,feedbackTooltip:y=!1,feedback:L,feedbackType:G,className:H,style:ce,title:ie="",type:Et="checkbox",label:zn,children:$l,as:zl="input",...Hl},Ft)=>{n=useBootstrapPrefix(n,"form-check"),o=useBootstrapPrefix(o,"form-switch");const{controlId:El}=reactExports.useContext(FormContext),Kl=reactExports.useMemo(()=>({controlId:r||El}),[El,r]),Al=!$l&&zn!=null&&zn!==!1||hasChildOfType($l,FormCheckLabel),vu=jsxRuntimeExports.jsx(FormCheckInput,{...Hl,type:Et==="switch"?"checkbox":Et,ref:Ft,isValid:d,isInvalid:w,disabled:f,as:zl});return jsxRuntimeExports.jsx(FormContext.Provider,{value:Kl,children:jsxRuntimeExports.jsx("div",{style:ce,className:classNames(H,Al&&n,l&&`${n}-inline`,c&&`${n}-reverse`,Et==="switch"&&o),children:$l||jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[vu,Al&&jsxRuntimeExports.jsx(FormCheckLabel,{title:ie,children:zn}),L&&jsxRuntimeExports.jsx(Feedback,{type:G,tooltip:y,children:L})]})})})});FormCheck.displayName="FormCheck";const FormCheck$1=Object.assign(FormCheck,{Input:FormCheckInput,Label:FormCheckLabel}),FormControl=reactExports.forwardRef(({bsPrefix:r,type:n,size:o,htmlSize:l,id:c,className:f,isValid:d=!1,isInvalid:w=!1,plaintext:y,readOnly:L,as:G="input",...H},ce)=>{const{controlId:ie}=reactExports.useContext(FormContext);return r=useBootstrapPrefix(r,"form-control"),jsxRuntimeExports.jsx(G,{...H,type:n,size:l,ref:ce,readOnly:L,id:c||ie,className:classNames(f,y?`${r}-plaintext`:r,o&&`${r}-${o}`,n==="color"&&`${r}-color`,d&&"is-valid",w&&"is-invalid")})});FormControl.displayName="FormControl";const FormControl$1=Object.assign(FormControl,{Feedback}),FormFloating=reactExports.forwardRef(({className:r,bsPrefix:n,as:o="div",...l},c)=>(n=useBootstrapPrefix(n,"form-floating"),jsxRuntimeExports.jsx(o,{ref:c,className:classNames(r,n),...l})));FormFloating.displayName="FormFloating";const FormGroup=reactExports.forwardRef(({controlId:r,as:n="div",...o},l)=>{const c=reactExports.useMemo(()=>({controlId:r}),[r]);return jsxRuntimeExports.jsx(FormContext.Provider,{value:c,children:jsxRuntimeExports.jsx(n,{...o,ref:l})})});FormGroup.displayName="FormGroup";const FormLabel=reactExports.forwardRef(({as:r="label",bsPrefix:n,column:o=!1,visuallyHidden:l=!1,className:c,htmlFor:f,...d},w)=>{const{controlId:y}=reactExports.useContext(FormContext);n=useBootstrapPrefix(n,"form-label");let L="col-form-label";typeof o=="string"&&(L=`${L} ${L}-${o}`);const G=classNames(c,n,l&&"visually-hidden",o&&L);return f=f||y,o?jsxRuntimeExports.jsx(Col,{ref:w,as:"label",className:G,htmlFor:f,...d}):jsxRuntimeExports.jsx(r,{ref:w,className:G,htmlFor:f,...d})});FormLabel.displayName="FormLabel";const FormRange=reactExports.forwardRef(({bsPrefix:r,className:n,id:o,...l},c)=>{const{controlId:f}=reactExports.useContext(FormContext);return r=useBootstrapPrefix(r,"form-range"),jsxRuntimeExports.jsx("input",{...l,type:"range",ref:c,className:classNames(n,r),id:o||f})});FormRange.displayName="FormRange";const FormSelect=reactExports.forwardRef(({bsPrefix:r,size:n,htmlSize:o,className:l,isValid:c=!1,isInvalid:f=!1,id:d,...w},y)=>{const{controlId:L}=reactExports.useContext(FormContext);return r=useBootstrapPrefix(r,"form-select"),jsxRuntimeExports.jsx("select",{...w,size:o,ref:y,className:classNames(l,r,n&&`${r}-${n}`,c&&"is-valid",f&&"is-invalid"),id:d||L})});FormSelect.displayName="FormSelect";const FormText=reactExports.forwardRef(({bsPrefix:r,className:n,as:o="small",muted:l,...c},f)=>(r=useBootstrapPrefix(r,"form-text"),jsxRuntimeExports.jsx(o,{...c,ref:f,className:classNames(n,r,l&&"text-muted")})));FormText.displayName="FormText";const Switch=reactExports.forwardRef((r,n)=>jsxRuntimeExports.jsx(FormCheck$1,{...r,ref:n,type:"switch"}));Switch.displayName="Switch";const Switch$1=Object.assign(Switch,{Input:FormCheck$1.Input,Label:FormCheck$1.Label}),FloatingLabel=reactExports.forwardRef(({bsPrefix:r,className:n,children:o,controlId:l,label:c,...f},d)=>(r=useBootstrapPrefix(r,"form-floating"),jsxRuntimeExports.jsxs(FormGroup,{ref:d,className:classNames(n,r),controlId:l,...f,children:[o,jsxRuntimeExports.jsx("label",{htmlFor:l,children:c})]})));FloatingLabel.displayName="FloatingLabel";const propTypes$1={_ref:PropTypes.any,validated:PropTypes.bool,as:PropTypes.elementType},Form=reactExports.forwardRef(({className:r,validated:n,as:o="form",...l},c)=>jsxRuntimeExports.jsx(o,{...l,ref:c,className:classNames(r,n&&"was-validated")}));Form.displayName="Form";Form.propTypes=propTypes$1;const Form$1=Object.assign(Form,{Group:FormGroup,Control:FormControl$1,Floating:FormFloating,Check:FormCheck$1,Switch:Switch$1,Label:FormLabel,Text:FormText,Range:FormRange,Select:FormSelect,FloatingLabel}),toFnRef=r=>!r||typeof r=="function"?r:n=>{r.current=n};function mergeRefs(r,n){const o=toFnRef(r),l=toFnRef(n);return c=>{o&&o(c),l&&l(c)}}function useMergedRefs(r,n){return reactExports.useMemo(()=>mergeRefs(r,n),[r,n])}const TabContext=reactExports.createContext(null),_excluded$3=["as","active","eventKey"];function _objectWithoutPropertiesLoose$3(r,n){if(r==null)return{};var o={};for(var l in r)if({}.hasOwnProperty.call(r,l)){if(n.indexOf(l)>=0)continue;o[l]=r[l]}return o}function useNavItem({key:r,onClick:n,active:o,id:l,role:c,disabled:f}){const d=reactExports.useContext(SelectableContext),w=reactExports.useContext(NavContext),y=reactExports.useContext(TabContext);let L=o;const G={role:c};if(w){!c&&w.role==="tablist"&&(G.role="tab");const H=w.getControllerId(r??null),ce=w.getControlledId(r??null);G[dataAttr("event-key")]=r,G.id=H||l,L=o==null&&r!=null?w.activeKey===r:o,(L||!(y!=null&&y.unmountOnExit)&&!(y!=null&&y.mountOnEnter))&&(G["aria-controls"]=ce)}return G.role==="tab"&&(G["aria-selected"]=L,L||(G.tabIndex=-1),f&&(G.tabIndex=-1,G["aria-disabled"]=!0)),G.onClick=useEventCallback(H=>{f||(n?.(H),r!=null&&d&&!H.isPropagationStopped()&&d(r,H))}),[G,{isActive:L}]}const NavItem$1=reactExports.forwardRef((r,n)=>{let{as:o=Button$1,active:l,eventKey:c}=r,f=_objectWithoutPropertiesLoose$3(r,_excluded$3);const[d,w]=useNavItem(Object.assign({key:makeEventKey(c,f.href),active:l},f));return d[dataAttr("active")]=w.isActive,jsxRuntimeExports.jsx(o,Object.assign({},f,d,{ref:n}))});NavItem$1.displayName="NavItem";const _excluded$2=["as","onSelect","activeKey","role","onKeyDown"];function _objectWithoutPropertiesLoose$2(r,n){if(r==null)return{};var o={};for(var l in r)if({}.hasOwnProperty.call(r,l)){if(n.indexOf(l)>=0)continue;o[l]=r[l]}return o}const noop=()=>{},EVENT_KEY_ATTR=dataAttr("event-key"),Nav$2=reactExports.forwardRef((r,n)=>{let{as:o="div",onSelect:l,activeKey:c,role:f,onKeyDown:d}=r,w=_objectWithoutPropertiesLoose$2(r,_excluded$2);const y=useForceUpdate(),L=reactExports.useRef(!1),G=reactExports.useContext(SelectableContext),H=reactExports.useContext(TabContext);let ce,ie;H&&(f=f||"tablist",c=H.activeKey,ce=H.getControlledId,ie=H.getControllerId);const Et=reactExports.useRef(null),zn=Ft=>{const El=Et.current;if(!El)return null;const Kl=qsa(El,`[${EVENT_KEY_ATTR}]:not([aria-disabled=true])`),Al=El.querySelector("[aria-selected=true]");if(!Al||Al!==document.activeElement)return null;const vu=Kl.indexOf(Al);if(vu===-1)return null;let Nl=vu+Ft;return Nl>=Kl.length&&(Nl=0),Nl<0&&(Nl=Kl.length-1),Kl[Nl]},$l=(Ft,El)=>{Ft!=null&&(l?.(Ft,El),G?.(Ft,El))},zl=Ft=>{if(d?.(Ft),!H)return;let El;switch(Ft.key){case"ArrowLeft":case"ArrowUp":El=zn(-1);break;case"ArrowRight":case"ArrowDown":El=zn(1);break;default:return}El&&(Ft.preventDefault(),$l(El.dataset[dataProp("EventKey")]||null,Ft),L.current=!0,y())};reactExports.useEffect(()=>{if(Et.current&&L.current){const Ft=Et.current.querySelector(`[${EVENT_KEY_ATTR}][aria-selected=true]`);Ft?.focus()}L.current=!1});const Hl=useMergedRefs(n,Et);return jsxRuntimeExports.jsx(SelectableContext.Provider,{value:$l,children:jsxRuntimeExports.jsx(NavContext.Provider,{value:{role:f,activeKey:makeEventKey(c),getControlledId:ce||noop,getControllerId:ie||noop},children:jsxRuntimeExports.jsx(o,Object.assign({},w,{onKeyDown:zl,ref:Hl,role:f}))})})});Nav$2.displayName="Nav";const BaseNav=Object.assign(Nav$2,{Item:NavItem$1});function NoopTransition({children:r,in:n,onExited:o,mountOnEnter:l,unmountOnExit:c}){const f=reactExports.useRef(null),d=reactExports.useRef(n),w=useEventCallback(o);reactExports.useEffect(()=>{n?d.current=!0:w(f.current)},[n,w]);const y=useMergedRefs(f,getChildRef(r)),L=reactExports.cloneElement(r,{ref:y});return n?L:c||!d.current&&l?null:L}const NavItem=reactExports.forwardRef(({className:r,bsPrefix:n,as:o="div",...l},c)=>(n=useBootstrapPrefix(n,"nav-item"),jsxRuntimeExports.jsx(o,{ref:c,className:classNames(r,n),...l})));NavItem.displayName="NavItem";const NavLink=reactExports.forwardRef(({bsPrefix:r,className:n,as:o=Anchor$1,active:l,eventKey:c,disabled:f=!1,...d},w)=>{r=useBootstrapPrefix(r,"nav-link");const[y,L]=useNavItem({key:makeEventKey(c,d.href),active:l,disabled:f,...d});return jsxRuntimeExports.jsx(o,{...d,...y,ref:w,disabled:f,className:classNames(n,r,f&&"disabled",L.isActive&&"active")})});NavLink.displayName="NavLink";const Nav=reactExports.forwardRef((r,n)=>{const{as:o="div",bsPrefix:l,variant:c,fill:f=!1,justify:d=!1,navbar:w,navbarScroll:y,className:L,activeKey:G,...H}=useUncontrolled(r,{activeKey:"onSelect"}),ce=useBootstrapPrefix(l,"nav");let ie,Et,zn=!1;const $l=reactExports.useContext(context),zl=reactExports.useContext(context$1);return $l?(ie=$l.bsPrefix,zn=w??!0):zl&&({cardHeaderBsPrefix:Et}=zl),jsxRuntimeExports.jsx(BaseNav,{as:o,ref:n,activeKey:G,className:classNames(L,{[ce]:!zn,[`${ie}-nav`]:zn,[`${ie}-nav-scroll`]:zn&&y,[`${Et}-${c}`]:!!Et,[`${ce}-${c}`]:!!c,[`${ce}-fill`]:f,[`${ce}-justified`]:d}),...H})});Nav.displayName="Nav";const Nav$1=Object.assign(Nav,{Item:NavItem,Link:NavLink}),Row=reactExports.forwardRef(({bsPrefix:r,className:n,as:o="div",...l},c)=>{const f=useBootstrapPrefix(r,"row"),d=useBootstrapBreakpoints(),w=useBootstrapMinBreakpoint(),y=`${f}-cols`,L=[];return d.forEach(G=>{const H=l[G];delete l[G];let ce;H!=null&&typeof H=="object"?{cols:ce}=H:ce=H;const ie=G!==w?`-${G}`:"";ce!=null&&L.push(`${y}${ie}-${ce}`)}),jsxRuntimeExports.jsx(o,{ref:c,...l,className:classNames(n,f,...L)})});Row.displayName="Row";const Spinner=reactExports.forwardRef(({bsPrefix:r,variant:n,animation:o="border",size:l,as:c="div",className:f,...d},w)=>{r=useBootstrapPrefix(r,"spinner");const y=`${r}-${o}`;return jsxRuntimeExports.jsx(c,{ref:w,...d,className:classNames(f,y,l&&`${y}-${l}`,n&&`text-${n}`)})});Spinner.displayName="Spinner";const _excluded$1=["active","eventKey","mountOnEnter","transition","unmountOnExit","role","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],_excluded2=["activeKey","getControlledId","getControllerId"],_excluded3=["as"];function _objectWithoutPropertiesLoose$1(r,n){if(r==null)return{};var o={};for(var l in r)if({}.hasOwnProperty.call(r,l)){if(n.indexOf(l)>=0)continue;o[l]=r[l]}return o}function useTabPanel(r){let{active:n,eventKey:o,mountOnEnter:l,transition:c,unmountOnExit:f,role:d="tabpanel",onEnter:w,onEntering:y,onEntered:L,onExit:G,onExiting:H,onExited:ce}=r,ie=_objectWithoutPropertiesLoose$1(r,_excluded$1);const Et=reactExports.useContext(TabContext);if(!Et)return[Object.assign({},ie,{role:d}),{eventKey:o,isActive:n,mountOnEnter:l,transition:c,unmountOnExit:f,onEnter:w,onEntering:y,onEntered:L,onExit:G,onExiting:H,onExited:ce}];const{activeKey:zn,getControlledId:$l,getControllerId:zl}=Et,Hl=_objectWithoutPropertiesLoose$1(Et,_excluded2),Ft=makeEventKey(o);return[Object.assign({},ie,{role:d,id:$l(o),"aria-labelledby":zl(o)}),{eventKey:o,isActive:n==null&&Ft!=null?makeEventKey(zn)===Ft:n,transition:c||Hl.transition,mountOnEnter:l??Hl.mountOnEnter,unmountOnExit:f??Hl.unmountOnExit,onEnter:w,onEntering:y,onEntered:L,onExit:G,onExiting:H,onExited:ce}]}const TabPanel=reactExports.forwardRef((r,n)=>{let{as:o="div"}=r,l=_objectWithoutPropertiesLoose$1(r,_excluded3);const[c,{isActive:f,onEnter:d,onEntering:w,onEntered:y,onExit:L,onExiting:G,onExited:H,mountOnEnter:ce,unmountOnExit:ie,transition:Et=NoopTransition}]=useTabPanel(l);return jsxRuntimeExports.jsx(TabContext.Provider,{value:null,children:jsxRuntimeExports.jsx(SelectableContext.Provider,{value:null,children:jsxRuntimeExports.jsx(Et,{in:f,onEnter:d,onEntering:w,onEntered:y,onExit:L,onExiting:G,onExited:H,mountOnEnter:ce,unmountOnExit:ie,children:jsxRuntimeExports.jsx(o,Object.assign({},c,{ref:n,hidden:!f,"aria-hidden":!f}))})})})});TabPanel.displayName="TabPanel";const Tabs$1=r=>{const{id:n,generateChildId:o,onSelect:l,activeKey:c,defaultActiveKey:f,transition:d,mountOnEnter:w,unmountOnExit:y,children:L}=r,[G,H]=useUncontrolledProp(c,f,l),ce=$b5e257d569688ac6$export$619500959fc48b26(n),ie=reactExports.useMemo(()=>o||((zn,$l)=>ce?`${ce}-${$l}-${zn}`:null),[ce,o]),Et=reactExports.useMemo(()=>({onSelect:H,activeKey:G,transition:d,mountOnEnter:w||!1,unmountOnExit:y||!1,getControlledId:zn=>ie(zn,"tabpane"),getControllerId:zn=>ie(zn,"tab")}),[H,G,d,w,y,ie]);return jsxRuntimeExports.jsx(TabContext.Provider,{value:Et,children:jsxRuntimeExports.jsx(SelectableContext.Provider,{value:H||null,children:L})})};Tabs$1.Panel=TabPanel;function getTabTransitionComponent(r){return typeof r=="boolean"?r?Fade:NoopTransition:r}const TabContainer=({transition:r,...n})=>jsxRuntimeExports.jsx(Tabs$1,{...n,transition:getTabTransitionComponent(r)});TabContainer.displayName="TabContainer";const TabContent=reactExports.forwardRef(({className:r,bsPrefix:n,as:o="div",...l},c)=>(n=useBootstrapPrefix(n,"tab-content"),jsxRuntimeExports.jsx(o,{ref:c,className:classNames(r,n),...l})));TabContent.displayName="TabContent";const TabPane=reactExports.forwardRef(({bsPrefix:r,transition:n,...o},l)=>{const[{className:c,as:f="div",...d},{isActive:w,onEnter:y,onEntering:L,onEntered:G,onExit:H,onExiting:ce,onExited:ie,mountOnEnter:Et,unmountOnExit:zn,transition:$l=Fade}]=useTabPanel({...o,transition:getTabTransitionComponent(n)}),zl=useBootstrapPrefix(r,"tab-pane");return jsxRuntimeExports.jsx(TabContext.Provider,{value:null,children:jsxRuntimeExports.jsx(SelectableContext.Provider,{value:null,children:jsxRuntimeExports.jsx($l,{in:w,onEnter:y,onEntering:L,onEntered:G,onExit:H,onExiting:ce,onExited:ie,mountOnEnter:Et,unmountOnExit:zn,children:jsxRuntimeExports.jsx(f,{...d,ref:l,className:classNames(c,zl,w&&"active")})})})})});TabPane.displayName="TabPane";const propTypes={eventKey:PropTypes.oneOfType([PropTypes.string,PropTypes.number]),title:PropTypes.node.isRequired,disabled:PropTypes.bool,tabClassName:PropTypes.string,tabAttrs:PropTypes.object},Tab=()=>{throw new Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")};Tab.propTypes=propTypes;const Tab$1=Object.assign(Tab,{Container:TabContainer,Content:TabContent,Pane:TabPane}),Table=reactExports.forwardRef(({bsPrefix:r,className:n,striped:o,bordered:l,borderless:c,hover:f,size:d,variant:w,responsive:y,...L},G)=>{const H=useBootstrapPrefix(r,"table"),ce=classNames(n,H,w&&`${H}-${w}`,d&&`${H}-${d}`,o&&`${H}-${typeof o=="string"?`striped-${o}`:"striped"}`,l&&`${H}-bordered`,c&&`${H}-borderless`,f&&`${H}-hover`),ie=jsxRuntimeExports.jsx("table",{...L,className:ce,ref:G});if(y){let Et=`${H}-responsive`;return typeof y=="string"&&(Et=`${Et}-${y}`),jsxRuntimeExports.jsx("div",{className:Et,children:ie})}return ie});Table.displayName="Table";function getDefaultActiveKey(r){let n;return forEach(r,o=>{n==null&&(n=o.props.eventKey)}),n}function renderTab(r){const{title:n,eventKey:o,disabled:l,tabClassName:c,tabAttrs:f,id:d}=r.props;return n==null?null:jsxRuntimeExports.jsx(NavItem,{as:"li",role:"presentation",children:jsxRuntimeExports.jsx(NavLink,{as:"button",type:"button",eventKey:o,disabled:l,id:d,className:c,...f,children:n})})}const Tabs=r=>{const{id:n,onSelect:o,transition:l,mountOnEnter:c=!1,unmountOnExit:f=!1,variant:d="tabs",children:w,activeKey:y=getDefaultActiveKey(w),...L}=useUncontrolled(r,{activeKey:"onSelect"});return jsxRuntimeExports.jsxs(Tabs$1,{id:n,activeKey:y,onSelect:o,transition:getTabTransitionComponent(l),mountOnEnter:c,unmountOnExit:f,children:[jsxRuntimeExports.jsx(Nav$1,{id:n,...L,role:"tablist",as:"ul",variant:d,children:map$2(w,renderTab)}),jsxRuntimeExports.jsx(TabContent,{children:map$2(w,G=>{const H={...G.props};return delete H.title,delete H.disabled,delete H.tabClassName,delete H.tabAttrs,jsxRuntimeExports.jsx(TabPane,{...H})})})]})};Tabs.displayName="Tabs";/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var __assign=function(){return __assign=Object.assign||function(n){for(var o,l=1,c=arguments.length;l<c;l++){o=arguments[l];for(var f in o)Object.prototype.hasOwnProperty.call(o,f)&&(n[f]=o[f])}return n},__assign.apply(this,arguments)};function __rest(r,n){var o={};for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&n.indexOf(l)<0&&(o[l]=r[l]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,l=Object.getOwnPropertySymbols(r);c<l.length;c++)n.indexOf(l[c])<0&&Object.prototype.propertyIsEnumerable.call(r,l[c])&&(o[l[c]]=r[l[c]]);return o}var hashFragment="",observer=null,asyncTimerId=null,scrollFunction=null;function reset(){hashFragment="",observer!==null&&observer.disconnect(),asyncTimerId!==null&&(window.clearTimeout(asyncTimerId),asyncTimerId=null)}function isInteractiveElement(r){var n=["BUTTON","INPUT","SELECT","TEXTAREA"],o=["A","AREA"];return n.includes(r.tagName)&&!r.hasAttribute("disabled")||o.includes(r.tagName)&&r.hasAttribute("href")}function getElAndScroll(){var r=null;if(hashFragment==="#")r=document.body;else{var n=hashFragment.replace("#","");r=document.getElementById(n),r===null&&hashFragment==="#top"&&(r=document.body)}if(r!==null){scrollFunction(r);var o=r.getAttribute("tabindex");return o===null&&!isInteractiveElement(r)&&r.setAttribute("tabindex",-1),r.focus({preventScroll:!0}),o===null&&!isInteractiveElement(r)&&(r.blur(),r.removeAttribute("tabindex")),reset(),!0}return!1}function hashLinkScroll(r){window.setTimeout(function(){getElAndScroll()===!1&&(observer===null&&(observer=new MutationObserver(getElAndScroll)),observer.observe(document,{attributes:!0,childList:!0,subtree:!0}),asyncTimerId=window.setTimeout(function(){reset()},r||1e4))},0)}function genericHashLink(r){return React.forwardRef(function(n,o){var l="";typeof n.to=="string"&&n.to.includes("#")?l="#"+n.to.split("#").slice(1).join("#"):typeof n.to=="object"&&typeof n.to.hash=="string"&&(l=n.to.hash);var c={};r===NavLink$1&&(c.isActive=function(w,y){return w&&w.isExact&&y.hash===l});function f(w){reset(),hashFragment=n.elementId?"#"+n.elementId:l,n.onClick&&n.onClick(w),hashFragment!==""&&!w.defaultPrevented&&w.button===0&&(!n.target||n.target==="_self")&&!(w.metaKey||w.altKey||w.ctrlKey||w.shiftKey)&&(scrollFunction=n.scroll||(function(y){return n.smooth?y.scrollIntoView({behavior:"smooth"}):y.scrollIntoView()}),hashLinkScroll(n.timeout))}var d=__rest(n,["scroll","smooth","timeout","elementId"]);return React.createElement(r,__assign({},c,d,{onClick:f,ref:o}),n.children)})}var HashLink=genericHashLink(Link);genericHashLink(NavLink$1);const references={mpds:{type:"db",ref:jsxRuntimeExports.jsxs("span",{children:["The Pauling File"," ",jsxRuntimeExports.jsx("a",{href:"http://paulingfile.com/",target:"_blank",rel:"noopener noreferrer",children:"http://paulingfile.com/"})," ","exposed through the Materials Platform for Data Science"," ",jsxRuntimeExports.jsx("a",{href:"https://mpds.io/",target:"_blank",rel:"noopener noreferrer",children:"https://mpds.io/"}),"."]})},cod:{type:"db",ref:jsxRuntimeExports.jsxs("span",{children:["S. Graulis et al. Crystallography open database (COD): an open-access collection of crystal structures and platform for world-wide collaboration. Nucleic Acids Research, 40:D420-D427, 2012,"," ",jsxRuntimeExports.jsx("a",{href:"http://www.crystallography.net",target:"_blank",rel:"noopener noreferrer",children:"http://www.crystallography.net"}),"."]})},icsd:{type:"db",ref:jsxRuntimeExports.jsxs("span",{children:["Inorganic Crystal Structure Database,"," ",jsxRuntimeExports.jsx("a",{href:"http://www.fiz-karlsruhe.com/icsd.html",target:"_blank",rel:"noopener noreferrer",children:"http://www.fiz-karlsruhe.com/icsd.html"}),"."]})},aiida1:{type:"software",ref:jsxRuntimeExports.jsxs("span",{children:["S. P. Huber et al. AiiDA 1.0, a scalable computational infrastructure for automated reproducible workflows and data provenance. Sci Data 7, 300, 2020."," ",jsxRuntimeExports.jsx("a",{href:"http://www.aiida.net",target:"_blank",rel:"noopener noreferrer",children:"http://www.aiida.net"}),"."]})},aiida2:{type:"software",ref:jsxRuntimeExports.jsx("span",{children:"G. Pizzi et al. AiiDA: Automated Interactive Infrastructure and Database for Computational Science. Computational Materials Science, 111:218-230, 2016."})},pymatgen:{type:"software",ref:jsxRuntimeExports.jsx("span",{children:"S. P. Ong et al. Python materials genomics (pymatgen): A robust, open-source python library for materials analysis. Computational Materials Science, 68:314-319, 2013."})},spglib:{type:"software",ref:jsxRuntimeExports.jsxs("span",{children:["A. Togo. Spglib."," ",jsxRuntimeExports.jsx("a",{href:"https://spglib.readthedocs.io/",target:"_blank",rel:"noopener noreferrer",children:"https://spglib.readthedocs.io/"}),"."]})},qe:{type:"software",ref:jsxRuntimeExports.jsx("span",{children:"P. Giannozzi et al. Advanced capabilities for materials modelling with Quantum ESPRESSO. Journal of Physics: Condensed Matter, 29:465901, 2017."})},sirius:{type:"software",ref:jsxRuntimeExports.jsxs("span",{children:["SIRIUS,"," ",jsxRuntimeExports.jsx("a",{href:"https://github.com/electronic-structure/SIRIUS",target:"_blank",rel:"noopener noreferrer",children:"https://github.com/electronic-structure/SIRIUS"}),"."]})},cod_parser:{type:"software",ref:jsxRuntimeExports.jsx("span",{children:"A. Merkys et al. COD::CIF::Parser: an error-correcting CIF parser for the Perl language Journal of Applied Crystallography 49 (2016)"})},sssp:{type:"pseudo_protocols",ref:jsxRuntimeExports.jsxs("span",{children:["G. Prandini, A. Marrazzo, I. E. Castelli, N. Mounet and N. Marzari, npj Computational Materials 4, 72 (2018)."," ",jsxRuntimeExports.jsx("a",{href:"http://www.materialscloud.org/sssp/",target:"_blank",rel:"noopener noreferrer",children:"http://www.materialscloud.org/sssp/"})]})},sssp_protocols:{type:"pseudo_protocols",ref:jsxRuntimeExports.jsx("span",{children:"SSSP protocol for the calculation of structural and thermodynamical properties of inorganic materials, Nicolas Hoermann et al., to be published."})}};function refNr(r){return Object.keys(references).indexOf(r)+1}function getRef(r){return jsxRuntimeExports.jsx("sup",{children:jsxRuntimeExports.jsxs(HashLink,{className:"cite-anchor",to:"#ref"+refNr(r),children:["[",refNr(r),"]"]})})}function renderRefs(r){return Object.keys(references).map(n=>{if(references[n].type!=r)return;let o=refNr(n);return jsxRuntimeExports.jsxs("div",{id:"ref"+o,children:["[",o,"] ",references[n].ref]},o)})}const aboutText=jsxRuntimeExports.jsxs("div",{className:"about-text-container",children:[jsxRuntimeExports.jsxs("p",{children:["This is a curated set of relaxed three-dimensional crystal structures based on raw CIF data taken from the external experimental databases MPDS",getRef("mpds"),", COD",getRef("cod")," and ICSD",getRef("icsd"),". The raw CIF data have been imported, cleaned",getRef("cod_parser")," and parsed",getRef("pymatgen"),getRef("spglib")," into a crystal structure; their ground-state has been computed using the SIRIUS-enabled",getRef("sirius")," pw.x code of the Quantum ESPRESSO",getRef("qe")," distribution, and tight tolerance criteria for the calculations using the SSSP protocols",getRef("sssp"),getRef("sssp_protocols"),"."]}),jsxRuntimeExports.jsxs("p",{children:["This entire procedure is encoded into an AiiDA",getRef("aiida1"),getRef("aiida2")," workflow which automates the process while keeping full data provenance. Here, since the original source data of the ICSD and MPDS databases are copyrighted, only the provenance of the final SCF calculation on the relaxed structures can be made publicly available."]}),jsxRuntimeExports.jsx("p",{children:'The MC3D ID numbers come from a list of unique "parent" stoichiometric structures that has been created and curated from a collection of several experimental databases. Once a parent structure has been optimized using density-functional theory, it is made public and added to the online Discover section of the Materials Cloud (copyrights might prevent publishing the original parent). Note that since not all structures have been calculated, some ID numbers are missing from the public version of the database. The full ID of each structure also contains as an appended modifier the functional that was used in the calculations. Since the ID number points to the same unique parent, mc3d-1234/pbe and mc3d-1234/pbesol have the same starting point, but have been then relaxed according to their respective functionals.'}),jsxRuntimeExports.jsx("div",{className:"about-h",children:"Acknowledgements"}),jsxRuntimeExports.jsx("b",{children:"External databases of source CIF data"}),renderRefs("db"),jsxRuntimeExports.jsx("b",{children:"Software"}),renderRefs("software"),jsxRuntimeExports.jsx("b",{children:"Pseudopotentials and protocols"}),renderRefs("pseudo_protocols"),jsxRuntimeExports.jsx("b",{children:"Funding partners"}),jsxRuntimeExports.jsx("br",{}),"This project is made possible by support from the European Centre of Excellence MaX Materials design at the Exascale (grant no. 824143), the Platform for Advanced Scientific Computing (PASC), and with HPC allocations from PRACE (project id 2020225458) and CSCS (project id s854)."]});let mcRestApiUrl="https://api.dev.materialscloud.org/",aiidaRestBaseUrl="https://aiida.dev.materialscloud.org",exploreBaseUrl="https://www.dev.materialscloud.org/explore/";mcRestApiUrl="https://api.materialscloud.org/",aiidaRestBaseUrl="https://aiida.materialscloud.org",exploreBaseUrl="https://www.materialscloud.org/explore/";const MC_REST_API_URL_BASE=mcRestApiUrl,MC_REST_API_URL=`${mcRestApiUrl}mc3d`,AIIDA_REST_BASE_URL=aiidaRestBaseUrl,EXPLORE_BASE_URL=exploreBaseUrl,AIIDA_API_URLS={"pbe-v1":`${AIIDA_REST_BASE_URL}/mc3d-pbe-v1/api/v4`,"pbesol-v1":`${AIIDA_REST_BASE_URL}/mc3d-pbesol-v1/api/v4`,"pbesol-v2":`${AIIDA_REST_BASE_URL}/mc3d-pbesol-v2/api/v4`,"pbesol-v1-supercon":`${AIIDA_REST_BASE_URL}/mc3d-pbesol-v1-supercon/api/v4`},EXPLORE_URLS={"pbe-v1":`${EXPLORE_BASE_URL}/mc3d-pbe-v1`,"pbesol-v1":`${EXPLORE_BASE_URL}/mc3d-pbesol-v1`,"pbesol-v2":`${EXPLORE_BASE_URL}/mc3d-pbesol-v2`,"pbesol-v1-supercon":`${EXPLORE_BASE_URL}/mc3d-pbesol-v1-supercon/api/v4`};async function loadIndex(r){let n=`${MC_REST_API_URL}/${r}/overview`;try{return await(await fetch(n,{method:"get"})).json()}catch(o){console.error("Error fetching index:",o)}}async function loadMetadata(r){let n=`${MC_REST_API_URL}/${r}/meta`;try{return await(await fetch(n,{method:"get"})).json()}catch(o){console.error("Error fetching metadata:",o)}}async function loadDetails(r,n){let o=`${MC_REST_API_URL}/${r}/base/${n}`;try{return await(await fetch(o,{method:"get"})).json()}catch(l){console.error("Error fetching details:",l)}}async function loadAiidaAttributes(r,n){let l=`${AIIDA_API_URLS[r]}/nodes/${n}/contents/attributes`;try{return(await(await fetch(l,{method:"get"})).json()).data.attributes}catch(c){console.error("Error fetching AiiDA attributes:",c)}}async function loadAiidaCif(r,n){let l=`${AIIDA_API_URLS[r]}/nodes/${n}/download?download_format=cif&download=false`;try{return(await(await fetch(l,{method:"get"})).json()).data.download.data}catch(c){console.error("Error fetching AiiDA cif:",c)}}async function loadAiidaBands(r,n){const l=`${AIIDA_API_URLS[r]}/nodes/${n}/download?download_format=json`;try{return await(await fetch(l,{method:"get"})).json()}catch(c){console.error("Error fetching AiiDA bands:",c)}}async function loadXY(r,n){const l=`${AIIDA_API_URLS[r]}/nodes/${n}/download?download_format=json`;try{return await(await fetch(l,{method:"get"})).json()}catch(c){console.error("Error fetching AiiDA bands:",c)}}async function loadXrd(r,n){let o=`${MC_REST_API_URL}/${r}/xrd/${n}`;try{const l=await fetch(o,{method:"get"});return l.ok?(await l.json()).data:null}catch(l){return console.error("Error fetching XRD:",l),null}}async function loadStructureUuids(r){let n=`${MC_REST_API_URL}/${r}/structure-uuids`;try{const o=await fetch(n,{method:"get"});return o.ok?await o.json():null}catch(o){return console.error("Error fetching structure-uuids:",o),null}}async function loadGeneralInfo(){let r=`${MC_REST_API_URL}/info`;try{return await(await fetch(r,{method:"get"})).json()}catch(n){console.error("Error fetching info:",n)}}const DOCS_URL=`${MC_REST_API_URL_BASE}docs`,INDEX_URL=`${MC_REST_API_URL}/pbe-v1/overview`,SINGLE_ENTRY_URL=`${MC_REST_API_URL}/pbe-v1/base/mc3d-10`,restapiText=jsxRuntimeExports.jsxs("div",{className:"restapi-text-container",children:[jsxRuntimeExports.jsx("p",{children:"This section contains an overview of our REST APIs to access the MC3D data."}),jsxRuntimeExports.jsx("div",{className:"restapi-h",children:"1. Materials Cloud and AiiDA REST APIs"}),jsxRuntimeExports.jsxs("div",{children:["The MC3D frontend is running on:",jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsxs("li",{children:["The Materials Cloud REST API for the curated metadata:"," ",jsxRuntimeExports.jsx("a",{href:DOCS_URL,target:"_blank",rel:"noopener noreferrer",children:DOCS_URL}),", see e.g.",jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsxs("li",{children:["Index of materials:"," ",jsxRuntimeExports.jsx("a",{href:INDEX_URL,target:"_blank",rel:"noopener noreferrer",children:INDEX_URL})]}),jsxRuntimeExports.jsxs("li",{children:["Single entry data:"," ",jsxRuntimeExports.jsx("a",{href:SINGLE_ENTRY_URL,target:"_blank",rel:"noopener noreferrer",children:SINGLE_ENTRY_URL})]})]})]}),jsxRuntimeExports.jsxs("li",{children:["AiiDA REST API for properties and provenance:"," ",jsxRuntimeExports.jsx("a",{href:AIIDA_API_URLS["pbe-v1"],target:"_blank",rel:"noopener noreferrer",children:AIIDA_API_URLS["pbe-v1"]})]})]})]}),jsxRuntimeExports.jsx("div",{className:"restapi-h",children:"2. OPTIMADE REST API"}),jsxRuntimeExports.jsxs("div",{children:["The MC3D database can also be accessed via an API following the"," ",jsxRuntimeExports.jsx("a",{href:"https://www.optimade.org/optimade",target:"_blank",rel:"noopener noreferrer",children:"OPTIMADE specification"}),". This currently includes the crystal structures and some properties but no provenance information is provided. For the exact endpoints, see the"," ",jsxRuntimeExports.jsx("a",{href:"https://materialscloud.org/optimade",target:"_blank",rel:"noopener noreferrer",children:"Materials Cloud OPTIMADE API page"}),"."]})]}),spaceGroupSymbols=["x","P1","P-1","P2","P2_1","C2","Pm","Pc","Cm","Cc","P2/m","P2_1/m","C2/m","P2/c","P2_1/c","C2/c","P222","P222_1","P2_12_12","P2_12_12_1","C222_1","C222","F222","I222","I2_12_12_1","Pmm2","Pmc2_1","Pcc2","Pma2","Pca2_1","Pnc2","Pmn2_1","Pba2","Pna2_1","Pnn2","Cmm2","Cmc2_1","Ccc2","Amm2","Aem2","Ama2","Aea2","Fmm2","Fdd2","Imm2","Iba2","Ima2","Pmmm","Pnnn","Pccm","Pban","Pmma","Pnna","Pmna","Pcca","Pbam","Pccn","Pbcm","Pnnm","Pmmn","Pbcn","Pbca","Pnma","Cmcm","Cmce","Cmmm","Cccm","Cmme","Ccce","Fmmm","Fddd","Immm","Ibam","Ibca","Imma","P4","P4_1","P4_2","P4_3","I4","I4_1","P-4","I-4","P4/m","P4_2/m","P4/n","P4_2/n","I4/m","I4_1/a","P422","P42_12","P4_122","P4_12_12","P4_222","P4_22_12","P4_322","P4_32_12","I422","I4_122","P4mm","P4bm","P4_2cm","P4_2nm","P4cc","P4nc","P4_2mc","P4_2bc","I4mm","I4cm","I4_1md","I4_1cd","P-42m","P-42c","P-42_1m","P-42_1c","P-4m2","P-4c2","P-4b2","P-4n2","I-4m2","I-4c2","I-42m","I-42d","P4/mmm","P4/mcc","P4/nbm","P4/nnc","P4/mbm","P4/mnc","P4/nmm","P4/ncc","P4_2/mmc","P4_2/mcm","P4_2/nbc","P4_2/nnm","P4_2/mbc","P4_2/mnm","P4_2/nmc","P4_2/ncm","I4/mmm","I4/mcm","I4_1/amd","I4_1/acd","P3","P3_1","P3_2","R3","P-3","R-3","P312","P321","P3_112","P3_121","P3_212","P3_221","R32","P3m1","P31m","P3c1","P31c","R3m","R3c","P-31m","P-31c","P-3m1","P-3c1","R-3m","R-3c","P6","P6_1","P6_5","P6_2","P6_4","P6_3","P-6","P6/m","P6_3/m","P622","P6_122","P6_522","P6_222","P6_422","P6_322","P6mm","P6cc","P6_3cm","P6_3mc","P-6m2","P-6c2","P-62m","P-62c","P6/mmm","P6/mcc","P6_3/mcm","P6_3/mmc","P23","F23","I23","P2_13","I2_13","Pm-3","Pn-3","Fm-3","Fd-3","Im-3","Pa-3","Ia-3","P432","P4_232","F432","F4_132","I432","P4_332","P4_132","I4_132","P-43m","F-43m","I-43m","P-43n","F-43c","I-43d","Pm-3m","Pn-3n","Pm-3n","Pn-3m","Fm-3m","Fm-3c","Fd-3m","Fd-3c","Im-3m","Ia-3d"];function bravaisLatticeFromSpgn(r){let n="";r<3?n="a":r<16?n="m":r<75?n="o":r<143?n="t":r<195?n="h":n="c";let o=spaceGroupSymbols[r].charAt(0);return n+o}function countNumberOfAtoms(r){var n=r.split(/(?=[A-Z])/),o=0;return n.forEach(l=>{let c=l.match(/\d+/),f=c==null?1:parseInt(c[0]);o+=f}),o}function countNumberOfElements(r){return r.split(/(?=[A-Z])/).length}function formatTitle(r,n,o){return jsxRuntimeExports.jsxs("span",{children:[Cu(r)," (",n,"/",o,")"]})}function format_aiida_prop(r,n,o,l=3,c=1){if(r==null)return jsxRuntimeExports.jsx("span",{children:"N/A"});let f=r.value??0;f*=c;let d=f.toFixed(l);return n.unit&&(d+=` ${n.unit}`),jsxRuntimeExports.jsxs("span",{children:[d," ",jsxRuntimeExports.jsx(Ou,{explore_url:EXPLORE_URLS[o],uuid:r.uuid??null})]})}const COLUMN_ORDER_AND_SETTINGS=[{field:"id",hide:!1,width:165,minWidth:160},{field:"formula",hide:!1,width:165,minWidth:160},{field:"formula_hill",hide:!0,width:165,minWidth:160},{field:"num_elements",hide:!1},{field:"num_atoms",hide:!1},{field:"bravais_lat",hide:!0},{field:"spacegroup_number",hide:!0},{field:"spacegroup_int",hide:!1},{field:"source_db",hide:!0},{field:"source_db_id",hide:!0},{field:"is_theoretical",hide:!1},{field:"is_high_pressure",hide:!1,minWidth:125},{field:"is_high_temperature",hide:!1,minWidth:125},{field:"total_magnetization",hide:!1},{field:"absolute_magnetization",hide:!0}],FRONTEND_COLUMNS=[{columnDef:{field:"num_atoms",headerName:"Num. of atoms/cell",colType:"integer"},calcFunc:r=>countNumberOfAtoms(r.formula_h)},{columnDef:{field:"num_elements",headerName:"Number of elements",colType:"integer"},calcFunc:r=>countNumberOfElements(r.formula_h)},{columnDef:{field:"bravais_lat",headerName:"Bravais lattice",colType:"text",infoText:"Bravais lattice in Pearson notation."},calcFunc:r=>bravaisLatticeFromSpgn(r.sg)},{columnDef:{field:"spacegroup_int",headerName:"Space group international",colType:"spg_symbol",infoText:"International short symbol for the space group."},calcFunc:r=>spaceGroupSymbols[r.sg]}];function formatColumns(r){let n=[{field:"id",headerName:"ID",colType:"id",infoText:"The unique MC3D identifier of each structure."}];r["index-columns"].forEach(l=>{n.push({field:l.label,headerName:l.name,unit:l.unit||null,colType:l.type||"text",infoText:l.description||null})}),FRONTEND_COLUMNS.forEach(l=>{n.some(c=>c.field===l.columnDef.field)||n.push(l.columnDef)});let o=[];return COLUMN_ORDER_AND_SETTINGS.forEach(l=>{let c=n.findIndex(f=>f.field===l.field);if(c!==-1){let f=n[c];f.hide=l.hide,["width","minWidth"].forEach(d=>{d in l&&(f[d]=l[d])}),o.push(f),n.splice(c,1)}}),n.forEach(l=>{l.hide=!0,o.push(l)}),o}function formatRows(r,n,o){let l=[],c={};return n["index-columns"].forEach(f=>{c[f.data_label]=f.label}),r.forEach(f=>{let d=`${f.id}/${o}`,w=`/#/details/${d}`,y={};Object.entries(f).map(([G,H])=>{G in c&&(y[c[G]]=H)});let L={id:d,href:w};FRONTEND_COLUMNS.forEach(G=>{G.columnDef.field in L||(L[G.columnDef.field]=G.calcFunc(f))}),y={...y,...L},l.push(y)}),l}async function loadDataMc3d(r){let n=performance.now(),o=await loadIndex(r),l=performance.now();console.log(`loadIndex: ${l-n} ms`),n=performance.now();let c=await loadMetadata(r);l=performance.now(),console.log(`loadMetadata: ${l-n} ms`),n=performance.now();let f=formatRows(o,c,r);return l=performance.now(),console.log(`formatRows: ${l-n} ms`),{columns:formatColumns(c),rows:f}}var FileSaver_min$1={exports:{}},FileSaver_min=FileSaver_min$1.exports,hasRequiredFileSaver_min;function requireFileSaver_min(){return hasRequiredFileSaver_min||(hasRequiredFileSaver_min=1,(function(r,n){(function(o,l){l()})(FileSaver_min,function(){function o(L,G){return typeof G>"u"?G={autoBom:!1}:typeof G!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),G={autoBom:!G}),G.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(L.type)?new Blob(["\uFEFF",L],{type:L.type}):L}function l(L,G,H){var ce=new XMLHttpRequest;ce.open("GET",L),ce.responseType="blob",ce.onload=function(){y(ce.response,G,H)},ce.onerror=function(){console.error("could not download file")},ce.send()}function c(L){var G=new XMLHttpRequest;G.open("HEAD",L,!1);try{G.send()}catch{}return 200<=G.status&&299>=G.status}function f(L){try{L.dispatchEvent(new MouseEvent("click"))}catch{var G=document.createEvent("MouseEvents");G.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),L.dispatchEvent(G)}}var d=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof commonjsGlobal=="object"&&commonjsGlobal.global===commonjsGlobal?commonjsGlobal:void 0,w=d.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),y=d.saveAs||(typeof window!="object"||window!==d?function(){}:"download"in HTMLAnchorElement.prototype&&!w?function(L,G,H){var ce=d.URL||d.webkitURL,ie=document.createElement("a");G=G||L.name||"download",ie.download=G,ie.rel="noopener",typeof L=="string"?(ie.href=L,ie.origin===location.origin?f(ie):c(ie.href)?l(L,G,H):f(ie,ie.target="_blank")):(ie.href=ce.createObjectURL(L),setTimeout(function(){ce.revokeObjectURL(ie.href)},4e4),setTimeout(function(){f(ie)},0))}:"msSaveOrOpenBlob"in navigator?function(L,G,H){if(G=G||L.name||"download",typeof L!="string")navigator.msSaveOrOpenBlob(o(L,H),G);else if(c(L))l(L,G,H);else{var ce=document.createElement("a");ce.href=L,ce.target="_blank",setTimeout(function(){f(ce)})}}:function(L,G,H,ce){if(ce=ce||open("","_blank"),ce&&(ce.document.title=ce.document.body.innerText="downloading..."),typeof L=="string")return l(L,G,H);var ie=L.type==="application/octet-stream",Et=/constructor/i.test(d.HTMLElement)||d.safari,zn=/CriOS\/[\d]+/.test(navigator.userAgent);if((zn||ie&&Et||w)&&typeof FileReader<"u"){var $l=new FileReader;$l.onloadend=function(){var Ft=$l.result;Ft=zn?Ft:Ft.replace(/^data:[^;]*;/,"data:attachment/file;"),ce?ce.location.href=Ft:location=Ft,ce=null},$l.readAsDataURL(L)}else{var zl=d.URL||d.webkitURL,Hl=zl.createObjectURL(L);ce?ce.location=Hl:location.href=Hl,ce=null,setTimeout(function(){zl.revokeObjectURL(Hl)},4e4)}});d.saveAs=y.saveAs=y,r.exports=y})})(FileSaver_min$1)),FileSaver_min$1.exports}var FileSaver_minExports=requireFileSaver_min();const getCurrentDateString=()=>{const r=new Date,n=r.getFullYear(),o=String(r.getMonth()+1).padStart(2,"0"),l=String(r.getDate()).padStart(2,"0"),c=String(r.getHours()).padStart(2,"0"),f=String(r.getMinutes()).padStart(2,"0"),d=String(r.getSeconds()).padStart(2,"0");return`${n}-${o}-${l}-${c}-${f}-${d}`},popover$1=jsxRuntimeExports.jsxs(Popover$1,{id:"popover-basic",children:[jsxRuntimeExports.jsx(Popover$1.Header,{children:jsxRuntimeExports.jsx("b",{children:"Download filtered entries"})}),jsxRuntimeExports.jsx(Popover$1.Body,{style:{textAlign:"justify"},children:jsxRuntimeExports.jsxs("p",{children:["This button allows to download all currently filtered entries shown in the Materials Grid. The data is downloaded in JSON format, as an array. The array contains a JSON object for each material entry, with key-value pairs corresponding to the column properties. Additionally, each entry includes a link to the corresponding detail page and a link to download the file in CIF format. ",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),"Note, to download all of the CIF files directly, see the corresponding Materials Cloud Archive entry."]})})]}),DownloadButton=({materialSelectorRef:r,disabled:n,methodLabel:o})=>{const[l,c]=reactExports.useState(!1),f=async()=>{if(r.current){c(!0);try{const d=await loadStructureUuids(o);let y=r.current.getFilteredRows().map(ce=>{let ie=ce.id.split("/")[0],Et=d[ie],zn=`${AIIDA_API_URLS[o]}/nodes/${Et}/download?download_format=cif`,$l={...ce,details_link:`${window.location.origin}${ce.href}`,download_cif:zn};return delete $l.href,$l});const L=JSON.stringify(y,null,2),G=new Blob([L],{type:"application/json"}),H=`mc3d_filtered_entries_${o}_${getCurrentDateString()}.json`;FileSaver_minExports.saveAs(G,H)}catch(d){console.error("Error downloading data:",d)}finally{c(!1)}}};return jsxRuntimeExports.jsxs("div",{className:"download-button-outer-container",children:[jsxRuntimeExports.jsx("button",{onClick:f,disabled:n||l,className:`aggrid-style-button ${n||l?"aggrid-style-button-disabled":""}`,style:{marginTop:"5px"},children:l?jsxRuntimeExports.jsx(Spinner,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}):"Download filtered entries"}),jsxRuntimeExports.jsx(Eu,{popover:popover$1})]})},popover=jsxRuntimeExports.jsxs(Popover$1,{id:"popover-basic",children:[jsxRuntimeExports.jsx(Popover$1.Header,{children:jsxRuntimeExports.jsx("b",{children:"Datasets & views"})}),jsxRuntimeExports.jsxs(Popover$1.Body,{style:{textAlign:"justify"},children:[jsxRuntimeExports.jsxs("p",{children:["MC3D contains ",jsxRuntimeExports.jsx("b",{children:"structure datasets"})," - collections computed with one consistent computational approach. The label (e.g., ",jsxRuntimeExports.jsx("i",{children:"PBEsol-v1"}),") contains the physical methodology and a version suffix representing the computational protocol."]}),jsxRuntimeExports.jsxs("p",{children:["Structure datasets can have associated property contributions (e.g., Superconductivity), and the corresponding ",jsxRuntimeExports.jsx("b",{children:"property-based views"})," ","allow to sort and filter the relevant data."]}),jsxRuntimeExports.jsxs("p",{children:["Use the menu to select either a structure dataset or a property view. See the ",jsxRuntimeExports.jsx("b",{children:"About"})," tab and the publication for details."]})]})]}),MethodSelectionBox=r=>{let n={"pbesol-v2":"PBEsol-v2","pbesol-v1":"PBEsol-v1","pbe-v1":"PBE-v1"};Object.entries(n).forEach(([l,c])=>{r.genInfo?.["method-counts"]?.[l]!=null&&(n[l]+=` (${r.genInfo["method-counts"][l]})`)});const o=r.selectedDisplay||r.method;return jsxRuntimeExports.jsx("div",{className:"method-selection-box-outer",children:jsxRuntimeExports.jsxs("div",{className:"method-selection-box",children:[jsxRuntimeExports.jsx("p",{children:"Select a dataset or view:"}),jsxRuntimeExports.jsxs(Form$1.Select,{size:"sm",value:o,onChange:r.handleMethodChange,style:{display:"inline-block",margin:"4px 6px 2px 6px",width:"auto",minWidth:"max-content"},children:[jsxRuntimeExports.jsx("optgroup",{label:"Structure datasets",children:Object.entries(n).map(([l,c])=>jsxRuntimeExports.jsx("option",{value:l,children:c},l))}),jsxRuntimeExports.jsx("optgroup",{label:"Property-based views",children:jsxRuntimeExports.jsx("option",{value:"superconductivity",children:"Superconductivity (PBEsol-v1)"})})]}),jsxRuntimeExports.jsx(Eu,{popover,placement:"bottom"})]})})};var DefaultContext={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IconContext=React.createContext&&React.createContext(DefaultContext),_excluded=["attr","size","title"];function _objectWithoutProperties(r,n){if(r==null)return{};var o=_objectWithoutPropertiesLoose(r,n),l,c;if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(r);for(c=0;c<f.length;c++)l=f[c],!(n.indexOf(l)>=0)&&Object.prototype.propertyIsEnumerable.call(r,l)&&(o[l]=r[l])}return o}function _objectWithoutPropertiesLoose(r,n){if(r==null)return{};var o={};for(var l in r)if(Object.prototype.hasOwnProperty.call(r,l)){if(n.indexOf(l)>=0)continue;o[l]=r[l]}return o}function _extends(){return _extends=Object.assign?Object.assign.bind():function(r){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])}return r},_extends.apply(this,arguments)}function ownKeys(r,n){var o=Object.keys(r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(r);n&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(r,c).enumerable})),o.push.apply(o,l)}return o}function _objectSpread(r){for(var n=1;n<arguments.length;n++){var o=arguments[n]!=null?arguments[n]:{};n%2?ownKeys(Object(o),!0).forEach(function(l){_defineProperty(r,l,o[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):ownKeys(Object(o)).forEach(function(l){Object.defineProperty(r,l,Object.getOwnPropertyDescriptor(o,l))})}return r}function _defineProperty(r,n,o){return n=_toPropertyKey(n),n in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,r}function _toPropertyKey(r){var n=_toPrimitive(r,"string");return typeof n=="symbol"?n:n+""}function _toPrimitive(r,n){if(typeof r!="object"||!r)return r;var o=r[Symbol.toPrimitive];if(o!==void 0){var l=o.call(r,n);if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}function Tree2Element(r){return r&&r.map((n,o)=>React.createElement(n.tag,_objectSpread({key:o},n.attr),Tree2Element(n.child)))}function GenIcon(r){return n=>React.createElement(IconBase,_extends({attr:_objectSpread({},r.attr)},n),Tree2Element(r.child))}function IconBase(r){var n=o=>{var{attr:l,size:c,title:f}=r,d=_objectWithoutProperties(r,_excluded),w=c||o.size||"1em",y;return o.className&&(y=o.className),r.className&&(y=(y?y+" ":"")+r.className),React.createElement("svg",_extends({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},o.attr,l,d,{className:y,style:_objectSpread(_objectSpread({color:r.color||o.color},o.style),r.style),height:w,width:w,xmlns:"http://www.w3.org/2000/svg"}),f&&React.createElement("title",null,f),r.children)};return IconContext!==void 0?React.createElement(IconContext.Consumer,null,o=>n(o)):n(DefaultContext)}function FaBook(r){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 360V24c0-13.3-10.7-24-24-24H96C43 0 0 43 0 96v320c0 53 43 96 96 96h328c13.3 0 24-10.7 24-24v-16c0-7.5-3.5-14.3-8.9-18.7-4.2-15.4-4.2-59.3 0-74.7 5.4-4.3 8.9-11.1 8.9-18.6zM128 134c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm0 64c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm253.4 250H96c-17.7 0-32-14.3-32-32 0-17.6 14.4-32 32-32h285.4c-1.9 17.1-1.9 46.9 0 64z"},child:[]}]})(r)}const CitationText=({info:r})=>jsxRuntimeExports.jsxs("div",{style:{padding:"2px",display:"flex",gap:"6px",alignItems:"center"},children:[jsxRuntimeExports.jsxs("a",{className:"citation-a",href:`https://doi.org/${r.doi}`,target:"_blank",rel:"noopener noreferrer",children:[jsxRuntimeExports.jsx(FaBook,{size:16,color:"black"})," ",r.authorsText,", ",r.journalText,", (",r.year,")"]}),jsxRuntimeExports.jsx(wu,{doi:r.doi,label:"Paper DOI",color:"#a2e5b7"})]}),CITATION_MAPPING={Mounet18:{authorsText:"Mounet et al.",journalText:"Nat. Nanotech. 13, 246-252",doi:"10.1038/s41565-017-0035-5",year:2018},Campi23:{authorsText:"Campi et al.",journalText:"ACS Nano 17, 12, 11268-11278",doi:"10.1021/acsnano.2c11510",year:2023},MBercxSupercon25:{authorsText:"Bercx et al.",journalText:"PRX Energy 4, 033012 ",doi:"10.1103/sb28-fjc9",year:2025},HuberMc3d25:{authorsText:"Huber et al.",journalText:"arXiv:2508.19223",doi:"10.48550/arXiv.2508.19223",year:2025}},CitationsList=({citationLabels:r})=>jsxRuntimeExports.jsx("div",{style:{marginLeft:"8px"},children:r.map(n=>jsxRuntimeExports.jsx(CitationText,{info:CITATION_MAPPING[n]},n))}),PRESETS={superconductivity:{sort:"isotropic_tc:desc",method:"pbesol-v1",showColumns:["id","formula","num_atoms","spacegroup_int","isotropic_tc","anisotropic_tc","allen_dynes_tc","highest_phonon_frequency"]}};function getColumnConfigFromUrlParams(r){const n=r.get("sort"),o=r.get("show"),l=r.get("hide"),c=r.get("preset");let f=[],d=[],w=[];if(c&&PRESETS[c]){const y=PRESETS[c];f=parseSortParam(y.sort),d=y.showColumns||[],console.log("showFields",d),w=null}else o&&(d=o.split(",")),l&&(w=l.split(",")),f=parseSortParam(n);return{sortEntries:f,showFields:d,hiddenFields:w}}function parseSortParam(r){return r?r.split(",").map((n,o)=>{const[l,c]=n.split(":");return{field:l,sort:c||"asc",sortIndex:o}}):[]}function updateColumnState(r,n,o,l){const c=o===null;return r.map(f=>{const d={...f},w=n.find(y=>y.field===f.field);return w&&(d.sort=w.sort,d.sortIndex=w.sortIndex),c?d.hide=!l.includes(f.field):o.includes(f.field)?d.hide=!0:l.includes(f.field)&&(d.hide=!1),d})}function getMethodFromPreset(r){if(!r)return null;const n=PRESETS[r];return n?n.method:null}function getMethodFromUrl(r,n){const o=r.get("method");if(o)return o;const l=r.get("preset");return l&&PRESETS[l]&&PRESETS[l].method?PRESETS[l].method:n}function updateColumnsFromUrl(r,n){const{sortEntries:o,hiddenFields:l,showFields:c}=getColumnConfigFromUrlParams(n);return updateColumnState(r,o,l,c)}const DEFAULT_METHOD="pbesol-v2";function MainPage(){const r=new URLSearchParams(window.location.search),[n,o]=reactExports.useState(null),[l,c]=reactExports.useState([]),[f,d]=reactExports.useState([]),w=r.get("preset")||null,y=w?getMethodFromPreset(w):getMethodFromUrl(r,DEFAULT_METHOD),L=reactExports.useRef(null);reactExports.useEffect(()=>{loadGeneralInfo().then(o)},[]),reactExports.useEffect(()=>{loadDataMc3d(y).then(H=>{const ce=updateColumnsFromUrl(H.columns,r);c(ce),d(H.rows)})},[y,w]);const G=H=>{const ce=H.target.value,ie=new URL(window.location);ce==="superconductivity"?(ie.searchParams.set("preset",ce),ie.searchParams.delete("method")):(ie.searchParams.set("method",ce),ie.searchParams.delete("preset")),window.history.pushState({},"",ie.toString()),d([])};return jsxRuntimeExports.jsx(MaterialsCloudHeader,{activeSection:"discover",breadcrumbsPath:[{name:"Discover",link:"https://www.materialscloud.org/discover"},{name:"Materials Cloud Three-Dimensional Structure Database",link:null}],children:jsxRuntimeExports.jsxs(Container,{fluid:"xxl",children:[jsxRuntimeExports.jsx(TitleAndLogo,{}),jsxRuntimeExports.jsxs("div",{className:"description",children:["The Materials Cloud Three-Dimensional Structure Database is a curated dataset of unique, stoichiometric, experimentally known inorganic compounds, and of their calculated properties. Structures have been obtained with fully-relaxed density-functional theory calculations, starting from experimental ones imported, cleaned and parsed from the MPDS, COD and ICSD databases. For more details, please see the related publication:",jsxRuntimeExports.jsx("div",{style:{margin:"10px"},children:jsxRuntimeExports.jsx(CitationsList,{citationLabels:["HuberMc3d25"]})})]}),jsxRuntimeExports.jsxs(Tabs,{defaultActiveKey:"use",children:[jsxRuntimeExports.jsxs(Tab$1,{eventKey:"use",title:"Use",children:[jsxRuntimeExports.jsx(MethodSelectionBox,{genInfo:n,method:y,selectedDisplay:w||null,handleMethodChange:G}),jsxRuntimeExports.jsx(MaterialSelector,{ref:L,columns:l,rows:f}),jsxRuntimeExports.jsx(DownloadButton,{materialSelectorRef:L,disabled:f.length==0,methodLabel:y})]}),jsxRuntimeExports.jsx(Tab$1,{eventKey:"about",title:"About",children:aboutText}),jsxRuntimeExports.jsx(Tab$1,{eventKey:"rest",title:"REST API",children:restapiText})]})]})})}const ControlBox=({viewerParams:r,onViewerParamChange:n,onViewerEvent:o})=>{const l=(d,w)=>{let y=r.supercell;y[d]=parseInt(w),n("supercell",y)},c=d=>{n(d,!r[d])},f=d=>{o("camera",d)};return jsxRuntimeExports.jsxs("div",{className:"control-box",children:[jsxRuntimeExports.jsxs("div",{className:"control-box-row",children:[jsxRuntimeExports.jsxs("div",{className:"supercell-container",children:[jsxRuntimeExports.jsx("label",{children:"Supercell: "}),jsxRuntimeExports.jsx("div",{style:{display:"flex"},children:[0,1,2].map(d=>jsxRuntimeExports.jsx("input",{className:"supercell-input",type:"number",min:"1",max:"99",value:r.supercell[d],onChange:w=>l(d,w.target.value)},d))})]}),jsxRuntimeExports.jsxs("div",{className:"camera-controls",children:[jsxRuntimeExports.jsx("label",{children:"Camera: "}),jsxRuntimeExports.jsx("button",{className:"camera-button",onClick:()=>f("x"),children:"x"}),jsxRuntimeExports.jsx("button",{className:"camera-button",onClick:()=>f("y"),children:"y"}),jsxRuntimeExports.jsx("button",{className:"camera-button",onClick:()=>f("z"),children:"z"})]})]}),jsxRuntimeExports.jsxs("div",{className:"control-box-row",style:{display:"flex"},children:[jsxRuntimeExports.jsxs("label",{className:"option-checkbox",children:[jsxRuntimeExports.jsx("input",{className:"control-box-input",type:"checkbox",checked:r.bonds,onChange:()=>c("bonds")}),jsxRuntimeExports.jsx("span",{children:"Bonds"})]}),jsxRuntimeExports.jsxs("label",{className:"option-checkbox",children:[jsxRuntimeExports.jsx("input",{className:"control-box-input",type:"checkbox",checked:r.packedCell,onChange:()=>c("packedCell")}),jsxRuntimeExports.jsx("span",{children:"Packed cell"})]}),jsxRuntimeExports.jsxs("label",{className:"option-checkbox",children:[jsxRuntimeExports.jsx("input",{className:"control-box-input",type:"checkbox",checked:r.atomLabels,onChange:()=>c("atomLabels")}),jsxRuntimeExports.jsx("span",{children:"Atom labels"})]}),jsxRuntimeExports.jsxs("label",{className:"option-checkbox",children:[jsxRuntimeExports.jsx("input",{className:"control-box-input",type:"checkbox",checked:r.spaceFilling,onChange:()=>c("vdwRadius")}),jsxRuntimeExports.jsx("span",{children:"vdW radius"})]})]})]})};var _3DmolMin={exports:{}};/*! For license information please see 3Dmol-min.js.LICENSE.txt */var hasRequired_3DmolMin;function require_3DmolMin(){return hasRequired_3DmolMin||(hasRequired_3DmolMin=1,(function(module,exports){var factory;factory=()=>(()=>{var __webpack_modules__={3:(r,n,o)=>{var l=o(663),c=o(981),f=o(972),d=o(681),w=o(834),y=o(746),L=o(670),G=Object.prototype.toString;function H(ie){if(!(this instanceof H))return new H(ie);this.options=c.assign({chunkSize:16384,windowBits:0,to:""},ie||{});var Et=this.options;Et.raw&&Et.windowBits>=0&&Et.windowBits<16&&(Et.windowBits=-Et.windowBits,Et.windowBits===0&&(Et.windowBits=-15)),!(Et.windowBits>=0&&Et.windowBits<16)||ie&&ie.windowBits||(Et.windowBits+=32),Et.windowBits>15&&Et.windowBits<48&&(15&Et.windowBits||(Et.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new y,this.strm.avail_out=0;var zn=l.inflateInit2(this.strm,Et.windowBits);if(zn!==d.Z_OK)throw new Error(w[zn]);if(this.header=new L,l.inflateGetHeader(this.strm,this.header),Et.dictionary&&(typeof Et.dictionary=="string"?Et.dictionary=f.string2buf(Et.dictionary):G.call(Et.dictionary)==="[object ArrayBuffer]"&&(Et.dictionary=new Uint8Array(Et.dictionary)),Et.raw&&(zn=l.inflateSetDictionary(this.strm,Et.dictionary))!==d.Z_OK))throw new Error(w[zn])}function ce(ie,Et){var zn=new H(Et);if(zn.push(ie,!0),zn.err)throw zn.msg||w[zn.err];return zn.result}H.prototype.push=function(ie,Et){var zn,$l,zl,Hl,Ft,El=this.strm,Kl=this.options.chunkSize,Al=this.options.dictionary,vu=!1;if(this.ended)return!1;$l=Et===~~Et?Et:Et===!0?d.Z_FINISH:d.Z_NO_FLUSH,typeof ie=="string"?El.input=f.binstring2buf(ie):G.call(ie)==="[object ArrayBuffer]"?El.input=new Uint8Array(ie):El.input=ie,El.next_in=0,El.avail_in=El.input.length;do{if(El.avail_out===0&&(El.output=new c.Buf8(Kl),El.next_out=0,El.avail_out=Kl),(zn=l.inflate(El,d.Z_NO_FLUSH))===d.Z_NEED_DICT&&Al&&(zn=l.inflateSetDictionary(this.strm,Al)),zn===d.Z_BUF_ERROR&&vu===!0&&(zn=d.Z_OK,vu=!1),zn!==d.Z_STREAM_END&&zn!==d.Z_OK)return this.onEnd(zn),this.ended=!0,!1;El.next_out&&(El.avail_out!==0&&zn!==d.Z_STREAM_END&&(El.avail_in!==0||$l!==d.Z_FINISH&&$l!==d.Z_SYNC_FLUSH)||(this.options.to==="string"?(zl=f.utf8border(El.output,El.next_out),Hl=El.next_out-zl,Ft=f.buf2string(El.output,zl),El.next_out=Hl,El.avail_out=Kl-Hl,Hl&&c.arraySet(El.output,El.output,zl,Hl,0),this.onData(Ft)):this.onData(c.shrinkBuf(El.output,El.next_out)))),El.avail_in===0&&El.avail_out===0&&(vu=!0)}while((El.avail_in>0||El.avail_out===0)&&zn!==d.Z_STREAM_END);return zn===d.Z_STREAM_END&&($l=d.Z_FINISH),$l===d.Z_FINISH?(zn=l.inflateEnd(this.strm),this.onEnd(zn),this.ended=!0,zn===d.Z_OK):$l!==d.Z_SYNC_FLUSH||(this.onEnd(d.Z_OK),El.avail_out=0,!0)},H.prototype.onData=function(ie){this.chunks.push(ie)},H.prototype.onEnd=function(ie){ie===d.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=ie,this.msg=this.strm.msg},n.Inflate=H,n.inflate=ce,n.inflateRaw=function(ie,Et){return(Et=Et||{}).raw=!0,ce(ie,Et)},n.ungzip=ce},16:(r,n,o)=>{o.r(n),o.d(n,{CAP:()=>l,CC:()=>L.CC,CONTEXTS_PER_VIEWPORT:()=>vp,Color:()=>L.Color,CustomLinear:()=>G.CustomLinear,Cylinder:()=>w.Cylinder,GLDraw:()=>c,GLModel:()=>b0,GLShape:()=>_h,GLViewer:()=>Rp,GLVolumetricRender:()=>Zf,Gradient:()=>G.Gradient,GradientType:()=>G.GradientType,Label:()=>xp,LabelCount:()=>Of,MarchingCube:()=>ls,MarchingCubeInitializer:()=>up,Matrix3:()=>y.Matrix3,Matrix4:()=>y.Matrix4,Parsers:()=>sp,PausableTimer:()=>H.PausableTimer,PointGrid:()=>ed,ProteinSurface:()=>rh,Quaternion:()=>y.Quaternion,ROYGB:()=>G.ROYGB,RWB:()=>G.RWB,Ray:()=>y.Ray,Sinebow:()=>G.Sinebow,Sphere:()=>w.Sphere,SurfaceType:()=>yg,Triangle:()=>w.Triangle,Vector2:()=>y.Vector2,Vector3:()=>y.Vector3,VolumeData:()=>Ih.VolumeData,adjustVolumeStyle:()=>H.adjustVolumeStyle,applyPartialCharges:()=>Ng,autoinit:()=>Jp,autoload:()=>ag,base64ToArray:()=>H.base64ToArray,bondLength:()=>yh.bondLength,builtinColorSchemes:()=>L.builtinColorSchemes,builtinGradients:()=>G.builtinGradients,chains:()=>L.chains,clamp:()=>y.clamp,conversionMatrix3:()=>y.conversionMatrix3,createStereoViewer:()=>jg,createViewer:()=>Q0,createViewerGrid:()=>dg,deepCopy:()=>H.deepCopy,degToRad:()=>y.degToRad,download:()=>H.download,drawCartoon:()=>Od,elementColors:()=>L.elementColors,extend:()=>H.extend,get:()=>H.get,getAtomProperty:()=>H.getAtomProperty,getColorFromStyle:()=>H.getColorFromStyle,getElement:()=>H.getElement,getExtent:()=>H.getExtent,getGradient:()=>G.getGradient,getPropertyRange:()=>H.getPropertyRange,getbin:()=>H.getbin,htmlColors:()=>L.htmlColors,inflateString:()=>H.inflateString,isEmptyObject:()=>H.isEmptyObject,isNumeric:()=>H.isNumeric,makeFunction:()=>H.makeFunction,mergeGeos:()=>H.mergeGeos,normalizeValue:()=>G.normalizeValue,partialCharges:()=>Yp,processing_autoinit:()=>og,residues:()=>L.residues,setBondLength:()=>yh.setBondLength,setSyncSurface:()=>Pm,specStringToObject:()=>H.specStringToObject,splitMesh:()=>ep,ssColors:()=>L.ssColors,subdivide_spline:()=>ce,syncSurface:()=>I0,viewers:()=>i0});var l,c,f=o(111),d=o(378),w=o(99),y=o(529),L=o(222);(function(kd){kd[kd.NONE=0]="NONE",kd[kd.FLAT=1]="FLAT",kd[kd.ROUND=2]="ROUND"})(l||(l={})),(function(kd){function E(ot,Tl,ll){var Pl,Bl,Ml,Vl,Yl,zu=Math.hypot(ot,Tl);zu<1e-4?(Bl=0,Ml=1):(Bl=-ot/zu,Ml=Tl/zu),Tl=-Bl*ot+Ml*Tl,(Pl=Math.hypot(Tl,ll))<1e-4?(Vl=0,Yl=1):(Vl=ll/Pl,Yl=Tl/Pl);var Fu=new Float32Array(9);return Fu[0]=Ml,Fu[1]=Bl,Fu[2]=0,Fu[3]=-Bl*Yl,Fu[4]=Ml*Yl,Fu[5]=Vl,Fu[6]=Bl*Vl,Fu[7]=-Ml*Vl,Fu[8]=Yl,Fu}var V=new class{constructor(){this.cache={};let ot,Tl=[],ll=Math.pow(2,4),Pl=2,Bl=Math.pow(2,Pl),Ml=ll/Bl;for(Tl[0]=new y.Vector3(-1,0,0),Tl[Ml]=new y.Vector3(0,0,1),Tl[2*Ml]=new y.Vector3(1,0,0),Tl[3*Ml]=new y.Vector3(0,0,-1),Pl=3;Pl<=4;Pl++){for(Bl=Math.pow(2,Pl-1),Ml=ll/Bl,ot=0;ot<Bl-1;ot++)Tl[Ml/2+ot*Ml]=Tl[ot*Ml].clone().add(Tl[(ot+1)*Ml]).normalize();ot=Bl-1,Tl[Ml/2+ot*Ml]=Tl[ot*Ml].clone().add(Tl[0]).normalize()}this.basisVectors=Tl}getVerticesForRadius(ot,Tl,ll){if(this.cache!==void 0&&this.cache[ot]!==void 0&&this.cache[ot][Tl+ll]!==void 0)return this.cache[ot][Tl+ll];for(var Pl,Bl=this.basisVectors.length,Ml=[],Vl=[],Yl=0;Yl<Bl;Yl++)Ml.push(this.basisVectors[Yl].clone().multiplyScalar(ot)),Ml.push(this.basisVectors[Yl].clone().multiplyScalar(ot)),Pl=this.basisVectors[Yl].clone().normalize(),Vl.push(Pl),Vl.push(Pl);var zu,Fu,mu=[],Lu=10,Du=Bl,Qu=2*Math.PI,ld=Math.PI,vd=!1,Ld=!1;for(Fu=0;Fu<=Lu;Fu++){vd=Fu===0||Fu===Lu,Ld=Fu===5;var Ad=[],nh=[];for(zu=0;zu<=Du;zu++)if(Ld){var dh=zu<Du?2*zu:0;nh.push(dh+1),Ad.push(dh)}else{var vh=zu/Du,Xl=Fu/Lu;if(vd&&zu!==0)vd&&Ad.push(Ml.length-1);else if(zu<Du){var $u=new y.Vector3;$u.x=-ot*Math.cos(0+vh*Qu)*Math.sin(0+Xl*ld),$u.y=Tl==1?0:ot*Math.cos(0+Xl*ld),$u.z=ot*Math.sin(0+vh*Qu)*Math.sin(0+Xl*ld),Math.abs($u.x)<1e-5&&($u.x=0),Math.abs($u.y)<1e-5&&($u.y=0),Math.abs($u.z)<1e-5&&($u.z=0),Tl==l.FLAT?(Pl=new y.Vector3(0,Math.cos(0+Xl*ld),0)).normalize():(Pl=new y.Vector3($u.x,$u.y,$u.z)).normalize(),Ml.push($u),Vl.push(Pl),Ad.push(Ml.length-1)}else Ad.push(Ml.length-Du)}Ld&&mu.push(nh),mu.push(Ad)}var Wd={vertices:Ml,normals:Vl,verticesRows:mu,w:Du,h:Lu};return ot in this.cache||(this.cache[ot]={}),this.cache[ot][Tl+ll]=Wd,Wd}};kd.drawCylinder=function(ot,Tl,ll,Pl,Bl,Ml=0,Vl=0){if(!Tl||!ll)return;let Yl=function(Xd){if(typeof Xd=="string"){let Gd=Xd;return Gd.toLowerCase()=="flat"?l.FLAT:Gd.toLowerCase()=="round"?l.ROUND:l.NONE}return Xd};Ml=Yl(Ml);var zu=(Vl=Yl(Vl))||Ml;Bl=Bl||{r:0,g:0,b:0};var Fu,mu,Lu,Du,Qu,ld,vd=E(ll.x-Tl.x,ll.y-Tl.y,ll.z-Tl.z),Ld=V.getVerticesForRadius(Pl,Vl,"to"),Ad=Ld.w,nh=Ld.h,dh=zu?nh*Ad+2:2*Ad,vh=ot.updateGeoGroup(dh),Xl=Ld.vertices,$u=Ld.normals,Wd=Ld.verticesRows,ih=Wd[nh/2],ph=Wd[nh/2+1],Dh=vh.vertices,Uh=vh.vertexArray,Oh=vh.normalArray,Rh=vh.colorArray,Yh=vh.faceArray;for(Lu=0;Lu<Ad;++Lu){var wh=2*Lu;Du=vd[0]*Xl[wh].x+vd[3]*Xl[wh].y+vd[6]*Xl[wh].z,Qu=vd[1]*Xl[wh].x+vd[4]*Xl[wh].y+vd[7]*Xl[wh].z,ld=vd[5]*Xl[wh].y+vd[8]*Xl[wh].z,Fu=3*(Dh+wh),mu=vh.faceidx,Uh[Fu]=Du+Tl.x,Uh[Fu+1]=Qu+Tl.y,Uh[Fu+2]=ld+Tl.z,Uh[Fu+3]=Du+ll.x,Uh[Fu+4]=Qu+ll.y,Uh[Fu+5]=ld+ll.z,Oh[Fu]=Du,Oh[Fu+3]=Du,Oh[Fu+1]=Qu,Oh[Fu+4]=Qu,Oh[Fu+2]=ld,Oh[Fu+5]=ld,Rh[Fu]=Bl.r,Rh[Fu+3]=Bl.r,Rh[Fu+1]=Bl.g,Rh[Fu+4]=Bl.g,Rh[Fu+2]=Bl.b,Rh[Fu+5]=Bl.b,Yh[mu]=ph[Lu]+Dh,Yh[mu+1]=ph[Lu+1]+Dh,Yh[mu+2]=ih[Lu]+Dh,Yh[mu+3]=ih[Lu]+Dh,Yh[mu+4]=ph[Lu+1]+Dh,Yh[mu+5]=ih[Lu+1]+Dh,vh.faceidx+=6}if(zu){var Hh,Cf,nf,mf,af,zh,Af,$f,Rf,cf,dp,np,ip,Xf,Jf,qf,fp,$p,hg,v0,f0,u0,c0,Xp,y0,R0,W0,w0,V0,Qp,j0,A0,Ln=Ml?nh+1:nh/2+1;for(Qu=Vl?0:nh/2;Qu<Ln;Qu++)if(Qu!==nh/2){var Yu=Qu<=nh/2?ll:Tl,hl=V.getVerticesForRadius(Pl,Vl,"to"),eh=V.getVerticesForRadius(Pl,Ml,"from");for(Yu===ll?(Xl=hl.vertices,$u=hl.normals,Wd=hl.verticesRows):Yu==Tl&&(Xl=eh.vertices,$u=eh.normals,Wd=eh.verticesRows),Du=0;Du<Ad;Du++)mu=vh.faceidx,V0=3*((Hh=Wd[Qu][Du+1])+Dh),Qp=3*((Cf=Wd[Qu][Du])+Dh),j0=3*((nf=Wd[Qu+1][Du])+Dh),A0=3*((mf=Wd[Qu+1][Du+1])+Dh),af=vd[0]*Xl[Hh].x+vd[3]*Xl[Hh].y+vd[6]*Xl[Hh].z,zh=vd[0]*Xl[Cf].x+vd[3]*Xl[Cf].y+vd[6]*Xl[Cf].z,Af=vd[0]*Xl[nf].x+vd[3]*Xl[nf].y+vd[6]*Xl[nf].z,$f=vd[0]*Xl[mf].x+vd[3]*Xl[mf].y+vd[6]*Xl[mf].z,Rf=vd[1]*Xl[Hh].x+vd[4]*Xl[Hh].y+vd[7]*Xl[Hh].z,cf=vd[1]*Xl[Cf].x+vd[4]*Xl[Cf].y+vd[7]*Xl[Cf].z,dp=vd[1]*Xl[nf].x+vd[4]*Xl[nf].y+vd[7]*Xl[nf].z,np=vd[1]*Xl[mf].x+vd[4]*Xl[mf].y+vd[7]*Xl[mf].z,ip=vd[5]*Xl[Hh].y+vd[8]*Xl[Hh].z,Xf=vd[5]*Xl[Cf].y+vd[8]*Xl[Cf].z,Jf=vd[5]*Xl[nf].y+vd[8]*Xl[nf].z,qf=vd[5]*Xl[mf].y+vd[8]*Xl[mf].z,Uh[V0]=af+Yu.x,Uh[Qp]=zh+Yu.x,Uh[j0]=Af+Yu.x,Uh[A0]=$f+Yu.x,Uh[V0+1]=Rf+Yu.y,Uh[Qp+1]=cf+Yu.y,Uh[j0+1]=dp+Yu.y,Uh[A0+1]=np+Yu.y,Uh[V0+2]=ip+Yu.z,Uh[Qp+2]=Xf+Yu.z,Uh[j0+2]=Jf+Yu.z,Uh[A0+2]=qf+Yu.z,Rh[V0]=Bl.r,Rh[Qp]=Bl.r,Rh[j0]=Bl.r,Rh[A0]=Bl.r,Rh[V0+1]=Bl.g,Rh[Qp+1]=Bl.g,Rh[j0+1]=Bl.g,Rh[A0+1]=Bl.g,Rh[V0+2]=Bl.b,Rh[Qp+2]=Bl.b,Rh[j0+2]=Bl.b,Rh[A0+2]=Bl.b,fp=vd[0]*$u[Hh].x+vd[3]*$u[Hh].y+vd[6]*$u[Hh].z,$p=vd[0]*$u[Cf].x+vd[3]*$u[Cf].y+vd[6]*$u[Cf].z,hg=vd[0]*$u[nf].x+vd[3]*$u[nf].y+vd[6]*$u[nf].z,v0=vd[0]*$u[mf].x+vd[3]*$u[mf].y+vd[6]*$u[mf].z,f0=vd[1]*$u[Hh].x+vd[4]*$u[Hh].y+vd[7]*$u[Hh].z,u0=vd[1]*$u[Cf].x+vd[4]*$u[Cf].y+vd[7]*$u[Cf].z,c0=vd[1]*$u[nf].x+vd[4]*$u[nf].y+vd[7]*$u[nf].z,Xp=vd[1]*$u[mf].x+vd[4]*$u[mf].y+vd[7]*$u[mf].z,y0=vd[5]*$u[Hh].y+vd[8]*$u[Hh].z,R0=vd[5]*$u[Cf].y+vd[8]*$u[Cf].z,W0=vd[5]*$u[nf].y+vd[8]*$u[nf].z,w0=vd[5]*$u[mf].y+vd[8]*$u[mf].z,Qu===0?(Oh[V0]=fp,Oh[j0]=hg,Oh[A0]=v0,Oh[V0+1]=f0,Oh[j0+1]=c0,Oh[A0+1]=Xp,Oh[V0+2]=y0,Oh[j0+2]=W0,Oh[A0+2]=w0,Yh[mu]=Hh+Dh,Yh[mu+1]=nf+Dh,Yh[mu+2]=mf+Dh,vh.faceidx+=3):Qu===Ln-1?(Oh[V0]=fp,Oh[Qp]=$p,Oh[j0]=hg,Oh[V0+1]=f0,Oh[Qp+1]=u0,Oh[j0+1]=c0,Oh[V0+2]=y0,Oh[Qp+2]=R0,Oh[j0+2]=W0,Yh[mu]=Hh+Dh,Yh[mu+1]=Cf+Dh,Yh[mu+2]=nf+Dh,vh.faceidx+=3):(Oh[V0]=fp,Oh[Qp]=$p,Oh[A0]=v0,Oh[V0+1]=f0,Oh[Qp+1]=u0,Oh[A0+1]=Xp,Oh[V0+2]=y0,Oh[Qp+2]=R0,Oh[A0+2]=w0,Oh[Qp]=$p,Oh[j0]=hg,Oh[A0]=v0,Oh[Qp+1]=u0,Oh[j0+1]=c0,Oh[A0+1]=Xp,Oh[Qp+2]=R0,Oh[j0+2]=W0,Oh[A0+2]=w0,Yh[mu]=Hh+Dh,Yh[mu+1]=Cf+Dh,Yh[mu+2]=mf+Dh,Yh[mu+3]=Cf+Dh,Yh[mu+4]=nf+Dh,Yh[mu+5]=mf+Dh,vh.faceidx+=6)}}vh.vertices+=dh},kd.drawCone=function(ot,Tl,ll,Pl,Bl){if(!Tl||!ll)return;Bl=Bl||{r:0,g:0,b:0};let Ml=new y.Vector3(ll.x-Tl.x,ll.y-Tl.y,ll.z-Tl.z);var Vl=E(Ml.x,Ml.y,Ml.z);Ml=Ml.normalize();var Yl,zu,Fu,mu,Lu,Du,Qu=V.basisVectors.length,ld=V.basisVectors,vd=Qu+2,Ld=ot.updateGeoGroup(vd),Ad=Ld.vertices,nh=Ld.vertexArray,dh=Ld.normalArray,vh=Ld.colorArray,Xl=Ld.faceArray;for(nh[Yl=3*Ad]=Tl.x,nh[Yl+1]=Tl.y,nh[Yl+2]=Tl.z,dh[Yl]=-Ml.x,dh[Yl+1]=-Ml.y,dh[Yl+2]=-Ml.z,vh[Yl]=Bl.r,vh[Yl+1]=Bl.g,vh[Yl+2]=Bl.b,nh[Yl+3]=ll.x,nh[Yl+4]=ll.y,nh[Yl+5]=ll.z,dh[Yl+3]=Ml.x,dh[Yl+4]=Ml.y,dh[Yl+5]=Ml.z,vh[Yl+3]=Bl.r,vh[Yl+4]=Bl.g,vh[Yl+5]=Bl.b,Yl+=6,Fu=0;Fu<Qu;++Fu){var $u=ld[Fu].clone();$u.multiplyScalar(Pl),mu=Vl[0]*$u.x+Vl[3]*$u.y+Vl[6]*$u.z,Lu=Vl[1]*$u.x+Vl[4]*$u.y+Vl[7]*$u.z,Du=Vl[5]*$u.y+Vl[8]*$u.z,nh[Yl]=mu+Tl.x,nh[Yl+1]=Lu+Tl.y,nh[Yl+2]=Du+Tl.z,dh[Yl]=mu,dh[Yl+1]=Lu,dh[Yl+2]=Du,vh[Yl]=Bl.r,vh[Yl+1]=Bl.g,vh[Yl+2]=Bl.b,Yl+=3}for(Ld.vertices+=Qu+2,zu=Ld.faceidx,Fu=0;Fu<Qu;Fu++){var Wd=Ad+2+Fu,ih=Ad+2+(Fu+1)%Qu;Xl[zu]=Wd,Xl[zu+1]=ih,Xl[zu+2]=Ad,Xl[zu+=3]=Wd,Xl[zu+1]=ih,Xl[zu+2]=Ad+1,zu+=3}Ld.faceidx+=6*Qu};var Me=new class{constructor(){this.cache=new Map}getVerticesForRadius(ot,Tl){Tl=Tl||2,this.cache.has(Tl)||this.cache.set(Tl,new Map);let ll=this.cache.get(Tl);if(ll.has(ot))return ll.get(ot);var Pl={vertices:[],verticesRows:[],normals:[]},Bl=16*Tl,Ml=10*Tl;ot<1&&(Bl=10*Tl,Ml=8*Tl);var Vl,Yl,zu=2*Math.PI,Fu=Math.PI;for(Yl=0;Yl<=Ml;Yl++){let Lu=[];for(Vl=0;Vl<=Bl;Vl++){let Du=Vl/Bl,Qu=Yl/Ml,ld=-ot*Math.cos(0+Du*zu)*Math.sin(0+Qu*Fu),vd=ot*Math.cos(0+Qu*Fu),Ld=ot*Math.sin(0+Du*zu)*Math.sin(0+Qu*Fu);var mu=new y.Vector3(ld,vd,Ld);mu.normalize(),Pl.vertices.push({x:ld,y:vd,z:Ld}),Pl.normals.push(mu),Lu.push(Pl.vertices.length-1)}Pl.verticesRows.push(Lu)}return ll.set(ot,Pl),Pl}};kd.drawSphere=function(ot,Tl,ll,Pl,Bl){var Ml=Me.getVerticesForRadius(ll,Bl),Vl=Ml.vertices,Yl=Ml.normals,zu=ot.updateGeoGroup(Vl.length),Fu=zu.vertices,mu=zu.vertexArray,Lu=zu.colorArray,Du=zu.faceArray,Qu=zu.lineArray,ld=zu.normalArray;for(let Ad=0,nh=Vl.length;Ad<nh;++Ad){let dh=3*(Fu+Ad),vh=Vl[Ad];mu[dh]=vh.x+Tl.x,mu[dh+1]=vh.y+Tl.y,mu[dh+2]=vh.z+Tl.z,Lu[dh]=Pl.r,Lu[dh+1]=Pl.g,Lu[dh+2]=Pl.b}zu.vertices+=Vl.length;let vd=Ml.verticesRows,Ld=vd.length-1;for(let Ad=0;Ad<Ld;Ad++){let nh=vd[Ad].length-1;for(let dh=0;dh<nh;dh++){let vh=zu.faceidx,Xl=zu.lineidx,$u=vd[Ad][dh+1]+Fu,Wd=3*$u,ih=vd[Ad][dh]+Fu,ph=3*ih,Dh=vd[Ad+1][dh]+Fu,Uh=3*Dh,Oh=vd[Ad+1][dh+1]+Fu,Rh=3*Oh,Yh=Yl[$u-Fu],wh=Yl[ih-Fu],Hh=Yl[Dh-Fu],Cf=Yl[Oh-Fu];Math.abs(Vl[$u-Fu].y)===ll?(ld[Wd]=Yh.x,ld[Uh]=Hh.x,ld[Rh]=Cf.x,ld[Wd+1]=Yh.y,ld[Uh+1]=Hh.y,ld[Rh+1]=Cf.y,ld[Wd+2]=Yh.z,ld[Uh+2]=Hh.z,ld[Rh+2]=Cf.z,Du[vh]=$u,Du[vh+1]=Dh,Du[vh+2]=Oh,Qu[Xl]=$u,Qu[Xl+1]=Dh,Qu[Xl+2]=$u,Qu[Xl+3]=Oh,Qu[Xl+4]=Dh,Qu[Xl+5]=Oh,zu.faceidx+=3,zu.lineidx+=6):Math.abs(Vl[Dh-Fu].y)===ll?(ld[Wd]=Yh.x,ld[ph]=wh.x,ld[Uh]=Hh.x,ld[Wd+1]=Yh.y,ld[ph+1]=wh.y,ld[Uh+1]=Hh.y,ld[Wd+2]=Yh.z,ld[ph+2]=wh.z,ld[Uh+2]=Hh.z,Du[vh]=$u,Du[vh+1]=ih,Du[vh+2]=Dh,Qu[Xl]=$u,Qu[Xl+1]=ih,Qu[Xl+2]=$u,Qu[Xl+3]=Dh,Qu[Xl+4]=ih,Qu[Xl+5]=Dh,zu.faceidx+=3,zu.lineidx+=6):(ld[Wd]=Yh.x,ld[ph]=wh.x,ld[Rh]=Cf.x,ld[Wd+1]=Yh.y,ld[ph+1]=wh.y,ld[Rh+1]=Cf.y,ld[Wd+2]=Yh.z,ld[ph+2]=wh.z,ld[Rh+2]=Cf.z,ld[ph]=wh.x,ld[Uh]=Hh.x,ld[Rh]=Cf.x,ld[ph+1]=wh.y,ld[Uh+1]=Hh.y,ld[Rh+1]=Cf.y,ld[ph+2]=wh.z,ld[Uh+2]=Hh.z,ld[Rh+2]=Cf.z,Du[vh]=$u,Du[vh+1]=ih,Du[vh+2]=Oh,Du[vh+3]=ih,Du[vh+4]=Dh,Du[vh+5]=Oh,Qu[Xl]=$u,Qu[Xl+1]=ih,Qu[Xl+2]=$u,Qu[Xl+3]=Oh,Qu[Xl+4]=ih,Qu[Xl+5]=Dh,Qu[Xl+6]=Dh,Qu[Xl+7]=Oh,zu.faceidx+=6,zu.lineidx+=8)}}}})(c||(c={}));var G=o(546),H=o(864);function ce(kd,E){var V,Me,ot,Tl,ll,Pl,Bl,Ml,Vl,Yl=[],zu=kd;for((zu=[]).push(kd[0]),V=1,Me=kd.length-1;V<Me;V++)if(ll=kd[V],Pl=kd[V+1],ll.smoothen){var Fu=new y.Vector3((ll.x+Pl.x)/2,(ll.y+Pl.y)/2,(ll.z+Pl.z)/2);Fu.atom=ll.atom,zu.push(Fu)}else zu.push(ll);for(zu.push(kd[kd.length-1]),V=-1,ot=zu.length;V<=ot-3;V++)if(Tl=zu[V===-1?0:V],ll=zu[V+1],Pl=zu[V+2],Bl=zu[V===ot-3?ot-1:V+3],Ml=new y.Vector3().subVectors(Pl,Tl).multiplyScalar(.5),Vl=new y.Vector3().subVectors(Bl,ll).multiplyScalar(.5),!Pl.skip)for(var mu=0;mu<E;mu++){var Lu=1/E*mu,Du=ll.x+Lu*Ml.x+Lu*Lu*(-3*ll.x+3*Pl.x-2*Ml.x-Vl.x)+Lu*Lu*Lu*(2*ll.x-2*Pl.x+Ml.x+Vl.x),Qu=ll.y+Lu*Ml.y+Lu*Lu*(-3*ll.y+3*Pl.y-2*Ml.y-Vl.y)+Lu*Lu*Lu*(2*ll.y-2*Pl.y+Ml.y+Vl.y),ld=ll.z+Lu*Ml.z+Lu*Lu*(-3*ll.z+3*Pl.z-2*Ml.z-Vl.z)+Lu*Lu*Lu*(2*ll.z-2*Pl.z+Ml.z+Vl.z),vd=new y.Vector3(Du,Qu,ld);vd.atom=mu<E/2?ll.atom:Pl.atom,Yl.push(vd)}return Yl.push(zu[zu.length-1]),Yl}const ie=.5,Et=1.3,zn=.8,$l=.4,zl=.4;function Hl(kd,E,V,Me){for(var ot,Tl,ll,Pl,Bl=0,Ml=E.length;Bl<Ml;Bl++){Pl=Math.round(Bl*(Me.length-1)/Ml),ll=L.CC.color(Me[Pl]);var Vl=kd.updateGeoGroup(2),Yl=Vl.vertexArray,zu=Vl.colorArray,Fu=Vl.faceArray;Yl[Tl=3*(ot=Vl.vertices)]=E[Bl].x,Yl[Tl+1]=E[Bl].y,Yl[Tl+2]=E[Bl].z,Yl[Tl+3]=V[Bl].x,Yl[Tl+4]=V[Bl].y,Yl[Tl+5]=V[Bl].z;for(var mu=0;mu<6;++mu)zu[Tl+3*mu]=ll.r,zu[Tl+1+3*mu]=ll.g,zu[Tl+2+3*mu]=ll.b;if(Bl>0){var Lu=[ot,ot+1,ot-1,ot-2],Du=Vl.faceidx;Fu[Du]=Lu[0],Fu[Du+1]=Lu[1],Fu[Du+2]=Lu[3],Fu[Du+3]=Lu[1],Fu[Du+4]=Lu[2],Fu[Du+5]=Lu[3],Vl.faceidx+=6}Vl.vertices+=2}}function Ft(kd,E,V,Me,ot,Tl,ll){ll&&ll!=="default"||(ll="rectangle"),ll==="edged"?(function(Pl,Bl,Ml,Vl,Yl){if(!(Bl.length<2)){var zu,Fu;if(zu=Bl[0],Fu=Bl[Bl.length-1],zu=ce(zu,Vl),Fu=ce(Fu,Vl),!Yl)return Hl(Pl,zu,Fu,Ml);var mu,Lu,Du,Qu,ld,vd,Ld,Ad,nh,dh,vh,Xl,$u,Wd,ih,ph,Dh,Uh,Oh,Rh,Yh,wh,Hh=[],Cf=[[0,2,-6,-8],[-4,-2,6,4],[7,-1,-5,3],[-3,5,1,-7]];for($u=0,Wd=zu.length;$u<Wd;$u++){if(dh=Math.round($u*(Ml.length-1)/Wd),nh=L.CC.color(Ml[dh]),Hh.push(Lu=zu[$u]),Hh.push(Lu),Hh.push(Du=Fu[$u]),Hh.push(Du),$u<Wd-1){var nf=zu[$u+1].clone().sub(zu[$u]);mu=Fu[$u].clone().sub(zu[$u]).cross(nf).normalize().multiplyScalar(Yl)}for(Hh.push(Qu=zu[$u].clone().add(mu)),Hh.push(Qu),Hh.push(ld=Fu[$u].clone().add(mu)),Hh.push(ld),Lu.atom!==void 0&&(vh=Lu.atom),Rh=(Oh=Pl.updateGeoGroup(8)).vertexArray,Yh=Oh.colorArray,wh=Oh.faceArray,Rh[Ld=3*(vd=Oh.vertices)]=Lu.x,Rh[Ld+1]=Lu.y,Rh[Ld+2]=Lu.z,Rh[Ld+3]=Lu.x,Rh[Ld+4]=Lu.y,Rh[Ld+5]=Lu.z,Rh[Ld+6]=Du.x,Rh[Ld+7]=Du.y,Rh[Ld+8]=Du.z,Rh[Ld+9]=Du.x,Rh[Ld+10]=Du.y,Rh[Ld+11]=Du.z,Rh[Ld+12]=Qu.x,Rh[Ld+13]=Qu.y,Rh[Ld+14]=Qu.z,Rh[Ld+15]=Qu.x,Rh[Ld+16]=Qu.y,Rh[Ld+17]=Qu.z,Rh[Ld+18]=ld.x,Rh[Ld+19]=ld.y,Rh[Ld+20]=ld.z,Rh[Ld+21]=ld.x,Rh[Ld+22]=ld.y,Rh[Ld+23]=ld.z,ih=0;ih<8;++ih)Yh[Ld+3*ih]=nh.r,Yh[Ld+1+3*ih]=nh.g,Yh[Ld+2+3*ih]=nh.b;if($u>0){var mf=Xl!==void 0&&vh!==void 0&&Xl.serial!==vh.serial;for(ih=0;ih<4;ih++){var af=[vd+Cf[ih][0],vd+Cf[ih][1],vd+Cf[ih][2],vd+Cf[ih][3]];if(wh[Ad=Oh.faceidx]=af[0],wh[Ad+1]=af[1],wh[Ad+2]=af[3],wh[Ad+3]=af[1],wh[Ad+4]=af[2],wh[Ad+5]=af[3],Oh.faceidx+=6,vh.clickable||Xl.clickable||vh.hoverable||Xl.hoverable){var zh=Hh[af[3]].clone(),Af=Hh[af[0]].clone(),$f=Hh[af[2]].clone(),Rf=Hh[af[1]].clone();if(zh.atom=Hh[af[3]].atom||null,$f.atom=Hh[af[2]].atom||null,Af.atom=Hh[af[0]].atom||null,Rf.atom=Hh[af[1]].atom||null,mf){var cf=zh.clone().add(Af).multiplyScalar(.5),dp=$f.clone().add(Rf).multiplyScalar(.5),np=zh.clone().add(Rf).multiplyScalar(.5);ih%2==0?((Xl.clickable||Xl.hoverable)&&(ph=new w.Triangle(cf,np,zh),Dh=new w.Triangle(dp,$f,np),Uh=new w.Triangle(np,$f,zh),Xl.intersectionShape.triangle.push(ph),Xl.intersectionShape.triangle.push(Dh),Xl.intersectionShape.triangle.push(Uh)),(vh.clickable||vh.hoverable)&&(ph=new w.Triangle(Af,Rf,np),Dh=new w.Triangle(Rf,dp,np),Uh=new w.Triangle(Af,np,cf),vh.intersectionShape.triangle.push(ph),vh.intersectionShape.triangle.push(Dh),vh.intersectionShape.triangle.push(Uh))):((vh.clickable||vh.hoverable)&&(ph=new w.Triangle(cf,np,zh),Dh=new w.Triangle(dp,$f,np),Uh=new w.Triangle(np,$f,zh),vh.intersectionShape.triangle.push(ph),vh.intersectionShape.triangle.push(Dh),vh.intersectionShape.triangle.push(Uh)),(Xl.clickable||Xl.hoverable)&&(ph=new w.Triangle(Af,Rf,np),Dh=new w.Triangle(Rf,dp,np),Uh=new w.Triangle(Af,np,cf),Xl.intersectionShape.triangle.push(ph),Xl.intersectionShape.triangle.push(Dh),Xl.intersectionShape.triangle.push(Uh)))}else(vh.clickable||vh.hoverable)&&(ph=new w.Triangle(Af,Rf,zh),Dh=new w.Triangle(Rf,$f,zh),vh.intersectionShape.triangle.push(ph),vh.intersectionShape.triangle.push(Dh))}}}Oh.vertices+=8,Xl=vh}var ip=Hh.length-8;for(Rh=(Oh=Pl.updateGeoGroup(8)).vertexArray,Yh=Oh.colorArray,wh=Oh.faceArray,Ld=3*(vd=Oh.vertices),Ad=Oh.faceidx,$u=0;$u<4;$u++){Hh.push(Hh[2*$u]),Hh.push(Hh[ip+2*$u]);var Xf=Hh[2*$u],Jf=Hh[ip+2*$u];Rh[Ld+6*$u]=Xf.x,Rh[Ld+1+6*$u]=Xf.y,Rh[Ld+2+6*$u]=Xf.z,Rh[Ld+3+6*$u]=Jf.x,Rh[Ld+4+6*$u]=Jf.y,Rh[Ld+5+6*$u]=Jf.z,Yh[Ld+6*$u]=nh.r,Yh[Ld+1+6*$u]=nh.g,Yh[Ld+2+6*$u]=nh.b,Yh[Ld+3+6*$u]=nh.r,Yh[Ld+4+6*$u]=nh.g,Yh[Ld+5+6*$u]=nh.b}ip+=8,ph=[vd,vd+2,vd+6,vd+4],Dh=[vd+1,vd+5,vd+7,vd+3],wh[Ad]=ph[0],wh[Ad+1]=ph[1],wh[Ad+2]=ph[3],wh[Ad+3]=ph[1],wh[Ad+4]=ph[2],wh[Ad+5]=ph[3],wh[Ad+6]=Dh[0],wh[Ad+7]=Dh[1],wh[Ad+8]=Dh[3],wh[Ad+9]=Dh[1],wh[Ad+10]=Dh[2],wh[Ad+11]=Dh[3],Oh.faceidx+=12,Oh.vertices+=8}})(kd,E,V,Me,ot):ll!=="rectangle"&&ll!=="oval"&&ll!=="parabola"||(function(Pl,Bl,Ml,Vl,Yl,zu,Fu){var mu,Lu,Du,Qu,ld,vd,Ld,Ad,nh,dh;if((Du=Bl.length)<2||Bl[0].length<2)return;for(mu=0;mu<Du;mu++)Bl[mu]=ce(Bl[mu],Vl);if(Qu=Bl[0].length,!Yl)return Hl(Pl,Bl[0],Bl[Du-1],Ml);var vh=[],Xl=[],$u=[];for(Lu=0;Lu<Du;Lu++)vh.push(.25+1.5*Math.sqrt((Du-1)*Lu-Math.pow(Lu,2))/(Du-1)),Xl.push(.5),$u.push(2*(Math.pow(Lu/Du,2)-Lu/Du)+.6);var Wd,ih,ph,Dh,Uh,Oh,Rh,Yh,wh,Hh,Cf=[];for(Lu=0;Lu<2*Du-1;Lu++)Cf[Lu]=[Lu,Lu+1,Lu+1-2*Du,Lu-2*Du];Cf[2*Du-1]=[Lu,Lu+1-2*Du,Lu+1-4*Du,Lu-2*Du];let nf=Pl.updateGeoGroup();for(mu=0;mu<Qu;mu++){let Af=Pl.groups,$f=!1;var mf,af;for(nf=Pl.updateGeoGroup(2*Du),Af!=Pl.groups&&mu>0&&(mu-=1,$f=!0),Oh=Math.round(mu*(Ml.length-1)/Qu),Uh=L.CC.color(Ml[Oh]),nh=Ld,dh=Ad,Ld=[],Ad=[],ld=[],Bl[0][mu].atom!==void 0&&(Dh=Bl[0][mu].atom,Fu==="oval"?vd=vh:Fu==="rectangle"?vd=Xl:Fu==="parabola"&&(vd=$u)),vd||(vd=Xl),Lu=0;Lu<Du;Lu++)mf=mu<Qu-1?Bl[Lu][mu+1].clone().sub(Bl[Lu][mu]):Bl[Lu][mu-1].clone().sub(Bl[Lu][mu]).negate(),af=Lu<Du-1?Bl[Lu+1][mu].clone().sub(Bl[Lu][mu]):Bl[Lu-1][mu].clone().sub(Bl[Lu][mu]).negate(),ld[Lu]=af.cross(mf).normalize().multiplyScalar(Yl*vd[Lu]);for(Lu=0;Lu<Du;Lu++)Ld[Lu]=Bl[Lu][mu].clone().add(ld[Lu].clone().negate());for(Lu=0;Lu<Du;Lu++)Ad[Lu]=Bl[Lu][mu].clone().add(ld[Lu]);for(Rh=nf.vertexArray,Yh=nf.colorArray,wh=nf.faceArray,ih=3*(Wd=nf.vertices),Lu=0;Lu<Du;Lu++)Rh[ih+3*Lu+0]=Ld[Lu].x,Rh[ih+3*Lu+1]=Ld[Lu].y,Rh[ih+3*Lu+2]=Ld[Lu].z;for(Lu=0;Lu<Du;Lu++)Rh[ih+3*Lu+0+3*Du]=Ad[Du-1-Lu].x,Rh[ih+3*Lu+1+3*Du]=Ad[Du-1-Lu].y,Rh[ih+3*Lu+2+3*Du]=Ad[Du-1-Lu].z;for(Lu=0;Lu<2*Du;++Lu)Yh[ih+3*Lu+0]=Uh.r,Yh[ih+3*Lu+1]=Uh.g,Yh[ih+3*Lu+2]=Uh.b;if(mu>0&&!$f){for(Lu=0;Lu<2*Du;Lu++)Hh=[Wd+Cf[Lu][0],Wd+Cf[Lu][1],Wd+Cf[Lu][2],Wd+Cf[Lu][3]],wh[ph=nf.faceidx]=Hh[0],wh[ph+1]=Hh[1],wh[ph+2]=Hh[3],wh[ph+3]=Hh[1],wh[ph+4]=Hh[2],wh[ph+5]=Hh[3],nf.faceidx+=6;if(Dh.clickable||Dh.hoverable){var zh=[];for(Lu in zh.push(new w.Triangle(nh[0],Ld[0],Ld[Du-1])),zh.push(new w.Triangle(nh[0],Ld[Du-1],nh[Du-1])),zh.push(new w.Triangle(nh[Du-1],Ld[Du-1],Ad[Du-1])),zh.push(new w.Triangle(nh[Du-1],Ad[Du-1],dh[Du-1])),zh.push(new w.Triangle(Ad[0],dh[0],dh[Du-1])),zh.push(new w.Triangle(Ad[Du-1],Ad[0],dh[Du-1])),zh.push(new w.Triangle(Ld[0],nh[0],dh[0])),zh.push(new w.Triangle(Ad[0],Ld[0],dh[0])),zh)Dh.intersectionShape.triangle.push(zh[Lu])}}nf.vertices+=2*Du}for(Rh=nf.vertexArray,Yh=nf.colorArray,wh=nf.faceArray,ih=3*(Wd=nf.vertices),ph=nf.faceidx,mu=0;mu<Du-1;mu++)Hh=[mu,mu+1,2*Du-2-mu,2*Du-1-mu],wh[ph=nf.faceidx]=Hh[0],wh[ph+1]=Hh[1],wh[ph+2]=Hh[3],wh[ph+3]=Hh[1],wh[ph+4]=Hh[2],wh[ph+5]=Hh[3],nf.faceidx+=6;for(mu=0;mu<Du-1;mu++)Hh=[Wd-1-mu,Wd-2-mu,Wd-2*Du+mu+1,Wd-2*Du+mu],wh[ph=nf.faceidx]=Hh[0],wh[ph+1]=Hh[1],wh[ph+2]=Hh[3],wh[ph+3]=Hh[1],wh[ph+4]=Hh[2],wh[ph+5]=Hh[3],nf.faceidx+=6})(kd,E,V,Me,ot,0,ll)}function El(kd){return kd&&kd.elem==="C"&&kd.atom==="CA"}function Kl(kd,E){if(kd&&E&&kd.chain===E.chain){if(!(kd.hetflag||E.hetflag||kd.reschain!==E.reschain||kd.resi!==E.resi&&kd.resi!==E.resi-1))return!0;if(kd.resi<E.resi){var V=kd.x-E.x,Me=kd.y-E.y,ot=kd.z-E.z,Tl=V*V+Me*Me+ot*ot;if(kd.atom=="CA"&&E.atom=="CA"&&Tl<16||(kd.atom=="P"||E.atom=="P")&&Tl<64)return!0}}return!1}function Al(kd,E,V,Me,ot){if(E!=null&&E.vertices!=0){ot&&(E.initTypedArrays(),E.setUpNormals());var Tl=new d.MeshDoubleLambertMaterial;Tl.vertexColors=d.Coloring.FaceColors,typeof V=="number"&&V>=0&&V<1&&(Tl.transparent=!0,Tl.opacity=V),Tl.outline=Me;var ll=new d.Mesh(E,Tl);kd.add(ll)}}function vu(kd,E,V,Me,ot,Tl,ll,Pl,Bl){var Ml,Vl,Yl,zu,Fu,mu;if(Me&&ot&&ll){var Lu=ot.sub(Me);Lu.normalize();var Du=Pl[Bl];for(Vl=Bl+1;Vl<Pl.length&&(Du=Pl[Vl]).atom!=ll.atom;Vl++);if((Du=Du?new y.Vector3(Du.x,Du.y,Du.z):new y.Vector3(0,0,0)).sub(Me),ll.ss==="arrow start"){var Qu=Du.clone().multiplyScalar(.3).cross(ot);Me.add(Qu);var ld=Du.clone().cross(Lu).normalize();Lu.rotateAboutVector(ld,.43)}for(ll.style.cartoon.ribbon?Ml=ll.style.cartoon.thickness||$l:ll.style.cartoon.width?Ml=ll.style.cartoon.width:ll.ss==="c"?Ml=ll.atom==="P"?zn:ie:ll.ss==="arrow start"?(Ml=Et,Fu=!0):Ml=ll.ss==="arrow end"||ll.ss==="h"&&ll.style.cartoon.tubes||ll.ss==="tube start"?ie:Et,Tl!=null&&Lu.dot(Tl)<0&&Lu.negate(),Lu.multiplyScalar(Ml),Vl=0;Vl<E;Vl++)Yl=2*Vl/(E-1)-1,(zu=new y.Vector3(Me.x+Yl*Lu.x,Me.y+Yl*Lu.y,Me.z+Yl*Lu.z)).atom=ll,ll.ss==="s"&&(zu.smoothen=!0),kd[Vl].push(zu);if(Fu)for(Lu.multiplyScalar(2),Vl=0;Vl<E;Vl++)Yl=2*Vl/(E-1)-1,(zu=new y.Vector3(Me.x+Yl*Lu.x,Me.y+Yl*Lu.y,Me.z+Yl*Lu.z)).atom=ll,zu.smoothen=!1,zu.skip=!0,kd[Vl].push(zu);return mu=ll.style.cartoon.style||"default",kd.style?kd.style!=mu&&(console.log("Warning: a cartoon chain's strand-style is ambiguous"),kd.style="default"):kd.style=mu,ll.ss!=="arrow start"&&ll.ss!=="arrow end"||(ll.ss="s"),Fu}}const Nl={C:!0,CA:!0,O:!0,P:!0,OP2:!0,O2P:!0,"O5'":!0,"O3'":!0,"C5'":!0,"C2'":!0,"O5*":!0,"O3*":!0,"C5*":!0,"C2*":!0,N1:!0,N3:!0},Xu={DA:!0,DG:!0,A:!0,G:!0},Vu={DT:!0,DC:!0,U:!0,C:!0,T:!0},Zu={DA:!0,DG:!0,A:!0,G:!0,DT:!0,DC:!0,U:!0,C:!0,T:!0};function Od(kd,E,V,Me=10){let ot=Me,Tl=Me;var ll,Pl,Bl,Ml,Vl,Yl,zu,Fu,mu,Lu,Du,Qu,ld,vd,Ld,Ad,nh,dh,vh=new d.Geometry(!0),Xl=new d.Geometry(!0),$u=[],Wd=[],ih=1,ph=!1,Dh={};for(var Uh in G.Gradient.builtinGradients)G.Gradient.builtinGradients.hasOwnProperty(Uh)&&(Dh[Uh]=new G.Gradient.builtinGradients[Uh](V[1],V[0]));var Oh=function(Xf,Jf){return V&&Jf.color==="spectrum"?Jf.colorscheme in Dh?Dh[Jf.colorscheme].valueToHex(Xf.resi):Dh.sinebow.valueToHex(Xf.resi):(0,H.getColorFromStyle)(Xf,Jf).getHex()};for(Fu=0;Fu<ot;Fu++)Wd[Fu]=[];var Rh=!1,Yh=!1,wh=[];for(Fu in E){if((Ml=E[Fu]).elem==="C"&&Ml.atom==="CA"){var Hh=Kl(Bl,Ml);Hh&&Ml.ss==="s"?Rh=!0:Rh&&(Bl&&Pl&&Bl.style.cartoon.arrows&&Pl.style.cartoon.arrows&&(Bl.ss="arrow end",Pl.ss="arrow start"),Rh=!1),Hh&&(Bl.ss==="h"||Bl.ss=="tube start")&&Bl.style.cartoon.tubes?!Yh&&Bl.ss!="tube start"&&Ml.style.cartoon.tubes&&(Ml.ss="tube start",Yh=!0):Yh&&(Bl.ss==="tube start"?Bl.ss="tube end":Pl&&Pl.style.cartoon.tubes&&(Pl.ss="tube end"),Yh=!1),Pl=Bl,Bl=Ml}Ml&&Ml.atom in Nl&&wh.push(Ml)}Yh&&Bl.style.cartoon.tubes&&(Bl.ss="tube end",Yh=!1);var Cf=function(Xf){Wd[0].length>0&&Ft(Xl,Wd,$u,Tl,zu,0,Wd.style);var Jf=[],qf=null;if(Xf){for(Fu=0;Fu<ot;Fu++)Jf[Fu]=Wd[Fu][Wd[Fu].length-1];qf=$u[$u.length-1]}for(Wd=[],Fu=0;Fu<ot;Fu++)Wd[Fu]=[];if($u=[],Xf){for(Fu=0;Fu<ot;Fu++)Wd[Fu].push(Jf[Fu]);$u.push(qf)}Al(kd,Xl,ih,ph,!0),Al(kd,vh,ih,ph,!1),Xl=new d.Geometry(!0),vh=new d.Geometry(!0)};Bl=void 0;let nf=[];for(var mf=0;mf<wh.length;mf++){var af=(Ml=wh[mf]).resn.trim(),zh=af in Zu;if(ih=1,ll=Ml.style.cartoon,Bl&&Bl.style.cartoon&&(ih=Bl.style.cartoon.opacity),Bl&&Bl.style.cartoon&&Bl.style.cartoon.outline&&(ph=Bl.style.cartoon.outline),!Bl||!Bl.style.cartoon||Ml.style.cartoon&&Bl.style.cartoon.opacity==Ml.style.cartoon.opacity||Cf(Bl.chain==Ml.chain),Bl&&Ml&&!Kl(Bl,Ml)&&Bl.chain&&Bl.chain==Ml.chain&&!Bl.hetflag&&!Ml.hetflag&&Bl.reschain+1==Ml.reschain&&nf.push([Bl,Ml]),ll.style==="trace"){if(!Ml.hetflag&&(Ml.elem==="C"&&Ml.atom==="CA"||zh&&Ml.atom==="P"||Ml.atom==="BB")){if(Yl=Oh(Ml,ll),zu=(0,H.isNumeric)(ll.thickness)?ll.thickness:$l,Kl(Bl,Ml))if(Yl==Vl){var Af=L.CC.color(Yl);c.drawCylinder(vh,Bl,Ml,zu,Af,2,2)}else{var $f=new y.Vector3().addVectors(Bl,Ml).multiplyScalar(.5),Rf=L.CC.color(Vl),cf=L.CC.color(Yl);c.drawCylinder(vh,Bl,$f,zu,Rf,2,0),c.drawCylinder(vh,$f,Ml,zu,cf,0,2)}if((Ml.clickable===!0||Ml.hoverable)&&Ml.intersectionShape!==void 0){var dp=new y.Vector3(Ml.x,Ml.y,Ml.z);Ml.intersectionShape.sphere.push(new w.Sphere(dp,zu))}Bl=Ml,Vl=Yl}}else{if(El(Ml)||zh&&(Ml.atom==="P"||Ml.atom.indexOf("O5")==0)){if(dh)if(Ml.ss==="tube end")dh=!1,nh=new y.Vector3(Ml.x,Ml.y,Ml.z),c.drawCylinder(vh,Ad,nh,2,L.CC.color(Vl),1,1),Ml.ss="h";else{if(Bl.chain==Ml.chain&&Bl.ss!=="tube end")continue;dh=!1,Bl.ss="h",nh=new y.Vector3(Bl.x,Bl.y,Bl.z),c.drawCylinder(vh,Ad,nh,2,L.CC.color(Vl),1,1)}if(Bl&&(!Kl(Bl,Ml)||Bl.ss==="tube start")){for(Bl.ss==="tube start"&&(dh=!0,Ad=new y.Vector3(Bl.x,Bl.y,Bl.z),Bl.ss="h"),Ld&&(vd=Qu?new y.Vector3().addVectors(Bl,Qu).multiplyScalar(.5):new y.Vector3(Bl.x,Bl.y,Bl.z),c.drawCylinder(vh,vd,Ld,zl,L.CC.color(Ld.color),0,2),vu(Wd,ot,!0,Qu,ld,Du,Bl,wh,mf),$u.push(Yl),vd=null,Ld=null),Wd[0].length>0&&Ft(Xl,Wd,$u,Tl,zu,0,Wd.style),Wd=[],Fu=0;Fu<ot;Fu++)Wd[Fu]=[];$u=[]}if(Bl===void 0||Bl.rescode!=Ml.rescode||Bl.resi!=Ml.resi){if(Ld&&Bl!=null){var np=(vd=new y.Vector3().addVectors(Bl,Ml).multiplyScalar(.5)).clone().sub(Ld).multiplyScalar(.02);vd.add(np),c.drawCylinder(vh,vd,Ld,zl,L.CC.color(Ld.color),0,2),vd=null,Ld=null}Yl=Oh(Ml,ll),$u.push(Yl),zu=(0,H.isNumeric)(ll.thickness)?ll.thickness:$l,Bl=Ml,(mu=new y.Vector3(Bl.x,Bl.y,Bl.z)).resi=Bl.resi,Vl=Yl}Ml.clickable!==!0&&Ml.hoverable!==!0||Ml.intersectionShape!==void 0&&Ml.intersectionShape.triangle!==void 0||(Ml.intersectionShape={sphere:null,cylinder:[],line:[],triangle:[]})}else Bl!=null&&(El(Bl)&&Ml.atom==="O"||zh&&Bl.atom==="P"&&(Ml.atom==="OP2"||Ml.atom==="O2P")||zh&&Bl.atom.indexOf("O5")==0&&Ml.atom.indexOf("C5")==0)?((Lu=new y.Vector3(Ml.x,Ml.y,Ml.z)).resi=Ml.resi,Ml.atom!=="OP2"&&Ml.atom!=="O2P"||(ld=new y.Vector3(Ml.x,Ml.y,Ml.z))):zh&&Ml.atom.indexOf("O3")==0?Qu=new y.Vector3(Ml.x,Ml.y,Ml.z):(Ml.atom==="N1"&&af in Xu||Ml.atom==="N3"&&af in Vu)&&((Ld=new y.Vector3(Ml.x,Ml.y,Ml.z)).color=(0,H.getColorFromStyle)(Ml,ll).getHex());Lu&&mu&&Lu.resi===mu.resi&&(vu(Wd,ot,!0,mu,Lu,Du,Bl,wh,mf),Du=Lu,mu=null,Lu=null,$u.push(Yl))}}Ld&&(vd=Qu?new y.Vector3().addVectors(Bl,Qu).multiplyScalar(.5):new y.Vector3(Bl.x,Bl.y,Bl.z),c.drawCylinder(vh,vd,Ld,zl,L.CC.color(Ld.color),0,2),vu(Wd,ot,!0,Qu,ld,Du,Bl,wh,mf),$u.push(Yl)),Cf(!1);var ip=function(Xf,Jf){if(Xf.style.cartoon.gapcutoff&&Xf.style.cartoon.gapcutoff==Jf.style.cartoon.gapcutoff){let fp=Xf.style.cartoon.gapcutoff,$p=Jf.resi-Xf.resi;if($p>0&&$p<fp){let hg=.25,v0=Jf.x-Xf.x,f0=Jf.y-Xf.y,u0=Jf.z-Xf.z,c0=Math.sqrt(v0*v0+f0*f0+u0*u0),Xp=c0/(2*$p),y0=new y.Vector3(Xf.x,Xf.y,Xf.z),R0=c0/Xp,W0=new y.Vector3((Jf.x-Xf.x)/R0,(Jf.y-Xf.y)/R0,(Jf.z-Xf.z)/R0);y0.add({x:W0.x/2,y:W0.y/2,z:W0.z/2});let w0=y0.clone().add(W0);W0.multiplyScalar(2);let V0=(0,H.extend)({},Xf);for(var qf=0;qf<$p;qf++){V0.resi+=1;let Qp=Oh(V0,V0.style.cartoon);c.drawCylinder(vh,y0,w0,hg,L.CC.color(Qp),l.FLAT,l.FLAT),y0.add(W0),w0.add(W0)}Cf(!1)}}};for(let Xf of nf)ip(Xf[0],Xf[1])}var Id=o(797),Bd=o(865),Cd=o(392);function Wl(kd,E){for(var V=[[]],Me=(E=E||{}).assignBonds===void 0||E.assignBonds,ot=kd.trimStart().split(/\r?\n|\r/);ot.length>0&&!(ot.length<3);){var Tl=parseInt(ot[0]);if(isNaN(Tl)||Tl<=0||ot.length<Tl+2)break;var ll=/Lattice\s*=\s*["\{\}]([^"\{\}]+)["\{\}]\s*/gi.exec(ot[1]);if(ll!=null&&ll.length>1){var Pl=new Float32Array(ll[1].split(/\s+/)),Bl=new d.Matrix3(Pl[0],Pl[3],Pl[6],Pl[1],Pl[4],Pl[7],Pl[2],Pl[5],Pl[8]);V.modelData=[{cryst:{matrix:Bl}}]}for(var Ml=2,Vl=V[V.length-1].length,Yl=Vl+Tl,zu=Vl;zu<Yl;zu++){var Fu=ot[Ml++].trim().split(/\s+/),mu={};mu.serial=zu;var Lu=Fu[0];mu.atom=mu.elem=Lu[0].toUpperCase()+Lu.substring(1,2).toLowerCase(),mu.x=parseFloat(Fu[1]),mu.y=parseFloat(Fu[2]),mu.z=parseFloat(Fu[3]),mu.hetflag=!0,mu.bonds=[],mu.bondOrder=[],mu.properties={},V[V.length-1][zu]=mu,Fu.length>=7&&(mu.dx=parseFloat(Fu[4]),mu.dy=parseFloat(Fu[5]),mu.dz=parseFloat(Fu[6]))}if(!E.multimodel)break;V.push([]),ot.splice(0,Ml)}if(Me)for(let Qu=0;Qu<V.length;Qu++)(0,Cd.assignBonds)(V[Qu],E);if(E.onemol){var Du=V;(V=[]).push(Du[0]);for(let Qu=1;Qu<Du.length;Qu++){let ld=V[0].length;for(let vd=0;vd<Du[Qu].length;vd++){let Ld=Du[Qu][vd];for(let Ad=0;Ad<Ld.bonds.length;Ad++)Ld.bonds[Ad]=Ld.bonds[Ad]+ld;Ld.index=V[0].length,Ld.serial=V[0].length,V[0].push(Ld)}}}return V}function jd(kd,E){var V="V2000",Me=kd.split(/\r?\n|\r/);return Me.length>3&&Me[3].length>38&&(V=Me[3].substring(34,39)),V==="V2000"?(function(ot,Tl){var ll=[[]],Pl=!1;for(Tl.keepH!==void 0&&(Pl=!Tl.keepH);ot.length>0&&!(ot.length<4);){var Bl=parseInt(ot[3].substring(0,3));if(isNaN(Bl)||Bl<=0)break;var Ml=parseInt(ot[3].substring(3,6)),Vl=4;if(ot.length<4+Bl+Ml)break;var Yl,zu,Fu=[],mu=ll[ll.length-1].length,Lu=mu+Bl;for(Yl=mu;Yl<Lu;Yl++,Vl++){var Du={},Qu=(zu=ot[Vl]).substring(31,34).replace(/ /g,"");Du.atom=Du.elem=Qu[0].toUpperCase()+Qu.substring(1).toLowerCase(),Du.elem==="H"&&Pl||(Du.serial=Yl,Fu[Yl]=ll[ll.length-1].length,Du.x=parseFloat(zu.substring(0,10)),Du.y=parseFloat(zu.substring(10,20)),Du.z=parseFloat(zu.substring(20,30)),Du.hetflag=!0,Du.bonds=[],Du.bondOrder=[],Du.properties={},Du.index=ll[ll.length-1].length,ll[ll.length-1].push(Du))}for(Yl=0;Yl<Ml;Yl++,Vl++){zu=ot[Vl];var ld=Fu[parseInt(zu.substring(0,3))-1+mu],vd=Fu[parseInt(zu.substring(3,6))-1+mu],Ld=parseFloat(zu.substring(6));ld!==void 0&&vd!==void 0&&(ll[ll.length-1][ld].bonds.push(vd),ll[ll.length-1][ld].bondOrder.push(Ld),ll[ll.length-1][vd].bonds.push(ld),ll[ll.length-1][vd].bondOrder.push(Ld))}if(!Tl.multimodel)break;for(Tl.onemol||ll.push([]);ot[Vl]!=="$$$$"&&Vl<ot.length;)Vl++;ot.splice(0,++Vl)}return ll})(Me,E):V==="V3000"?(function(ot,Tl){var ll=[[]],Pl=!1;for(Tl.keepH!==void 0&&(Pl=!Tl.keepH);ot.length>0&&!(ot.length<8)&&ot[4].startsWith("M  V30 BEGIN CTAB")&&ot[5].startsWith("M  V30 COUNTS")&&!(ot[5].length<14);){var Bl=ot[5].substring(13).match(/\S+/g);if(Bl.length<2)break;var Ml=parseInt(Bl[0]);if(isNaN(Ml)||Ml<=0)break;var Vl=parseInt(Bl[1]),Yl=7;if(ot.length<8+Ml+Vl)break;var zu,Fu=[],mu=ll[ll.length-1].length,Lu=mu+Ml;for(zu=mu;zu<Lu;zu++,Yl++){var Du=ot[Yl].substring(6).match(/\S+/g);if(Du.length>4){var Qu={},ld=Du[1].replace(/ /g,"");Qu.atom=Qu.elem=ld[0].toUpperCase()+ld.substring(1).toLowerCase(),Qu.elem==="H"&&Pl||(Qu.serial=zu,Fu[zu]=ll[ll.length-1].length,Qu.x=parseFloat(Du[2]),Qu.y=parseFloat(Du[3]),Qu.z=parseFloat(Du[4]),Qu.hetflag=!0,Qu.bonds=[],Qu.bondOrder=[],Qu.properties={},Qu.index=ll[ll.length-1].length,ll[ll.length-1].push(Qu))}}if(ot[Yl]!=="M  V30 END ATOM"||(Yl++,Vl===0||ot[Yl]!=="M  V30 BEGIN BOND"))break;for(Yl++,zu=0;zu<Vl;zu++,Yl++){var vd=ot[Yl].substring(6).match(/\S+/g);if(vd.length>3){var Ld=Fu[parseInt(vd[2])-1+mu],Ad=Fu[parseInt(vd[3])-1+mu],nh=parseFloat(vd[1]);Ld!==void 0&&Ad!==void 0&&(ll[ll.length-1][Ld].bonds.push(Ad),ll[ll.length-1][Ld].bondOrder.push(nh),ll[ll.length-1][Ad].bonds.push(Ld),ll[ll.length-1][Ad].bondOrder.push(nh))}}if(!Tl.multimodel)break;for(Tl.onemol||ll.push([]);ot[Yl]!=="$$$$"&&Yl<ot.length;)Yl++;ot.splice(0,++Yl)}return ll})(Me,E):[[""]]}function Md(kd,E){var V=[[]];typeof kd=="string"&&(kd=JSON.parse(kd));for(var Me=kd.m,ot=Me[0].a,Tl=Me[0].b,ll=Me[0].s,Pl=E!==void 0&&E.parseStyle!==void 0?E.parseStyle:ll!==void 0,Bl=V[V.length-1].length,Ml=0;Ml<ot.length;Ml++){var Vl=ot[Ml],Yl={};Yl.id=Vl.i,Yl.x=Vl.x,Yl.y=Vl.y,Yl.z=Vl.z||0,Yl.bonds=[],Yl.bondOrder=[];var zu=Vl.l||"C";Yl.elem=zu[0].toUpperCase()+zu.substring(1).toLowerCase(),Yl.serial=V[V.length-1].length,Pl&&(Yl.style=ll[Vl.s||0]),V[V.length-1].push(Yl)}for(let Fu=0;Fu<Tl.length;Fu++){let mu=Tl[Fu],Lu=mu.b+Bl,Du=mu.e+Bl,Qu=mu.o||1,ld=V[V.length-1][Lu],vd=V[V.length-1][Du];ld.bonds.push(Du),ld.bondOrder.push(Qu),vd.bonds.push(Lu),vd.bondOrder.push(Qu)}return V}function qu(kd,E){(function(Ml,Vl){const Yl=Vl||3.2,zu=Yl*Yl,Fu=[];for(let mu=0,Lu=Ml.length;mu<Lu;mu++){Ml[mu].index=mu;const Du=Ml[mu];Du.hetflag||Du.atom!=="N"&&Du.atom!=="O"||(Fu.push(Du),Du.hbondOther=null,Du.hbondDistanceSq=Number.POSITIVE_INFINITY)}Fu.sort(function(mu,Lu){return mu.z-Lu.z});for(let mu=0,Lu=Fu.length;mu<Lu;mu++){const Du=Fu[mu];for(let Qu=mu+1;Qu<Lu;Qu++){const ld=Fu[Qu],vd=ld.z-Du.z;if(vd>Yl)break;if(ld.atom==Du.atom)continue;const Ld=Math.abs(ld.y-Du.y);if(Ld>Yl)continue;const Ad=Math.abs(ld.x-Du.x);if(Ad>Yl)continue;const nh=Ad*Ad+Ld*Ld+vd*vd;nh>zu||ld.chain==Du.chain&&Math.abs(ld.resi-Du.resi)<4||(nh<Du.hbondDistanceSq&&(Du.hbondOther=ld,Du.hbondDistanceSq=nh),nh<ld.hbondDistanceSq&&(ld.hbondOther=Du,ld.hbondDistanceSq=nh))}}})(kd,E);const V={};let Me,ot,Tl,ll,Pl,Bl;for(Me=0,ot=kd.length;Me<ot;Me++)if(Pl=kd[Me],V[Pl.chain]===void 0&&(V[Pl.chain]=[]),isFinite(Pl.hbondDistanceSq)){const Ml=Pl.hbondOther;V[Ml.chain]===void 0&&(V[Ml.chain]=[]),Math.abs(Ml.resi-Pl.resi)===4&&(V[Pl.chain][Pl.resi]="h")}for(Tl in V)for(ll=1;ll<V[Tl].length-1;ll++){const Ml=V[Tl][ll-1],Vl=V[Tl][ll+1];Bl=V[Tl][ll],Ml=="h"&&Ml==Vl&&Bl!=Ml&&(V[Tl][ll]=Ml)}for(Me=0,ot=kd.length;Me<ot;Me++)Pl=kd[Me],isFinite(Pl.hbondDistanceSq)&&V[Pl.chain][Pl.resi]!="h"&&Pl.ss!=="h"&&(V[Pl.chain][Pl.resi]="maybesheet");for(let Ml=0,Vl=kd.length;Ml<Vl;Ml++)if(Pl=kd[Ml],isFinite(Pl.hbondDistanceSq)&&V[Pl.chain][Pl.resi]=="maybesheet"){let Yl=Pl.hbondOther,zu=V[Yl.chain][Yl.resi];zu!="maybesheet"&&zu!="s"||(V[Pl.chain][Pl.resi]="s",V[Yl.chain][Yl.resi]="s")}for(let Ml in V){for(let Vl=1;Vl<V[Ml].length-1;Vl++){const Yl=V[Ml][Vl-1],zu=V[Ml][Vl+1];Bl=V[Ml][Vl],Yl=="s"&&Yl==zu&&Bl!=Yl&&(V[Ml][Vl]=Yl)}for(let Vl=0;Vl<V[Ml].length;Vl++){const Yl=V[Ml][Vl];Yl!="h"&&Yl!="s"||V[Ml][Vl-1]!=Yl&&V[Ml][Vl+1]!=Yl&&delete V[Ml][Vl]}}for(Me=0,ot=kd.length;Me<ot;Me++)Pl=kd[Me],Bl=V[Pl.chain][Pl.resi],delete Pl.hbondOther,delete Pl.hbondDistanceSq,Bl!==void 0&&Bl!=="maybesheet"&&(Pl.ss=Bl,V[Pl.chain][Pl.resi-1]!=Bl&&(Pl.ssbegin=!0),V[Pl.chain][Pl.resi+1]!=Bl&&(Pl.ssend=!0))}function ad(kd,E,V,Me){const ot=!V.duplicateAssemblyAtoms,Tl=E.length;let ll=Tl,Pl=-1,Bl=null,Ml=null;(V.normalizeAssembly||V.wrapAtoms)&&Me&&(Bl=(0,d.conversionMatrix3)(Me.a,Me.b,Me.c,Me.alpha,Me.beta,Me.gamma),Ml=new d.Matrix3,Ml.getInverse3(Bl));let Vl=function(Fu){let mu=Fu.clone().applyMatrix3(Ml);const Lu=[mu.x,mu.y,mu.z],Du=[0,0,0];for(let ld=0;ld<3;ld++){for(;Lu[ld]<-.001;)Lu[ld]+=1,Du[ld]+=1;for(;Lu[ld]>1.001;)Lu[ld]-=1,Du[ld]-=1}const Qu=new d.Vector3(Du[0],Du[1],Du[2]);return Qu.applyMatrix3(Bl),Qu};if(V.normalizeAssembly&&Me)for(let Fu=0;Fu<kd.length;Fu++){const mu=new d.Vector3(0,0,0);for(let Du=0;Du<Tl;Du++){const Qu=new d.Vector3(E[Du].x,E[Du].y,E[Du].z);Qu.applyMatrix4(kd[Fu]),mu.add(Qu)}mu.divideScalar(Tl);const Lu=Vl(mu);kd[Fu].isNearlyIdentity()&&Lu.lengthSq()>.001&&(Pl=Fu),kd[Fu].translate(Lu)}if(ot){if(kd.length>1)for(let Fu=0;Fu<E.length;Fu++){var Yl=[];for(let mu=0;mu<kd.length;mu++)if(!kd[mu].isNearlyIdentity()){var zu=new d.Vector3;zu.set(E[Fu].x,E[Fu].y,E[Fu].z),zu.applyMatrix4(kd[mu]),Yl.push(zu)}E[Fu].symmetries=Yl}}else{for(let Fu=0;Fu<Tl;Fu++)E[Fu].sym=-1;for(let Fu=0;Fu<kd.length;Fu++)if(kd[Fu].isNearlyIdentity()||Pl==Fu)for(let mu=0;mu<Tl;mu++)E[mu].sym=Fu;else{let mu=new d.Vector3;for(let Lu=0;Lu<Tl;Lu++){const Du=[];for(let ld=0;ld<E[Lu].bonds.length;ld++)Du.push(E[Lu].bonds[ld]+ll);if(mu.set(E[Lu].x,E[Lu].y,E[Lu].z),mu.applyMatrix4(kd[Fu]),V.wrapAtoms&&Me){let ld=Vl(mu);mu.add(ld)}const Qu={};for(const ld in E[Lu])Qu[ld]=E[Lu][ld];Qu.x=mu.x,Qu.y=mu.y,Qu.z=mu.z,Qu.bonds=Du,Qu.sym=Fu,Qu.index=E.length,E.push(Qu)}ll=E.length}if(V.wrapAtoms&&Me){let Fu=new d.Vector3;for(let mu=0;mu<Tl;mu++){Fu.set(E[mu].x,E[mu].y,E[mu].z);let Lu=Vl(Fu);Fu.add(Lu),E[mu].x=Fu.x,E[mu].y=Fu.y,E[mu].z=Fu.z}}if(Pl>=0){const Fu=new d.Vector3;for(let mu=0;mu<Tl;mu++)Fu.set(E[mu].x,E[mu].y,E[mu].z),Fu.applyMatrix4(kd[Pl]),E[mu].x=Fu.x,E[mu].y=Fu.y,E[mu].z=Fu.z}kd.length=0}}var Dd=o(408);const mh=new Set(["ABU","ACD","ALA","ALB","ALI","ARG","AR0","ASN","ASP","ASX","BAS","CYS","CYH","CYX","CSS","CSH","GLN","GLU","GLX","GLY","HIS","HIE","HID","HIP","HYP","ILE","ILU","LEU","LYS","MET","PCA","PGA","PHE","PR0","PRO","PRZ","SER","THR","TRP","TYR","VAL","A","1MA","C","5MC","OMC","G","1MG","2MG","M2G","7MG","OMG","YG","I","T","U","+U","H2U","5MU","PSU","ACE","F0R","H2O","HOH","WAT"]);function gd(kd,E){const V=[],Me=[];for(let Pl=0,Bl=kd.length;Pl<Bl;Pl++){const Ml=kd[Pl];Ml.index=Pl,Ml.hetflag||!mh.has(Ml.resn)?Me.push(Ml):V.push(Ml)}(0,Cd.assignBonds)(Me,E),V.sort(function(Pl,Bl){return Pl.chain!==Bl.chain?Pl.chain<Bl.chain?-1:1:Pl.resi-Bl.resi});let ot,Tl=-1,ll=-1;for(let Pl=0,Bl=V.length;Pl<Bl;Pl++){const Ml=V[Pl];Ml.resi!==Tl&&(Tl=Ml.resi,ot||ll++,ot=!1),Ml.reschain=ll;for(let Vl=Pl+1;Vl<V.length;Vl++){const Yl=V[Vl];if(Yl.chain!==Ml.chain||Yl.resi-Ml.resi>1)break;(0,Dd.areConnected)(Ml,Yl,E)&&(Ml.bonds.indexOf(Yl.index)===-1&&(Ml.bonds.push(Yl.index),Ml.bondOrder.push(1),Yl.bonds.push(Ml.index),Yl.bondOrder.push(1)),Ml.resi!==Yl.resi&&(ot=!0))}}}const md=function(kd,E,V,Me){return new d.Vector3(E,V,Me).applyMatrix3(kd)};function oh(kd,E={}){const V=[],Me=!E.doAssembly,ot=V.modelData=[],Tl=E.assignBonds===void 0||E.assignBonds;function ll(zu,Fu){const mu=[];let Lu=0,Du=0;for(;Du<zu.length;){for(;zu.substring(Du,Du+Fu.length)!==Fu&&Du<zu.length;)if(zu[Du]==="'"){for(Du++;Du<zu.length&&zu[Du]!=="'";)Du++;for(;zu.substring(Du,Du+Fu.length)!==Fu&&Du<zu.length;)Du++}else if(zu[Du]==='"'){for(Du++;Du<zu.length&&zu[Du]!=='"';)Du++;Du++}else Du++;mu.push(zu.substring(Lu,Du)),Lu=Du+=Fu.length}return mu}const Pl=kd.split(/\r?\n|\r/),Bl=[];let Ml=!1;for(let zu=0;zu<Pl.length;zu++){var Vl=Pl[zu].split("#")[0];if(Ml?Vl[0]===";"&&(Ml=!1):Vl[0]===";"&&(Ml=!0),Ml||Vl!==""){if(!Ml&&(Vl=Vl.trim())[0]==="_"){const Fu=Vl.split(/\s/)[0].indexOf(".");if(Fu>-1){let mu=Vl.split("");mu[Fu]="_",Vl=(Vl=mu.join("")).substring(0,Fu)+"_"+Vl.substring(Fu+1)}}Bl.push(Vl)}}let Yl=0;for(;Yl<Bl.length;){for(;!Bl[Yl].startsWith("data_")||Bl[Yl]==="data_global";)Yl++;Yl++;const zu={};for(;Yl<Bl.length&&!Bl[Yl].startsWith("data_");)if(Bl[Yl][0]===void 0)Yl++;else if(Bl[Yl][0]==="_"){const Du=Bl[Yl].split(/\s/)[0].toLowerCase(),Qu=zu[Du]=zu[Du]||[],ld=Bl[Yl].substring(Bl[Yl].indexOf(Du)+Du.length);if(ld==="")if(Yl++,Bl[Yl][0]===";"){let vd=Bl[Yl].substring(1);for(Yl++;Bl[Yl]!==";";)vd=vd+`
`+Bl[Yl],Yl++;Qu.push(vd)}else Qu.push(Bl[Yl]);else Qu.push(ld.trim());Yl++}else if(Bl[Yl].substring(0,5)==="loop_"){Yl++;const Du=[];for(;Bl[Yl]===""||Bl[Yl][0]==="_";){if(Bl[Yl]!==""){let ld=Bl[Yl].split(/\s/)[0].toLowerCase(),vd=zu[ld]=zu[ld]||[];Du.push(vd)}Yl++}let Qu=0;for(;Yl<Bl.length&&Bl[Yl][0]!=="_"&&!Bl[Yl].startsWith("loop_")&&!Bl[Yl].startsWith("data_");){let ld=ll(Bl[Yl]," ");for(let vd=0;vd<ld.length;vd++)ld[vd]!==""&&(Du[Qu].push(ld[vd]),Qu=(Qu+1)%Du.length);Yl++}}else Yl++;ot.push({symmetries:[]}),V.push([]);const Fu=zu._atom_site_id!==void 0?zu._atom_site_id.length:zu._atom_site_label.length;let mu;if(zu._cell_length_a!==void 0){const Du=parseFloat(zu._cell_length_a),Qu=parseFloat(zu._cell_length_b),ld=parseFloat(zu._cell_length_c),vd=parseFloat(zu._cell_angle_alpha)||90,Ld=parseFloat(zu._cell_angle_beta)||90,Ad=parseFloat(zu._cell_angle_gamma)||90;mu=(0,d.conversionMatrix3)(Du,Qu,ld,vd,Ld,Ad),ot[ot.length-1].cryst={a:Du,b:Qu,c:ld,alpha:vd,beta:Ld,gamma:Ad}}for(let Du=0;Du<Fu;Du++){if(zu._atom_site_group_pdb!==void 0&&zu._atom_site_group_pdb[Du]==="TER")continue;const Qu={};if(zu._atom_site_cartn_x!==void 0)Qu.x=parseFloat(zu._atom_site_cartn_x[Du]),Qu.y=parseFloat(zu._atom_site_cartn_y[Du]),Qu.z=parseFloat(zu._atom_site_cartn_z[Du]);else{const vd=md(mu,parseFloat(zu._atom_site_fract_x[Du]),parseFloat(zu._atom_site_fract_y[Du]),parseFloat(zu._atom_site_fract_z[Du]));Qu.x=vd.x,Qu.y=vd.y,Qu.z=vd.z}Qu.chain=zu._atom_site_auth_asym_id?zu._atom_site_auth_asym_id[Du]:zu._atom_site_label_asym_id?zu._atom_site_label_asym_id[Du]:void 0,Qu.lchain=zu._atom_site_label_asym_id?zu._atom_site_label_asym_id[Du]:void 0,Qu.resi=zu._atom_site_auth_seq_id?parseInt(zu._atom_site_auth_seq_id[Du]):zu._atom_site_label_seq_id?zu._atom_site_label_seq_id[Du]:void 0,Qu.resn=zu._atom_site_auth_comp_id?zu._atom_site_auth_comp_id[Du].trim():zu._atom_site_label_comp_id?zu._atom_site_label_comp_id[Du].trim():void 0,Qu.atom=zu._atom_site_auth_atom_id?zu._atom_site_auth_atom_id[Du].replace(/"/gm,""):zu._atom_site_label_atom_id?zu._atom_site_label_atom_id[Du].replace(/"/gm,""):void 0,Qu.hetflag=!zu._atom_site_group_pdb||zu._atom_site_group_pdb[Du]==="HETA"||zu._atom_site_group_pdb[Du]==="HETATM",zu._atom_site_b_iso_or_equiv&&(Qu.b=parseFloat(zu._atom_site_b_iso_or_equiv[Du]));let ld="X";zu._atom_site_type_symbol?ld=zu._atom_site_type_symbol[Du].replace(/\(?\+?\d+.*/,""):zu._atom_site_label&&(ld=zu._atom_site_label[Du].split("_")[0].replace(/\(?\d+.*/,"")),Qu.elem=ld[0].toUpperCase()+ld.substring(1,2).toLowerCase(),Qu.bonds=[],Qu.ss="c",Qu.serial=Du,Qu.bondOrder=[],Qu.properties={},V[V.length-1].push(Qu)}if(zu._pdbx_struct_oper_list_id!==void 0&&!Me)for(let Du=0;Du<zu._pdbx_struct_oper_list_id.length;Du++){const Qu=parseFloat(zu["_pdbx_struct_oper_list_matrix[1][1]"][Du]),ld=parseFloat(zu["_pdbx_struct_oper_list_matrix[1][2]"][Du]),vd=parseFloat(zu["_pdbx_struct_oper_list_matrix[1][3]"][Du]),Ld=parseFloat(zu["_pdbx_struct_oper_list_vector[1]"][Du]),Ad=parseFloat(zu["_pdbx_struct_oper_list_matrix[2][1]"][Du]),nh=parseFloat(zu["_pdbx_struct_oper_list_matrix[2][2]"][Du]),dh=parseFloat(zu["_pdbx_struct_oper_list_matrix[2][3]"][Du]),vh=parseFloat(zu["_pdbx_struct_oper_list_vector[2]"][Du]),Xl=parseFloat(zu["_pdbx_struct_oper_list_matrix[3][1]"][Du]),$u=parseFloat(zu["_pdbx_struct_oper_list_matrix[3][2]"][Du]),Wd=parseFloat(zu["_pdbx_struct_oper_list_matrix[3][3]"][Du]),ih=parseFloat(zu["_pdbx_struct_oper_list_vector[3]"][Du]),ph=new d.Matrix4(Qu,ld,vd,Ld,Ad,nh,dh,vh,Xl,$u,Wd,ih);ot[ot.length-1].symmetries.push(ph)}const Lu=function(Du){const Qu=Du.match("-"),ld=(Du=Du.replace(/[-xyz]/g,"")).split("/");let vd,Ld;return Ld=ld[1]===void 0?1:parseInt(ld[1]),vd=ld[0]===""?1:parseInt(ld[0]),vd/Ld*(Qu?-1:1)};if(zu._symmetry_equiv_pos_as_xyz!==void 0&&!Me)for(let Du=0;Du<zu._symmetry_equiv_pos_as_xyz.length;Du++){const Qu=zu._symmetry_equiv_pos_as_xyz[Du].replace(/["' ]/g,"").split(",").map(function(Ad){return Ad.replace(/-/g,"+-")});let ld=new d.Matrix4(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1);for(let Ad=0;Ad<3;Ad++){const nh=Qu[Ad].split("+");for(let dh=0;dh<nh.length;dh++){const vh=nh[dh];if(vh==="")continue;const Xl=Lu(vh);vh.match("x")?ld.elements[Ad+0]=Xl:vh.match("y")?ld.elements[Ad+4]=Xl:vh.match("z")?ld.elements[Ad+8]=Xl:ld.elements[Ad+12]=Xl}}const vd=mu.getMatrix4(),Ld=new d.Matrix4().getInverse(vd,!0);ld=new d.Matrix4().multiplyMatrices(ld,Ld),ld=new d.Matrix4().multiplyMatrices(vd,ld),ot[ot.length-1].symmetries.push(ld)}}for(let zu=0;zu<V.length;zu++)!Tl||E.duplicateAssemblyAtoms&&!E.dontConnectDuplicatedAtoms||gd(V[zu],E),qu(V[zu],E.hbondCutoff),ad(ot[zu].symmetries,V[zu],E,ot[zu].cryst),E.duplicateAssemblyAtoms&&!E.dontConnectDuplicatedAtoms&&Tl&&gd(V[zu],E);return V}let qh={"C.1":"C",C1:"C","C.2":"C",C2:"C","C.3":"C",C3:"C","C.ar":"C",Car:"C","C.cat":"C",Ccat:"C","H.spc":"H",Hspc:"H","H.t3p":"H",Ht3p:"H","N.1":"N",N1:"N","N.2":"N",N2:"N","N.3":"N",N3:"N","N.4":"N",N4:"N","N.am":"N",Nam:"N","N.ar":"N",Nar:"N","N.p13":"N",Np13:"N","O.2":"O",O2:"O","O.3":"O",O3:"O","O.co2":"O",Oco2:"O","O.spc":"O",Ospc:"O","O.t3p":"O",Ot3p:"O","P.3":"P",P3:"P","S.2":"S",S2:"S","S.3":"S",S3:"S","S.o":"S",So:"S","S.o2":"S",So2:"S"};function sf(kd,E){var V=[[]],Me=!1;E.keepH!==void 0&&(Me=!E.keepH);var ot=kd.search(/@<TRIPOS>MOLECULE/),Tl=kd.search(/@<TRIPOS>ATOM/);if(ot==-1||Tl==-1)return V;for(var ll=kd.substring(ot).split(/\r?\n|\r/);ll.length>0;){var Pl=[],Bl=ll[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),Ml=parseInt(Bl[0]),Vl=0;Bl.length>1&&(Vl=parseInt(Bl[1]));var Yl,zu=4;for(Yl=3;Yl<ll.length;Yl++)if(ll[Yl]=="@<TRIPOS>ATOM"){zu=Yl+1;break}var Fu=V[V.length-1].length,mu=Fu+Ml;for(Yl=Fu;Yl<mu;Yl++){var Lu={},Du=(Bl=ll[zu++].replace(/^\s+/,"").replace(/\s+/g," ").split(" "))[5];if(Du=qh[Du]!==void 0?qh[Du]:(Du=Du.split(".")[0])[0].toUpperCase()+Du.substring(1).toLowerCase(),Lu.atom=Bl[1],Lu.elem=Du,!(Lu.elem=="H"&&Me)){var Qu=V[V.length-1].length,ld=parseInt(Bl[0]);Lu.serial=ld,Lu.x=parseFloat(Bl[2]),Lu.y=parseFloat(Bl[3]),Lu.z=parseFloat(Bl[4]),Lu.atom=Bl[5];var vd=parseFloat(Bl[8]);Lu.index=Qu,Lu.bonds=[],Lu.bondOrder=[],Lu.properties={charge:vd,partialCharge:vd},Pl[ld]=Qu,V[V.length-1].push(Lu)}}for(var Ld=!1;zu<ll.length;)if(ll[zu++]=="@<TRIPOS>BOND"){Ld=!0;break}if(Ld&&Vl)for(Yl=0;Yl<Vl;Yl++){Bl=ll[zu++].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");var Ad=parseInt(Bl[1]),nh=V[V.length-1][Pl[Ad]],dh=parseInt(Bl[2]),vh=V[V.length-1][Pl[dh]],Xl=parseInt(Bl[3]);isNaN(Xl)&&(Xl=1),nh!==void 0&&vh!==void 0&&(nh.bonds.push(Pl[dh]),nh.bondOrder.push(Xl),vh.bonds.push(Pl[Ad]),vh.bondOrder.push(Xl))}if(!E.multimodel)break;E.onemol||V.push([]),ll.splice(0,zu),kd=ll.join(`
`)}return V}var yh=o(40);function vf(kd,E){let V=kd.replace(/ /g,"");return V.length>0&&V[0]==="H"&&V!=="Hg"&&V!=="He"&&V!=="Hf"&&V!=="Hs"&&V!=="Ho"&&(V="H"),V.length>1&&(V=V[0].toUpperCase()+V.substring(1).toLowerCase(),yh.bondTable[V]===void 0?V=V[0]:E&&(V==="Ca"||V==="Cd")&&(V="C")),V}function Ef(kd){for(const E in kd)return!1;return!0}function kf(kd,E,V){const Me=[],ot=E.assignBonds===void 0||E.assignBonds,Tl=!E.keepH,ll=!!E.noSecondaryStructure,Pl=!E.noComputeSecondaryStructure,Bl=!E.doAssembly,Ml=E.altLoc?E.altLoc:"A",Vl={symmetries:[],cryst:void 0};let Yl,zu=[];const Fu=[];let mu;const Lu={};for(let Du=0;Du<kd.length;Du++){mu=kd[Du].replace(/^\s*/,"");const Qu=mu.substring(0,6);let ld,vd,Ld;if(Qu.indexOf("END")===0){if(zu=kd.slice(Du+1),Qu==="END")for(const Ad in V)V.hasOwnProperty(Ad)&&delete V[Ad];break}if(Qu==="ATOM  "||Qu==="HETATM"){let Ad,nh,dh,vh,Xl,$u,Wd,ih,ph,Dh,Uh,Oh;if(Uh=mu.substring(16,17),Uh!==" "&&Uh!==Ml&&Ml!=="*"||(Dh=parseInt(mu.substring(6,11)),Yl=mu.substring(12,16).replace(/ /g,""),Ad=mu.substring(17,20).replace(/ /g,""),nh=mu.substring(21,22),dh=parseInt(mu.substring(22,26)),vh=mu.substring(26,27),Xl=parseFloat(mu.substring(30,38)),$u=parseFloat(mu.substring(38,46)),Wd=parseFloat(mu.substring(46,54)),Oh=parseFloat(mu.substring(60,68)),ph=mu.substring(76,78).replace(/ /g,""),ph=ph===""||yh.bondTable[ph]===void 0?vf(mu.substring(12,14),mu[0]=="A"):ph[0].toUpperCase()+ph.substring(1).toLowerCase(),ph==="H"&&Tl))continue;ih=Qu[0]=="H",Fu[Dh]=Me.length,Me.push({resn:Ad,x:Xl,y:$u,z:Wd,elem:ph,hetflag:ih,altLoc:Uh,chain:nh,resi:dh,icode:vh,rescode:dh+(vh!==" "?"^"+vh:""),serial:Dh,atom:Yl,bonds:[],ss:"c",bondOrder:[],properties:{},b:Oh,pdbline:mu})}else if(Qu==="SHEET "){ld=mu.substring(21,22),vd=parseInt(mu.substring(22,26)),Ld=parseInt(mu.substring(33,37)),ld in V||(V[ld]={}),V[ld][vd]="s1";for(let Ad=vd+1;Ad<Ld;Ad++)V[ld][Ad]="s";V[ld][Ld]="s2"}else if(Qu==="CONECT"){const Ad=Fu[parseInt(mu.substring(6,11))],nh=Me[Ad],dh=[11,16,21,26];for(let vh=0;vh<4;vh++){const Xl=Fu[parseInt(mu.substring(dh[vh],dh[vh]+5))];let $u=Ad+":"+Xl;const Wd=Me[Xl];if(nh!==void 0&&Wd!==void 0)if(Lu[$u]){Lu[$u]+=1;for(let ih=0;ih<nh.bonds.length;ih++)if(nh.bonds[ih]==Xl){const ph=Lu[$u];nh.bondOrder[ih]=ph>=4?1:ph}}else Lu[$u]=1,nh.bonds.length!=0&&nh.bonds[nh.bonds.length-1]===Xl||(nh.bonds.push(Xl),nh.bondOrder.push(1))}}else if(Qu==="HELIX "){ld=mu.substring(19,20),vd=parseInt(mu.substring(21,25)),Ld=parseInt(mu.substring(33,37)),ld in V||(V[ld]={}),V[ld][vd]="h1";for(let Ad=vd+1;Ad<Ld;Ad++)V[ld][Ad]="h";V[ld][Ld]="h2"}else if(Bl||Qu!=="REMARK"||mu.substring(13,18)!=="BIOMT"){if(Qu==="CRYST1"){let Ad,nh,dh,vh,Xl,$u;Ad=parseFloat(mu.substring(7,15)),nh=parseFloat(mu.substring(16,24)),dh=parseFloat(mu.substring(25,33)),vh=parseFloat(mu.substring(34,40)),Xl=parseFloat(mu.substring(41,47)),$u=parseFloat(mu.substring(48,54)),Vl.cryst={a:Ad,b:nh,c:dh,alpha:vh,beta:Xl,gamma:$u}}else if(Qu==="ANISOU"){const Ad=Me[Fu[parseInt(mu.substring(6,11))]];if(Ad){const nh=mu.substring(30).trim().split(/\s+/),dh={u11:parseInt(nh[0]),u22:parseInt(nh[1]),u33:parseInt(nh[2]),u12:parseInt(nh[3]),u13:parseInt(nh[4]),u23:parseInt(nh[5])};Ad.uMat=dh}}}else{let Ad,nh=new d.Matrix4;for(Ad=1;Ad<=3;Ad++)if(mu=kd[Du].replace(/^\s*/,""),parseInt(mu.substring(18,19))==Ad)nh.elements[Ad-1]=parseFloat(mu.substring(23,33)),nh.elements[Ad-1+4]=parseFloat(mu.substring(33,43)),nh.elements[Ad-1+8]=parseFloat(mu.substring(43,53)),nh.elements[Ad-1+12]=parseFloat(mu.substring(53)),Du++;else for(;mu.substring(13,18)==="BIOMT";)Du++,mu=kd[Du].replace(/^\s*/,"");nh.elements[3]=0,nh.elements[7]=0,nh.elements[11]=0,nh.elements[15]=1,Vl.symmetries.push(nh),Du--}}if((function(Du,Qu){for(let ld=0,vd=Du.length;ld<vd;ld++){const Ld=Du[ld];for(let Ad=0;Ad<Ld.bonds.length;Ad++){const nh=Du[Ld.bonds[Ad]],dh=Qu[Ld.serial];nh&&dh&&nh.bonds.indexOf(dh)<0&&(nh.bonds.push(dh),nh.bondOrder.push(Ld.bondOrder[Ad]))}}})(Me,Fu),ot&&gd(Me,E),Bl||ad(Vl.symmetries,Me,E,Vl.cryst),Pl&&!ll&&qu(Me,E.hbondCutoff),!Ef(V))for(let Du=0;Du<Me.length;Du++){const Qu=Me[Du];if(Qu!==void 0&&Qu.chain in V&&Qu.resi in V[Qu.chain]){const ld=V[Qu.chain][Qu.resi];Qu.ss=ld[0],ld.length>1&&(ld[1]=="1"?Qu.ssbegin=!0:ld[1]=="2"&&(Qu.ssend=!0))}}return[Me,Vl,zu]}function Mp(kd,E){E=E||{};var V=[],Me={};V.modelData=[];for(var ot=kd.split(/\r?\n|\r/);ot.length>0;){var Tl=kf(ot,E,Me),ll=Tl[0],Pl=Tl[1];if(ot=Tl[2],ll.length!=0){if(E.multimodel&&E.onemol&&V.length>0)for(var Bl=V[0].length,Ml=0;Ml<ll.length;Ml++){var Vl=ll[Ml];Vl.index=Ml;for(var Yl=0;Yl<Vl.bonds.length;Yl++)Vl.bonds[Yl]+=Bl;V[0].push(Vl)}else V.modelData.push(Pl),V.push(ll);if(!E.multimodel)break}}return V}function rp(kd,E){var V=[[]],Me=!E.noSecondaryStructure;V.modelData=[{symmetries:[]}];var ot,Tl=[],ll=kd.split(/\r?\n|\r/);for(let Ld=0;Ld<ll.length;Ld++){var Pl=(ot=ll[Ld].replace(/^\s*/,"")).substring(0,6);if(Pl.indexOf("END")==0){if(E.multimodel){E.onemol||V.push([]);continue}break}if(Pl=="ATOM  "||Pl=="HETATM"){var Bl;let Ad=parseInt(ot.substring(6,11)),nh=ot.substring(12,16).replace(/ /g,""),dh=ot.substring(17,20).trim(),vh=ot.substring(21,22),Xl=parseInt(ot.substring(22,26));var Ml=ot.substring(30).trim().split(/\s+/),Vl=parseFloat(Ml[0]),Yl=parseFloat(Ml[1]),zu=parseFloat(Ml[2]),Fu=parseFloat(Ml[3]),mu=parseFloat(Ml[4]),Lu=nh[0];nh.length>1&&nh[1].toUpperCase()!=nh[1]&&(Lu=nh.substring(0,2)),Bl=ot[0]=="H",Tl[Ad]=V[V.length-1].length,V[V.length-1].push({resn:dh,x:Vl,y:Yl,z:zu,elem:Lu,hetflag:Bl,chain:vh,resi:Xl,serial:Ad,atom:nh,bonds:[],ss:"c",bondOrder:[],properties:{charge:Fu,partialCharge:Fu,radius:mu},pdbline:ot})}else if(Pl=="CONECT"){var Du=parseInt(ot.substring(6,11)),Qu=V[V.length-1][Tl[Du]];for(let Ad=0;Ad<4;Ad++){var ld=parseInt(ot.substring([11,16,21,26][Ad],[11,16,21,26][Ad]+5)),vd=V[V.length-1][Tl[ld]];Qu!==void 0&&vd!==void 0&&(Qu.bonds.push(Tl[ld]),Qu.bondOrder.push(1))}}}for(let Ld=0;Ld<V.length;Ld++)gd(V[Ld],E),Me&&qu(V[Ld],E.hbondCutoff);return V}var Fp=o(471),_0=function(kd){return String.fromCharCode.apply(null,kd).replace(/\0/g,"")},L0=function(kd){return kd==0||kd==2||kd==4?"h":kd==3?"s":"c"};let Gp=new Set(["D-SACCHARIDE","D-SACCHARIDE 1,4 AND 1,4 LINKING","D-SACCHARIDE 1,4 AND 1,6 LINKING","L-SACCHARIDE","L-SACCHARIDE 1,4 AND 1,4 LINKING","L-SACCHARIDE 1,4 AND 1,6 LINKING","NON-POLYMER","OTHER","PEPTIDE-LIKE","SACCHARIDE"]);function E0(kd,E){var V=!E.keepH,Me=E.altLoc?E.altLoc:"A",ot=!!E.noSecondaryStructure,Tl=!E.noComputeSecondaryStructure,ll=!E.doAssembly,Pl=E.assemblyIndex?E.assemblyIndex:0;kd=typeof kd=="string"?(0,H.base64ToArray)(kd):new Uint8Array(kd);var Bl,Ml,Vl,Yl,zu,Fu,mu=Fp.decode(kd),Lu=[[]],Du=Lu.modelData=[],Qu=0,ld=0,vd=0,Ld=mu.secStructList,Ad=mu.bFactorList,nh=mu.altLocList,dh=mu.occupancyList,vh=mu.bondAtomList,Xl=mu.bondOrderList,$u=mu.numModels;if($u==0)return Lu;E.multimodel||($u=1);var Wd=[];if(!ll&&mu.bioAssemblyList&&mu.bioAssemblyList.length>0){var ih=mu.bioAssemblyList[Pl].transformList;for(Bl=0,Fu=ih.length;Bl<Fu;Bl++){var ph=new d.Matrix4(ih[Bl].matrix);ph.transpose(),Wd.push(ph)}}var Dh=null;if(mu.unitCell){var Uh=mu.unitCell;Dh={a:Uh[0],b:Uh[1],c:Uh[2],alpha:Uh[3],beta:Uh[4],gamma:Uh[5]}}let Oh=[];mu.entityList.forEach(Yu=>{Yu.chainIndexList.forEach(hl=>{Oh[hl]=Yu.type=="polymer"})});var Rh=0;for(zu=0;zu<$u;zu++){var Yh=mu.chainsPerModel[zu],wh=Lu[Lu.length-1],Hh=[];for(Du.push({symmetries:Wd,cryst:Dh}),Bl=0;Bl<Yh;++Bl){var Cf=mu.groupsPerChain[Qu],nf=_0(mu.chainIdList.subarray(4*Qu,4*Qu+4));mu.chainNameList&&(nf=_0(mu.chainNameList.subarray(4*Qu,4*Qu+4)));var mf=ld,af="";for(Ml=0;Ml<Cf;++Ml){var zh=mu.groupList[mu.groupTypeList[ld]],Af=zh.atomNameList.length,$f=0,Rf=!1,cf=!1;if(Ld){$f=Ld[ld];var dp=L0($f);ld!=0&&dp==af||(Rf=!0),af=dp;var np=ld+1;(np>=Ld.length||L0(Ld[np]!=dp))&&(cf=!0)}var ip=mu.groupIdList[ld],Xf=zh.groupName;let Yu=zh.chemCompType;var Jf=vd;let hl=Gp.has(Yu)||!Oh[Qu];for(Vl=0;Vl<Af;++Vl){var qf=zh.elementList[Vl];if(V&&qf=="H")vd+=1;else{var fp="";Ad&&(fp=Ad[vd]);var $p="";nh&&nh[vd]&&($p=String.fromCharCode(nh[vd]));var hg="";if(dh&&(hg=dh[vd]),$p==""||$p==Me||Me=="*"){var v0=mu.atomIdList[vd],f0=zh.atomNameList[Vl],u0=0;zh.atomChargeList&&(u0=zh.atomChargeList[Vl]);var c0=mu.xCoordList[vd],Xp=mu.yCoordList[vd],y0=mu.zCoordList[vd];Hh[vd]=wh.length,wh.push({resn:Xf,x:c0,y:Xp,z:y0,elem:qf,hetflag:hl,chain:nf,resi:ip,icode:$p,rescode:ip+($p!=" "?"^"+$p:""),serial:v0,altLoc:$p,index:vd,atom:f0,bonds:[],ss:L0($f),ssbegin:Rf,ssend:cf,bondOrder:[],properties:{charge:u0,occupancy:hg},b:fp}),vd+=1}else vd+=1}}var R0=zh.bondAtomList;for(Vl=0,Yl=zh.bondOrderList.length;Vl<Yl;++Vl){var W0=Jf+R0[2*Vl],w0=Jf+R0[2*Vl+1],V0=zh.bondOrderList[Vl],Qp=Hh[W0],j0=Hh[w0],A0=wh[Qp],Ln=wh[j0];A0&&Ln&&(A0.bonds.push(j0),A0.bondOrder.push(V0),Ln.bonds.push(Qp),Ln.bondOrder.push(V0))}ld+=1}for(ld=mf,Ml=0;Ml<Cf;++Ml)ld+=1;Qu+=1}if(vh)for(let Yu=Rh,hl=vh.length;Yu<hl;Yu+=2){let eh=vh[Yu],Xd=vh[Yu+1],Gd=Xl?Xl[Yu/2]:1;if(eh>=vd){Rh=Yu;break}let Jh=Hh[eh],Ch=Hh[Xd],Uf=wh[Jh],Fh=wh[Ch];Uf&&Fh&&(Uf.bonds.push(Ch),Uf.bondOrder.push(Gd),Fh.bonds.push(Jh),Fh.bondOrder.push(Gd))}E.multimodel&&(E.onemol||Lu.push([]))}if(!ll)for(let Yu=0;Yu<Lu.length;Yu++)ad(Du[Yu].symmetries,Lu[Yu],E,Du[Yu].cryst);return Tl&&!ot&&qu(Lu,E.hbondCutoff),Lu}function l0(kd){var E,V=[],Me=0,ot=kd.split(/\r?\n|\r/);if(!(ot.length>0&&ot[0].includes("VERSION")))return[];{var Tl=ot.filter(function(mu){return mu.includes("POINTERS")||mu.includes("ATOM_NAME")||mu.includes("CHARGE")||mu.includes("RADII")||mu.includes("BONDS_INC_HYDROGEN")||mu.includes("BONDS_WITHOUT_HYDROGEN")||mu.includes("RESIDUE_LABEL")||mu.includes("RESIDUE_POINTER")}),ll=Yl("POINTERS");if(ll==-1)return[];var Pl=zu(ll),Bl=parseInt(ot[ll+1].slice(0,Pl[1]));let Fu=parseInt(ot[ll+2].slice(Pl[1],Pl[0]+Pl[1]));if(isNaN(Bl)||Bl<=0)return[];if((ll=Yl("ATOM_NAME"))==-1)return[];var Ml=(Pl=zu(ll))[0];for(let mu=0;mu<Bl/Pl[0];mu++){mu==parseInt(Bl/Pl[0])&&(Ml=Bl%Pl[0]);for(let Lu=0;Lu<Ml;Lu++){let Du={},Qu={charge:"",radii:""};Du.serial=Me,Du.x=0,Du.y=0,Du.z=0,Du.atom=ot[ll+1].slice(Pl[1]*Lu,Pl[1]*(Lu+1)).trim(),Du.elem=ot[ll+1].slice(Pl[1]*Lu,Pl[1]*Lu+1).trim(),Du.properties=Qu,Du.bonds=[],Du.bondOrder=[],Du.index=V.length,V.push(Du),Me++}ll++}if((ll=Yl("CHARGE"))!=-1){Me=0,Ml=(Pl=zu(ll))[0];for(let mu=0;mu<Bl/Pl[0];mu++){mu==parseInt(Bl/Pl[0])&&(Ml=Bl%Pl[0]);for(let Lu=0;Lu<Ml;Lu++)V[Me].properties.charge=parseFloat(ot[ll+1].slice(Pl[1]*Lu,Pl[1]*(Lu+1))),Me++;ll++}}var Vl=[];if((ll=Yl("RESIDUE_POINTER"))!=-1){Ml=(Pl=zu(ll))[0],ll+=1;for(let mu=0;mu<Fu/Pl[0];mu++){mu==parseInt(Fu/Pl[0])&&(Ml=Fu%Pl[0]);for(let Lu=0;Lu<Ml;Lu++)Vl.push(parseInt(ot[ll].slice(Pl[1]*Lu,Pl[1]*(Lu+1))));ll++}if((ll=Yl("RESIDUE_LABEL"))!=-1){let mu=[];Ml=(Pl=zu(ll))[0],ll+=1;for(let ld=0;ld<Fu/Pl[0];ld++){ld==parseInt(Fu/Pl[0])&&(Ml=Fu%Pl[0]);for(let vd=0;vd<Ml;vd++)mu.push(ot[ll].slice(Pl[1]*vd,Pl[1]*(vd+1)).trim());ll++}let Lu=0,Du=0,Qu="";Vl.push(V.length+1);for(let ld=0;ld<V.length;ld++)ld+1>=Vl[Lu]&&(Qu=mu[Lu],Lu+=1,Du+=1),V[ld].resi=Du,V[ld].resn=Qu}}if((ll=Yl("RADII"))!=-1){Me=0,Ml=(Pl=zu(ll))[0];for(let mu=0;mu<Bl/Pl[0];mu++){mu==parseInt(Bl/Pl[0])&&(Ml=Bl%Pl[0]);for(let Lu=0;Lu<Ml;Lu++)V[Me].properties.radii=parseFloat(ot[ll+1].slice(Pl[1]*Lu,Pl[1]*(Lu+1))),Me++;ll++}}if((ll=Yl("BONDS_WITHOUT_HYDROGEN"))!=-1)for(Me=0,Ml=(Pl=zu(ll))[0],ll+=1;!ot[ll].match(/^%FLAG/);){ot[ll+1].match(/^%FLAG/)&&(Ml=Bl%Pl[0]);for(let mu=0;mu<Ml;mu++)Me%3==0?E=parseInt(ot[ll].slice(Pl[1]*mu,Pl[1]*(mu+1))/3):Me%3==1&&(V[E].bonds.push(parseInt(ot[ll].slice(Pl[1]*mu,Pl[1]*(mu+1))/3)),V[E].bondOrder.push(1)),Me++;ll++}if((ll=Yl("BONDS_INC_HYDROGEN"))!=-1)for(Me=0,Ml=(Pl=zu(ll))[0],ll+=1;!ot[ll].match(/^%FLAG/);){ot[ll+1].match(/^%FLAG/)&&(Ml=Bl%Pl[0]);for(let mu=0;mu<Ml;mu++)Me%3==0?E=parseInt(ot[ll].slice(Pl[1]*mu,Pl[1]*(mu+1))/3):Me%3==1&&(V[E].bonds.push(parseInt(ot[ll].slice(Pl[1]*mu,Pl[1]*(mu+1))/3)),V[E].bonds.push(1)),Me++;ll++}}function Yl(Fu){var mu=ot.indexOf(Tl.filter(function(Lu){return Lu.includes(Fu)})[0]);if(Number.isInteger(mu)&&mu>0){for(;!ot[mu].includes("FORMAT");)mu++;return mu}return-1}function zu(Fu){var mu=ot[Fu].match(/\((\d*)\S*/),Lu=ot[Fu].match(/[a-zA-Z](\d*)\)\s*/);return Lu==null&&(Lu=ot[Fu].match(/[a-zA-Z](\d*)\.\d*\)\s*/)),[parseInt(mu[1]),parseInt(Lu[1])]}return[V]}function n0(kd,E){const V=[],Me=kd.split(/\r?\n|\r/);for(;Me.length>0;){const ot=parseInt(Me[1]);if(Me.length<3||isNaN(ot)||ot<=0||Me.length<ot+3)break;const Tl=[];V.push(Tl);let ll=2;const Pl=Tl.length,Bl=Pl+ot;for(let Ml=Pl;Ml<Bl;Ml++){const Vl=Me[ll++],Yl={};Yl.serial=Ml,Yl.atom=Vl.slice(10,15).trim(),Yl.elem=vf(Yl.atom,!0),Yl.x=10*parseFloat(Vl.slice(20,28)),Yl.y=10*parseFloat(Vl.slice(28,36)),Yl.z=10*parseFloat(Vl.slice(36,44)),Yl.resi=parseInt(Vl.slice(0,5)),Yl.resn=Vl.slice(5,10).trim(),Yl.bonds=[],Yl.bondOrder=[],Yl.properties={},Vl.length>44&&(Yl.dx=10*parseFloat(Vl.slice(44,52)),Yl.dy=10*parseFloat(Vl.slice(52,60)),Yl.dz=10*parseFloat(Vl.slice(60,68))),Tl[Ml]=Yl}if(Me.length<=ll+3){const Ml=Me[ll++].trim().split(/\s+/);if(Ml.length===3){for(let Vl=0;Vl<3;Vl++)Ml[Vl]=(10*parseFloat(Ml[Vl])).toString();V.box=Ml}}Me.splice(0,++ll)}for(let ot=0;ot<V.length;ot++)gd(V[ot],E);return V}const Z0={id:"serial",type:"atom",element:"elem",q:"charge",radius:"radius",x:"x",xu:"x",xs:"x",xsu:"x",y:"y",yu:"y",ys:"y",ysu:"y",z:"z",zu:"z",zs:"z",zsu:"z"};function G0(kd,E){const V=[],Me=kd.split(/\r?\n|\r/);let ot=0,Tl=0,ll=0;for(;ll<Me.length-9;){for(var Pl=ll;Pl<Me.length;Pl++)if(Me[Pl].match(/ITEM: NUMBER OF ATOMS/)&&(Tl=parseInt(Me[Pl+1])),Me[Pl].match(/ITEM: ATOMS/)){ot=Pl+1;break}const Bl=Me[ot-1].replace("ITEM: ATOMS ","").split(" ");V.push([]);for(let Ml=ot;Ml<ot+Tl;Ml++){const Vl={},Yl={},zu=Me[Ml].split(" ");for(let Fu=0;Fu<zu.length;Fu++){const mu=Z0[Bl[Fu]];mu!==void 0&&(mu==="serial"?Vl[mu]=parseInt(zu[Fu]):mu==="x"||mu==="y"||mu==="z"?Vl[mu]=parseFloat(zu[Fu]):mu==="charge"||mu==="radius"?Yl[mu]=parseFloat(zu[Fu]):Vl[mu]=zu[Fu]),Vl.properties=Yl,Vl.bonds=[],Vl.bondOrder=[]}V[V.length-1][Ml-ot]=Vl}ll=ot+Tl-1}if(E.assignBonds)for(let Bl=0;Bl<V.length;Bl++)(0,Cd.assignBonds)(V[Bl],E);return V}var X0;(function(kd){(function(E){E[E.Int8=1]="Int8",E[E.Int16=2]="Int16",E[E.Int32=3]="Int32",E[E.Uint8=4]="Uint8",E[E.Uint16=5]="Uint16",E[E.Uint32=6]="Uint32"})(kd.IntDataType||(kd.IntDataType={})),(function(E){E[E.Float32=32]="Float32",E[E.Float64=33]="Float64"})(kd.FloatDataType||(kd.FloatDataType={})),kd.getDataType=function(E){let V;return V=E instanceof Int8Array?kd.IntDataType.Int8:E instanceof Int16Array?kd.IntDataType.Int16:E instanceof Int32Array?kd.IntDataType.Int32:E instanceof Uint8Array?kd.IntDataType.Uint8:E instanceof Uint16Array?kd.IntDataType.Uint16:E instanceof Uint32Array?kd.IntDataType.Uint32:E instanceof Float32Array?kd.FloatDataType.Float32:E instanceof Float64Array?kd.FloatDataType.Float64:kd.IntDataType.Int32,V},kd.isSignedIntegerDataType=function(E){if(E instanceof Int8Array||E instanceof Int16Array||E instanceof Int32Array)return!0;for(let V=0,Me=E.length;V<Me;V++)if(V<0)return!1;return!0}})(X0||(X0={}));const $g=new Uint16Array(new Uint8Array([18,52]).buffer)[0]===13330;function Gg(kd){let E=kd.data;for(let V=kd.encoding.length-1;V>=0;V--)E=_f(E,kd.encoding[V]);return E}function _f(kd,E){switch(E.kind){case"ByteArray":switch(E.type){case X0.IntDataType.Uint8:return kd;case X0.IntDataType.Int8:return(function(V){return new Int8Array(V.buffer,V.byteOffset)})(kd);case X0.IntDataType.Int16:return(function(V){return fh(V,2,Int16Array)})(kd);case X0.IntDataType.Uint16:return(function(V){return fh(V,2,Uint16Array)})(kd);case X0.IntDataType.Int32:return(function(V){return fh(V,4,Int32Array)})(kd);case X0.IntDataType.Uint32:return(function(V){return fh(V,4,Uint32Array)})(kd);case X0.FloatDataType.Float32:return(function(V){return fh(V,4,Float32Array)})(kd);case X0.FloatDataType.Float64:return(function(V){return fh(V,8,Float64Array)})(kd);default:throw new Error("unreachable")}case"FixedPoint":return(function(V,Me){const ot=V.length,Tl=qd(Me.srcType,ot),ll=1/Me.factor;for(let Pl=0;Pl<ot;Pl++)Tl[Pl]=ll*V[Pl];return Tl})(kd,E);case"IntervalQuantization":return(function(V,Me){const ot=V.length,Tl=qd(Me.srcType,ot),ll=(Me.max-Me.min)/(Me.numSteps-1),Pl=Me.min;for(let Bl=0;Bl<ot;Bl++)Tl[Bl]=Pl+ll*V[Bl];return Tl})(kd,E);case"RunLength":return(function(V,Me){const ot=hd(Me.srcType,Me.srcSize);let Tl=0;for(let ll=0,Pl=V.length;ll<Pl;ll+=2){const Bl=V[ll],Ml=V[ll+1];for(let Vl=0;Vl<Ml;++Vl)ot[Tl++]=Bl}return ot})(kd,E);case"Delta":return(function(V,Me){const ot=V.length,Tl=hd(Me.srcType,ot);if(!ot)return V;Tl[0]=V[0]+(0|Me.origin);for(let ll=1;ll<ot;++ll)Tl[ll]=V[ll]+Tl[ll-1];return Tl})(kd,E);case"IntegerPacking":return(function(V,Me){return V.length===Me.srcSize?V:Me.isUnsigned?(function(ot,Tl){const ll=Tl.byteCount===1?255:65535,Pl=ot.length,Bl=new Int32Array(Tl.srcSize);let Ml=0,Vl=0;for(;Ml<Pl;){let Yl=0,zu=ot[Ml];for(;zu===ll;)Yl+=zu,Ml++,zu=ot[Ml];Yl+=zu,Bl[Vl]=Yl,Ml++,Vl++}return Bl})(V,Me):(function(ot,Tl){const ll=Tl.byteCount===1?127:32767,Pl=-ll-1,Bl=ot.length,Ml=new Int32Array(Tl.srcSize);let Vl=0,Yl=0;for(;Vl<Bl;){let zu=0,Fu=ot[Vl];for(;Fu===ll||Fu===Pl;)zu+=Fu,Vl++,Fu=ot[Vl];zu+=Fu,Ml[Yl]=zu,Vl++,Yl++}return Ml})(V,Me)})(kd,E);case"StringArray":return(function(V,Me){const ot=Gg({encoding:Me.offsetEncoding,data:Me.offsets}),Tl=Gg({encoding:Me.dataEncoding,data:V}),ll=Me.stringData,Pl=new Array(ot.length);Pl[0]="";for(let Vl=1,Yl=ot.length;Vl<Yl;Vl++)Pl[Vl]=ll.substring(ot[Vl-1],ot[Vl]);let Bl=0;const Ml=new Array(Tl.length);for(let Vl=0,Yl=Tl.length;Vl<Yl;Vl++)Ml[Bl++]=Pl[Tl[Vl]+1];return Ml})(kd,E)}}function hd(kd,E){switch(kd){case X0.IntDataType.Int8:return new Int8Array(E);case X0.IntDataType.Int16:return new Int16Array(E);case X0.IntDataType.Int32:return new Int32Array(E);case X0.IntDataType.Uint8:return new Uint8Array(E);case X0.IntDataType.Uint16:return new Uint16Array(E);case X0.IntDataType.Uint32:return new Uint32Array(E);default:return new Int32Array(E)}}function qd(kd,E){switch(kd){case X0.FloatDataType.Float32:return new Float32Array(E);case X0.FloatDataType.Float64:default:return new Float64Array(E)}}function fh(kd,E,V){return kd.byteOffset==0&&kd.byteLength==kd.buffer.byteLength||(kd=new Uint8Array(kd)),new V($g?kd.buffer:(function(Me,ot){const Tl=new ArrayBuffer(Me.length),ll=new Uint8Array(Tl);for(let Pl=0,Bl=Me.length;Pl<Bl;Pl+=ot)for(let Ml=0;Ml<ot;Ml++)ll[Pl+ot-Ml-1]=Me[Pl+Ml];return Tl})(kd,E))}function Mf(kd){const E=Object.create(null),V=Object.create(null);for(const Me of kd.columns)E[Me.name]=Me;return{rowCount:kd.rowCount,name:kd.name.substring(1),fieldNames:kd.columns.map(Me=>Me.name),getField(Me){const ot=E[Me];if(ot)return V[Me]||(V[Me]=Gg(ot.data)),V[Me]}}}var lf=o(471);class mp{constructor(E){if(this.C={},E){let V=E.getField("comp_id"),Me=E.getField("atom_id_1"),ot=E.getField("atom_id_2"),Tl=E.getField("value_order");for(let ll=0;ll<V.length;ll++){let Pl=V[ll],Bl=Me[ll],Ml=ot[ll],Vl=Tl[ll],Yl=1;Vl=="doub"?Yl=2:Vl=="trip"&&(Yl=3),this.C[Pl]==null&&(this.C[Pl]={}),this.C[Pl][Bl]==null&&(this.C[Pl][Bl]={}),this.C[Pl][Ml]==null&&(this.C[Pl][Ml]={}),this.C[Pl][Bl][Ml]=Yl,this.C[Pl][Ml][Bl]=Yl}}}order(E,V,Me){return this.C[E]!==void 0&&this.C[E][V]!==void 0&&this.C[E][V][Me]!==void 0?this.C[E][V][Me]:0}}class rf{constructor(E){if(this.C=[],E){let V=E.getField("conn_type_id"),Me=E.getField("ptnr1_label_asym_id"),ot=E.getField("ptnr1_label_seq_id"),Tl=E.getField("ptnr1_label_comp_id"),ll=E.getField("ptnr1_label_atom_id"),Pl=E.getField("ptnr2_label_asym_id"),Bl=E.getField("ptnr2_label_seq_id"),Ml=E.getField("ptnr2_label_comp_id"),Vl=E.getField("ptnr2_label_atom_id"),Yl=E.getField("pdbx_value_order");for(let zu=0;zu<V.length;zu++)if(V[zu]=="disulf"||V[zu]=="covale"){let Fu=Yl?Yl[zu]==""?1:parseInt(Yl[zu]):1;this.C.push([[Me[zu],ot[zu],Tl[zu],ll[zu]],[Pl[zu],Bl[zu],Ml[zu],Vl[zu]],Fu])}}}}class hp{constructor(){this.R={}}add(E){this.R[E.lchain]==null&&(this.R[E.lchain]={}),this.R[E.lchain][E.lresi]==null&&(this.R[E.lchain][E.lresi]={}),this.R[E.lchain][E.lresi][E.lresn]==null&&(this.R[E.lchain][E.lresi][E.lresn]=[]),this.R[E.lchain][E.lresi][E.lresn].push(E),this.R[E.lchain][E.lresi][E.lresn][E.atom]=E}geta([E,V,Me,ot]){if(this.R[E]!==void 0&&this.R[E][V]!==void 0&&this.R[E][V][Me]!==void 0)return this.R[E][V][Me][ot]}setBonds(E,V){for(let Me in this.R)for(let ot in this.R[Me])for(let Tl in this.R[Me][ot]){let ll=this.R[Me][ot][Tl];for(let Pl=0;Pl<ll.length;Pl++)for(let Bl=Pl+1;Bl<ll.length;Bl++){let Ml=ll[Pl],Vl=ll[Bl],Yl=E.order(Tl,Ml.atom,Vl.atom);Ml.altLoc!=Vl.altLoc&&Ml.altLoc!=""&&Vl.altLoc!=""&&(Yl=0),Yl>0&&(Ml.bonds.push(Vl.index),Vl.bonds.push(Ml.index),Ml.bondOrder.push(Yl),Vl.bondOrder.push(Yl))}}for(let Me of V.C){let ot=Me[0],Tl=Me[1],ll=Me[2],Pl=this.geta(ot),Bl=this.geta(Tl);Pl!=null&&Bl!=null&&(Pl.bonds.push(Bl.index),Bl.bonds.push(Pl.index),Pl.bondOrder.push(ll),Bl.bondOrder.push(ll))}}}function Cp(kd,E){var V=!E.keepH,Me=E.altLoc?E.altLoc:"A",ot=!E.noComputeSecondaryStructure;const Tl=!E.doAssembly,ll=E.assignBonds===void 0||E.assignBonds;if(typeof kd=="string")try{kd=(0,H.base64ToArray)(kd)}catch{kd=new TextEncoder().encode(kd)}else kd=new Uint8Array(kd);var Pl=lf.decodeMsgpack(kd);Pl==31&&(kd=(0,H.inflateString)(kd,!1),Pl=lf.decodeMsgpack(kd));var Bl=[],Ml=Bl.modelData=[],Vl=Pl.dataBlocks.length;if(Vl==0)return Bl;E.multimodel||(Vl=1);for(let Yl=0;Yl<Vl;Yl++){let zu=Bl.length;const Fu=[];Ml.push({symmetries:[]}),Bl.push([]);const mu=Pl.dataBlocks[Yl],Lu=Object.create(null);for(const Rf of mu.categories)Lu[Rf.name.substr(1)]=Mf(Rf);let Du={},Qu=Lu.struct_conf;if(Qu){let Rf=Qu.getField("conf_type_id"),cf=Qu.getField("beg_label_asym_id"),dp=Qu.getField("beg_label_seq_id"),np=Qu.getField("end_label_seq_id");for(let ip=0;ip<Rf.length;ip++)if(Rf[ip].startsWith("H")){let Xf=cf[ip],Jf=dp[ip],qf=np[ip];Xf in Du||(Du[Xf]={}),Du[Xf][Jf]="h1";for(let fp=Jf+1;fp<qf;fp++)Du[Xf][fp]="h";Du[Xf][qf]="h2"}}let ld=Lu.struct_sheet_range;if(ld){let Rf=ld.getField("id"),cf=ld.getField("beg_label_asym_id"),dp=ld.getField("beg_label_seq_id"),np=ld.getField("end_label_seq_id");for(let ip=0;ip<Rf.length;ip++){let Xf=cf[ip],Jf=dp[ip],qf=np[ip];Xf in Du||(Du[Xf]={}),Du[Xf][Jf]="s1";for(let fp=Jf+1;fp<qf;fp++)Du[Xf][fp]="s";Du[Xf][qf]="s2"}}let vd=Lu.pdbx_struct_oper_list,Ld=vd.getField("id");if(Ld&&!Tl){let Rf=vd.getField("matrix[1][1]"),cf=vd.getField("matrix[1][2]"),dp=vd.getField("matrix[1][3]"),np=vd.getField("matrix[2][1]"),ip=vd.getField("matrix[2][2]"),Xf=vd.getField("matrix[2][3]"),Jf=vd.getField("matrix[3][1]"),qf=vd.getField("matrix[3][2]"),fp=vd.getField("matrix[3][3]"),$p=vd.getField("vector[1]"),hg=vd.getField("vector[2]"),v0=vd.getField("vector[3]");for(let f0=0;f0<Ld.length;f0++){const u0=new d.Matrix4(Rf[f0],cf[f0],dp[f0],$p[f0],np[f0],ip[f0],Xf[f0],hg[f0],Jf[f0],qf[f0],fp[f0],v0[f0]);Ml[Ml.length-1].symmetries.push(u0)}}let Ad=new mp(Lu.chem_comp_bond),nh=new hp,dh=new rf(Lu.struct_conn),vh=Lu.atom_site,Xl=vh.rowCount,$u=vh.getField("group_PDB"),Wd=vh.getField("Cartn_x"),ih=vh.getField("Cartn_y"),ph=vh.getField("Cartn_z"),Dh=vh.getField("auth_asym_id"),Uh=vh.getField("label_asym_id"),Oh=vh.getField("auth_seq_id"),Rh=vh.getField("label_seq_id"),Yh=vh.getField("auth_comp_id"),wh=vh.getField("label_comp_id"),Hh=vh.getField("auth_atom_id"),Cf=vh.getField("label_atom_id"),nf=vh.getField("type_symbol"),mf=vh.getField("B_iso_or_equiv"),af=vh.getField("id"),zh=vh.getField("label_alt_id"),Af=vh.getField("pdbx_PDB_model_num"),$f=Af?Af[0]:0;for(let Rf=0;Rf<Xl;Rf++){if($u!==void 0&&$u[Rf]==="TER")continue;if(Af&&Af[Rf]!=$f){if($f=Af[Rf],!E.multimodel)break;E.onemol||(Bl.push([]),Ml.push(Ml[Ml.length-1]),$f=Af[Rf],nh.setBonds(Ad,dh),nh=new hp)}const cf={};cf.x=Wd[Rf],cf.y=ih[Rf],cf.z=ph[Rf],cf.chain=Dh?Dh[Rf]:Uh?Uh[Rf]:void 0,cf.lchain=Uh?Uh[Rf]:void 0,cf.resi=Oh?Oh[Rf]:Rh?Rh[Rf]:void 0,cf.lresi=Rh?Rh[Rf]:void 0,cf.resn=Yh?Yh[Rf].trim():wh?wh[Rf].trim():void 0,cf.lresn=wh?wh[Rf].trim():void 0,cf.atom=Hh?Hh[Rf].replace(/"/gm,""):Cf?Cf[Rf].replace(/"/gm,""):void 0,cf.icode=zh?zh[Rf]:void 0,cf.altLoc=cf.icode,cf.hetflag=!$u||$u[Rf]==="HETA"||$u[Rf]==="HETATM";let dp="X";nf&&(dp=nf[Rf].replace(/\(?\+?\d+.*/,"")),cf.elem=dp[0].toUpperCase()+dp.substring(1,2).toLowerCase(),mf&&(cf.b=mf[Rf]),V&&cf.elem=="H"||cf.altLoc!=""&&cf.altLoc!=Me&&Me!="*"||(cf.bonds=[],cf.ss="c",cf.serial=af[Rf],cf.model=$f,cf.bondOrder=[],cf.properties={},cf.index=Bl[Bl.length-1].length,Fu[cf.serial]=[Bl.length,cf.index],Bl[Bl.length-1].push(cf),nh.add(cf))}if(nh.setBonds(Ad,dh),!Ef(Du))for(let Rf=zu;Rf<Bl.length;Rf++){let cf=Bl[Rf];for(let dp=0;dp<cf.length;dp++){const np=cf[dp];if(np!==void 0&&np.lchain in Du&&np.lresi in Du[np.lchain]){const ip=Du[np.lchain][np.lresi];np.ss=ip[0],ip.length>1&&(ip[1]=="1"?np.ssbegin=!0:ip[1]=="2"&&(np.ssend=!0))}}}E.multimodel&&Yl<Vl-1&&(E.onemol||(Bl.push([]),Ml.push({symmetries:[]})))}for(let Yl=0;Yl<Bl.length;Yl++)!ll||E.duplicateAssemblyAtoms&&!E.dontConnectDuplicatedAtoms||gd(Bl[Yl],E),ot&&qu(Bl[Yl],E.hbondCutoff),ad(Ml[Yl].symmetries,Bl[Yl],E,Ml[Yl].cryst),E.duplicateAssemblyAtoms&&!E.dontConnectDuplicatedAtoms&&ll&&gd(Bl[Yl],E);return Bl}const sp={vasp:Id.VASP,VASP:Id.VASP,cube:Bd.CUBE,CUBE:Bd.CUBE,xyz:Wl,XYZ:Wl,sdf:jd,SDF:jd,json:Md,cdjson:Md,CDJSON:Md,mcif:oh,cif:oh,CIF:oh,mol2:sf,MOL2:sf,pdb:Mp,PDB:Mp,pdbqt:Mp,PDBQT:Mp,pqr:rp,PQR:rp,mmtf:E0,MMTF:E0,prmtop:l0,PRMTOP:l0,gro:n0,GRO:n0,lammpstrj:G0,LAMMPSTRJ:G0,bcif:Cp,BCIF:Cp};function jp(kd,E="utf8"){return new TextDecoder(E).decode(kd)}const Cg=new TextEncoder,tg=(()=>{const kd=new Uint8Array(4);return!((new Uint32Array(kd.buffer)[0]=1)&kd[0])})(),qg={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class ig{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(E=8192,V={}){let Me=!1;typeof E=="number"?E=new ArrayBuffer(E):(Me=!0,this.lastWrittenByte=E.byteLength);const ot=V.offset?V.offset>>>0:0,Tl=E.byteLength-ot;let ll=ot;(ArrayBuffer.isView(E)||E instanceof ig)&&(E.byteLength!==E.buffer.byteLength&&(ll=E.byteOffset+ot),E=E.buffer),this.lastWrittenByte=Me?Tl:0,this.buffer=E,this.length=Tl,this.byteLength=Tl,this.byteOffset=ll,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,ll,Tl),this._mark=0,this._marks=[]}available(E=1){return this.offset+E<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(E=1){return this.offset+=E,this}back(E=1){return this.offset-=E,this}seek(E){return this.offset=E,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const E=this._marks.pop();if(E===void 0)throw new Error("Mark stack empty");return this.seek(E),this}rewind(){return this.offset=0,this}ensureAvailable(E=1){if(!this.available(E)){const V=2*(this.offset+E),Me=new Uint8Array(V);Me.set(new Uint8Array(this.buffer)),this.buffer=Me.buffer,this.length=V,this.byteLength=V,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(E=1){return this.readArray(E,"uint8")}readArray(E,V){const Me=qg[V].BYTES_PER_ELEMENT*E,ot=this.byteOffset+this.offset,Tl=this.buffer.slice(ot,ot+Me);if(this.littleEndian===tg&&V!=="uint8"&&V!=="int8"){const Pl=new Uint8Array(this.buffer.slice(ot,ot+Me));Pl.reverse();const Bl=new qg[V](Pl.buffer);return this.offset+=Me,Bl.reverse(),Bl}const ll=new qg[V](Tl);return this.offset+=Me,ll}readInt16(){const E=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,E}readUint16(){const E=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,E}readInt32(){const E=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,E}readUint32(){const E=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,E}readFloat32(){const E=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,E}readFloat64(){const E=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,E}readBigInt64(){const E=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,E}readBigUint64(){const E=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,E}readChar(){return String.fromCharCode(this.readInt8())}readChars(E=1){let V="";for(let Me=0;Me<E;Me++)V+=this.readChar();return V}readUtf8(E=1){return jp(this.readBytes(E))}decodeText(E=1,V="utf8"){return jp(this.readBytes(E),V)}writeBoolean(E){return this.writeUint8(E?255:0),this}writeInt8(E){return this.ensureAvailable(1),this._data.setInt8(this.offset++,E),this._updateLastWrittenByte(),this}writeUint8(E){return this.ensureAvailable(1),this._data.setUint8(this.offset++,E),this._updateLastWrittenByte(),this}writeByte(E){return this.writeUint8(E)}writeBytes(E){this.ensureAvailable(E.length);for(let V=0;V<E.length;V++)this._data.setUint8(this.offset++,E[V]);return this._updateLastWrittenByte(),this}writeInt16(E){return this.ensureAvailable(2),this._data.setInt16(this.offset,E,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(E){return this.ensureAvailable(2),this._data.setUint16(this.offset,E,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(E){return this.ensureAvailable(4),this._data.setInt32(this.offset,E,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(E){return this.ensureAvailable(4),this._data.setUint32(this.offset,E,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(E){return this.ensureAvailable(4),this._data.setFloat32(this.offset,E,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(E){return this.ensureAvailable(8),this._data.setFloat64(this.offset,E,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(E){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,E,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(E){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,E,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(E){return this.writeUint8(E.charCodeAt(0))}writeChars(E){for(let V=0;V<E.length;V++)this.writeUint8(E.charCodeAt(V));return this}writeUtf8(E){return this.writeBytes((function(V){return Cg.encode(V)})(E))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}const Ag=1,vg=2,cg=3,_p=4,Ep=5,dm=6;function Om(kd){switch(Number(kd)){case Ag:return"byte";case vg:return"char";case cg:return"short";case _p:return"int";case Ep:return"float";case dm:return"double";default:return"undefined"}}function Pp(kd){switch(Number(kd)){case Ag:case vg:return 1;case cg:return 2;case _p:case Ep:return 4;case dm:return 8;default:return-1}}function Xg(kd){switch(String(kd)){case"byte":return Ag;case"char":return vg;case"short":return cg;case"int":return _p;case"float":return Ep;case"double":return dm;default:return-1}}function wm(kd,E){if(kd!==1){const V=new Array(kd);for(let Me=0;Me<kd;Me++)V[Me]=E();return V}return E()}function hm(kd,E,V){switch(E){case Ag:return Array.from(kd.readBytes(V));case vg:return(Me=kd.readChars(V)).charCodeAt(Me.length-1)===0?Me.substring(0,Me.length-1):Me;case cg:return wm(V,kd.readInt16.bind(kd));case _p:return wm(V,kd.readInt32.bind(kd));case Ep:return wm(V,kd.readFloat32.bind(kd));case dm:return wm(V,kd.readFloat64.bind(kd));default:throw new Error(`non valid type ${E}`)}var Me}function Vg(kd,E){if(kd)throw new TypeError(`Not a valid NetCDF v3.x file: ${E}`)}function Qg(kd){kd.offset%4!=0&&kd.skip(4-kd.offset%4)}function Tg(kd){const E=kd.readUint32(),V=kd.readChars(E);return Qg(kd),V}function vm(kd,E){const V={version:E},Me={length:kd.readUint32()},ot=(function(ll){const Pl={};let Bl,Ml;const Vl=ll.readUint32();let Yl;if(Vl===0)return Vg(ll.readUint32()!==0,"wrong empty tag for list of dimensions"),[];{Vg(Vl!==10,"wrong tag for list of dimensions");const zu=ll.readUint32();Yl=new Array(zu);for(let Fu=0;Fu<zu;Fu++){const mu=Tg(ll),Lu=ll.readUint32();Lu===0&&(Bl=Fu,Ml=mu),Yl[Fu]={name:mu,size:Lu}}}return Bl!==void 0&&(Pl.recordId=Bl),Ml!==void 0&&(Pl.recordName=Ml),Pl.dimensions=Yl,Pl})(kd);Array.isArray(ot)||(Me.id=ot.recordId,Me.name=ot.recordName,V.dimensions=ot.dimensions),V.globalAttributes=zm(kd);const Tl=(function(ll,Pl,Bl){const Ml=ll.readUint32();let Vl,Yl=0;if(Ml===0)return Vg(ll.readUint32()!==0,"wrong empty tag for list of variables"),[];{Vg(Ml!==11,"wrong tag for list of variables");const zu=ll.readUint32();Vl=new Array(zu);for(let Fu=0;Fu<zu;Fu++){const mu=Tg(ll),Lu=ll.readUint32(),Du=new Array(Lu);for(let nh=0;nh<Lu;nh++)Du[nh]=ll.readUint32();const Qu=zm(ll),ld=ll.readUint32();Vg(ld<1&&ld>6,`non valid type ${ld}`);const vd=ll.readUint32();let Ld=ll.readUint32();Bl===2&&(Vg(Ld>0,"offsets larger than 4GB not supported"),Ld=ll.readUint32());let Ad=!1;Pl!==void 0&&Du[0]===Pl&&(Yl+=vd,Ad=!0),Vl[Fu]={name:mu,dimensions:Du,attributes:Qu,type:Om(ld),size:vd,offset:Ld,record:Ad}}}return{variables:Vl,recordStep:Yl}})(kd,Me?.id,E);return Array.isArray(Tl)||(V.variables=Tl.variables,Me.recordStep=Tl.recordStep),V.recordDimension=Me,V}function zm(kd){const E=kd.readUint32();let V;if(E===0)return Vg(kd.readUint32()!==0,"wrong empty tag for list of attributes"),[];{Vg(E!==12,"wrong tag for list of attributes");const Me=kd.readUint32();V=new Array(Me);for(let ot=0;ot<Me;ot++){const Tl=Tg(kd),ll=kd.readUint32();Vg(ll<1||ll>6,`non valid type ${ll}`);const Pl=kd.readUint32(),Bl=hm(kd,ll,Pl);Qg(kd),V[ot]={name:Tl,type:Om(ll),value:Bl}}}return V}function Cm(){const kd=[];kd.push("DIMENSIONS");for(const V of this.dimensions)kd.push(`  ${V.name.padEnd(30)} = size: ${V.size}`);kd.push(""),kd.push("GLOBAL ATTRIBUTES");for(const V of this.globalAttributes)kd.push(`  ${V.name.padEnd(30)} = ${V.value}`);const E=JSON.parse(JSON.stringify(this.variables));kd.push(""),kd.push("VARIABLES:");for(const V of E){V.value=this.getDataVariable(V);let Me=JSON.stringify(V.value);Me.length>50&&(Me=Me.substring(0,50)),isNaN(V.value.length)||(Me+=` (length: ${V.value.length})`),kd.push(`  ${V.name.padEnd(30)} = ${Me}`)}return kd.join(`
`)}class Qm{constructor(E){this.toString=Cm;const V=new ig(E);V.setBigEndian(),Vg(V.readChars(3)!=="CDF","should start with CDF");const Me=V.readByte();Vg(Me>2,"unknown version"),this.header=vm(V,Me),this.buffer=V}get version(){return this.header.version===1?"classic format":"64-bit offset format"}get recordDimension(){return this.header.recordDimension}get dimensions(){return this.header.dimensions}get globalAttributes(){return this.header.globalAttributes}getAttribute(E){const V=this.globalAttributes.find(Me=>Me.name===E);return V?V.value:null}getDataVariableAsString(E){const V=this.getDataVariable(E);return V?V.join(""):null}get variables(){return this.header.variables}getDataVariable(E){let V;if(V=typeof E=="string"?this.header.variables.find(Me=>Me.name===E):E,V===void 0)throw new Error("Not a valid NetCDF v3.x file: variable not found");return this.buffer.seek(V.offset),V.record?(function(Me,ot,Tl){const ll=Xg(ot.type),Pl=ot.size?ot.size/Pp(ll):1,Bl=Tl.length,Ml=new Array(Bl),Vl=Tl.recordStep;if(!Vl)throw new Error("recordDimension.recordStep is undefined");for(let Yl=0;Yl<Bl;Yl++){const zu=Me.offset;Ml[Yl]=hm(Me,ll,Pl),Me.seek(zu+Vl)}return Ml})(this.buffer,V,this.header.recordDimension):(function(Me,ot){const Tl=Xg(ot.type),ll=ot.size/Pp(Tl),Pl=new Array(ll);for(let Bl=0;Bl<ll;Bl++)Pl[Bl]=hm(Me,Tl,1);return Pl})(this.buffer,V)}dataVariableExists(E){return this.header.variables.find(V=>V.name===E)!==void 0}attributeExists(E){return this.globalAttributes.find(V=>V.name===E)!==void 0}}class b0{static sameObj(E,V){return E&&V?JSON.stringify(E)==JSON.stringify(V):E==V}constructor(E,V,Me){this.atoms=[],this.frames=[],this.box=null,this.atomdfs=null,this.id=0,this.hidden=!1,this.molObj=null,this.renderedMolObj=null,this.lastColors=null,this.modelData={},this.modelDatas=null,this.idMatrix=new y.Matrix4,this.dontDuplicateAtoms=!0,this.defaultColor=L.elementColors.defaultColor,this.defaultStickRadius=.25,this.options=V||{},this.viewer=Me,this.ElementColors=this.options.defaultcolors?this.options.defaultcolors:L.elementColors.defaultColors,this.defaultSphereRadius=this.options.defaultSphereRadius?this.options.defaultSphereRadius:1.5,this.defaultCartoonQuality=this.options.cartoonQuality?this.options.cartoonQuality:10,this.id=E}getRadiusFromStyle(E,V){var Me=this.defaultSphereRadius;if(V.radius!==void 0)Me=V.radius;else if(b0.vdwRadii[E.elem])Me=b0.vdwRadii[E.elem];else if(E.elem.length>1){let ot=E.elem;ot=ot[0].toUpperCase()+ot[1].toLowerCase(),b0.vdwRadii[ot]&&(Me=b0.vdwRadii[ot])}return V.scale!==void 0&&(Me*=V.scale),Me}drawAtomCross(E,V){if(E.style.cross){var Me=E.style.cross;if(!Me.hidden){var ot=Me.linewidth||b0.defaultlineWidth;V[ot]||(V[ot]=new d.Geometry);var Tl=V[ot].updateGeoGroup(6),ll=this.getRadiusFromStyle(E,Me),Pl=[[ll,0,0],[-ll,0,0],[0,ll,0],[0,-ll,0],[0,0,ll],[0,0,-ll]],Bl=E.clickable||E.hoverable;Bl&&E.intersectionShape===void 0&&(E.intersectionShape={sphere:[],cylinder:[],line:[]});for(var Ml=(0,H.getColorFromStyle)(E,Me),Vl=Tl.vertexArray,Yl=Tl.colorArray,zu=0;zu<6;zu++){var Fu=3*Tl.vertices;if(Tl.vertices++,Vl[Fu]=E.x+Pl[zu][0],Vl[Fu+1]=E.y+Pl[zu][1],Vl[Fu+2]=E.z+Pl[zu][2],Yl[Fu]=Ml.r,Yl[Fu+1]=Ml.g,Yl[Fu+2]=Ml.b,Bl){var mu=new y.Vector3(Pl[zu][0],Pl[zu][1],Pl[zu][2]);mu.multiplyScalar(.1),mu.set(mu.x+E.x,mu.y+E.y,mu.z+E.z),E.intersectionShape.line.push(mu)}}}}}getGoodCross(E,V,Me,ot){for(var Tl=null,ll=-1,Pl=0,Bl=E.bonds.length;Pl<Bl;Pl++)if(E.bonds[Pl]!=V.index){let Vl=E.bonds[Pl],Yl=this.atoms[Vl],zu=new y.Vector3(Yl.x,Yl.y,Yl.z).clone();zu.sub(Me);let Fu=zu.clone();Fu.cross(ot);var Ml=Fu.lengthSq();if(Ml>ll&&(Tl=Fu,(ll=Ml)>.1))return Tl}return Tl}getSideBondV(E,V,Me){var ot,Tl,ll,Pl,Bl=new y.Vector3(E.x,E.y,E.z),Ml=new y.Vector3(V.x,V.y,V.z).clone(),Vl=null;if(Ml.sub(Bl),E.bonds.length===1)V.bonds.length===1?(Vl=Ml.clone(),Math.abs(Vl.x)>1e-4?Vl.y+=1:Vl.x+=1):(ot=(Me+1)%V.bonds.length,Tl=V.bonds[ot],(ll=this.atoms[Tl]).index==E.index&&(ot=(ot+1)%V.bonds.length,Tl=V.bonds[ot],ll=this.atoms[Tl]),(Pl=new y.Vector3(ll.x,ll.y,ll.z).clone()).sub(Bl),(Vl=Pl.clone()).cross(Ml));else if((Vl=this.getGoodCross(E,V,Bl,Ml)).lengthSq()<.01){var Yl=this.getGoodCross(V,E,Bl,Ml);Yl!=null&&(Vl=Yl)}return Vl.lengthSq()<.01&&(Vl=Ml.clone(),Math.abs(Vl.x)>1e-4?Vl.y+=1:Vl.x+=1),Vl.cross(Ml),Vl.normalize(),Vl}addLine(E,V,Me,ot,Tl,ll){E[Me]=ot.x,E[Me+1]=ot.y,E[Me+2]=ot.z,V[Me]=ll.r,V[Me+1]=ll.g,V[Me+2]=ll.b,E[Me+3]=Tl.x,E[Me+4]=Tl.y,E[Me+5]=Tl.z,V[Me+3]=ll.r,V[Me+4]=ll.g,V[Me+5]=ll.b}drawBondLines(E,V,Me){if(E.style.line){var ot=E.style.line;if(!ot.hidden){var Tl,ll,Pl,Bl,Ml=ot.linewidth||b0.defaultlineWidth;Me[Ml]||(Me[Ml]=new d.Geometry);for(var Vl=Me[Ml].updateGeoGroup(6*E.bonds.length),Yl=Vl.vertexArray,zu=Vl.colorArray,Fu=0;Fu<E.bonds.length;Fu++){var mu=V[E.bonds[Fu]];if(mu.style.line&&!(E.index>=mu.index)){var Lu=new y.Vector3(E.x,E.y,E.z),Du=new y.Vector3(mu.x,mu.y,mu.z),Qu=Lu.clone().add(Du).multiplyScalar(.5),ld=!1,vd=E.clickable||E.hoverable,Ld=mu.clickable||mu.hoverable;(vd||Ld)&&(vd&&(E.intersectionShape===void 0&&(E.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),E.intersectionShape.line.push(Lu),E.intersectionShape.line.push(Qu)),Ld&&(mu.intersectionShape===void 0&&(mu.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),mu.intersectionShape.line.push(Qu),mu.intersectionShape.line.push(Du)));var Ad=(0,H.getColorFromStyle)(E,E.style.line),nh=(0,H.getColorFromStyle)(mu,mu.style.line);if(E.bondStyles&&E.bondStyles[Fu]){var dh=E.bondStyles[Fu];if(!dh.iswire)continue;dh.singleBond&&(ld=!0),dh.color1!==void 0&&(Ad=L.CC.color(dh.color1)),dh.color2!==void 0&&(nh=L.CC.color(dh.color2))}var vh,Xl,$u=3*Vl.vertices;if(E.bondOrder[Fu]>1&&E.bondOrder[Fu]<4&&!ld){var Wd=this.getSideBondV(E,mu,Fu),ih=Du.clone();ih.sub(Lu),E.bondOrder[Fu]==2?(Wd.multiplyScalar(.1),(Tl=Lu.clone()).add(Wd),(ll=Lu.clone()).sub(Wd),(Pl=Tl.clone()).add(ih),(Bl=ll.clone()).add(ih),Ad==nh?(Vl.vertices+=4,this.addLine(Yl,zu,$u,Tl,Pl,Ad),this.addLine(Yl,zu,$u+6,ll,Bl,Ad)):(Vl.vertices+=8,ih.multiplyScalar(.5),(vh=Tl.clone()).add(ih),(Xl=ll.clone()).add(ih),this.addLine(Yl,zu,$u,Tl,vh,Ad),this.addLine(Yl,zu,$u+6,vh,Pl,nh),this.addLine(Yl,zu,$u+12,ll,Xl,Ad),this.addLine(Yl,zu,$u+18,Xl,Bl,nh))):E.bondOrder[Fu]==3&&(Wd.multiplyScalar(.1),(Tl=Lu.clone()).add(Wd),(ll=Lu.clone()).sub(Wd),(Pl=Tl.clone()).add(ih),(Bl=ll.clone()).add(ih),Ad==nh?(Vl.vertices+=6,this.addLine(Yl,zu,$u,Lu,Du,Ad),this.addLine(Yl,zu,$u+6,Tl,Pl,Ad),this.addLine(Yl,zu,$u+12,ll,Bl,Ad)):(Vl.vertices+=12,ih.multiplyScalar(.5),(vh=Tl.clone()).add(ih),(Xl=ll.clone()).add(ih),this.addLine(Yl,zu,$u,Lu,Qu,Ad),this.addLine(Yl,zu,$u+6,Qu,Du,nh),this.addLine(Yl,zu,$u+12,Tl,vh,Ad),this.addLine(Yl,zu,$u+18,vh,Pl,nh),this.addLine(Yl,zu,$u+24,ll,Xl,Ad),this.addLine(Yl,zu,$u+30,Xl,Bl,nh)))}else Ad==nh?(Vl.vertices+=2,this.addLine(Yl,zu,$u,Lu,Du,Ad)):(Vl.vertices+=4,this.addLine(Yl,zu,$u,Lu,Qu,Ad),this.addLine(Yl,zu,$u+6,Qu,Du,nh))}}}}}drawAtomSphere(E,V){if(E.style.sphere){var Me=E.style.sphere;if(!Me.hidden){var ot=(0,H.getColorFromStyle)(E,Me),Tl=this.getRadiusFromStyle(E,Me);if((E.clickable===!0||E.hoverable)&&E.intersectionShape!==void 0){var ll=new y.Vector3(E.x,E.y,E.z);E.intersectionShape.sphere.push(new w.Sphere(ll,Tl))}c.drawSphere(V,E,Tl,ot)}}}drawAtomClickSphere(E){if(E.style.clicksphere){var V=E.style.clicksphere;if(!V.hidden){var Me=this.getRadiusFromStyle(E,V);if((E.clickable===!0||E.hoverable)&&E.intersectionShape!==void 0){var ot=new y.Vector3(E.x,E.y,E.z);E.intersectionShape.sphere.push(new w.Sphere(ot,Me))}}}}drawAtomInstanced(E,V){if(E.style.sphere){var Me=E.style.sphere;if(!Me.hidden){var ot=this.getRadiusFromStyle(E,Me),Tl=(0,H.getColorFromStyle)(E,Me),ll=V.updateGeoGroup(1),Pl=ll.vertices,Bl=3*Pl,Ml=ll.vertexArray,Vl=ll.colorArray,Yl=ll.radiusArray;if(Ml[Bl]=E.x,Ml[Bl+1]=E.y,Ml[Bl+2]=E.z,Vl[Bl]=Tl.r,Vl[Bl+1]=Tl.g,Vl[Bl+2]=Tl.b,Yl[Pl]=ot,(E.clickable===!0||E.hoverable)&&E.intersectionShape!==void 0){var zu=new y.Vector3(E.x,E.y,E.z);E.intersectionShape.sphere.push(new w.Sphere(zu,ot))}ll.vertices+=1}}}drawSphereImposter(E,V,Me,ot){var Tl,ll=E.updateGeoGroup(4),Pl=ll.vertices,Bl=3*Pl,Ml=ll.vertexArray,Vl=ll.colorArray;for(Tl=0;Tl<4;Tl++)Ml[Bl+3*Tl]=V.x,Ml[Bl+3*Tl+1]=V.y,Ml[Bl+3*Tl+2]=V.z;var Yl=ll.normalArray;for(Tl=0;Tl<4;Tl++)Vl[Bl+3*Tl]=ot.r,Vl[Bl+3*Tl+1]=ot.g,Vl[Bl+3*Tl+2]=ot.b;Yl[Bl+0]=-Me,Yl[Bl+1]=Me,Yl[Bl+2]=0,Yl[Bl+3]=-Me,Yl[Bl+4]=-Me,Yl[Bl+5]=0,Yl[Bl+6]=Me,Yl[Bl+7]=-Me,Yl[Bl+8]=0,Yl[Bl+9]=Me,Yl[Bl+10]=Me,Yl[Bl+11]=0,ll.vertices+=4;var zu=ll.faceArray,Fu=ll.faceidx;zu[Fu+0]=Pl,zu[Fu+1]=Pl+1,zu[Fu+2]=Pl+2,zu[Fu+3]=Pl+2,zu[Fu+4]=Pl+3,zu[Fu+5]=Pl,ll.faceidx+=6}drawAtomImposter(E,V){if(E.style.sphere){var Me=E.style.sphere;if(!Me.hidden){var ot=this.getRadiusFromStyle(E,Me),Tl=(0,H.getColorFromStyle)(E,Me);if((E.clickable===!0||E.hoverable)&&E.intersectionShape!==void 0){var ll=new y.Vector3(E.x,E.y,E.z);E.intersectionShape.sphere.push(new w.Sphere(ll,ot))}this.drawSphereImposter(V,E,ot,Tl)}}}calculateDashes(E,V,Me,ot,Tl){var ll=Math.sqrt(Math.pow(E.x-V.x,2)+Math.pow(E.y-V.y,2)+Math.pow(E.z-V.z,2));Me=Math.max(Me,0),Tl=Math.max(Tl,0)+2*Me,(ot=Math.max(ot,.001))+Tl>ll&&(ot=ll,Tl=0);var Pl,Bl=Math.floor((ll-ot)/(ot+Tl))+1;Tl=(ll-Bl*ot)/Bl;for(var Ml=new y.Vector3(E.x,E.y,E.z),Vl=new y.Vector3((V.x-E.x)/(ll/Tl),(V.y-E.y)/(ll/Tl),(V.z-E.z)/(ll/Tl)),Yl=new y.Vector3((V.x-E.x)/(ll/ot),(V.y-E.y)/(ll/ot),(V.z-E.z)/(ll/ot)),zu=[],Fu=0;Fu<Bl;Fu++)Pl=new y.Vector3(Ml.x+Yl.x,Ml.y+Yl.y,Ml.z+Yl.z),zu.push({from:Ml,to:Pl}),Ml=new y.Vector3(Pl.x+Vl.x,Pl.y+Vl.y,Pl.z+Vl.z);return zu}static drawStickImposter(E,V,Me,ot,Tl,ll=0,Pl=0){for(var Bl=E.updateGeoGroup(4),Ml=Bl.vertices,Vl=3*Ml,Yl=Bl.vertexArray,zu=Bl.colorArray,Fu=Bl.radiusArray,mu=Bl.normalArray,Lu=Tl.r,Du=Tl.g,Qu=Tl.b,ld=function(dh){var vh=-dh;return vh==0&&(vh=-1e-4),vh},vd=Vl,Ld=0;Ld<4;Ld++)Yl[vd]=V.x,mu[vd]=Me.x,zu[vd]=Lu,Yl[++vd]=V.y,mu[vd]=Me.y,zu[vd]=Du,Yl[++vd]=V.z,mu[vd]=Me.z,zu[vd]=Ld<2?Qu:ld(Qu),vd++;Bl.vertices+=4,Fu[Ml]=-ot,Fu[Ml+1]=ot,Fu[Ml+2]=-ot,Fu[Ml+3]=ot;var Ad=Bl.faceArray,nh=Bl.faceidx;Ad[nh+0]=Ml,Ad[nh+1]=Ml+1,Ad[nh+2]=Ml+2,Ad[nh+3]=Ml+2,Ad[nh+4]=Ml+3,Ad[nh+5]=Ml,Bl.faceidx+=6}drawBondSticks(E,V,Me){var ot,Tl;if(E.style.stick){var ll=E.style.stick;if(!ll.hidden){var Pl,Bl,Ml,Vl,Yl,zu,Fu,mu,Lu,Du,Qu,ld,vd,Ld,Ad=ll.radius||this.defaultStickRadius,nh=ll.doubleBondScaling||.4,dh=ll.tripleBondScaling||.25,vh=((ot=ll.dashedBondConfig)===null||ot===void 0?void 0:ot.dashLength)||.1,Xl=((Tl=ll.dashedBondConfig)===null||Tl===void 0?void 0:Tl.gapLength)||.25,$u=Ad,Wd=ll.singleBonds||!1,ih=ll.dashedBonds||!1,ph=0,Dh=0,Uh=(0,H.getColorFromStyle)(E,ll);!E.capDrawn&&E.bonds.length<4&&(ph=2);var Oh=v0=>{var f0=Me.imposter?b0.drawStickImposter:c.drawCylinder;return!ih&&v0>=1?f0:(u0,c0,Xp,y0,R0,W0=0,w0=0,V0=.1,Qp=.25)=>{this.calculateDashes(c0,Xp,y0,V0,Qp).forEach(j0=>{f0(u0,j0.from,j0.to,y0,R0,W0,w0)})}};for(Ml=0;Ml<E.bonds.length;Ml++){var Rh=Oh(E.bondOrder[Ml]),Yh=V[E.bonds[Ml]];if(ld=vd=Ld=null,E.index<Yh.index){var wh=Yh.style;if(!wh.stick||wh.stick.hidden)continue;var Hh=(0,H.getColorFromStyle)(Yh,wh.stick);if($u=Ad,Vl=Wd,E.bondStyles&&E.bondStyles[Ml]){if((Yl=E.bondStyles[Ml]).iswire)continue;Yl.radius&&($u=Yl.radius),Yl.singleBond&&(Vl=!0),Yl.color1!==void 0&&(Uh=L.CC.color(Yl.color1)),Yl.color2!==void 0&&(Hh=L.CC.color(Yl.color2))}var Cf=new y.Vector3(E.x,E.y,E.z),nf=new y.Vector3(Yh.x,Yh.y,Yh.z);if(E.bondOrder[Ml]<=1||Vl||E.bondOrder[Ml]>3){if(E.bondOrder[Ml]<1&&($u*=E.bondOrder[Ml]),!Yh.capDrawn&&Yh.bonds.length<4&&(Dh=2),Uh!=Hh?(ld=new y.Vector3().addVectors(Cf,nf).multiplyScalar(.5),Rh(Me,Cf,ld,$u,Uh,ph,0,vh,Xl),Rh(Me,ld,nf,$u,Hh,0,Dh,vh,Xl)):Rh(Me,Cf,nf,$u,Uh,ph,Dh,vh,Xl),Pl=E.clickable||E.hoverable,Bl=Yh.clickable||Yh.hoverable,Pl||Bl){if(ld||(ld=new y.Vector3().addVectors(Cf,nf).multiplyScalar(.5)),Pl){var mf=new w.Cylinder(Cf,ld,$u),af=new w.Sphere(Cf,$u);E.intersectionShape.cylinder.push(mf),E.intersectionShape.sphere.push(af)}if(Bl){var zh=new w.Cylinder(nf,ld,$u),Af=new w.Sphere(nf,$u);Yh.intersectionShape.cylinder.push(zh),Yh.intersectionShape.sphere.push(Af)}}}else if(E.bondOrder[Ml]>1){var $f=0,Rf=0;$u!=Ad&&($f=2,Rf=2);var cf,dp,np,ip,Xf,Jf=nf.clone(),qf=null;Jf.sub(Cf),qf=this.getSideBondV(E,Yh,Ml),E.bondOrder[Ml]==2?(cf=$u*nh,qf.multiplyScalar(1.5*cf),(dp=Cf.clone()).add(qf),(np=Cf.clone()).sub(qf),(ip=dp.clone()).add(Jf),(Xf=np.clone()).add(Jf),Uh!=Hh?(ld=new y.Vector3().addVectors(dp,ip).multiplyScalar(.5),vd=new y.Vector3().addVectors(np,Xf).multiplyScalar(.5),Rh(Me,dp,ld,cf,Uh,$f,0),Rh(Me,ld,ip,cf,Hh,0,Rf),Rh(Me,np,vd,cf,Uh,$f,0),Rh(Me,vd,Xf,cf,Hh,0,Rf)):(Rh(Me,dp,ip,cf,Uh,$f,Rf),Rh(Me,np,Xf,cf,Uh,$f,Rf)),Pl=E.clickable||E.hoverable,Bl=Yh.clickable||Yh.hoverable,(Pl||Bl)&&(ld||(ld=new y.Vector3().addVectors(dp,ip).multiplyScalar(.5)),vd||(vd=new y.Vector3().addVectors(np,Xf).multiplyScalar(.5)),Pl&&(zu=new w.Cylinder(dp,ld,cf),Fu=new w.Cylinder(np,vd,cf),E.intersectionShape.cylinder.push(zu),E.intersectionShape.cylinder.push(Fu)),Bl&&(Lu=new w.Cylinder(ip,ld,cf),Du=new w.Cylinder(Xf,vd,cf),Yh.intersectionShape.cylinder.push(Lu),Yh.intersectionShape.cylinder.push(Du)))):E.bondOrder[Ml]==3&&(cf=$u*dh,qf.cross(Jf),qf.normalize(),qf.multiplyScalar(3*cf),(dp=Cf.clone()).add(qf),(np=Cf.clone()).sub(qf),(ip=dp.clone()).add(Jf),(Xf=np.clone()).add(Jf),Uh!=Hh?(ld=new y.Vector3().addVectors(dp,ip).multiplyScalar(.5),vd=new y.Vector3().addVectors(np,Xf).multiplyScalar(.5),Ld=new y.Vector3().addVectors(Cf,nf).multiplyScalar(.5),Rh(Me,dp,ld,cf,Uh,$f,0),Rh(Me,ld,ip,cf,Hh,0,Rf),Rh(Me,Cf,Ld,cf,Uh,ph,0),Rh(Me,Ld,nf,cf,Hh,0,Dh),Rh(Me,np,vd,cf,Uh,$f,0),Rh(Me,vd,Xf,cf,Hh,0,Rf)):(Rh(Me,dp,ip,cf,Uh,$f,Rf),Rh(Me,Cf,nf,cf,Uh,ph,Dh),Rh(Me,np,Xf,cf,Uh,$f,Rf)),Pl=E.clickable||E.hoverable,Bl=Yh.clickable||Yh.hoverable,(Pl||Bl)&&(ld||(ld=new y.Vector3().addVectors(dp,ip).multiplyScalar(.5)),vd||(vd=new y.Vector3().addVectors(np,Xf).multiplyScalar(.5)),Ld||(Ld=new y.Vector3().addVectors(Cf,nf).multiplyScalar(.5)),Pl&&(zu=new w.Cylinder(dp.clone(),ld.clone(),cf),Fu=new w.Cylinder(np.clone(),vd.clone(),cf),mu=new w.Cylinder(Cf.clone(),Ld.clone(),cf),E.intersectionShape.cylinder.push(zu),E.intersectionShape.cylinder.push(Fu),E.intersectionShape.cylinder.push(mu)),Bl&&(Lu=new w.Cylinder(ip.clone(),ld.clone(),cf),Du=new w.Cylinder(Xf.clone(),vd.clone(),cf),Qu=new w.Cylinder(nf.clone(),Ld.clone(),cf),Yh.intersectionShape.cylinder.push(Lu),Yh.intersectionShape.cylinder.push(Du),Yh.intersectionShape.cylinder.push(Qu))))}}}var fp=!1,$p=0,hg=!1;for(Ml=0;Ml<E.bonds.length;Ml++)Vl=Wd,E.bondStyles&&E.bondStyles[Ml]&&((Yl=E.bondStyles[Ml]).singleBond&&(Vl=!0),Yl.radius&&Yl.radius!=Ad&&(hg=!0)),(Vl||E.bondOrder[Ml]==1)&&$p++;hg?$p>0&&(fp=!0):$p==0&&(E.bonds.length>0||ll.showNonBonded)&&(fp=!0),fp&&($u=Ad,Me.imposter?this.drawSphereImposter(Me.sphereGeometry,E,$u,Uh):c.drawSphere(Me,E,$u,Uh))}}}createMolObj(E,V){V=V||{};var Me,ot,Tl,ll,Pl=new d.Object3D,Bl=[],Ml={},Vl={},Yl=this.drawAtomSphere,zu=null,Fu=null;V.supportsImposters?(Yl=this.drawAtomImposter,(zu=new d.Geometry(!0)).imposter=!0,(Fu=new d.Geometry(!0,!0)).imposter=!0,Fu.sphereGeometry=new d.Geometry(!0),Fu.sphereGeometry.imposter=!0,Fu.drawnCaps={}):V.supportsAIA?(Yl=this.drawAtomInstanced,(zu=new d.Geometry(!1,!0,!0)).instanced=!0,Fu=new d.Geometry(!0)):(zu=new d.Geometry(!0),Fu=new d.Geometry(!0));var mu,Lu={},Du=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(Me=0,Tl=E.length;Me<Tl;Me++){var Qu=E[Me];if(Qu&&Qu.style){for(ot in(Qu.clickable||Qu.hoverable)&&Qu.intersectionShape===void 0&&(Qu.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),ll={line:void 0,cross:void 0,stick:void 0,sphere:void 0})Qu.style[ot]?Qu.style[ot].opacity?ll[ot]=parseFloat(Qu.style[ot].opacity):ll[ot]=1:ll[ot]=void 0,Lu[ot]?ll[ot]!=null&&Lu[ot]!=ll[ot]&&(console.log("Warning: "+ot+" opacity is ambiguous"),Lu[ot]=1):Lu[ot]=ll[ot];Yl.call(this,Qu,zu),this.drawAtomClickSphere(Qu),this.drawAtomCross(Qu,Vl),this.drawBondLines(Qu,E,Ml),this.drawBondSticks(Qu,E,Fu),Qu.style.cartoon===void 0||Qu.style.cartoon.hidden||(Qu.style.cartoon.color!=="spectrum"||typeof Qu.resi!="number"||Qu.hetflag||(Qu.resi<Du[0]&&(Du[0]=Qu.resi),Qu.resi>Du[1]&&(Du[1]=Qu.resi)),Bl.push(Qu))}}if(Bl.length>0&&Od(Pl,Bl,Du,this.defaultCartoonQuality),zu&&zu.vertices>0){zu.initTypedArrays();var ld=null,vd=null;zu.imposter?ld=new d.SphereImposterMaterial({ambient:0,vertexColors:!0,reflectivity:0}):zu.instanced?(vd=new d.Geometry(!0),c.drawSphere(vd,{x:0,y:0,z:0},1,new L.Color(.5,.5,.5)),vd.initTypedArrays(),ld=new d.InstancedMaterial({sphereMaterial:new d.MeshLambertMaterial({ambient:0,vertexColors:!0,reflectivity:0}),sphere:vd})):ld=new d.MeshLambertMaterial({ambient:0,vertexColors:!0,reflectivity:0}),Lu.sphere<1&&Lu.sphere>=0&&(ld.transparent=!0,ld.opacity=Lu.sphere),vd=new d.Mesh(zu,ld),Pl.add(vd)}if(Fu.vertices>0){var Ld=null,Ad=null,nh=Fu.sphereGeometry;nh&&nh.vertices!==void 0&&nh.vertices!=0||(nh=null),Fu.initTypedArrays(),nh&&nh.initTypedArrays();var dh={ambient:0,vertexColors:!0,reflectivity:0};Fu.imposter?(Ld=new d.StickImposterMaterial(dh),Ad=new d.SphereImposterMaterial(dh)):(Ld=new d.MeshLambertMaterial(dh),Ad=new d.MeshLambertMaterial(dh),Ld.wireframe&&(Fu.setUpWireframe(),nh&&nh.setUpWireframe())),Lu.stick<1&&Lu.stick>=0&&(Ld.transparent=!0,Ld.opacity=Lu.stick,Ad.transparent=!0,Ad.opacity=Lu.stick);var vh=new d.Mesh(Fu,Ld);if(Pl.add(vh),nh){var Xl=new d.Mesh(nh,Ad);Pl.add(Xl)}}for(Me in Ml)if(Ml.hasOwnProperty(Me)){mu=Me;var $u=new d.LineBasicMaterial({linewidth:mu,vertexColors:!0});Lu.line<1&&Lu.line>=0&&($u.transparent=!0,$u.opacity=Lu.line),Ml[Me].initTypedArrays();var Wd=new d.Line(Ml[Me],$u,d.LineStyle.LinePieces);Pl.add(Wd)}for(Me in Vl)if(Vl.hasOwnProperty(Me)){mu=Me;var ih=new d.LineBasicMaterial({linewidth:mu,vertexColors:!0});Lu.cross<1&&Lu.cross>=0&&(ih.transparent=!0,ih.opacity=Lu.cross),Vl[Me].initTypedArrays();var ph=new d.Line(Vl[Me],ih,d.LineStyle.LinePieces);Pl.add(ph)}if(this.dontDuplicateAtoms&&this.modelData.symmetries&&this.modelData.symmetries.length>0){var Dh,Uh=new d.Object3D;for(Dh=0;Dh<this.modelData.symmetries.length;Dh++){var Oh=new d.Object3D;(Oh=Pl.clone()).matrix.copy(this.modelData.symmetries[Dh]),Oh.matrixAutoUpdate=!1,Uh.add(Oh)}return Uh}return Pl}getViewer(){return this.viewer}getInternalState(){return{atoms:this.atoms,frames:this.frames}}setInternalState(E){this.atoms=E.atoms,this.frames=E.frames,this.molObj=null}getCrystData(){if(this.modelData.cryst){if(!this.modelData.cryst.matrix){const E=this.modelData.cryst;this.modelData.cryst.matrix=(0,y.conversionMatrix3)(E.a,E.b,E.c,E.alpha,E.beta,E.gamma)}return this.modelData.cryst}return null}setCrystData(E,V,Me,ot,Tl,ll){E=E||1,V=V||1,Me=Me||1,ot=ot||90,Tl=Tl||90,ll=ll||90;const Pl=(0,y.conversionMatrix3)(E,V,Me,ot,Tl,ll);this.modelData.cryst={a:E,b:V,c:Me,alpha:ot,beta:Tl,gamma:ll,matrix:Pl}}setCrystMatrix(E){E=E||new y.Matrix3(1,0,0,0,1,0,0,0,1),this.modelData.cryst={matrix:E}}getSymmetries(){return this.modelData.symmetries===void 0&&(this.modelData.symmetries=[this.idMatrix]),this.modelData.symmetries}setSymmetries(E){E===void 0?this.modelData.symmetries=[this.idMatrix]:(this.modelData.symmetries=E,this.molObj=null)}getID(){return this.id}getNumFrames(){return this.frames.numFrames!=null?this.frames.numFrames:this.frames.length}adjustCoord(E,V,Me,ot){var Tl=V-E;return Tl<-Me?V+ot:Tl>Me?V-ot:V}adjustCoordinatesToBox(){if(this.box&&this.atomdfs)for(var E=this.box[0],V=this.box[1],Me=this.box[2],ot=.9*E,Tl=.9*V,ll=.9*Me,Pl=0;Pl<this.atomdfs.length;Pl++)for(var Bl=this.atomdfs[Pl],Ml=1;Ml<Bl.length;Ml++){var Vl=this.atoms[Bl[Ml][0]],Yl=this.atoms[Bl[Ml][1]];Vl.x=this.adjustCoord(Yl.x,Vl.x,ot,E),Vl.y=this.adjustCoord(Yl.y,Vl.y,Tl,V),Vl.z=this.adjustCoord(Yl.z,Vl.z,ll,Me)}}setFrame(E){var V=this.getNumFrames();let Me=this,ot=this.viewer;return new Promise(function(Tl,ll){if(V==0&&Tl(),(E<0||E>=V)&&(E=V-1),Me.frames.url!=null){var Pl=Me.frames.url;(0,H.getbin)(Pl+"/traj/frame/"+E+"/"+Me.frames.path,void 0,"POST",void 0).then(function(Bl){for(var Ml=new Float32Array(Bl,44),Vl=0,Yl=0;Yl<Me.atoms.length;Yl++)Me.atoms[Yl].x=Ml[Vl++],Me.atoms[Yl].y=Ml[Vl++],Me.atoms[Yl].z=Ml[Vl++];Me.box&&Me.atomdfs&&Me.adjustCoordinatesToBox(),Tl()}).catch(ll)}else Me.atoms=Me.frames[E],Tl();Me.molObj=null,Me.modelDatas&&E<Me.modelDatas.length&&(Me.modelData=Me.modelDatas[E],Me.unitCellObjects&&ot&&(ot.removeUnitCell(Me),ot.addUnitCell(Me)))})}addFrame(E){this.frames.push(E)}vibrate(E=10,V=1,Me=!1,ot){var Tl=0,ll=E;let Pl=this.viewer;Me&&(Tl=-E,ll=E),this.frames!==void 0&&this.frames.origIndex!==void 0?this.setFrame(this.frames.origIndex):this.setFrame(0),Tl<ll&&(this.frames=[]),Me&&(this.frames.origIndex=E);for(var Bl=Tl;Bl<ll;Bl++){var Ml=[],Vl=this.frames.length;if(Bl!=0||ot){for(var Yl=0;Yl<this.atoms.length;Yl++){var zu=(0,H.getAtomProperty)(this.atoms[Yl],"dx"),Fu=(0,H.getAtomProperty)(this.atoms[Yl],"dy"),mu=(0,H.getAtomProperty)(this.atoms[Yl],"dz"),Lu=new y.Vector3(zu,Fu,mu),Du=new y.Vector3(this.atoms[Yl].x,this.atoms[Yl].y,this.atoms[Yl].z),Qu=Bl*V/E;Lu.multiplyScalar(Qu),Du.add(Lu);var ld={};for(var vd in this.atoms[Yl])ld[vd]=this.atoms[Yl][vd];if(ld.x=Du.x,ld.y=Du.y,ld.z=Du.z,Ml.push(ld),Pl&&ot){var Ld=(0,H.extend)({},ot),Ad=new y.Vector3(zu,Fu,mu);if(Ad.multiplyScalar(V),Ad.add(Du),Ld.start=Du,Ld.end=Ad,Ld.frame=Vl,!Ld.color){var nh=ld.style.sphere;nh||(nh=ld.style.stick),nh||(nh=ld.style.line),Ld.color=(0,H.getColorFromStyle)(ld,nh)}Pl.addArrow(Ld)}}this.frames.push(Ml)}else this.frames.push(this.atoms)}}setAtomDefaults(E){for(let V=0;V<E.length;V++){let Me=E[V];Me&&(Me.style=Me.style||(0,H.deepCopy)(b0.defaultAtomStyle),Me.color=Me.color||this.ElementColors[Me.elem]||this.defaultColor,Me.model=this.id,(Me.clickable||Me.hoverable)&&(Me.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}))}}addMolData(E,V,Me={}){var ot=b0.parseMolData(E,V,Me);this.dontDuplicateAtoms=!Me.duplicateAssemblyAtoms;var Tl=ot.modelData;if(Tl&&(Array.isArray(Tl)?(this.modelData=Tl[0],Me.frames&&(this.modelDatas=Tl)):this.modelData=Tl),ot.box?this.box=ot.box:this.box=null,this.frames.length==0){for(let Pl=0;Pl<ot.length;Pl++)ot[Pl].length!=0&&this.frames.push(ot[Pl]);this.frames[0]&&(this.atoms=this.frames[0])}else if(Me.frames)for(let Pl=0;Pl<ot.length;Pl++)this.frames.push(ot[Pl]);else for(var ll=0;ll<ot.length;ll++)this.addAtoms(ot[ll]);for(let Pl=0;Pl<this.frames.length;Pl++)this.setAtomDefaults(this.frames[Pl]);Me.vibrate&&Me.vibrate.frames&&Me.vibrate.amplitude&&this.vibrate(Me.vibrate.frames,Me.vibrate.amplitude),Me.style&&this.setStyle({},Me.style)}setDontDuplicateAtoms(E){this.dontDuplicateAtoms=E}setModelData(E){this.modelData=E}propertyMatches(E,V){if(E==V)return!0;if(typeof V=="string"&&typeof E=="number"){var Me=V.match(/(-?\d+)\s*-\s*(-?\d+)/);if(Me){var ot=parseInt(Me[1]),Tl=parseInt(Me[2]);if(Me&&E>=ot&&E<=Tl)return!0}}return!1}static deepCopyAndCache(E,V){if(typeof E!="object"||E==null||E instanceof b0||E.__cache_created)return E;const Me={};for(const ot in E){const Tl=E[ot];if(Array.isArray(Tl)){Me[ot]=[];for(let ll=0;ll<Tl.length;ll++)Me[ot].push(b0.deepCopyAndCache(Tl[ll],V))}else Me[ot]=typeof Tl=="object"&&ot!="properties"&&ot!="model"?b0.deepCopyAndCache(Tl,V):Tl;if(ot=="and"||ot=="or"){const ll=[];for(const Pl of Me[ot]){const Bl=new Set;for(const Ml of V.selectedAtoms(Pl))Bl.add(Ml.index);ll.push(Bl)}if(ot=="and"){const Pl=function(Ml,Vl){const Yl=new Set;for(const zu of Vl)Ml.has(zu)&&Yl.add(zu);return Yl};let Bl=new Set(ll[0]);for(const Ml of ll.splice(1))Bl=Pl(Bl,Ml);Me[ot].__cached_results=Bl}else if(ot=="or"){const Pl=new Set;for(const Bl of ll)for(const Ml of Bl)Pl.add(Ml);Me[ot].__cached_results=Pl}}}return Me.__cache_created=!0,Me}atomIsSelected(E,V){if(V===void 0)return!0;var Me=!!V.invert,ot=!0;for(var Tl in V)if(Tl=="and"||Tl=="or"||Tl=="not"){if(Tl=="not"){if(this.atomIsSelected(E,V[Tl])){ot=!1;break}}else if(V[Tl].__cached_results===void 0&&(V=b0.deepCopyAndCache(V,this)),!(ot=V[Tl].__cached_results.has(E.index)))break}else if(Tl==="predicate"){if(!V.predicate(E)){ot=!1;break}}else if(Tl=="properties"&&E[Tl]){for(var ll in V.properties)if(!ll.startsWith("__cache")){if(E.properties[ll]===void 0){ot=!1;break}if(E.properties[ll]!=V.properties[ll]){ot=!1;break}}}else if(Tl=="model"){let Ml=V.model;if(typeof Ml=="number"&&Ml<0&&(Ml=this.viewer.getNextModelId()+Ml),Array.isArray(Ml)){let Vl=!1;for(let Yl=0;Yl<Ml.length;Yl++)if(Ml[Yl]==this||Ml[Yl]==this.id){Vl=!0;break}if(!Vl){ot=!1;break}}else if(Ml!=this&&Ml!=this.id){ot=!1;break}}else if(V.hasOwnProperty(Tl)&&!b0.ignoredKeys.has(Tl)&&!Tl.startsWith("__cache")){if(E[Tl]===void 0){ot=!1;break}let Ml=!1;if(Tl==="bonds"){if(V[Tl]!=E.bonds.length){ot=!1;break}}else if(Array.isArray(V[Tl])){var Pl=V[Tl],Bl=E[Tl];for(let Vl=0;Vl<Pl.length;Vl++)if(this.propertyMatches(Bl,Pl[Vl])){Ml=!0;break}if(!Ml){ot=!1;break}}else{let Vl=V[Tl];if(!this.propertyMatches(E[Tl],Vl)){ot=!1;break}}}return Me?!ot:ot}static squaredDistance(E,V){var Me=V.x-E.x,ot=V.y-E.y,Tl=V.z-E.z;return Me*Me+ot*ot+Tl*Tl}expandAtomList(E,V){if(V<=0)return E;for(var Me=(0,H.getExtent)(E,void 0),ot=[[],[],[]],Tl=0;Tl<3;Tl++)ot[0][Tl]=Me[0][Tl]-V,ot[1][Tl]=Me[1][Tl]+V,ot[2][Tl]=Me[2][Tl];var ll=[];for(let Vl=0;Vl<this.atoms.length;Vl++){var Pl=this.atoms[Vl].x,Bl=this.atoms[Vl].y,Ml=this.atoms[Vl].z;Pl>=ot[0][0]&&Pl<=ot[1][0]&&Bl>=ot[0][1]&&Bl<=ot[1][1]&&Ml>=ot[0][2]&&Ml<=ot[1][2]&&(Pl>=Me[0][0]&&Pl<=Me[1][0]&&Bl>=Me[0][1]&&Bl<=Me[1][1]&&Ml>=Me[0][2]&&Ml<=Me[1][2]||ll.push(this.atoms[Vl]))}return ll}static getFloat(E){return typeof E=="number"?E:parseFloat(E)}selectedAtoms(E,V){var Me=[];E=b0.deepCopyAndCache(E||{},this),V||(V=this.atoms);for(var ot=V.length,Tl=0;Tl<ot;Tl++){var ll=V[Tl];ll&&this.atomIsSelected(ll,E)&&Me.push(ll)}if(E.hasOwnProperty("expand")){const ld=b0.getFloat(E.expand);let vd=this.expandAtomList(Me,ld),Ld=Me.length;const Ad=ld*ld;for(let nh=0;nh<vd.length;nh++)for(let dh=0;dh<Ld;dh++){var Pl=b0.squaredDistance(vd[nh],Me[dh]);Pl<Ad&&Pl>0&&Me.push(vd[nh])}}if(E.hasOwnProperty("within")&&E.within.hasOwnProperty("sel")&&E.within.hasOwnProperty("distance")){var Bl=this.selectedAtoms(E.within.sel,this.atoms),Ml={};const ld=b0.getFloat(E.within.distance),vd=ld*ld;for(let Ld=0;Ld<Bl.length;Ld++)for(let Ad=0;Ad<Me.length;Ad++){let nh=b0.squaredDistance(Bl[Ld],Me[Ad]);nh<vd&&nh>0&&(Ml[Ad]=1)}var Vl=[];if(E.within.invert)for(let Ld=0;Ld<Me.length;Ld++)Ml[Ld]||Vl.push(Me[Ld]);else for(let Ld in Ml)Vl.push(Me[Ld]);Me=Vl}if(E.hasOwnProperty("byres")){var Yl={},zu=[],Fu=[];for(let ld=0;ld<Me.length;ld++){let vd=Me[ld];var mu=vd.chain,Lu=vd.resi;if(Yl[mu]===void 0&&(Yl[mu]={}),vd.hasOwnProperty("resi")&&Yl[mu][Lu]===void 0){for(Yl[mu][Lu]=!0,Fu.push(vd);Fu.length>0;)if(vd=Fu.pop(),mu=vd.chain,Lu=vd.resi,zu[vd.index]===void 0){zu[vd.index]=!0;for(var Du=0;Du<vd.bonds.length;Du++){var Qu=this.atoms[vd.bonds[Du]];zu[Qu.index]===void 0&&Qu.hasOwnProperty("resi")&&Qu.chain==mu&&Qu.resi==Lu&&(Fu.push(Qu),Me.push(Qu))}}}}}return Me}addAtoms(E){this.molObj=null;var V,Me=this.atoms.length,ot=[];for(V=0;V<E.length;V++)E[V].index===void 0&&(E[V].index=V),E[V].serial===void 0&&(E[V].serial=V),ot[E[V].index]=Me+V;for(V=0;V<E.length;V++){var Tl=E[V],ll=ot[Tl.index],Pl=(0,H.extend)({},Tl);Pl.index=ll,Pl.bonds=[],Pl.bondOrder=[],Pl.model=this.id,Pl.style=Pl.style||(0,H.deepCopy)(b0.defaultAtomStyle),Pl.color===void 0&&(Pl.color=this.ElementColors[Pl.elem]||this.defaultColor);for(var Bl=Tl.bonds?Tl.bonds.length:0,Ml=0;Ml<Bl;Ml++){var Vl=ot[Tl.bonds[Ml]];Vl!==void 0&&(Pl.bonds.push(Vl),Pl.bondOrder.push(Tl.bondOrder?Tl.bondOrder[Ml]:1))}this.atoms.push(Pl)}}assignBonds(){(0,Cd.assignBonds)(this.atoms,{assignBonds:!0})}removeAtoms(E){this.molObj=null;var V,Me=[];for(V=0;V<E.length;V++)Me[E[V].index]=!0;var ot=[];for(V=0;V<this.atoms.length;V++){var Tl=this.atoms[V];Me[Tl.index]||ot.push(Tl)}this.atoms=[],this.addAtoms(ot)}setStyle(E,V,Me){V===void 0&&Me===void 0&&(V=E,E={}),typeof V=="string"&&(V=(0,H.specStringToObject)(V));var ot=!1,Tl=this,ll=function(Bl){var Ml=Tl.selectedAtoms(E,Bl);for(let Vl=0;Vl<Bl.length;Vl++)Bl[Vl]&&(Bl[Vl].capDrawn=!1);for(let Vl=0;Vl<Ml.length;Vl++){ot=!0,(Ml[Vl].clickable||Ml[Vl].hoverable)&&(Ml[Vl].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),Me||(Ml[Vl].style={});for(let Yl in V)V.hasOwnProperty(Yl)&&(Ml[Vl].style[Yl]=Ml[Vl].style[Yl]||{},Object.assign(Ml[Vl].style[Yl],V[Yl]))}};if(E.frame!==void 0&&E.frame<this.frames.length){let Bl=E.frame;Bl<0&&(Bl=this.frames.length+Bl),ll(this.frames[Bl])}else{ll(this.atoms);for(var Pl=0;Pl<this.frames.length;Pl++)this.frames[Pl]!==this.atoms&&ll(this.frames[Pl])}ot&&(this.molObj=null)}setClickable(E,V,Me){if(V=!!V,(Me=(0,H.makeFunction)(Me))!==null){var ot=this.selectedAtoms(E,this.atoms),Tl=ot.length;for(let ll=0;ll<Tl;ll++)ot[ll].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},ot[ll].clickable=V,Me&&(ot[ll].callback=Me);Tl>0&&(this.molObj=null)}else console.log("Callback is not a function")}setHoverable(E,V,Me,ot){if(V=!!V,Me=(0,H.makeFunction)(Me),ot=(0,H.makeFunction)(ot),Me!==null)if(ot!==null){var Tl=this.selectedAtoms(E,this.atoms),ll=Tl.length;for(let Pl=0;Pl<ll;Pl++)Tl[Pl].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},Tl[Pl].hoverable=V,Me&&(Tl[Pl].hover_callback=Me),ot&&(Tl[Pl].unhover_callback=ot);ll>0&&(this.molObj=null)}else console.log("Unhover_callback is not a function");else console.log("Hover_callback is not a function")}enableContextMenu(E,V){var Me;V=!!V;var ot=this.selectedAtoms(E,this.atoms),Tl=ot.length;for(Me=0;Me<Tl;Me++)ot[Me].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},ot[Me].contextMenuEnabled=V;Tl>0&&(this.molObj=null)}setColorByElement(E,V){if(this.molObj===null||!b0.sameObj(V,this.lastColors)){this.lastColors=V;var Me=this.selectedAtoms(E,Me);Me.length>0&&(this.molObj=null);for(var ot=0;ot<Me.length;ot++){var Tl=Me[ot];V[Tl.elem]!==void 0&&(Tl.color=V[Tl.elem])}}}setColorByProperty(E,V,Me,ot){var Tl,ll,Pl=this.selectedAtoms(E,Pl);for(this.lastColors=null,Pl.length>0&&(this.molObj=null),typeof Me=="string"&&G.Gradient.builtinGradients[Me]!==void 0&&(Me=new G.Gradient.builtinGradients[Me]),ot||(ot=Me.range()),ot||(ot=(0,H.getPropertyRange)(Pl,V)),Tl=0;Tl<Pl.length;Tl++)ll=Pl[Tl],(0,H.getAtomProperty)(ll,V)!=null&&(ll.color=Me.valueToHex(parseFloat(ll.properties[V]),ot))}setColorByFunction(E,V){var Me=this.selectedAtoms(E,Me);if(typeof V=="function"){this.lastColors=null,Me.length>0&&(this.molObj=null);for(let ot=0;ot<Me.length;ot++){let Tl=Me[ot];Tl.color=V(Tl)}}}toCDObject(E=!1){var V={a:[],b:[]};E&&(V.s=[]);for(let ot=0;ot<this.atoms.length;ot++){let Tl={},ll=this.atoms[ot];if(Tl.x=ll.x,Tl.y=ll.y,Tl.z=ll.z,ll.elem!="C"&&(Tl.l=ll.elem),E){for(var Me=0;Me<V.s.length&&JSON.stringify(ll.style)!==JSON.stringify(V.s[Me]);)Me++;Me===V.s.length&&V.s.push(ll.style),Me!==0&&(Tl.s=Me)}V.a.push(Tl);for(let Pl=0;Pl<ll.bonds.length;Pl++){let Bl=ot,Ml=ll.bonds[Pl];if(Bl>=Ml)continue;let Vl={b:Bl,e:Ml},Yl=ll.bondOrder[Pl];Yl!=1&&(Vl.o=Yl),V.b.push(Vl)}}return V}globj(E,V){(this.molObj===null||V.regen)&&(this.molObj=this.createMolObj(this.atoms,V),this.renderedMolObj&&(E.remove(this.renderedMolObj),this.renderedMolObj=null),this.renderedMolObj=this.molObj.clone(),this.hidden&&(this.renderedMolObj.setVisible(!1),this.molObj.setVisible(!1)),E.add(this.renderedMolObj))}exportVRML(){return this.createMolObj(this.atoms,{supportsImposters:!1,supportsAIA:!1}).vrml()}removegl(E){this.renderedMolObj&&(this.renderedMolObj.geometry!==void 0&&this.renderedMolObj.geometry.dispose(),this.renderedMolObj.material!==void 0&&this.renderedMolObj.material.dispose(),E.remove(this.renderedMolObj),this.renderedMolObj=null),this.molObj=null}hide(){this.hidden=!0,this.renderedMolObj&&this.renderedMolObj.setVisible(!1),this.molObj&&this.molObj.setVisible(!1)}show(){this.hidden=!1,this.renderedMolObj&&this.renderedMolObj.setVisible(!0),this.molObj&&this.molObj.setVisible(!0)}addPropertyLabels(E,V,Me){let ot=this.selectedAtoms(V),Tl=this.viewer,ll=(0,H.deepCopy)(Me);for(let Bl=0;Bl<ot.length;Bl++){let Ml=ot[Bl];var Pl=null;Ml[E]!==void 0?Pl=String(Ml[E]):Ml.properties[E]!==void 0&&(Pl=String(Ml.properties[E])),Pl!=null&&(ll.position=Ml,Tl.addLabel(Pl,ll))}}addResLabels(E,V,Me=!1){let ot=this.viewer;var Tl=[],ll=function(Bl,Ml){for(var Vl=Bl.selectedAtoms(E,Vl),Yl={},zu=0;zu<Vl.length;zu++){var Fu=Vl[zu],mu=Fu.chain,Lu=Fu.resn+""+Fu.resi;Yl[mu]||(Yl[mu]={}),Yl[mu][Lu]||(Yl[mu][Lu]=[]),Yl[mu][Lu].push(Fu)}var Du=(0,H.deepCopy)(V);for(let ld in Yl)if(Yl.hasOwnProperty(ld)){var Qu=Yl[ld];for(let vd in Qu)if(Qu.hasOwnProperty(vd)){let Ld=Qu[vd],Ad=new y.Vector3(0,0,0);for(let dh=0;dh<Ld.length;dh++){let vh=Ld[dh];Ad.x+=vh.x,Ad.y+=vh.y,Ad.z+=vh.z}Ad.divideScalar(Ld.length),Du.position=Ad,Du.frame=Ml;let nh=ot.addLabel(vd,Du,void 0,!0);Tl.push(nh)}}};if(Me){var Pl=this.getNumFrames();let Bl=this.atoms;for(let Ml=0;Ml<Pl;Ml++)this.frames[Ml]&&(this.atoms=this.frames[Ml],ll(this,Ml));this.atoms=Bl}else ll(this);return Tl}setupDFS(){this.atomdfs=[];var E=this,V=new Int8Array(this.atoms.length);V.fill(0);for(var Me=function(ll,Pl,Bl){Bl.push([ll,Pl]);var Ml=E.atoms[ll];V[ll]=1;for(var Vl=0;Vl<Ml.bonds.length;Vl++){var Yl=Ml.bonds[Vl];E.atoms[Yl]&&!V[Yl]&&Me(Yl,ll,Bl)}},ot=0;ot<this.atoms.length;ot++)if(this.atoms[ot]&&!V[ot]){var Tl=[];Me(ot,-1,Tl),this.atomdfs.push(Tl)}}setCoordinatesFromURL(E,V){this.frames=[];var Me=this;return this.box&&this.setupDFS(),E.startsWith("http")||(E="http://"+E),(0,H.get)(E+"/traj/numframes/"+V,function(ot){if(!isNaN(parseInt(ot)))return Me.frames.push(Me.atoms),Me.frames.numFrames=ot,Me.frames.url=E,Me.frames.path=V,Me.setFrame(0)})}setCoordinates(E,V){if(!E)return[];if(/\.gz$/.test(V=V||"")){V=V.replace(/\.gz$/,"");try{E=(0,H.inflateString)(E)}catch(Vl){console.log(Vl)}}if({mdcrd:"",inpcrd:"",pdb:"",netcdf:"",array:""}.hasOwnProperty(V)){this.frames=[];for(var Me=this.atoms.length,ot=b0.parseCrd(E,V),Tl=0;Tl<ot.length;){for(var ll=[],Pl=0;Pl<Me;Pl++){var Bl={};for(var Ml in this.atoms[Pl])Bl[Ml]=this.atoms[Pl][Ml];ll[Pl]=Bl,ll[Pl].x=ot[Tl++],ll[Pl].y=ot[Tl++],ll[Pl].z=ot[Tl++]}this.frames.push(ll)}return this.atoms=this.frames[0],this.frames}return[]}addAtomSpecs(E){}static parseCrd(E,V){var Me=[],ot=0;if(V=="pdb")for(var Tl=E.indexOf(`
ATOM`);Tl!=-1;){for(;E.slice(Tl,Tl+5)==`
ATOM`||E.slice(Tl,Tl+7)==`
HETATM`;)Me[ot++]=parseFloat(E.slice(Tl+31,Tl+39)),Me[ot++]=parseFloat(E.slice(Tl+39,Tl+47)),Me[ot++]=parseFloat(E.slice(Tl+47,Tl+55)),Tl=E.indexOf(`
`,Tl+54),E.slice(Tl,Tl+4)==`
TER`&&(Tl=E.indexOf(`
`,Tl+5));Tl=E.indexOf(`
ATOM`,Tl)}else if(V=="netcdf"){var ll=new Qm(E);Me=[].concat.apply([],ll.getDataVariable("coordinates"))}else{if(V=="array"||Array.isArray(E))return E.flat(2);{let Pl=E.indexOf(`
`);V=="inpcrd"&&(Pl=E.indexOf(`
`,Pl+1)),Me=(E=E.slice(Pl+1)).match(/\S+/g).map(parseFloat)}}return Me}static parseMolData(E,V="",Me){if(!E)return[];if(/\.gz$/.test(V)){V=V.replace(/\.gz$/,"");try{E=V.match(/bcif/i)?(0,H.inflateString)(E,!1):(0,H.inflateString)(E)}catch(ot){console.log(ot)}}return sp[V]===void 0&&(V=V.split(".").pop(),sp[V]===void 0&&(console.log("Unknown format: "+V),V=E instanceof Uint8Array?"bcif":E.match(/^@<TRIPOS>MOLECULE/gm)?"mol2":E.match(/^data_/gm)&&E.match(/^loop_/gm)?"cif":E.match(/^HETATM/gm)||E.match(/^ATOM/gm)?"pdb":E.match(/ITEM: TIMESTEP/gm)?"lammpstrj":E.match(/^.*\n.*\n.\s*(\d+)\s+(\d+)/gm)?"sdf":E.match(/^%VERSION\s+VERSION_STAMP/gm)?"prmtop":"xyz",console.log("Best guess: "+V))),(0,sp[V])(E,Me)}}var yg;b0.defaultAtomStyle={line:{}},b0.defaultlineWidth=1,b0.vdwRadii={H:1.2,He:1.4,Li:1.82,Be:1.53,B:1.92,C:1.7,N:1.55,O:1.52,F:1.47,Ne:1.54,Na:2.27,Mg:1.73,Al:1.84,Si:2.1,P:1.8,S:1.8,Cl:1.75,Ar:1.88,K:2.75,Ca:2.31,Ni:1.63,Cu:1.4,Zn:1.39,Ga:1.87,Ge:2.11,As:1.85,Se:1.9,Br:1.85,Kr:2.02,Rb:3.03,Sr:2.49,Pd:1.63,Ag:1.72,Cd:1.58,In:1.93,Sn:2.17,Sb:2.06,Te:2.06,I:1.98,Xe:2.16,Cs:3.43,Ba:2.68,Pt:1.75,Au:1.66,Hg:1.55,Tl:1.96,Pb:2.02,Bi:2.07,Po:1.97,At:2.02,Rn:2.2,Fr:3.48,Ra:2.83,U:1.86},b0.ignoredKeys=new Set(["props","invert","model","frame","byres","expand","within","and","or","not"]),(function(kd){kd[kd.VDW=1]="VDW",kd[kd.MS=2]="MS",kd[kd.SAS=3]="SAS",kd[kd.SES=4]="SES"})(yg||(yg={}));var I0=!1;function Pm(kd){I0=kd}(window.navigator.userAgent.indexOf("MSIE ")>=0||window.navigator.userAgent.indexOf("Trident/")>=0)&&(I0=!0);class up{constructor(){this.ISDONE=2,this.edgeTable=new Uint32Array([0,0,0,0,0,0,0,2816,0,0,0,1792,0,3328,3584,3840,0,0,0,138,0,21,0,134,0,0,0,652,0,2067,3865,3600,0,0,0,42,0,0,0,294,0,0,21,28,0,3875,1049,3360,0,168,162,170,0,645,2475,2210,0,687,293,172,4010,3747,3497,3232,0,0,0,0,0,69,0,900,0,0,0,1792,138,131,1608,1920,0,81,0,2074,84,85,84,86,0,81,0,3676,330,1105,1881,1616,0,0,0,42,0,69,0,502,0,0,21,3580,138,2035,1273,1520,2816,104,2337,106,840,581,367,102,2816,3695,3429,3180,1898,1635,1385,1120,0,0,0,0,0,0,0,3910,0,0,69,588,42,2083,41,2880,0,0,0,1722,0,2293,4095,3830,0,255,757,764,2538,2291,3065,2800,0,0,81,338,0,3925,1119,3414,84,855,85,340,2130,2899,89,2384,1792,712,194,1162,4036,3781,3535,3270,708,719,197,204,3018,2755,2505,2240,0,0,0,0,168,420,168,1958,162,162,676,2988,170,163,680,928,3328,3096,3328,3642,52,53,1855,1590,2340,2111,2869,2620,298,51,825,560,3584,3584,3090,3482,1668,1941,1183,1430,146,2975,2069,2460,154,915,153,400,3840,3592,3329,3082,1796,1541,1295,1030,2818,2575,2309,2060,778,515,265,0]),this.triTable=[[],[],[],[],[],[],[],[11,9,8],[],[],[],[8,10,9],[],[10,8,11],[9,11,10],[8,10,9,8,11,10],[],[],[],[1,7,3],[],[4,2,0],[],[2,1,7],[],[],[],[2,7,3,2,9,7],[],[1,4,11,1,0,4],[3,8,0,11,9,4,11,10,9],[4,11,9,11,10,9],[],[],[],[5,3,1],[],[],[],[2,5,8,2,1,5],[],[],[2,4,0],[3,2,4],[],[0,9,1,8,10,5,8,11,10],[3,4,0,3,10,4],[5,8,10,8,11,10],[],[3,5,7],[7,1,5],[1,7,3,1,5,7],[],[9,2,0,9,7,2],[0,3,8,1,7,11,1,5,7],[11,1,7,1,5,7],[],[9,1,0,5,3,2,5,7,3],[8,2,5,8,0,2],[2,5,3,5,7,3],[3,9,1,3,8,9,7,11,10,7,10,5],[9,1,0,10,7,11,10,5,7],[3,8,0,7,10,5,7,11,10],[11,5,7,11,10,5],[],[],[],[],[],[0,6,2],[],[7,2,9,7,9,8],[],[],[],[8,10,9],[7,1,3],[7,1,0],[6,9,3,6,10,9],[7,10,8,10,9,8],[],[6,0,4],[],[11,1,4,11,3,1],[2,4,6],[2,0,4,2,4,6],[2,4,6],[1,4,2,4,6,2],[],[6,0,4],[],[2,11,3,6,9,4,6,10,9],[8,6,1,8,1,3],[10,0,6,0,4,6],[8,0,3,9,6,10,9,4,6],[10,4,6,10,9,4],[],[],[],[5,3,1],[],[0,6,2],[],[7,4,8,5,2,1,5,6,2],[],[],[2,4,0],[7,4,8,2,11,3,10,5,6],[7,1,3],[5,6,10,0,9,1,8,7,4],[5,6,10,7,0,3,7,4,0],[10,5,6,4,8,7],[9,11,8],[3,5,6],[0,5,11,0,11,8],[6,3,5,3,1,5],[3,9,6,3,8,9],[9,6,0,6,2,0],[0,3,8,2,5,6,2,1,5],[1,6,2,1,5,6],[9,11,8],[1,0,9,6,10,5,11,3,2],[6,10,5,2,8,0,2,11,8],[3,2,11,10,5,6],[10,5,6,9,3,8,9,1,3],[0,9,1,5,6,10],[8,0,3,10,5,6],[10,5,6],[],[],[],[],[],[],[],[1,10,2,9,11,6,9,8,11],[],[],[6,0,2],[3,6,9,3,2,6],[3,5,1],[0,5,1,0,11,5],[0,3,5],[6,9,11,9,8,11],[],[],[],[4,5,9,7,1,10,7,3,1],[],[11,6,7,2,4,5,2,0,4],[11,6,7,8,0,3,1,10,2,9,4,5],[6,7,11,1,10,2,9,4,5],[],[4,1,0,4,5,1,6,7,3,6,3,2],[9,4,5,0,6,7,0,2,6],[4,5,9,6,3,2,6,7,3],[6,7,11,5,3,8,5,1,3],[6,7,11,4,1,0,4,5,1],[4,5,9,3,8,0,11,6,7],[9,4,5,7,11,6],[],[],[0,6,4],[8,6,4,8,1,6],[],[0,10,2,0,9,10,4,8,11,4,11,6],[10,2,1,6,0,3,6,4,0],[10,2,1,11,4,8,11,6,4],[4,2,6],[1,0,9,2,4,8,2,6,4],[2,4,0,2,6,4],[8,2,4,2,6,4],[11,4,1,11,6,4],[0,9,1,4,11,6,4,8,11],[3,6,0,6,4,0],[8,6,4,8,11,6],[10,8,9],[6,3,9,6,7,3],[6,7,1],[10,7,1,7,3,1],[7,11,6,8,10,2,8,9,10],[11,6,7,10,0,9,10,2,0],[2,1,10,7,11,6,8,0,3],[1,10,2,6,7,11],[7,2,6,7,9,2],[1,0,9,3,6,7,3,2,6],[7,0,6,0,2,6],[2,7,3,2,6,7],[7,11,6,3,9,1,3,8,9],[9,1,0,11,6,7],[0,3,8,11,6,7],[11,6,7],[],[],[],[],[5,3,7],[8,5,2,8,7,5],[5,3,7],[1,10,2,5,8,7,5,9,8],[1,7,5],[1,7,5],[9,2,7,9,7,5],[11,3,2,8,5,9,8,7,5],[1,3,7,1,7,5],[0,7,1,7,5,1],[9,3,5,3,7,5],[9,7,5,9,8,7],[8,10,11],[3,4,10,3,10,11],[8,10,11],[5,9,4,1,11,3,1,10,11],[2,4,5],[5,2,4,2,0,4],[0,3,8,5,9,4,10,2,1],[2,1,10,9,4,5],[2,8,5,2,11,8],[3,2,11,1,4,5,1,0,4],[9,4,5,8,2,11,8,0,2],[11,3,2,9,4,5],[8,5,3,5,1,3],[5,0,4,5,1,0],[3,8,0,4,5,9],[9,4,5],[11,9,10],[11,9,10],[1,11,4,1,10,11],[8,7,4,11,1,10,11,3,1],[2,7,9,2,9,10],[4,8,7,0,10,2,0,9,10],[2,1,10,0,7,4,0,3,7],[10,2,1,8,7,4],[1,7,4],[3,2,11,4,8,7,9,1,0],[11,4,2,4,0,2],[2,11,3,7,4,8],[4,1,7,1,3,7],[1,0,9,8,7,4],[3,4,0,3,7,4],[8,7,4],[8,9,10,8,10,11],[3,9,11,9,10,11],[0,10,8,10,11,8],[10,3,1,10,11,3],[2,8,10,8,9,10],[9,2,0,9,10,2],[8,0,3,1,10,2],[10,2,1],[1,11,9,11,8,9],[11,3,2,0,9,1],[11,0,2,11,8,0],[11,3,2],[8,1,3,8,9,1],[9,1,0],[8,0,3],[]],this.edgeTable2=[0,265,515,778,2060,2309,2575,2822,1030,1295,1541,1804,3082,3331,3593,3840,400,153,915,666,2460,2197,2975,2710,1430,1183,1941,1692,3482,3219,3993,3728,560,825,51,314,2620,2869,2111,2358,1590,1855,1077,1340,3642,3891,3129,3376,928,681,419,170,2988,2725,2479,2214,1958,1711,1445,1196,4010,3747,3497,3232,2240,2505,2755,3018,204,453,719,966,3270,3535,3781,4044,1226,1475,1737,1984,2384,2137,2899,2650,348,85,863,598,3414,3167,3925,3676,1370,1107,1881,1616,2800,3065,2291,2554,764,1013,255,502,3830,4095,3317,3580,1786,2035,1273,1520,2912,2665,2403,2154,876,613,367,102,3942,3695,3429,3180,1898,1635,1385,1120,1120,1385,1635,1898,3180,3429,3695,3942,102,367,613,876,2154,2403,2665,2912,1520,1273,2035,1786,3580,3317,4095,3830,502,255,1013,764,2554,2291,3065,2800,1616,1881,1107,1370,3676,3925,3167,3414,598,863,85,348,2650,2899,2137,2384,1984,1737,1475,1226,4044,3781,3535,3270,966,719,453,204,3018,2755,2505,2240,3232,3497,3747,4010,1196,1445,1711,1958,2214,2479,2725,2988,170,419,681,928,3376,3129,3891,3642,1340,1077,1855,1590,2358,2111,2869,2620,314,51,825,560,3728,3993,3219,3482,1692,1941,1183,1430,2710,2975,2197,2460,666,915,153,400,3840,3593,3331,3082,1804,1541,1295,1030,2822,2575,2309,2060,778,515,265,0],this.triTable2=[[],[8,3,0],[9,0,1],[8,3,1,8,1,9],[11,2,3],[11,2,0,11,0,8],[11,2,3,0,1,9],[2,1,11,1,9,11,11,9,8],[10,1,2],[8,3,0,1,2,10],[9,0,2,9,2,10],[3,2,8,2,10,8,8,10,9],[10,1,3,10,3,11],[1,0,10,0,8,10,10,8,11],[0,3,9,3,11,9,9,11,10],[8,10,9,8,11,10],[8,4,7],[3,0,4,3,4,7],[1,9,0,8,4,7],[9,4,1,4,7,1,1,7,3],[2,3,11,7,8,4],[7,11,4,11,2,4,4,2,0],[3,11,2,4,7,8,9,0,1],[2,7,11,2,1,7,1,4,7,1,9,4],[10,1,2,8,4,7],[2,10,1,0,4,7,0,7,3],[4,7,8,0,2,10,0,10,9],[2,7,3,2,9,7,7,9,4,2,10,9],[8,4,7,11,10,1,11,1,3],[11,4,7,1,4,11,1,11,10,1,0,4],[3,8,0,7,11,4,11,9,4,11,10,9],[7,11,4,4,11,9,11,10,9],[9,5,4],[3,0,8,4,9,5],[5,4,0,5,0,1],[4,8,5,8,3,5,5,3,1],[11,2,3,9,5,4],[9,5,4,8,11,2,8,2,0],[3,11,2,1,5,4,1,4,0],[8,5,4,2,5,8,2,8,11,2,1,5],[2,10,1,9,5,4],[0,8,3,5,4,9,10,1,2],[10,5,2,5,4,2,2,4,0],[3,4,8,3,2,4,2,5,4,2,10,5],[5,4,9,1,3,11,1,11,10],[0,9,1,4,8,5,8,10,5,8,11,10],[3,4,0,3,10,4,4,10,5,3,11,10],[4,8,5,5,8,10,8,11,10],[9,5,7,9,7,8],[0,9,3,9,5,3,3,5,7],[8,0,7,0,1,7,7,1,5],[1,7,3,1,5,7],[11,2,3,8,9,5,8,5,7],[9,2,0,9,7,2,2,7,11,9,5,7],[0,3,8,2,1,11,1,7,11,1,5,7],[2,1,11,11,1,7,1,5,7],[1,2,10,5,7,8,5,8,9],[9,1,0,10,5,2,5,3,2,5,7,3],[5,2,10,8,2,5,8,5,7,8,0,2],[10,5,2,2,5,3,5,7,3],[3,9,1,3,8,9,7,11,10,7,10,5],[9,1,0,10,7,11,10,5,7],[3,8,0,7,10,5,7,11,10],[11,5,7,11,10,5],[11,7,6],[0,8,3,11,7,6],[9,0,1,11,7,6],[7,6,11,3,1,9,3,9,8],[2,3,7,2,7,6],[8,7,0,7,6,0,0,6,2],[1,9,0,3,7,6,3,6,2],[7,6,2,7,2,9,2,1,9,7,9,8],[1,2,10,6,11,7],[2,10,1,7,6,11,8,3,0],[11,7,6,10,9,0,10,0,2],[7,6,11,3,2,8,8,2,10,8,10,9],[6,10,7,10,1,7,7,1,3],[6,10,1,6,1,7,7,1,0,7,0,8],[9,0,3,6,9,3,6,10,9,6,3,7],[6,10,7,7,10,8,10,9,8],[8,4,6,8,6,11],[11,3,6,3,0,6,6,0,4],[0,1,9,4,6,11,4,11,8],[1,9,4,11,1,4,11,3,1,11,4,6],[3,8,2,8,4,2,2,4,6],[2,0,4,2,4,6],[1,9,0,3,8,2,2,8,4,2,4,6],[9,4,1,1,4,2,4,6,2],[10,1,2,11,8,4,11,4,6],[10,1,2,11,3,6,6,3,0,6,0,4],[0,2,10,0,10,9,4,11,8,4,6,11],[2,11,3,6,9,4,6,10,9],[8,4,6,8,6,1,6,10,1,8,1,3],[1,0,10,10,0,6,0,4,6],[8,0,3,9,6,10,9,4,6],[10,4,6,10,9,4],[9,5,4,7,6,11],[4,9,5,3,0,8,11,7,6],[6,11,7,4,0,1,4,1,5],[6,11,7,4,8,5,5,8,3,5,3,1],[4,9,5,6,2,3,6,3,7],[9,5,4,8,7,0,0,7,6,0,6,2],[4,0,1,4,1,5,6,3,7,6,2,3],[7,4,8,5,2,1,5,6,2],[6,11,7,1,2,10,9,5,4],[11,7,6,8,3,0,1,2,10,9,5,4],[11,7,6,10,5,2,2,5,4,2,4,0],[7,4,8,2,11,3,10,5,6],[4,9,5,6,10,7,7,10,1,7,1,3],[5,6,10,0,9,1,8,7,4],[5,6,10,7,0,3,7,4,0],[10,5,6,4,8,7],[5,6,9,6,11,9,9,11,8],[0,9,5,0,5,3,3,5,6,3,6,11],[0,1,5,0,5,11,5,6,11,0,11,8],[11,3,6,6,3,5,3,1,5],[9,5,6,3,9,6,3,8,9,3,6,2],[5,6,9,9,6,0,6,2,0],[0,3,8,2,5,6,2,1,5],[1,6,2,1,5,6],[1,2,10,5,6,9,9,6,11,9,11,8],[1,0,9,6,10,5,11,3,2],[6,10,5,2,8,0,2,11,8],[3,2,11,10,5,6],[10,5,6,9,3,8,9,1,3],[0,9,1,5,6,10],[8,0,3,10,5,6],[10,5,6],[10,6,5],[8,3,0,10,6,5],[0,1,9,5,10,6],[10,6,5,9,8,3,9,3,1],[3,11,2,10,6,5],[6,5,10,2,0,8,2,8,11],[1,9,0,6,5,10,11,2,3],[1,10,2,5,9,6,9,11,6,9,8,11],[1,2,6,1,6,5],[0,8,3,2,6,5,2,5,1],[5,9,6,9,0,6,6,0,2],[9,6,5,3,6,9,3,9,8,3,2,6],[11,6,3,6,5,3,3,5,1],[0,5,1,0,11,5,5,11,6,0,8,11],[0,5,9,0,3,5,3,6,5,3,11,6],[5,9,6,6,9,11,9,8,11],[10,6,5,4,7,8],[5,10,6,7,3,0,7,0,4],[5,10,6,0,1,9,8,4,7],[4,5,9,6,7,10,7,1,10,7,3,1],[7,8,4,2,3,11,10,6,5],[11,6,7,10,2,5,2,4,5,2,0,4],[11,6,7,8,0,3,1,10,2,9,4,5],[6,7,11,1,10,2,9,4,5],[7,8,4,5,1,2,5,2,6],[4,1,0,4,5,1,6,7,3,6,3,2],[9,4,5,8,0,7,0,6,7,0,2,6],[4,5,9,6,3,2,6,7,3],[6,7,11,4,5,8,5,3,8,5,1,3],[6,7,11,4,1,0,4,5,1],[4,5,9,3,8,0,11,6,7],[9,4,5,7,11,6],[10,6,4,10,4,9],[8,3,0,9,10,6,9,6,4],[1,10,0,10,6,0,0,6,4],[8,6,4,8,1,6,6,1,10,8,3,1],[2,3,11,6,4,9,6,9,10],[0,10,2,0,9,10,4,8,11,4,11,6],[10,2,1,11,6,3,6,0,3,6,4,0],[10,2,1,11,4,8,11,6,4],[9,1,4,1,2,4,4,2,6],[1,0,9,3,2,8,2,4,8,2,6,4],[2,4,0,2,6,4],[3,2,8,8,2,4,2,6,4],[1,4,9,11,4,1,11,1,3,11,6,4],[0,9,1,4,11,6,4,8,11],[11,6,3,3,6,0,6,4,0],[8,6,4,8,11,6],[6,7,10,7,8,10,10,8,9],[9,3,0,6,3,9,6,9,10,6,7,3],[6,1,10,6,7,1,7,0,1,7,8,0],[6,7,10,10,7,1,7,3,1],[7,11,6,3,8,2,8,10,2,8,9,10],[11,6,7,10,0,9,10,2,0],[2,1,10,7,11,6,8,0,3],[1,10,2,6,7,11],[7,2,6,7,9,2,2,9,1,7,8,9],[1,0,9,3,6,7,3,2,6],[8,0,7,7,0,6,0,2,6],[2,7,3,2,6,7],[7,11,6,3,9,1,3,8,9],[9,1,0,11,6,7],[0,3,8,11,6,7],[11,6,7],[11,7,5,11,5,10],[3,0,8,7,5,10,7,10,11],[9,0,1,10,11,7,10,7,5],[3,1,9,3,9,8,7,10,11,7,5,10],[10,2,5,2,3,5,5,3,7],[5,10,2,8,5,2,8,7,5,8,2,0],[9,0,1,10,2,5,5,2,3,5,3,7],[1,10,2,5,8,7,5,9,8],[2,11,1,11,7,1,1,7,5],[0,8,3,2,11,1,1,11,7,1,7,5],[9,0,2,9,2,7,2,11,7,9,7,5],[11,3,2,8,5,9,8,7,5],[1,3,7,1,7,5],[8,7,0,0,7,1,7,5,1],[0,3,9,9,3,5,3,7,5],[9,7,5,9,8,7],[4,5,8,5,10,8,8,10,11],[3,0,4,3,4,10,4,5,10,3,10,11],[0,1,9,4,5,8,8,5,10,8,10,11],[5,9,4,1,11,3,1,10,11],[3,8,4,3,4,2,2,4,5,2,5,10],[10,2,5,5,2,4,2,0,4],[0,3,8,5,9,4,10,2,1],[2,1,10,9,4,5],[8,4,5,2,8,5,2,11,8,2,5,1],[3,2,11,1,4,5,1,0,4],[9,4,5,8,2,11,8,0,2],[11,3,2,9,4,5],[4,5,8,8,5,3,5,1,3],[5,0,4,5,1,0],[3,8,0,4,5,9],[9,4,5],[7,4,11,4,9,11,11,9,10],[3,0,8,7,4,11,11,4,9,11,9,10],[11,7,4,1,11,4,1,10,11,1,4,0],[8,7,4,11,1,10,11,3,1],[2,3,7,2,7,9,7,4,9,2,9,10],[4,8,7,0,10,2,0,9,10],[2,1,10,0,7,4,0,3,7],[10,2,1,8,7,4],[2,11,7,2,7,1,1,7,4,1,4,9],[3,2,11,4,8,7,9,1,0],[7,4,11,11,4,2,4,0,2],[2,11,3,7,4,8],[9,1,4,4,1,7,1,3,7],[1,0,9,8,7,4],[3,4,0,3,7,4],[8,7,4],[8,9,10,8,10,11],[0,9,3,3,9,11,9,10,11],[1,10,0,0,10,8,10,11,8],[10,3,1,10,11,3],[3,8,2,2,8,10,8,9,10],[9,2,0,9,10,2],[8,0,3,1,10,2],[10,2,1],[2,11,1,1,11,9,11,8,9],[11,3,2,0,9,1],[11,0,2,11,8,0],[11,3,2],[8,1,3,8,9,1],[9,1,0],[8,0,3],[]]}march(E,V,Me,ot){let Tl=!!ot.fulltable,ll=ot.hasOwnProperty("origin")&&ot.origin.hasOwnProperty("x")?ot.origin:{x:0,y:0,z:0},Pl=!!ot.voxel,Bl=ot.matrix,Ml=ot.nX||0,Vl=ot.nY||0,Yl=ot.nZ||0,zu=ot.scale||1,Fu=null;Fu=ot.unitCube?ot.unitCube:{x:zu,y:zu,z:zu};let mu,Lu,Du=new Int32Array(Ml*Vl*Yl);for(mu=0,Lu=Du.length;mu<Lu;++mu)Du[mu]=-1;let Qu=function(Ad,nh,dh,vh,Xl,$u){let Wd={x:0,y:0,z:0},ih=Xl;if(!(vh&1<<Xl)&&vh&1<<$u&&(ih=$u),1&ih&&dh++,2&ih&&nh++,4&ih&&Ad++,Bl){let Dh=new y.Vector3(Ad,nh,dh);Dh=Dh.applyMatrix4(Bl),Wd={x:Dh.x,y:Dh.y,z:Dh.z}}else Wd.x=ll.x+Fu.x*Ad,Wd.y=ll.y+Fu.y*nh,Wd.z=ll.z+Fu.z*dh;let ph=(Vl*Ad+nh)*Yl+dh;return Pl?(V.push(Wd),V.length-1):(Du[ph]<0&&(Du[ph]=V.length,V.push(Wd)),Du[ph])},ld=new Int32Array(12),vd=Tl?this.edgeTable2:this.edgeTable,Ld=Tl?this.triTable2:this.triTable;for(mu=0;mu<Ml-1;++mu)for(let Ad=0;Ad<Vl-1;++Ad)for(let nh=0;nh<Yl-1;++nh){let dh=0;for(let $u=0;$u<8;++$u)dh|=!!(E[(Vl*(mu+((4&$u)>>2))+Ad+((2&$u)>>1))*Yl+nh+(1&$u)]&this.ISDONE)<<$u;if(dh===0||dh===255)continue;let vh=vd[dh];if(vh===0)continue;let Xl=Ld[dh];1&vh&&(ld[0]=Qu(mu,Ad,nh,dh,0,1)),2&vh&&(ld[1]=Qu(mu,Ad,nh,dh,1,3)),4&vh&&(ld[2]=Qu(mu,Ad,nh,dh,3,2)),8&vh&&(ld[3]=Qu(mu,Ad,nh,dh,2,0)),16&vh&&(ld[4]=Qu(mu,Ad,nh,dh,4,5)),32&vh&&(ld[5]=Qu(mu,Ad,nh,dh,5,7)),64&vh&&(ld[6]=Qu(mu,Ad,nh,dh,7,6)),128&vh&&(ld[7]=Qu(mu,Ad,nh,dh,6,4)),256&vh&&(ld[8]=Qu(mu,Ad,nh,dh,0,4)),512&vh&&(ld[9]=Qu(mu,Ad,nh,dh,1,5)),1024&vh&&(ld[10]=Qu(mu,Ad,nh,dh,3,7)),2048&vh&&(ld[11]=Qu(mu,Ad,nh,dh,2,6));for(let $u=0;$u<Xl.length;$u+=3){let Wd=ld[Xl[$u]],ih=ld[Xl[$u+1]],ph=ld[Xl[$u+2]];Pl&&$u>=3&&(V.push(V[Wd]),Wd=V.length-1,V.push(V[ih]),ih=V.length-1,V.push(V[ph]),ph=V.length-1),Me.push(Wd),Me.push(ih),Me.push(ph)}}}laplacianSmooth(E,V,Me){let ot,Tl,ll,Pl,Bl,Ml=new Array(V.length);for(ot=0,Tl=V.length;ot<Tl;ot++)Ml[ot]={x:0,y:0,z:0};let Vl,Yl=new Array(20);for(ot=0;ot<20;ot++)Yl[ot]=new Array(V.length);for(ot=0,Tl=V.length;ot<Tl;ot++)Yl[0][ot]=0;for(ot=0,Tl=Me.length/3;ot<Tl;ot++){let Fu=3*ot,mu=3*ot+1,Lu=3*ot+2;for(Vl=!0,ll=0,Pl=Yl[0][Me[Fu]];ll<Pl;ll++)if(Me[mu]==Yl[ll+1][Me[Fu]]){Vl=!1;break}for(Vl&&(Yl[0][Me[Fu]]++,Yl[Yl[0][Me[Fu]]][Me[Fu]]=Me[mu]),Vl=!0,ll=0,Pl=Yl[0][Me[Fu]];ll<Pl;ll++)if(Me[Lu]==Yl[ll+1][Me[Fu]]){Vl=!1;break}for(Vl&&(Yl[0][Me[Fu]]++,Yl[Yl[0][Me[Fu]]][Me[Fu]]=Me[Lu]),Vl=!0,ll=0,Pl=Yl[0][Me[mu]];ll<Pl;ll++)if(Me[Fu]==Yl[ll+1][Me[mu]]){Vl=!1;break}for(Vl&&(Yl[0][Me[mu]]++,Yl[Yl[0][Me[mu]]][Me[mu]]=Me[Fu]),Vl=!0,ll=0,Pl=Yl[0][Me[mu]];ll<Pl;ll++)if(Me[Lu]==Yl[ll+1][Me[mu]]){Vl=!1;break}for(Vl&&(Yl[0][Me[mu]]++,Yl[Yl[0][Me[mu]]][Me[mu]]=Me[Lu]),Vl=!0,ll=0;ll<Yl[0][Me[Lu]];ll++)if(Me[Fu]==Yl[ll+1][Me[Lu]]){Vl=!1;break}for(Vl&&(Yl[0][Me[Lu]]++,Yl[Yl[0][Me[Lu]]][Me[Lu]]=Me[Fu]),Vl=!0,ll=0,Pl=Yl[0][Me[Lu]];ll<Pl;ll++)if(Me[mu]==Yl[ll+1][Me[Lu]]){Vl=!1;break}Vl&&(Yl[0][Me[Lu]]++,Yl[Yl[0][Me[Lu]]][Me[Lu]]=Me[mu])}let zu=.5;for(Bl=0;Bl<E;Bl++){for(ot=0,Tl=V.length;ot<Tl;ot++)if(Yl[0][ot]<3)Ml[ot].x=V[ot].x,Ml[ot].y=V[ot].y,Ml[ot].z=V[ot].z;else if(Yl[0][ot]==3||Yl[0][ot]==4){for(Ml[ot].x=0,Ml[ot].y=0,Ml[ot].z=0,ll=0,Pl=Yl[0][ot];ll<Pl;ll++)Ml[ot].x+=V[Yl[ll+1][ot]].x,Ml[ot].y+=V[Yl[ll+1][ot]].y,Ml[ot].z+=V[Yl[ll+1][ot]].z;Ml[ot].x+=zu*V[ot].x,Ml[ot].y+=zu*V[ot].y,Ml[ot].z+=zu*V[ot].z,Ml[ot].x/=zu+Yl[0][ot],Ml[ot].y/=zu+Yl[0][ot],Ml[ot].z/=zu+Yl[0][ot]}else{for(Ml[ot].x=0,Ml[ot].y=0,Ml[ot].z=0,ll=0,Pl=Yl[0][ot];ll<Pl;ll++)Ml[ot].x+=V[Yl[ll+1][ot]].x,Ml[ot].y+=V[Yl[ll+1][ot]].y,Ml[ot].z+=V[Yl[ll+1][ot]].z;Ml[ot].x+=1*V[ot].x,Ml[ot].y+=1*V[ot].y,Ml[ot].z+=1*V[ot].z,Ml[ot].x/=1+Yl[0][ot],Ml[ot].y/=1+Yl[0][ot],Ml[ot].z/=1+Yl[0][ot]}for(ot=0,Tl=V.length;ot<Tl;ot++)V[ot].x=Ml[ot].x,V[ot].y=Ml[ot].y,V[ot].z=Ml[ot].z}}}let ls=new up;class ed{constructor(E,V,Me){this.data=new Int32Array(E*V*Me*3),this.width=V,this.height=Me}set(E,V,Me,ot){let Tl=3*((E*this.width+V)*this.height+Me);this.data[Tl]=ot.ix,this.data[Tl+1]=ot.iy,this.data[Tl+2]=ot.iz}get(E,V,Me){let ot=3*((E*this.width+V)*this.height+Me);return{ix:this.data[ot],iy:this.data[ot+1],iz:this.data[ot+2]}}}class rh{constructor(){this.INOUT=1,this.ISDONE=2,this.ISBOUND=4,this.ptranx=0,this.ptrany=0,this.ptranz=0,this.probeRadius=1.4,this.defaultScaleFactor=2,this.scaleFactor=this.defaultScaleFactor,this.pHeight=0,this.pWidth=0,this.pLength=0,this.cutRadius=0,this.vpBits=null,this.vpDistance=null,this.vpAtomID=null,this.pminx=0,this.pminy=0,this.pminz=0,this.pmaxx=0,this.pmaxy=0,this.pmaxz=0,this.depty={},this.widxz={},this.faces=[],this.verts=[],this.vdwRadii={H:1.2,Li:1.82,Na:2.27,K:2.75,C:1.7,N:1.55,O:1.52,F:1.47,P:1.8,S:1.8,CL:1.75,BR:1.85,SE:1.9,ZN:1.39,CU:1.4,NI:1.63,X:2},this.nb=[new Int32Array([1,0,0]),new Int32Array([-1,0,0]),new Int32Array([0,1,0]),new Int32Array([0,-1,0]),new Int32Array([0,0,1]),new Int32Array([0,0,-1]),new Int32Array([1,1,0]),new Int32Array([1,-1,0]),new Int32Array([-1,1,0]),new Int32Array([-1,-1,0]),new Int32Array([1,0,1]),new Int32Array([1,0,-1]),new Int32Array([-1,0,1]),new Int32Array([-1,0,-1]),new Int32Array([0,1,1]),new Int32Array([0,1,-1]),new Int32Array([0,-1,1]),new Int32Array([0,-1,-1]),new Int32Array([1,1,1]),new Int32Array([1,1,-1]),new Int32Array([1,-1,1]),new Int32Array([-1,1,1]),new Int32Array([1,-1,-1]),new Int32Array([-1,-1,1]),new Int32Array([-1,1,-1]),new Int32Array([-1,-1,-1])],rh.MarchingCube||(rh.MarchingCube=new up)}getVDWIndex(E){return E.elem&&this.vdwRadii[E.elem]!==void 0?E.elem:"X"}getFacesAndVertices(E){let V={};for(let Tl=0,ll=E.length;Tl<ll;Tl++)V[E[Tl]]=!0;let Me=this.verts;for(let Tl=0,ll=Me.length;Tl<ll;Tl++)Me[Tl].x=Me[Tl].x/this.scaleFactor-this.ptranx,Me[Tl].y=Me[Tl].y/this.scaleFactor-this.ptrany,Me[Tl].z=Me[Tl].z/this.scaleFactor-this.ptranz;let ot=[];for(let Tl=0,ll=this.faces.length;Tl<ll;Tl+=3){let Pl=this.faces[Tl],Bl=this.faces[Tl+1],Ml=this.faces[Tl+2],Vl=Me[Pl].atomid,Yl=Me[Bl].atomid,zu=Me[Ml].atomid,Fu=Vl;Yl<Fu&&(Fu=Yl),zu<Fu&&(Fu=zu),V[Fu]&&Pl!==Bl&&Bl!==Ml&&Pl!==Ml&&(ot.push(Pl),ot.push(Bl),ot.push(Ml))}return this.vpBits=null,this.vpDistance=null,this.vpAtomID=null,{vertices:Me,faces:ot}}initparm(E,V,Me){Me>1e6&&(this.scaleFactor=this.defaultScaleFactor/2);let ot=1/this.scaleFactor*5.5;this.pminx=E[0][0],this.pmaxx=E[1][0],this.pminy=E[0][1],this.pmaxy=E[1][1],this.pminz=E[0][2],this.pmaxz=E[1][2],V?(this.pminx-=this.probeRadius+ot,this.pminy-=this.probeRadius+ot,this.pminz-=this.probeRadius+ot,this.pmaxx+=this.probeRadius+ot,this.pmaxy+=this.probeRadius+ot,this.pmaxz+=this.probeRadius+ot):(this.pminx-=ot,this.pminy-=ot,this.pminz-=ot,this.pmaxx+=ot,this.pmaxy+=ot,this.pmaxz+=ot),this.pminx=Math.floor(this.pminx*this.scaleFactor)/this.scaleFactor,this.pminy=Math.floor(this.pminy*this.scaleFactor)/this.scaleFactor,this.pminz=Math.floor(this.pminz*this.scaleFactor)/this.scaleFactor,this.pmaxx=Math.ceil(this.pmaxx*this.scaleFactor)/this.scaleFactor,this.pmaxy=Math.ceil(this.pmaxy*this.scaleFactor)/this.scaleFactor,this.pmaxz=Math.ceil(this.pmaxz*this.scaleFactor)/this.scaleFactor,this.ptranx=-this.pminx,this.ptrany=-this.pminy,this.ptranz=-this.pminz,this.pLength=Math.ceil(this.scaleFactor*(this.pmaxx-this.pminx))+1,this.pWidth=Math.ceil(this.scaleFactor*(this.pmaxy-this.pminy))+1,this.pHeight=Math.ceil(this.scaleFactor*(this.pmaxz-this.pminz))+1,this.boundingatom(V),this.cutRadius=this.probeRadius*this.scaleFactor,this.vpBits=new Uint8Array(this.pLength*this.pWidth*this.pHeight),this.vpDistance=new Float64Array(this.pLength*this.pWidth*this.pHeight),this.vpAtomID=new Int32Array(this.pLength*this.pWidth*this.pHeight)}boundingatom(E){let V={};for(const Me in this.vdwRadii){let ot=this.vdwRadii[Me];V[Me]=E?(ot+this.probeRadius)*this.scaleFactor+.5:ot*this.scaleFactor+.5;let Tl=V[Me]*V[Me];this.widxz[Me]=Math.floor(V[Me])+1,this.depty[Me]=new Int32Array(this.widxz[Me]*this.widxz[Me]);let ll=0;for(let Pl=0;Pl<this.widxz[Me];Pl++)for(let Bl=0;Bl<this.widxz[Me];Bl++){let Ml=Pl*Pl+Bl*Bl;if(Ml>Tl)this.depty[Me][ll]=-1;else{let Vl=Math.sqrt(Tl-Ml);this.depty[Me][ll]=Math.floor(Vl)}ll++}}}fillvoxels(E,V){for(let Me=0,ot=this.vpBits.length;Me<ot;Me++)this.vpBits[Me]=0,this.vpDistance[Me]=-1,this.vpAtomID[Me]=-1;for(let Me in V){let ot=E[V[Me]];ot!==void 0&&this.fillAtom(ot,E)}for(let Me=0,ot=this.vpBits.length;Me<ot;Me++)this.vpBits[Me]&this.INOUT&&(this.vpBits[Me]|=this.ISDONE)}fillAtom(E,V){let Me=Math.floor(.5+this.scaleFactor*(E.x+this.ptranx)),ot=Math.floor(.5+this.scaleFactor*(E.y+this.ptrany)),Tl=Math.floor(.5+this.scaleFactor*(E.z+this.ptranz)),ll=this.getVDWIndex(E),Pl=0,Bl=this.pWidth*this.pHeight;for(let Ml=0,Vl=this.widxz[ll];Ml<Vl;Ml++)for(let Yl=0;Yl<Vl;Yl++){if(this.depty[ll][Pl]!=-1){for(let zu=-1;zu<2;zu++)for(let Fu=-1;Fu<2;Fu++)for(let mu=-1;mu<2;mu++)if(zu!==0&&Fu!==0&&mu!==0){let Lu=zu*Ml,Du=mu*Yl;for(let Qu=0;Qu<=this.depty[ll][Pl];Qu++){let ld=Qu*Fu,vd=Me+Lu,Ld=ot+ld,Ad=Tl+Du;if(vd<0||Ld<0||Ad<0||vd>=this.pLength||Ld>=this.pWidth||Ad>=this.pHeight)continue;let nh=vd*Bl+Ld*this.pHeight+Ad;if(this.vpBits[nh]&this.INOUT){let dh=V[this.vpAtomID[nh]];if(dh.serial!=E.serial){let vh=Me+Lu-Math.floor(.5+this.scaleFactor*(dh.x+this.ptranx)),Xl=ot+ld-Math.floor(.5+this.scaleFactor*(dh.y+this.ptrany)),$u=Tl+Du-Math.floor(.5+this.scaleFactor*(dh.z+this.ptranz));Lu*Lu+ld*ld+Du*Du<vh*vh+Xl*Xl+$u*$u&&(this.vpAtomID[nh]=E.serial)}}else this.vpBits[nh]|=this.INOUT,this.vpAtomID[nh]=E.serial}}}Pl++}}fillvoxelswaals(E,V){for(let Me=0,ot=this.vpBits.length;Me<ot;Me++)this.vpBits[Me]&=~this.ISDONE;for(let Me in V){let ot=E[V[Me]];ot!==void 0&&this.fillAtomWaals(ot,E)}}fillAtomWaals(E,V){let Me=0,ot=Math.floor(.5+this.scaleFactor*(E.x+this.ptranx)),Tl=Math.floor(.5+this.scaleFactor*(E.y+this.ptrany)),ll=Math.floor(.5+this.scaleFactor*(E.z+this.ptranz)),Pl=this.getVDWIndex(E),Bl=this.pWidth*this.pHeight;for(let Ml=0,Vl=this.widxz[Pl];Ml<Vl;Ml++)for(let Yl=0;Yl<Vl;Yl++){if(this.depty[Pl][Me]!=-1){for(let zu=-1;zu<2;zu++)for(let Fu=-1;Fu<2;Fu++)for(let mu=-1;mu<2;mu++)if(zu!==0&&Fu!==0&&mu!==0){let Lu=zu*Ml,Du=mu*Yl;for(let Qu=0;Qu<=this.depty[Pl][Me];Qu++){let ld=Qu*Fu,vd=ot+Lu,Ld=Tl+ld,Ad=ll+Du;if(vd<0||Ld<0||Ad<0||vd>=this.pLength||Ld>=this.pWidth||Ad>=this.pHeight)continue;let nh=vd*Bl+Ld*this.pHeight+Ad;if(this.vpBits[nh]&this.ISDONE){let dh=V[this.vpAtomID[nh]];if(dh.serial!=E.serial){let vh=ot+Lu-Math.floor(.5+this.scaleFactor*(dh.x+this.ptranx)),Xl=Tl+ld-Math.floor(.5+this.scaleFactor*(dh.y+this.ptrany)),$u=ll+Du-Math.floor(.5+this.scaleFactor*(dh.z+this.ptranz));Lu*Lu+ld*ld+Du*Du<vh*vh+Xl*Xl+$u*$u&&(this.vpAtomID[nh]=E.serial)}}else this.vpBits[nh]|=this.ISDONE,this.vpAtomID[nh]=E.serial}}}Me++}}buildboundary(){let E=this.pWidth*this.pHeight;for(let V=0;V<this.pLength;V++)for(let Me=0;Me<this.pHeight;Me++)for(let ot=0;ot<this.pWidth;ot++){let Tl=V*E+ot*this.pHeight+Me;if(this.vpBits[Tl]&this.INOUT){let ll=0;for(;ll<26;){let Pl=V+this.nb[ll][0],Bl=Me+this.nb[ll][2],Ml=ot+this.nb[ll][1];if(Pl>-1&&Pl<this.pLength&&Ml>-1&&Ml<this.pWidth&&Bl>-1&&Bl<this.pHeight&&!(this.vpBits[Pl*E+Ml*this.pHeight+Bl]&this.INOUT)){this.vpBits[Tl]|=this.ISBOUND;break}ll++}}}}fastdistancemap(){let E,V=new ed(this.pLength,this.pWidth,this.pHeight),Me=this.pWidth*this.pHeight,ot=this.cutRadius*this.cutRadius,Tl=[],ll=[];for(let Ml=0;Ml<this.pLength;Ml++)for(let Vl=0;Vl<this.pWidth;Vl++)for(let Yl=0;Yl<this.pHeight;Yl++)if(E=Ml*Me+Vl*this.pHeight+Yl,this.vpBits[E]&=~this.ISDONE,this.vpBits[E]&this.INOUT&&this.vpBits[E]&this.ISBOUND){let zu={ix:Ml,iy:Vl,iz:Yl};V.set(Ml,Vl,Yl,zu),Tl.push(zu),this.vpDistance[E]=0,this.vpBits[E]|=this.ISDONE,this.vpBits[E]&=~this.ISBOUND}do{ll=this.fastoneshell(Tl,V),Tl=[];for(let Ml=0,Vl=ll.length;Ml<Vl;Ml++)E=Me*ll[Ml].ix+this.pHeight*ll[Ml].iy+ll[Ml].iz,this.vpBits[E]&=~this.ISBOUND,this.vpDistance[E]<=1.0404*ot&&Tl.push({ix:ll[Ml].ix,iy:ll[Ml].iy,iz:ll[Ml].iz})}while(Tl.length!==0);Tl=[],ll=[],V=null;let Pl=this.scaleFactor-.5;Pl<0&&(Pl=0);let Bl=ot-.5/(.1+Pl);for(let Ml=0;Ml<this.pLength;Ml++)for(let Vl=0;Vl<this.pWidth;Vl++)for(let Yl=0;Yl<this.pHeight;Yl++)E=Ml*Me+Vl*this.pHeight+Yl,this.vpBits[E]&=~this.ISBOUND,this.vpBits[E]&this.INOUT&&(this.vpBits[E]&this.ISDONE&&!(this.vpBits[E]&this.ISDONE&&this.vpDistance[E]>=Bl)||(this.vpBits[E]|=this.ISBOUND))}fastoneshell(E,V){let Me,ot,Tl,ll,Pl,Bl,Ml,Vl,Yl,zu=[];if(E.length===0)return zu;let Fu={ix:-1,iy:-1,iz:-1},mu=this.pWidth*this.pHeight;for(let Lu=0,Du=E.length;Lu<Du;Lu++){Me=E[Lu].ix,ot=E[Lu].iy,Tl=E[Lu].iz,Vl=V.get(Me,ot,Tl);for(let Qu=0;Qu<6;Qu++)Fu.ix=Me+this.nb[Qu][0],Fu.iy=ot+this.nb[Qu][1],Fu.iz=Tl+this.nb[Qu][2],Fu.ix<this.pLength&&Fu.ix>-1&&Fu.iy<this.pWidth&&Fu.iy>-1&&Fu.iz<this.pHeight&&Fu.iz>-1&&(Yl=Fu.ix*mu+this.pHeight*Fu.iy+Fu.iz,this.vpBits[Yl]&this.INOUT&&!(this.vpBits[Yl]&this.ISDONE)?(V.set(Fu.ix,Fu.iy,Tl+this.nb[Qu][2],Vl),ll=Fu.ix-Vl.ix,Pl=Fu.iy-Vl.iy,Bl=Fu.iz-Vl.iz,Ml=ll*ll+Pl*Pl+Bl*Bl,this.vpDistance[Yl]=Ml,this.vpBits[Yl]|=this.ISDONE,this.vpBits[Yl]|=this.ISBOUND,zu.push({ix:Fu.ix,iy:Fu.iy,iz:Fu.iz})):this.vpBits[Yl]&this.INOUT&&this.vpBits[Yl]&this.ISDONE&&(ll=Fu.ix-Vl.ix,Pl=Fu.iy-Vl.iy,Bl=Fu.iz-Vl.iz,Ml=ll*ll+Pl*Pl+Bl*Bl,Ml<this.vpDistance[Yl]&&(V.set(Fu.ix,Fu.iy,Fu.iz,Vl),this.vpDistance[Yl]=Ml,this.vpBits[Yl]&this.ISBOUND||(this.vpBits[Yl]|=this.ISBOUND,zu.push({ix:Fu.ix,iy:Fu.iy,iz:Fu.iz})))))}for(let Lu=0,Du=E.length;Lu<Du;Lu++){Me=E[Lu].ix,ot=E[Lu].iy,Tl=E[Lu].iz,Vl=V.get(Me,ot,Tl);for(let Qu=6;Qu<18;Qu++)Fu.ix=Me+this.nb[Qu][0],Fu.iy=ot+this.nb[Qu][1],Fu.iz=Tl+this.nb[Qu][2],Fu.ix<this.pLength&&Fu.ix>-1&&Fu.iy<this.pWidth&&Fu.iy>-1&&Fu.iz<this.pHeight&&Fu.iz>-1&&(Yl=Fu.ix*mu+this.pHeight*Fu.iy+Fu.iz,this.vpBits[Yl]&this.INOUT&&!(this.vpBits[Yl]&this.ISDONE)?(V.set(Fu.ix,Fu.iy,Tl+this.nb[Qu][2],Vl),ll=Fu.ix-Vl.ix,Pl=Fu.iy-Vl.iy,Bl=Fu.iz-Vl.iz,Ml=ll*ll+Pl*Pl+Bl*Bl,this.vpDistance[Yl]=Ml,this.vpBits[Yl]|=this.ISDONE,this.vpBits[Yl]|=this.ISBOUND,zu.push({ix:Fu.ix,iy:Fu.iy,iz:Fu.iz})):this.vpBits[Yl]&this.INOUT&&this.vpBits[Yl]&this.ISDONE&&(ll=Fu.ix-Vl.ix,Pl=Fu.iy-Vl.iy,Bl=Fu.iz-Vl.iz,Ml=ll*ll+Pl*Pl+Bl*Bl,Ml<this.vpDistance[Yl]&&(V.set(Fu.ix,Fu.iy,Fu.iz,Vl),this.vpDistance[Yl]=Ml,this.vpBits[Yl]&this.ISBOUND||(this.vpBits[Yl]|=this.ISBOUND,zu.push({ix:Fu.ix,iy:Fu.iy,iz:Fu.iz})))))}for(let Lu=0,Du=E.length;Lu<Du;Lu++){Me=E[Lu].ix,ot=E[Lu].iy,Tl=E[Lu].iz,Vl=V.get(Me,ot,Tl);for(let Qu=18;Qu<26;Qu++)Fu.ix=Me+this.nb[Qu][0],Fu.iy=ot+this.nb[Qu][1],Fu.iz=Tl+this.nb[Qu][2],Fu.ix<this.pLength&&Fu.ix>-1&&Fu.iy<this.pWidth&&Fu.iy>-1&&Fu.iz<this.pHeight&&Fu.iz>-1&&(Yl=Fu.ix*mu+this.pHeight*Fu.iy+Fu.iz,this.vpBits[Yl]&this.INOUT&&!(this.vpBits[Yl]&this.ISDONE)?(V.set(Fu.ix,Fu.iy,Tl+this.nb[Qu][2],Vl),ll=Fu.ix-Vl.ix,Pl=Fu.iy-Vl.iy,Bl=Fu.iz-Vl.iz,Ml=ll*ll+Pl*Pl+Bl*Bl,this.vpDistance[Yl]=Ml,this.vpBits[Yl]|=this.ISDONE,this.vpBits[Yl]|=this.ISBOUND,zu.push({ix:Fu.ix,iy:Fu.iy,iz:Fu.iz})):this.vpBits[Yl]&this.INOUT&&this.vpBits[Yl]&this.ISDONE&&(ll=Fu.ix-Vl.ix,Pl=Fu.iy-Vl.iy,Bl=Fu.iz-Vl.iz,Ml=ll*ll+Pl*Pl+Bl*Bl,Ml<this.vpDistance[Yl]&&(V.set(Fu.ix,Fu.iy,Fu.iz,Vl),this.vpDistance[Yl]=Ml,this.vpBits[Yl]&this.ISBOUND||(this.vpBits[Yl]|=this.ISBOUND,zu.push({ix:Fu.ix,iy:Fu.iy,iz:Fu.iz})))))}return zu}marchingcubeinit(E){for(let V=0,Me=this.vpBits.length;V<Me;V++)E==1?this.vpBits[V]&=~this.ISBOUND:E==4?(this.vpBits[V]&=~this.ISDONE,this.vpBits[V]&this.ISBOUND&&(this.vpBits[V]|=this.ISDONE),this.vpBits[V]&=~this.ISBOUND):E==2?this.vpBits[V]&this.ISBOUND&&this.vpBits[V]&this.ISDONE?this.vpBits[V]&=~this.ISBOUND:this.vpBits[V]&this.ISBOUND&&!(this.vpBits[V]&this.ISDONE)&&(this.vpBits[V]|=this.ISDONE):E==3&&(this.vpBits[V]&=~this.ISBOUND)}marchingcube(E){this.marchingcubeinit(E),this.verts=[],this.faces=[],rh.MarchingCube.march(this.vpBits,this.verts,this.faces,{smooth:1,nX:this.pLength,nY:this.pWidth,nZ:this.pHeight});let V=this.pWidth*this.pHeight;for(let Me=0,ot=this.verts.length;Me<ot;Me++)this.verts[Me].atomid=this.vpAtomID[this.verts[Me].x*V+this.pHeight*this.verts[Me].y+this.verts[Me].z];rh.MarchingCube.laplacianSmooth(1,this.verts,this.faces)}}rh.MarchingCube=new up;var Ih=o(848);class _h{static finalizeGeo(E){var V=E.updateGeoGroup(0);V.vertices>0&&V.truncateArrayBuffers(!0,!0)}static updateColor(E,V){var Me,ot,Tl;V=V||L.CC.color(V),E.colorsNeedUpdate=!0,V.constructor!==Array&&(Me=V.r,ot=V.g,Tl=V.b);for(let ll in E.geometryGroups){let Pl=E.geometryGroups[ll],Bl=Pl.colorArray;for(let Ml=0,Vl=Pl.vertices;Ml<Vl;++Ml){if(V.constructor===Array){let Yl=V[Ml];Me=Yl.r,ot=Yl.g,Tl=Yl.b}Bl[3*Ml]=Me,Bl[3*Ml+1]=ot,Bl[3*Ml+2]=Tl}}}static drawArrow(E,V,Me){var ot=Me.start,Tl=Me.end,ll=Me.radius,Pl=Me.radiusRatio,Bl=Me.mid,Ml=Me.midpos;if(!ot||!Tl)return;var Vl=V.updateGeoGroup(51),Yl=new y.Vector3(Tl.x,Tl.y,Tl.z).sub(ot);if(Ml){let y0=Yl.length();Bl=Ml>0?Ml/y0:(y0+Ml)/y0}Yl.multiplyScalar(Bl);var zu=new y.Vector3(ot.x,ot.y,ot.z).add(Yl),Fu=Yl.clone().negate();let mu=new y.Vector3(ot.x,ot.y,ot.z);E.intersectionShape.cylinder.push(new w.Cylinder(mu,zu.clone(),ll)),E.intersectionShape.sphere.push(new w.Sphere(mu,ll));var Lu=[];Lu[0]=Yl.clone(),Math.abs(Lu[0].x)>1e-4?Lu[0].y+=1:Lu[0].x+=1,Lu[0].cross(Yl),Lu[0].normalize(),Lu[4]=Lu[0].clone(),Lu[4].crossVectors(Lu[0],Yl),Lu[4].normalize(),Lu[8]=Lu[0].clone().negate(),Lu[12]=Lu[4].clone().negate(),Lu[2]=Lu[0].clone().add(Lu[4]).normalize(),Lu[6]=Lu[4].clone().add(Lu[8]).normalize(),Lu[10]=Lu[8].clone().add(Lu[12]).normalize(),Lu[14]=Lu[12].clone().add(Lu[0]).normalize(),Lu[1]=Lu[0].clone().add(Lu[2]).normalize(),Lu[3]=Lu[2].clone().add(Lu[4]).normalize(),Lu[5]=Lu[4].clone().add(Lu[6]).normalize(),Lu[7]=Lu[6].clone().add(Lu[8]).normalize(),Lu[9]=Lu[8].clone().add(Lu[10]).normalize(),Lu[11]=Lu[10].clone().add(Lu[12]).normalize(),Lu[13]=Lu[12].clone().add(Lu[14]).normalize(),Lu[15]=Lu[14].clone().add(Lu[0]).normalize();var Du,Qu,ld,vd,Ld,Ad,nh,dh,vh,Xl,$u,Wd,ih,ph,Dh,Uh,Oh,Rh,Yh,wh,Hh,Cf,nf=Vl.vertices,mf=Vl.vertexArray,af=Vl.faceArray,zh=Vl.normalArray,Af=Vl.lineArray;for(Qu=0,ld=Lu.length;Qu<ld;++Qu){Du=3*(nf+3*Qu);var $f=Lu[Qu].clone().multiplyScalar(ll).add(ot),Rf=Lu[Qu].clone().multiplyScalar(ll).add(zu),cf=Lu[Qu].clone().multiplyScalar(ll*Pl).add(zu);if(mf[Du]=$f.x,mf[Du+1]=$f.y,mf[Du+2]=$f.z,mf[Du+3]=Rf.x,mf[Du+4]=Rf.y,mf[Du+5]=Rf.z,mf[Du+6]=cf.x,mf[Du+7]=cf.y,mf[Du+8]=cf.z,Qu>0){var dp=mf[Du-3],np=mf[Du-2],ip=mf[Du-1],Xf=new y.Vector3(dp,np,ip),Jf=new y.Vector3(Tl.x,Tl.y,Tl.z),qf=zu.clone(),fp=new y.Vector3(cf.x,cf.y,cf.z);E.intersectionShape.triangle.push(new w.Triangle(fp,Jf,Xf)),E.intersectionShape.triangle.push(new w.Triangle(Xf.clone(),qf,fp.clone()))}}Vl.vertices+=48,mf[Du=3*Vl.vertices]=ot.x,mf[Du+1]=ot.y,mf[Du+2]=ot.z,mf[Du+3]=zu.x,mf[Du+4]=zu.y,mf[Du+5]=zu.z,mf[Du+6]=Tl.x,mf[Du+7]=Tl.y,mf[Du+8]=Tl.z,Vl.vertices+=3;var $p=Vl.vertices-3,hg=Vl.vertices-2,v0=Vl.vertices-1,f0=3*$p,u0=3*hg,c0=3*v0;for(Qu=0,ld=Lu.length-1;Qu<ld;++Qu){var Xp=nf+3*Qu;Du=3*Xp,Ld=Vl.faceidx,Ad=Vl.lineidx,ih=3*(nh=Xp),ph=3*(dh=Xp+1),Dh=3*(vh=Xp+2),Uh=3*(Xl=Xp+4),Oh=3*($u=Xp+5),Rh=3*(Wd=Xp+3),Yh=wh=Lu[Qu],Hh=Cf=Lu[Qu+1],zh[ih]=Yh.x,zh[ph]=wh.x,zh[Rh]=Cf.x,zh[ih+1]=Yh.y,zh[ph+1]=wh.y,zh[Rh+1]=Cf.y,zh[ih+2]=Yh.z,zh[ph+2]=wh.z,zh[Rh+2]=Cf.z,zh[ph]=wh.x,zh[Uh]=Hh.x,zh[Rh]=Cf.x,zh[ph+1]=wh.y,zh[Uh+1]=Hh.y,zh[Rh+1]=Cf.y,zh[ph+2]=wh.z,zh[Uh+2]=Hh.z,zh[Rh+2]=Cf.z,zh[Dh]=wh.x,zh[Oh]=Hh.x,zh[Dh+1]=wh.y,zh[Oh+1]=Hh.y,zh[Dh+2]=wh.z,zh[Oh+2]=Hh.z,af[Ld]=nh,af[Ld+1]=dh,af[Ld+2]=Wd,af[Ld+3]=dh,af[Ld+4]=Xl,af[Ld+5]=Wd,af[Ld+6]=nh,af[Ld+7]=Wd,af[Ld+8]=$p,af[Ld+9]=vh,af[Ld+10]=hg,af[Ld+11]=$u,af[Ld+12]=vh,af[Ld+13]=v0,af[Ld+14]=$u,Af[Ad]=nh,Af[Ad+1]=dh,Af[Ad+2]=nh,Af[Ad+3]=Wd,Af[Ad+4]=Xl,Af[Ad+5]=Wd,Af[Ad+6]=nh,Af[Ad+7]=Wd,Af[Ad+8]=vh,Af[Ad+9]=dh,Af[Ad+10]=vh,Af[Ad+11]=$u,Af[Ad+12]=Xl,Af[Ad+13]=$u,Af[Ad+14]=vh,Af[Ad+15]=v0,Af[Ad+16]=vh,Af[Ad+17]=$u,Af[Ad+18]=v0,Af[Ad+19]=$u,Vl.faceidx+=15,Vl.lineidx+=20}vd=[nf+45,nf+46,nf+1,nf,nf+47,nf+2],Ld=Vl.faceidx,Ad=Vl.lineidx,ih=3*(nh=vd[0]),ph=3*(dh=vd[1]),Dh=3*(vh=vd[4]),Uh=3*(Xl=vd[2]),Oh=3*($u=vd[5]),Rh=3*(Wd=vd[3]),Yh=wh=Lu[15],Hh=Cf=Lu[0],zh[ih]=Yh.x,zh[ph]=wh.x,zh[Rh]=Cf.x,zh[ih+1]=Yh.y,zh[ph+1]=wh.y,zh[Rh+1]=Cf.y,zh[ih+2]=Yh.z,zh[ph+2]=wh.z,zh[Rh+2]=Cf.z,zh[ph]=wh.x,zh[Uh]=Hh.x,zh[Rh]=Cf.x,zh[ph+1]=wh.y,zh[Uh+1]=Hh.y,zh[Rh+1]=Cf.y,zh[ph+2]=wh.z,zh[Uh+2]=Hh.z,zh[Rh+2]=Cf.z,zh[Dh]=wh.x,zh[Oh]=Hh.x,zh[Dh+1]=wh.y,zh[Oh+1]=Hh.y,zh[Dh+2]=wh.z,zh[Oh+2]=Hh.z,Yl.normalize(),Fu.normalize(),zh[f0]=Fu.x,zh[u0]=zh[c0]=Yl.x,zh[f0+1]=Fu.y,zh[u0+1]=zh[c0+1]=Yl.y,zh[f0+2]=Fu.z,zh[u0+2]=zh[c0+2]=Yl.z,af[Ld]=nh,af[Ld+1]=dh,af[Ld+2]=Wd,af[Ld+3]=dh,af[Ld+4]=Xl,af[Ld+5]=Wd,af[Ld+6]=nh,af[Ld+7]=Wd,af[Ld+8]=$p,af[Ld+9]=vh,af[Ld+10]=hg,af[Ld+11]=$u,af[Ld+12]=vh,af[Ld+13]=v0,af[Ld+14]=$u,Af[Ad]=nh,Af[Ad+1]=dh,Af[Ad+2]=nh,Af[Ad+3]=Wd,Af[Ad+4]=Xl,Af[Ad+5]=Wd,Af[Ad+6]=nh,Af[Ad+7]=Wd,Af[Ad+8]=vh,Af[Ad+9]=dh,Af[Ad+10]=vh,Af[Ad+11]=$u,Af[Ad+12]=Xl,Af[Ad+13]=$u,Af[Ad+14]=vh,Af[Ad+15]=v0,Af[Ad+16]=vh,Af[Ad+17]=$u,Af[Ad+18]=v0,Af[Ad+19]=$u,Vl.faceidx+=15,Vl.lineidx+=20}static updateBoundingFromPoints(E,V,Me,ot){E.center.set(0,0,0);let Tl=1/0,ll=1/0,Pl=1/0,Bl=-1/0,Ml=-1/0,Vl=-1/0;E.box&&(Tl=E.box.min.x,Bl=E.box.max.x,ll=E.box.min.y,Ml=E.box.max.y,Pl=E.box.min.z,Vl=E.box.max.z);for(let mu=0,Lu=ot;mu<Lu;mu++){var Yl=Me[3*mu],zu=Me[3*mu+1],Fu=Me[3*mu+2];Yl<Tl&&(Tl=Yl),zu<ll&&(ll=zu),Fu<Pl&&(Pl=Fu),Yl>Bl&&(Bl=Yl),zu>Ml&&(Ml=zu),Fu>Vl&&(Vl=Fu)}E.center.set((Bl+Tl)/2,(Ml+ll)/2,(Vl+Pl)/2),E.radius=E.center.distanceTo({x:Bl,y:Ml,z:Vl}),E.box={min:{x:Tl,y:ll,z:Pl},max:{x:Bl,y:Ml,z:Vl}}}static addCustomGeo(E,V,Me,ot,Tl){var ll,Pl,Bl,Ml,Vl,Yl,zu,Fu,mu,Lu=V.addGeoGroup(),Du=Me.vertexArr,Qu=Me.normalArr,ld=Me.faceArr;Lu.vertices=Du.length,Lu.faceidx=ld.length;var vd=Lu.vertexArray,Ld=Lu.colorArray;for(ot.constructor!==Array&&(Fu=ot.r,mu=ot.g,Ml=ot.b),Yl=0,zu=Lu.vertices;Yl<zu;++Yl)ll=3*Yl,Pl=Du[Yl],vd[ll]=Pl.x,vd[ll+1]=Pl.y,vd[ll+2]=Pl.z,ot.constructor===Array&&(Fu=(Vl=ot[Yl]).r,mu=Vl.g,Ml=Vl.b),Ld[ll]=Fu,Ld[ll+1]=mu,Ld[ll+2]=Ml;if(Tl)for(Yl=0,zu=Lu.faceidx/3;Yl<zu;++Yl){Bl=ld[ll=3*Yl],Ml=ld[ll+1],Vl=ld[ll+2];var Ad=new y.Vector3,nh=new y.Vector3,dh=new y.Vector3;E.intersectionShape.triangle.push(new w.Triangle(Ad.copy(Du[Bl]),nh.copy(Du[Ml]),dh.copy(Du[Vl])))}if(Tl){var vh=new y.Vector3(0,0,0),Xl=0;for(let ih=0;ih<V.geometryGroups.length;ih++)vh.add(V.geometryGroups[ih].getCentroid()),Xl++;vh.divideScalar(Xl),_h.updateBoundingFromPoints(E.boundingSphere,{centroid:vh},vd,Lu.vertices)}if(Lu.faceArray=new Uint16Array(ld),Lu.truncateArrayBuffers(!0,!0),Qu.length<Lu.vertices)Lu.setNormals();else{var $u,Wd=Lu.normalArray=new Float32Array(3*Lu.vertices);for(Yl=0,zu=Lu.vertices;Yl<zu;++Yl)ll=3*Yl,$u=Qu[Yl],Wd[ll]=$u.x,Wd[ll+1]=$u.y,Wd[ll+2]=$u.z}Lu.setLineIndices(),Lu.lineidx=Lu.lineArray.length}static updateFromStyle(E,V){V.color!==void 0?(E.color=V.color||new L.Color,V.color instanceof L.Color||(E.color=L.CC.color(V.color))):E.color=L.CC.color(0),E.wireframe=!!V.wireframe,E.opacity=V.alpha?(0,y.clamp)(V.alpha,0,1):1,V.opacity!==void 0&&(E.opacity=(0,y.clamp)(V.opacity,0,1)),E.side=V.side!==void 0?V.side:d.DoubleSide,E.linewidth=V.linewidth===void 0?1:V.linewidth,E.clickable=!!V.clickable,E.callback=(0,H.makeFunction)(V.callback),E.hoverable=!!V.hoverable,E.hover_callback=(0,H.makeFunction)(V.hover_callback),E.unhover_callback=(0,H.makeFunction)(V.unhover_callback),E.contextMenuEnabled=!!V.contextMenuEnabled,E.hidden=V.hidden,E.frame=V.frame}constructor(E){this.color=16777215,this.hidden=!1,this.wireframe=!1,this.opacity=1,this.linewidth=1,this.clickable=!1,this.hoverable=!1,this.contextMenuEnabled=!1,this.side=d.DoubleSide,this.stylespec=E||{},this.boundingSphere=new w.Sphere,this.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},_h.updateFromStyle(this,this.stylespec),this.components=[],this.shapeObj=null,this.renderedShapeObj=null,this.geo=new d.Geometry(!0),this.linegeo=new d.Geometry(!0)}updateStyle(E){for(var V in E)this.stylespec[V]=E[V];if(_h.updateFromStyle(this,this.stylespec),E.voldata&&E.volscheme){(0,H.adjustVolumeStyle)(E);const Me=E.volscheme,ot=E.voldata,Tl=L.CC,ll=Me.range()||[-1,1];this.geo.setColors(function(Pl,Bl,Ml){let Vl=ot.getVal(Pl,Bl,Ml);return Tl.color(Me.valueToHex(Vl,ll))}),delete this.color}}addCustom(E){E.vertexArr=E.vertexArr||[],E.faceArr=E.faceArr||[],E.normalArr=E.normalArr||[],_h.drawCustom(this,this.geo,E)}addSphere(E){E.center||(E.center=new y.Vector3(0,0,0)),E.radius=E.radius?(0,y.clamp)(E.radius,0,1/0):1.5,E.color=L.CC.color(E.color),this.intersectionShape.sphere.push(new w.Sphere(E.center,E.radius)),c.drawSphere(this.geo,E.center,E.radius,E.color,E.quality),this.components.push({centroid:new y.Vector3(E.center.x,E.center.y,E.center.z)});var V=this.geo.updateGeoGroup(0);_h.updateBoundingFromPoints(this.boundingSphere,this.components,V.vertexArray,V.vertices)}addBox(E){var V,Me,ot,Tl=E.dimensions||{w:1,h:1,d:1};V=typeof Tl.w=="number"?{x:Tl.w,y:0,z:0}:Tl.w,Me=typeof Tl.h=="number"?{x:0,y:Tl.h,z:0}:Tl.h,ot=typeof Tl.d=="number"?{x:0,y:0,z:Tl.d}:Tl.d;var ll=E.corner;ll==null&&(ll=E.center!==void 0?{x:E.center.x-.5*(V.x+Me.x+ot.x),y:E.center.y-.5*(V.y+Me.y+ot.y),z:E.center.z-.5*(V.z+Me.z+ot.z)}:{x:0,y:0,z:0});var Pl=[{x:ll.x,y:ll.y,z:ll.z},{x:ll.x+V.x,y:ll.y+V.y,z:ll.z+V.z},{x:ll.x+Me.x,y:ll.y+Me.y,z:ll.z+Me.z},{x:ll.x+V.x+Me.x,y:ll.y+V.y+Me.y,z:ll.z+V.z+Me.z},{x:ll.x+ot.x,y:ll.y+ot.y,z:ll.z+ot.z},{x:ll.x+V.x+ot.x,y:ll.y+V.y+ot.y,z:ll.z+V.z+ot.z},{x:ll.x+Me.x+ot.x,y:ll.y+Me.y+ot.y,z:ll.z+Me.z+ot.z},{x:ll.x+V.x+Me.x+ot.x,y:ll.y+V.y+Me.y+ot.y,z:ll.z+V.z+Me.z+ot.z}],Bl=[],Ml=[];Bl.splice(Bl.length,0,Pl[0],Pl[1],Pl[2],Pl[3]),Ml.splice(Ml.length,0,0,2,1,1,2,3);var Vl=4;Bl.splice(Bl.length,0,Pl[2],Pl[3],Pl[6],Pl[7]),Ml.splice(Ml.length,0,Vl+0,Vl+2,Vl+1,Vl+1,Vl+2,Vl+3),Vl+=4,Bl.splice(Bl.length,0,Pl[4],Pl[5],Pl[0],Pl[1]),Ml.splice(Ml.length,0,Vl+0,Vl+2,Vl+1,Vl+1,Vl+2,Vl+3),Vl+=4,Bl.splice(Bl.length,0,Pl[6],Pl[7],Pl[4],Pl[5]),Ml.splice(Ml.length,0,Vl+0,Vl+2,Vl+1,Vl+1,Vl+2,Vl+3),Vl+=4,Bl.splice(Bl.length,0,Pl[3],Pl[1],Pl[7],Pl[5]),Ml.splice(Ml.length,0,Vl+0,Vl+2,Vl+1,Vl+1,Vl+2,Vl+3),Vl+=4,Bl.splice(Bl.length,0,Pl[2],Pl[6],Pl[0],Pl[4]),Ml.splice(Ml.length,0,Vl+0,Vl+2,Vl+1,Vl+1,Vl+2,Vl+3),Vl+=4;var Yl=(0,H.extend)({},E);Yl.vertexArr=Bl,Yl.faceArr=Ml,Yl.normalArr=[],_h.drawCustom(this,this.geo,Yl);var zu=new y.Vector3;this.components.push({centroid:zu.addVectors(Pl[0],Pl[7]).multiplyScalar(.5)});var Fu=this.geo.updateGeoGroup(0);_h.updateBoundingFromPoints(this.boundingSphere,this.components,Fu.vertexArray,Fu.vertices)}addCylinder(E){var V,Me;V=E.start?new y.Vector3(E.start.x||0,E.start.y||0,E.start.z||0):new y.Vector3(0,0,0),E.end?(Me=new y.Vector3(E.end.x,E.end.y||0,E.end.z||0)).x===void 0&&(Me.x=3):Me=new y.Vector3(0,0,0);var ot=E.radius||.1,Tl=L.CC.color(E.color);this.intersectionShape.cylinder.push(new w.Cylinder(V,Me,ot)),c.drawCylinder(this.geo,V,Me,ot,Tl,E.fromCap,E.toCap);var ll=new y.Vector3;this.components.push({centroid:ll.addVectors(V,Me).multiplyScalar(.5)});var Pl=this.geo.updateGeoGroup(0);_h.updateBoundingFromPoints(this.boundingSphere,this.components,Pl.vertexArray,Pl.vertices)}addDashedCylinder(E){var V,Me;E.dashLength=E.dashLength||.25,E.gapLength=E.gapLength||.25,V=E.start?new y.Vector3(E.start.x||0,E.start.y||0,E.start.z||0):new y.Vector3(0,0,0),E.end?(Me=new y.Vector3(E.end.x,E.end.y||0,E.end.z||0)).x===void 0&&(Me.x=3):Me=new y.Vector3(3,0,0);for(var ot=E.radius||.1,Tl=L.CC.color(E.color),ll=Math.sqrt(Math.pow(V.x-Me.x,2)+Math.pow(V.y-Me.y,2)+Math.pow(V.z-Me.z,2)),Pl=ll/(E.gapLength+E.dashLength),Bl=new y.Vector3(E.start.x||0,E.start.y||0,E.start.z||0),Ml=new y.Vector3(E.end.x,E.end.y||0,E.end.z||0),Vl=new y.Vector3((Me.x-V.x)/(ll/E.gapLength),(Me.y-V.y)/(ll/E.gapLength),(Me.z-V.z)/(ll/E.gapLength)),Yl=new y.Vector3((Me.x-V.x)/(ll/E.dashLength),(Me.y-V.y)/(ll/E.dashLength),(Me.z-V.z)/(ll/E.dashLength)),zu=0;zu<Pl;zu++)Ml=new y.Vector3(Bl.x+Yl.x,Bl.y+Yl.y,Bl.z+Yl.z),this.intersectionShape.cylinder.push(new w.Cylinder(Bl,Ml,ot)),c.drawCylinder(this.geo,Bl,Ml,ot,Tl,E.fromCap,E.toCap),Bl=new y.Vector3(Ml.x+Vl.x,Ml.y+Vl.y,Ml.z+Vl.z);var Fu=new y.Vector3;this.components.push({centroid:Fu.addVectors(V,Me).multiplyScalar(.5)});var mu=this.geo.updateGeoGroup(0);_h.updateBoundingFromPoints(this.boundingSphere,this.components,mu.vertexArray,mu.vertices)}addCurve(E){E.points=E.points||[],E.smooth=E.smooth||10,E.fromCap===void 0&&(E.fromCap=2),E.toCap===void 0&&(E.toCap=2);var V=ce(E.points,E.smooth);if(V.length<3)console.log("Too few points in addCurve");else{var Me=E.radius||.1,ot=L.CC.color(E.color),Tl=0,ll=V.length-1,Pl=V[0].distanceTo(V[1]),Bl=Math.ceil(2*Me/Pl);if(E.toArrow){let zu={start:V[ll-=Bl],end:V[V.length-1],radius:Me,color:ot,mid:1e-4};this.addArrow(zu)}if(E.fromArrow){let zu={start:V[Tl+=Bl],end:V[0],radius:Me,color:ot,mid:1e-4};this.addArrow(zu)}for(var Ml=Math.ceil(V.length/2),Vl={radius:Me,color:ot,fromCap:2,toCap:2},Yl=Tl;Yl<ll;Yl++)Vl.start=V[Yl],Vl.end=V[Yl+1],Vl.fromCap=2,Vl.toCap=2,Yl<Ml?(Vl.fromCap=2,Vl.toCap=0):Yl>Ml?(Vl.fromCap=0,Vl.toCap=2):(Vl.fromCap=2,Vl.toCap=2),this.addCylinder(Vl)}}addLine(E){var V,Me;V=E.start?new y.Vector3(E.start.x||0,E.start.y||0,E.start.z||0):new y.Vector3(0,0,0),E.end?(Me=new y.Vector3(E.end.x,E.end.y||0,E.end.z||0)).x===void 0&&(Me.x=3):Me=new y.Vector3(3,0,0);var ot=this.geo.updateGeoGroup(2),Tl=ot.vertices,ll=3*Tl,Pl=ot.vertexArray;Pl[ll]=V.x,Pl[ll+1]=V.y,Pl[ll+2]=V.z,Pl[ll+3]=Me.x,Pl[ll+4]=Me.y,Pl[ll+5]=Me.z,ot.vertices+=2;var Bl=ot.lineArray,Ml=ot.lineidx;Bl[Ml]=Tl,Bl[Ml+1]=Tl+1,ot.lineidx+=2;var Vl=new y.Vector3;this.components.push({centroid:Vl.addVectors(V,Me).multiplyScalar(.5)}),ot=this.geo.updateGeoGroup(0),_h.updateBoundingFromPoints(this.boundingSphere,this.components,ot.vertexArray,ot.vertices)}addArrow(E){if(E.start?E.start=new y.Vector3(E.start.x||0,E.start.y||0,E.start.z||0):E.start=new y.Vector3(0,0,0),E.dir instanceof y.Vector3&&typeof E.length=="number"){var V=E.dir.clone().multiplyScalar(E.length).add(E.start);E.end=V}else E.end?(E.end=new y.Vector3(E.end.x,E.end.y||0,E.end.z||0),E.end.x===void 0&&(E.end.x=3)):E.end=new y.Vector3(3,0,0);E.radius=E.radius||.1,E.radiusRatio=E.radiusRatio||1.618034,E.mid=0<E.mid&&E.mid<1?E.mid:.618034,_h.drawArrow(this,this.geo,E);var Me=new y.Vector3;this.components.push({centroid:Me.addVectors(E.start,E.end).multiplyScalar(.5)});var ot=this.geo.updateGeoGroup(0);_h.updateBoundingFromPoints(this.boundingSphere,this.components,ot.vertexArray,ot.vertices)}static distance_from(E,V){return Math.sqrt(Math.pow(E.x-V.x,2)+Math.pow(E.y-V.y,2)+Math.pow(E.z-V.z,2))}static inSelectedRegion(E,V,Me){for(var ot=0;ot<V.length;ot++)if(_h.distance_from(V[ot],E)<=Me)return!0;return!1}addIsosurface(E,V,Me,ot){var Tl,ll,Pl=V.isoval!==void 0&&typeof V.isoval=="number"?V.isoval:0,Bl=!!V.voxel,Ml=V.smoothness===void 0?1:V.smoothness,Vl=E.size.x,Yl=E.size.y,zu=E.size.z,Fu=new Int16Array(Vl*Yl*zu),mu=E.data;for(Tl=0,ll=Fu.length;Tl<ll;++Tl)Fu[Tl]=-1;var Lu=new Uint8Array(Vl*Yl*zu);for(Tl=0,ll=mu.length;Tl<ll;++Tl)(Pl>=0?mu[Tl]-Pl:Pl-mu[Tl])>0&&(Lu[Tl]|=_h.ISDONE);var Du=[],Qu=[];ls.march(Lu,Du,Qu,{fulltable:!0,voxel:Bl,unitCube:E.unit,origin:E.origin,matrix:E.matrix,nX:Vl,nY:Yl,nZ:zu}),!Bl&&Ml>0&&ls.laplacianSmooth(Ml,Du,Qu);var ld=[],vd=[],Ld=[];if(V.selectedRegion&&V.coords===void 0&&(V.coords=V.selectedRegion),V.coords===void 0&&V.selection!==void 0&&(ot?V.coords=ot.selectedAtoms(V.selection):console.log("addIsosurface needs viewer is selection provided.")),V.coords!==void 0){var Ad=V.coords[0].x,nh=V.coords[0].y,dh=V.coords[0].z,vh=V.coords[0].x,Xl=V.coords[0].y,$u=V.coords[0].z;for(let wh=0;wh<V.coords.length;wh++)V.coords[wh].x>Ad?Ad=V.coords[wh].x:V.coords[wh].x<vh&&(vh=V.coords[wh].x),V.coords[wh].y>nh?nh=V.coords[wh].y:V.coords[wh].y<Xl&&(Xl=V.coords[wh].y),V.coords[wh].z>dh?dh=V.coords[wh].z:V.coords[wh].z<$u&&($u=V.coords[wh].z);var Wd=2;V.radius!==void 0&&(Wd=V.radius),V.selectedOffset!==void 0&&(Wd=V.selectedOffset),V.seldist!==void 0&&(Wd=V.seldist),vh-=Wd,Ad+=Wd,Xl-=Wd,nh+=Wd,$u-=Wd,dh+=Wd;for(let wh=0;wh<Du.length;wh++)Du[wh].x>vh&&Du[wh].x<Ad&&Du[wh].y>Xl&&Du[wh].y<nh&&Du[wh].z>$u&&Du[wh].z<dh&&_h.inSelectedRegion(Du[wh],V.coords,Wd)?(ld.push(vd.length),vd.push(Du[wh])):ld.push(-1);for(let wh=0;wh+2<Qu.length;wh+=3)ld[Qu[wh]]!==-1&&ld[Qu[wh+1]]!==-1&&ld[Qu[wh+2]]!==-1&&(Ld.push(Qu[wh]-(Qu[wh]-ld[Qu[wh]])),Ld.push(Qu[wh+1]-(Qu[wh+1]-ld[Qu[wh+1]])),Ld.push(Qu[wh+2]-(Qu[wh+2]-ld[Qu[wh+2]])));Du=vd,Qu=Ld}_h.drawCustom(this,this.geo,{vertexArr:Du,faceArr:Qu,normalArr:[],clickable:V.clickable,hoverable:V.hoverable}),this.updateStyle(V);var ih=new y.Vector3(E.origin.x,E.origin.y,E.origin.z),ph=new y.Vector3(E.size.x*E.unit.x,E.size.y*E.unit.y,E.size.z*E.unit.z),Dh=new y.Vector3(0,0,0),Uh=ih.clone(),Oh=ih.clone().add(ph);for(let wh=0;wh<Du.length;wh++)Dh.add(Du[wh]),Uh.max(Du[wh]),Oh.min(Du[wh]);Dh.divideScalar(Du.length);var Rh=Dh.distanceTo(Oh),Yh=Dh.distanceTo(Uh);this.boundingSphere.center=Dh,this.boundingSphere.radius=Math.max(Rh,Yh),typeof Me=="function"&&Me()}addVolumetricData(E,V,Me){E=new Ih.VolumeData(E,V),this.addIsosurface(E,Me)}finalize(){return _h.finalizeGeo(this.geo),this.geo.initTypedArrays(),this.geo}globj(E){if(this.renderedShapeObj&&(E.remove(this.renderedShapeObj),this.renderedShapeObj=null),!this.hidden){_h.finalizeGeo(this.geo),this.geo.initTypedArrays(),this.wireframe&&this.geo.setUpWireframe(),this.color!==void 0&&_h.updateColor(this.geo,this.color),this.shapeObj=new d.Object3D;var V=null;V=this.side==d.DoubleSide?new d.MeshDoubleLambertMaterial({wireframe:this.wireframe,side:this.side,transparent:this.opacity<1,opacity:this.opacity,wireframeLinewidth:this.linewidth,vertexColors:d.Coloring.VertexColors}):new d.MeshLambertMaterial({wireframe:this.wireframe,side:this.side,transparent:this.opacity<1,opacity:this.opacity,wireframeLinewidth:this.linewidth,vertexColors:d.Coloring.VertexColors});var Me=new d.Mesh(this.geo,V);if(this.shapeObj.add(Me),this.linegeo&&this.linegeo.vertices>0){var ot=new d.LineBasicMaterial({linewidth:this.linewidth,color:this.color}),Tl=new d.Line(this.linegeo,ot,d.LineStyle.LinePieces);this.shapeObj.add(Tl)}this.renderedShapeObj=this.shapeObj.clone(),E.add(this.renderedShapeObj)}}removegl(E){this.renderedShapeObj&&(this.renderedShapeObj.geometry!==void 0&&this.renderedShapeObj.geometry.dispose(),this.renderedShapeObj.material!==void 0&&this.renderedShapeObj.material.dispose(),E.remove(this.renderedShapeObj),this.renderedShapeObj=null),this.shapeObj=null}get position(){return this.boundingSphere.center}get x(){return this.boundingSphere.center.x}get y(){return this.boundingSphere.center.y}get z(){return this.boundingSphere.center.z}}function ep(kd){if(kd.vertexArr.length<64e3)return[kd];var E=[{vertexArr:[],normalArr:[],faceArr:[]}];kd.colorArr&&(E.colorArr=[]);var V=[],Me=[],ot=0,Tl=kd.faceArr;for(let Pl=0,Bl=Tl.length;Pl<Bl;Pl+=3){let Ml=E[ot];for(let Vl=0;Vl<3;Vl++){var ll=Tl[Pl+Vl];V[ll]!==ot&&(V[ll]=ot,Me[ll]=Ml.vertexArr.length,Ml.vertexArr.push(kd.vertexArr[ll]),kd.normalArr&&kd.normalArr[ll]&&Ml.normalArr.push(kd.normalArr[ll]),kd.colorArr&&kd.colorArr[ll]&&Ml.colorArr.push(kd.colorArr[ll])),Ml.faceArr.push(Me[ll])}Ml.vertexArr.length>=64e3&&(E.push({vertexArr:[],normalArr:[],faceArr:[]}),kd.colorArr&&(E.colorArr=[]),ot++)}return E}_h.ISDONE=2,_h.drawCustom=function(kd,E,V){var Me=V,ot=Me.vertexArr,Tl=Me.faceArr;ot.length!==0&&Tl.length!==0||console.warn("Error adding custom shape component: No vertices and/or face indices supplied!");var ll=V.color;ll===void 0&&(ll=kd.color),ll=L.CC.color(ll);for(var Pl=ep(Me),Bl=0,Ml=Pl.length;Bl<Ml;Bl++)_h.addCustomGeo(kd,E,Pl[Bl],Pl[Bl].colorArr?Pl[Bl].colorArr:ll,V.clickable)};let Of=0;function Qf(kd,E,V){var Me=V;return kd!==void 0&&(kd instanceof L.Color?Me=kd.scaled():(Me=L.CC.color(kd)).scaled!==void 0&&(Me=Me.scaled())),E!==void 0&&(Me.a=parseFloat(E)),Me}class xp{constructor(E,V){this.id=Of++,this.stylespec=V||{},this.canvas=document.createElement("canvas"),this.canvas.width=134,this.canvas.height=35,this.context=this.canvas.getContext("2d"),this.sprite=new d.Sprite,this.text=E,this.frame=this.stylespec.frame}getStyle(){return this.stylespec}hide(){this.sprite&&(this.sprite.visible=!1)}show(){this.sprite&&(this.sprite.visible=!0)}setContext(){var E=this.stylespec,V=E.useScreen!==void 0&&E.useScreen,Me=E.showBackground;Me!=="0"&&Me!=="false"||(Me=!1),Me===void 0&&(Me=!0);var ot=E.font?E.font:"sans-serif",Tl=parseInt(E.fontSize)?parseInt(E.fontSize):18,ll=Qf(E.fontColor,E.fontOpacity,{r:255,g:255,b:255,a:1}),Pl=E.padding?E.padding:4,Bl=E.borderThickness?E.borderThickness:0,Ml=Qf(E.backgroundColor,E.backgroundOpacity,{r:0,g:0,b:0,a:1}),Vl=Qf(E.borderColor,E.borderOpacity,Ml),Yl=E.position?E.position:{x:-10,y:1,z:1},zu=E.inFront===void 0||E.inFront;zu!=="false"&&zu!=="0"||(zu=!1);var Fu=E.alignment||d.SpriteAlignment.topLeft;typeof Fu=="string"&&Fu in d.SpriteAlignment&&(Fu=d.SpriteAlignment[Fu]);var mu="";E.bold&&(mu="bold "),this.context.font=mu+Tl+"px  "+ot;var Lu=this.context.measureText(this.text).width;Me||(Bl=0);var Du=Lu+2.5*Bl+2*Pl,Qu=1.25*Tl+2*Bl+2*Pl;if(E.backgroundImage){var ld=E.backgroundImage,vd=E.backgroundWidth?E.backgroundWidth:ld.width,Ld=E.backgroundHeight?E.backgroundHeight:ld.height;vd>Du&&(Du=vd),Ld>Qu&&(Qu=Ld)}if(this.canvas.width=Du,this.canvas.height=Qu,this.context.clearRect(0,0,this.canvas.width,this.canvas.height),mu="",E.bold&&(mu="bold "),this.context.font=mu+Tl+"px  "+ot,this.context.fillStyle="rgba("+Ml.r+","+Ml.g+","+Ml.b+","+Ml.a+")",this.context.strokeStyle="rgba("+Vl.r+","+Vl.g+","+Vl.b+","+Vl.a+")",E.backgroundGradient){let nh=this.context.createLinearGradient(0,Qu/2,Du,Qu/2),dh=G.Gradient.getGradient(E.backgroundGradient),vh=dh.range(),Xl=-1,$u=1;vh&&(Xl=vh[0],$u=vh[1]);let Wd=$u-Xl;for(let ih=0;ih<1.01;ih+=.1){let ph=Qf(dh.valueToHex(Xl+Wd*ih)),Dh="rgba("+ph.r+","+ph.g+","+ph.b+","+ph.a+")";nh.addColorStop(ih,Dh)}this.context.fillStyle=nh}this.context.lineWidth=Bl,Me&&(function(nh,dh,vh,Xl,$u,Wd,ih){nh.beginPath(),nh.moveTo(dh+Wd,vh),nh.lineTo(dh+Xl-Wd,vh),nh.quadraticCurveTo(dh+Xl,vh,dh+Xl,vh+Wd),nh.lineTo(dh+Xl,vh+$u-Wd),nh.quadraticCurveTo(dh+Xl,vh+$u,dh+Xl-Wd,vh+$u),nh.lineTo(dh+Wd,vh+$u),nh.quadraticCurveTo(dh,vh+$u,dh,vh+$u-Wd),nh.lineTo(dh,vh+Wd),nh.quadraticCurveTo(dh,vh,dh+Wd,vh),nh.closePath(),nh.fill(),ih&&nh.stroke()})(this.context,Bl,Bl,Du-2*Bl,Qu-2*Bl,6,Bl>0),E.backgroundImage&&this.context.drawImage(ld,0,0,Du,Qu),this.context.fillStyle="rgba("+ll.r+","+ll.g+","+ll.b+","+ll.a+")",this.context.fillText(this.text,Bl+Pl,Tl+Bl+Pl,Lu);var Ad=new d.Texture(this.canvas);Ad.needsUpdate=!0,this.sprite.material=new d.SpriteMaterial({map:Ad,useScreenCoordinates:V,alignment:Fu,depthTest:!zu,screenOffset:E.screenOffset||null}),this.sprite.scale.set(1,1,1),this.sprite.position.set(Yl.x,Yl.y,Yl.z)}dispose(){this.sprite.material.map!==void 0&&this.sprite.material.map.dispose(),this.sprite.material!==void 0&&this.sprite.material.dispose()}}class Zf{static interpolateArray(E,V){function Me(Yl,zu,Fu){return Yl+(zu-Yl)*Fu}var ot=[],Tl=(E.length-1)/(V-1);ot[0]=E[0];for(var ll=1;ll<V-1;ll++){var Pl=ll*Tl,Bl=Math.floor(Pl),Ml=Math.ceil(Pl),Vl=Pl-Bl;ot[ll]=Me(E[Bl],E[Ml],Vl)}return ot[V-1]=E[E.length-1],ot}constructor(E,V,Me){this.hidden=!1,this.boundingSphere=new w.Sphere,this.renderedShapeObj=null,this.shapeObj=null,this.subsamples=5,this.data=null,this.transferfunctionbuffer=[],this.min=0,this.max=0,V=V||{};var ot,Tl,ll,Pl,Bl,Ml,Vl,Yl,zu,Fu,mu=Object.assign([],V.transferfn);this.subsamples=V.subsamples||5,mu.forEach(function(Du){Du.value=parseFloat(Du.value)}),mu.sort(function(Du,Qu){return Du.value-Qu.value}),this.min=mu[0].value,mu.length==0&&mu.push(mu[0]),this.max=mu[mu.length-1].value;for(let Du=0;Du<mu.length-1;Du++)if(ll=L.CC.color(mu[Du].color),Pl=L.CC.color(mu[Du+1].color),zu=mu[Du].opacity,Fu=mu[Du+1].opacity,(ot=Math.floor(256*(mu[Du].value-this.min)/(this.max-this.min)))!=(Tl=Math.floor(256*(mu[Du+1].value-this.min)/(this.max-this.min)))){Bl=Zf.interpolateArray([255*ll.r,255*Pl.r],Tl-ot),Ml=Zf.interpolateArray([255*ll.g,255*Pl.g],Tl-ot),Vl=Zf.interpolateArray([255*ll.b,255*Pl.b],Tl-ot),Yl=Zf.interpolateArray([255*zu,255*Fu],Tl-ot);for(let Qu=0;Qu<Bl.length;Qu++)this.transferfunctionbuffer.push(Bl[Qu]),this.transferfunctionbuffer.push(Ml[Qu]),this.transferfunctionbuffer.push(Vl[Qu]),this.transferfunctionbuffer.push(Yl[Qu])}if(this.transferfunctionbuffer=new Uint8ClampedArray(this.transferfunctionbuffer),E.matrix){let Du=new y.Vector3(0,0,0),Qu=new y.Vector3(E.size.x,E.size.y,E.size.z),ld=new y.Vector3(1,1,1);Du.applyMatrix4(E.matrix),Qu.applyMatrix4(E.matrix),ld.applyMatrix4(E.matrix).sub(Du),this.extent=[[Du.x,Du.y,Du.z],[Qu.x,Qu.y,Qu.z]];for(let nh=1;nh<7;nh++)Qu.x=1&nh?E.size.x:0,Qu.y=2&nh?E.size.y:0,Qu.z=4&nh?E.size.z:0,Qu.applyMatrix4(E.matrix),this.extent[0][0]=Math.min(this.extent[0][0],Qu.x),this.extent[0][1]=Math.min(this.extent[0][1],Qu.y),this.extent[0][2]=Math.min(this.extent[0][2],Qu.z),this.extent[1][0]=Math.max(this.extent[1][0],Qu.x),this.extent[1][1]=Math.max(this.extent[1][1],Qu.y),this.extent[1][2]=Math.max(this.extent[1][2],Qu.z);let vd=Qu.x-Du.x,Ld=Qu.y-Du.y,Ad=Qu.z-Du.z;this.maxdepth=Math.sqrt(vd*vd+Ld*Ld+Ad*Ad),this.minunit=Math.min(Math.min(ld.x,ld.y),ld.z),this.texmatrix=new y.Matrix4().identity().scale({x:E.size.x,y:E.size.y,z:E.size.z}),this.texmatrix=this.texmatrix.multiplyMatrices(E.matrix,this.texmatrix),this.texmatrix=this.texmatrix.getInverse(this.texmatrix)}else{this.texmatrix=new y.Matrix4().identity();let Du=E.unit.x*E.size.x,Qu=E.unit.y*E.size.y,ld=E.unit.z*E.size.z;this.texmatrix.makeTranslation(-E.origin.x/Du,-E.origin.y/Qu,-E.origin.z/ld),this.texmatrix.scale({x:1/Du,y:1/Qu,z:1/ld}),this.minunit=Math.min(Math.min(E.unit.x,E.unit.y),E.unit.z),this.extent=[[E.origin.x,E.origin.y,E.origin.z],[E.origin.x+Du,E.origin.y+Qu,E.origin.z+ld]],this.maxdepth=Math.sqrt(Du*Du+Qu*Qu+ld*ld)}var Lu=new _h({});if(Lu.addBox({corner:{x:this.extent[0][0],y:this.extent[0][1],z:this.extent[0][2]},dimensions:{w:this.extent[1][0]-this.extent[0][0],h:this.extent[1][1]-this.extent[0][1],d:this.extent[1][2]-this.extent[0][2]}}),this.geo=Lu.finalize(),this.boundingSphere.center=new y.Vector3((this.extent[0][0]+this.extent[1][0])/2,(this.extent[0][1]+this.extent[1][1])/2,(this.extent[0][2]+this.extent[1][2])/2),this.boundingSphere.radius=this.maxdepth/2,V.coords===void 0&&V.selection!==void 0&&(Me?V.coords=Me.selectedAtoms(V.selection):console.log("Need to provide viewer to volumetric renderer if selection specified.")),V.coords!==void 0&&V.seldist!==void 0){let Du=new Uint8Array(E.data.length),Qu=V.seldist,ld=Qu*Qu;for(let vd=0,Ld=V.coords.length;vd<Ld;vd++){let Ad=V.coords[vd],nh=Ad.x-Qu,dh=Ad.y-Qu,vh=Ad.z-Qu,Xl=Ad.x+Qu,$u=Ad.y+Qu,Wd=Ad.z+Qu;if(E.getIndex(nh,dh,vh)>=0||E.getIndex(Xl,$u,Wd)>=0)for(let ih=nh;ih<Xl;ih+=this.minunit)for(let ph=dh;ph<$u;ph+=this.minunit)for(let Dh=vh;Dh<Wd;Dh+=this.minunit){let Uh=E.getIndex(ih,ph,Dh);Uh>=0&&!Du[Uh]&&(ih-Ad.x)*(ih-Ad.x)+(ph-Ad.y)*(ph-Ad.y)+(Dh-Ad.z)*(Dh-Ad.z)<ld&&(Du[Uh]=1)}}for(let vd=0,Ld=E.data.length;vd<Ld;vd++)Du[vd]==0&&(E.data[vd]=1/0)}this.data=E}globj(E){if(this.renderedShapeObj&&(E.remove(this.renderedShapeObj),this.renderedShapeObj=null),!this.hidden){this.shapeObj=new d.Object3D;var V,Me=new d.Texture(this.data,!0),ot=new d.Texture(this.transferfunctionbuffer,!1);Me.needsUpdate=!0,ot.needsUpdate=!0,ot.flipY=!1,V=new d.VolumetricMaterial({transferfn:ot,transfermin:this.min,transfermax:this.max,map:Me,extent:this.extent,maxdepth:this.maxdepth,texmatrix:this.texmatrix,unit:this.minunit,subsamples:this.subsamples});var Tl=new d.Mesh(this.geo,V);this.shapeObj.add(Tl),this.renderedShapeObj=this.shapeObj.clone(),E.add(this.renderedShapeObj)}}removegl(E){this.renderedShapeObj&&(this.renderedShapeObj.geometry!==void 0&&this.renderedShapeObj.geometry.dispose(),this.renderedShapeObj.material!==void 0&&this.renderedShapeObj.material.dispose(),E.remove(this.renderedShapeObj),this.renderedShapeObj=null),this.shapeObj=null}get position(){return this.boundingSphere.center}get x(){return this.boundingSphere.center.x}get y(){return this.boundingSphere.center.y}get z(){return this.boundingSphere.center.z}}const vp=16;class Nh extends Array{constructor(E){super(...E)}getSymmetries(){if(this.length==0)return[];let E=this[0];return E.symmetries===void 0&&this.setSymmetries([new y.Matrix4]),E.symmetries}setSymmetries(E){E===void 0&&(E=[new y.Matrix4]);for(let V of this)V.symmetries=E,V.finished=!1}}class Rp{getWidth(){let E=this.container,V=E.offsetWidth;if(V==0&&E.style.display==="none"){let Me=E.style.position,ot=E.style.visibility;E.style.display="block",E.style.visibility="hidden",E.style.position="absolute",V=E.offsetWidth,E.style.display="none",E.style.visibility=ot,E.style.position=Me}return V}getHeight(){let E=this.container,V=E.offsetHeight;if(V==0&&E.style.display==="none"){let Me=E.style.position,ot=E.style.visibility;E.style.display="block",E.style.visibility="hidden",E.style.position="absolute",V=E.offsetHeight,E.style.display="none",E.style.visibility=ot,E.style.position=Me}return V}setupRenderer(){let E=Object.assign(Object.assign({},this.config),{preserveDrawingBuffer:!0,premultipliedAlpha:!1,containerWidth:this.WIDTH,containerHeight:this.HEIGHT});this.renderer=new d.Renderer(E),this.renderer.domElement.style.width="100%",this.renderer.domElement.style.height="100%",this.renderer.domElement.style.padding="0",this.renderer.domElement.style.position="absolute",this.renderer.domElement.style.top="0px",this.renderer.domElement.style.left="0px",this.renderer.domElement.style.zIndex="0"}initializeScene(){this.scene=new d.Scene,this.scene.fog=new d.Fog(this.bgColor,100,200),this.modelGroup=new d.Object3D,this.rotationGroup=new d.Object3D,this.rotationGroup.useQuaternion=!0,this.rotationGroup.quaternion=new y.Quaternion(0,0,0,1),this.rotationGroup.add(this.modelGroup),this.scene.add(this.rotationGroup);var E=new d.Light(16777215);E.position=new y.Vector3(.2,.2,1).normalize(),E.intensity=1,this.scene.add(E)}_handleLostContext(E){const V=function(Me){const ot=Me.getBoundingClientRect();return!(ot.right<0||ot.bottom<0||ot.top>(window.innerHeight||document.documentElement.clientHeight)||ot.left>(window.innerWidth||document.documentElement.clientWidth))};if(V(this.container)){let Me=0;for(let ot of document.getElementsByTagName("canvas"))if(V(ot)&&ot._3dmol_viewer!=null&&(ot._3dmol_viewer.resize(),Me+=1,Me>=vp))break}}initContainer(E){this.container=E,this.WIDTH=this.getWidth(),this.HEIGHT=this.getHeight(),this.ASPECT=this.renderer.getAspect(this.WIDTH,this.HEIGHT),this.renderer.setSize(this.WIDTH,this.HEIGHT),this.container.append(this.renderer.domElement),this.glDOM=this.renderer.domElement,this.glDOM._3dmol_viewer=this,this.glDOM.addEventListener("webglcontextlost",this._handleLostContext.bind(this)),this.nomouse||(this.glDOM.addEventListener("mousedown",this._handleMouseDown.bind(this),{passive:!1}),this.glDOM.addEventListener("touchstart",this._handleMouseDown.bind(this),{passive:!1}),this.glDOM.addEventListener("wheel",this._handleMouseScroll.bind(this),{passive:!1}),this.glDOM.addEventListener("mousemove",this._handleMouseMove.bind(this),{passive:!1}),this.glDOM.addEventListener("touchmove",this._handleMouseMove.bind(this),{passive:!1}),this.glDOM.addEventListener("contextmenu",this._handleContextMenu.bind(this),{passive:!1}))}decAnim(){this.animated--,this.animated<0&&(this.animated=0)}incAnim(){this.animated++}nextSurfID(){var E=0;for(let Me in this.surfaces)if(this.surfaces.hasOwnProperty(Me)){var V=parseInt(Me);isNaN(V)||V>E&&(E=V)}return E+1}setSlabAndFog(){let E=this.camera.position.z-this.rotationGroup.position.z;E<1&&(E=1),this.camera.near=E+this.slabNear,!this.camera.ortho&&this.camera.near<1&&(this.camera.near=1),this.camera.far=E+this.slabFar,this.camera.near+1>this.camera.far&&(this.camera.far=this.camera.near+1),this.camera.fov=this.fov,this.camera.right=E*Math.tan(Math.PI/180*this.fov),this.camera.left=-this.camera.right,this.camera.top=this.camera.right/this.ASPECT,this.camera.bottom=-this.camera.top,this.camera.updateProjectionMatrix(),this.scene.fog.near=this.camera.near+this.fogStart*(this.camera.far-this.camera.near),this.scene.fog.far=this.camera.near+this.fogEnd*(this.camera.far-this.camera.near),this.config.disableFog&&(this.scene.fog.near=this.scene.fog.far)}show(E){if(this.renderer.setViewport(),this.scene&&(this.setSlabAndFog(),this.renderer.render(this.scene,this.camera),this.viewChangeCallback&&this.viewChangeCallback(this._viewer.getView()),!E&&this.linkedViewers.length>0))for(var V=this._viewer.getView(),Me=0;Me<this.linkedViewers.length;Me++)this.linkedViewers[Me].setView(V,!0)}updateClickables(){this.clickables.splice(0,this.clickables.length),this.hoverables.splice(0,this.hoverables.length),this.contextMenuEnabledObjects.splice(0,this.contextMenuEnabledObjects.length);for(let E=0,V=this.models.length;E<V;E++){let Me=this.models[E];if(Me){let ot=Me.selectedAtoms({clickable:!0}),Tl=Me.selectedAtoms({hoverable:!0}),ll=Me.selectedAtoms({contextMenuEnabled:!0});for(let Pl=0;Pl<Tl.length;Pl++)this.hoverables.push(Tl[Pl]);for(let Pl=0;Pl<ot.length;Pl++)this.clickables.push(ot[Pl]);for(let Pl=0;Pl<ll.length;Pl++)this.contextMenuEnabledObjects.push(ll[Pl])}}for(let E=0,V=this.shapes.length;E<V;E++){let Me=this.shapes[E];Me&&Me.clickable&&this.clickables.push(Me),Me&&Me.hoverable&&this.hoverables.push(Me),Me&&Me.contextMenuEnabled&&this.contextMenuEnabledObjects.push(Me)}}handleClickSelection(E,V,Me){let ot=this.targetedObjects(E,V,this.clickables);if(ot.length){var Tl=ot[0].clickable;Tl.callback!==void 0&&(typeof Tl.callback!="function"&&(Tl.callback=(0,H.makeFunction)(Tl.callback)),typeof Tl.callback=="function")&&(this.mouseButton===3&&this.contextMenuEnabledObjects.includes(Tl)&&this.userContextMenuHandler||Tl.callback(Tl,this._viewer,Me,this.container,ot))}}canvasOffset(){let E=this.glDOM,V=E.getBoundingClientRect(),Me=E.ownerDocument,ot=Me.documentElement,Tl=Me.defaultView;return{top:V.top+Tl.pageYOffset-ot.clientTop,left:V.left+Tl.pageXOffset-ot.clientLeft}}setHover(E,V,Me){this.current_hover!=E&&(this.current_hover&&(typeof this.current_hover.unhover_callback!="function"&&(this.current_hover.unhover_callback=(0,H.makeFunction)(this.current_hover.unhover_callback)),this.current_hover.unhover_callback(this.current_hover,this._viewer,V,this.container,Me)),this.current_hover=E,E&&E.hover_callback!==void 0&&(typeof E.hover_callback!="function"&&(E.hover_callback=(0,H.makeFunction)(E.hover_callback)),typeof E.hover_callback=="function"&&E.hover_callback(E,this._viewer,V,this.container,Me)))}handleHoverSelection(E,V,Me){if(this.hoverables.length==0)return;let ot=this.targetedObjects(E,V,this.hoverables);if(ot.length){var Tl=ot[0].clickable;this.setHover(Tl,Me,ot),this.current_hover=Tl}else this.setHover(null)}handleHoverContinue(E,V){let Me=this.targetedObjects(E,V,this.hoverables);Me.length!=0&&Me[0]!==void 0||this.setHover(null),Me[0]!==void 0&&Me[0].clickable!==this.current_hover&&this.setHover(null)}closeEnoughForClick(E,{allowTolerance:V=E.targetTouches,tolerance:Me=5}={}){const ot=this.getX(E),Tl=this.getY(E);if(V){const ll=Math.abs(ot-this.mouseStartX),Pl=Math.abs(Tl-this.mouseStartY);return ll<=Me&&Pl<=Me}return ot===this.mouseStartX&&Tl===this.mouseStartY}calcTouchDistance(E){var V=E.targetTouches[0].pageX-E.targetTouches[1].pageX,Me=E.targetTouches[0].pageY-E.targetTouches[1].pageY;return Math.hypot(V,Me)}getX(E){var V=E.pageX;return V==null&&(V=E.pageX),E.targetTouches&&E.targetTouches[0]?V=E.targetTouches[0].pageX:E.changedTouches&&E.changedTouches[0]&&(V=E.changedTouches[0].pageX),V}getY(E){var V=E.pageY;return V==null&&(V=E.pageY),E.targetTouches&&E.targetTouches[0]?V=E.targetTouches[0].pageY:E.changedTouches&&E.changedTouches[0]&&(V=E.changedTouches[0].pageY),V}isInViewer(E,V){if(this.viewers!=null){var Me=this.WIDTH/this.cols,ot=this.HEIGHT/this.rows,Tl=this.canvasOffset(),ll=E-Tl.left,Pl=V-Tl.top,Bl=this.rows-Math.floor(Pl/ot)-1,Ml=Math.floor(ll/Me);if(Bl!=this.row||Ml!=this.col)return!1}return!0}adjustZoomToLimits(E){if(this.config.lowerZoomLimit&&this.config.lowerZoomLimit>0){let V=this.CAMERA_Z-this.config.lowerZoomLimit;E>V&&(E=V)}if(this.config.upperZoomLimit&&this.config.upperZoomLimit>0){let V=this.CAMERA_Z-this.config.upperZoomLimit;E<V&&(E=V)}return E>this.CAMERA_Z-1&&(E=this.CAMERA_Z-1),E}static slerp(E,V,Me){if(Me==1)return V.clone();if(Me==0)return E.clone();let ot=E.x*V.x+E.y*V.y+E.z*V.z+E.w*V.w;if(ot>.9995){let Vl=new y.Quaternion(E.x+Me*(V.x-E.x),E.y+Me*(V.y-E.y),E.z+Me*(V.z-E.z),E.w+Me*(V.w-E.w));return Vl.normalize(),Vl}ot<0&&(V=V.clone().multiplyScalar(-1),ot=-ot),ot>1?ot=1:ot<-1&&(ot=-1);var Tl=Math.acos(ot)*Me,ll=V.clone();ll.sub(E.clone().multiplyScalar(ot)),ll.normalize();var Pl=Math.cos(Tl),Bl=Math.sin(Tl),Ml=new y.Quaternion(E.x*Pl+ll.x*Bl,E.y*Pl+ll.y*Bl,E.z*Pl+ll.z*Bl,E.w*Pl+ll.w*Bl);return Ml.normalize(),Ml}constructor(E,V={}){if(this.nomouse=!1,this.glDOM=null,this.models=[],this.surfaces={},this.shapes=[],this.labels=[],this.clickables=[],this.hoverables=[],this.contextMenuEnabledObjects=[],this.current_hover=null,this.hoverDuration=500,this.longTouchDuration=1e3,this.viewer_frame=0,this.viewChangeCallback=null,this.stateChangeCallback=null,this.NEAR=1,this.FAR=800,this.CAMERA_Z=150,this.fov=20,this.linkedViewers=[],this.renderer=null,this.control_all=!1,this.scene=null,this.rotationGroup=null,this.modelGroup=null,this.fogStart=.4,this.fogEnd=1,this.slabNear=-50,this.slabFar=50,this.cq=new y.Quaternion(0,0,0,1),this.dq=new y.Quaternion(0,0,0,1),this.animated=0,this.animationTimers=new Set,this.isDragging=!1,this.mouseStartX=0,this.mouseStartY=0,this.touchDistanceStart=0,this.touchHold=!1,this.currentModelPos=0,this.cz=0,this.cslabNear=0,this.cslabFar=0,this.userContextMenuHandler=null,this.config=V,this.callback=this.config.callback,this.defaultcolors=this.config.defaultcolors,this.defaultcolors||(this.defaultcolors=L.elementColors.defaultColors),this.nomouse=!!this.config.nomouse,this.bgColor=0,this.config.backgroundColor=this.config.backgroundColor||"#ffffff",this.config.backgroundColor!==void 0&&(this.bgColor=L.CC.color(this.config.backgroundColor).getHex()),this.config.backgroundAlpha=this.config.backgroundAlpha==null?1:this.config.backgroundAlpha,this.camerax=0,this.config.camerax!==void 0&&(this.camerax=typeof this.config.camerax=="string"?parseFloat(this.config.camerax):this.config.camerax),this._viewer=this,this.container=E,this.config.hoverDuration!=null&&(this.hoverDuration=this.config.hoverDuration),this.config.antialias===void 0&&(this.config.antialias=!0),this.config.cartoonQuality===void 0&&(this.config.cartoonQuality=10),this.WIDTH=this.getWidth(),this.HEIGHT=this.getHeight(),this.setupRenderer(),this.row=this.config.row==null?0:this.config.row,this.col=this.config.col==null?0:this.config.col,this.cols=this.config.cols,this.rows=this.config.rows,this.viewers=this.config.viewers,this.control_all=this.config.control_all,this.ASPECT=this.renderer.getAspect(this.WIDTH,this.HEIGHT),this.camera=new d.Camera(this.fov,this.ASPECT,this.NEAR,this.FAR,this.config.orthographic),this.camera.position=new y.Vector3(this.camerax,0,this.CAMERA_Z),this.lookingAt=new y.Vector3,this.camera.lookAt(this.lookingAt),this.raycaster=new d.Raycaster(new y.Vector3(0,0,0),new y.Vector3(0,0,0)),this.projector=new d.Projector,this.initializeScene(),this.renderer.setClearColorHex(this.bgColor,this.config.backgroundAlpha),this.scene.fog.color=L.CC.color(this.bgColor),document.body.addEventListener("mouseup",this._handleMouseUp.bind(this)),document.body.addEventListener("touchend",this._handleMouseUp.bind(this)),this.initContainer(this.container),this.config.style&&this.setViewStyle(this.config),window.addEventListener("resize",this.resize.bind(this)),window.ResizeObserver!==void 0&&(this.divwatcher=new window.ResizeObserver(this.resize.bind(this)),this.divwatcher.observe(this.container)),window.IntersectionObserver!==void 0){let Me=(ot,Tl)=>{ot.forEach(ll=>{ll.isIntersecting&&this.resize()})};this.intwatcher=new window.IntersectionObserver(Me),this.intwatcher.observe(this.container)}try{typeof this.callback=="function"&&this.callback(this)}catch(Me){console.log("error with glviewer callback: "+Me)}}targetedObjects(E,V,Me){var ot={x:E,y:V,z:-1};return Array.isArray(Me)||(Me=this.selectedAtoms(Me)),Me.length==0?[]:(this.raycaster.setFromCamera(ot,this.camera),this.raycaster.intersectObjects(this.modelGroup,Me))}modelToScreen(E){let V=!1;Array.isArray(E)||(E=[E],V=!0);let Me=this.renderer.getXRatio(),ot=this.renderer.getYRatio(),Tl=this.col,ll=this.row,Pl=Tl*(this.WIDTH/Me),Bl=(ot-ll-1)*(this.HEIGHT/ot),Ml=[],Vl=this.canvasOffset();return E.forEach(Yl=>{let zu=new y.Vector3(Yl.x,Yl.y,Yl.z);zu.applyMatrix4(this.modelGroup.matrixWorld),this.projector.projectVector(zu,this.camera);let Fu=this.WIDTH/Me*(zu.x+1)/2+Vl.left+Pl,mu=-this.HEIGHT/ot*(zu.y-1)/2+Vl.top+Bl;Ml.push({x:Fu,y:mu})}),V&&(Ml=Ml[0]),Ml}screenOffsetToModel(E,V,Me){var ot=E/this.WIDTH,Tl=V/this.HEIGHT,ll=Me===void 0?this.rotationGroup.position.z:Me,Pl=this.rotationGroup.quaternion,Bl=new y.Vector3(0,0,ll);return this.projector.projectVector(Bl,this.camera),Bl.x+=2*ot,Bl.y-=2*Tl,this.projector.unprojectVector(Bl,this.camera),Bl.z=0,Bl.applyQuaternion(Pl),Bl}screenToModelDistance(E,V){let Me=this.canvasOffset(),ot=new y.Vector3(V.x,V.y,V.z);ot.applyMatrix4(this.modelGroup.matrixWorld);let Tl=ot.clone();this.projector.projectVector(ot,this.camera);let ll=new y.Vector3(2*(E.x-Me.left)/this.WIDTH-1,2*(E.y-Me.top)/-this.HEIGHT+1,ot.z);return this.projector.unprojectVector(ll,this.camera),ll.distanceTo(Tl)}setViewChangeCallback(E){typeof E!="function"&&E!=null||(this.viewChangeCallback=E)}setStateChangeCallback(E){typeof E!="function"&&E!=null||(this.stateChangeCallback=E)}getConfig(){return this.config}setConfig(E){this.config=E,E.ambientOcclusion&&this.renderer.enableAmbientOcclusion(E.ambientOcclusion)}getInternalState(){var E={models:[],surfaces:[],shapes:[],labels:[]};for(let V=0;V<this.models.length;V++)this.models[V]&&(E.models[V]=this.models[V].getInternalState());return E}setInternalState(E){this.clear();var V=E.models;for(let Me=0;Me<V.length;Me++)V[Me]&&(this.models[Me]=new b0(Me,void 0,this),this.models[Me].setInternalState(V[Me]));this.render()}setZoomLimits(E,V){E!==void 0&&(this.config.lowerZoomLimit=E),V&&(this.config.upperZoomLimit=V),this.rotationGroup.position.z=this.adjustZoomToLimits(this.rotationGroup.position.z),this.show()}setCameraParameters(E){E.fov!==void 0&&(this.fov=E.fov,this.camera.fov=this.fov),E.z!==void 0&&(this.CAMERA_Z=E.z,this.camera.z=this.CAMERA_Z),E.orthographic!==void 0&&(this.camera.ortho=E.orthographic),this.setSlabAndFog()}_handleMouseDown(E){if(E.preventDefault(),!this.scene)return;var V=this.getX(E),Me=this.getY(E);if(V===void 0)return;this.isDragging=!0,this.mouseButton=E.which,this.mouseStartX=V,this.mouseStartY=Me,this.touchHold=!0,this.touchDistanceStart=0,E.targetTouches&&E.targetTouches.length==2&&(this.touchDistanceStart=this.calcTouchDistance(E)),this.cq=this.rotationGroup.quaternion.clone(),this.cz=this.rotationGroup.position.z,this.currentModelPos=this.modelGroup.position.clone(),this.cslabNear=this.slabNear,this.cslabFar=this.slabFar;let ot=this;E.targetTouches&&E.targetTouches.length===1&&(this.longTouchTimeout=setTimeout(function(){if(ot.touchHold==1){ot.glDOM=ot.renderer.domElement;const Tl=E.targetTouches[0],ll=new PointerEvent("contextmenu",Object.assign(Object.assign({},E),{pageX:Tl.pageX,pageY:Tl.pageY,screenX:Tl.screenX,screenY:Tl.screenY,clientX:Tl.clientX,clientY:Tl.clientY}));ot.glDOM.dispatchEvent(ll)}},this.longTouchDuration))}_handleMouseUp(E){if(this.touchHold=!1,this.isDragging&&this.scene){var V=this.getX(E),Me=this.getY(E);if(this.closeEnoughForClick(E)&&this.isInViewer(V,Me)){let ot=this.mouseXY(V,Me);this.handleClickSelection(ot.x,ot.y,E)}}this.isDragging=!1}_handleMouseScroll(E){if(E.preventDefault(),this.scene){var V=this.getX(E),Me=this.getY(E);if(V!==void 0&&(this.control_all||this.isInViewer(V,Me))){var ot=.85*(this.CAMERA_Z-this.rotationGroup.position.z),Tl=1;if(E.ctrlKey&&(Tl=-1),E.detail)this.rotationGroup.position.z+=Tl*ot*E.detail/10;else if(E.wheelDelta){let ll=600*E.wheelDelta/(E.wheelDelta+600);this.rotationGroup.position.z-=Tl*ot*ll/400}this.rotationGroup.position.z=this.adjustZoomToLimits(this.rotationGroup.position.z),this.show()}}}pngURI(){return this.getCanvas().toDataURL("image/png")}apngURI(E){let V=this;return E=E||1,new Promise(function(Me){let ot=0,Tl=V.viewChangeCallback,ll=[],Pl=[],Bl=Date.now();V.viewChangeCallback=function(){Pl.push(Date.now()-Bl),Bl=Date.now(),ll.push(new Promise(Ml=>{V.getCanvas().toBlob(function(Vl){Vl.arrayBuffer().then(Ml)},"image/png")})),ot+=1,ot==E&&(V.viewChangeCallback=Tl,Promise.all(ll).then(Ml=>{let Vl=[];for(let Du=0;Du<Ml.length;Du++){let Qu=(0,f.decode)(Ml[Du]);Vl.push((0,f.toRGBA8)(Qu)[0])}let Yl=V.getCanvas().width,zu=V.getCanvas().height,Fu=(0,f.encode)(Vl,Yl,zu,0,Pl),mu=new Blob([Fu],{type:"image/png"}),Lu=new FileReader;Lu.onload=function(Du){Me(Du.target.result)},Lu.readAsDataURL(mu)}))}})}getCanvas(){return this.glDOM}getRenderer(){return this.renderer}setHoverDuration(E){this.hoverDuration=E}mouseXY(E,V){let Me=this.canvasOffset(),ot=this.renderer.getXRatio(),Tl=this.renderer.getYRatio(),ll=this.col,Pl=this.row,Bl=ll*(this.WIDTH/ot),Ml=(Tl-Pl-1)*(this.HEIGHT/Tl);return{x:(E-Me.left-Bl)/(this.WIDTH/ot)*2-1,y:-(V-Me.top-Ml)/(this.HEIGHT/Tl)*2+1}}_handleMouseMove(E){clearTimeout(this.hoverTimeout),E.preventDefault();let V=this.getX(E),Me=this.getY(E);if(V===void 0)return;let ot=this.renderer.getXRatio(),Tl=this.renderer.getYRatio(),ll=this.mouseXY(V,Me),Pl=this;this.current_hover!==null&&this.handleHoverContinue(ll.x,ll.y);var Bl=0;if((this.control_all||this.isInViewer(V,Me))&&this.scene&&(this.hoverables.length>0&&(this.hoverTimeout=setTimeout(function(){Pl.handleHoverSelection(ll.x,ll.y,E)},this.hoverDuration)),this.isDragging)){E.targetTouches&&(E.targetTouches.length>1||E.targetTouches.length===1&&!this.closeEnoughForClick(E))&&clearTimeout(this.longTouchTimeout);var Ml=(V-this.mouseStartX)/this.WIDTH,Vl=(Me-this.mouseStartY)/this.HEIGHT;this.touchDistanceStart!=0&&E.targetTouches&&E.targetTouches.length==2?(Bl=2,Vl=2*(this.calcTouchDistance(E)-this.touchDistanceStart)/(this.WIDTH+this.HEIGHT)):E.targetTouches&&E.targetTouches.length==3&&(Bl=1),Ml*=ot,Vl*=Tl;var Yl,zu=Math.hypot(Ml,Vl);if(Bl==3||this.mouseButton==3&&E.ctrlKey)this.slabNear=this.cslabNear+100*Ml,this.slabFar=this.cslabFar-100*Vl;else if(Bl==2||this.mouseButton==3||E.shiftKey)(Yl=.85*(this.CAMERA_Z-this.rotationGroup.position.z))<80&&(Yl=80),this.rotationGroup.position.z=this.cz+Vl*Yl,this.rotationGroup.position.z=this.adjustZoomToLimits(this.rotationGroup.position.z);else if(Bl==1||this.mouseButton==2||E.ctrlKey){var Fu=this.screenOffsetToModel(ot*(V-this.mouseStartX),Tl*(Me-this.mouseStartY));this.modelGroup.position.addVectors(this.currentModelPos,Fu)}else if((Bl===0||this.mouseButton==1)&&zu!==0){var mu=Math.sin(zu*Math.PI)/zu;this.dq.x=Math.cos(zu*Math.PI),this.dq.y=0,this.dq.z=mu*Ml,this.dq.w=-mu*Vl,this.rotationGroup.quaternion.set(1,0,0,0),this.rotationGroup.quaternion.multiply(this.dq),this.rotationGroup.quaternion.multiply(this.cq)}this.show()}}_handleContextMenu(E){if(E.preventDefault(),this.closeEnoughForClick(E)){var V=this.mouseStartX,Me=this.mouseStartY,ot=this.canvasOffset();let ll=this.mouseXY(V,Me),Pl=ll.x,Bl=ll.y,Ml=this.targetedObjects(Pl,Bl,this.contextMenuEnabledObjects);var Tl=null;Ml.length&&(Tl=Ml[0].clickable),ot=this.canvasOffset(),V=this.mouseStartX-ot.left,Me=this.mouseStartY-ot.top,this.userContextMenuHandler&&(this.userContextMenuHandler(Tl,V,Me,Ml,E),this.isDragging=!1)}}setContainer(E){let V=(0,H.getElement)(E)||this.container;return this.initContainer(V),this}setBackgroundColor(E,V){(V===void 0||V<0||V>1)&&(V=1);var Me=L.CC.color(E);return this.scene.fog.color=Me,this.bgColor=Me.getHex(),this.renderer.setClearColorHex(Me.getHex(),V),this.show(),this}setProjection(E){this.camera.ortho=E==="orthographic",this.setSlabAndFog()}setViewStyle(E){if((E=E||{}).style=E.style||"",E.style.includes("outline")?this.renderer.enableOutline(E):this.renderer.disableOutline(),E.style.includes("ambientOcclusion")){var V={};E.strength&&(V.strength=E.strength),E.radius&&(V.radius=E.radius),this.renderer.enableAmbientOcclusion(V)}else this.renderer.disableAmbientOcclusion();return this}updateSize(){this.renderer.setSize(this.WIDTH,this.HEIGHT),this.ASPECT=this.renderer.getAspect(this.WIDTH,this.HEIGHT),this.renderer.setSize(this.WIDTH,this.HEIGHT),this.camera.aspect=this.ASPECT,this.camera.updateProjectionMatrix()}setWidth(E){return this.WIDTH=E||this.WIDTH,this.updateSize(),this}setHeight(E){return this.HEIGHT=E||this.HEIGHT,this.updateSize(),this}resize(){this.WIDTH=this.getWidth(),this.HEIGHT=this.getHeight();let E=!1;if(this.renderer.isLost()&&this.WIDTH>0&&this.HEIGHT>0){let V=!1,Me=this.container.querySelector("canvas");Me&&Me!=this.renderer.getCanvas()?this.config.canvas=Me:(Me.remove(),this.config&&this.config.canvas!=null&&(delete this.config.canvas,V=!0)),this.setupRenderer(),this.initContainer(this.container),this.renderer.setClearColorHex(this.bgColor,this.config.backgroundAlpha),E=!0,V&&(this.config.canvas=this.renderer.getCanvas())}if(this.WIDTH==0||this.HEIGHT==0?this.animated&&this._viewer.pauseAnimate():this.animated&&this._viewer.resumeAnimate(),this.updateSize(),E){let V=this.renderer.supportedExtensions();if(V.regen=!0,this.viewers)for(let Me=0,ot=this.viewers.length;Me<ot;Me++)for(let Tl=0,ll=this.viewers[Me].length;Tl<ll;Tl++)this.viewers[Me][Tl].render(null,V);this._viewer.render(null,V)}else this.WIDTH>0&&this.HEIGHT>0&&this.show();return this}getModel(E){return E===void 0?this.models.length==0?null:this.models[this.models.length-1]:E instanceof b0?E:E in this.models?this.models[E]:this.models.length==0?null:this.models[this.models.length-1]}spin(E,V=1,Me=!1){if(clearInterval(this.spinInterval),E===void 0&&(E="y"),typeof E=="boolean"){if(!E)return;E="y"}Array.isArray(E)&&(E={x:E[0],y:E[1],z:E[2]});var ot=this;this.spinInterval=setInterval(function(){!ot.getCanvas().isConnected&&ot.renderer.isLost()&&clearInterval(ot.spinInterval),(!Me||ot.container.checkVisibility&&ot.container.checkVisibility())&&ot.rotate(1*V,E)},25)}animateMotion(E,V,Me,ot,Tl,ll){var Pl=Math.ceil(E/20);Pl<1&&(Pl=1),this.incAnim();var Bl={mpos:this.modelGroup.position.clone(),rz:this.rotationGroup.position.z,rot:this.rotationGroup.quaternion.clone(),cam:this.lookingAt.clone()};if(V){let Yl=new Array(Pl);for(let Lu=0;Lu<Pl;Lu++){let Du=(Lu+1)/Pl,Qu={mpos:Bl.mpos,rz:Bl.rz,rot:Bl.rot};Qu.mpos=Me.clone().sub(Bl.mpos).multiplyScalar(Du).add(Bl.mpos),Qu.rz=Bl.rz+Du*(ot-Bl.rz),Qu.rot=Rp.slerp(Bl.rot,Tl,Du),Qu.cam=ll.clone().sub(Bl.cam).multiplyScalar(Du).add(Bl.cam),Yl[Lu]=Qu}let zu=0,Fu=this,mu=function(){var Lu=Yl[zu];zu+=1,Fu.modelGroup.position=Lu.mpos,Fu.rotationGroup.position.z=Lu.rz,Fu.rotationGroup.quaternion=Lu.rot,Fu.camera.lookAt(Lu.cam),zu<Yl.length?setTimeout(mu,20):Fu.decAnim(),Fu.show()};setTimeout(mu,20)}else{var Ml={};let Yl=1/Pl;if(Me&&(Ml.mpos=Me.clone().sub(Bl.mpos).multiplyScalar(Yl)),ot!==void 0&&ot!=null&&(Ml.rz=Yl*(ot-Bl.rz)),Tl){var Vl=Rp.slerp(Bl.rot,Tl,Yl);Ml.rot=Bl.rot.clone().inverse().multiply(Vl)}ll&&(Ml.cam=ll.clone().sub(Bl.cam).multiplyScalar(Yl));let zu=0,Fu=this,mu=function(){zu+=1,Ml.mpos&&Fu.modelGroup.position.add(Ml.mpos),Ml.rz&&(Fu.rotationGroup.position.z+=Ml.rz),Ml.rot&&Fu.rotationGroup.quaternion.multiply(Ml.rot),Ml.cam&&(Fu.lookingAt.add(Ml.cam),Fu.camera.lookAt(Fu.lookingAt)),zu<Pl?setTimeout(mu,20):Fu.decAnim(),Fu.show()};setTimeout(mu,20)}}rotate(E,V="y",Me=0,ot=!1){if(V=="x"?V={x:1,y:0,z:0}:V=="y"?V={x:0,y:1,z:0}:V=="z"&&(V={x:0,y:0,z:1}),V=="vx"?V={vx:1,vy:0,vz:0}:V=="vy"?V={vx:0,vy:1,vz:0}:V=="vz"&&(V={vx:0,vy:0,vz:1}),V.vx!==void 0){var Tl=new y.Vector3(V.vx,V.vy,V.vz);Tl.applyQuaternion(this.rotationGroup.quaternion),V={x:Tl.x,y:Tl.y,z:Tl.z}}var ll=(function(Bl){var Ml,Vl,Yl,zu=Math.sin(Bl/2),Fu=Math.cos(Bl/2);return Ml=V.x*zu,Vl=V.y*zu,Yl=V.z*zu,new y.Quaternion(Ml,Vl,Yl,Fu).normalize()})(Math.PI*E/180);if(Me){var Pl=new y.Quaternion().copy(this.rotationGroup.quaternion).multiply(ll);this.animateMotion(Me,ot,this.modelGroup.position,this.rotationGroup.position.z,Pl,this.lookingAt)}else this.rotationGroup.quaternion.multiply(ll),this.show();return this}surfacesFinished(){for(var E in this.surfaces)if(!this.surfaces[E][0].done)return!1;return!0}getView(){if(!this.modelGroup)return[0,0,0,0,0,0,0,1];var E=this.modelGroup.position,V=this.rotationGroup.quaternion;return[E.x,E.y,E.z,this.rotationGroup.position.z,V.x,V.y,V.z,V.w]}setView(E,V){return E!==void 0&&(E instanceof Array||E.length!==8)&&this.modelGroup&&this.rotationGroup?(this.modelGroup.position.x=E[0],this.modelGroup.position.y=E[1],this.modelGroup.position.z=E[2],this.rotationGroup.position.z=E[3],this.rotationGroup.quaternion.x=E[4],this.rotationGroup.quaternion.y=E[5],this.rotationGroup.quaternion.z=E[6],this.rotationGroup.quaternion.w=E[7],E[8]!==void 0&&(this.rotationGroup.position.x=E[8],this.rotationGroup.position.y=E[9]),this.show(V),this):this}render(E,V){this.renderer.setViewport(),this.updateClickables();var Me,ot,Tl=this.getView();for(this.stateChangeCallback&&this.stateChangeCallback(this.getInternalState()),V||(V=this.renderer.supportedExtensions()),Me=0;Me<this.models.length;Me++)this.models[Me]&&this.models[Me].globj(this.modelGroup,V);for(Me=0;Me<this.shapes.length;Me++)this.shapes[Me]&&(this.shapes[Me].frame===void 0||this.viewer_frame<0||this.shapes[Me].frame<0||this.shapes[Me].frame==this.viewer_frame?this.shapes[Me].globj(this.modelGroup,V):this.shapes[Me].removegl(this.modelGroup));for(Me=0;Me<this.labels.length;Me++)V.regen&&(this.labels[Me].dispose(),this.modelGroup.remove(this.labels[Me].sprite),this.labels[Me].setContext(),this.modelGroup.add(this.labels[Me].sprite)),this.labels[Me]&&this.labels[Me].frame!==void 0&&this.labels[Me].frame>=0&&(this.modelGroup.remove(this.labels[Me].sprite),(this.viewer_frame<0||this.labels[Me].frame==this.viewer_frame)&&this.modelGroup.add(this.labels[Me].sprite));for(Me in this.surfaces)if(this.surfaces.hasOwnProperty(Me)){var ll=this.surfaces[Me];for(ot=0;ot<ll.length;ot++)if(ll.hasOwnProperty(ot)){var Pl=ll[ot].geo;if(!ll[ot].finished||V.regen){Pl.verticesNeedUpdate=!0,Pl.elementsNeedUpdate=!0,Pl.normalsNeedUpdate=!0,Pl.colorsNeedUpdate=!0,Pl.buffersNeedUpdate=!0,ll[ot].mat.needsUpdate=!0,ll[ot].done&&(ll[ot].finished=!0),ll[ot].lastGL&&this.modelGroup.remove(ll[ot].lastGL);var Bl=null;if(ll[ot].mat instanceof d.LineBasicMaterial?Bl=new d.Line(Pl,ll[ot].mat):("wireframe"in ll.style&&ll.style.wireframe&&Pl.setUpWireframe(),Bl=new d.Mesh(Pl,ll[ot].mat)),ll[ot].mat.transparent&&ll[ot].mat.opacity==0?Bl.visible=!1:Bl.visible=!0,ll[ot].symmetries.length>1||ll[ot].symmetries.length==1&&!ll[ot].symmetries[0].isIdentity()){var Ml,Vl=new d.Object3D;for(Ml=0;Ml<ll[ot].symmetries.length;Ml++){var Yl=Bl.clone();Yl.matrix=ll[ot].symmetries[Ml],Yl.matrixAutoUpdate=!1,Vl.add(Yl)}ll[ot].lastGL=Vl,this.modelGroup.add(Vl)}else ll[ot].lastGL=Bl,this.modelGroup.add(Bl)}}}return this.setView(Tl),typeof E=="function"&&E(this),this}getModelList(E){let V=[];if(E===void 0||E.model===void 0)for(let ot=0;ot<this.models.length;ot++)this.models[ot]&&V.push(this.models[ot]);else{let ot=E.model;Array.isArray(ot)||(ot=[ot]);for(let Tl=0;Tl<ot.length;Tl++)if(typeof ot[Tl]=="number"){var Me=ot[Tl];Me<0&&(Me+=this.models.length),V.push(this.models[Me])}else V.push(ot[Tl])}return V}getAtomsFromSel(E){var V=[];E===void 0&&(E={});var Me=this.getModelList(E);for(let ot=0;ot<Me.length;ot++)V=V.concat(Me[ot].selectedAtoms(E));return V}atomIsSelected(E,V){V===void 0&&(V={});for(var Me=this.getModelList(V),ot=0;ot<Me.length;ot++)if(Me[ot].atomIsSelected(E,V))return!0;return!1}selectedAtoms(E){return this.getAtomsFromSel(E)}getUniqueValues(E,V){V===void 0&&(V={});var Me=this.getAtomsFromSel(V),ot={};for(var Tl in Me)Me[Tl].hasOwnProperty(E)&&(ot[Me[Tl][E]]=!0);return Object.keys(ot)}pdbData(E){for(var V=this.getAtomsFromSel(E),Me="",ot=0,Tl=V.length;ot<Tl;++ot)Me+=V[ot].pdbline+`
`;return Me}zoom(E=2,V=0,Me=!1){var ot=(this.CAMERA_Z-this.rotationGroup.position.z)/E,Tl=this.CAMERA_Z-ot;return V>0?this.animateMotion(V,Me,this.modelGroup.position,this.adjustZoomToLimits(Tl),this.rotationGroup.quaternion,this.lookingAt):(this.rotationGroup.position.z=this.adjustZoomToLimits(Tl),this.show()),this}translate(E,V,Me=0,ot=!1){var Tl=E/this.WIDTH,ll=V/this.HEIGHT,Pl=new y.Vector3(0,0,-this.CAMERA_Z);this.projector.projectVector(Pl,this.camera),Pl.x-=Tl,Pl.y-=ll,this.projector.unprojectVector(Pl,this.camera),Pl.z=0;var Bl=this.lookingAt.clone().add(Pl);return Me>0?this.animateMotion(Me,ot,this.modelGroup.position,this.rotationGroup.position.z,this.rotationGroup.quaternion,Bl):(this.lookingAt=Bl,this.camera.lookAt(this.lookingAt),this.show()),this}translateScene(E,V,Me=0,ot=!1){var Tl=this.screenOffsetToModel(E,V),ll=this.modelGroup.position.clone().add(Tl);return Me>0?this.animateMotion(Me,ot,this.modelGroup.position,this.rotationGroup.position.z,this.rotationGroup.quaternion,this.lookingAt):(this.modelGroup.position=ll,this.show()),this}fitSlab(E){E=E||{};var V=this.getAtomsFromSel(E),Me=(0,H.getExtent)(V),ot=Me[1][0]-Me[0][0],Tl=Me[1][1]-Me[0][1],ll=Me[1][2]-Me[0][2],Pl=Math.hypot(ot,Tl,ll);return Pl<5&&(Pl=5),this.slabNear=-Pl/1.9,this.slabFar=Pl/2,this}center(E={},V=0,Me=!1){var ot,Tl,ll=this.getAtomsFromSel(E),Pl=(0,H.getExtent)(ll);(0,H.isEmptyObject)(E)?(this.shapes.forEach(Qu=>{if(Qu&&Qu.boundingSphere&&Qu.boundingSphere.center){var ld=Qu.boundingSphere.center,vd=Qu.boundingSphere.radius;vd>0?(ll.push(new y.Vector3(ld.x+vd,ld.y,ld.z)),ll.push(new y.Vector3(ld.x-vd,ld.y,ld.z)),ll.push(new y.Vector3(ld.x,ld.y+vd,ld.z)),ll.push(new y.Vector3(ld.x,ld.y-vd,ld.z)),ll.push(new y.Vector3(ld.x,ld.y,ld.z+vd)),ll.push(new y.Vector3(ld.x,ld.y,ld.z-vd))):ll.push(ld)}}),Pl=(0,H.getExtent)(ll),ot=ll,Tl=Pl):(ot=this.getAtomsFromSel({}),Tl=(0,H.getExtent)(ot));var Bl=new y.Vector3(Pl[2][0],Pl[2][1],Pl[2][2]),Ml=Tl[1][0]-Tl[0][0],Vl=Tl[1][1]-Tl[0][1],Yl=Tl[1][2]-Tl[0][2],zu=Math.hypot(Ml,Vl,Yl);zu<5&&(zu=5),this.slabNear=-zu/1.9,this.slabFar=zu/2,Ml=Pl[1][0]-Pl[0][0],Vl=Pl[1][1]-Pl[0][1],Yl=Pl[1][2]-Pl[0][2],(zu=Math.hypot(Ml,Vl,Yl))<5&&(zu=5);for(var Fu=25,mu=0;mu<ll.length;mu++)if(ll[mu]){var Lu=Bl.distanceToSquared(ll[mu]);Lu>Fu&&(Fu=Lu)}zu=2*Math.sqrt(Fu);var Du=Bl.clone().multiplyScalar(-1);return V>0?this.animateMotion(V,Me,Du,this.rotationGroup.position.z,this.rotationGroup.quaternion,this.lookingAt):(this.modelGroup.position=Du,this.show()),this}zoomTo(E={},V=0,Me=!1){let ot=this.getAtomsFromSel(E),Tl=(0,H.getExtent)(ot),ll=Tl;if((0,H.isEmptyObject)(E)){let ld=ot&&ot.length;if(this.shapes.forEach(vd=>{if(vd&&vd.boundingSphere){if(vd.boundingSphere.box){let nh=vd.boundingSphere.box;ot.push(new y.Vector3(nh.min.x,nh.min.y,nh.min.z)),ot.push(new y.Vector3(nh.max.x,nh.max.y,nh.max.z))}else if(vd.boundingSphere.center){var Ld=vd.boundingSphere.center,Ad=vd.boundingSphere.radius;Ad>0?(ot.push(new y.Vector3(Ld.x+Ad,Ld.y,Ld.z)),ot.push(new y.Vector3(Ld.x-Ad,Ld.y,Ld.z)),ot.push(new y.Vector3(Ld.x,Ld.y+Ad,Ld.z)),ot.push(new y.Vector3(Ld.x,Ld.y-Ad,Ld.z)),ot.push(new y.Vector3(Ld.x,Ld.y,Ld.z+Ad)),ot.push(new y.Vector3(Ld.x,Ld.y,Ld.z-Ad))):ot.push(Ld)}}}),ll=(0,H.getExtent)(ot),!ld)for(let vd=0;vd<3;vd++)Tl[2][vd]=(ll[0][vd]+ll[1][vd])/2}else{let ld=this.getAtomsFromSel({});ll=(0,H.getExtent)(ld)}var Pl=new y.Vector3(Tl[2][0],Tl[2][1],Tl[2][2]),Bl=ll[1][0]-ll[0][0],Ml=ll[1][1]-ll[0][1],Vl=ll[1][2]-ll[0][2],Yl=Math.hypot(Bl,Ml,Vl);Yl<5&&(Yl=5),this.slabNear=-Yl/1.9,this.slabFar=Yl/2,Object.keys(E).length===0&&(this.slabNear=Math.min(2*-Yl,-50),this.slabFar=Math.max(2*Yl,50));var zu=this.config.minimumZoomToDistance||5;Bl=Tl[1][0]-Tl[0][0],Ml=Tl[1][1]-Tl[0][1],Vl=Tl[1][2]-Tl[0][2],(Yl=Math.hypot(Bl,Ml,Vl))<zu&&(Yl=zu);for(var Fu=zu*zu,mu=0;mu<ot.length;mu++)if(ot[mu]){var Lu=Pl.distanceToSquared(ot[mu]);Lu>Fu&&(Fu=Lu)}Yl=2*Math.sqrt(Fu);var Du=Pl.clone().multiplyScalar(-1),Qu=-(.5*Yl/Math.tan(Math.PI/180*this.camera.fov/2)-this.CAMERA_Z);return Qu=this.adjustZoomToLimits(Qu),V>0?this.animateMotion(V,Me,Du,Qu,this.rotationGroup.quaternion,this.lookingAt):(this.modelGroup.position=Du,this.rotationGroup.position.z=Qu,this.show()),this}setSlab(E,V){this.slabNear=E,this.slabFar=V}getSlab(){return{near:this.slabNear,far:this.slabFar}}addLabel(E,V={},Me,ot=!1){if(Me){var Tl=(0,H.getExtent)(this.getAtomsFromSel(Me));V.position={x:Tl[2][0],y:Tl[2][1],z:Tl[2][2]}}var ll=new xp(E,V);return ll.setContext(),this.modelGroup.add(ll.sprite),this.labels.push(ll),ot||this.show(),ll}addResLabels(E,V,Me=!1){let ot=this.labels.length;return this.applyToModels("addResLabels",E,V,Me),this.show(),this.labels.slice(ot)}addPropertyLabels(E,V,Me){return this.applyToModels("addPropertyLabels",E,V,Me),this.show(),this}removeLabel(E){for(var V=0;V<this.labels.length;V++)if(this.labels[V]==E){this.labels.splice(V,1),E.dispose(),this.modelGroup.remove(E.sprite);break}return this.show(),this}removeAllLabels(){for(var E=0;E<this.labels.length;E++)this.labels[E]&&this.labels[E].sprite&&this.modelGroup.remove(this.labels[E].sprite);return this.labels.splice(0,this.labels.length),this.show(),this}hideAllLabels(){for(var E=0;E<this.labels.length;E++)this.labels[E]&&this.labels[E].hide();return this.show(),this}showAllLabels(){for(var E=0;E<this.labels.length;E++)this.labels[E]&&this.labels[E].show();return this.show(),this}setLabelStyle(E,V){return this.modelGroup.remove(E.sprite),E.dispose(),E.stylespec=V,E.setContext(),this.modelGroup.add(E.sprite),this.show(),E}setLabelText(E,V){return this.modelGroup.remove(E.sprite),E.dispose(),E.text=V,E.setContext(),this.modelGroup.add(E.sprite),this.show(),E}addShape(E){var V=new _h(E=E||{});return V.shapePosition=this.shapes.length,this.shapes.push(V),V}removeShape(E){if(!E)return this;for(E.removegl(this.modelGroup),delete this.shapes[E.shapePosition];this.shapes.length>0&&this.shapes[this.shapes.length-1]===void 0;)this.shapes.pop();return this}removeAllShapes(){for(var E=0;E<this.shapes.length;E++){var V=this.shapes[E];V&&V.removegl(this.modelGroup)}return this.shapes.splice(0,this.shapes.length),this}getSelectionCenter(E){if(E.hasOwnProperty("x")&&E.hasOwnProperty("y")&&E.hasOwnProperty("z"))return E;var V=this.getAtomsFromSel(E);if(V.length==0)return{x:0,y:0,z:0};var Me=(0,H.getExtent)(V);return{x:Me[0][0]+(Me[1][0]-Me[0][0])/2,y:Me[0][1]+(Me[1][1]-Me[0][1])/2,z:Me[0][2]+(Me[1][2]-Me[0][2])/2}}addSphere(E){(E=E||{}).center=this.getSelectionCenter(E.center);var V=new _h(E);return V.shapePosition=this.shapes.length,V.addSphere(E),this.shapes.push(V),V.finalize(),V}addBox(E={}){E.corner!=null&&(E.corner=this.getSelectionCenter(E.corner)),E.center!=null&&(E.center=this.getSelectionCenter(E.center));var V=new _h(E);return V.shapePosition=this.shapes.length,V.addBox(E),this.shapes.push(V),V.finalize(),V}addArrow(E={}){E.start=this.getSelectionCenter(E.start),E.end=this.getSelectionCenter(E.end);var V=new _h(E);return V.shapePosition=this.shapes.length,V.addArrow(E),this.shapes.push(V),V.finalize(),V}addCylinder(E={}){E.start=this.getSelectionCenter(E.start),E.end=this.getSelectionCenter(E.end);var V=new _h(E);return V.shapePosition=this.shapes.length,E.dashed?V.addDashedCylinder(E):V.addCylinder(E),this.shapes.push(V),V.finalize(),V}addCurve(E={}){var V=new _h(E);return V.shapePosition=this.shapes.length,V.addCurve(E),this.shapes.push(V),V.finalize(),V}addLine(E={}){E.start=this.getSelectionCenter(E.start),E.end=this.getSelectionCenter(E.end),E.wireframe=!0;var V=new _h(E);return V.shapePosition=this.shapes.length,E.dashed?V=this.addLineDashed(E,V):V.addLine(E),this.shapes.push(V),V.finalize(),V}addUnitCell(E,V){E=this.getModel(E),(V=V||{alabel:"a",blabel:"b",clabel:"c"}).box=V.box||{},V.astyle=V.astyle||{color:"red",radius:.1,midpos:-1},V.bstyle=V.bstyle||{color:"green",radius:.1,midpos:-1},V.cstyle=V.cstyle||{color:"blue",radius:.1,midpos:-1},V.alabelstyle=V.alabelstyle||{fontColor:"red",showBackground:!1,alignment:"center",inFront:!1},V.blabelstyle=V.blabelstyle||{fontColor:"green",showBackground:!1,alignment:"center",inFront:!1},V.clabelstyle=V.clabelstyle||{fontColor:"blue",showBackground:!1,alignment:"center",inFront:!1},E.unitCellObjects&&this.removeUnitCell(E),E.unitCellObjects={shapes:[],labels:[]};var Me=E.getCrystData(),ot=null;if(Me){if(Me.matrix)ot=Me.matrix;else{var Tl,ll,Pl,Bl=Me.a,Ml=Me.b,Vl=Me.c,Yl=Me.alpha,zu=Me.beta,Fu=Me.gamma;Yl=Yl*Math.PI/180,zu=zu*Math.PI/180,Fu=Fu*Math.PI/180,Tl=Math.cos(zu),ll=(Math.cos(Yl)-Math.cos(zu)*Math.cos(Fu))/Math.sin(Fu),Pl=Math.sqrt(Math.max(0,1-Tl*Tl-ll*ll)),ot=new y.Matrix3(Bl,Ml*Math.cos(Fu),Vl*Tl,0,Ml*Math.sin(Fu),Vl*ll,0,0,Vl*Pl)}var mu=[new y.Vector3(0,0,0),new y.Vector3(1,0,0),new y.Vector3(0,1,0),new y.Vector3(0,0,1),new y.Vector3(1,1,0),new y.Vector3(0,1,1),new y.Vector3(1,0,1),new y.Vector3(1,1,1)];if(Me.matrix4)for(let Du=0;Du<mu.length;Du++)Me.size&&mu[Du].multiplyVectors(mu[Du],Me.size),mu[Du]=mu[Du].applyMatrix4(Me.matrix4);else for(let Du=0;Du<mu.length;Du++)mu[Du]=mu[Du].applyMatrix3(ot);if(V.box&&!V.box.hidden){V.box.wireframe=!0;var Lu=new _h(V.box);Lu.shapePosition=this.shapes.length,Lu.addLine({start:mu[0],end:mu[1]}),Lu.addLine({start:mu[0],end:mu[2]}),Lu.addLine({start:mu[1],end:mu[4]}),Lu.addLine({start:mu[2],end:mu[4]}),Lu.addLine({start:mu[0],end:mu[3]}),Lu.addLine({start:mu[3],end:mu[5]}),Lu.addLine({start:mu[2],end:mu[5]}),Lu.addLine({start:mu[1],end:mu[6]}),Lu.addLine({start:mu[4],end:mu[7]}),Lu.addLine({start:mu[6],end:mu[7]}),Lu.addLine({start:mu[3],end:mu[6]}),Lu.addLine({start:mu[5],end:mu[7]}),this.shapes.push(Lu),E.unitCellObjects.shapes.push(Lu),Lu.finalize()}if(!V.astyle.hidden){V.astyle.start=mu[0],V.astyle.end=mu[1];let Du=this.addArrow(V.astyle);E.unitCellObjects.shapes.push(Du)}if(!V.bstyle.hidden){V.bstyle.start=mu[0],V.bstyle.end=mu[2];let Du=this.addArrow(V.bstyle);E.unitCellObjects.shapes.push(Du)}if(!V.cstyle.hidden){V.cstyle.start=mu[0],V.cstyle.end=mu[3];let Du=this.addArrow(V.cstyle);E.unitCellObjects.shapes.push(Du)}if(V.alabel){V.alabelstyle.position=mu[1];let Du=this.addLabel(V.alabel,V.alabelstyle);E.unitCellObjects.labels.push(Du)}if(V.blabel){V.blabelstyle.position=mu[2];let Du=this.addLabel(V.blabel,V.blabelstyle);E.unitCellObjects.labels.push(Du)}if(V.clabel){V.clabelstyle.position=mu[3];let Du=this.addLabel(V.clabel,V.clabelstyle);E.unitCellObjects.labels.push(Du)}}}removeUnitCell(E){if((E=this.getModel(E)).unitCellObjects){let V=this;E.unitCellObjects.shapes.forEach(function(Me){V.removeShape(Me)}),E.unitCellObjects.labels.forEach(function(Me){V.removeLabel(Me)})}delete E.unitCellObjects}replicateUnitCell(E=3,V=E,Me=V,ot,Tl,ll){let Pl=(ot=this.getModel(ot)).getCrystData();if(Pl){const Bl=ot.selectedAtoms({}),Ml=Pl.matrix;let Vl=function(zu){return zu%2==0?-zu/2:Math.ceil(zu/2)};E<=1&&V<=1&&Me<=1&&(ll=!0,E=V=Me=3);let Yl=function(zu,Fu,mu){return!1};if(ll){const zu=new y.Matrix3().getInverse3(Ml);Yl=function(Fu,mu,Lu){let Du=new y.Vector3(Fu,mu,Lu).applyMatrix3(zu);return!(Du.x>-1e-4&&Du.x<1.0001&&Du.y>-1e-4&&Du.y<1.0001&&Du.z>-1e-4&&Du.z<1.0001)}}for(let zu=0;zu<E;zu++)for(let Fu=0;Fu<V;Fu++)for(let mu=0;mu<Me;mu++){if(zu==0&&Fu==0&&mu==0)continue;let Lu=new y.Vector3(Vl(zu),Vl(Fu),Vl(mu));Lu.applyMatrix3(Ml);let Du=[];for(let Qu=0;Qu<Bl.length;Qu++){let ld=Bl[Qu].x+Lu.x,vd=Bl[Qu].y+Lu.y,Ld=Bl[Qu].z+Lu.z;if(Yl(ld,vd,Ld))continue;let Ad={};for(let nh in Bl[Qu])Ad[nh]=Bl[Qu][nh];Ad.x=ld,Ad.y=vd,Ad.z=Ld,Du.push(Ad)}ot.addAtoms(Du)}Tl&&ot.assignBonds()}}addLineDashed(E,V){var Me,ot;E.dashLength=E.dashLength||.5,E.gapLength=E.gapLength||.5,Me=E.start?new y.Vector3(E.start.x||0,E.start.y||0,E.start.z||0):new y.Vector3(0,0,0),ot=E.end?new y.Vector3(E.end.x,E.end.y||0,E.end.z||0):new y.Vector3(0,0,0);var Tl,ll,Pl,Bl=new y.Vector3,Ml=new y.Vector3,Vl=new y.Vector3,Yl=Me.clone(),zu=0;for(Bl.subVectors(ot,Me),Tl=Bl.length(),Bl.normalize(),Ml=Bl.clone(),Vl=Bl.clone(),Ml.multiplyScalar(E.dashLength),Vl.multiplyScalar(E.gapLength),ll=Ml.length(),Pl=Vl.length();zu<Tl;){if(zu+ll>Tl){E.start=Me,E.end=ot,V.addLine(E);break}Yl.addVectors(Me,Ml),E.start=Me,E.end=Yl,V.addLine(E),Me=Yl.clone(),zu+=ll,Yl.addVectors(Me,Vl),Me=Yl.clone(),zu+=Pl}return V.finalize(),V}addCustom(E){var V=new _h(E=E||{});return V.shapePosition=this.shapes.length,V.addCustom(E),this.shapes.push(V),V.finalize(),V}addVolumetricData(E,V,Me={}){var ot=new Ih.VolumeData(E,V);return Me.hasOwnProperty("transferfn")?this.addVolumetricRender(ot,Me):this.addIsosurface(ot,Me)}addIsosurface(E,V={},Me){var ot=new _h(V);return ot.shapePosition=this.shapes.length,ot.addIsosurface(E,V,Me,this),this.shapes.push(ot),ot}addVolumetricRender(E,V){var Me=new Zf(E,V=V||{},this);return Me.shapePosition=this.shapes.length,this.shapes.push(Me),Me}hasVolumetricRender(){return this.renderer.supportsVolumetric()}enableFog(E){if(E){this.scene.fog=new d.Fog(this.bgColor,100,200),this.config.disableFog=!1;const V=E;V.fogStart==null?this.fogStart=.4:this.fogStart=V.fogStart,V.fogEnd==null?this.fogEnd=1:this.fogEnd=V.fogEnd}else this.config.disableFog=!0,this.show()}setFrame(E){this.viewer_frame=E;let V=this;return new Promise(function(Me){var ot=V.models.map(function(Tl){return Tl.setFrame(E)});Promise.all(ot).then(function(){Me()})})}getFrame(){return this.viewer_frame}getNumFrames(){var E=0;for(let V=0;V<this.models.length;V++)this.models[V].getNumFrames()>E&&(E=this.models[V].getNumFrames());for(let V=0;V<this.shapes.length;V++)this.shapes[V].frame&&this.shapes[V].frame>=E&&(E=this.shapes[V].frame+1);for(let V=0;V<this.labels.length;V++)this.labels[V].frame&&this.labels[V].frame>=E&&(E=this.labels[V].frame+1);return E}getNextModelId(){return this.models.length}animate(E){this.incAnim();var V=100,Me="forward",ot=1/0;(E=E||{}).interval&&(V=E.interval),E.loop&&(Me=E.loop),E.reps&&(ot=E.reps);var Tl=this.getNumFrames(),ll=this,Pl=0;E.startFrame&&(Pl=E.startFrame%Tl);var Bl=1;E.step&&(ot/=Bl=E.step);var Ml,Vl,Yl=0,zu=Tl*ot,Fu=new Date,mu=function(Lu){Fu=new Date,Lu=="forward"?ll.setFrame(Pl).then(function(){Pl=(Pl+Bl)%Tl,Ml()}):Lu=="backward"?ll.setFrame(Tl-1-Pl).then(function(){Pl=(Pl+Bl)%Tl,Ml()}):ll.setFrame(Pl).then(function(){Bl*=(Pl+=Bl)%(Tl-1)==0?-1:1,Ml()})};return Ml=function(){if(ll.render(),ll.getCanvas().isConnected)if(++Yl>=zu||!ll.isAnimated())Vl.cancel(),ll.animationTimers.delete(Vl),ll.decAnim();else{var Lu=V-(new Date().getTime()-Fu.getTime());Lu=Lu>0?Lu:0,Vl.cancel(),ll.animationTimers.delete(Vl),Vl=new H.PausableTimer(mu,Lu,Me),ll.animationTimers.add(Vl)}else ll.stopAnimate()},Vl=new H.PausableTimer(mu,0,Me),this.animationTimers.add(Vl),this}stopAnimate(){return this.animated=0,this.animationTimers.forEach(function(E){E.cancel()}),this.animationTimers=new Set,this}pauseAnimate(){return this.animationTimers.forEach(function(E){E.pause()}),this}resumeAnimate(){return this.animationTimers.forEach(function(E){E.resume()}),this}isAnimated(){return this.animated>0}getModelOpt(E){return E&&!E.defaultcolors?(E.defaultcolors=this.defaultcolors,E.cartoonQuality=E.cartoonQuality||this.config.cartoonQuality):E===void 0&&(E={defaultcolors:this.defaultcolors,cartoonQuality:this.config.cartoonQuality}),E}addModel(E,V="",Me){Me=this.getModelOpt(Me);var ot=new b0(this.models.length,Me,this);return ot.addMolData(E,V,Me),this.models.push(ot),ot}addModels(E,V,Me){(Me=this.getModelOpt(Me)).multimodel=!0,Me.frames=!0;for(var ot=b0.parseMolData(E,V,Me),Tl=0;Tl<ot.length;Tl++){var ll=new b0(this.models.length,Me,this);ll.setAtomDefaults(ot[Tl]),ll.addFrame(ot[Tl]),ll.setFrame(0),ot.modelData&&ll.setModelData(ot.modelData[Tl]),ll.setDontDuplicateAtoms(!Me.duplicateAssemblyAtoms),this.models.push(ll)}return this.models}addModelsAsFrames(E,V,Me){(Me=this.getModelOpt(Me)).multimodel=!0,Me.frames=!0;var ot=new b0(this.models.length,Me,this);return ot.addMolData(E,V,Me),this.models.push(ot),ot}addAsOneMolecule(E,V,Me){(Me=this.getModelOpt(Me)).multimodel=!0,Me.onemol=!0;var ot=new b0(this.models.length,Me,this);return ot.addMolData(E,V,Me),this.models.push(ot),ot}removeModel(E){if(E=this.getModel(E)){for(E.removegl(this.modelGroup),delete this.models[E.getID()];this.models.length>0&&this.models[this.models.length-1]===void 0;)this.models.pop();return this}}removeAllModels(){for(var E=0;E<this.models.length;E++){var V=this.models[E];V&&V.removegl(this.modelGroup)}return this.models.splice(0,this.models.length),this}exportJSON(E,V){var Me={};return Me.m=V===void 0?this.models.map(function(ot){return ot.toCDObject(E)}):[this.models[V].toCDObject()],JSON.stringify(Me)}exportVRML(){var E=this.modelGroup;this.applyToModels("removegl",this.modelGroup),this.modelGroup=new d.Object3D,this.render(null,{supportsImposters:!1,supportsAIA:!1,regen:!0});var V=`#VRML V2.0 utf8
`+this.modelGroup.vrml()+`
`;return this.applyToModels("removegl",this.modelGroup),this.modelGroup=E,V}createModelFrom(E,V=!1){for(var Me=new b0(this.models.length,this.defaultcolors,this),ot=0;ot<this.models.length;ot++)if(this.models[ot]){var Tl=this.models[ot].selectedAtoms(E);Me.addAtoms(Tl),V&&this.models[ot].removeAtoms(Tl)}return this.models.push(Me),Me}applyToModels(E,V,Me,ot,Tl,ll,Pl){for(var Bl=this.getModelList(V),Ml=0;Ml<Bl.length;Ml++)Bl[Ml][E](V,Me,ot,Tl,ll,Pl)}setStyle(E,V){return V===void 0&&(V=E,E={}),this.applyToModels("setStyle",E,V,!1),this}addStyle(E,V){return V===void 0&&(V=E,E={}),this.applyToModels("setStyle",E,V,!0),this}setClickable(E,V,Me){return this.applyToModels("setClickable",E,V,Me),this}setHoverable(E,V,Me,ot){return this.applyToModels("setHoverable",E,V,Me,ot),this}enableContextMenu(E,V){return this.applyToModels("enableContextMenu",E,V),this}vibrate(E,V,Me,ot){return this.applyToModels("vibrate",E,V,Me,ot),this}setColorByProperty(E,V,Me,ot){return this.applyToModels("setColorByProperty",E,V,Me,ot),this}setColorByElement(E,V){return this.applyToModels("setColorByElement",E,V),this}static getAtomsWithin(E,V){var Me=[];for(let Tl=0;Tl<E.length;Tl++){var ot=E[Tl];ot!==void 0&&(ot.x<V[0][0]||ot.x>V[1][0]||ot.y<V[0][1]||ot.y>V[1][1]||ot.z<V[0][2]||ot.z>V[1][2]||Me.push(ot))}return Me}static volume(E){return(E[1][0]-E[0][0])*(E[1][1]-E[0][1])*(E[1][2]-E[0][2])}carveUpExtent(E,V,Me){let ot=[],Tl={};for(let Vl=0,Yl=V.length;Vl<Yl;Vl++)Tl[V[Vl].index]=Vl;let ll=function(Vl){let Yl=[];for(let zu=0,Fu=Vl.length;zu<Fu;zu++)Vl[zu].index in Tl&&Yl.push(Tl[Vl[zu].index]);return Yl},Pl=function(Vl){let Yl=[];return Yl[0]=[Vl[0][0],Vl[0][1],Vl[0][2]],Yl[1]=[Vl[1][0],Vl[1][1],Vl[1][2]],Yl},Bl=function(Vl){if(Rp.volume(Vl)<Rp.maxVolume)return[Vl];var Yl,zu=Vl[1][0]-Vl[0][0],Fu=Vl[1][1]-Vl[0][1],mu=Vl[1][2]-Vl[0][2];Yl=zu>Fu&&zu>mu?0:Fu>zu&&Fu>mu?1:2;var Lu=Pl(Vl),Du=Pl(Vl),Qu=(Vl[1][Yl]-Vl[0][Yl])/2+Vl[0][Yl];Lu[1][Yl]=Qu,Du[0][Yl]=Qu;var ld=Bl(Lu),vd=Bl(Du);return ld.concat(vd)},Ml=Bl(E);for(let Vl=0,Yl=Ml.length;Vl<Yl;Vl++){let zu=Pl(Ml[Vl]);zu[0][0]-=6,zu[0][1]-=6,zu[0][2]-=6,zu[1][0]+=6,zu[1][1]+=6,zu[1][2]+=6;let Fu=Rp.getAtomsWithin(V,zu),mu=Rp.getAtomsWithin(Me,Ml[Vl]);ot.push({extent:Ml[Vl],atoms:ll(Fu),toshow:ll(mu)})}return ot}static generateSurfaceMesh(E,V,Me){var ot=new d.Geometry(!0),Tl=ot.updateGeoGroup(0),ll=[];for(let Xl=0,$u=E.length;Xl<$u;Xl++){var Pl=E[Xl];Pl&&(Pl.surfaceColor!==void 0?ll[Xl]=Pl.surfaceColor:Pl.color&&(ll[Xl]=L.CC.color(Pl.color)))}var Bl=Tl.vertexArray,Ml=V.vertices;for(let Xl=0,$u=Ml.length;Xl<$u;Xl++){let Wd=3*Tl.vertices;Bl[Wd]=Ml[Xl].x,Bl[Wd+1]=Ml[Xl].y,Bl[Wd+2]=Ml[Xl].z,Tl.vertices++}var Vl=Tl.colorArray;let Yl=Tl.atomArray;if(Me.voldata&&Me.volscheme){var zu=Me.volscheme,Fu=Me.voldata,mu=zu.range()||[-1,1];for(let Xl=0,$u=Ml.length;Xl<$u;Xl++){let Wd=Ml[Xl].atomid,ih=Fu.getVal(Ml[Xl].x,Ml[Xl].y,Ml[Xl].z),ph=L.CC.color(zu.valueToHex(ih,mu)),Dh=3*Xl;Vl[Dh]=ph.r,Vl[Dh+1]=ph.g,Vl[Dh+2]=ph.b,Yl[Xl]=E[Wd]}}else if(ll.length>0)for(let Xl=0,$u=Ml.length;Xl<$u;Xl++){let Wd=Ml[Xl].atomid,ih=3*Xl;Vl[ih]=ll[Wd].r,Vl[ih+1]=ll[Wd].g,Vl[ih+2]=ll[Wd].b,Yl[Xl]=E[Wd]}var Lu=V.faces;Tl.faceidx=Lu.length,ot.initTypedArrays();var Du,Qu,ld,vd,Ld=Tl.vertexArray,Ad=Tl.normalArray;for(let Xl=0,$u=Lu.length;Xl<$u;Xl+=3){var nh=3*Lu[Xl],dh=3*Lu[Xl+1],vh=3*Lu[Xl+2];Du=new y.Vector3(Ld[nh],Ld[nh+1],Ld[nh+2]),Qu=new y.Vector3(Ld[dh],Ld[dh+1],Ld[dh+2]),(ld=new y.Vector3(Ld[vh],Ld[vh+1],Ld[vh+2])).subVectors(ld,Qu),Du.subVectors(Du,Qu),ld.cross(Du),(vd=ld).normalize(),Ad[nh]+=vd.x,Ad[dh]+=vd.x,Ad[vh]+=vd.x,Ad[nh+1]+=vd.y,Ad[dh+1]+=vd.y,Ad[vh+1]+=vd.y,Ad[nh+2]+=vd.z,Ad[dh+2]+=vd.z,Ad[vh+2]+=vd.z}return Tl.faceArray=new Uint16Array(Lu),new d.Mesh(ot,Me)}static generateMeshSyncHelper(E,V,Me,ot,Tl,ll){var Pl=new rh;return Pl.initparm(V,E!==1,ll),Pl.fillvoxels(Tl,Me),Pl.buildboundary(),E!=yg.SES&&E!=yg.MS||(Pl.fastdistancemap(),Pl.boundingatom(!1),Pl.fillvoxelswaals(Tl,Me)),Pl.marchingcube(E),Pl.getFacesAndVertices(ot)}static getMatWithStyle(E){let V=null;for(var Me in V=E.onesided?new d.MeshLambertMaterial:new d.MeshDoubleLambertMaterial,V.vertexColors=d.Coloring.VertexColors,E)Me==="color"||Me==="map"||E.hasOwnProperty(Me)&&(V[Me]=E[Me]);return E.opacity!==void 0&&(E.opacity===1?V.transparent=!1:V.transparent=!0),E.wireframe!==void 0&&(V.wireframe=E.wireframe),V}addMesh(E){let V={geo:E.geometry,mat:E.material,done:!0,finished:!1};var Me=this.nextSurfID();return this.surfaces[Me]=new Nh([V]),Me}static shallowCopy(E){var V=[];let Me=E.length;for(let ot=0;ot<Me;ot++)V[ot]=(0,H.extend)({},E[ot]);return V}addSurface(E,V={},Me={},ot,Tl,ll){let Pl=this.nextSurfID(),Bl=null,Ml=this,Vl=yg.VDW;typeof E=="string"?Rp.surfaceTypeMap[E.toUpperCase()]!==void 0?Vl=Rp.surfaceTypeMap[E]:console.log("Surface type : "+E+" is not recognized"):typeof E=="number"&&(Vl=E);var Yl=null,zu=null,Fu=Rp.shallowCopy(this.getAtomsFromSel(Me));Yl=ot?Rp.shallowCopy(this.getAtomsFromSel(ot)):Fu,(0,H.adjustVolumeStyle)(V);var mu,Lu=!1;for(mu=0;mu<this.models.length;mu++)if(this.models[mu]){var Du=this.models[mu].getSymmetries();if(Du.length>1||Du.length==1&&!Du[0].isIdentity()){Lu=!0;break}}var Qu=function(dh,vh,Xl){var $u;zu=Tl?Rp.shallowCopy(Ml.getAtomsFromSel(Tl)):Xl;var Wd=(0,H.getExtent)(Xl,!0);if(V.map&&V.map.prop){var ih=V.map.prop;let nf=(0,G.getGradient)(V.map.scheme||V.map.gradient||new G.Gradient.RWB),mf=nf.range();mf||(mf=(0,H.getPropertyRange)(Xl,ih)),V.colorscheme={prop:ih,gradient:nf}}for(let nf=0,mf=vh.length;nf<mf;nf++)($u=vh[nf]).surfaceColor=(0,H.getColorFromStyle)($u,V);var ph=Rp.volume(Wd),Dh=Ml.carveUpExtent(Wd,vh,Xl);if(zu&&zu.length&&zu.length>0){var Uh=(0,H.getExtent)(zu,!0);Dh.sort(function(nf,mf){var af=function(zh,Af){var $f=zh.extent,Rf=$f[1][0]-$f[0][0],cf=$f[1][1]-$f[0][1],dp=$f[1][2]-$f[0][2],np=Rf-Af[2][0];np*=np;var ip=cf-Af[2][1];ip*=ip;var Xf=dp-Af[2][2];return np+ip+(Xf*=Xf)};return af(nf,Uh)-af(mf,Uh)})}var Oh=[];for(let nf=0,mf=vh.length;nf<mf;nf++)$u=vh[nf],Oh[nf]={x:$u.x,y:$u.y,z:$u.z,serial:nf,elem:$u.elem};var Rh=!!I0;if(typeof $3Dmol<"u"&&$3Dmol.SurfaceWorker!==void 0||(console.log("$3Dmol.SurfaceWorker is not defined, using synchronous surface generation."),Rh=!0),Rh){var Yh=function(nf){return new Promise(function(mf){for(var af=Rp.generateMeshSyncHelper(Vl,Dh[nf].extent,Dh[nf].atoms,Dh[nf].toshow,Oh,ph),zh=ep({vertexArr:af.vertices,faceArr:af.faces}),Af=0,$f=zh.length;Af<$f;Af++){af={vertices:zh[Af].vertexArr,faces:zh[Af].faceArr};var Rf=Rp.generateSurfaceMesh(vh,af,Bl);(0,H.mergeGeos)(dh.geo,Rf)}Ml.render(),mf()})},wh=[];for(let nf=0;nf<Dh.length;nf++)wh.push(Yh(nf));return Promise.all(wh).then(function(){return dh.done=!0,Ml.render(),Promise.resolve(Pl)})}var Hh=[];Vl<0&&(Vl=0);for(let nf=0,mf=Rp.numWorkers;nf<mf;nf++){var Cf=new Worker($3Dmol.SurfaceWorker);Hh.push(Cf),Cf.postMessage({type:-1,atoms:Oh,volume:ph})}return new Promise(function(nf,mf){var af=0,zh=function(){Hh&&Hh.length&&Hh.forEach(function(cf){cf&&cf.terminate&&cf.terminate()})},Af=function(cf){for(var dp=ep({vertexArr:cf.data.vertices,faceArr:cf.data.faces}),np=0,ip=dp.length;np<ip;np++){var Xf={vertices:dp[np].vertexArr,faces:dp[np].faceArr},Jf=Rp.generateSurfaceMesh(vh,Xf,Bl);(0,H.mergeGeos)(dh.geo,Jf)}Ml.render(),++af==Dh.length&&(dh.done=!0,zh(),nf(Pl))},$f=function(cf){zh(),console.log(cf.message+" ("+cf.filename+":"+cf.lineno+")"),mf(cf)};for(let cf=0;cf<Dh.length;cf++){var Rf=Hh[cf%Hh.length];Rf.onmessage=Af,Rf.onerror=$f,Rf.postMessage({type:Vl,expandedExtent:Dh[cf].extent,extendedAtoms:Dh[cf].atoms,atomsToShow:Dh[cf].toshow})}})};V=V||{},Bl=Rp.getMatWithStyle(V);let ld=new Nh([]);ld.style=V,ld.atomsel=Me,ld.allsel=ot,ld.focus=Tl;var vd=null;if(Lu){var Ld={},Ad={};for(mu=0;mu<this.models.length;mu++)Ld[mu]=[],Ad[mu]=[];for(mu=0;mu<Yl.length;mu++)Ld[Yl[mu].model].push(Yl[mu]);for(mu=0;mu<Fu.length;mu++)Ad[Fu[mu].model].push(Fu[mu]);var nh=[];for(mu=0;mu<this.models.length;mu++)Ad[mu].length>0&&(ld.push({geo:new d.Geometry(!0),mat:Bl,done:!1,finished:!1,symmetries:this.models[mu].getSymmetries()}),nh.push(Qu(ld[ld.length-1],Ld[mu],Ad[mu])));vd=Promise.all(nh)}else ld.push({geo:new d.Geometry(!0),mat:Bl,done:!1,finished:!1,symmetries:[new y.Matrix4]}),vd=Qu(ld[ld.length-1],Yl,Fu);return this.surfaces[Pl]=ld,vd.surfid=Pl,ll&&typeof ll=="function"?(vd.then(function(dh){ll(dh)}),Pl):vd}setSurfaceMaterialStyle(E,V){if((0,H.adjustVolumeStyle)(V),this.surfaces[E]){var Me=this.surfaces[E];for(let Tl=0;Tl<Me.length;Tl++){var ot=Me[Tl].mat=Rp.getMatWithStyle(V);if(Me[Tl].mat.side=d.FrontSide,V.wireframe&&Me[Tl].geo.setUpWireframe(),V.color){Me[Tl].mat.color=L.CC.color(V.color),Me[Tl].geo.colorsNeedUpdate=!0;const ll=L.CC.color(V.color);Me[Tl].geo.setColor(ll)}else if(ot.voldata&&ot.volscheme){const ll=ot.volscheme,Pl=ot.voldata,Bl=L.CC,Ml=ll.range()||[-1,1];Me[Tl].geo.setColors(function(Vl,Yl,zu){let Fu=Pl.getVal(Vl,Yl,zu);return Bl.color(ll.valueToHex(Fu,Ml))})}else{Me[Tl].geo.colorsNeedUpdate=!0;for(let ll of Me[Tl].geo.geometryGroups)for(let Pl=0;Pl<ll.vertices;Pl++){let Bl=(0,H.getColorFromStyle)(ll.atomArray[Pl],V),Ml=3*Pl;ll.colorArray[Ml]=Bl.r,ll.colorArray[Ml+1]=Bl.g,ll.colorArray[Ml+2]=Bl.b}}Me[Tl].finished=!1}}return this}getSurface(E){return this.surfaces[E]}removeSurface(E){for(var V=this.surfaces[E],Me=0;Me<V.length;Me++)V[Me]&&V[Me].lastGL&&(V[Me].geo!==void 0&&V[Me].geo.dispose(),V[Me].mat!==void 0&&V[Me].mat.dispose(),this.modelGroup.remove(V[Me].lastGL));return delete this.surfaces[E],this.show(),this}removeAllSurfaces(){for(var E in this.surfaces)if(this.surfaces.hasOwnProperty(E)){for(var V=this.surfaces[E],Me=0;Me<V.length;Me++)V[Me]&&V[Me].lastGL&&(V[Me].geo!==void 0&&V[Me].geo.dispose(),V[Me].mat!==void 0&&V[Me].mat.dispose(),this.modelGroup.remove(V[Me].lastGL));delete this.surfaces[E]}return this.show(),this}jmolMoveTo(){var E=this.modelGroup.position,V="center { "+-E.x+" "+-E.y+" "+-E.z+" }; ",Me=this.rotationGroup.quaternion;return V+="moveto .5 quaternion { "+Me.x+" "+Me.y+" "+Me.z+" "+Me.w+" };"}clear(){return this.removeAllSurfaces(),this.removeAllModels(),this.removeAllLabels(),this.removeAllShapes(),this.show(),this}mapAtomProperties(E,V){V=V||{};var Me=this.getAtomsFromSel(V);if(typeof E=="function")for(let ll=0,Pl=Me.length;ll<Pl;ll++)E(Me[ll]);else for(let ll=0,Pl=Me.length;ll<Pl;ll++){var ot=Me[ll];for(let Bl=0,Ml=E.length;Bl<Ml;Bl++){let Vl=E[Bl];if(Vl.props)for(var Tl in Vl.props)Vl.props.hasOwnProperty(Tl)&&this.atomIsSelected(ot,Vl)&&(ot.properties||(ot.properties={}),ot.properties[Tl]=Vl.props[Tl])}}return this}linkViewer(E){return this.linkedViewers.push(E),this}getPerceivedDistance(){return this.CAMERA_Z-this.rotationGroup.position.z}setPerceivedDistance(E){this.rotationGroup.position.z=this.CAMERA_Z-E}setAutoEyeSeparation(E,V){var Me=this.getPerceivedDistance();return V||(V=5),E||this.camera.position.x>0?this.camera.position.x=Me*Math.tan(Math.PI/180*V):this.camera.position.x=-Me*Math.tan(Math.PI/180*V),this.camera.lookAt(new y.Vector3(0,0,this.rotationGroup.position.z)),this.camera.position.x}setDefaultCartoonQuality(E){this.config.cartoonQuality=E}}function Q0(kd,E){if(kd=(0,H.getElement)(kd)){E=E||{};try{return new Rp(kd,E)}catch(V){throw"error creating viewer: "+V}}}function dg(kd,E={},V={}){if(kd=(0,H.getElement)(kd)){var Me=[],ot=document.createElement("canvas");V.rows=E.rows,V.cols=E.cols,V.control_all=E.control_all!=null&&E.control_all,kd.appendChild(ot);try{for(var Tl=0;Tl<E.rows;Tl++){for(var ll=[],Pl=0;Pl<E.cols;Pl++){V.row=Tl,V.col=Pl,V.canvas=ot,V.viewers=Me,V.control_all=E.control_all;var Bl=Q0(kd,(0,H.extend)({},V));ll.push(Bl)}Me.unshift(ll)}}catch(Ml){throw"error creating viewer grid: "+Ml}return Me}}function jg(kd){var E=this;if(kd=(0,H.getElement)(kd)){var V=dg(kd,{rows:1,cols:2,control_all:!0});this.glviewer1=V[0][0],this.glviewer2=V[0][1],this.glviewer1.setAutoEyeSeparation(!1),this.glviewer2.setAutoEyeSeparation(!0),this.glviewer1.linkViewer(this.glviewer2),this.glviewer2.linkViewer(this.glviewer1);for(var Me=Object.getOwnPropertyNames(this.glviewer1.__proto__).filter(function(Tl){return typeof E.glviewer1[Tl]=="function"}),ot=0;ot<Me.length;ot++)this[Me[ot]]=(function(Tl){return function(){return[this.glviewer1[Tl].apply(this.glviewer1,arguments),this.glviewer2[Tl].apply(this.glviewer2,arguments)]}})(Me[ot]);this.setCoordinates=function(Tl,ll,Pl){for(var Bl=0;Bl<Tl.length;Bl++)Tl[Bl].setCoordinates(ll,Pl)},this.surfacesFinished=function(){return this.glviewer1.surfacesFinished()&&this.glviewer2.surfacesFinished()},this.isAnimated=function(){return this.glviewer1.isAnimated()||this.glviewer2.isAnimated()},this.render=function(Tl){this.glviewer1.render(),this.glviewer2.render(),Tl&&Tl(this)},this.getCanvas=function(){return this.glviewer1.getCanvas()}}}Rp.numWorkers=4,Rp.maxVolume=64e3,Rp.surfaceTypeMap={VDW:yg.VDW,MS:yg.MS,SAS:yg.SAS,SES:yg.SES};var Jp=!1,og=!1,i0={};function ag(kd,E){var V,Me,ot;if(document.querySelector(".viewer_3Dmoljs")!=null&&(Jp=!0),Jp){og=!0,kd=kd??null;var Tl=0;document.querySelectorAll(".viewer_3Dmoljs").forEach(ll=>{var Pl=[],Bl=[],Ml="";ll.style.position=="static"&&(ll.style.position="relative");var Vl=null;if(ot=null,ll.dataset.pdb)Pl.push("https://files.rcsb.org/view/"+ll.dataset.pdb+".pdb"),Bl.push("pdb");else if(ll.dataset.cid)Bl.push("sdf"),Pl.push("https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+ll.dataset.cid+"/SDF?record_type=3d");else if(ll.dataset.href||ll.dataset.url){if(Ml=ll.dataset.href?ll.dataset.href:ll.dataset.url,Pl.push(Ml),(ot=Ml.substring(Ml.lastIndexOf(".")+1))=="gz"){let nf=Ml.substring(0,Ml.lastIndexOf(".")).lastIndexOf(".");ot=Ml.substring(nf+1)}Bl.push(ot);var Yl=Ml.substring(Ml.lastIndexOf("/")+1,Ml.lastIndexOf("."));Yl=="/"&&(Yl=Ml.substring(Ml.lastIndexOf("/")+1)),ll.dataset[Bl[Bl.length-1]]=Yl}let zu=ll.dataset;for(V in zu)V.substring(0,3)==="pdb"&&V!=="pdb"?(Pl.push("https://files.rcsb.org/view/"+zu[V]+".pdb"),Bl.push("pdb")):V.substring(0,4)==="href"&&V!=="href"?(Ml=zu[V],Pl.push(Ml),Bl.push(Ml.substring(Ml.lastIndexOf(".")+1))):V.substring(0,3)==="cid"&&V!=="cid"&&(Pl.push("https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+zu[V]+"/SDF?record_type=3d"),Bl.push("sdf"));var Fu={};ll.dataset.options&&(Fu=(0,H.specStringToObject)(ll.dataset.options));var mu=L.CC.color(ll.dataset.backgroundcolor),Lu=ll.dataset.backgroundalpha;Lu=Lu==null?1:parseFloat(Lu);var Du={line:{}};ll.dataset.style&&(Du=(0,H.specStringToObject)(ll.dataset.style));var Qu={};ll.dataset.select&&(Qu=(0,H.specStringToObject)(ll.dataset.select));var ld=[],vd=[],Ld=[],Ad={},nh=null,dh=ll.dataset,vh=/style(.+)/,Xl=/surface(.*)/,$u=/labelres(.*)/,Wd=[];for(Me in dh)Object.prototype.hasOwnProperty.call(dh,Me)&&Wd.push(Me);for(Wd.sort(),V=0;V<Wd.length;V++){Me=Wd[V];var ih,ph,Dh,Uh=vh.exec(Me);Uh&&(ih="select"+Uh[1],ph=(0,H.specStringToObject)(dh[ih]),Dh=(0,H.specStringToObject)(dh[Me]),ld.push([ph,Dh])),(Uh=Xl.exec(Me))&&(ih="select"+Uh[1],ph=(0,H.specStringToObject)(dh[ih]),Dh=(0,H.specStringToObject)(dh[Me]),vd.push([ph,Dh])),(Uh=$u.exec(Me))&&(ih="select"+Uh[1],ph=(0,H.specStringToObject)(dh[ih]),Dh=(0,H.specStringToObject)(dh[Me]),Ld.push([ph,Dh])),Me=="zoomto"&&(Ad=(0,H.specStringToObject)(dh[Me])),Me=="spin"&&(nh=(0,H.specStringToObject)(dh[Me]))}var Oh=function(nf){for(nf.setStyle(Qu,Du),Vl&&Vl.createSelectionAndStyle(Qu,Du),V=0;V<ld.length;V++){let mf=ld[V][0]||{},af=ld[V][1]||{line:{}};nf.setStyle(mf,af),Vl&&Vl.createSelectionAndStyle(Qu,Du)}for(V=0;V<vd.length;V++){let mf=vd[V][0]||{},af=vd[V][1]||{};Vl?nf.addSurface(yg.VDW,af,mf,mf).then(zh=>{Vl.loadSurface("VDW",mf,af,zh)}):nf.addSurface(yg.VDW,af,mf,mf)}for(V=0;V<Ld.length;V++){let mf=Ld[V][0]||{},af=Ld[V][1]||{};nf.addResLabels(mf,af)}nf.render(),nf.zoomTo(Ad),nh&&nf.spin(nh.axis,nh.speed)};let Rh=kd;try{var Yh=(0,H.specStringToObject)(ll.dataset.config)||{};Yh.backgroundColor===void 0&&(Yh.backgroundColor=mu),Yh.backgroundAlpha===void 0&&(Yh.backgroundAlpha=Lu),Rh==null?Rh=i0[ll.id||Tl++]=Q0(ll,Yh):(Rh.setBackgroundColor(mu,Lu),Rh.setConfig(Yh),Vl&&Vl.initiateUI()),ll.dataset.ui&&$3Dmol.StateManager&&(Vl=new $3Dmol.StateManager(Rh))}catch(nf){console.log(nf),ll.textContent="WebGL appears to be disabled."}if(Pl.length!=0){let nf=0,mf=((af,zh)=>function(Af){Ml=Pl[nf];var $f=af.dataset.type||af.dataset.datatype||Bl[nf];if(zh.addModel(Af,$f,Fu),Vl){var Rf=af.dataset[Bl[nf]];Vl.setModelTitle(Rf)}nf+=1,nf<Pl.length?(0,H.get)(Pl[nf]).then(mf):(Oh(zh),af.dataset.callback&&(0,H.makeFunction)(af.dataset.callback)(zh),og=!1,E&&E(zh))})(ll,Rh);ot&&ot.endsWith("gz")?(0,H.getbin)(Pl[0]).then(mf):(0,H.get)(Pl[0]).then(mf)}else{if(ll.dataset.element){var wh="#"+ll.dataset.element,Hh=document.querySelector(wh),Cf=Hh?Hh.textContent:"";ot=ll.dataset.type||ll.dataset.datatype,Rh.addModel(Cf,ot,Fu)}Oh(Rh),ll.dataset.callback&&(0,H.makeFunction)(ll.dataset.callback)(Rh),og=!1,E&&E(Rh)}})}}document.onreadystatechange=()=>{document.readyState==="complete"&&ag()};const Yp={"ALA:N":-.15,"ALA:CA":.1,"ALA:CB":0,"ALA:C":.6,"ALA:O":-.55,"ARG:N":-.15,"ARG:CA":.1,"ARG:CB":0,"ARG:CG":0,"ARG:CD":.1,"ARG:NE":-.1,"ARG:CZ":.5,"ARG:NH1":.25,"ARG:NH2":.25,"ARG:C":.6,"ARG:O":-.55,"ASN:N":-.15,"ASN:CA":.1,"ASN:CB":0,"ASN:CG":.55,"ASN:OD1":-.55,"ASN:ND2":0,"ASN:C":.6,"ASN:O":-.55,"ASP:N":-.15,"ASP:CA":.1,"ASP:CB":0,"ASP:CG":.14,"ASP:OD1":-.57,"ASP:OD2":-.57,"ASP:C":.6,"ASP:O":-.55,"CYS:N":-.15,"CYS:CA":.1,"CYS:CB":.19,"CYS:SG":-.19,"CYS:C":.6,"CYS:O":-.55,"GLN:N":-.15,"GLN:CA":.1,"GLN:CB":0,"GLN:CG":0,"GLN:CD":.55,"GLN:OE1":-.55,"GLN:NE2":0,"GLN:C":.6,"GLN:O":-.55,"GLU:N":-.15,"GLU:CA":.1,"GLU:CB":0,"GLU:CG":0,"GLU:CD":.14,"GLU:OE1":-.57,"GLU:OE2":-.57,"GLU:C":.6,"GLU:O":-.55,"GLY:N":-.15,"GLY:CA":.1,"GLY:C":.6,"GLY:O":-.55,"HIS:N":-.15,"HIS:CA":.1,"HIS:CB":0,"HIS:CG":.1,"HIS:ND1":-.1,"HIS:CD2":.1,"HIS:NE2":-.4,"HIS:CE1":.3,"HIS:C":.6,"HIS:O":-.55,"ILE:N":-.15,"ILE:CA":.1,"ILE:CB":0,"ILE:CG2":0,"ILE:CG1":0,"ILE:CD":0,"ILE:C":.6,"ILE:O":-.55,"LEU:N":-.15,"LEU:CA":.1,"LEU:CB":0,"LEU:CG":0,"LEU:CD1":0,"LEU:CD2":0,"LEU:C":.6,"LEU:O":-.55,"LYS:N":-.15,"LYS:CA":.1,"LYS:CB":0,"LYS:CG":0,"LYS:CD":0,"LYS:CE":.25,"LYS:NZ":.75,"LYS:C":.6,"LYS:O":-.55,"MET:N":-.15,"MET:CA":.1,"MET:CB":0,"MET:CG":.06,"MET:SD":-.12,"MET:CE":.06,"MET:C":.6,"MET:O":-.55,"PHE:N":-.15,"PHE:CA":.1,"PHE:CB":0,"PHE:CG":0,"PHE:CD1":0,"PHE:CD2":0,"PHE:CE1":0,"PHE:CE2":0,"PHE:CZ":0,"PHE:C":.6,"PHE:O":-.55,"PRO:N":-.25,"PRO:CD":.1,"PRO:CA":.1,"PRO:CB":0,"PRO:CG":0,"PRO:C":.6,"PRO:O":-.55,"SER:N":-.15,"SER:CA":.1,"SER:CB":.25,"SER:OG":-.25,"SER:C":.6,"SER:O":-.55,"THR:N":-.15,"THR:CA":.1,"THR:CB":.25,"THR:OG1":-.25,"THR:CG2":0,"THR:C":.6,"THR:O":-.55,"TRP:N":-.15,"TRP:CA":.1,"TRP:CB":0,"TRP:CG":-.03,"TRP:CD2":.1,"TRP:CE2":-.04,"TRP:CE3":-.03,"TRP:CD1":.06,"TRP:NE1":-.06,"TRP:CZ2":0,"TRP:CZ3":0,"TRP:CH2":0,"TRP:C":.6,"TRP:O":-.55,"TYR:N":-.15,"TYR:CA":.1,"TYR:CB":0,"TYR:CG":0,"TYR:CD1":0,"TYR:CE1":0,"TYR:CD2":0,"TYR:CE2":0,"TYR:CZ":.25,"TYR:OH":-.25,"TYR:C":.6,"TYR:O":-.55,"VAL:N":-.15,"VAL:CA":.1,"VAL:CB":0,"VAL:CG1":0,"VAL:CG2":0,"VAL:C":.6,"VAL:O":-.55};function Ng(kd,E){if((!E||kd.partialCharge===void 0)&&kd.resn&&kd.atom){var V=kd.resn+":"+kd.atom;kd.properties.partialCharge=Yp[V]}}window&&(window.$3Dmol=n)},40:(r,n,o)=>{o.r(n),o.d(n,{bondLength:()=>c,bondTable:()=>l,setBondLength:()=>f});let l={H:.37,He:.32,Li:1.34,Be:.9,B:.82,C:.77,N:.75,O:.73,F:.71,Ne:.69,Na:1.54,Mg:1.3,Al:1.18,Si:1.11,P:1.06,S:1.02,Cl:.99,Ar:.97,K:1.96,Ca:1.74,Sc:1.44,Ti:1.56,V:1.25,Mn:1.39,Fe:1.25,Co:1.26,Ni:1.21,Cu:1.38,Zn:1.31,Ga:1.26,Ge:1.22,Se:1.16,Br:1.14,Kr:1.1,Rb:2.11,Sr:1.92,Y:1.62,Zr:1.48,Nb:1.37,Mo:1.45,Tc:1.56,Ru:1.26,Rh:1.35,Pd:1.31,Ag:1.53,Cd:1.48,In:1.44,Sn:1.41,Sb:1.38,Te:1.35,I:1.33,Xe:1.3,Cs:2.25,Ba:1.98,Lu:1.6,Hf:1.5,Ta:1.38,W:1.46,Re:1.59,Os:1.44,Ir:1.37,Pt:1.28,Au:1.44,Hg:1.49,Tl:1.48,Pb:1.47,Bi:1.46,Rn:1.45};function c(d){return l[d]||1.6}function f(d,w){w<0&&(w=0),l[d]=w}},71:(r,n,o)=>{var l=o(107),c=o(981),f=o(972),d=o(834),w=o(746),y=Object.prototype.toString;function L(H){if(!(this instanceof L))return new L(H);this.options=c.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},H||{});var ce=this.options;ce.raw&&ce.windowBits>0?ce.windowBits=-ce.windowBits:ce.gzip&&ce.windowBits>0&&ce.windowBits<16&&(ce.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new w,this.strm.avail_out=0;var ie=l.deflateInit2(this.strm,ce.level,ce.method,ce.windowBits,ce.memLevel,ce.strategy);if(ie!==0)throw new Error(d[ie]);if(ce.header&&l.deflateSetHeader(this.strm,ce.header),ce.dictionary){var Et;if(Et=typeof ce.dictionary=="string"?f.string2buf(ce.dictionary):y.call(ce.dictionary)==="[object ArrayBuffer]"?new Uint8Array(ce.dictionary):ce.dictionary,(ie=l.deflateSetDictionary(this.strm,Et))!==0)throw new Error(d[ie]);this._dict_set=!0}}function G(H,ce){var ie=new L(ce);if(ie.push(H,!0),ie.err)throw ie.msg||d[ie.err];return ie.result}L.prototype.push=function(H,ce){var ie,Et,zn=this.strm,$l=this.options.chunkSize;if(this.ended)return!1;Et=ce===~~ce?ce:ce===!0?4:0,typeof H=="string"?zn.input=f.string2buf(H):y.call(H)==="[object ArrayBuffer]"?zn.input=new Uint8Array(H):zn.input=H,zn.next_in=0,zn.avail_in=zn.input.length;do{if(zn.avail_out===0&&(zn.output=new c.Buf8($l),zn.next_out=0,zn.avail_out=$l),(ie=l.deflate(zn,Et))!==1&&ie!==0)return this.onEnd(ie),this.ended=!0,!1;zn.avail_out!==0&&(zn.avail_in!==0||Et!==4&&Et!==2)||(this.options.to==="string"?this.onData(f.buf2binstring(c.shrinkBuf(zn.output,zn.next_out))):this.onData(c.shrinkBuf(zn.output,zn.next_out)))}while((zn.avail_in>0||zn.avail_out===0)&&ie!==1);return Et===4?(ie=l.deflateEnd(this.strm),this.onEnd(ie),this.ended=!0,ie===0):Et!==2||(this.onEnd(0),zn.avail_out=0,!0)},L.prototype.onData=function(H){this.chunks.push(H)},L.prototype.onEnd=function(H){H===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=H,this.msg=this.strm.msg},n.Deflate=L,n.deflate=G,n.deflateRaw=function(H,ce){return(ce=ce||{}).raw=!0,G(H,ce)},n.gzip=function(H,ce){return(ce=ce||{}).gzip=!0,G(H,ce)}},75:(r,n,o)=>{function l(Ln){let Yu=Ln.length;for(;--Yu>=0;)Ln[Yu]=0}o.r(n),o.d(n,{Deflate:()=>c0,Inflate:()=>W0,constants:()=>j0,default:()=>A0,deflate:()=>Xp,deflateRaw:()=>y0,gzip:()=>R0,inflate:()=>w0,inflateRaw:()=>V0,ungzip:()=>Qp});const c=256,f=286,d=30,w=15,y=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),L=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),G=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),H=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ce=new Array(576);l(ce);const ie=new Array(60);l(ie);const Et=new Array(512);l(Et);const zn=new Array(256);l(zn);const $l=new Array(29);l($l);const zl=new Array(d);function Hl(Ln,Yu,hl,eh,Xd){this.static_tree=Ln,this.extra_bits=Yu,this.extra_base=hl,this.elems=eh,this.max_length=Xd,this.has_stree=Ln&&Ln.length}let Ft,El,Kl;function Al(Ln,Yu){this.dyn_tree=Ln,this.max_code=0,this.stat_desc=Yu}l(zl);const vu=Ln=>Ln<256?Et[Ln]:Et[256+(Ln>>>7)],Nl=(Ln,Yu)=>{Ln.pending_buf[Ln.pending++]=255&Yu,Ln.pending_buf[Ln.pending++]=Yu>>>8&255},Xu=(Ln,Yu,hl)=>{Ln.bi_valid>16-hl?(Ln.bi_buf|=Yu<<Ln.bi_valid&65535,Nl(Ln,Ln.bi_buf),Ln.bi_buf=Yu>>16-Ln.bi_valid,Ln.bi_valid+=hl-16):(Ln.bi_buf|=Yu<<Ln.bi_valid&65535,Ln.bi_valid+=hl)},Vu=(Ln,Yu,hl)=>{Xu(Ln,hl[2*Yu],hl[2*Yu+1])},Zu=(Ln,Yu)=>{let hl=0;do hl|=1&Ln,Ln>>>=1,hl<<=1;while(--Yu>0);return hl>>>1},Od=(Ln,Yu,hl)=>{const eh=new Array(16);let Xd,Gd,Jh=0;for(Xd=1;Xd<=w;Xd++)Jh=Jh+hl[Xd-1]<<1,eh[Xd]=Jh;for(Gd=0;Gd<=Yu;Gd++){let Ch=Ln[2*Gd+1];Ch!==0&&(Ln[2*Gd]=Zu(eh[Ch]++,Ch))}},Id=Ln=>{let Yu;for(Yu=0;Yu<f;Yu++)Ln.dyn_ltree[2*Yu]=0;for(Yu=0;Yu<d;Yu++)Ln.dyn_dtree[2*Yu]=0;for(Yu=0;Yu<19;Yu++)Ln.bl_tree[2*Yu]=0;Ln.dyn_ltree[512]=1,Ln.opt_len=Ln.static_len=0,Ln.sym_next=Ln.matches=0},Bd=Ln=>{Ln.bi_valid>8?Nl(Ln,Ln.bi_buf):Ln.bi_valid>0&&(Ln.pending_buf[Ln.pending++]=Ln.bi_buf),Ln.bi_buf=0,Ln.bi_valid=0},Cd=(Ln,Yu,hl,eh)=>{const Xd=2*Yu,Gd=2*hl;return Ln[Xd]<Ln[Gd]||Ln[Xd]===Ln[Gd]&&eh[Yu]<=eh[hl]},Wl=(Ln,Yu,hl)=>{const eh=Ln.heap[hl];let Xd=hl<<1;for(;Xd<=Ln.heap_len&&(Xd<Ln.heap_len&&Cd(Yu,Ln.heap[Xd+1],Ln.heap[Xd],Ln.depth)&&Xd++,!Cd(Yu,eh,Ln.heap[Xd],Ln.depth));)Ln.heap[hl]=Ln.heap[Xd],hl=Xd,Xd<<=1;Ln.heap[hl]=eh},jd=(Ln,Yu,hl)=>{let eh,Xd,Gd,Jh,Ch=0;if(Ln.sym_next!==0)do eh=255&Ln.pending_buf[Ln.sym_buf+Ch++],eh+=(255&Ln.pending_buf[Ln.sym_buf+Ch++])<<8,Xd=Ln.pending_buf[Ln.sym_buf+Ch++],eh===0?Vu(Ln,Xd,Yu):(Gd=zn[Xd],Vu(Ln,Gd+c+1,Yu),Jh=y[Gd],Jh!==0&&(Xd-=$l[Gd],Xu(Ln,Xd,Jh)),eh--,Gd=vu(eh),Vu(Ln,Gd,hl),Jh=L[Gd],Jh!==0&&(eh-=zl[Gd],Xu(Ln,eh,Jh)));while(Ch<Ln.sym_next);Vu(Ln,256,Yu)},Md=(Ln,Yu)=>{const hl=Yu.dyn_tree,eh=Yu.stat_desc.static_tree,Xd=Yu.stat_desc.has_stree,Gd=Yu.stat_desc.elems;let Jh,Ch,Uf,Fh=-1;for(Ln.heap_len=0,Ln.heap_max=573,Jh=0;Jh<Gd;Jh++)hl[2*Jh]!==0?(Ln.heap[++Ln.heap_len]=Fh=Jh,Ln.depth[Jh]=0):hl[2*Jh+1]=0;for(;Ln.heap_len<2;)Uf=Ln.heap[++Ln.heap_len]=Fh<2?++Fh:0,hl[2*Uf]=1,Ln.depth[Uf]=0,Ln.opt_len--,Xd&&(Ln.static_len-=eh[2*Uf+1]);for(Yu.max_code=Fh,Jh=Ln.heap_len>>1;Jh>=1;Jh--)Wl(Ln,hl,Jh);Uf=Gd;do Jh=Ln.heap[1],Ln.heap[1]=Ln.heap[Ln.heap_len--],Wl(Ln,hl,1),Ch=Ln.heap[1],Ln.heap[--Ln.heap_max]=Jh,Ln.heap[--Ln.heap_max]=Ch,hl[2*Uf]=hl[2*Jh]+hl[2*Ch],Ln.depth[Uf]=(Ln.depth[Jh]>=Ln.depth[Ch]?Ln.depth[Jh]:Ln.depth[Ch])+1,hl[2*Jh+1]=hl[2*Ch+1]=Uf,Ln.heap[1]=Uf++,Wl(Ln,hl,1);while(Ln.heap_len>=2);Ln.heap[--Ln.heap_max]=Ln.heap[1],((ff,O0)=>{const Up=O0.dyn_tree,Yf=O0.max_code,Yg=O0.stat_desc.static_tree,sg=O0.stat_desc.has_stree,d0=O0.stat_desc.extra_bits,Sg=O0.stat_desc.extra_base,T0=O0.stat_desc.max_length;let Kf,e0,fg,Ip,xg,z0,M0=0;for(Ip=0;Ip<=w;Ip++)ff.bl_count[Ip]=0;for(Up[2*ff.heap[ff.heap_max]+1]=0,Kf=ff.heap_max+1;Kf<573;Kf++)e0=ff.heap[Kf],Ip=Up[2*Up[2*e0+1]+1]+1,Ip>T0&&(Ip=T0,M0++),Up[2*e0+1]=Ip,e0>Yf||(ff.bl_count[Ip]++,xg=0,e0>=Sg&&(xg=d0[e0-Sg]),z0=Up[2*e0],ff.opt_len+=z0*(Ip+xg),sg&&(ff.static_len+=z0*(Yg[2*e0+1]+xg)));if(M0!==0){do{for(Ip=T0-1;ff.bl_count[Ip]===0;)Ip--;ff.bl_count[Ip]--,ff.bl_count[Ip+1]+=2,ff.bl_count[T0]--,M0-=2}while(M0>0);for(Ip=T0;Ip!==0;Ip--)for(e0=ff.bl_count[Ip];e0!==0;)fg=ff.heap[--Kf],fg>Yf||(Up[2*fg+1]!==Ip&&(ff.opt_len+=(Ip-Up[2*fg+1])*Up[2*fg],Up[2*fg+1]=Ip),e0--)}})(Ln,Yu),Od(hl,Fh,Ln.bl_count)},qu=(Ln,Yu,hl)=>{let eh,Xd,Gd=-1,Jh=Yu[1],Ch=0,Uf=7,Fh=4;for(Jh===0&&(Uf=138,Fh=3),Yu[2*(hl+1)+1]=65535,eh=0;eh<=hl;eh++)Xd=Jh,Jh=Yu[2*(eh+1)+1],++Ch<Uf&&Xd===Jh||(Ch<Fh?Ln.bl_tree[2*Xd]+=Ch:Xd!==0?(Xd!==Gd&&Ln.bl_tree[2*Xd]++,Ln.bl_tree[32]++):Ch<=10?Ln.bl_tree[34]++:Ln.bl_tree[36]++,Ch=0,Gd=Xd,Jh===0?(Uf=138,Fh=3):Xd===Jh?(Uf=6,Fh=3):(Uf=7,Fh=4))},ad=(Ln,Yu,hl)=>{let eh,Xd,Gd=-1,Jh=Yu[1],Ch=0,Uf=7,Fh=4;for(Jh===0&&(Uf=138,Fh=3),eh=0;eh<=hl;eh++)if(Xd=Jh,Jh=Yu[2*(eh+1)+1],!(++Ch<Uf&&Xd===Jh)){if(Ch<Fh)do Vu(Ln,Xd,Ln.bl_tree);while(--Ch!==0);else Xd!==0?(Xd!==Gd&&(Vu(Ln,Xd,Ln.bl_tree),Ch--),Vu(Ln,16,Ln.bl_tree),Xu(Ln,Ch-3,2)):Ch<=10?(Vu(Ln,17,Ln.bl_tree),Xu(Ln,Ch-3,3)):(Vu(Ln,18,Ln.bl_tree),Xu(Ln,Ch-11,7));Ch=0,Gd=Xd,Jh===0?(Uf=138,Fh=3):Xd===Jh?(Uf=6,Fh=3):(Uf=7,Fh=4)}};let Dd=!1;const mh=(Ln,Yu,hl,eh)=>{Xu(Ln,0+(eh?1:0),3),Bd(Ln),Nl(Ln,hl),Nl(Ln,~hl),hl&&Ln.pending_buf.set(Ln.window.subarray(Yu,Yu+hl),Ln.pending),Ln.pending+=hl};var gd=(Ln,Yu,hl,eh)=>{let Xd,Gd,Jh=0;Ln.level>0?(Ln.strm.data_type===2&&(Ln.strm.data_type=(Ch=>{let Uf,Fh=4093624447;for(Uf=0;Uf<=31;Uf++,Fh>>>=1)if(1&Fh&&Ch.dyn_ltree[2*Uf]!==0)return 0;if(Ch.dyn_ltree[18]!==0||Ch.dyn_ltree[20]!==0||Ch.dyn_ltree[26]!==0)return 1;for(Uf=32;Uf<c;Uf++)if(Ch.dyn_ltree[2*Uf]!==0)return 1;return 0})(Ln)),Md(Ln,Ln.l_desc),Md(Ln,Ln.d_desc),Jh=(Ch=>{let Uf;for(qu(Ch,Ch.dyn_ltree,Ch.l_desc.max_code),qu(Ch,Ch.dyn_dtree,Ch.d_desc.max_code),Md(Ch,Ch.bl_desc),Uf=18;Uf>=3&&Ch.bl_tree[2*H[Uf]+1]===0;Uf--);return Ch.opt_len+=3*(Uf+1)+5+5+4,Uf})(Ln),Xd=Ln.opt_len+3+7>>>3,Gd=Ln.static_len+3+7>>>3,Gd<=Xd&&(Xd=Gd)):Xd=Gd=hl+5,hl+4<=Xd&&Yu!==-1?mh(Ln,Yu,hl,eh):Ln.strategy===4||Gd===Xd?(Xu(Ln,2+(eh?1:0),3),jd(Ln,ce,ie)):(Xu(Ln,4+(eh?1:0),3),((Ch,Uf,Fh,ff)=>{let O0;for(Xu(Ch,Uf-257,5),Xu(Ch,Fh-1,5),Xu(Ch,ff-4,4),O0=0;O0<ff;O0++)Xu(Ch,Ch.bl_tree[2*H[O0]+1],3);ad(Ch,Ch.dyn_ltree,Uf-1),ad(Ch,Ch.dyn_dtree,Fh-1)})(Ln,Ln.l_desc.max_code+1,Ln.d_desc.max_code+1,Jh+1),jd(Ln,Ln.dyn_ltree,Ln.dyn_dtree)),Id(Ln),eh&&Bd(Ln)},md={_tr_init:Ln=>{Dd||((()=>{let Yu,hl,eh,Xd,Gd;const Jh=new Array(16);for(eh=0,Xd=0;Xd<28;Xd++)for($l[Xd]=eh,Yu=0;Yu<1<<y[Xd];Yu++)zn[eh++]=Xd;for(zn[eh-1]=Xd,Gd=0,Xd=0;Xd<16;Xd++)for(zl[Xd]=Gd,Yu=0;Yu<1<<L[Xd];Yu++)Et[Gd++]=Xd;for(Gd>>=7;Xd<d;Xd++)for(zl[Xd]=Gd<<7,Yu=0;Yu<1<<L[Xd]-7;Yu++)Et[256+Gd++]=Xd;for(hl=0;hl<=w;hl++)Jh[hl]=0;for(Yu=0;Yu<=143;)ce[2*Yu+1]=8,Yu++,Jh[8]++;for(;Yu<=255;)ce[2*Yu+1]=9,Yu++,Jh[9]++;for(;Yu<=279;)ce[2*Yu+1]=7,Yu++,Jh[7]++;for(;Yu<=287;)ce[2*Yu+1]=8,Yu++,Jh[8]++;for(Od(ce,287,Jh),Yu=0;Yu<d;Yu++)ie[2*Yu+1]=5,ie[2*Yu]=Zu(Yu,5);Ft=new Hl(ce,y,257,f,w),El=new Hl(ie,L,0,d,w),Kl=new Hl(new Array(0),G,0,19,7)})(),Dd=!0),Ln.l_desc=new Al(Ln.dyn_ltree,Ft),Ln.d_desc=new Al(Ln.dyn_dtree,El),Ln.bl_desc=new Al(Ln.bl_tree,Kl),Ln.bi_buf=0,Ln.bi_valid=0,Id(Ln)},_tr_stored_block:mh,_tr_flush_block:gd,_tr_tally:(Ln,Yu,hl)=>(Ln.pending_buf[Ln.sym_buf+Ln.sym_next++]=Yu,Ln.pending_buf[Ln.sym_buf+Ln.sym_next++]=Yu>>8,Ln.pending_buf[Ln.sym_buf+Ln.sym_next++]=hl,Yu===0?Ln.dyn_ltree[2*hl]++:(Ln.matches++,Yu--,Ln.dyn_ltree[2*(zn[hl]+c+1)]++,Ln.dyn_dtree[2*vu(Yu)]++),Ln.sym_next===Ln.sym_end),_tr_align:Ln=>{Xu(Ln,2,3),Vu(Ln,256,ce),(Yu=>{Yu.bi_valid===16?(Nl(Yu,Yu.bi_buf),Yu.bi_buf=0,Yu.bi_valid=0):Yu.bi_valid>=8&&(Yu.pending_buf[Yu.pending++]=255&Yu.bi_buf,Yu.bi_buf>>=8,Yu.bi_valid-=8)})(Ln)}},oh=(Ln,Yu,hl,eh)=>{let Xd=65535&Ln,Gd=Ln>>>16&65535,Jh=0;for(;hl!==0;){Jh=hl>2e3?2e3:hl,hl-=Jh;do Xd=Xd+Yu[eh++]|0,Gd=Gd+Xd|0;while(--Jh);Xd%=65521,Gd%=65521}return Xd|Gd<<16};const qh=new Uint32Array((()=>{let Ln,Yu=[];for(var hl=0;hl<256;hl++){Ln=hl;for(var eh=0;eh<8;eh++)Ln=1&Ln?3988292384^Ln>>>1:Ln>>>1;Yu[hl]=Ln}return Yu})());var sf=(Ln,Yu,hl,eh)=>{const Xd=qh,Gd=eh+hl;Ln^=-1;for(let Jh=eh;Jh<Gd;Jh++)Ln=Ln>>>8^Xd[255&(Ln^Yu[Jh])];return-1^Ln},yh={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},vf={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Ef,_tr_stored_block:kf,_tr_flush_block:Mp,_tr_tally:rp,_tr_align:Fp}=md,{Z_NO_FLUSH:_0,Z_PARTIAL_FLUSH:L0,Z_FULL_FLUSH:Gp,Z_FINISH:E0,Z_BLOCK:l0,Z_OK:n0,Z_STREAM_END:Z0,Z_STREAM_ERROR:G0,Z_DATA_ERROR:X0,Z_BUF_ERROR:$g,Z_DEFAULT_COMPRESSION:Gg,Z_FILTERED:_f,Z_HUFFMAN_ONLY:hd,Z_RLE:qd,Z_FIXED:fh,Z_DEFAULT_STRATEGY:Mf,Z_UNKNOWN:lf,Z_DEFLATED:mp}=vf,rf=258,hp=262,Cp=42,sp=113,jp=666,Cg=(Ln,Yu)=>(Ln.msg=yh[Yu],Yu),tg=Ln=>2*Ln-(Ln>4?9:0),qg=Ln=>{let Yu=Ln.length;for(;--Yu>=0;)Ln[Yu]=0},ig=Ln=>{let Yu,hl,eh,Xd=Ln.w_size;Yu=Ln.hash_size,eh=Yu;do hl=Ln.head[--eh],Ln.head[eh]=hl>=Xd?hl-Xd:0;while(--Yu);Yu=Xd,eh=Yu;do hl=Ln.prev[--eh],Ln.prev[eh]=hl>=Xd?hl-Xd:0;while(--Yu)};let Ag=(Ln,Yu,hl)=>(Yu<<Ln.hash_shift^hl)&Ln.hash_mask;const vg=Ln=>{const Yu=Ln.state;let hl=Yu.pending;hl>Ln.avail_out&&(hl=Ln.avail_out),hl!==0&&(Ln.output.set(Yu.pending_buf.subarray(Yu.pending_out,Yu.pending_out+hl),Ln.next_out),Ln.next_out+=hl,Yu.pending_out+=hl,Ln.total_out+=hl,Ln.avail_out-=hl,Yu.pending-=hl,Yu.pending===0&&(Yu.pending_out=0))},cg=(Ln,Yu)=>{Mp(Ln,Ln.block_start>=0?Ln.block_start:-1,Ln.strstart-Ln.block_start,Yu),Ln.block_start=Ln.strstart,vg(Ln.strm)},_p=(Ln,Yu)=>{Ln.pending_buf[Ln.pending++]=Yu},Ep=(Ln,Yu)=>{Ln.pending_buf[Ln.pending++]=Yu>>>8&255,Ln.pending_buf[Ln.pending++]=255&Yu},dm=(Ln,Yu,hl,eh)=>{let Xd=Ln.avail_in;return Xd>eh&&(Xd=eh),Xd===0?0:(Ln.avail_in-=Xd,Yu.set(Ln.input.subarray(Ln.next_in,Ln.next_in+Xd),hl),Ln.state.wrap===1?Ln.adler=oh(Ln.adler,Yu,Xd,hl):Ln.state.wrap===2&&(Ln.adler=sf(Ln.adler,Yu,Xd,hl)),Ln.next_in+=Xd,Ln.total_in+=Xd,Xd)},Om=(Ln,Yu)=>{let hl,eh,Xd=Ln.max_chain_length,Gd=Ln.strstart,Jh=Ln.prev_length,Ch=Ln.nice_match;const Uf=Ln.strstart>Ln.w_size-hp?Ln.strstart-(Ln.w_size-hp):0,Fh=Ln.window,ff=Ln.w_mask,O0=Ln.prev,Up=Ln.strstart+rf;let Yf=Fh[Gd+Jh-1],Yg=Fh[Gd+Jh];Ln.prev_length>=Ln.good_match&&(Xd>>=2),Ch>Ln.lookahead&&(Ch=Ln.lookahead);do if(hl=Yu,Fh[hl+Jh]===Yg&&Fh[hl+Jh-1]===Yf&&Fh[hl]===Fh[Gd]&&Fh[++hl]===Fh[Gd+1]){Gd+=2,hl++;do;while(Fh[++Gd]===Fh[++hl]&&Fh[++Gd]===Fh[++hl]&&Fh[++Gd]===Fh[++hl]&&Fh[++Gd]===Fh[++hl]&&Fh[++Gd]===Fh[++hl]&&Fh[++Gd]===Fh[++hl]&&Fh[++Gd]===Fh[++hl]&&Fh[++Gd]===Fh[++hl]&&Gd<Up);if(eh=rf-(Up-Gd),Gd=Up-rf,eh>Jh){if(Ln.match_start=Yu,Jh=eh,eh>=Ch)break;Yf=Fh[Gd+Jh-1],Yg=Fh[Gd+Jh]}}while((Yu=O0[Yu&ff])>Uf&&--Xd!==0);return Jh<=Ln.lookahead?Jh:Ln.lookahead},Pp=Ln=>{const Yu=Ln.w_size;let hl,eh,Xd;do{if(eh=Ln.window_size-Ln.lookahead-Ln.strstart,Ln.strstart>=Yu+(Yu-hp)&&(Ln.window.set(Ln.window.subarray(Yu,Yu+Yu-eh),0),Ln.match_start-=Yu,Ln.strstart-=Yu,Ln.block_start-=Yu,Ln.insert>Ln.strstart&&(Ln.insert=Ln.strstart),ig(Ln),eh+=Yu),Ln.strm.avail_in===0)break;if(hl=dm(Ln.strm,Ln.window,Ln.strstart+Ln.lookahead,eh),Ln.lookahead+=hl,Ln.lookahead+Ln.insert>=3)for(Xd=Ln.strstart-Ln.insert,Ln.ins_h=Ln.window[Xd],Ln.ins_h=Ag(Ln,Ln.ins_h,Ln.window[Xd+1]);Ln.insert&&(Ln.ins_h=Ag(Ln,Ln.ins_h,Ln.window[Xd+3-1]),Ln.prev[Xd&Ln.w_mask]=Ln.head[Ln.ins_h],Ln.head[Ln.ins_h]=Xd,Xd++,Ln.insert--,!(Ln.lookahead+Ln.insert<3)););}while(Ln.lookahead<hp&&Ln.strm.avail_in!==0)},Xg=(Ln,Yu)=>{let hl,eh,Xd,Gd=Ln.pending_buf_size-5>Ln.w_size?Ln.w_size:Ln.pending_buf_size-5,Jh=0,Ch=Ln.strm.avail_in;do{if(hl=65535,Xd=Ln.bi_valid+42>>3,Ln.strm.avail_out<Xd||(Xd=Ln.strm.avail_out-Xd,eh=Ln.strstart-Ln.block_start,hl>eh+Ln.strm.avail_in&&(hl=eh+Ln.strm.avail_in),hl>Xd&&(hl=Xd),hl<Gd&&(hl===0&&Yu!==E0||Yu===_0||hl!==eh+Ln.strm.avail_in)))break;Jh=Yu===E0&&hl===eh+Ln.strm.avail_in?1:0,kf(Ln,0,0,Jh),Ln.pending_buf[Ln.pending-4]=hl,Ln.pending_buf[Ln.pending-3]=hl>>8,Ln.pending_buf[Ln.pending-2]=~hl,Ln.pending_buf[Ln.pending-1]=~hl>>8,vg(Ln.strm),eh&&(eh>hl&&(eh=hl),Ln.strm.output.set(Ln.window.subarray(Ln.block_start,Ln.block_start+eh),Ln.strm.next_out),Ln.strm.next_out+=eh,Ln.strm.avail_out-=eh,Ln.strm.total_out+=eh,Ln.block_start+=eh,hl-=eh),hl&&(dm(Ln.strm,Ln.strm.output,Ln.strm.next_out,hl),Ln.strm.next_out+=hl,Ln.strm.avail_out-=hl,Ln.strm.total_out+=hl)}while(Jh===0);return Ch-=Ln.strm.avail_in,Ch&&(Ch>=Ln.w_size?(Ln.matches=2,Ln.window.set(Ln.strm.input.subarray(Ln.strm.next_in-Ln.w_size,Ln.strm.next_in),0),Ln.strstart=Ln.w_size,Ln.insert=Ln.strstart):(Ln.window_size-Ln.strstart<=Ch&&(Ln.strstart-=Ln.w_size,Ln.window.set(Ln.window.subarray(Ln.w_size,Ln.w_size+Ln.strstart),0),Ln.matches<2&&Ln.matches++,Ln.insert>Ln.strstart&&(Ln.insert=Ln.strstart)),Ln.window.set(Ln.strm.input.subarray(Ln.strm.next_in-Ch,Ln.strm.next_in),Ln.strstart),Ln.strstart+=Ch,Ln.insert+=Ch>Ln.w_size-Ln.insert?Ln.w_size-Ln.insert:Ch),Ln.block_start=Ln.strstart),Ln.high_water<Ln.strstart&&(Ln.high_water=Ln.strstart),Jh?4:Yu!==_0&&Yu!==E0&&Ln.strm.avail_in===0&&Ln.strstart===Ln.block_start?2:(Xd=Ln.window_size-Ln.strstart,Ln.strm.avail_in>Xd&&Ln.block_start>=Ln.w_size&&(Ln.block_start-=Ln.w_size,Ln.strstart-=Ln.w_size,Ln.window.set(Ln.window.subarray(Ln.w_size,Ln.w_size+Ln.strstart),0),Ln.matches<2&&Ln.matches++,Xd+=Ln.w_size,Ln.insert>Ln.strstart&&(Ln.insert=Ln.strstart)),Xd>Ln.strm.avail_in&&(Xd=Ln.strm.avail_in),Xd&&(dm(Ln.strm,Ln.window,Ln.strstart,Xd),Ln.strstart+=Xd,Ln.insert+=Xd>Ln.w_size-Ln.insert?Ln.w_size-Ln.insert:Xd),Ln.high_water<Ln.strstart&&(Ln.high_water=Ln.strstart),Xd=Ln.bi_valid+42>>3,Xd=Ln.pending_buf_size-Xd>65535?65535:Ln.pending_buf_size-Xd,Gd=Xd>Ln.w_size?Ln.w_size:Xd,eh=Ln.strstart-Ln.block_start,(eh>=Gd||(eh||Yu===E0)&&Yu!==_0&&Ln.strm.avail_in===0&&eh<=Xd)&&(hl=eh>Xd?Xd:eh,Jh=Yu===E0&&Ln.strm.avail_in===0&&hl===eh?1:0,kf(Ln,Ln.block_start,hl,Jh),Ln.block_start+=hl,vg(Ln.strm)),Jh?3:1)},wm=(Ln,Yu)=>{let hl,eh;for(;;){if(Ln.lookahead<hp){if(Pp(Ln),Ln.lookahead<hp&&Yu===_0)return 1;if(Ln.lookahead===0)break}if(hl=0,Ln.lookahead>=3&&(Ln.ins_h=Ag(Ln,Ln.ins_h,Ln.window[Ln.strstart+3-1]),hl=Ln.prev[Ln.strstart&Ln.w_mask]=Ln.head[Ln.ins_h],Ln.head[Ln.ins_h]=Ln.strstart),hl!==0&&Ln.strstart-hl<=Ln.w_size-hp&&(Ln.match_length=Om(Ln,hl)),Ln.match_length>=3)if(eh=rp(Ln,Ln.strstart-Ln.match_start,Ln.match_length-3),Ln.lookahead-=Ln.match_length,Ln.match_length<=Ln.max_lazy_match&&Ln.lookahead>=3){Ln.match_length--;do Ln.strstart++,Ln.ins_h=Ag(Ln,Ln.ins_h,Ln.window[Ln.strstart+3-1]),hl=Ln.prev[Ln.strstart&Ln.w_mask]=Ln.head[Ln.ins_h],Ln.head[Ln.ins_h]=Ln.strstart;while(--Ln.match_length!==0);Ln.strstart++}else Ln.strstart+=Ln.match_length,Ln.match_length=0,Ln.ins_h=Ln.window[Ln.strstart],Ln.ins_h=Ag(Ln,Ln.ins_h,Ln.window[Ln.strstart+1]);else eh=rp(Ln,0,Ln.window[Ln.strstart]),Ln.lookahead--,Ln.strstart++;if(eh&&(cg(Ln,!1),Ln.strm.avail_out===0))return 1}return Ln.insert=Ln.strstart<2?Ln.strstart:2,Yu===E0?(cg(Ln,!0),Ln.strm.avail_out===0?3:4):Ln.sym_next&&(cg(Ln,!1),Ln.strm.avail_out===0)?1:2},hm=(Ln,Yu)=>{let hl,eh,Xd;for(;;){if(Ln.lookahead<hp){if(Pp(Ln),Ln.lookahead<hp&&Yu===_0)return 1;if(Ln.lookahead===0)break}if(hl=0,Ln.lookahead>=3&&(Ln.ins_h=Ag(Ln,Ln.ins_h,Ln.window[Ln.strstart+3-1]),hl=Ln.prev[Ln.strstart&Ln.w_mask]=Ln.head[Ln.ins_h],Ln.head[Ln.ins_h]=Ln.strstart),Ln.prev_length=Ln.match_length,Ln.prev_match=Ln.match_start,Ln.match_length=2,hl!==0&&Ln.prev_length<Ln.max_lazy_match&&Ln.strstart-hl<=Ln.w_size-hp&&(Ln.match_length=Om(Ln,hl),Ln.match_length<=5&&(Ln.strategy===_f||Ln.match_length===3&&Ln.strstart-Ln.match_start>4096)&&(Ln.match_length=2)),Ln.prev_length>=3&&Ln.match_length<=Ln.prev_length){Xd=Ln.strstart+Ln.lookahead-3,eh=rp(Ln,Ln.strstart-1-Ln.prev_match,Ln.prev_length-3),Ln.lookahead-=Ln.prev_length-1,Ln.prev_length-=2;do++Ln.strstart<=Xd&&(Ln.ins_h=Ag(Ln,Ln.ins_h,Ln.window[Ln.strstart+3-1]),hl=Ln.prev[Ln.strstart&Ln.w_mask]=Ln.head[Ln.ins_h],Ln.head[Ln.ins_h]=Ln.strstart);while(--Ln.prev_length!==0);if(Ln.match_available=0,Ln.match_length=2,Ln.strstart++,eh&&(cg(Ln,!1),Ln.strm.avail_out===0))return 1}else if(Ln.match_available){if(eh=rp(Ln,0,Ln.window[Ln.strstart-1]),eh&&cg(Ln,!1),Ln.strstart++,Ln.lookahead--,Ln.strm.avail_out===0)return 1}else Ln.match_available=1,Ln.strstart++,Ln.lookahead--}return Ln.match_available&&(eh=rp(Ln,0,Ln.window[Ln.strstart-1]),Ln.match_available=0),Ln.insert=Ln.strstart<2?Ln.strstart:2,Yu===E0?(cg(Ln,!0),Ln.strm.avail_out===0?3:4):Ln.sym_next&&(cg(Ln,!1),Ln.strm.avail_out===0)?1:2};function Vg(Ln,Yu,hl,eh,Xd){this.good_length=Ln,this.max_lazy=Yu,this.nice_length=hl,this.max_chain=eh,this.func=Xd}const Qg=[new Vg(0,0,0,0,Xg),new Vg(4,4,8,4,wm),new Vg(4,5,16,8,wm),new Vg(4,6,32,32,wm),new Vg(4,4,16,16,hm),new Vg(8,16,32,32,hm),new Vg(8,16,128,128,hm),new Vg(8,32,128,256,hm),new Vg(32,128,258,1024,hm),new Vg(32,258,258,4096,hm)];function Tg(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=mp,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),qg(this.dyn_ltree),qg(this.dyn_dtree),qg(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),qg(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),qg(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const vm=Ln=>{if(!Ln)return 1;const Yu=Ln.state;return!Yu||Yu.strm!==Ln||Yu.status!==Cp&&Yu.status!==57&&Yu.status!==69&&Yu.status!==73&&Yu.status!==91&&Yu.status!==103&&Yu.status!==sp&&Yu.status!==jp?1:0},zm=Ln=>{if(vm(Ln))return Cg(Ln,G0);Ln.total_in=Ln.total_out=0,Ln.data_type=lf;const Yu=Ln.state;return Yu.pending=0,Yu.pending_out=0,Yu.wrap<0&&(Yu.wrap=-Yu.wrap),Yu.status=Yu.wrap===2?57:Yu.wrap?Cp:sp,Ln.adler=Yu.wrap===2?0:1,Yu.last_flush=-2,Ef(Yu),n0},Cm=Ln=>{const Yu=zm(Ln);var hl;return Yu===n0&&((hl=Ln.state).window_size=2*hl.w_size,qg(hl.head),hl.max_lazy_match=Qg[hl.level].max_lazy,hl.good_match=Qg[hl.level].good_length,hl.nice_match=Qg[hl.level].nice_length,hl.max_chain_length=Qg[hl.level].max_chain,hl.strstart=0,hl.block_start=0,hl.lookahead=0,hl.insert=0,hl.match_length=hl.prev_length=2,hl.match_available=0,hl.ins_h=0),Yu},Qm=(Ln,Yu,hl,eh,Xd,Gd)=>{if(!Ln)return G0;let Jh=1;if(Yu===Gg&&(Yu=6),eh<0?(Jh=0,eh=-eh):eh>15&&(Jh=2,eh-=16),Xd<1||Xd>9||hl!==mp||eh<8||eh>15||Yu<0||Yu>9||Gd<0||Gd>fh||eh===8&&Jh!==1)return Cg(Ln,G0);eh===8&&(eh=9);const Ch=new Tg;return Ln.state=Ch,Ch.strm=Ln,Ch.status=Cp,Ch.wrap=Jh,Ch.gzhead=null,Ch.w_bits=eh,Ch.w_size=1<<Ch.w_bits,Ch.w_mask=Ch.w_size-1,Ch.hash_bits=Xd+7,Ch.hash_size=1<<Ch.hash_bits,Ch.hash_mask=Ch.hash_size-1,Ch.hash_shift=~~((Ch.hash_bits+3-1)/3),Ch.window=new Uint8Array(2*Ch.w_size),Ch.head=new Uint16Array(Ch.hash_size),Ch.prev=new Uint16Array(Ch.w_size),Ch.lit_bufsize=1<<Xd+6,Ch.pending_buf_size=4*Ch.lit_bufsize,Ch.pending_buf=new Uint8Array(Ch.pending_buf_size),Ch.sym_buf=Ch.lit_bufsize,Ch.sym_end=3*(Ch.lit_bufsize-1),Ch.level=Yu,Ch.strategy=Gd,Ch.method=hl,Cm(Ln)};var b0={deflateInit:(Ln,Yu)=>Qm(Ln,Yu,mp,15,8,Mf),deflateInit2:Qm,deflateReset:Cm,deflateResetKeep:zm,deflateSetHeader:(Ln,Yu)=>vm(Ln)||Ln.state.wrap!==2?G0:(Ln.state.gzhead=Yu,n0),deflate:(Ln,Yu)=>{if(vm(Ln)||Yu>l0||Yu<0)return Ln?Cg(Ln,G0):G0;const hl=Ln.state;if(!Ln.output||Ln.avail_in!==0&&!Ln.input||hl.status===jp&&Yu!==E0)return Cg(Ln,Ln.avail_out===0?$g:G0);const eh=hl.last_flush;if(hl.last_flush=Yu,hl.pending!==0){if(vg(Ln),Ln.avail_out===0)return hl.last_flush=-1,n0}else if(Ln.avail_in===0&&tg(Yu)<=tg(eh)&&Yu!==E0)return Cg(Ln,$g);if(hl.status===jp&&Ln.avail_in!==0)return Cg(Ln,$g);if(hl.status===Cp&&hl.wrap===0&&(hl.status=sp),hl.status===Cp){let Xd=mp+(hl.w_bits-8<<4)<<8,Gd=-1;if(Gd=hl.strategy>=hd||hl.level<2?0:hl.level<6?1:hl.level===6?2:3,Xd|=Gd<<6,hl.strstart!==0&&(Xd|=32),Xd+=31-Xd%31,Ep(hl,Xd),hl.strstart!==0&&(Ep(hl,Ln.adler>>>16),Ep(hl,65535&Ln.adler)),Ln.adler=1,hl.status=sp,vg(Ln),hl.pending!==0)return hl.last_flush=-1,n0}if(hl.status===57){if(Ln.adler=0,_p(hl,31),_p(hl,139),_p(hl,8),hl.gzhead)_p(hl,(hl.gzhead.text?1:0)+(hl.gzhead.hcrc?2:0)+(hl.gzhead.extra?4:0)+(hl.gzhead.name?8:0)+(hl.gzhead.comment?16:0)),_p(hl,255&hl.gzhead.time),_p(hl,hl.gzhead.time>>8&255),_p(hl,hl.gzhead.time>>16&255),_p(hl,hl.gzhead.time>>24&255),_p(hl,hl.level===9?2:hl.strategy>=hd||hl.level<2?4:0),_p(hl,255&hl.gzhead.os),hl.gzhead.extra&&hl.gzhead.extra.length&&(_p(hl,255&hl.gzhead.extra.length),_p(hl,hl.gzhead.extra.length>>8&255)),hl.gzhead.hcrc&&(Ln.adler=sf(Ln.adler,hl.pending_buf,hl.pending,0)),hl.gzindex=0,hl.status=69;else if(_p(hl,0),_p(hl,0),_p(hl,0),_p(hl,0),_p(hl,0),_p(hl,hl.level===9?2:hl.strategy>=hd||hl.level<2?4:0),_p(hl,3),hl.status=sp,vg(Ln),hl.pending!==0)return hl.last_flush=-1,n0}if(hl.status===69){if(hl.gzhead.extra){let Xd=hl.pending,Gd=(65535&hl.gzhead.extra.length)-hl.gzindex;for(;hl.pending+Gd>hl.pending_buf_size;){let Ch=hl.pending_buf_size-hl.pending;if(hl.pending_buf.set(hl.gzhead.extra.subarray(hl.gzindex,hl.gzindex+Ch),hl.pending),hl.pending=hl.pending_buf_size,hl.gzhead.hcrc&&hl.pending>Xd&&(Ln.adler=sf(Ln.adler,hl.pending_buf,hl.pending-Xd,Xd)),hl.gzindex+=Ch,vg(Ln),hl.pending!==0)return hl.last_flush=-1,n0;Xd=0,Gd-=Ch}let Jh=new Uint8Array(hl.gzhead.extra);hl.pending_buf.set(Jh.subarray(hl.gzindex,hl.gzindex+Gd),hl.pending),hl.pending+=Gd,hl.gzhead.hcrc&&hl.pending>Xd&&(Ln.adler=sf(Ln.adler,hl.pending_buf,hl.pending-Xd,Xd)),hl.gzindex=0}hl.status=73}if(hl.status===73){if(hl.gzhead.name){let Xd,Gd=hl.pending;do{if(hl.pending===hl.pending_buf_size){if(hl.gzhead.hcrc&&hl.pending>Gd&&(Ln.adler=sf(Ln.adler,hl.pending_buf,hl.pending-Gd,Gd)),vg(Ln),hl.pending!==0)return hl.last_flush=-1,n0;Gd=0}Xd=hl.gzindex<hl.gzhead.name.length?255&hl.gzhead.name.charCodeAt(hl.gzindex++):0,_p(hl,Xd)}while(Xd!==0);hl.gzhead.hcrc&&hl.pending>Gd&&(Ln.adler=sf(Ln.adler,hl.pending_buf,hl.pending-Gd,Gd)),hl.gzindex=0}hl.status=91}if(hl.status===91){if(hl.gzhead.comment){let Xd,Gd=hl.pending;do{if(hl.pending===hl.pending_buf_size){if(hl.gzhead.hcrc&&hl.pending>Gd&&(Ln.adler=sf(Ln.adler,hl.pending_buf,hl.pending-Gd,Gd)),vg(Ln),hl.pending!==0)return hl.last_flush=-1,n0;Gd=0}Xd=hl.gzindex<hl.gzhead.comment.length?255&hl.gzhead.comment.charCodeAt(hl.gzindex++):0,_p(hl,Xd)}while(Xd!==0);hl.gzhead.hcrc&&hl.pending>Gd&&(Ln.adler=sf(Ln.adler,hl.pending_buf,hl.pending-Gd,Gd))}hl.status=103}if(hl.status===103){if(hl.gzhead.hcrc){if(hl.pending+2>hl.pending_buf_size&&(vg(Ln),hl.pending!==0))return hl.last_flush=-1,n0;_p(hl,255&Ln.adler),_p(hl,Ln.adler>>8&255),Ln.adler=0}if(hl.status=sp,vg(Ln),hl.pending!==0)return hl.last_flush=-1,n0}if(Ln.avail_in!==0||hl.lookahead!==0||Yu!==_0&&hl.status!==jp){let Xd=hl.level===0?Xg(hl,Yu):hl.strategy===hd?((Gd,Jh)=>{let Ch;for(;;){if(Gd.lookahead===0&&(Pp(Gd),Gd.lookahead===0)){if(Jh===_0)return 1;break}if(Gd.match_length=0,Ch=rp(Gd,0,Gd.window[Gd.strstart]),Gd.lookahead--,Gd.strstart++,Ch&&(cg(Gd,!1),Gd.strm.avail_out===0))return 1}return Gd.insert=0,Jh===E0?(cg(Gd,!0),Gd.strm.avail_out===0?3:4):Gd.sym_next&&(cg(Gd,!1),Gd.strm.avail_out===0)?1:2})(hl,Yu):hl.strategy===qd?((Gd,Jh)=>{let Ch,Uf,Fh,ff;const O0=Gd.window;for(;;){if(Gd.lookahead<=rf){if(Pp(Gd),Gd.lookahead<=rf&&Jh===_0)return 1;if(Gd.lookahead===0)break}if(Gd.match_length=0,Gd.lookahead>=3&&Gd.strstart>0&&(Fh=Gd.strstart-1,Uf=O0[Fh],Uf===O0[++Fh]&&Uf===O0[++Fh]&&Uf===O0[++Fh])){ff=Gd.strstart+rf;do;while(Uf===O0[++Fh]&&Uf===O0[++Fh]&&Uf===O0[++Fh]&&Uf===O0[++Fh]&&Uf===O0[++Fh]&&Uf===O0[++Fh]&&Uf===O0[++Fh]&&Uf===O0[++Fh]&&Fh<ff);Gd.match_length=rf-(ff-Fh),Gd.match_length>Gd.lookahead&&(Gd.match_length=Gd.lookahead)}if(Gd.match_length>=3?(Ch=rp(Gd,1,Gd.match_length-3),Gd.lookahead-=Gd.match_length,Gd.strstart+=Gd.match_length,Gd.match_length=0):(Ch=rp(Gd,0,Gd.window[Gd.strstart]),Gd.lookahead--,Gd.strstart++),Ch&&(cg(Gd,!1),Gd.strm.avail_out===0))return 1}return Gd.insert=0,Jh===E0?(cg(Gd,!0),Gd.strm.avail_out===0?3:4):Gd.sym_next&&(cg(Gd,!1),Gd.strm.avail_out===0)?1:2})(hl,Yu):Qg[hl.level].func(hl,Yu);if(Xd!==3&&Xd!==4||(hl.status=jp),Xd===1||Xd===3)return Ln.avail_out===0&&(hl.last_flush=-1),n0;if(Xd===2&&(Yu===L0?Fp(hl):Yu!==l0&&(kf(hl,0,0,!1),Yu===Gp&&(qg(hl.head),hl.lookahead===0&&(hl.strstart=0,hl.block_start=0,hl.insert=0))),vg(Ln),Ln.avail_out===0))return hl.last_flush=-1,n0}return Yu!==E0?n0:hl.wrap<=0?Z0:(hl.wrap===2?(_p(hl,255&Ln.adler),_p(hl,Ln.adler>>8&255),_p(hl,Ln.adler>>16&255),_p(hl,Ln.adler>>24&255),_p(hl,255&Ln.total_in),_p(hl,Ln.total_in>>8&255),_p(hl,Ln.total_in>>16&255),_p(hl,Ln.total_in>>24&255)):(Ep(hl,Ln.adler>>>16),Ep(hl,65535&Ln.adler)),vg(Ln),hl.wrap>0&&(hl.wrap=-hl.wrap),hl.pending!==0?n0:Z0)},deflateEnd:Ln=>{if(vm(Ln))return G0;const Yu=Ln.state.status;return Ln.state=null,Yu===sp?Cg(Ln,X0):n0},deflateSetDictionary:(Ln,Yu)=>{let hl=Yu.length;if(vm(Ln))return G0;const eh=Ln.state,Xd=eh.wrap;if(Xd===2||Xd===1&&eh.status!==Cp||eh.lookahead)return G0;if(Xd===1&&(Ln.adler=oh(Ln.adler,Yu,hl,0)),eh.wrap=0,hl>=eh.w_size){Xd===0&&(qg(eh.head),eh.strstart=0,eh.block_start=0,eh.insert=0);let Uf=new Uint8Array(eh.w_size);Uf.set(Yu.subarray(hl-eh.w_size,hl),0),Yu=Uf,hl=eh.w_size}const Gd=Ln.avail_in,Jh=Ln.next_in,Ch=Ln.input;for(Ln.avail_in=hl,Ln.next_in=0,Ln.input=Yu,Pp(eh);eh.lookahead>=3;){let Uf=eh.strstart,Fh=eh.lookahead-2;do eh.ins_h=Ag(eh,eh.ins_h,eh.window[Uf+3-1]),eh.prev[Uf&eh.w_mask]=eh.head[eh.ins_h],eh.head[eh.ins_h]=Uf,Uf++;while(--Fh);eh.strstart=Uf,eh.lookahead=2,Pp(eh)}return eh.strstart+=eh.lookahead,eh.block_start=eh.strstart,eh.insert=eh.lookahead,eh.lookahead=0,eh.match_length=eh.prev_length=2,eh.match_available=0,Ln.next_in=Jh,Ln.input=Ch,Ln.avail_in=Gd,eh.wrap=Xd,n0},deflateInfo:"pako deflate (from Nodeca project)"};const yg=(Ln,Yu)=>Object.prototype.hasOwnProperty.call(Ln,Yu);var I0=function(Ln){const Yu=Array.prototype.slice.call(arguments,1);for(;Yu.length;){const hl=Yu.shift();if(hl){if(typeof hl!="object")throw new TypeError(hl+"must be non-object");for(const eh in hl)yg(hl,eh)&&(Ln[eh]=hl[eh])}}return Ln},Pm=Ln=>{let Yu=0;for(let eh=0,Xd=Ln.length;eh<Xd;eh++)Yu+=Ln[eh].length;const hl=new Uint8Array(Yu);for(let eh=0,Xd=0,Gd=Ln.length;eh<Gd;eh++){let Jh=Ln[eh];hl.set(Jh,Xd),Xd+=Jh.length}return hl};let up=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{up=!1}const ls=new Uint8Array(256);for(let Ln=0;Ln<256;Ln++)ls[Ln]=Ln>=252?6:Ln>=248?5:Ln>=240?4:Ln>=224?3:Ln>=192?2:1;ls[254]=ls[254]=1;var ed=Ln=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(Ln);let Yu,hl,eh,Xd,Gd,Jh=Ln.length,Ch=0;for(Xd=0;Xd<Jh;Xd++)hl=Ln.charCodeAt(Xd),(64512&hl)==55296&&Xd+1<Jh&&(eh=Ln.charCodeAt(Xd+1),(64512&eh)==56320&&(hl=65536+(hl-55296<<10)+(eh-56320),Xd++)),Ch+=hl<128?1:hl<2048?2:hl<65536?3:4;for(Yu=new Uint8Array(Ch),Gd=0,Xd=0;Gd<Ch;Xd++)hl=Ln.charCodeAt(Xd),(64512&hl)==55296&&Xd+1<Jh&&(eh=Ln.charCodeAt(Xd+1),(64512&eh)==56320&&(hl=65536+(hl-55296<<10)+(eh-56320),Xd++)),hl<128?Yu[Gd++]=hl:hl<2048?(Yu[Gd++]=192|hl>>>6,Yu[Gd++]=128|63&hl):hl<65536?(Yu[Gd++]=224|hl>>>12,Yu[Gd++]=128|hl>>>6&63,Yu[Gd++]=128|63&hl):(Yu[Gd++]=240|hl>>>18,Yu[Gd++]=128|hl>>>12&63,Yu[Gd++]=128|hl>>>6&63,Yu[Gd++]=128|63&hl);return Yu},rh=(Ln,Yu)=>{const hl=Yu||Ln.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(Ln.subarray(0,Yu));let eh,Xd;const Gd=new Array(2*hl);for(Xd=0,eh=0;eh<hl;){let Jh=Ln[eh++];if(Jh<128){Gd[Xd++]=Jh;continue}let Ch=ls[Jh];if(Ch>4)Gd[Xd++]=65533,eh+=Ch-1;else{for(Jh&=Ch===2?31:Ch===3?15:7;Ch>1&&eh<hl;)Jh=Jh<<6|63&Ln[eh++],Ch--;Ch>1?Gd[Xd++]=65533:Jh<65536?Gd[Xd++]=Jh:(Jh-=65536,Gd[Xd++]=55296|Jh>>10&1023,Gd[Xd++]=56320|1023&Jh)}}return((Jh,Ch)=>{if(Ch<65534&&Jh.subarray&&up)return String.fromCharCode.apply(null,Jh.length===Ch?Jh:Jh.subarray(0,Ch));let Uf="";for(let Fh=0;Fh<Ch;Fh++)Uf+=String.fromCharCode(Jh[Fh]);return Uf})(Gd,Xd)},Ih=(Ln,Yu)=>{(Yu=Yu||Ln.length)>Ln.length&&(Yu=Ln.length);let hl=Yu-1;for(;hl>=0&&(192&Ln[hl])==128;)hl--;return hl<0||hl===0?Yu:hl+ls[Ln[hl]]>Yu?hl:Yu},_h=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const ep=Object.prototype.toString,{Z_NO_FLUSH:Of,Z_SYNC_FLUSH:Qf,Z_FULL_FLUSH:xp,Z_FINISH:Zf,Z_OK:vp,Z_STREAM_END:Nh,Z_DEFAULT_COMPRESSION:Rp,Z_DEFAULT_STRATEGY:Q0,Z_DEFLATED:dg}=vf;function jg(Ln){this.options=I0({level:Rp,method:dg,chunkSize:16384,windowBits:15,memLevel:8,strategy:Q0},Ln||{});let Yu=this.options;Yu.raw&&Yu.windowBits>0?Yu.windowBits=-Yu.windowBits:Yu.gzip&&Yu.windowBits>0&&Yu.windowBits<16&&(Yu.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _h,this.strm.avail_out=0;let hl=b0.deflateInit2(this.strm,Yu.level,Yu.method,Yu.windowBits,Yu.memLevel,Yu.strategy);if(hl!==vp)throw new Error(yh[hl]);if(Yu.header&&b0.deflateSetHeader(this.strm,Yu.header),Yu.dictionary){let eh;if(eh=typeof Yu.dictionary=="string"?ed(Yu.dictionary):ep.call(Yu.dictionary)==="[object ArrayBuffer]"?new Uint8Array(Yu.dictionary):Yu.dictionary,hl=b0.deflateSetDictionary(this.strm,eh),hl!==vp)throw new Error(yh[hl]);this._dict_set=!0}}function Jp(Ln,Yu){const hl=new jg(Yu);if(hl.push(Ln,!0),hl.err)throw hl.msg||yh[hl.err];return hl.result}jg.prototype.push=function(Ln,Yu){const hl=this.strm,eh=this.options.chunkSize;let Xd,Gd;if(this.ended)return!1;for(Gd=Yu===~~Yu?Yu:Yu===!0?Zf:Of,typeof Ln=="string"?hl.input=ed(Ln):ep.call(Ln)==="[object ArrayBuffer]"?hl.input=new Uint8Array(Ln):hl.input=Ln,hl.next_in=0,hl.avail_in=hl.input.length;;)if(hl.avail_out===0&&(hl.output=new Uint8Array(eh),hl.next_out=0,hl.avail_out=eh),(Gd===Qf||Gd===xp)&&hl.avail_out<=6)this.onData(hl.output.subarray(0,hl.next_out)),hl.avail_out=0;else{if(Xd=b0.deflate(hl,Gd),Xd===Nh)return hl.next_out>0&&this.onData(hl.output.subarray(0,hl.next_out)),Xd=b0.deflateEnd(this.strm),this.onEnd(Xd),this.ended=!0,Xd===vp;if(hl.avail_out!==0){if(Gd>0&&hl.next_out>0)this.onData(hl.output.subarray(0,hl.next_out)),hl.avail_out=0;else if(hl.avail_in===0)break}else this.onData(hl.output)}return!0},jg.prototype.onData=function(Ln){this.chunks.push(Ln)},jg.prototype.onEnd=function(Ln){Ln===vp&&(this.result=Pm(this.chunks)),this.chunks=[],this.err=Ln,this.msg=this.strm.msg};var og={Deflate:jg,deflate:Jp,deflateRaw:function(Ln,Yu){return(Yu=Yu||{}).raw=!0,Jp(Ln,Yu)},gzip:function(Ln,Yu){return(Yu=Yu||{}).gzip=!0,Jp(Ln,Yu)}};const i0=16209;var ag=function(Ln,Yu){let hl,eh,Xd,Gd,Jh,Ch,Uf,Fh,ff,O0,Up,Yf,Yg,sg,d0,Sg,T0,Kf,e0,fg,Ip,xg,z0,M0;const J0=Ln.state;hl=Ln.next_in,z0=Ln.input,eh=hl+(Ln.avail_in-5),Xd=Ln.next_out,M0=Ln.output,Gd=Xd-(Yu-Ln.avail_out),Jh=Xd+(Ln.avail_out-257),Ch=J0.dmax,Uf=J0.wsize,Fh=J0.whave,ff=J0.wnext,O0=J0.window,Up=J0.hold,Yf=J0.bits,Yg=J0.lencode,sg=J0.distcode,d0=(1<<J0.lenbits)-1,Sg=(1<<J0.distbits)-1;e:do{Yf<15&&(Up+=z0[hl++]<<Yf,Yf+=8,Up+=z0[hl++]<<Yf,Yf+=8),T0=Yg[Up&d0];t:for(;;){if(Kf=T0>>>24,Up>>>=Kf,Yf-=Kf,Kf=T0>>>16&255,Kf===0)M0[Xd++]=65535&T0;else{if(!(16&Kf)){if(64&Kf){if(32&Kf){J0.mode=16191;break e}Ln.msg="invalid literal/length code",J0.mode=i0;break e}T0=Yg[(65535&T0)+(Up&(1<<Kf)-1)];continue t}for(e0=65535&T0,Kf&=15,Kf&&(Yf<Kf&&(Up+=z0[hl++]<<Yf,Yf+=8),e0+=Up&(1<<Kf)-1,Up>>>=Kf,Yf-=Kf),Yf<15&&(Up+=z0[hl++]<<Yf,Yf+=8,Up+=z0[hl++]<<Yf,Yf+=8),T0=sg[Up&Sg];;){if(Kf=T0>>>24,Up>>>=Kf,Yf-=Kf,Kf=T0>>>16&255,16&Kf){if(fg=65535&T0,Kf&=15,Yf<Kf&&(Up+=z0[hl++]<<Yf,Yf+=8,Yf<Kf&&(Up+=z0[hl++]<<Yf,Yf+=8)),fg+=Up&(1<<Kf)-1,fg>Ch){Ln.msg="invalid distance too far back",J0.mode=i0;break e}if(Up>>>=Kf,Yf-=Kf,Kf=Xd-Gd,fg>Kf){if(Kf=fg-Kf,Kf>Fh&&J0.sane){Ln.msg="invalid distance too far back",J0.mode=i0;break e}if(Ip=0,xg=O0,ff===0){if(Ip+=Uf-Kf,Kf<e0){e0-=Kf;do M0[Xd++]=O0[Ip++];while(--Kf);Ip=Xd-fg,xg=M0}}else if(ff<Kf){if(Ip+=Uf+ff-Kf,Kf-=ff,Kf<e0){e0-=Kf;do M0[Xd++]=O0[Ip++];while(--Kf);if(Ip=0,ff<e0){Kf=ff,e0-=Kf;do M0[Xd++]=O0[Ip++];while(--Kf);Ip=Xd-fg,xg=M0}}}else if(Ip+=ff-Kf,Kf<e0){e0-=Kf;do M0[Xd++]=O0[Ip++];while(--Kf);Ip=Xd-fg,xg=M0}for(;e0>2;)M0[Xd++]=xg[Ip++],M0[Xd++]=xg[Ip++],M0[Xd++]=xg[Ip++],e0-=3;e0&&(M0[Xd++]=xg[Ip++],e0>1&&(M0[Xd++]=xg[Ip++]))}else{Ip=Xd-fg;do M0[Xd++]=M0[Ip++],M0[Xd++]=M0[Ip++],M0[Xd++]=M0[Ip++],e0-=3;while(e0>2);e0&&(M0[Xd++]=M0[Ip++],e0>1&&(M0[Xd++]=M0[Ip++]))}break}if(64&Kf){Ln.msg="invalid distance code",J0.mode=i0;break e}T0=sg[(65535&T0)+(Up&(1<<Kf)-1)]}}break}}while(hl<eh&&Xd<Jh);e0=Yf>>3,hl-=e0,Yf-=e0<<3,Up&=(1<<Yf)-1,Ln.next_in=hl,Ln.next_out=Xd,Ln.avail_in=hl<eh?eh-hl+5:5-(hl-eh),Ln.avail_out=Xd<Jh?Jh-Xd+257:257-(Xd-Jh),J0.hold=Up,J0.bits=Yf};const Yp=15,Ng=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),kd=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),E=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),V=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Me=(Ln,Yu,hl,eh,Xd,Gd,Jh,Ch)=>{const Uf=Ch.bits;let Fh,ff,O0,Up,Yf,Yg,sg=0,d0=0,Sg=0,T0=0,Kf=0,e0=0,fg=0,Ip=0,xg=0,z0=0,M0=null;const J0=new Uint16Array(16),Em=new Uint16Array(16);let f1,Pg,D1,p1=null;for(sg=0;sg<=Yp;sg++)J0[sg]=0;for(d0=0;d0<eh;d0++)J0[Yu[hl+d0]]++;for(Kf=Uf,T0=Yp;T0>=1&&J0[T0]===0;T0--);if(Kf>T0&&(Kf=T0),T0===0)return Xd[Gd++]=20971520,Xd[Gd++]=20971520,Ch.bits=1,0;for(Sg=1;Sg<T0&&J0[Sg]===0;Sg++);for(Kf<Sg&&(Kf=Sg),Ip=1,sg=1;sg<=Yp;sg++)if(Ip<<=1,Ip-=J0[sg],Ip<0)return-1;if(Ip>0&&(Ln===0||T0!==1))return-1;for(Em[1]=0,sg=1;sg<Yp;sg++)Em[sg+1]=Em[sg]+J0[sg];for(d0=0;d0<eh;d0++)Yu[hl+d0]!==0&&(Jh[Em[Yu[hl+d0]]++]=d0);if(Ln===0?(M0=p1=Jh,Yg=20):Ln===1?(M0=Ng,p1=kd,Yg=257):(M0=E,p1=V,Yg=0),z0=0,d0=0,sg=Sg,Yf=Gd,e0=Kf,fg=0,O0=-1,xg=1<<Kf,Up=xg-1,Ln===1&&xg>852||Ln===2&&xg>592)return 1;for(;;){f1=sg-fg,Jh[d0]+1<Yg?(Pg=0,D1=Jh[d0]):Jh[d0]>=Yg?(Pg=p1[Jh[d0]-Yg],D1=M0[Jh[d0]-Yg]):(Pg=96,D1=0),Fh=1<<sg-fg,ff=1<<e0,Sg=ff;do ff-=Fh,Xd[Yf+(z0>>fg)+ff]=f1<<24|Pg<<16|D1;while(ff!==0);for(Fh=1<<sg-1;z0&Fh;)Fh>>=1;if(Fh!==0?(z0&=Fh-1,z0+=Fh):z0=0,d0++,--J0[sg]===0){if(sg===T0)break;sg=Yu[hl+Jh[d0]]}if(sg>Kf&&(z0&Up)!==O0){for(fg===0&&(fg=Kf),Yf+=Sg,e0=sg-fg,Ip=1<<e0;e0+fg<T0&&(Ip-=J0[e0+fg],!(Ip<=0));)e0++,Ip<<=1;if(xg+=1<<e0,Ln===1&&xg>852||Ln===2&&xg>592)return 1;O0=z0&Up,Xd[O0]=Kf<<24|e0<<16|Yf-Gd}}return z0!==0&&(Xd[Yf+z0]=sg-fg<<24|64<<16),Ch.bits=Kf,0};const{Z_FINISH:ot,Z_BLOCK:Tl,Z_TREES:ll,Z_OK:Pl,Z_STREAM_END:Bl,Z_NEED_DICT:Ml,Z_STREAM_ERROR:Vl,Z_DATA_ERROR:Yl,Z_MEM_ERROR:zu,Z_BUF_ERROR:Fu,Z_DEFLATED:mu}=vf,Lu=16180,Du=16190,Qu=16191,ld=16192,vd=16194,Ld=16199,Ad=16200,nh=16206,dh=16209,vh=Ln=>(Ln>>>24&255)+(Ln>>>8&65280)+((65280&Ln)<<8)+((255&Ln)<<24);function Xl(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const $u=Ln=>{if(!Ln)return 1;const Yu=Ln.state;return!Yu||Yu.strm!==Ln||Yu.mode<Lu||Yu.mode>16211?1:0},Wd=Ln=>{if($u(Ln))return Vl;const Yu=Ln.state;return Ln.total_in=Ln.total_out=Yu.total=0,Ln.msg="",Yu.wrap&&(Ln.adler=1&Yu.wrap),Yu.mode=Lu,Yu.last=0,Yu.havedict=0,Yu.flags=-1,Yu.dmax=32768,Yu.head=null,Yu.hold=0,Yu.bits=0,Yu.lencode=Yu.lendyn=new Int32Array(852),Yu.distcode=Yu.distdyn=new Int32Array(592),Yu.sane=1,Yu.back=-1,Pl},ih=Ln=>{if($u(Ln))return Vl;const Yu=Ln.state;return Yu.wsize=0,Yu.whave=0,Yu.wnext=0,Wd(Ln)},ph=(Ln,Yu)=>{let hl;if($u(Ln))return Vl;const eh=Ln.state;return Yu<0?(hl=0,Yu=-Yu):(hl=5+(Yu>>4),Yu<48&&(Yu&=15)),Yu&&(Yu<8||Yu>15)?Vl:(eh.window!==null&&eh.wbits!==Yu&&(eh.window=null),eh.wrap=hl,eh.wbits=Yu,ih(Ln))},Dh=(Ln,Yu)=>{if(!Ln)return Vl;const hl=new Xl;Ln.state=hl,hl.strm=Ln,hl.window=null,hl.mode=Lu;const eh=ph(Ln,Yu);return eh!==Pl&&(Ln.state=null),eh};let Uh,Oh,Rh=!0;const Yh=Ln=>{if(Rh){Uh=new Int32Array(512),Oh=new Int32Array(32);let Yu=0;for(;Yu<144;)Ln.lens[Yu++]=8;for(;Yu<256;)Ln.lens[Yu++]=9;for(;Yu<280;)Ln.lens[Yu++]=7;for(;Yu<288;)Ln.lens[Yu++]=8;for(Me(1,Ln.lens,0,288,Uh,0,Ln.work,{bits:9}),Yu=0;Yu<32;)Ln.lens[Yu++]=5;Me(2,Ln.lens,0,32,Oh,0,Ln.work,{bits:5}),Rh=!1}Ln.lencode=Uh,Ln.lenbits=9,Ln.distcode=Oh,Ln.distbits=5},wh=(Ln,Yu,hl,eh)=>{let Xd;const Gd=Ln.state;return Gd.window===null&&(Gd.wsize=1<<Gd.wbits,Gd.wnext=0,Gd.whave=0,Gd.window=new Uint8Array(Gd.wsize)),eh>=Gd.wsize?(Gd.window.set(Yu.subarray(hl-Gd.wsize,hl),0),Gd.wnext=0,Gd.whave=Gd.wsize):(Xd=Gd.wsize-Gd.wnext,Xd>eh&&(Xd=eh),Gd.window.set(Yu.subarray(hl-eh,hl-eh+Xd),Gd.wnext),(eh-=Xd)?(Gd.window.set(Yu.subarray(hl-eh,hl),0),Gd.wnext=eh,Gd.whave=Gd.wsize):(Gd.wnext+=Xd,Gd.wnext===Gd.wsize&&(Gd.wnext=0),Gd.whave<Gd.wsize&&(Gd.whave+=Xd))),0};var Hh={inflateReset:ih,inflateReset2:ph,inflateResetKeep:Wd,inflateInit:Ln=>Dh(Ln,15),inflateInit2:Dh,inflate:(Ln,Yu)=>{let hl,eh,Xd,Gd,Jh,Ch,Uf,Fh,ff,O0,Up,Yf,Yg,sg,d0,Sg,T0,Kf,e0,fg,Ip,xg,z0=0;const M0=new Uint8Array(4);let J0,Em;const f1=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if($u(Ln)||!Ln.output||!Ln.input&&Ln.avail_in!==0)return Vl;hl=Ln.state,hl.mode===Qu&&(hl.mode=ld),Jh=Ln.next_out,Xd=Ln.output,Uf=Ln.avail_out,Gd=Ln.next_in,eh=Ln.input,Ch=Ln.avail_in,Fh=hl.hold,ff=hl.bits,O0=Ch,Up=Uf,xg=Pl;e:for(;;)switch(hl.mode){case Lu:if(hl.wrap===0){hl.mode=ld;break}for(;ff<16;){if(Ch===0)break e;Ch--,Fh+=eh[Gd++]<<ff,ff+=8}if(2&hl.wrap&&Fh===35615){hl.wbits===0&&(hl.wbits=15),hl.check=0,M0[0]=255&Fh,M0[1]=Fh>>>8&255,hl.check=sf(hl.check,M0,2,0),Fh=0,ff=0,hl.mode=16181;break}if(hl.head&&(hl.head.done=!1),!(1&hl.wrap)||(((255&Fh)<<8)+(Fh>>8))%31){Ln.msg="incorrect header check",hl.mode=dh;break}if((15&Fh)!==mu){Ln.msg="unknown compression method",hl.mode=dh;break}if(Fh>>>=4,ff-=4,Ip=8+(15&Fh),hl.wbits===0&&(hl.wbits=Ip),Ip>15||Ip>hl.wbits){Ln.msg="invalid window size",hl.mode=dh;break}hl.dmax=1<<hl.wbits,hl.flags=0,Ln.adler=hl.check=1,hl.mode=512&Fh?16189:Qu,Fh=0,ff=0;break;case 16181:for(;ff<16;){if(Ch===0)break e;Ch--,Fh+=eh[Gd++]<<ff,ff+=8}if(hl.flags=Fh,(255&hl.flags)!==mu){Ln.msg="unknown compression method",hl.mode=dh;break}if(57344&hl.flags){Ln.msg="unknown header flags set",hl.mode=dh;break}hl.head&&(hl.head.text=Fh>>8&1),512&hl.flags&&4&hl.wrap&&(M0[0]=255&Fh,M0[1]=Fh>>>8&255,hl.check=sf(hl.check,M0,2,0)),Fh=0,ff=0,hl.mode=16182;case 16182:for(;ff<32;){if(Ch===0)break e;Ch--,Fh+=eh[Gd++]<<ff,ff+=8}hl.head&&(hl.head.time=Fh),512&hl.flags&&4&hl.wrap&&(M0[0]=255&Fh,M0[1]=Fh>>>8&255,M0[2]=Fh>>>16&255,M0[3]=Fh>>>24&255,hl.check=sf(hl.check,M0,4,0)),Fh=0,ff=0,hl.mode=16183;case 16183:for(;ff<16;){if(Ch===0)break e;Ch--,Fh+=eh[Gd++]<<ff,ff+=8}hl.head&&(hl.head.xflags=255&Fh,hl.head.os=Fh>>8),512&hl.flags&&4&hl.wrap&&(M0[0]=255&Fh,M0[1]=Fh>>>8&255,hl.check=sf(hl.check,M0,2,0)),Fh=0,ff=0,hl.mode=16184;case 16184:if(1024&hl.flags){for(;ff<16;){if(Ch===0)break e;Ch--,Fh+=eh[Gd++]<<ff,ff+=8}hl.length=Fh,hl.head&&(hl.head.extra_len=Fh),512&hl.flags&&4&hl.wrap&&(M0[0]=255&Fh,M0[1]=Fh>>>8&255,hl.check=sf(hl.check,M0,2,0)),Fh=0,ff=0}else hl.head&&(hl.head.extra=null);hl.mode=16185;case 16185:if(1024&hl.flags&&(Yf=hl.length,Yf>Ch&&(Yf=Ch),Yf&&(hl.head&&(Ip=hl.head.extra_len-hl.length,hl.head.extra||(hl.head.extra=new Uint8Array(hl.head.extra_len)),hl.head.extra.set(eh.subarray(Gd,Gd+Yf),Ip)),512&hl.flags&&4&hl.wrap&&(hl.check=sf(hl.check,eh,Yf,Gd)),Ch-=Yf,Gd+=Yf,hl.length-=Yf),hl.length))break e;hl.length=0,hl.mode=16186;case 16186:if(2048&hl.flags){if(Ch===0)break e;Yf=0;do Ip=eh[Gd+Yf++],hl.head&&Ip&&hl.length<65536&&(hl.head.name+=String.fromCharCode(Ip));while(Ip&&Yf<Ch);if(512&hl.flags&&4&hl.wrap&&(hl.check=sf(hl.check,eh,Yf,Gd)),Ch-=Yf,Gd+=Yf,Ip)break e}else hl.head&&(hl.head.name=null);hl.length=0,hl.mode=16187;case 16187:if(4096&hl.flags){if(Ch===0)break e;Yf=0;do Ip=eh[Gd+Yf++],hl.head&&Ip&&hl.length<65536&&(hl.head.comment+=String.fromCharCode(Ip));while(Ip&&Yf<Ch);if(512&hl.flags&&4&hl.wrap&&(hl.check=sf(hl.check,eh,Yf,Gd)),Ch-=Yf,Gd+=Yf,Ip)break e}else hl.head&&(hl.head.comment=null);hl.mode=16188;case 16188:if(512&hl.flags){for(;ff<16;){if(Ch===0)break e;Ch--,Fh+=eh[Gd++]<<ff,ff+=8}if(4&hl.wrap&&Fh!==(65535&hl.check)){Ln.msg="header crc mismatch",hl.mode=dh;break}Fh=0,ff=0}hl.head&&(hl.head.hcrc=hl.flags>>9&1,hl.head.done=!0),Ln.adler=hl.check=0,hl.mode=Qu;break;case 16189:for(;ff<32;){if(Ch===0)break e;Ch--,Fh+=eh[Gd++]<<ff,ff+=8}Ln.adler=hl.check=vh(Fh),Fh=0,ff=0,hl.mode=Du;case Du:if(hl.havedict===0)return Ln.next_out=Jh,Ln.avail_out=Uf,Ln.next_in=Gd,Ln.avail_in=Ch,hl.hold=Fh,hl.bits=ff,Ml;Ln.adler=hl.check=1,hl.mode=Qu;case Qu:if(Yu===Tl||Yu===ll)break e;case ld:if(hl.last){Fh>>>=7&ff,ff-=7&ff,hl.mode=nh;break}for(;ff<3;){if(Ch===0)break e;Ch--,Fh+=eh[Gd++]<<ff,ff+=8}switch(hl.last=1&Fh,Fh>>>=1,ff-=1,3&Fh){case 0:hl.mode=16193;break;case 1:if(Yh(hl),hl.mode=Ld,Yu===ll){Fh>>>=2,ff-=2;break e}break;case 2:hl.mode=16196;break;case 3:Ln.msg="invalid block type",hl.mode=dh}Fh>>>=2,ff-=2;break;case 16193:for(Fh>>>=7&ff,ff-=7&ff;ff<32;){if(Ch===0)break e;Ch--,Fh+=eh[Gd++]<<ff,ff+=8}if((65535&Fh)!=(Fh>>>16^65535)){Ln.msg="invalid stored block lengths",hl.mode=dh;break}if(hl.length=65535&Fh,Fh=0,ff=0,hl.mode=vd,Yu===ll)break e;case vd:hl.mode=16195;case 16195:if(Yf=hl.length,Yf){if(Yf>Ch&&(Yf=Ch),Yf>Uf&&(Yf=Uf),Yf===0)break e;Xd.set(eh.subarray(Gd,Gd+Yf),Jh),Ch-=Yf,Gd+=Yf,Uf-=Yf,Jh+=Yf,hl.length-=Yf;break}hl.mode=Qu;break;case 16196:for(;ff<14;){if(Ch===0)break e;Ch--,Fh+=eh[Gd++]<<ff,ff+=8}if(hl.nlen=257+(31&Fh),Fh>>>=5,ff-=5,hl.ndist=1+(31&Fh),Fh>>>=5,ff-=5,hl.ncode=4+(15&Fh),Fh>>>=4,ff-=4,hl.nlen>286||hl.ndist>30){Ln.msg="too many length or distance symbols",hl.mode=dh;break}hl.have=0,hl.mode=16197;case 16197:for(;hl.have<hl.ncode;){for(;ff<3;){if(Ch===0)break e;Ch--,Fh+=eh[Gd++]<<ff,ff+=8}hl.lens[f1[hl.have++]]=7&Fh,Fh>>>=3,ff-=3}for(;hl.have<19;)hl.lens[f1[hl.have++]]=0;if(hl.lencode=hl.lendyn,hl.lenbits=7,J0={bits:hl.lenbits},xg=Me(0,hl.lens,0,19,hl.lencode,0,hl.work,J0),hl.lenbits=J0.bits,xg){Ln.msg="invalid code lengths set",hl.mode=dh;break}hl.have=0,hl.mode=16198;case 16198:for(;hl.have<hl.nlen+hl.ndist;){for(;z0=hl.lencode[Fh&(1<<hl.lenbits)-1],d0=z0>>>24,Sg=z0>>>16&255,T0=65535&z0,!(d0<=ff);){if(Ch===0)break e;Ch--,Fh+=eh[Gd++]<<ff,ff+=8}if(T0<16)Fh>>>=d0,ff-=d0,hl.lens[hl.have++]=T0;else{if(T0===16){for(Em=d0+2;ff<Em;){if(Ch===0)break e;Ch--,Fh+=eh[Gd++]<<ff,ff+=8}if(Fh>>>=d0,ff-=d0,hl.have===0){Ln.msg="invalid bit length repeat",hl.mode=dh;break}Ip=hl.lens[hl.have-1],Yf=3+(3&Fh),Fh>>>=2,ff-=2}else if(T0===17){for(Em=d0+3;ff<Em;){if(Ch===0)break e;Ch--,Fh+=eh[Gd++]<<ff,ff+=8}Fh>>>=d0,ff-=d0,Ip=0,Yf=3+(7&Fh),Fh>>>=3,ff-=3}else{for(Em=d0+7;ff<Em;){if(Ch===0)break e;Ch--,Fh+=eh[Gd++]<<ff,ff+=8}Fh>>>=d0,ff-=d0,Ip=0,Yf=11+(127&Fh),Fh>>>=7,ff-=7}if(hl.have+Yf>hl.nlen+hl.ndist){Ln.msg="invalid bit length repeat",hl.mode=dh;break}for(;Yf--;)hl.lens[hl.have++]=Ip}}if(hl.mode===dh)break;if(hl.lens[256]===0){Ln.msg="invalid code -- missing end-of-block",hl.mode=dh;break}if(hl.lenbits=9,J0={bits:hl.lenbits},xg=Me(1,hl.lens,0,hl.nlen,hl.lencode,0,hl.work,J0),hl.lenbits=J0.bits,xg){Ln.msg="invalid literal/lengths set",hl.mode=dh;break}if(hl.distbits=6,hl.distcode=hl.distdyn,J0={bits:hl.distbits},xg=Me(2,hl.lens,hl.nlen,hl.ndist,hl.distcode,0,hl.work,J0),hl.distbits=J0.bits,xg){Ln.msg="invalid distances set",hl.mode=dh;break}if(hl.mode=Ld,Yu===ll)break e;case Ld:hl.mode=Ad;case Ad:if(Ch>=6&&Uf>=258){Ln.next_out=Jh,Ln.avail_out=Uf,Ln.next_in=Gd,Ln.avail_in=Ch,hl.hold=Fh,hl.bits=ff,ag(Ln,Up),Jh=Ln.next_out,Xd=Ln.output,Uf=Ln.avail_out,Gd=Ln.next_in,eh=Ln.input,Ch=Ln.avail_in,Fh=hl.hold,ff=hl.bits,hl.mode===Qu&&(hl.back=-1);break}for(hl.back=0;z0=hl.lencode[Fh&(1<<hl.lenbits)-1],d0=z0>>>24,Sg=z0>>>16&255,T0=65535&z0,!(d0<=ff);){if(Ch===0)break e;Ch--,Fh+=eh[Gd++]<<ff,ff+=8}if(Sg&&!(240&Sg)){for(Kf=d0,e0=Sg,fg=T0;z0=hl.lencode[fg+((Fh&(1<<Kf+e0)-1)>>Kf)],d0=z0>>>24,Sg=z0>>>16&255,T0=65535&z0,!(Kf+d0<=ff);){if(Ch===0)break e;Ch--,Fh+=eh[Gd++]<<ff,ff+=8}Fh>>>=Kf,ff-=Kf,hl.back+=Kf}if(Fh>>>=d0,ff-=d0,hl.back+=d0,hl.length=T0,Sg===0){hl.mode=16205;break}if(32&Sg){hl.back=-1,hl.mode=Qu;break}if(64&Sg){Ln.msg="invalid literal/length code",hl.mode=dh;break}hl.extra=15&Sg,hl.mode=16201;case 16201:if(hl.extra){for(Em=hl.extra;ff<Em;){if(Ch===0)break e;Ch--,Fh+=eh[Gd++]<<ff,ff+=8}hl.length+=Fh&(1<<hl.extra)-1,Fh>>>=hl.extra,ff-=hl.extra,hl.back+=hl.extra}hl.was=hl.length,hl.mode=16202;case 16202:for(;z0=hl.distcode[Fh&(1<<hl.distbits)-1],d0=z0>>>24,Sg=z0>>>16&255,T0=65535&z0,!(d0<=ff);){if(Ch===0)break e;Ch--,Fh+=eh[Gd++]<<ff,ff+=8}if(!(240&Sg)){for(Kf=d0,e0=Sg,fg=T0;z0=hl.distcode[fg+((Fh&(1<<Kf+e0)-1)>>Kf)],d0=z0>>>24,Sg=z0>>>16&255,T0=65535&z0,!(Kf+d0<=ff);){if(Ch===0)break e;Ch--,Fh+=eh[Gd++]<<ff,ff+=8}Fh>>>=Kf,ff-=Kf,hl.back+=Kf}if(Fh>>>=d0,ff-=d0,hl.back+=d0,64&Sg){Ln.msg="invalid distance code",hl.mode=dh;break}hl.offset=T0,hl.extra=15&Sg,hl.mode=16203;case 16203:if(hl.extra){for(Em=hl.extra;ff<Em;){if(Ch===0)break e;Ch--,Fh+=eh[Gd++]<<ff,ff+=8}hl.offset+=Fh&(1<<hl.extra)-1,Fh>>>=hl.extra,ff-=hl.extra,hl.back+=hl.extra}if(hl.offset>hl.dmax){Ln.msg="invalid distance too far back",hl.mode=dh;break}hl.mode=16204;case 16204:if(Uf===0)break e;if(Yf=Up-Uf,hl.offset>Yf){if(Yf=hl.offset-Yf,Yf>hl.whave&&hl.sane){Ln.msg="invalid distance too far back",hl.mode=dh;break}Yf>hl.wnext?(Yf-=hl.wnext,Yg=hl.wsize-Yf):Yg=hl.wnext-Yf,Yf>hl.length&&(Yf=hl.length),sg=hl.window}else sg=Xd,Yg=Jh-hl.offset,Yf=hl.length;Yf>Uf&&(Yf=Uf),Uf-=Yf,hl.length-=Yf;do Xd[Jh++]=sg[Yg++];while(--Yf);hl.length===0&&(hl.mode=Ad);break;case 16205:if(Uf===0)break e;Xd[Jh++]=hl.length,Uf--,hl.mode=Ad;break;case nh:if(hl.wrap){for(;ff<32;){if(Ch===0)break e;Ch--,Fh|=eh[Gd++]<<ff,ff+=8}if(Up-=Uf,Ln.total_out+=Up,hl.total+=Up,4&hl.wrap&&Up&&(Ln.adler=hl.check=hl.flags?sf(hl.check,Xd,Up,Jh-Up):oh(hl.check,Xd,Up,Jh-Up)),Up=Uf,4&hl.wrap&&(hl.flags?Fh:vh(Fh))!==hl.check){Ln.msg="incorrect data check",hl.mode=dh;break}Fh=0,ff=0}hl.mode=16207;case 16207:if(hl.wrap&&hl.flags){for(;ff<32;){if(Ch===0)break e;Ch--,Fh+=eh[Gd++]<<ff,ff+=8}if(4&hl.wrap&&Fh!==(4294967295&hl.total)){Ln.msg="incorrect length check",hl.mode=dh;break}Fh=0,ff=0}hl.mode=16208;case 16208:xg=Bl;break e;case dh:xg=Yl;break e;case 16210:return zu;default:return Vl}return Ln.next_out=Jh,Ln.avail_out=Uf,Ln.next_in=Gd,Ln.avail_in=Ch,hl.hold=Fh,hl.bits=ff,(hl.wsize||Up!==Ln.avail_out&&hl.mode<dh&&(hl.mode<nh||Yu!==ot))&&wh(Ln,Ln.output,Ln.next_out,Up-Ln.avail_out),O0-=Ln.avail_in,Up-=Ln.avail_out,Ln.total_in+=O0,Ln.total_out+=Up,hl.total+=Up,4&hl.wrap&&Up&&(Ln.adler=hl.check=hl.flags?sf(hl.check,Xd,Up,Ln.next_out-Up):oh(hl.check,Xd,Up,Ln.next_out-Up)),Ln.data_type=hl.bits+(hl.last?64:0)+(hl.mode===Qu?128:0)+(hl.mode===Ld||hl.mode===vd?256:0),(O0===0&&Up===0||Yu===ot)&&xg===Pl&&(xg=Fu),xg},inflateEnd:Ln=>{if($u(Ln))return Vl;let Yu=Ln.state;return Yu.window&&(Yu.window=null),Ln.state=null,Pl},inflateGetHeader:(Ln,Yu)=>{if($u(Ln))return Vl;const hl=Ln.state;return 2&hl.wrap?(hl.head=Yu,Yu.done=!1,Pl):Vl},inflateSetDictionary:(Ln,Yu)=>{const hl=Yu.length;let eh,Xd,Gd;return $u(Ln)?Vl:(eh=Ln.state,eh.wrap!==0&&eh.mode!==Du?Vl:eh.mode===Du&&(Xd=1,Xd=oh(Xd,Yu,hl,0),Xd!==eh.check)?Yl:(Gd=wh(Ln,Yu,hl,hl),Gd?(eh.mode=16210,zu):(eh.havedict=1,Pl)))},inflateInfo:"pako inflate (from Nodeca project)"},Cf=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const nf=Object.prototype.toString,{Z_NO_FLUSH:mf,Z_FINISH:af,Z_OK:zh,Z_STREAM_END:Af,Z_NEED_DICT:$f,Z_STREAM_ERROR:Rf,Z_DATA_ERROR:cf,Z_MEM_ERROR:dp}=vf;function np(Ln){this.options=I0({chunkSize:65536,windowBits:15,to:""},Ln||{});const Yu=this.options;Yu.raw&&Yu.windowBits>=0&&Yu.windowBits<16&&(Yu.windowBits=-Yu.windowBits,Yu.windowBits===0&&(Yu.windowBits=-15)),!(Yu.windowBits>=0&&Yu.windowBits<16)||Ln&&Ln.windowBits||(Yu.windowBits+=32),Yu.windowBits>15&&Yu.windowBits<48&&(15&Yu.windowBits||(Yu.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _h,this.strm.avail_out=0;let hl=Hh.inflateInit2(this.strm,Yu.windowBits);if(hl!==zh)throw new Error(yh[hl]);if(this.header=new Cf,Hh.inflateGetHeader(this.strm,this.header),Yu.dictionary&&(typeof Yu.dictionary=="string"?Yu.dictionary=ed(Yu.dictionary):nf.call(Yu.dictionary)==="[object ArrayBuffer]"&&(Yu.dictionary=new Uint8Array(Yu.dictionary)),Yu.raw&&(hl=Hh.inflateSetDictionary(this.strm,Yu.dictionary),hl!==zh)))throw new Error(yh[hl])}function ip(Ln,Yu){const hl=new np(Yu);if(hl.push(Ln),hl.err)throw hl.msg||yh[hl.err];return hl.result}np.prototype.push=function(Ln,Yu){const hl=this.strm,eh=this.options.chunkSize,Xd=this.options.dictionary;let Gd,Jh,Ch;if(this.ended)return!1;for(Jh=Yu===~~Yu?Yu:Yu===!0?af:mf,nf.call(Ln)==="[object ArrayBuffer]"?hl.input=new Uint8Array(Ln):hl.input=Ln,hl.next_in=0,hl.avail_in=hl.input.length;;){for(hl.avail_out===0&&(hl.output=new Uint8Array(eh),hl.next_out=0,hl.avail_out=eh),Gd=Hh.inflate(hl,Jh),Gd===$f&&Xd&&(Gd=Hh.inflateSetDictionary(hl,Xd),Gd===zh?Gd=Hh.inflate(hl,Jh):Gd===cf&&(Gd=$f));hl.avail_in>0&&Gd===Af&&hl.state.wrap>0&&Ln[hl.next_in]!==0;)Hh.inflateReset(hl),Gd=Hh.inflate(hl,Jh);switch(Gd){case Rf:case cf:case $f:case dp:return this.onEnd(Gd),this.ended=!0,!1}if(Ch=hl.avail_out,hl.next_out&&(hl.avail_out===0||Gd===Af))if(this.options.to==="string"){let Uf=Ih(hl.output,hl.next_out),Fh=hl.next_out-Uf,ff=rh(hl.output,Uf);hl.next_out=Fh,hl.avail_out=eh-Fh,Fh&&hl.output.set(hl.output.subarray(Uf,Uf+Fh),0),this.onData(ff)}else this.onData(hl.output.length===hl.next_out?hl.output:hl.output.subarray(0,hl.next_out));if(Gd!==zh||Ch!==0){if(Gd===Af)return Gd=Hh.inflateEnd(this.strm),this.onEnd(Gd),this.ended=!0,!0;if(hl.avail_in===0)break}}return!0},np.prototype.onData=function(Ln){this.chunks.push(Ln)},np.prototype.onEnd=function(Ln){Ln===zh&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Pm(this.chunks)),this.chunks=[],this.err=Ln,this.msg=this.strm.msg};var Xf={Inflate:np,inflate:ip,inflateRaw:function(Ln,Yu){return(Yu=Yu||{}).raw=!0,ip(Ln,Yu)},ungzip:ip};const{Deflate:Jf,deflate:qf,deflateRaw:fp,gzip:$p}=og,{Inflate:hg,inflate:v0,inflateRaw:f0,ungzip:u0}=Xf;var c0=Jf,Xp=qf,y0=fp,R0=$p,W0=hg,w0=v0,V0=f0,Qp=u0,j0=vf,A0={Deflate:Jf,deflate:qf,deflateRaw:fp,gzip:$p,Inflate:hg,inflate:v0,inflateRaw:f0,ungzip:u0,constants:vf}},99:(r,n,o)=>{o.r(n),o.d(n,{Cylinder:()=>d,Sphere:()=>c,Triangle:()=>y});var l=o(529);class c{constructor(G={x:0,y:0,z:0},H=0){this.center=new l.Vector3(G.x,G.y,G.z),this.radius=H}set(G,H){return this.center.copy(G),this.radius=H,this}copy(G){return this.center.copy(G.center),this.radius=G.radius,this}applyMatrix4(G){return this.center.applyMatrix4(G),this.radius=this.radius*G.getMaxScaleOnAxis(),this}translate(G){return this.center.add(G),this}equals(G){return G.center.equals(this.center)&&G.radius===this.radius}clone(){return new c().copy(this)}}let f=new l.Vector3;class d{constructor(G=new l.Vector3,H=new l.Vector3,ce=0){this.c1=G,this.c2=H,this.radius=ce,this.direction=new l.Vector3().subVectors(this.c2,this.c1).normalize()}copy(G){return this.c1.copy(G.c1),this.c2.copy(G.c2),this.direction.copy(G.direction),this.radius=G.radius,this}lengthSq(){return f.subVectors(this.c2,this.c1).lengthSq()}applyMatrix4(G){return this.direction.add(this.c1).applyMatrix4(G),this.c1.applyMatrix4(G),this.c2.applyMatrix4(G),this.direction.sub(this.c1).normalize(),this.radius=this.radius*G.getMaxScaleOnAxis(),this}}const w=new l.Vector3;class y{constructor(G=new l.Vector3,H=new l.Vector3,ce=new l.Vector3){this.a=G,this.b=H,this.c=ce}copy(G){return this.a.copy(G.a),this.b.copy(G.b),this.c.copy(G.c),this}applyMatrix4(G){return this.a.applyMatrix4(G),this.b.applyMatrix4(G),this.c.applyMatrix4(G),this}getNormal(){var G=this.a.clone();return G.sub(this.b),w.subVectors(this.c,this.b),G.cross(w),G.normalize(),G}}},107:(r,n,o)=>{var l,c=o(981),f=o(697),d=o(701),w=o(407),y=o(834),L=-2,G=258,H=262,ce=103,ie=113,Et=666;function zn(Wl,jd){return Wl.msg=y[jd],jd}function $l(Wl){return(Wl<<1)-(Wl>4?9:0)}function zl(Wl){for(var jd=Wl.length;--jd>=0;)Wl[jd]=0}function Hl(Wl){var jd=Wl.state,Md=jd.pending;Md>Wl.avail_out&&(Md=Wl.avail_out),Md!==0&&(c.arraySet(Wl.output,jd.pending_buf,jd.pending_out,Md,Wl.next_out),Wl.next_out+=Md,jd.pending_out+=Md,Wl.total_out+=Md,Wl.avail_out-=Md,jd.pending-=Md,jd.pending===0&&(jd.pending_out=0))}function Ft(Wl,jd){f._tr_flush_block(Wl,Wl.block_start>=0?Wl.block_start:-1,Wl.strstart-Wl.block_start,jd),Wl.block_start=Wl.strstart,Hl(Wl.strm)}function El(Wl,jd){Wl.pending_buf[Wl.pending++]=jd}function Kl(Wl,jd){Wl.pending_buf[Wl.pending++]=jd>>>8&255,Wl.pending_buf[Wl.pending++]=255&jd}function Al(Wl,jd,Md,qu){var ad=Wl.avail_in;return ad>qu&&(ad=qu),ad===0?0:(Wl.avail_in-=ad,c.arraySet(jd,Wl.input,Wl.next_in,ad,Md),Wl.state.wrap===1?Wl.adler=d(Wl.adler,jd,ad,Md):Wl.state.wrap===2&&(Wl.adler=w(Wl.adler,jd,ad,Md)),Wl.next_in+=ad,Wl.total_in+=ad,ad)}function vu(Wl,jd){var Md,qu,ad=Wl.max_chain_length,Dd=Wl.strstart,mh=Wl.prev_length,gd=Wl.nice_match,md=Wl.strstart>Wl.w_size-H?Wl.strstart-(Wl.w_size-H):0,oh=Wl.window,qh=Wl.w_mask,sf=Wl.prev,yh=Wl.strstart+G,vf=oh[Dd+mh-1],Ef=oh[Dd+mh];Wl.prev_length>=Wl.good_match&&(ad>>=2),gd>Wl.lookahead&&(gd=Wl.lookahead);do if(oh[(Md=jd)+mh]===Ef&&oh[Md+mh-1]===vf&&oh[Md]===oh[Dd]&&oh[++Md]===oh[Dd+1]){Dd+=2,Md++;do;while(oh[++Dd]===oh[++Md]&&oh[++Dd]===oh[++Md]&&oh[++Dd]===oh[++Md]&&oh[++Dd]===oh[++Md]&&oh[++Dd]===oh[++Md]&&oh[++Dd]===oh[++Md]&&oh[++Dd]===oh[++Md]&&oh[++Dd]===oh[++Md]&&Dd<yh);if(qu=G-(yh-Dd),Dd=yh-G,qu>mh){if(Wl.match_start=jd,mh=qu,qu>=gd)break;vf=oh[Dd+mh-1],Ef=oh[Dd+mh]}}while((jd=sf[jd&qh])>md&&--ad!==0);return mh<=Wl.lookahead?mh:Wl.lookahead}function Nl(Wl){var jd,Md,qu,ad,Dd,mh=Wl.w_size;do{if(ad=Wl.window_size-Wl.lookahead-Wl.strstart,Wl.strstart>=mh+(mh-H)){c.arraySet(Wl.window,Wl.window,mh,mh,0),Wl.match_start-=mh,Wl.strstart-=mh,Wl.block_start-=mh,jd=Md=Wl.hash_size;do qu=Wl.head[--jd],Wl.head[jd]=qu>=mh?qu-mh:0;while(--Md);jd=Md=mh;do qu=Wl.prev[--jd],Wl.prev[jd]=qu>=mh?qu-mh:0;while(--Md);ad+=mh}if(Wl.strm.avail_in===0)break;if(Md=Al(Wl.strm,Wl.window,Wl.strstart+Wl.lookahead,ad),Wl.lookahead+=Md,Wl.lookahead+Wl.insert>=3)for(Dd=Wl.strstart-Wl.insert,Wl.ins_h=Wl.window[Dd],Wl.ins_h=(Wl.ins_h<<Wl.hash_shift^Wl.window[Dd+1])&Wl.hash_mask;Wl.insert&&(Wl.ins_h=(Wl.ins_h<<Wl.hash_shift^Wl.window[Dd+3-1])&Wl.hash_mask,Wl.prev[Dd&Wl.w_mask]=Wl.head[Wl.ins_h],Wl.head[Wl.ins_h]=Dd,Dd++,Wl.insert--,!(Wl.lookahead+Wl.insert<3)););}while(Wl.lookahead<H&&Wl.strm.avail_in!==0)}function Xu(Wl,jd){for(var Md,qu;;){if(Wl.lookahead<H){if(Nl(Wl),Wl.lookahead<H&&jd===0)return 1;if(Wl.lookahead===0)break}if(Md=0,Wl.lookahead>=3&&(Wl.ins_h=(Wl.ins_h<<Wl.hash_shift^Wl.window[Wl.strstart+3-1])&Wl.hash_mask,Md=Wl.prev[Wl.strstart&Wl.w_mask]=Wl.head[Wl.ins_h],Wl.head[Wl.ins_h]=Wl.strstart),Md!==0&&Wl.strstart-Md<=Wl.w_size-H&&(Wl.match_length=vu(Wl,Md)),Wl.match_length>=3)if(qu=f._tr_tally(Wl,Wl.strstart-Wl.match_start,Wl.match_length-3),Wl.lookahead-=Wl.match_length,Wl.match_length<=Wl.max_lazy_match&&Wl.lookahead>=3){Wl.match_length--;do Wl.strstart++,Wl.ins_h=(Wl.ins_h<<Wl.hash_shift^Wl.window[Wl.strstart+3-1])&Wl.hash_mask,Md=Wl.prev[Wl.strstart&Wl.w_mask]=Wl.head[Wl.ins_h],Wl.head[Wl.ins_h]=Wl.strstart;while(--Wl.match_length!==0);Wl.strstart++}else Wl.strstart+=Wl.match_length,Wl.match_length=0,Wl.ins_h=Wl.window[Wl.strstart],Wl.ins_h=(Wl.ins_h<<Wl.hash_shift^Wl.window[Wl.strstart+1])&Wl.hash_mask;else qu=f._tr_tally(Wl,0,Wl.window[Wl.strstart]),Wl.lookahead--,Wl.strstart++;if(qu&&(Ft(Wl,!1),Wl.strm.avail_out===0))return 1}return Wl.insert=Wl.strstart<2?Wl.strstart:2,jd===4?(Ft(Wl,!0),Wl.strm.avail_out===0?3:4):Wl.last_lit&&(Ft(Wl,!1),Wl.strm.avail_out===0)?1:2}function Vu(Wl,jd){for(var Md,qu,ad;;){if(Wl.lookahead<H){if(Nl(Wl),Wl.lookahead<H&&jd===0)return 1;if(Wl.lookahead===0)break}if(Md=0,Wl.lookahead>=3&&(Wl.ins_h=(Wl.ins_h<<Wl.hash_shift^Wl.window[Wl.strstart+3-1])&Wl.hash_mask,Md=Wl.prev[Wl.strstart&Wl.w_mask]=Wl.head[Wl.ins_h],Wl.head[Wl.ins_h]=Wl.strstart),Wl.prev_length=Wl.match_length,Wl.prev_match=Wl.match_start,Wl.match_length=2,Md!==0&&Wl.prev_length<Wl.max_lazy_match&&Wl.strstart-Md<=Wl.w_size-H&&(Wl.match_length=vu(Wl,Md),Wl.match_length<=5&&(Wl.strategy===1||Wl.match_length===3&&Wl.strstart-Wl.match_start>4096)&&(Wl.match_length=2)),Wl.prev_length>=3&&Wl.match_length<=Wl.prev_length){ad=Wl.strstart+Wl.lookahead-3,qu=f._tr_tally(Wl,Wl.strstart-1-Wl.prev_match,Wl.prev_length-3),Wl.lookahead-=Wl.prev_length-1,Wl.prev_length-=2;do++Wl.strstart<=ad&&(Wl.ins_h=(Wl.ins_h<<Wl.hash_shift^Wl.window[Wl.strstart+3-1])&Wl.hash_mask,Md=Wl.prev[Wl.strstart&Wl.w_mask]=Wl.head[Wl.ins_h],Wl.head[Wl.ins_h]=Wl.strstart);while(--Wl.prev_length!==0);if(Wl.match_available=0,Wl.match_length=2,Wl.strstart++,qu&&(Ft(Wl,!1),Wl.strm.avail_out===0))return 1}else if(Wl.match_available){if((qu=f._tr_tally(Wl,0,Wl.window[Wl.strstart-1]))&&Ft(Wl,!1),Wl.strstart++,Wl.lookahead--,Wl.strm.avail_out===0)return 1}else Wl.match_available=1,Wl.strstart++,Wl.lookahead--}return Wl.match_available&&(qu=f._tr_tally(Wl,0,Wl.window[Wl.strstart-1]),Wl.match_available=0),Wl.insert=Wl.strstart<2?Wl.strstart:2,jd===4?(Ft(Wl,!0),Wl.strm.avail_out===0?3:4):Wl.last_lit&&(Ft(Wl,!1),Wl.strm.avail_out===0)?1:2}function Zu(Wl,jd,Md,qu,ad){this.good_length=Wl,this.max_lazy=jd,this.nice_length=Md,this.max_chain=qu,this.func=ad}function Od(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new c.Buf16(1146),this.dyn_dtree=new c.Buf16(122),this.bl_tree=new c.Buf16(78),zl(this.dyn_ltree),zl(this.dyn_dtree),zl(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new c.Buf16(16),this.heap=new c.Buf16(573),zl(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new c.Buf16(573),zl(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Id(Wl){var jd;return Wl&&Wl.state?(Wl.total_in=Wl.total_out=0,Wl.data_type=2,(jd=Wl.state).pending=0,jd.pending_out=0,jd.wrap<0&&(jd.wrap=-jd.wrap),jd.status=jd.wrap?42:ie,Wl.adler=jd.wrap===2?0:1,jd.last_flush=0,f._tr_init(jd),0):zn(Wl,L)}function Bd(Wl){var jd,Md=Id(Wl);return Md===0&&((jd=Wl.state).window_size=2*jd.w_size,zl(jd.head),jd.max_lazy_match=l[jd.level].max_lazy,jd.good_match=l[jd.level].good_length,jd.nice_match=l[jd.level].nice_length,jd.max_chain_length=l[jd.level].max_chain,jd.strstart=0,jd.block_start=0,jd.lookahead=0,jd.insert=0,jd.match_length=jd.prev_length=2,jd.match_available=0,jd.ins_h=0),Md}function Cd(Wl,jd,Md,qu,ad,Dd){if(!Wl)return L;var mh=1;if(jd===-1&&(jd=6),qu<0?(mh=0,qu=-qu):qu>15&&(mh=2,qu-=16),ad<1||ad>9||Md!==8||qu<8||qu>15||jd<0||jd>9||Dd<0||Dd>4)return zn(Wl,L);qu===8&&(qu=9);var gd=new Od;return Wl.state=gd,gd.strm=Wl,gd.wrap=mh,gd.gzhead=null,gd.w_bits=qu,gd.w_size=1<<gd.w_bits,gd.w_mask=gd.w_size-1,gd.hash_bits=ad+7,gd.hash_size=1<<gd.hash_bits,gd.hash_mask=gd.hash_size-1,gd.hash_shift=~~((gd.hash_bits+3-1)/3),gd.window=new c.Buf8(2*gd.w_size),gd.head=new c.Buf16(gd.hash_size),gd.prev=new c.Buf16(gd.w_size),gd.lit_bufsize=1<<ad+6,gd.pending_buf_size=4*gd.lit_bufsize,gd.pending_buf=new c.Buf8(gd.pending_buf_size),gd.d_buf=1*gd.lit_bufsize,gd.l_buf=3*gd.lit_bufsize,gd.level=jd,gd.strategy=Dd,gd.method=Md,Bd(Wl)}l=[new Zu(0,0,0,0,function(Wl,jd){var Md=65535;for(Md>Wl.pending_buf_size-5&&(Md=Wl.pending_buf_size-5);;){if(Wl.lookahead<=1){if(Nl(Wl),Wl.lookahead===0&&jd===0)return 1;if(Wl.lookahead===0)break}Wl.strstart+=Wl.lookahead,Wl.lookahead=0;var qu=Wl.block_start+Md;if((Wl.strstart===0||Wl.strstart>=qu)&&(Wl.lookahead=Wl.strstart-qu,Wl.strstart=qu,Ft(Wl,!1),Wl.strm.avail_out===0)||Wl.strstart-Wl.block_start>=Wl.w_size-H&&(Ft(Wl,!1),Wl.strm.avail_out===0))return 1}return Wl.insert=0,jd===4?(Ft(Wl,!0),Wl.strm.avail_out===0?3:4):(Wl.strstart>Wl.block_start&&(Ft(Wl,!1),Wl.strm.avail_out),1)}),new Zu(4,4,8,4,Xu),new Zu(4,5,16,8,Xu),new Zu(4,6,32,32,Xu),new Zu(4,4,16,16,Vu),new Zu(8,16,32,32,Vu),new Zu(8,16,128,128,Vu),new Zu(8,32,128,256,Vu),new Zu(32,128,258,1024,Vu),new Zu(32,258,258,4096,Vu)],n.deflateInit=function(Wl,jd){return Cd(Wl,jd,8,15,8,0)},n.deflateInit2=Cd,n.deflateReset=Bd,n.deflateResetKeep=Id,n.deflateSetHeader=function(Wl,jd){return Wl&&Wl.state?Wl.state.wrap!==2?L:(Wl.state.gzhead=jd,0):L},n.deflate=function(Wl,jd){var Md,qu,ad,Dd;if(!Wl||!Wl.state||jd>5||jd<0)return Wl?zn(Wl,L):L;if(qu=Wl.state,!Wl.output||!Wl.input&&Wl.avail_in!==0||qu.status===Et&&jd!==4)return zn(Wl,Wl.avail_out===0?-5:L);if(qu.strm=Wl,Md=qu.last_flush,qu.last_flush=jd,qu.status===42)if(qu.wrap===2)Wl.adler=0,El(qu,31),El(qu,139),El(qu,8),qu.gzhead?(El(qu,(qu.gzhead.text?1:0)+(qu.gzhead.hcrc?2:0)+(qu.gzhead.extra?4:0)+(qu.gzhead.name?8:0)+(qu.gzhead.comment?16:0)),El(qu,255&qu.gzhead.time),El(qu,qu.gzhead.time>>8&255),El(qu,qu.gzhead.time>>16&255),El(qu,qu.gzhead.time>>24&255),El(qu,qu.level===9?2:qu.strategy>=2||qu.level<2?4:0),El(qu,255&qu.gzhead.os),qu.gzhead.extra&&qu.gzhead.extra.length&&(El(qu,255&qu.gzhead.extra.length),El(qu,qu.gzhead.extra.length>>8&255)),qu.gzhead.hcrc&&(Wl.adler=w(Wl.adler,qu.pending_buf,qu.pending,0)),qu.gzindex=0,qu.status=69):(El(qu,0),El(qu,0),El(qu,0),El(qu,0),El(qu,0),El(qu,qu.level===9?2:qu.strategy>=2||qu.level<2?4:0),El(qu,3),qu.status=ie);else{var mh=8+(qu.w_bits-8<<4)<<8;mh|=(qu.strategy>=2||qu.level<2?0:qu.level<6?1:qu.level===6?2:3)<<6,qu.strstart!==0&&(mh|=32),mh+=31-mh%31,qu.status=ie,Kl(qu,mh),qu.strstart!==0&&(Kl(qu,Wl.adler>>>16),Kl(qu,65535&Wl.adler)),Wl.adler=1}if(qu.status===69)if(qu.gzhead.extra){for(ad=qu.pending;qu.gzindex<(65535&qu.gzhead.extra.length)&&(qu.pending!==qu.pending_buf_size||(qu.gzhead.hcrc&&qu.pending>ad&&(Wl.adler=w(Wl.adler,qu.pending_buf,qu.pending-ad,ad)),Hl(Wl),ad=qu.pending,qu.pending!==qu.pending_buf_size));)El(qu,255&qu.gzhead.extra[qu.gzindex]),qu.gzindex++;qu.gzhead.hcrc&&qu.pending>ad&&(Wl.adler=w(Wl.adler,qu.pending_buf,qu.pending-ad,ad)),qu.gzindex===qu.gzhead.extra.length&&(qu.gzindex=0,qu.status=73)}else qu.status=73;if(qu.status===73)if(qu.gzhead.name){ad=qu.pending;do{if(qu.pending===qu.pending_buf_size&&(qu.gzhead.hcrc&&qu.pending>ad&&(Wl.adler=w(Wl.adler,qu.pending_buf,qu.pending-ad,ad)),Hl(Wl),ad=qu.pending,qu.pending===qu.pending_buf_size)){Dd=1;break}Dd=qu.gzindex<qu.gzhead.name.length?255&qu.gzhead.name.charCodeAt(qu.gzindex++):0,El(qu,Dd)}while(Dd!==0);qu.gzhead.hcrc&&qu.pending>ad&&(Wl.adler=w(Wl.adler,qu.pending_buf,qu.pending-ad,ad)),Dd===0&&(qu.gzindex=0,qu.status=91)}else qu.status=91;if(qu.status===91)if(qu.gzhead.comment){ad=qu.pending;do{if(qu.pending===qu.pending_buf_size&&(qu.gzhead.hcrc&&qu.pending>ad&&(Wl.adler=w(Wl.adler,qu.pending_buf,qu.pending-ad,ad)),Hl(Wl),ad=qu.pending,qu.pending===qu.pending_buf_size)){Dd=1;break}Dd=qu.gzindex<qu.gzhead.comment.length?255&qu.gzhead.comment.charCodeAt(qu.gzindex++):0,El(qu,Dd)}while(Dd!==0);qu.gzhead.hcrc&&qu.pending>ad&&(Wl.adler=w(Wl.adler,qu.pending_buf,qu.pending-ad,ad)),Dd===0&&(qu.status=ce)}else qu.status=ce;if(qu.status===ce&&(qu.gzhead.hcrc?(qu.pending+2>qu.pending_buf_size&&Hl(Wl),qu.pending+2<=qu.pending_buf_size&&(El(qu,255&Wl.adler),El(qu,Wl.adler>>8&255),Wl.adler=0,qu.status=ie)):qu.status=ie),qu.pending!==0){if(Hl(Wl),Wl.avail_out===0)return qu.last_flush=-1,0}else if(Wl.avail_in===0&&$l(jd)<=$l(Md)&&jd!==4)return zn(Wl,-5);if(qu.status===Et&&Wl.avail_in!==0)return zn(Wl,-5);if(Wl.avail_in!==0||qu.lookahead!==0||jd!==0&&qu.status!==Et){var gd=qu.strategy===2?(function(md,oh){for(var qh;;){if(md.lookahead===0&&(Nl(md),md.lookahead===0)){if(oh===0)return 1;break}if(md.match_length=0,qh=f._tr_tally(md,0,md.window[md.strstart]),md.lookahead--,md.strstart++,qh&&(Ft(md,!1),md.strm.avail_out===0))return 1}return md.insert=0,oh===4?(Ft(md,!0),md.strm.avail_out===0?3:4):md.last_lit&&(Ft(md,!1),md.strm.avail_out===0)?1:2})(qu,jd):qu.strategy===3?(function(md,oh){for(var qh,sf,yh,vf,Ef=md.window;;){if(md.lookahead<=G){if(Nl(md),md.lookahead<=G&&oh===0)return 1;if(md.lookahead===0)break}if(md.match_length=0,md.lookahead>=3&&md.strstart>0&&(sf=Ef[yh=md.strstart-1])===Ef[++yh]&&sf===Ef[++yh]&&sf===Ef[++yh]){vf=md.strstart+G;do;while(sf===Ef[++yh]&&sf===Ef[++yh]&&sf===Ef[++yh]&&sf===Ef[++yh]&&sf===Ef[++yh]&&sf===Ef[++yh]&&sf===Ef[++yh]&&sf===Ef[++yh]&&yh<vf);md.match_length=G-(vf-yh),md.match_length>md.lookahead&&(md.match_length=md.lookahead)}if(md.match_length>=3?(qh=f._tr_tally(md,1,md.match_length-3),md.lookahead-=md.match_length,md.strstart+=md.match_length,md.match_length=0):(qh=f._tr_tally(md,0,md.window[md.strstart]),md.lookahead--,md.strstart++),qh&&(Ft(md,!1),md.strm.avail_out===0))return 1}return md.insert=0,oh===4?(Ft(md,!0),md.strm.avail_out===0?3:4):md.last_lit&&(Ft(md,!1),md.strm.avail_out===0)?1:2})(qu,jd):l[qu.level].func(qu,jd);if(gd!==3&&gd!==4||(qu.status=Et),gd===1||gd===3)return Wl.avail_out===0&&(qu.last_flush=-1),0;if(gd===2&&(jd===1?f._tr_align(qu):jd!==5&&(f._tr_stored_block(qu,0,0,!1),jd===3&&(zl(qu.head),qu.lookahead===0&&(qu.strstart=0,qu.block_start=0,qu.insert=0))),Hl(Wl),Wl.avail_out===0))return qu.last_flush=-1,0}return jd!==4?0:qu.wrap<=0?1:(qu.wrap===2?(El(qu,255&Wl.adler),El(qu,Wl.adler>>8&255),El(qu,Wl.adler>>16&255),El(qu,Wl.adler>>24&255),El(qu,255&Wl.total_in),El(qu,Wl.total_in>>8&255),El(qu,Wl.total_in>>16&255),El(qu,Wl.total_in>>24&255)):(Kl(qu,Wl.adler>>>16),Kl(qu,65535&Wl.adler)),Hl(Wl),qu.wrap>0&&(qu.wrap=-qu.wrap),qu.pending!==0?0:1)},n.deflateEnd=function(Wl){var jd;return Wl&&Wl.state?(jd=Wl.state.status)!==42&&jd!==69&&jd!==73&&jd!==91&&jd!==ce&&jd!==ie&&jd!==Et?zn(Wl,L):(Wl.state=null,jd===ie?zn(Wl,-3):0):L},n.deflateSetDictionary=function(Wl,jd){var Md,qu,ad,Dd,mh,gd,md,oh,qh=jd.length;if(!Wl||!Wl.state||(Dd=(Md=Wl.state).wrap)===2||Dd===1&&Md.status!==42||Md.lookahead)return L;for(Dd===1&&(Wl.adler=d(Wl.adler,jd,qh,0)),Md.wrap=0,qh>=Md.w_size&&(Dd===0&&(zl(Md.head),Md.strstart=0,Md.block_start=0,Md.insert=0),oh=new c.Buf8(Md.w_size),c.arraySet(oh,jd,qh-Md.w_size,Md.w_size,0),jd=oh,qh=Md.w_size),mh=Wl.avail_in,gd=Wl.next_in,md=Wl.input,Wl.avail_in=qh,Wl.next_in=0,Wl.input=jd,Nl(Md);Md.lookahead>=3;){qu=Md.strstart,ad=Md.lookahead-2;do Md.ins_h=(Md.ins_h<<Md.hash_shift^Md.window[qu+3-1])&Md.hash_mask,Md.prev[qu&Md.w_mask]=Md.head[Md.ins_h],Md.head[Md.ins_h]=qu,qu++;while(--ad);Md.strstart=qu,Md.lookahead=2,Nl(Md)}return Md.strstart+=Md.lookahead,Md.block_start=Md.strstart,Md.insert=Md.lookahead,Md.lookahead=0,Md.match_length=Md.prev_length=2,Md.match_available=0,Wl.next_in=gd,Wl.input=md,Wl.avail_in=mh,Md.wrap=Dd,0},n.deflateInfo="pako deflate (from Nodeca project)"},111:(r,n,o)=>{var l;l={},r.exports=l,(function(c,f){c.toRGBA8=function(d){var w=d.width,y=d.height;if(d.tabs.acTL==null)return[c.toRGBA8.decodeImage(d.data,w,y,d).buffer];var L=[];d.frames[0].data==null&&(d.frames[0].data=d.data);for(var G,H=new Uint8Array(w*y*4),ce=0;ce<d.frames.length;ce++){var ie=d.frames[ce],Et=ie.rect.x,zn=ie.rect.y,$l=ie.rect.width,zl=ie.rect.height,Hl=c.toRGBA8.decodeImage(ie.data,$l,zl,d);if(ce==0?G=Hl:ie.blend==0?c._copyTile(Hl,$l,zl,G,w,y,Et,zn,0):ie.blend==1&&c._copyTile(Hl,$l,zl,G,w,y,Et,zn,1),L.push(G.buffer),G=G.slice(0),ie.dispose!=0){if(ie.dispose==1)c._copyTile(H,$l,zl,G,w,y,Et,zn,0);else if(ie.dispose==2){for(var Ft=ce-1;d.frames[Ft].dispose==2;)Ft--;G=new Uint8Array(L[Ft]).slice(0)}}}return L},c.toRGBA8.decodeImage=function(d,w,y,L){var G=w*y,H=c.decode._getBPP(L),ce=Math.ceil(w*H/8),ie=new Uint8Array(4*G),Et=new Uint32Array(ie.buffer),zn=L.ctype,$l=L.depth,zl=c._bin.readUshort;if(zn==6){var Hl=G<<2;if($l==8)for(var Ft=0;Ft<Hl;Ft++)ie[Ft]=d[Ft];if($l==16)for(Ft=0;Ft<Hl;Ft++)ie[Ft]=d[Ft<<1]}else if(zn==2){var El=L.tabs.tRNS,Kl=-1,Al=-1,vu=-1;if(El&&(Kl=El[0],Al=El[1],vu=El[2]),$l==8)for(Ft=0;Ft<G;Ft++){var Nl=3*Ft;ie[Cd=Ft<<2]=d[Nl],ie[Cd+1]=d[Nl+1],ie[Cd+2]=d[Nl+2],ie[Cd+3]=255,Kl!=-1&&d[Nl]==Kl&&d[Nl+1]==Al&&d[Nl+2]==vu&&(ie[Cd+3]=0)}if($l==16)for(Ft=0;Ft<G;Ft++)Nl=6*Ft,ie[Cd=Ft<<2]=d[Nl],ie[Cd+1]=d[Nl+2],ie[Cd+2]=d[Nl+4],ie[Cd+3]=255,Kl!=-1&&zl(d,Nl)==Kl&&zl(d,Nl+2)==Al&&zl(d,Nl+4)==vu&&(ie[Cd+3]=0)}else if(zn==3){var Xu=L.tabs.PLTE,Vu=L.tabs.tRNS,Zu=Vu?Vu.length:0;if($l==1)for(var Od=0;Od<y;Od++){var Id=Od*ce,Bd=Od*w;for(Ft=0;Ft<w;Ft++){var Cd=Bd+Ft<<2,Wl=3*(jd=d[Id+(Ft>>3)]>>7-(7&Ft)&1);ie[Cd]=Xu[Wl],ie[Cd+1]=Xu[Wl+1],ie[Cd+2]=Xu[Wl+2],ie[Cd+3]=jd<Zu?Vu[jd]:255}}if($l==2)for(Od=0;Od<y;Od++)for(Id=Od*ce,Bd=Od*w,Ft=0;Ft<w;Ft++)Cd=Bd+Ft<<2,Wl=3*(jd=d[Id+(Ft>>2)]>>6-((3&Ft)<<1)&3),ie[Cd]=Xu[Wl],ie[Cd+1]=Xu[Wl+1],ie[Cd+2]=Xu[Wl+2],ie[Cd+3]=jd<Zu?Vu[jd]:255;if($l==4)for(Od=0;Od<y;Od++)for(Id=Od*ce,Bd=Od*w,Ft=0;Ft<w;Ft++)Cd=Bd+Ft<<2,Wl=3*(jd=d[Id+(Ft>>1)]>>4-((1&Ft)<<2)&15),ie[Cd]=Xu[Wl],ie[Cd+1]=Xu[Wl+1],ie[Cd+2]=Xu[Wl+2],ie[Cd+3]=jd<Zu?Vu[jd]:255;if($l==8)for(Ft=0;Ft<G;Ft++){var jd;Cd=Ft<<2,Wl=3*(jd=d[Ft]),ie[Cd]=Xu[Wl],ie[Cd+1]=Xu[Wl+1],ie[Cd+2]=Xu[Wl+2],ie[Cd+3]=jd<Zu?Vu[jd]:255}}else if(zn==4){if($l==8)for(Ft=0;Ft<G;Ft++){Cd=Ft<<2;var Md=d[qu=Ft<<1];ie[Cd]=Md,ie[Cd+1]=Md,ie[Cd+2]=Md,ie[Cd+3]=d[qu+1]}if($l==16)for(Ft=0;Ft<G;Ft++){var qu;Cd=Ft<<2,Md=d[qu=Ft<<2],ie[Cd]=Md,ie[Cd+1]=Md,ie[Cd+2]=Md,ie[Cd+3]=d[qu+2]}}else if(zn==0){if(Kl=L.tabs.tRNS?L.tabs.tRNS:-1,$l==1)for(Ft=0;Ft<G;Ft++){var ad=(Md=255*(d[Ft>>3]>>7-(7&Ft)&1))==255*Kl?0:255;Et[Ft]=ad<<24|Md<<16|Md<<8|Md}if($l==2)for(Ft=0;Ft<G;Ft++)ad=(Md=85*(d[Ft>>2]>>6-((3&Ft)<<1)&3))==85*Kl?0:255,Et[Ft]=ad<<24|Md<<16|Md<<8|Md;if($l==4)for(Ft=0;Ft<G;Ft++)ad=(Md=17*(d[Ft>>1]>>4-((1&Ft)<<2)&15))==17*Kl?0:255,Et[Ft]=ad<<24|Md<<16|Md<<8|Md;if($l==8)for(Ft=0;Ft<G;Ft++)ad=(Md=d[Ft])==Kl?0:255,Et[Ft]=ad<<24|Md<<16|Md<<8|Md;if($l==16)for(Ft=0;Ft<G;Ft++)Md=d[Ft<<1],ad=zl(d,Ft<<1)==Kl?0:255,Et[Ft]=ad<<24|Md<<16|Md<<8|Md}return ie},c.decode=function(d){for(var w,y=new Uint8Array(d),L=8,G=c._bin,H=G.readUshort,ce=G.readUint,ie={tabs:{},frames:[]},Et=new Uint8Array(y.length),zn=0,$l=0,zl=[137,80,78,71,13,10,26,10],Hl=0;Hl<8;Hl++)if(y[Hl]!=zl[Hl])throw"The input is not a PNG file!";for(;L<y.length;){var Ft=G.readUint(y,L);L+=4;var El=G.readASCII(y,L,4);if(L+=4,El=="IHDR")c.decode._IHDR(y,L,ie);else if(El=="IDAT"){for(Hl=0;Hl<Ft;Hl++)Et[zn+Hl]=y[L+Hl];zn+=Ft}else if(El=="acTL")ie.tabs[El]={num_frames:ce(y,L),num_plays:ce(y,L+4)},w=new Uint8Array(y.length);else if(El=="fcTL"){$l!=0&&((Id=ie.frames[ie.frames.length-1]).data=c.decode._decompress(ie,w.slice(0,$l),Id.rect.width,Id.rect.height),$l=0);var Kl={x:ce(y,L+12),y:ce(y,L+16),width:ce(y,L+4),height:ce(y,L+8)},Al=H(y,L+22);Al=H(y,L+20)/(Al==0?100:Al);var vu={rect:Kl,delay:Math.round(1e3*Al),dispose:y[L+24],blend:y[L+25]};ie.frames.push(vu)}else if(El=="fdAT"){for(Hl=0;Hl<Ft-4;Hl++)w[$l+Hl]=y[L+Hl+4];$l+=Ft-4}else if(El=="pHYs")ie.tabs[El]=[G.readUint(y,L),G.readUint(y,L+4),y[L+8]];else if(El=="cHRM")for(ie.tabs[El]=[],Hl=0;Hl<8;Hl++)ie.tabs[El].push(G.readUint(y,L+4*Hl));else if(El=="tEXt"){ie.tabs[El]==null&&(ie.tabs[El]={});var Nl=G.nextZero(y,L),Xu=G.readASCII(y,L,Nl-L),Vu=G.readASCII(y,Nl+1,L+Ft-Nl-1);ie.tabs[El][Xu]=Vu}else if(El=="iTXt"){ie.tabs[El]==null&&(ie.tabs[El]={}),Nl=0;var Zu=L;Nl=G.nextZero(y,Zu),Xu=G.readASCII(y,Zu,Nl-Zu),y[Zu=Nl+1],y[Zu+1],Zu+=2,Nl=G.nextZero(y,Zu),G.readASCII(y,Zu,Nl-Zu),Zu=Nl+1,Nl=G.nextZero(y,Zu),G.readUTF8(y,Zu,Nl-Zu),Zu=Nl+1,Vu=G.readUTF8(y,Zu,Ft-(Zu-L)),ie.tabs[El][Xu]=Vu}else if(El=="PLTE")ie.tabs[El]=G.readBytes(y,L,Ft);else if(El=="hIST"){var Od=ie.tabs.PLTE.length/3;for(ie.tabs[El]=[],Hl=0;Hl<Od;Hl++)ie.tabs[El].push(H(y,L+2*Hl))}else if(El=="tRNS")ie.ctype==3?ie.tabs[El]=G.readBytes(y,L,Ft):ie.ctype==0?ie.tabs[El]=H(y,L):ie.ctype==2&&(ie.tabs[El]=[H(y,L),H(y,L+2),H(y,L+4)]);else if(El=="gAMA")ie.tabs[El]=G.readUint(y,L)/1e5;else if(El=="sRGB")ie.tabs[El]=y[L];else if(El=="bKGD")ie.ctype==0||ie.ctype==4?ie.tabs[El]=[H(y,L)]:ie.ctype==2||ie.ctype==6?ie.tabs[El]=[H(y,L),H(y,L+2),H(y,L+4)]:ie.ctype==3&&(ie.tabs[El]=y[L]);else if(El=="IEND"){var Id;$l!=0&&((Id=ie.frames[ie.frames.length-1]).data=c.decode._decompress(ie,w.slice(0,$l),Id.rect.width,Id.rect.height),$l=0),ie.data=c.decode._decompress(ie,Et,ie.width,ie.height);break}L+=Ft,G.readUint(y,L),L+=4}return delete ie.compress,delete ie.interlace,delete ie.filter,ie},c.decode._decompress=function(d,w,y,L){return d.compress==0&&(w=c.decode._inflate(w)),d.interlace==0?w=c.decode._filterZero(w,d,0,y,L):d.interlace==1&&(w=c.decode._readInterlace(w,d)),w},c.decode._inflate=function(d){return f.inflate(d)},c.decode._readInterlace=function(d,w){for(var y=w.width,L=w.height,G=c.decode._getBPP(w),H=G>>3,ce=Math.ceil(y*G/8),ie=new Uint8Array(L*ce),Et=0,zn=[0,0,4,0,2,0,1],$l=[0,4,0,2,0,1,0],zl=[8,8,8,4,4,2,2],Hl=[8,8,4,4,2,2,1],Ft=0;Ft<7;){for(var El=zl[Ft],Kl=Hl[Ft],Al=0,vu=0,Nl=zn[Ft];Nl<L;)Nl+=El,vu++;for(var Xu=$l[Ft];Xu<y;)Xu+=Kl,Al++;var Vu=Math.ceil(Al*G/8);c.decode._filterZero(d,w,Et,Al,vu);for(var Zu=0,Od=zn[Ft];Od<L;){for(var Id=$l[Ft],Bd=Et+Zu*Vu<<3;Id<y;){var Cd;if(G==1&&(Cd=(Cd=d[Bd>>3])>>7-(7&Bd)&1,ie[Od*ce+(Id>>3)]|=Cd<<7-(3&Id)),G==2&&(Cd=(Cd=d[Bd>>3])>>6-(7&Bd)&3,ie[Od*ce+(Id>>2)]|=Cd<<6-((3&Id)<<1)),G==4&&(Cd=(Cd=d[Bd>>3])>>4-(7&Bd)&15,ie[Od*ce+(Id>>1)]|=Cd<<4-((1&Id)<<2)),G>=8)for(var Wl=Od*ce+Id*H,jd=0;jd<H;jd++)ie[Wl+jd]=d[(Bd>>3)+jd];Bd+=G,Id+=Kl}Zu++,Od+=El}Al*vu!=0&&(Et+=vu*(1+Vu)),Ft+=1}return ie},c.decode._getBPP=function(d){return[1,null,3,1,2,null,4][d.ctype]*d.depth},c.decode._filterZero=function(d,w,y,L,G){var H=c.decode._getBPP(w),ce=Math.ceil(L*H/8),ie=c.decode._paeth;H=Math.ceil(H/8);for(var Et=0;Et<G;Et++){var zn=y+Et*ce,$l=zn+Et+1,zl=d[$l-1];if(zl==0)for(var Hl=0;Hl<ce;Hl++)d[zn+Hl]=d[$l+Hl];else if(zl==1){for(Hl=0;Hl<H;Hl++)d[zn+Hl]=d[$l+Hl];for(Hl=H;Hl<ce;Hl++)d[zn+Hl]=d[$l+Hl]+d[zn+Hl-H]&255}else if(Et==0){for(Hl=0;Hl<H;Hl++)d[zn+Hl]=d[$l+Hl];if(zl==2)for(Hl=H;Hl<ce;Hl++)d[zn+Hl]=255&d[$l+Hl];if(zl==3)for(Hl=H;Hl<ce;Hl++)d[zn+Hl]=d[$l+Hl]+(d[zn+Hl-H]>>1)&255;if(zl==4)for(Hl=H;Hl<ce;Hl++)d[zn+Hl]=d[$l+Hl]+ie(d[zn+Hl-H],0,0)&255}else{if(zl==2)for(Hl=0;Hl<ce;Hl++)d[zn+Hl]=d[$l+Hl]+d[zn+Hl-ce]&255;if(zl==3){for(Hl=0;Hl<H;Hl++)d[zn+Hl]=d[$l+Hl]+(d[zn+Hl-ce]>>1)&255;for(Hl=H;Hl<ce;Hl++)d[zn+Hl]=d[$l+Hl]+(d[zn+Hl-ce]+d[zn+Hl-H]>>1)&255}if(zl==4){for(Hl=0;Hl<H;Hl++)d[zn+Hl]=d[$l+Hl]+ie(0,d[zn+Hl-ce],0)&255;for(Hl=H;Hl<ce;Hl++)d[zn+Hl]=d[$l+Hl]+ie(d[zn+Hl-H],d[zn+Hl-ce],d[zn+Hl-H-ce])&255}}}return d},c.decode._paeth=function(d,w,y){var L=d+w-y,G=Math.abs(L-d),H=Math.abs(L-w),ce=Math.abs(L-y);return G<=H&&G<=ce?d:H<=ce?w:y},c.decode._IHDR=function(d,w,y){var L=c._bin;y.width=L.readUint(d,w),w+=4,y.height=L.readUint(d,w),w+=4,y.depth=d[w],w++,y.ctype=d[w],w++,y.compress=d[w],w++,y.filter=d[w],w++,y.interlace=d[w],w++},c._bin={nextZero:function(d,w){for(;d[w]!=0;)w++;return w},readUshort:function(d,w){return d[w]<<8|d[w+1]},writeUshort:function(d,w,y){d[w]=y>>8&255,d[w+1]=255&y},readUint:function(d,w){return 16777216*d[w]+(d[w+1]<<16|d[w+2]<<8|d[w+3])},writeUint:function(d,w,y){d[w]=y>>24&255,d[w+1]=y>>16&255,d[w+2]=y>>8&255,d[w+3]=255&y},readASCII:function(d,w,y){for(var L="",G=0;G<y;G++)L+=String.fromCharCode(d[w+G]);return L},writeASCII:function(d,w,y){for(var L=0;L<y.length;L++)d[w+L]=y.charCodeAt(L)},readBytes:function(d,w,y){for(var L=[],G=0;G<y;G++)L.push(d[w+G]);return L},pad:function(d){return d.length<2?"0"+d:d},readUTF8:function(d,w,y){for(var L,G="",H=0;H<y;H++)G+="%"+c._bin.pad(d[w+H].toString(16));try{L=decodeURIComponent(G)}catch{return c._bin.readASCII(d,w,y)}return L}},c._copyTile=function(d,w,y,L,G,H,ce,ie,Et){for(var zn=Math.min(w,G),$l=Math.min(y,H),zl=0,Hl=0,Ft=0;Ft<$l;Ft++)for(var El=0;El<zn;El++)if(ce>=0&&ie>=0?(zl=Ft*w+El<<2,Hl=(ie+Ft)*G+ce+El<<2):(zl=(-ie+Ft)*w-ce+El<<2,Hl=Ft*G+El<<2),Et==0)L[Hl]=d[zl],L[Hl+1]=d[zl+1],L[Hl+2]=d[zl+2],L[Hl+3]=d[zl+3];else if(Et==1){var Kl=d[zl+3]*.00392156862745098,Al=d[zl]*Kl,vu=d[zl+1]*Kl,Nl=d[zl+2]*Kl,Xu=L[Hl+3]*(1/255),Vu=L[Hl]*Xu,Zu=L[Hl+1]*Xu,Od=L[Hl+2]*Xu,Id=1-Kl,Bd=Kl+Xu*Id,Cd=Bd==0?0:1/Bd;L[Hl+3]=255*Bd,L[Hl+0]=(Al+Vu*Id)*Cd,L[Hl+1]=(vu+Zu*Id)*Cd,L[Hl+2]=(Nl+Od*Id)*Cd}else if(Et==2)Kl=d[zl+3],Al=d[zl],vu=d[zl+1],Nl=d[zl+2],Xu=L[Hl+3],Vu=L[Hl],Zu=L[Hl+1],Od=L[Hl+2],Kl==Xu&&Al==Vu&&vu==Zu&&Nl==Od?(L[Hl]=0,L[Hl+1]=0,L[Hl+2]=0,L[Hl+3]=0):(L[Hl]=Al,L[Hl+1]=vu,L[Hl+2]=Nl,L[Hl+3]=Kl);else if(Et==3){if(Kl=d[zl+3],Al=d[zl],vu=d[zl+1],Nl=d[zl+2],Xu=L[Hl+3],Vu=L[Hl],Zu=L[Hl+1],Od=L[Hl+2],Kl==Xu&&Al==Vu&&vu==Zu&&Nl==Od)continue;if(Kl<220&&Xu>20)return!1}return!0},c.encode=function(d,w,y,L,G,H){L==null&&(L=0),H==null&&(H=!1);for(var ce=new Uint8Array(d[0].byteLength*d.length+100),ie=[137,80,78,71,13,10,26,10],Et=0;Et<8;Et++)ce[Et]=ie[Et];var zn=8,$l=c._bin,zl=c.crc.crc,Hl=$l.writeUint,Ft=$l.writeUshort,El=$l.writeASCII,Kl=c.encode.compressPNG(d,w,y,L,H);Hl(ce,zn,13),El(ce,zn+=4,"IHDR"),Hl(ce,zn+=4,w),Hl(ce,zn+=4,y),ce[zn+=4]=Kl.depth,ce[++zn]=Kl.ctype,ce[++zn]=0,ce[++zn]=0,ce[++zn]=0,Hl(ce,++zn,zl(ce,zn-17,17)),Hl(ce,zn+=4,1),El(ce,zn+=4,"sRGB"),ce[zn+=4]=1,Hl(ce,++zn,zl(ce,zn-5,5)),zn+=4;var Al=d.length>1;if(Al&&(Hl(ce,zn,8),El(ce,zn+=4,"acTL"),Hl(ce,zn+=4,d.length),Hl(ce,zn+=4,0),Hl(ce,zn+=4,zl(ce,zn-12,12)),zn+=4),Kl.ctype==3){for(Hl(ce,zn,3*(Cd=Kl.plte.length)),El(ce,zn+=4,"PLTE"),zn+=4,Et=0;Et<Cd;Et++){var vu=3*Et,Nl=Kl.plte[Et],Xu=255&Nl,Vu=Nl>>8&255,Zu=Nl>>16&255;ce[zn+vu+0]=Xu,ce[zn+vu+1]=Vu,ce[zn+vu+2]=Zu}if(Hl(ce,zn+=3*Cd,zl(ce,zn-3*Cd-4,3*Cd+4)),zn+=4,Kl.gotAlpha){for(Hl(ce,zn,Cd),El(ce,zn+=4,"tRNS"),zn+=4,Et=0;Et<Cd;Et++)ce[zn+Et]=Kl.plte[Et]>>24&255;Hl(ce,zn+=Cd,zl(ce,zn-Cd-4,Cd+4)),zn+=4}}for(var Od=0,Id=0;Id<Kl.frames.length;Id++){var Bd=Kl.frames[Id];Al&&(Hl(ce,zn,26),El(ce,zn+=4,"fcTL"),Hl(ce,zn+=4,Od++),Hl(ce,zn+=4,Bd.rect.width),Hl(ce,zn+=4,Bd.rect.height),Hl(ce,zn+=4,Bd.rect.x),Hl(ce,zn+=4,Bd.rect.y),Ft(ce,zn+=4,G[Id]),Ft(ce,zn+=2,1e3),ce[zn+=2]=Bd.dispose,ce[++zn]=Bd.blend,Hl(ce,++zn,zl(ce,zn-30,30)),zn+=4);var Cd,Wl=Bd.cimg;Hl(ce,zn,(Cd=Wl.length)+(Id==0?0:4));var jd=zn+=4;for(El(ce,zn,Id==0?"IDAT":"fdAT"),zn+=4,Id!=0&&(Hl(ce,zn,Od++),zn+=4),Et=0;Et<Cd;Et++)ce[zn+Et]=Wl[Et];Hl(ce,zn+=Cd,zl(ce,jd,zn-jd)),zn+=4}return Hl(ce,zn,0),El(ce,zn+=4,"IEND"),Hl(ce,zn+=4,zl(ce,zn-4,4)),zn+=4,ce.buffer.slice(0,zn)},c.encode.compressPNG=function(d,w,y,L,G){for(var H=c.encode.compress(d,w,y,L,!1,G),ce=0;ce<d.length;ce++){var ie=H.frames[ce],Et=(ie.rect.width,ie.rect.height),zn=ie.bpl,$l=ie.bpp,zl=new Uint8Array(Et*zn+Et);ie.cimg=c.encode._filterZero(ie.img,Et,$l,zn,zl)}return H},c.encode.compress=function(d,w,y,L,G,H){H==null&&(H=!1);for(var ce=6,ie=8,Et=4,zn=255,$l=0;$l<d.length;$l++)for(var zl=new Uint8Array(d[$l]),Hl=zl.length,Ft=0;Ft<Hl;Ft+=4)zn&=zl[Ft+3];var El=zn!=255,Kl={},Al=[];if(d.length!=0&&(Kl[0]=0,Al.push(0),L!=0&&L--),L!=0){var vu=c.quantize(d,L,G);for(d=vu.bufs,Ft=0;Ft<vu.plte.length;Ft++)Kl[Xu=vu.plte[Ft].est.rgba]==null&&(Kl[Xu]=Al.length,Al.push(Xu))}else for($l=0;$l<d.length;$l++){var Nl=new Uint32Array(d[$l]);for(Hl=Nl.length,Ft=0;Ft<Hl;Ft++){var Xu=Nl[Ft];if((Ft<w||Xu!=Nl[Ft-1]&&Xu!=Nl[Ft-w])&&Kl[Xu]==null&&(Kl[Xu]=Al.length,Al.push(Xu),Al.length>=300))break}}var Vu=!!El&&G,Zu=Al.length;Zu<=256&&H==0&&(ie=Zu<=2?1:Zu<=4?2:Zu<=16?4:8,G&&(ie=8),El=!0);var Od=[];for($l=0;$l<d.length;$l++){var Id=new Uint8Array(d[$l]),Bd=new Uint32Array(Id.buffer),Cd=0,Wl=0,jd=w,Md=y,qu=0;if($l!=0&&!Vu){for(var ad=G||$l==1||Od[Od.length-2].dispose==2?1:2,Dd=0,mh=1e9,gd=0;gd<ad;gd++){for(var md=new Uint8Array(d[$l-1-gd]),oh=new Uint32Array(d[$l-1-gd]),qh=w,sf=y,yh=-1,vf=-1,Ef=0;Ef<y;Ef++)for(var kf=0;kf<w;kf++)Bd[Ft=Ef*w+kf]!=oh[Ft]&&(kf<qh&&(qh=kf),kf>yh&&(yh=kf),Ef<sf&&(sf=Ef),Ef>vf&&(vf=Ef));var Mp=yh==-1?1:(yh-qh+1)*(vf-sf+1);Mp<mh&&(mh=Mp,Dd=gd,yh==-1?(Cd=Wl=0,jd=Md=1):(Cd=qh,Wl=sf,jd=yh-qh+1,Md=vf-sf+1))}md=new Uint8Array(d[$l-1-Dd]),Dd==1&&(Od[Od.length-1].dispose=2);var rp=new Uint8Array(jd*Md*4);new Uint32Array(rp.buffer),c._copyTile(md,w,y,rp,jd,Md,-Cd,-Wl,0),c._copyTile(Id,w,y,rp,jd,Md,-Cd,-Wl,3)?(c._copyTile(Id,w,y,rp,jd,Md,-Cd,-Wl,2),qu=1):(c._copyTile(Id,w,y,rp,jd,Md,-Cd,-Wl,0),qu=0),Id=rp,Bd=new Uint32Array(Id.buffer)}var Fp=4*jd;if(Zu<=256&&H==0){for(Fp=Math.ceil(ie*jd/8),rp=new Uint8Array(Fp*Md),Ef=0;Ef<Md;Ef++){Ft=Ef*Fp;var _0=Ef*jd;if(ie==8)for(kf=0;kf<jd;kf++)rp[Ft+kf]=Kl[Bd[_0+kf]];else if(ie==4)for(kf=0;kf<jd;kf++)rp[Ft+(kf>>1)]|=Kl[Bd[_0+kf]]<<4-4*(1&kf);else if(ie==2)for(kf=0;kf<jd;kf++)rp[Ft+(kf>>2)]|=Kl[Bd[_0+kf]]<<6-2*(3&kf);else if(ie==1)for(kf=0;kf<jd;kf++)rp[Ft+(kf>>3)]|=Kl[Bd[_0+kf]]<<7-1*(7&kf)}Id=rp,ce=3,Et=1}else if(El==0&&d.length==1){rp=new Uint8Array(jd*Md*3);var L0=jd*Md;for(Ft=0;Ft<L0;Ft++){var Gp=3*Ft,E0=4*Ft;rp[Gp]=Id[E0],rp[Gp+1]=Id[E0+1],rp[Gp+2]=Id[E0+2]}Id=rp,ce=2,Et=3,Fp=3*jd}Od.push({rect:{x:Cd,y:Wl,width:jd,height:Md},img:Id,bpl:Fp,bpp:Et,blend:qu,dispose:Vu?1:0})}return{ctype:ce,depth:ie,plte:Al,gotAlpha:El,frames:Od}},c.encode._filterZero=function(d,w,y,L,G){for(var H=[],ce=0;ce<5;ce++)if(!(w*L>5e5)||ce!=2&&ce!=3&&ce!=4){for(var ie=0;ie<w;ie++)c.encode._filterLine(G,d,ie,L,y,ce);if(H.push(f.deflate(G)),y==1)break}for(var Et,zn=1e9,$l=0;$l<H.length;$l++)H[$l].length<zn&&(Et=$l,zn=H[$l].length);return H[Et]},c.encode._filterLine=function(d,w,y,L,G,H){var ce=y*L,ie=ce+y,Et=c.decode._paeth;if(d[ie]=H,ie++,H==0)for(var zn=0;zn<L;zn++)d[ie+zn]=w[ce+zn];else if(H==1){for(zn=0;zn<G;zn++)d[ie+zn]=w[ce+zn];for(zn=G;zn<L;zn++)d[ie+zn]=w[ce+zn]-w[ce+zn-G]+256&255}else if(y==0){for(zn=0;zn<G;zn++)d[ie+zn]=w[ce+zn];if(H==2)for(zn=G;zn<L;zn++)d[ie+zn]=w[ce+zn];if(H==3)for(zn=G;zn<L;zn++)d[ie+zn]=w[ce+zn]-(w[ce+zn-G]>>1)+256&255;if(H==4)for(zn=G;zn<L;zn++)d[ie+zn]=w[ce+zn]-Et(w[ce+zn-G],0,0)+256&255}else{if(H==2)for(zn=0;zn<L;zn++)d[ie+zn]=w[ce+zn]+256-w[ce+zn-L]&255;if(H==3){for(zn=0;zn<G;zn++)d[ie+zn]=w[ce+zn]+256-(w[ce+zn-L]>>1)&255;for(zn=G;zn<L;zn++)d[ie+zn]=w[ce+zn]+256-(w[ce+zn-L]+w[ce+zn-G]>>1)&255}if(H==4){for(zn=0;zn<G;zn++)d[ie+zn]=w[ce+zn]+256-Et(0,w[ce+zn-L],0)&255;for(zn=G;zn<L;zn++)d[ie+zn]=w[ce+zn]+256-Et(w[ce+zn-G],w[ce+zn-L],w[ce+zn-G-L])&255}}},c.crc={table:(function(){for(var d=new Uint32Array(256),w=0;w<256;w++){for(var y=w,L=0;L<8;L++)1&y?y=3988292384^y>>>1:y>>>=1;d[w]=y}return d})(),update:function(d,w,y,L){for(var G=0;G<L;G++)d=c.crc.table[255&(d^w[y+G])]^d>>>8;return d},crc:function(d,w,y){return 4294967295^c.crc.update(4294967295,d,w,y)}},c.quantize=function(d,w,y){for(var L=[],G=0,H=0;H<d.length;H++)L.push(c.encode.alphaMul(new Uint8Array(d[H]),y)),G+=d[H].byteLength;var ce=new Uint8Array(G),ie=new Uint32Array(ce.buffer),Et=0;for(H=0;H<L.length;H++){for(var zn=L[H],$l=zn.length,zl=0;zl<$l;zl++)ce[Et+zl]=zn[zl];Et+=$l}var Hl={i0:0,i1:ce.length,bst:null,est:null,tdst:0,left:null,right:null};Hl.bst=c.quantize.stats(ce,Hl.i0,Hl.i1),Hl.est=c.quantize.estats(Hl.bst);for(var Ft=[Hl];Ft.length<w;){var El=0,Kl=0;for(H=0;H<Ft.length;H++)Ft[H].est.L>El&&(El=Ft[H].est.L,Kl=H);if(El<.001)break;var Al=Ft[Kl],vu=c.quantize.splitPixels(ce,ie,Al.i0,Al.i1,Al.est.e,Al.est.eMq255),Nl={i0:Al.i0,i1:vu,bst:null,est:null,tdst:0,left:null,right:null};Nl.bst=c.quantize.stats(ce,Nl.i0,Nl.i1),Nl.est=c.quantize.estats(Nl.bst);var Xu={i0:vu,i1:Al.i1,bst:null,est:null,tdst:0,left:null,right:null};for(Xu.bst={R:[],m:[],N:Al.bst.N-Nl.bst.N},H=0;H<16;H++)Xu.bst.R[H]=Al.bst.R[H]-Nl.bst.R[H];for(H=0;H<4;H++)Xu.bst.m[H]=Al.bst.m[H]-Nl.bst.m[H];Xu.est=c.quantize.estats(Xu.bst),Al.left=Nl,Al.right=Xu,Ft[Kl]=Nl,Ft.push(Xu)}Ft.sort(function(ad,Dd){return Dd.bst.N-ad.bst.N});for(var Vu=0;Vu<L.length;Vu++){var Zu=c.quantize.planeDst,Od=new Uint8Array(L[Vu].buffer),Id=new Uint32Array(L[Vu].buffer),Bd=Od.length;for(H=0;H<Bd;H+=4){for(var Cd=Od[H]*.00392156862745098,Wl=Od[H+1]*.00392156862745098,jd=Od[H+2]*.00392156862745098,Md=Od[H+3]*.00392156862745098,qu=Hl;qu.left;)qu=Zu(qu.est,Cd,Wl,jd,Md)<=0?qu.left:qu.right;Id[H>>2]=qu.est.rgba}L[Vu]=Id.buffer}return{bufs:L,plte:Ft}},c.quantize.getNearest=function(d,w,y,L,G){if(d.left==null)return d.tdst=c.quantize.dist(d.est.q,w,y,L,G),d;var H=c.quantize.planeDst(d.est,w,y,L,G),ce=d.left,ie=d.right;H>0&&(ce=d.right,ie=d.left);var Et=c.quantize.getNearest(ce,w,y,L,G);if(Et.tdst<=H*H)return Et;var zn=c.quantize.getNearest(ie,w,y,L,G);return zn.tdst<Et.tdst?zn:Et},c.quantize.planeDst=function(d,w,y,L,G){var H=d.e;return H[0]*w+H[1]*y+H[2]*L+H[3]*G-d.eMq},c.quantize.dist=function(d,w,y,L,G){var H=w-d[0],ce=y-d[1],ie=L-d[2],Et=G-d[3];return H*H+ce*ce+ie*ie+Et*Et},c.quantize.splitPixels=function(d,w,y,L,G,H){var ce=c.quantize.vecDot;for(L-=4;y<L;){for(;ce(d,y,G)<=H;)y+=4;for(;ce(d,L,G)>H;)L-=4;if(y>=L)break;var ie=w[y>>2];w[y>>2]=w[L>>2],w[L>>2]=ie,y+=4,L-=4}for(;ce(d,y,G)>H;)y-=4;return y+4},c.quantize.vecDot=function(d,w,y){return d[w]*y[0]+d[w+1]*y[1]+d[w+2]*y[2]+d[w+3]*y[3]},c.quantize.stats=function(d,w,y){for(var L=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],G=[0,0,0,0],H=y-w>>2,ce=w;ce<y;ce+=4){var ie=d[ce]*.00392156862745098,Et=d[ce+1]*(1/255),zn=d[ce+2]*(1/255),$l=d[ce+3]*(1/255);G[0]+=ie,G[1]+=Et,G[2]+=zn,G[3]+=$l,L[0]+=ie*ie,L[1]+=ie*Et,L[2]+=ie*zn,L[3]+=ie*$l,L[5]+=Et*Et,L[6]+=Et*zn,L[7]+=Et*$l,L[10]+=zn*zn,L[11]+=zn*$l,L[15]+=$l*$l}return L[4]=L[1],L[8]=L[2],L[12]=L[3],L[9]=L[6],L[13]=L[7],L[14]=L[11],{R:L,m:G,N:H}},c.quantize.estats=function(d){var w=d.R,y=d.m,L=d.N,G=y[0],H=y[1],ce=y[2],ie=y[3],Et=L==0?0:1/L,zn=[w[0]-G*G*Et,w[1]-G*H*Et,w[2]-G*ce*Et,w[3]-G*ie*Et,w[4]-H*G*Et,w[5]-H*H*Et,w[6]-H*ce*Et,w[7]-H*ie*Et,w[8]-ce*G*Et,w[9]-ce*H*Et,w[10]-ce*ce*Et,w[11]-ce*ie*Et,w[12]-ie*G*Et,w[13]-ie*H*Et,w[14]-ie*ce*Et,w[15]-ie*ie*Et],$l=zn,zl=c.M4,Hl=[.5,.5,.5,.5],Ft=0,El=0;if(L!=0)for(var Kl=0;Kl<10&&(Hl=zl.multVec($l,Hl),El=Math.sqrt(zl.dot(Hl,Hl)),Hl=zl.sml(1/El,Hl),!(Math.abs(El-Ft)<1e-9));Kl++)Ft=El;var Al=[G*Et,H*Et,ce*Et,ie*Et],vu=zl.dot(zl.sml(255,Al),Hl),Nl=Al[3]<.001?0:1/Al[3];return{Cov:zn,q:Al,e:Hl,L:Ft,eMq255:vu,eMq:zl.dot(Hl,Al),rgba:(Math.round(255*Al[3])<<24|Math.round(255*Al[2]*Nl)<<16|Math.round(255*Al[1]*Nl)<<8|Math.round(255*Al[0]*Nl))>>>0}},c.M4={multVec:function(d,w){return[d[0]*w[0]+d[1]*w[1]+d[2]*w[2]+d[3]*w[3],d[4]*w[0]+d[5]*w[1]+d[6]*w[2]+d[7]*w[3],d[8]*w[0]+d[9]*w[1]+d[10]*w[2]+d[11]*w[3],d[12]*w[0]+d[13]*w[1]+d[14]*w[2]+d[15]*w[3]]},dot:function(d,w){return d[0]*w[0]+d[1]*w[1]+d[2]*w[2]+d[3]*w[3]},sml:function(d,w){return[d*w[0],d*w[1],d*w[2],d*w[3]]}},c.encode.alphaMul=function(d,w){for(var y=new Uint8Array(d.length),L=d.length>>2,G=0;G<L;G++){var H=G<<2,ce=d[H+3];w&&(ce=ce<128?0:255);var ie=ce*(1/255);y[H+0]=d[H+0]*ie,y[H+1]=d[H+1]*ie,y[H+2]=d[H+2]*ie,y[H+3]=ce}return y}})(l,o(788))},165:r=>{r.exports=function(n,o){var l,c,f,d,w,y,L,G,H,ce,ie,Et,zn,$l,zl,Hl,Ft,El,Kl,Al,vu,Nl,Xu,Vu,Zu;l=n.state,c=n.next_in,Vu=n.input,f=c+(n.avail_in-5),d=n.next_out,Zu=n.output,w=d-(o-n.avail_out),y=d+(n.avail_out-257),L=l.dmax,G=l.wsize,H=l.whave,ce=l.wnext,ie=l.window,Et=l.hold,zn=l.bits,$l=l.lencode,zl=l.distcode,Hl=(1<<l.lenbits)-1,Ft=(1<<l.distbits)-1;e:do{zn<15&&(Et+=Vu[c++]<<zn,zn+=8,Et+=Vu[c++]<<zn,zn+=8),El=$l[Et&Hl];t:for(;;){if(Et>>>=Kl=El>>>24,zn-=Kl,(Kl=El>>>16&255)==0)Zu[d++]=65535&El;else{if(!(16&Kl)){if(64&Kl){if(32&Kl){l.mode=12;break e}n.msg="invalid literal/length code",l.mode=30;break e}El=$l[(65535&El)+(Et&(1<<Kl)-1)];continue t}for(Al=65535&El,(Kl&=15)&&(zn<Kl&&(Et+=Vu[c++]<<zn,zn+=8),Al+=Et&(1<<Kl)-1,Et>>>=Kl,zn-=Kl),zn<15&&(Et+=Vu[c++]<<zn,zn+=8,Et+=Vu[c++]<<zn,zn+=8),El=zl[Et&Ft];;){if(Et>>>=Kl=El>>>24,zn-=Kl,16&(Kl=El>>>16&255)){if(vu=65535&El,zn<(Kl&=15)&&(Et+=Vu[c++]<<zn,(zn+=8)<Kl&&(Et+=Vu[c++]<<zn,zn+=8)),(vu+=Et&(1<<Kl)-1)>L){n.msg="invalid distance too far back",l.mode=30;break e}if(Et>>>=Kl,zn-=Kl,vu>(Kl=d-w)){if((Kl=vu-Kl)>H&&l.sane){n.msg="invalid distance too far back",l.mode=30;break e}if(Nl=0,Xu=ie,ce===0){if(Nl+=G-Kl,Kl<Al){Al-=Kl;do Zu[d++]=ie[Nl++];while(--Kl);Nl=d-vu,Xu=Zu}}else if(ce<Kl){if(Nl+=G+ce-Kl,(Kl-=ce)<Al){Al-=Kl;do Zu[d++]=ie[Nl++];while(--Kl);if(Nl=0,ce<Al){Al-=Kl=ce;do Zu[d++]=ie[Nl++];while(--Kl);Nl=d-vu,Xu=Zu}}}else if(Nl+=ce-Kl,Kl<Al){Al-=Kl;do Zu[d++]=ie[Nl++];while(--Kl);Nl=d-vu,Xu=Zu}for(;Al>2;)Zu[d++]=Xu[Nl++],Zu[d++]=Xu[Nl++],Zu[d++]=Xu[Nl++],Al-=3;Al&&(Zu[d++]=Xu[Nl++],Al>1&&(Zu[d++]=Xu[Nl++]))}else{Nl=d-vu;do Zu[d++]=Zu[Nl++],Zu[d++]=Zu[Nl++],Zu[d++]=Zu[Nl++],Al-=3;while(Al>2);Al&&(Zu[d++]=Zu[Nl++],Al>1&&(Zu[d++]=Zu[Nl++]))}break}if(64&Kl){n.msg="invalid distance code",l.mode=30;break e}El=zl[(65535&El)+(Et&(1<<Kl)-1)]}}break}}while(c<f&&d<y);c-=Al=zn>>3,Et&=(1<<(zn-=Al<<3))-1,n.next_in=c,n.next_out=d,n.avail_in=c<f?f-c+5:5-(c-f),n.avail_out=d<y?y-d+257:257-(d-y),l.hold=Et,l.bits=zn}},185:()=>{$3Dmol.workerString=(function(){self.onmessage=function(r){var n=r.data,o=n.type;if(o<0)self.atomData=n.atoms,self.volume=n.volume,self.ps=new ProteinSurface;else{var l=self.ps;l.initparm(n.expandedExtent,o!=1,self.volume),l.fillvoxels(self.atomData,n.extendedAtoms),l.buildboundary(),o!==4&&o!==2||(l.fastdistancemap(),l.boundingatom(!1),l.fillvoxelswaals(self.atomData,n.extendedAtoms)),l.marchingcube(o);var c=l.getFacesAndVertices(n.atomsToShow);self.postMessage(c)}}}).toString().replace(/(^.*?\{|\}$)/g,""),$3Dmol.workerString+=`;
function _classCallCheck() {};`,$3Dmol.workerString+=`;
`+$3Dmol.Vector3.toString(),$3Dmol.workerString+=`;
`+$3Dmol.MarchingCubeInitializer.toString()+`;

`,$3Dmol.workerString+=`;
`+$3Dmol.PointGrid.toString()+`;
`,$3Dmol.workerString+=`;
var ProteinSurface = `+$3Dmol.ProteinSurface.toString()+`;
`,$3Dmol.SurfaceWorker=window.URL?window.URL.createObjectURL(new Blob([$3Dmol.workerString],{type:"text/javascript"})):void 0},222:(r,n,o)=>{o.r(n),o.d(n,{CC:()=>c,Color:()=>l,builtinColorSchemes:()=>H,chains:()=>G,elementColors:()=>y,htmlColors:()=>f,residues:()=>L,ssColors:()=>d});class l{constructor(ie,Et,zn){return this.r=0,this.g=0,this.b=0,arguments.length>1&&typeof ie=="number"?(this.r=ie||0,this.g=Et||0,this.b=zn||0,this):this.set(ie||0)}set(ie){return ie instanceof l?ie.clone():(typeof ie=="number"?this.setHex(ie):typeof ie=="object"&&(this.r=ie?.r||0,this.g=ie?.g||0,this.b=ie?.b||0),this)}setHex(ie){return ie=Math.floor(ie),this.r=(ie>>16&255)/255,this.g=(ie>>8&255)/255,this.b=(255&ie)/255,this}getHex(){return Math.round(255*this.r)<<16|Math.round(255*this.g)<<8|Math.round(255*this.b)}clone(){return new l(this.r,this.g,this.b)}copy(ie){return this.r=ie.r,this.g=ie.g,this.b=ie.b,this}scaled(){var ie={};return ie.r=Math.round(255*this.r),ie.g=Math.round(255*this.g),ie.b=Math.round(255*this.b),ie.a=1,ie}}class c{static color(ie){if(!ie)return c.cache[0];if(ie instanceof l)return ie;if(typeof ie=="number"&&c.cache[ie]!==void 0)return c.cache[ie];if(ie&&Array.isArray(ie))return ie.map(c.color);let Et=c.getHex(ie),zn=new l(Et);return c.cache[Et]=zn,zn}static getHex(ie){if(Array.isArray(ie))return ie.map(c.getHex);if(typeof ie=="string"){let Et=ie;if(!isNaN(parseInt(Et)))return parseInt(Et);if(Et=Et.trim(),Et.length==4&&Et[0]=="#"&&(Et="#"+Et[1]+Et[1]+Et[2]+Et[2]+Et[3]+Et[3]),Et.length==7&&Et[0]=="#")return parseInt(Et.substring(1),16);let zn=c.rgbRegEx.exec(Et);if(zn){zn[1]!=""&&console.log("WARNING: Opacity value in rgba ignored.  Specify separately as opacity attribute.");let zl=0;for(let Hl=2;Hl<5;Hl++){zl*=256;let Ft=zn[Hl].endsWith("%")?255*parseFloat(zn[Hl])/100:parseFloat(zn[Hl]);zl+=Math.round(Ft)}return zl}let $l=f[Et.toLowerCase()];return $l!==void 0?$l:(console.error("color not found",ie.toLowerCase(),f),0)}return ie}}c.rgbRegEx=/rgb(a?)\(\s*([^ ,\)\t]+)\s*,\s*([^ ,\)\t]+)\s*,\s*([^ ,\)\t]+)/i,c.cache={0:new l(0)};const f={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgrey:11119017,darkgreen:25600,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,grey:8421504,green:32768,greenyellow:11403055,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgrey:13882323,lightgreen:9498256,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074,b:255,g:32768,r:16711680,c:49087,m:12517567,y:12566272,k:0,w:16777215},d={pyMol:{h:16711680,s:16776960,c:65280},Jmol:{h:16711808,s:16762880,c:16777215}},w={H:16777215,He:16761035,HE:16761035,Li:11674146,LI:11674146,B:65280,C:13158600,N:9408511,O:15728640,F:14329120,Na:255,NA:255,Mg:2263842,MG:2263842,Al:8421520,AL:8421520,Si:14329120,SI:14329120,P:16753920,S:16762930,Cl:65280,CL:65280,Ca:8421520,CA:8421520,Ti:8421520,TI:8421520,Cr:8421520,CR:8421520,Mn:8421520,MN:8421520,Fe:16753920,FE:16753920,Ni:10824234,NI:10824234,Cu:10824234,CU:10824234,Zn:10824234,ZN:10824234,Br:10824234,BR:10824234,Ag:8421520,AG:8421520,I:10494192,Ba:16753920,BA:16753920,Au:14329120,AU:14329120},y={defaultColor:16716947,Jmol:{H:16777215,He:14286847,HE:14286847,Li:13402367,LI:13402367,Be:12779264,BE:12779264,B:16758197,C:9474192,N:3166456,O:16715021,F:9494608,Ne:11789301,NE:11789301,Na:11230450,NA:11230450,Mg:9109248,MG:9109248,Al:12560038,AL:12560038,Si:1578e4,SI:1578e4,P:16744448,S:16777008,Cl:2093087,CL:2093087,Ar:8442339,AR:8442339,K:9388244,Ca:4062976,CA:4062976,Sc:15132390,SC:15132390,Ti:12567239,TI:12567239,V:10921643,Cr:9083335,CR:9083335,Mn:10255047,MN:10255047,Fe:14706227,FE:14706227,Co:15765664,CO:15765664,Ni:5296208,NI:5296208,Cu:13140019,CU:13140019,Zn:8224944,ZN:8224944,Ga:12750735,GA:12750735,Ge:6721423,GE:6721423,As:12419299,AS:12419299,Se:16752896,SE:16752896,Br:10889513,BR:10889513,Kr:6076625,KR:6076625,Rb:7351984,RB:7351984,Sr:65280,SR:65280,Y:9764863,Zr:9756896,ZR:9756896,Nb:7586505,NB:7586505,Mo:5551541,MO:5551541,Tc:3907230,TC:3907230,Ru:2396047,RU:2396047,Rh:687500,RH:687500,Pd:27013,PD:27013,Ag:12632256,AG:12632256,Cd:16767375,CD:16767375,In:10909043,IN:10909043,Sn:6717568,SN:6717568,Sb:10380213,SB:10380213,Te:13924864,TE:13924864,I:9699476,Xe:4366e3,XE:4366e3,Cs:5707663,CS:5707663,Ba:51456,BA:51456,La:7394559,LA:7394559,Ce:16777159,CE:16777159,Pr:14286791,PR:14286791,Nd:13107143,ND:13107143,Pm:10747847,PM:10747847,Sm:9437127,SM:9437127,Eu:6422471,EU:6422471,Gd:4587463,GD:4587463,Tb:3211207,TB:3211207,Dy:2097095,DY:2097095,Ho:65436,HO:65436,Er:58997,ER:58997,Tm:54354,TM:54354,Yb:48952,YB:48952,Lu:43812,LU:43812,Hf:5096191,HF:5096191,Ta:5089023,TA:5089023,W:2200790,Re:2522539,RE:2522539,Os:2516630,OS:2516630,Ir:1528967,IR:1528967,Pt:13684960,PT:13684960,Au:16765219,AU:16765219,Hg:12105936,HG:12105936,Tl:10900557,TL:10900557,Pb:5724513,PB:5724513,Bi:10375093,BI:10375093,Po:11230208,PO:11230208,At:7688005,AT:7688005,Rn:4358806,RN:4358806,Fr:4325478,FR:4325478,Ra:32e3,RA:32e3,Ac:7384058,AC:7384058,Th:47871,TH:47871,Pa:41471,PA:41471,U:36863,Np:33023,NP:33023,Pu:27647,PU:27647,Am:5528818,AM:5528818,Cm:7888099,CM:7888099,Bk:9064419,BK:9064419,Cf:10565332,CF:10565332,Es:11739092,ES:11739092,Fm:11739066,FM:11739066,Md:11734438,MD:11734438,No:12389767,NO:12389767,Lr:13041766,LR:13041766,Rf:13369433,RF:13369433,Db:13697103,DB:13697103,Sg:14221381,SG:14221381,Bh:14680120,BH:14680120,Hs:15073326,HS:15073326,Mt:15400998,MT:15400998},rasmol:w,defaultColors:Object.assign({},w),greenCarbon:Object.assign(Object.assign({},w),{C:65280}),cyanCarbon:Object.assign(Object.assign({},w),{C:65535}),magentaCarbon:Object.assign(Object.assign({},w),{C:16711935}),yellowCarbon:Object.assign(Object.assign({},w),{C:16776960}),whiteCarbon:Object.assign(Object.assign({},w),{C:16777215}),orangeCarbon:Object.assign(Object.assign({},w),{C:16753920}),purpleCarbon:Object.assign(Object.assign({},w),{C:8388736}),blueCarbon:Object.assign(Object.assign({},w),{C:255})},L={amino:{ALA:13158600,ARG:1334015,ASN:56540,ASP:15075850,CYS:15132160,GLN:56540,GLU:15075850,GLY:15461355,HIS:8553170,ILE:1016335,LEU:1016335,LYS:1334015,MET:15132160,PHE:3289770,PRO:14456450,SER:16422400,THR:16422400,TRP:11819700,TYR:3289770,VAL:1016335,ASX:16738740,GLX:16738740},shapely:{ALA:9240460,ARG:124,ASN:16743536,ASP:10485826,CYS:16777072,GLN:16731212,GLU:6684672,GLY:16777215,HIS:7368959,ILE:19456,LEU:4546117,LYS:4671416,MET:12099650,PHE:5459026,PRO:5395026,SER:16740418,THR:12078080,TRP:5195264,TYR:9203788,VAL:16747775,ASX:16711935,GLX:16711935},nucleic:{A:10526975,G:16740464,I:8454143,C:16747595,T:10551200,U:16744576}},G={atom:{A:12636415,B:11599792,C:16761032,D:16777088,E:16761087,F:11596016,G:16765040,H:15761536,I:16113331,J:49151,K:13458524,L:6737322,M:10145074,N:15631086,O:52945,P:65407,Q:3978097,R:139,S:12433259,T:25600,U:8388608,V:8421376,W:8388736,X:32896,Y:12092939,Z:11674146},hetatm:{A:9478351,B:8441752,C:13602992,D:13619056,E:13603023,F:8437952,G:13607008,H:12603504,I:12955267,J:42959,K:11881548,L:5682578,M:9090346,N:12481214,O:46753,P:53103,Q:3447649,R:187,S:10854235,T:37888,U:11534336,V:11579392,W:11534512,X:45232,Y:15250963,Z:12726834}},H={ssPyMol:{prop:"ss",map:d.pyMol},ssJmol:{prop:"ss",map:d.Jmol},Jmol:{prop:"elem",map:y.Jmol},amino:{prop:"resn",map:L.amino},shapely:{prop:"resn",map:L.shapely},nucleic:{prop:"resn",map:L.nucleic},chain:{prop:"chain",map:G.atom},rasmol:{prop:"elem",map:y.rasmol},default:{prop:"elem",map:y.defaultColors},greenCarbon:{prop:"elem",map:y.greenCarbon},chainHetatm:{prop:"chain",map:G.hetatm},cyanCarbon:{prop:"elem",map:y.cyanCarbon},magentaCarbon:{prop:"elem",map:y.magentaCarbon},purpleCarbon:{prop:"elem",map:y.purpleCarbon},whiteCarbon:{prop:"elem",map:y.whiteCarbon},orangeCarbon:{prop:"elem",map:y.orangeCarbon},yellowCarbon:{prop:"elem",map:y.yellowCarbon},blueCarbon:{prop:"elem",map:y.blueCarbon}}},307:r=>{typeof r.exports=="object"&&(r.exports=window.$3Dmol)},358:(r,n,o)=>{var l=o(981),c=15,f=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],d=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],w=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],y=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(L,G,H,ce,ie,Et,zn,$l){var zl,Hl,Ft,El,Kl,Al,vu,Nl,Xu,Vu=$l.bits,Zu=0,Od=0,Id=0,Bd=0,Cd=0,Wl=0,jd=0,Md=0,qu=0,ad=0,Dd=null,mh=0,gd=new l.Buf16(16),md=new l.Buf16(16),oh=null,qh=0;for(Zu=0;Zu<=c;Zu++)gd[Zu]=0;for(Od=0;Od<ce;Od++)gd[G[H+Od]]++;for(Cd=Vu,Bd=c;Bd>=1&&gd[Bd]===0;Bd--);if(Cd>Bd&&(Cd=Bd),Bd===0)return ie[Et++]=20971520,ie[Et++]=20971520,$l.bits=1,0;for(Id=1;Id<Bd&&gd[Id]===0;Id++);for(Cd<Id&&(Cd=Id),Md=1,Zu=1;Zu<=c;Zu++)if(Md<<=1,(Md-=gd[Zu])<0)return-1;if(Md>0&&(L===0||Bd!==1))return-1;for(md[1]=0,Zu=1;Zu<c;Zu++)md[Zu+1]=md[Zu]+gd[Zu];for(Od=0;Od<ce;Od++)G[H+Od]!==0&&(zn[md[G[H+Od]]++]=Od);if(L===0?(Dd=oh=zn,Al=19):L===1?(Dd=f,mh-=257,oh=d,qh-=257,Al=256):(Dd=w,oh=y,Al=-1),ad=0,Od=0,Zu=Id,Kl=Et,Wl=Cd,jd=0,Ft=-1,El=(qu=1<<Cd)-1,L===1&&qu>852||L===2&&qu>592)return 1;for(;;){vu=Zu-jd,zn[Od]<Al?(Nl=0,Xu=zn[Od]):zn[Od]>Al?(Nl=oh[qh+zn[Od]],Xu=Dd[mh+zn[Od]]):(Nl=96,Xu=0),zl=1<<Zu-jd,Id=Hl=1<<Wl;do ie[Kl+(ad>>jd)+(Hl-=zl)]=vu<<24|Nl<<16|Xu;while(Hl!==0);for(zl=1<<Zu-1;ad&zl;)zl>>=1;if(zl!==0?(ad&=zl-1,ad+=zl):ad=0,Od++,--gd[Zu]===0){if(Zu===Bd)break;Zu=G[H+zn[Od]]}if(Zu>Cd&&(ad&El)!==Ft){for(jd===0&&(jd=Cd),Kl+=Id,Md=1<<(Wl=Zu-jd);Wl+jd<Bd&&!((Md-=gd[Wl+jd])<=0);)Wl++,Md<<=1;if(qu+=1<<Wl,L===1&&qu>852||L===2&&qu>592)return 1;ie[Ft=ad&El]=Cd<<24|Wl<<16|Kl-Et}}return ad!==0&&(ie[Kl+ad]=Zu-jd<<24|4194304),$l.bits=Cd,0}},378:(r,n,o)=>{var l;o.r(n),o.d(n,{BackSide:()=>f,Camera:()=>zm,ClampToEdgeWrapping:()=>G,Coloring:()=>l,Cylinder:()=>qu.Cylinder,DoubleSide:()=>d,EventDispatcher:()=>El,FloatType:()=>zn,Fog:()=>Cm,FrontSide:()=>c,Geometry:()=>Zu,GeometryGroup:()=>Vu,GeometryIDCount:()=>Od,ImposterMaterial:()=>L0,InstancedMaterial:()=>Gp,Light:()=>Wl,Line:()=>qd,LineBasicMaterial:()=>Nl,LineStyle:()=>hd,LinearFilter:()=>H,LinearMipMapLinearFilter:()=>ie,Material:()=>Al,MaterialIdCount:()=>vu,Matrix3:()=>y.Matrix3,Matrix4:()=>y.Matrix4,Mesh:()=>fh,MeshDoubleLambertMaterial:()=>l0,MeshLambertMaterial:()=>E0,MeshOutlineMaterial:()=>n0,NearestFilter:()=>ce,Object3D:()=>Bd,Object3DIDCount:()=>Id,Projector:()=>Md,Quaternion:()=>y.Quaternion,R32Format:()=>Hl,RFormat:()=>zl,RGBAFormat:()=>$l,Ray:()=>y.Ray,Raycaster:()=>mh,Renderer:()=>Pm,Scene:()=>Cd,ShaderLib:()=>Qg,ShaderUtils:()=>vm,Shading:()=>w,Sphere:()=>qu.Sphere,SphereImposterMaterial:()=>Z0,SphereImposterOutlineMaterial:()=>G0,Sprite:()=>Mf,SpriteAlignment:()=>L,SpriteMaterial:()=>X0,SpritePlugin:()=>Qm,StickImposterMaterial:()=>$g,StickImposterOutlineMaterial:()=>Gg,Texture:()=>Fp,TextureIdCount:()=>_0,TextureOperations:()=>Ft,Triangle:()=>qu.Triangle,UVMapping:()=>rp,UnsignedByteType:()=>Et,Vector2:()=>y.Vector2,Vector3:()=>y.Vector3,VolumetricMaterial:()=>_f,basic:()=>mp,clamp:()=>y.clamp,clone:()=>Tg,conversionMatrix3:()=>y.conversionMatrix3,degToRad:()=>y.degToRad,instanced:()=>hp,intersectObject:()=>Mp,lambert:()=>sp,lambertdouble:()=>Cg,outline:()=>qg,screen:()=>ig,screenaa:()=>Ag,sphereimposter:()=>cg,sphereimposteroutline:()=>Ep,sprite:()=>dm,stickimposter:()=>Xg,stickimposteroutline:()=>wm,volumetric:()=>Vg}),(function(up){up[up.NoColors=0]="NoColors",up[up.FaceColors=1]="FaceColors",up[up.VertexColors=2]="VertexColors"})(l||(l={}));const c=0,f=1,d=2;var w;(function(up){up[up.NoShading=0]="NoShading",up[up.FlatShading=1]="FlatShading",up[up.SmoothShading=2]="SmoothShading"})(w||(w={}));var y=o(529);const L={topLeft:new y.Vector2(1,-1),topCenter:new y.Vector2(0,-1),topRight:new y.Vector2(-1,-1),centerLeft:new y.Vector2(1,0),center:new y.Vector2(0,0),centerRight:new y.Vector2(-1,0),bottomLeft:new y.Vector2(1,1),bottomCenter:new y.Vector2(0,1),bottomRight:new y.Vector2(-1,1)},G=1001,H=1006,ce=1007,ie=1008,Et=1009,zn=1010,$l=1021,zl=1022,Hl=1023;var Ft;(function(up){up[up.MultiplyOperation=0]="MultiplyOperation",up[up.MixOperation=1]="MixOperation",up[up.AddOperation=2]="AddOperation"})(Ft||(Ft={}));class El{constructor(){this.listeners={}}dispatchEvent(ls){var ed=this.listeners[ls.type];if(ed!==void 0){ls.target=this;for(var rh=0,Ih=ed.length;rh<Ih;rh++)ed[rh].call(this,ls)}}removeEventListener(ls,ed){if(ed){var rh=this.listeners[ls].indexOf(ed);rh!==-1&&this.listeners[ls].splice(rh,1)}else this.listeners[ls]=[]}addEventListener(ls,ed){this.listeners[ls]===void 0&&(this.listeners[ls]=[]),this.listeners[ls].indexOf(ed)===-1&&this.listeners[ls].push(ed)}}var Kl=o(222);class Al extends El{constructor(){super(...arguments),this.id=vu++,this.name="",this.side=c,this.opacity=1,this.transparent=!1,this.depthTest=!0,this.depthWrite=!0,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.alphaTest=0,this.visible=!0,this.needsUpdate=!0,this.outline=!1,this.wireframe=!1,this.shaded=!1}setValues(ls={}){if(ls!==void 0)for(var ed in ls){var rh=ls[ed];if(rh!==void 0){if(ed in this){var Ih=this[ed];Ih instanceof Kl.Color&&rh instanceof Kl.Color?Ih.copy(rh):Ih instanceof Kl.Color?Ih.set(rh):Ih instanceof y.Vector3&&rh instanceof y.Vector3?Ih.copy(rh):this[ed]=rh}}else console.warn("$3Dmol.Material: '"+ed+"' parameter is undefined.")}}clone(ls=new Al){return ls.name=this.name,ls.side=this.side,ls.opacity=this.opacity,ls.transparent=this.transparent,ls.depthTest=this.depthTest,ls.depthWrite=this.depthWrite,ls.polygonOffset=this.polygonOffset,ls.polygonOffsetFactor=this.polygonOffsetFactor,ls.polygonOffsetUnits=this.polygonOffsetUnits,ls.alphaTest=this.alphaTest,ls.overdraw=this.overdraw,ls.visible=this.visible,ls}makeShaded(ls){this.shaded=!0,this.uniforms&&(this.uniforms.shading={type:"i",value:ls},this.uniforms.vWidth={type:"f",value:1},this.uniforms.vHeight={type:"f",value:1})}dispose(){this.dispatchEvent({type:"dispose"})}}let vu=0;class Nl extends Al{constructor(ls){super(),this.color=new Kl.Color(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.vertexColors=!1,this.fog=!0,this.shaderID="basic",this.setValues(ls)}clone(ls=new Nl){return super.clone.call(this,ls),ls.color.copy(this.color),ls}}const Xu=65535;class Vu{constructor(ls=0){this.vertexArray=null,this.colorArray=null,this.normalArray=null,this.radiusArray=null,this.faceArray=null,this.lineArray=null,this.atomArray=Array(),this.vertices=0,this.faceidx=0,this.lineidx=0,this.__inittedArrays=!1,this.id=ls}setColor(ls){var ed=this.vertexArray,rh=this.colorArray;if(!ed)throw new Error("vertex array not initialized");if(!rh)throw new Error("color array not initialized");let Ih=Kl.CC.color(ls);for(var _h=0;_h<ed.length;_h+=3)rh[_h]=Ih.r,rh[_h+1]=Ih.g,rh[_h+2]=Ih.b}setColors(ls){var ed=this.vertexArray,rh=this.colorArray;if(!ed)throw new Error("vertex array not initialized");if(!rh)throw new Error("color array not initialized");if(ed.length==rh.length)for(var Ih=0;Ih<ed.length;Ih+=3){var _h=ls(ed[Ih],ed[Ih+1],ed[Ih+2]);_h instanceof Kl.Color||(_h=Kl.CC.color(_h)),rh[Ih]=_h.r,rh[Ih+1]=_h.g,rh[Ih+2]=_h.b}else console.log("Cannot re-color geometry group due to mismatched lengths.")}getNumVertices(){return this.vertices}getVertices(){return this.vertexArray}getCentroid(){if(!this.vertexArray)throw new Error("vertex array not initialized");for(var ls,ed,rh,Ih,_h=new y.Vector3,ep=0;ep<this.vertices;++ep)ls=3*ep,ed=this.vertexArray[ls],rh=this.vertexArray[ls+1],Ih=this.vertexArray[ls+2],_h.x+=ed,_h.y+=rh,_h.z+=Ih;return _h.divideScalar(this.vertices),_h}setNormals(){var ls=this.faceArray,ed=this.vertexArray,rh=this.normalArray;if(this.vertices&&this.faceidx){if(!ls)throw new Error("face array not initialized");if(!ed)throw new Error("vertex array not initialized");if(!rh)throw new Error("normal array not initialized");for(var Ih,_h,ep,Of,Qf,xp,Zf,vp=0;vp<ls.length/3;++vp)Ih=3*ls[3*vp],_h=3*ls[3*vp+1],ep=3*ls[3*vp+2],Of=new y.Vector3(ed[Ih],ed[Ih+1],ed[Ih+2]),Qf=new y.Vector3(ed[_h],ed[_h+1],ed[_h+2]),xp=new y.Vector3(ed[ep],ed[ep+1],ed[ep+2]),Of.subVectors(Of,Qf),xp.subVectors(xp,Qf),xp.cross(Of),(Zf=xp).normalize(),rh[Ih]+=Zf.x,rh[_h]+=Zf.x,rh[ep]+=Zf.x,rh[Ih+1]+=Zf.y,rh[_h+1]+=Zf.y,rh[ep+1]+=Zf.y,rh[Ih+2]+=Zf.z,rh[_h+2]+=Zf.z,rh[ep+2]+=Zf.z}}setLineIndices(){if(this.faceidx&&(!this.lineArray||this.lineArray.length!=2*this.faceidx||this.lineidx!=2*this.faceidx)){var ls=this.faceArray,ed=this.lineArray=new Uint16Array(2*this.faceidx);if(this.lineidx=2*this.faceidx,!ls)throw new Error("face array not initialized");for(var rh=0;rh<this.faceidx/3;++rh){var Ih=3*rh,_h=2*Ih,ep=ls[Ih],Of=ls[Ih+1],Qf=ls[Ih+2];ed[_h]=ep,ed[_h+1]=Of,ed[_h+2]=ep,ed[_h+3]=Qf,ed[_h+4]=Of,ed[_h+5]=Qf}}}vrml(ls,ed){var rh,Ih,_h,ep,Of,Qf,xp,Zf,vp,Nh,Rp,Q0,dg,jg,Jp,og,i0,ag,Yp="";if(Yp+=ls+`Shape {
`+ls+` appearance Appearance {
`+ls+`  material Material {
`+ls+"   diffuseColor "+((rh=ed?.color)===null||rh===void 0?void 0:rh.r)+" "+((Ih=ed?.color)===null||Ih===void 0?void 0:Ih.g)+" "+((_h=ed?.color)===null||_h===void 0?void 0:_h.b)+`
`,ed.wireframe&&this.colorArray){let kd=this.colorArray;Yp+=ls+"    emissiveColor "+kd[0]+" "+kd[1]+" "+kd[2]+`
`}ed?.transparent&&(Yp+=ls+"   transparency "+(1-ed.opacity)+`
`),Yp+=ls+`  }
`,Yp+=ls+` }
`;var Ng=ls;if(ls+=" ",ed instanceof Nl||ed.wireframe){let kd,E,V;Yp+=ls+`geometry IndexedLineSet {
`+ls+` colorPerVertex TRUE
`+ls+` coord Coordinate {
`+ls+`  point [
`;for(let Me=0;Me<this.vertices;++Me){let ot=3*Me;kd=(ep=this.vertexArray)===null||ep===void 0?void 0:ep[ot],E=(Of=this.vertexArray)===null||Of===void 0?void 0:Of[ot+1],V=(Qf=this.vertexArray)===null||Qf===void 0?void 0:Qf[ot+2],Yp+=ls+"   "+kd+" "+E+" "+V+`,
`}if(Yp+=ls+`  ]
`,Yp+=ls+` }
`,this.colorArray&&!ed.wireframe){Yp+=ls+` color Color {
`+ls+`  color [
`;for(let Me=0;Me<this.vertices;++Me){let ot=3*Me;kd=this.colorArray[ot],E=this.colorArray[ot+1],V=this.colorArray[ot+2],Yp+=ls+"   "+kd+" "+E+" "+V+`,
`}Yp+=ls+`  ]
`,Yp+=ls+` }
`}if(Yp+=ls+` coordIndex [
`,ed.wireframe&&this.faceArray)for(let Me=0;Me<this.faceidx;Me+=3)kd=(xp=this.faceArray)===null||xp===void 0?void 0:xp[Me],E=(Zf=this.faceArray)===null||Zf===void 0?void 0:Zf[Me+1],V=(vp=this.faceArray)===null||vp===void 0?void 0:vp[Me+2],Yp+=ls+"  "+kd+", "+E+", "+V+`, -1,
`;else for(let Me=0;Me<this.vertices-1;Me+=2)Yp+=ls+"  "+Me+", "+(Me+1)+`, -1,
`;Yp+=ls+` ]
`,Yp+=ls+`}
`}else{let kd,E,V;Yp+=ls+`geometry IndexedFaceSet {
`+ls+` colorPerVertex TRUE
`+ls+` normalPerVertex TRUE
`+ls+` solid FALSE
`,Yp+=ls+` coord Coordinate {
`+ls+`  point [
`;for(let Me=0;Me<this.vertices;++Me){let ot=3*Me;kd=(Nh=this.vertexArray)===null||Nh===void 0?void 0:Nh[ot],E=(Rp=this.vertexArray)===null||Rp===void 0?void 0:Rp[ot+1],V=(Q0=this.vertexArray)===null||Q0===void 0?void 0:Q0[ot+2],Yp+=ls+"   "+kd+" "+E+" "+V+`,
`}Yp+=ls+`  ]
`,Yp+=ls+` }
`,Yp+=ls+` normal Normal {
`+ls+`  vector [
`;for(let Me=0;Me<this.vertices;++Me){let ot=3*Me;kd=(dg=this.normalArray)===null||dg===void 0?void 0:dg[ot],E=(jg=this.normalArray)===null||jg===void 0?void 0:jg[ot+1],V=(Jp=this.normalArray)===null||Jp===void 0?void 0:Jp[ot+2],Yp+=ls+"   "+kd+" "+E+" "+V+`,
`}if(Yp+=ls+`  ]
`,Yp+=ls+` }
`,this.colorArray){Yp+=ls+` color Color {
`+ls+`  color [
`;for(let Me=0;Me<this.vertices;++Me){let ot=3*Me;kd=this.colorArray[ot],E=this.colorArray[ot+1],V=this.colorArray[ot+2],Yp+=ls+"   "+kd+" "+E+" "+V+`,
`}Yp+=ls+`  ]
`,Yp+=ls+` }
`}Yp+=ls+` coordIndex [
`;for(let Me=0;Me<this.faceidx;Me+=3)kd=(og=this.faceArray)===null||og===void 0?void 0:og[Me],E=(i0=this.faceArray)===null||i0===void 0?void 0:i0[Me+1],V=(ag=this.faceArray)===null||ag===void 0?void 0:ag[Me+2],Yp+=ls+"  "+kd+", "+E+", "+V+`, -1,
`;Yp+=ls+` ]
`,Yp+=ls+`}
`}return Yp+=Ng+"}"}truncateArrayBuffers(ls=!0,ed=!1){var rh=this.vertexArray,Ih=this.colorArray,_h=this.normalArray,ep=this.faceArray,Of=this.lineArray,Qf=this.radiusArray;this.vertexArray=rh?.subarray(0,3*this.vertices)||null,this.colorArray=Ih?.subarray(0,3*this.vertices)||null,ls?(this.normalArray=_h?.subarray(0,3*this.vertices)||null,this.faceArray=ep?.subarray(0,this.faceidx)||null,this.lineidx>0?this.lineArray=Of?.subarray(0,this.lineidx)||null:this.lineArray=new Uint16Array(0)):(this.normalArray=new Float32Array(0),this.faceArray=new Uint16Array(0),this.lineArray=new Uint16Array(0)),Qf&&(this.radiusArray=Qf.subarray(0,this.vertices)),ed&&(this.normalArray&&(this.normalArray=new Float32Array(this.normalArray)),this.faceArray&&(this.faceArray=new Uint16Array(this.faceArray)),this.lineArray&&(this.lineArray=new Uint16Array(this.lineArray)),this.vertexArray&&(this.vertexArray=new Float32Array(this.vertexArray)),this.colorArray&&(this.colorArray=new Float32Array(this.colorArray)),this.radiusArray&&(this.radiusArray=new Float32Array(this.radiusArray))),this.__inittedArrays=!0}}class Zu extends El{constructor(ls=!1,ed=!1,rh=!1){super(),this.name="",this.hasTangents=!1,this.dynamic=!0,this.verticesNeedUpdate=!1,this.elementsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.buffersNeedUpdate=!1,this.imposter=!1,this.instanced=!1,this.geometryGroups=[],this.groups=0,this.id=Od++,this.mesh=ls,this.radii=ed,this.offset=rh}updateGeoGroup(ls=0){var ed,rh=this.groups>0?this.geometryGroups[this.groups-1]:null;return(!rh||rh.vertices+ls>(((ed=rh?.vertexArray)===null||ed===void 0?void 0:ed.length)||0)/3)&&(rh=this.addGeoGroup()),rh}vrml(ls,ed){for(var rh="",Ih=this.geometryGroups.length,_h=0;_h<Ih;_h++)rh+=this.geometryGroups[_h].vrml(ls,ed)+`,
`;return rh}addGeoGroup(){var ls=new Vu(this.geometryGroups.length);return this.geometryGroups.push(ls),this.groups=this.geometryGroups.length,ls.vertexArray=new Float32Array(196605),ls.colorArray=new Float32Array(196605),this.mesh&&(ls.normalArray=new Float32Array(196605),ls.faceArray=new Uint16Array(393210),ls.lineArray=new Uint16Array(393210)),this.radii&&(ls.radiusArray=new Float32Array(Xu)),ls.useOffset=this.offset,ls}setUpNormals(...ls){for(var ed=0;ed<this.groups;ed++)this.geometryGroups[ed].setNormals(...ls)}setColors(...ls){for(var ed=this.geometryGroups.length,rh=0;rh<ed;rh++)this.geometryGroups[rh].setColors(...ls)}setColor(...ls){let ed=this.geometryGroups.length;for(var rh=0;rh<ed;rh++)this.geometryGroups[rh].setColor(...ls)}setUpWireframe(...ls){let ed=this.geometryGroups.length;for(var rh=0;rh<ed;rh++)this.geometryGroups[rh].setLineIndices(...ls)}initTypedArrays(){for(var ls=0;ls<this.groups;ls++){var ed=this.geometryGroups[ls];ed.__inittedArrays!==!0&&ed.truncateArrayBuffers(this.mesh,!1)}}dispose(){this.dispatchEvent({type:"dispose"})}get vertices(){for(var ls=0,ed=0;ed<this.groups;ed++)ls+=this.geometryGroups[ed].vertices;return ls}}let Od=0,Id=0;class Bd{constructor(){this.id=Id++,this.name="",this.children=[],this.position=new y.Vector3,this.rotation=new y.Vector3,this.matrix=new y.Matrix4,this.matrixWorld=new y.Matrix4,this.quaternion=new y.Quaternion,this.eulerOrder="XYZ",this.up=new y.Vector3(0,1,0),this.scale=new y.Vector3(1,1,1),this.matrixAutoUpdate=!0,this.matrixWorldNeedsUpdate=!0,this.rotationAutoUpdate=!0,this.useQuaternion=!1,this.visible=!0}lookAt(ls){this.matrix.lookAt(ls,this.position,this.up),this.rotationAutoUpdate&&(this.useQuaternion===!0?console.error("Unimplemented math operation."):this.rotation instanceof y.Vector3&&this.rotation.setEulerFromRotationMatrix(this.matrix,this.eulerOrder))}add(ls){if(ls!==this){ls.parent=this,this.children.push(ls);for(var ed=this;ed.parent!==void 0;)ed=ed.parent;ed!==void 0&&ed instanceof Cd&&ed.__addObject(ls)}else console.error("Can't add $3Dmol.Object3D to itself")}remove(ls){var ed=this.children.indexOf(ls);if(ed!==-1){ls.parent=void 0,this.children.splice(ed,1);for(var rh=this;rh.parent!==void 0;)rh=rh.parent;rh!==void 0&&rh instanceof Cd&&rh.__removeObject(ls)}}vrml(ls){ls||(ls=" ");var ed=2*Math.atan2(this.quaternion.lengthxyz(),this.quaternion.w),rh=0,Ih=0,_h=0;if(ed!=0){let Qf=Math.sin(ed/2);rh=this.quaternion.x/Qf,Ih=this.quaternion.y/Qf,_h=this.quaternion.z/Qf}var ep=ls+`Transform {
`+ls+" center "+this.position.x+" "+this.position.y+" "+this.position.z+`
`+ls+" rotation "+rh+" "+Ih+" "+_h+" "+ed+`
`+ls+` children [
`;this.geometry&&(ep+=this.geometry.vrml(ls,this.material));for(var Of=0;Of<this.children.length;Of++)ep+=this.children[Of].vrml(ls+" ")+`,
`;return ep+=` ]
`,ep+="}"}updateMatrix(){this.matrix.setPosition(this.position),this.useQuaternion===!1&&this.rotation instanceof y.Vector3?this.matrix.setRotationFromEuler(this.rotation,this.eulerOrder):this.matrix.setRotationFromQuaternion(this.quaternion),this.scale.x===1&&this.scale.y===1&&this.scale.z===1||this.matrix.scale(this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(ls){this.matrixAutoUpdate===!0&&this.updateMatrix(),this.matrixWorldNeedsUpdate!==!0&&ls!==!0||(this.parent===void 0?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1;for(var ed=0;ed<this.children.length;ed++)this.children[ed].updateMatrixWorld(!0)}clone(ls){ls===void 0&&(ls=new Bd),ls.name=this.name,ls.up.copy(this.up),ls.position.copy(this.position),ls.rotation instanceof y.Vector3&&this.rotation instanceof y.Vector3?ls.rotation.copy(this.rotation):ls.rotation=this.rotation,ls.eulerOrder=this.eulerOrder,ls.scale.copy(this.scale),ls.rotationAutoUpdate=this.rotationAutoUpdate,ls.matrix.copy(this.matrix),ls.matrixWorld.copy(this.matrixWorld),ls.quaternion.copy(this.quaternion),ls.matrixAutoUpdate=this.matrixAutoUpdate,ls.matrixWorldNeedsUpdate=this.matrixWorldNeedsUpdate,ls.useQuaternion=this.useQuaternion,ls.visible=this.visible;for(var ed=0;ed<this.children.length;ed++){var rh=this.children[ed];ls.add(rh.clone())}return ls}setVisible(ls){this.visible=ls;for(var ed=0;ed<this.children.length;ed++)this.children[ed].setVisible(ls)}}class Cd extends Bd{constructor(){super(...arguments),this.fog=null,this.overrideMaterial=null,this.matrixAutoUpdate=!1,this.__objects=[],this.__lights=[],this.__objectsAdded=[],this.__objectsRemoved=[]}__addObject(ls){if(ls instanceof Wl)this.__lights.indexOf(ls)===-1&&this.__lights.push(ls),ls.target&&ls.target.parent===void 0&&this.add(ls.target);else if(this.__objects.indexOf(ls)===-1){this.__objects.push(ls),this.__objectsAdded.push(ls);var ed=this.__objectsRemoved.indexOf(ls);ed!==-1&&this.__objectsRemoved.splice(ed,1)}for(var rh=0;rh<ls.children.length;rh++)this.__addObject(ls.children[rh])}__removeObject(ls){var ed;ls instanceof Wl?(ed=this.__lights.indexOf(ls))!==-1&&this.__lights.splice(ed,1):(ed=this.__objects.indexOf(ls))!==-1&&(this.__objects.splice(ed,1),this.__objectsRemoved.push(ls),this.__objectsAdded.indexOf(ls)!==-1&&this.__objectsAdded.splice(ed,1));for(var rh=0;rh<ls.children.length;rh++)this.__removeObject(ls.children[rh])}}class Wl extends Bd{constructor(ls,ed=1){super(),this.position=new y.Vector3(0,1,0),this.target=new Bd,this.castShadow=!1,this.onlyShadow=!1,this.color=new Kl.Color(ls),this.intensity=ed}}const jd=new y.Matrix4;class Md{static unprojectVector(ls,ed){return ed.projectionMatrixInverse.getInverse(ed.projectionMatrix),jd.multiplyMatrices(ed.matrixWorld,ed.projectionMatrixInverse),ls.applyProjection(jd)}static projectVector(ls,ed){return ed.matrixWorldInverse.getInverse(ed.matrixWorld),jd.multiplyMatrices(ed.projectionMatrix,ed.matrixWorldInverse),ls.applyProjection(jd)}projectVector(ls,ed){return Md.projectVector(ls,ed)}unprojectVector(ls,ed){return Md.unprojectVector(ls,ed)}}var qu=o(99);const ad=(up,ls)=>up.distance-ls.distance,Dd=new y.Matrix4;class mh{constructor(ls,ed,rh,Ih){this.precision=1e-4,this.linePrecision=.2,this.ray=new y.Ray(ls,ed),this.ray.direction.lengthSq()>0&&this.ray.direction.normalize(),this.near=Ih||0,this.far=rh||1/0}set(ls,ed){this.ray.set(ls,ed)}setFromCamera(ls,ed){ed.ortho?(this.ray.origin.set(ls.x,ls.y,(ed.near+ed.far)/(ed.near-ed.far)).unproject(ed),this.ray.direction.set(0,0,-1).transformDirection(ed.matrixWorld)):(this.ray.origin.setFromMatrixPosition(ed.matrixWorld),this.ray.direction.set(ls.x,ls.y,ls.z),ed.projectionMatrixInverse.getInverse(ed.projectionMatrix),Dd.multiplyMatrices(ed.matrixWorld,ed.projectionMatrixInverse),this.ray.direction.applyProjection(Dd),this.ray.direction.sub(this.ray.origin).normalize())}intersectObjects(ls,ed){for(var rh=[],Ih=0,_h=ed.length;Ih<_h;Ih++)Mp(ls,ed[Ih],this,rh);return rh.sort(ad),rh}}const gd=up=>Math.min(Math.max(up,-1),1);var md=new qu.Sphere,oh=new qu.Cylinder,qh=new qu.Triangle,sf=new y.Vector3,yh=new y.Vector3,vf=new y.Vector3,Ef=new y.Vector3,kf=new y.Vector3;function Mp(up,ls,ed,rh){if(kf.getPositionFromMatrix(up.matrixWorld),ls.intersectionShape===void 0||ls.hidden)return rh;var Ih,_h,ep,Of,Qf,xp,Zf,vp,Nh,Rp,Q0,dg,jg,Jp,og=ls.intersectionShape,i0=ed.linePrecision,ag=(i0*=up.matrixWorld.getMaxScaleOnAxis())*i0;if(ls.boundingSphere!==void 0&&ls.boundingSphere instanceof qu.Sphere&&(md.copy(ls.boundingSphere),md.applyMatrix4(up.matrixWorld),!ed.ray.isIntersectionSphere(md)))return rh;for(Ih=0,_h=og.triangle.length;Ih<_h;Ih++)if(og.triangle[Ih]instanceof qu.Triangle){if(qh.copy(og.triangle[Ih]),qh.applyMatrix4(up.matrixWorld),ep=qh.getNormal(),(Of=ed.ray.direction.dot(ep))>=0||(sf.subVectors(qh.a,ed.ray.origin),(Zf=ep.dot(sf)/Of)<0))continue;yh.copy(ed.ray.direction).multiplyScalar(Zf).add(ed.ray.origin),yh.sub(qh.a),vf.copy(qh.b).sub(qh.a),Ef.copy(qh.c).sub(qh.a);var Yp=vf.dot(Ef),Ng=vf.lengthSq(),kd=Ef.lengthSq();if((dg=(Ng*yh.dot(Ef)-Yp*yh.dot(vf))/(Ng*kd-Yp*Yp))<0||dg>1||(Q0=(yh.dot(vf)-dg*Yp)/Ng)<0||Q0>1||Q0+dg>1)continue;rh.push({clickable:ls,distance:Zf})}for(Ih=0,_h=og.cylinder.length;Ih<_h;Ih++)if(og.cylinder[Ih]instanceof qu.Cylinder){if(oh.copy(og.cylinder[Ih]),oh.applyMatrix4(up.matrixWorld),sf.subVectors(oh.c1,ed.ray.origin),Qf=sf.dot(oh.direction),xp=sf.dot(ed.ray.direction),(Nh=1-(Of=gd(ed.ray.direction.dot(oh.direction)))*Of)==0)continue;jg=(Of*xp-Qf)/Nh,Jp=(xp-Of*Qf)/Nh,yh.copy(oh.direction).multiplyScalar(jg).add(oh.c1),vf.copy(ed.ray.direction).multiplyScalar(Jp).add(ed.ray.origin),vp=Ef.subVectors(yh,vf).lengthSq();var E=oh.radius*oh.radius;if(vp<=E){if((Q0=Of*(dg=Zf=(Rp=(Of*Qf-xp)*(Of*Qf-xp)-Nh*(sf.lengthSq()-Qf*Qf-E))<=0?Math.sqrt(vp):(xp-Of*Qf-Math.sqrt(Rp))/Nh)-Qf)<0||Q0*Q0>oh.lengthSq()||dg<0)continue;rh.push({clickable:ls,distance:Zf})}}for(Ih=0,_h=og.line.length;Ih<_h;Ih+=2){yh.copy(og.line[Ih]),yh.applyMatrix4(up.matrixWorld),vf.copy(og.line[Ih+1]),vf.applyMatrix4(up.matrixWorld),Ef.subVectors(vf,yh);var V=Ef.lengthSq();Ef.normalize(),sf.subVectors(yh,ed.ray.origin);var Me=sf.dot(Ef);xp=sf.dot(ed.ray.direction),(Nh=1-(Of=gd(ed.ray.direction.dot(Ef)))*Of)!=0&&(jg=(Of*xp-Me)/Nh,Jp=(xp-Of*Me)/Nh,yh.add(Ef.multiplyScalar(jg)),vf.copy(ed.ray.direction).multiplyScalar(Jp).add(ed.ray.origin),(vp=Ef.subVectors(vf,yh).lengthSq())<ag&&jg*jg<V&&rh.push({clickable:ls,distance:Jp}))}for(Ih=0,_h=og.sphere.length;Ih<_h;Ih++)if(og.sphere[Ih]instanceof qu.Sphere&&(md.copy(og.sphere[Ih]),md.applyMatrix4(up.matrixWorld),ed.ray.isIntersectionSphere(md))){yh.subVectors(md.center,ed.ray.origin);var ot=yh.dot(ed.ray.direction);if(Rp=ot*ot-(yh.lengthSq()-md.radius*md.radius),ot<0)return rh;Zf=Rp<=0?ot:ot-Math.sqrt(Rp),rh.push({clickable:ls,distance:Zf})}return rh}class rp{}class Fp extends El{constructor(ls,ed){super(),this.id=_0++,this.name="",this.image=ls,this.mapping=new rp,this.wrapS=G,this.wrapT=G,this.anisotropy=1,ed?(this.format=zl,this.type=zn,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.magFilter=ce,this.minFilter=ce):(this.format=$l,this.type=Et,this.offset=new y.Vector2(0,0),this.repeat=new y.Vector2(1,1),this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.magFilter=H,this.minFilter=ie),this.needsUpdate=!1,this.onUpdate=null}clone(ls=new Fp){return ls.image=this.image,ls.mapping=this.mapping,ls.wrapS=this.wrapS,ls.wrapT=this.wrapT,ls.magFilter=this.magFilter,ls.minFilter=this.minFilter,ls.anisotropy=this.anisotropy,ls.format=this.format,ls.type=this.type,ls.offset.copy(this.offset),ls.repeat.copy(this.repeat),ls.premultiplyAlpha=this.premultiplyAlpha,ls.flipY=this.flipY,ls.unpackAlignment=this.unpackAlignment,ls}dispose(){this.dispatchEvent({type:"dispose"})}}let _0=0;class L0 extends Al{constructor(ls){super(),this.color=new Kl.Color(16777215),this.ambient=new Kl.Color(1048575),this.emissive=new Kl.Color(0),this.imposter=!0,this.wrapAround=!1,this.wrapRGB=new y.Vector3(1,1,1),this.map=void 0,this.lightMap=null,this.specularMap=null,this.envMap=null,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.shading=w.SmoothShading,this.shaderID=null,this.vertexColors=l.NoColors,this.skinning=!1,this.setValues(ls)}clone(ls=new L0){return super.clone.call(this,ls),ls.color.copy(this.color),ls.ambient.copy(this.ambient),ls.emissive.copy(this.emissive),ls.wrapAround=this.wrapAround,ls.wrapRGB.copy(this.wrapRGB),ls.map=this.map,ls.lightMap=this.lightMap,ls.specularMap=this.specularMap,ls.envMap=this.envMap,ls.combine=this.combine,ls.reflectivity=this.reflectivity,ls.refractionRatio=this.refractionRatio,ls.fog=this.fog,ls.shading=this.shading,ls.shaderID=this.shaderID,ls.vertexColors=this.vertexColors,ls.skinning=this.skinning,ls.morphTargets=this.morphTargets,ls.morphNormals=this.morphNormals,ls}}class Gp extends Al{constructor(ls){super(),this.color=new Kl.Color(16777215),this.ambient=new Kl.Color(1048575),this.emissive=new Kl.Color(0),this.wrapAround=!1,this.wrapRGB=new y.Vector3(1,1,1),this.map=void 0,this.lightMap=null,this.specularMap=null,this.envMap=null,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.shading=w.SmoothShading,this.shaderID="instanced",this.vertexColors=l.NoColors,this.skinning=!1,this.sphere=null,this.setValues(ls)}clone(ls=new Gp){return super.clone.call(this,ls),ls.color.copy(this.color),ls.ambient.copy(this.ambient),ls.emissive.copy(this.emissive),ls.wrapAround=this.wrapAround,ls.wrapRGB.copy(this.wrapRGB),ls.map=this.map,ls.lightMap=this.lightMap,ls.specularMap=this.specularMap,ls.envMap=this.envMap,ls.combine=this.combine,ls.reflectivity=this.reflectivity,ls.refractionRatio=this.refractionRatio,ls.fog=this.fog,ls.shading=this.shading,ls.shaderID=this.shaderID,ls.vertexColors=this.vertexColors,ls.skinning=this.skinning,ls.morphTargets=this.morphTargets,ls.morphNormals=this.morphNormals,ls.sphere=this.sphere,ls}}class E0 extends Al{constructor(ls){super(),this.color=new Kl.Color(16777215),this.ambient=new Kl.Color(1048575),this.emissive=new Kl.Color(0),this.wrapAround=!1,this.wrapRGB=new y.Vector3(1,1,1),this.map=void 0,this.lightMap=null,this.specularMap=null,this.envMap=null,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.shading=w.SmoothShading,this.shaderID="lambert",this.vertexColors=l.NoColors,this.skinning=!1,this.setValues(ls)}clone(ls=new E0){return super.clone.call(this,ls),ls.color.copy(this.color),ls.ambient.copy(this.ambient),ls.emissive.copy(this.emissive),ls.wrapAround=this.wrapAround,ls.wrapRGB.copy(this.wrapRGB),ls.map=this.map,ls.lightMap=this.lightMap,ls.specularMap=this.specularMap,ls.envMap=this.envMap,ls.combine=this.combine,ls.reflectivity=this.reflectivity,ls.refractionRatio=this.refractionRatio,ls.fog=this.fog,ls.shading=this.shading,ls.shaderID=this.shaderID,ls.vertexColors=this.vertexColors,ls.skinning=this.skinning,ls.morphTargets=this.morphTargets,ls.morphNormals=this.morphNormals,ls}}class l0 extends E0{constructor(ls){super(ls),this.shaderID="lambertdouble",this.side=d,this.outline=!1}clone(ls=new l0){return super.clone.call(this,ls),ls}}class n0 extends Al{constructor(ls){super(),ls=ls||{},this.fog=!0,this.shaderID="outline",this.wireframe=!1,this.outlineColor=Kl.CC.color(ls.color||new Kl.Color(0,0,0)),this.outlineWidth=ls.width||.1,this.outlinePushback=ls.pushback||1,this.outlineMaxPixels=ls.maxpixels||0}clone(ls=new n0){return super.clone.call(this,ls),ls.fog=this.fog,ls.shaderID=this.shaderID,ls.wireframe=this.wireframe,ls.outlineColor=this.outlineColor,ls.outlineWidth=this.outlineWidth,ls.outlinePushback=this.outlinePushback,ls.outlineMaxPixels=this.outlineMaxPixels,ls}}class Z0 extends L0{constructor(ls){super(ls),this.shaderID="sphereimposter",this.setValues(ls)}clone(ls=new Z0){return super.clone.call(this,ls),ls}}class G0 extends L0{constructor(ls){super(ls),ls=ls||{},this.shaderID="sphereimposteroutline",this.outlineColor=Kl.CC.color(ls.color||new Kl.Color(0,0,0)),this.outlineWidth=ls.width||.1,this.outlinePushback=ls.pushback||1,this.outlineMaxPixels=ls.maxpixels||0,this.setValues(ls)}clone(ls=new G0){return super.clone.call(this,ls),ls.outlineColor=this.outlineColor,ls.outlineWidth=this.outlineWidth,ls.outlinePushback=this.outlinePushback,ls.outlineMaxPixels=this.outlineMaxPixels,ls}}class X0 extends Al{constructor(ls){super(),this.color=new Kl.Color(16777215),this.map=new Fp,this.useScreenCoordinates=!0,this.fog=!1,this.uvOffset=new y.Vector2(0,0),this.uvScale=new y.Vector2(1,1),this.depthTest=!this.useScreenCoordinates,this.sizeAttenuation=!this.useScreenCoordinates,this.screenOffset=this.screenOffset,this.scaleByViewPort=!this.sizeAttenuation,this.alignment=L.center.clone(),this.setValues(ls),(ls=ls||{}).depthTest===void 0&&(this.depthTest=!this.useScreenCoordinates),ls.sizeAttenuation===void 0&&(this.sizeAttenuation=!this.useScreenCoordinates),ls.scaleByViewPort===void 0&&(this.scaleByViewPort=!this.sizeAttenuation)}clone(ls=new X0){return super.clone.call(this,ls),ls.color.copy(this.color),ls.map=this.map,ls.useScreenCoordinates=this.useScreenCoordinates,ls.screenOffset=this.screenOffset,ls.sizeAttenuation=this.sizeAttenuation,ls.scaleByViewport=this.scaleByViewPort,ls.alignment.copy(this.alignment),ls.uvOffset.copy(this.uvOffset),ls}}class $g extends L0{constructor(ls){super(ls),this.shaderID="stickimposter",this.setValues(ls)}clone(ls=new $g){return super.clone.call(this,ls),ls}}class Gg extends L0{constructor(ls={}){super(ls),this.shaderID="stickimposteroutline",this.outlineColor=new Kl.Color(0,0,0),this.outlineWidth=.1,this.outlinePushback=1,this.outlineMaxPixels=0,ls.color&&(this.outlineColor=Kl.CC.color(ls.color)),ls.width&&(this.outlineWidth=ls.width),ls.pushback&&(this.outlinePushback=ls.pushback),ls.maxpixels&&(this.outlineMaxPixels=ls.maxpixels),this.setValues(ls)}clone(ls=new Gg){return super.clone.call(this,ls),ls.outlineColor=this.outlineColor,ls.outlineWidth=this.outlineWidth,ls.outlinePushback=this.outlinePushback,ls.outlineMaxPixels=this.outlineMaxPixels,ls}}class _f extends Al{constructor(ls){super(),this.transparent=!1,this.volumetric=!0,this.color=new Kl.Color(16777215),this.transferfn=null,this.map=void 0,this.extent=[],this.maxdepth=100,this.unit=0,this.texmatrix=null,this.transfermin=-1,this.transfermax=1,this.subsamples=5,this.shaderID="volumetric",this.side=c,this.setValues(ls)}clone(ls=new _f){return super.clone.call(this,ls),ls.transparent=this.transparent,ls.volumetric=this.volumetric,ls.color=this.color,ls.transferfn=this.transferfn,ls.map=this.map,ls.extent=this.extent,ls.maxdepth=this.maxdepth,ls.unit=this.unit,ls.texmatrix=this.texmatrix,ls.transfermin=this.transfermin,ls.transfermax=this.transfermax,ls.subsamples=this.subsamples,ls.shaderID=this.shaderID,ls.side=this.side,ls}}var hd;(function(up){up[up.LineStrip=0]="LineStrip",up[up.LinePieces=1]="LinePieces"})(hd||(hd={}));class qd extends Bd{constructor(ls,ed=new Nl({color:16777215*Math.random()}),rh=hd.LineStrip){super(),this.geometry=ls,this.material=ed,this.type=rh}clone(ls=new qd(this.geometry,this.material,this.type)){return super.clone.call(this,ls),ls}}class fh extends Bd{constructor(ls,ed){super(),this.geometry=ls,this.material=ed}clone(ls){return ls===void 0&&(ls=new fh(this.geometry,this.material)),super.clone.call(this,ls),ls}}class Mf extends Bd{constructor(ls=new X0){super(),this.material=ls,this.rotation3d=this.rotation,this.rotation=0}updateMatrix(){this.matrix.setPosition(this.position),this.rotation3d.set(0,0,this.rotation),this.matrix.setRotationFromEuler(this.rotation3d),this.scale.x===1&&this.scale.y===1||this.matrix.scale(this.scale),this.matrixWorldNeedsUpdate=!0}clone(ls=new Mf(this.material)){return Bd.prototype.clone.call(this,ls),ls}}const lf={opacity:{type:"f",value:1},fogColor:{type:"c",value:new Kl.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3}},mp={vertexShader:`uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;

attribute vec3 position;
attribute vec3 color;

varying vec3 vColor;
varying vec4 mvPosition;

void main() {

    vColor = color;
    mvPosition = modelViewMatrix * vec4( position, 1.0 );
    gl_Position = projectionMatrix * mvPosition;

}`.replace("#define GLSLIFY 1",""),fragmentShader:`uniform mat4 viewMatrix;
uniform float opacity;
uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;
varying vec3 vColor;
varying vec4 mvPosition;

//DEFINEFRAGCOLOR
void main() {
    gl_FragColor = vec4( vColor, opacity );
    if(fogNear != fogFar) {
        float depth = -mvPosition.z;
        float fogFactor = smoothstep( fogNear, fogFar, depth );
        gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );
    }
}`.replace("#define GLSLIFY 1",""),uniforms:lf},rf={opacity:{type:"f",value:1},fogColor:{type:"c",value:new Kl.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}},hp={fragmentShader:`uniform mat4 viewMatrix;
uniform float opacity;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;
#ifdef SHADED
uniform highp sampler2D shading;
#endif
varying vec3 vLightFront;
varying vec3 vColor;
//DEFINEFRAGCOLOR

void main() {

    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );

    #ifndef WIREFRAME
    gl_FragColor.xyz *= vLightFront;
    #endif

#ifdef SHADED
    ivec2 dim = textureSize(shading,0);
    float shadowFactor = texture2D(shading,vec2(gl_FragCoord.x/float(dim.x),gl_FragCoord.y/float(dim.y))).r;
    vColor *= shadowFactor;
#endif
    gl_FragColor = gl_FragColor * vec4( vColor, opacity );
    float depth = gl_FragCoord.z / gl_FragCoord.w;

    float fogFactor = smoothstep( fogNear, fogFar, depth );

    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );

}


`.replace("#define GLSLIFY 1",""),vertexShader:`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];

attribute vec3 offset;
attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;
attribute float radius;

varying vec3 vColor;
varying vec3 vLightFront;

void main() {

    vColor = color;

    vec3 objectNormal = normal;
    vec3 transformedNormal = normalMatrix * objectNormal;
    vec4 mvPosition = modelViewMatrix * vec4( position * radius + offset, 1.0 );

    vLightFront = vec3( 0.0 );

    transformedNormal = normalize( transformedNormal );

    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );
    vec3 dirVector = normalize( lDirection.xyz );
    float dotProduct = dot( transformedNormal, dirVector );
    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );

    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;

    gl_Position = projectionMatrix * mvPosition;
}

`.replace("#define GLSLIFY 1",""),uniforms:rf},Cp={opacity:{type:"f",value:1},fogColor:{type:"c",value:new Kl.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}},sp={fragmentShader:`uniform mat4 viewMatrix;
uniform float opacity;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;
#ifdef SHADED
uniform highp sampler2D shading;
#endif
varying vec3 vLightFront;
varying vec3 vColor;
varying vec4 mvPosition;


//DEFINEFRAGCOLOR

void main() {

    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );

    #ifndef WIREFRAME
    gl_FragColor.xyz *= vLightFront;
    #endif
#ifdef SHADED
    ivec2 dim = textureSize(shading,0);
    float shadowFactor = texture2D(shading,vec2(gl_FragCoord.x/float(dim.x),gl_FragCoord.y/float(dim.y))).r;
    vColor *= shadowFactor;
#endif
    gl_FragColor = gl_FragColor * vec4( vColor, opacity );

    if(fogNear != fogFar) {
        float depth = -mvPosition.z;
        float fogFactor = smoothstep( fogNear, fogFar, depth );
        gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );
    }

}`.replace("#define GLSLIFY 1",""),vertexShader:`
uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;

varying vec3 vColor;
varying vec3 vLightFront;
varying vec4 mvPosition;

void main() {

    vColor = color;

    vec3 objectNormal = normal;
    vec3 transformedNormal = normalMatrix * objectNormal;
    mvPosition = modelViewMatrix * vec4( position, 1.0 );

    vLightFront = vec3( 0.0 );

    transformedNormal = normalize( transformedNormal );

    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );
    vec3 dirVector = normalize( lDirection.xyz );
    float dotProduct = dot( transformedNormal, dirVector );
    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );

    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;

    gl_Position = projectionMatrix * mvPosition;
}`.replace("#define GLSLIFY 1",""),uniforms:Cp},jp={opacity:{type:"f",value:1},fogColor:{type:"c",value:new Kl.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}},Cg={fragmentShader:`
#ifdef SHADED
uniform highp sampler2D shading;
#endif

uniform mat4 viewMatrix;
uniform float opacity;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;

varying vec3 vLightFront;
varying vec3 vLightBack;

varying vec3 vColor;
varying vec4 mvPosition;

//DEFINEFRAGCOLOR

void main() {

    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );

    #ifndef WIREFRAME
    if ( gl_FrontFacing )
       gl_FragColor.xyz *= vLightFront;
    else
       gl_FragColor.xyz *= vLightBack;
    #endif

    vec3 color = vColor;
#ifdef SHADED
    ivec2 dim = textureSize(shading,0);
    float shadowFactor = texture2D(shading,vec2(gl_FragCoord.x/float(dim.x),gl_FragCoord.y/float(dim.y))).r;
    color *= shadowFactor;
#endif
    gl_FragColor = gl_FragColor * vec4( color, opacity );

    if(fogNear != fogFar) {
        float depth = -mvPosition.z;
        float fogFactor = smoothstep( fogNear, fogFar, depth );
        gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );
    }

}


`.replace("#define GLSLIFY 1",""),vertexShader:`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;

varying vec3 vColor;
varying vec3 vLightFront;
varying vec3 vLightBack;
varying vec4 mvPosition;

void main() {

    vColor = color;

    vec3 objectNormal = normal;
    vec3 transformedNormal = normalMatrix * objectNormal;
    mvPosition = modelViewMatrix * vec4( position, 1.0 );

    vLightFront = vec3( 0.0 );
    vLightBack = vec3( 0.0 );

    transformedNormal = normalize( transformedNormal );

    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );
    vec3 dirVector = normalize( lDirection.xyz );
    float dotProduct = dot( transformedNormal, dirVector );
    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );
    vec3 directionalLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );

    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;
    vLightBack += directionalLightColor[ 0 ] * directionalLightWeightingBack;

    gl_Position = projectionMatrix * mvPosition;
}

`.replace("#define GLSLIFY 1",""),uniforms:jp},tg={opacity:{type:"f",value:1},outlineColor:{type:"c",value:new Kl.Color(0,0,0)},fogColor:{type:"c",value:new Kl.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},outlineWidth:{type:"f",value:.1},outlinePushback:{type:"f",value:1},outlineMaxPixels:{type:"f",value:0}},qg={fragmentShader:`

uniform float opacity;
uniform vec3 outlineColor;
uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;

varying vec4 mvPosition;
//DEFINEFRAGCOLOR

void main() {
    gl_FragColor = vec4( outlineColor, 1 );

    if(fogNear != fogFar) {
        float depth = -mvPosition.z;
        float fogFactor = smoothstep( fogNear, fogFar, depth );
        gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );
    }
}


`.replace("#define GLSLIFY 1",""),vertexShader:`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform float outlineWidth;
uniform float outlinePushback;
uniform float vWidth;
uniform float vHeight;
uniform float outlineMaxPixels;

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;

varying vec4 mvPosition;

void main() {

    vec4 norm = modelViewMatrix*vec4(normalize(normal),0.0);
    mvPosition = modelViewMatrix * vec4( position, 1.0 );
    mvPosition.xy += norm.xy*outlineWidth;
    vec4 outpos = projectionMatrix * mvPosition;

    if(outlineMaxPixels > 0.0) {
        vec4 unadjusted = projectionMatrix*modelViewMatrix * vec4( position, 1.0 );
        float w = outpos.w;
        //normalize homogeneous coords
        unadjusted /= unadjusted.w;
        outpos /= outpos.w;
        vec2 diff = outpos.xy-unadjusted.xy;
        //put into pixels
        diff.x *= vWidth;
        diff.y *= vHeight;
        if ( length(diff) > outlineMaxPixels) {
            vec2 ndiff = normalize(diff)*outlineMaxPixels;
            ndiff.x /= vWidth;
            ndiff.y /= vHeight;
            outpos.xy = unadjusted.xy;
            outpos.xy += ndiff;
        }
        outpos *= w; //if I don't do this things blow up
    }
    gl_Position = outpos;
    mvPosition.z -= outlinePushback; //go backwards in model space
    vec4 pushpos = projectionMatrix*mvPosition; //project to get z in projection space, I'm probably missing some simple math to do the same thing..
    gl_Position.z = gl_Position.w*pushpos.z/pushpos.w;
}

`.replace("#define GLSLIFY 1",""),uniforms:tg},ig={fragmentShader:`uniform sampler2D colormap;
varying highp vec2 vTexCoords;
uniform vec2 dimensions;
//DEFINEFRAGCOLOR
void main (void) {
   gl_FragColor = texture2D(colormap, vTexCoords);

   //gl_FragColor.g = gl_FragColor.b =  gl_FragColor.r; //debug shading 
}
        `.replace("#define GLSLIFY 1",""),vertexShader:`attribute vec2 vertexPosition;
varying highp vec2 vTexCoords;
const vec2 scale = vec2(0.5, 0.5);

void main() {
   vTexCoords  = vertexPosition * scale + scale; // scale vertex attribute to [0,1] range
   gl_Position = vec4(vertexPosition, 0.0, 1.0);
}
        `.replace("#define GLSLIFY 1",""),uniforms:{}},Ag={fragmentShader:`
        
precision highp float;
precision highp int;
precision highp sampler2D;

uniform sampler2D tColor;
varying highp vec2 vTexCoords;

// adapted from https://github.com/kosua20/Rendu
// MIT License Copyright (c) 2017 Simon Rodriguez
// by way of molstar (https://github.com/molstar/molstar/blob/master/src/mol-gl/shader/fxaa.frag.ts)

#define QUALITY(q) ((q) < 5 ? 1.0 : ((q) > 5 ? ((q) < 10 ? 2.0 : ((q) < 11 ? 4.0 : 8.0)) : 1.5))

float rgb2luma(vec3 rgb){
    return sqrt(dot(rgb, vec3(0.299, 0.587, 0.114)));
}

float sampleLuma(vec2 uv) {
    return rgb2luma(texture2D(tColor, uv).rgb);
}

float sampleLuma(vec2 uv, float uOffset, float vOffset) {
    uv += vec2(uOffset, vOffset);
    return sampleLuma(uv);
}

//DEFINEFRAGCOLOR
void main(void) {
    ivec2 dim = textureSize(tColor,0);
    vec2 dimensions = vec2(float(dim.x),float(dim.y));
    vec2 inverseScreenSize = vec2(1.0 / dimensions.x, 1.0 / dimensions.y);
    vec2 coords = vTexCoords;

    vec4 colorCenter = texture2D(tColor, coords);
    float dEdgeThresholdMin = 0.0312;
    float dEdgeThresholdMax = 0.125;
    int dIterations = 12;
    float dSubpixelQuality = 0.3;

    // Luma at the current fragment
    float lumaCenter = rgb2luma(colorCenter.rgb);

    // Luma at the four direct neighbours of the current fragment.
    float lumaDown = sampleLuma(coords, 0.0, -inverseScreenSize.y);
    float lumaUp = sampleLuma(coords, 0.0, inverseScreenSize.y);
    float lumaLeft = sampleLuma(coords, -inverseScreenSize.x, 0.0);
    float lumaRight = sampleLuma(coords, inverseScreenSize.x, 0.0);

    // Find the maximum and minimum luma around the current fragment.
    float lumaMin = min(lumaCenter, min(min(lumaDown, lumaUp), min(lumaLeft, lumaRight)));
    float lumaMax = max(lumaCenter, max(max(lumaDown, lumaUp), max(lumaLeft, lumaRight)));

    // Compute the delta.
    float lumaRange = lumaMax - lumaMin;

    // If the luma variation is lower that a threshold (or if we are in a really dark area),
    // we are not on an edge, don't perform any AA.
    if (lumaRange < max(dEdgeThresholdMin, lumaMax * dEdgeThresholdMax)) {
        gl_FragColor = colorCenter;
        return;
    }

    // Query the 4 remaining corners lumas.
    float lumaDownLeft = sampleLuma(coords, -inverseScreenSize.x, -inverseScreenSize.y);
    float lumaUpRight = sampleLuma(coords, inverseScreenSize.x, inverseScreenSize.y);
    float lumaUpLeft = sampleLuma(coords, -inverseScreenSize.x, inverseScreenSize.y);
    float lumaDownRight = sampleLuma(coords, inverseScreenSize.x, -inverseScreenSize.y);

    // Combine the four edges lumas (using intermediary variables for future computations
    // with the same values).
    float lumaDownUp = lumaDown + lumaUp;
    float lumaLeftRight = lumaLeft + lumaRight;

    // Same for corners
    float lumaLeftCorners = lumaDownLeft + lumaUpLeft;
    float lumaDownCorners = lumaDownLeft + lumaDownRight;
    float lumaRightCorners = lumaDownRight + lumaUpRight;
    float lumaUpCorners = lumaUpRight + lumaUpLeft;

    // Compute an estimation of the gradient along the horizontal and vertical axis.
    float edgeHorizontal = abs(-2.0 * lumaLeft + lumaLeftCorners) + abs(-2.0 * lumaCenter + lumaDownUp) * 2.0 + abs(-2.0 * lumaRight + lumaRightCorners);
    float edgeVertical = abs(-2.0 * lumaUp + lumaUpCorners) + abs(-2.0 * lumaCenter + lumaLeftRight) * 2.0 + abs(-2.0 * lumaDown + lumaDownCorners);

    // Is the local edge horizontal or vertical ?
    bool isHorizontal = (edgeHorizontal >= edgeVertical);

    // Choose the step size (one pixel) accordingly.
    float stepLength = isHorizontal ? inverseScreenSize.y : inverseScreenSize.x;

    // Select the two neighboring texels lumas in the opposite direction to the local edge.
    float luma1 = isHorizontal ? lumaDown : lumaLeft;
    float luma2 = isHorizontal ? lumaUp : lumaRight;
    // Compute gradients in this direction.
    float gradient1 = luma1 - lumaCenter;
    float gradient2 = luma2 - lumaCenter;

    // Which direction is the steepest ?
    bool is1Steepest = abs(gradient1) >= abs(gradient2);

    // Gradient in the corresponding direction, normalized.
    float gradientScaled = 0.25 * max(abs(gradient1), abs(gradient2));

    // Average luma in the correct direction.
    float lumaLocalAverage = 0.0;
    if(is1Steepest){
        // Switch the direction
        stepLength = -stepLength;
        lumaLocalAverage = 0.5 * (luma1 + lumaCenter);
    } else {
        lumaLocalAverage = 0.5 * (luma2 + lumaCenter);
    }

    // Shift UV in the correct direction by half a pixel.
    vec2 currentUv = coords;
    if(isHorizontal){
        currentUv.y += stepLength * 0.5;
    } else {
        currentUv.x += stepLength * 0.5;
    }

    // Compute offset (for each iteration step) in the right direction.
    vec2 offset = isHorizontal ? vec2(inverseScreenSize.x, 0.0) : vec2(0.0, inverseScreenSize.y);
    // Compute UVs to explore on each side of the edge, orthogonally.
    // The QUALITY allows us to step faster.
    vec2 uv1 = currentUv - offset * QUALITY(0);
    vec2 uv2 = currentUv + offset * QUALITY(0);

    // Read the lumas at both current extremities of the exploration segment,
    // and compute the delta wrt to the local average luma.
    float lumaEnd1 = sampleLuma(uv1);
    float lumaEnd2 = sampleLuma(uv2);
    lumaEnd1 -= lumaLocalAverage;
    lumaEnd2 -= lumaLocalAverage;

    // If the luma deltas at the current extremities is larger than the local gradient,
    // we have reached the side of the edge.
    bool reached1 = abs(lumaEnd1) >= gradientScaled;
    bool reached2 = abs(lumaEnd2) >= gradientScaled;
    bool reachedBoth = reached1 && reached2;

    // If the side is not reached, we continue to explore in this direction.
    if(!reached1){
        uv1 -= offset * QUALITY(1);
    }
    if(!reached2){
        uv2 += offset * QUALITY(1);
    }

    // If both sides have not been reached, continue to explore.
    if(!reachedBoth){
        for(int i = 2; i < dIterations; i++){
            // If needed, read luma in 1st direction, compute delta.
            if(!reached1){
                lumaEnd1 = sampleLuma(uv1);
                lumaEnd1 = lumaEnd1 - lumaLocalAverage;
            }
            // If needed, read luma in opposite direction, compute delta.
            if(!reached2){
                lumaEnd2 = sampleLuma(uv2);
                lumaEnd2 = lumaEnd2 - lumaLocalAverage;
            }
            // If the luma deltas at the current extremities is larger than the local gradient,
            // we have reached the side of the edge.
            reached1 = abs(lumaEnd1) >= gradientScaled;
            reached2 = abs(lumaEnd2) >= gradientScaled;
            reachedBoth = reached1 && reached2;

            // If the side is not reached, we continue to explore in this direction,
            // with a variable quality.
            if(!reached1){
                uv1 -= offset * QUALITY(i);
            }
            if(!reached2){
                uv2 += offset * QUALITY(i);
            }

            // If both sides have been reached, stop the exploration.
            if(reachedBoth){
                break;
            }
        }
    }

    // Compute the distances to each side edge of the edge (!).
    float distance1 = isHorizontal ? (coords.x - uv1.x) : (coords.y - uv1.y);
    float distance2 = isHorizontal ? (uv2.x - coords.x) : (uv2.y - coords.y);

    // In which direction is the side of the edge closer ?
    bool isDirection1 = distance1 < distance2;
    float distanceFinal = min(distance1, distance2);

    // Thickness of the edge.
    float edgeThickness = (distance1 + distance2);

    // Is the luma at center smaller than the local average ?
    bool isLumaCenterSmaller = lumaCenter < lumaLocalAverage;

    // If the luma at center is smaller than at its neighbour,
    // the delta luma at each end should be positive (same variation).
    bool correctVariation1 = (lumaEnd1 < 0.0) != isLumaCenterSmaller;
    bool correctVariation2 = (lumaEnd2 < 0.0) != isLumaCenterSmaller;

    // Only keep the result in the direction of the closer side of the edge.
    bool correctVariation = isDirection1 ? correctVariation1 : correctVariation2;

    // UV offset: read in the direction of the closest side of the edge.
    float pixelOffset = - distanceFinal / edgeThickness + 0.5;

    // If the luma variation is incorrect, do not offset.
    float finalOffset = correctVariation ? pixelOffset : 0.0;

    // Sub-pixel shifting
    // Full weighted average of the luma over the 3x3 neighborhood.
    float lumaAverage = (1.0 / 12.0) * (2.0 * (lumaDownUp + lumaLeftRight) + lumaLeftCorners + lumaRightCorners);
    // Ratio of the delta between the global average and the center luma,
    // over the luma range in the 3x3 neighborhood.
    float subPixelOffset1 = clamp(abs(lumaAverage - lumaCenter) / lumaRange, 0.0, 1.0);
    float subPixelOffset2 = (-2.0 * subPixelOffset1 + 3.0) * subPixelOffset1 * subPixelOffset1;
    // Compute a sub-pixel offset based on this delta.
    float subPixelOffsetFinal = subPixelOffset2 * subPixelOffset2 * float(dSubpixelQuality);

    // Pick the biggest of the two offsets.
    finalOffset = max(finalOffset, subPixelOffsetFinal);

    // Compute the final UV coordinates.
    vec2 finalUv = coords;
    if(isHorizontal){
        finalUv.y += finalOffset * stepLength;
    } else {
        finalUv.x += finalOffset * stepLength;
    }

    // Read the color at the new UV coordinates, and use it.
    gl_FragColor = texture2D(tColor, finalUv);
}        

/* old fxaa implementation
uniform highp sampler2D colormap;
varying highp vec2 vTexCoords;


// Basic FXAA implementation based on the code on geeks3d.com 
#define FXAA_REDUCE_MIN (1.0/ 128.0)
#define FXAA_REDUCE_MUL (1.0 / 8.0)
#define FXAA_SPAN_MAX 8.0


vec4 applyFXAA(vec2 fragCoord, highp sampler2D tex)
{
    vec4 color;
    ivec2 dim = textureSize(tex,0);
    vec2 dimensions = vec2(float(dim.x),float(dim.y));
    vec2 inverseVP = vec2(1.0 / dimensions.x, 1.0 / dimensions.y);
    vec4 rgbNW = texture2D(tex, fragCoord + vec2(-1.0, -1.0) * inverseVP);
    vec4 rgbNE = texture2D(tex, fragCoord + vec2(1.0, -1.0) * inverseVP);
    vec4 rgbSW = texture2D(tex, fragCoord + vec2(-1.0, 1.0) * inverseVP);
    vec4 rgbSE = texture2D(tex, fragCoord + vec2(1.0, 1.0) * inverseVP);
    vec4 rgbM  = texture2D(tex, fragCoord );
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW.xyz, luma);
    float lumaNE = dot(rgbNE.xyz, luma);
    float lumaSW = dot(rgbSW.xyz, luma);
    float lumaSE = dot(rgbSE.xyz, luma);
    float lumaM  = dot(rgbM.xyz,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                        (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
            max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
            dir * rcpDirMin)) * inverseVP;

    vec4 rgbA = 0.5 * (
        texture2D(tex, fragCoord + dir * (1.0 / 3.0 - 0.5)) +
        texture2D(tex, fragCoord  + dir * (2.0 / 3.0 - 0.5)));
    vec4 rgbB = rgbA * 0.5 + 0.25 * (
        texture2D(tex, fragCoord  + dir * -0.5) +
        texture2D(tex, fragCoord  + dir * 0.5));

    float lumaB = dot(rgbB.xyz, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = rgbA;
    else
        color = rgbB;

    return color;
}


//DEFINEFRAGCOLOR
void main (void) {
    ivec2 dim = textureSize(colormap,0);

  gl_FragColor = applyFXAA(vTexCoords, colormap);
}
        
*/`.replace("#define GLSLIFY 1",""),vertexShader:`attribute vec2 vertexPosition;
varying highp vec2 vTexCoords;
const vec2 scale = vec2(0.5, 0.5);

void main() {
   vTexCoords  = vertexPosition * scale + scale; // scale vertex attribute to [0,1] range
   gl_Position = vec4(vertexPosition, 0.0, 1.0);
}
        `.replace("#define GLSLIFY 1",""),uniforms:{}},vg={opacity:{type:"f",value:1},fogColor:{type:"c",value:new Kl.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}},cg={vertexShader:`uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;

varying vec2 mapping;
varying vec3 vColor;
varying float rval;
varying vec3 vLight;
varying vec3 center;

void main() {

    vColor = color;
    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
    center = mvPosition.xyz;
    vec4 projPosition = projectionMatrix * mvPosition;
    vec4 adjust = projectionMatrix* vec4(normal,0.0); adjust.z = 0.0; adjust.w = 0.0;
    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );
    vLight = normalize( lDirection.xyz );
    mapping = normal.xy;
    rval = abs(normal.x);
    gl_Position = projPosition+adjust;

}
`.replace("#define GLSLIFY 1",""),fragmentShader:`
uniform mat4 viewMatrix;
uniform float opacity;
uniform mat4 projectionMatrix;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;
uniform float uDepth;
uniform vec3 directionalLightColor[ 1 ];

varying vec3 vColor;
varying vec2 mapping;
varying float rval;
varying vec3 vLight;
varying vec3 center;

#ifdef SHADED
uniform highp sampler2D shading;
#endif

//DEFINEFRAGCOLOR

void main() {
    float lensqr = dot(mapping,mapping);
    float rsqr = rval*rval;
    if(lensqr > rsqr)
       discard;
    float z = sqrt(rsqr-lensqr);
    vec3 cameraPos = center+ vec3(mapping.x,mapping.y,z);
    vec4 clipPos = projectionMatrix * vec4(cameraPos, 1.0);
    float ndcDepth = clipPos.z / clipPos.w;
    gl_FragDepthEXT = ((gl_DepthRange.diff * ndcDepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;
    vec3 norm = normalize(vec3(mapping.x,mapping.y,z));
    float dotProduct = dot( norm, vLight );
    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );
    vec3 vLight = directionalLightColor[ 0 ] * directionalLightWeighting;
    vec3 color = vLight*vColor;
#ifdef SHADED
    ivec2 dim = textureSize(shading,0);
    float shadowFactor = texture2D(shading,vec2(gl_FragCoord.x/float(dim.x),gl_FragCoord.y/float(dim.y))).r;
    color *= shadowFactor;
#endif    
    gl_FragColor = vec4(color, opacity*opacity );

    if(fogNear != fogFar) {
        float depth = -cameraPos.z;
        float fogFactor = smoothstep( fogNear, fogFar, depth );
        gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );
    }
     
}

`.replace("#define GLSLIFY 1",""),uniforms:vg},_p={opacity:{type:"f",value:1},outlineColor:{type:"c",value:new Kl.Color(0,0,0)},fogColor:{type:"c",value:new Kl.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},outlineWidth:{type:"f",value:.1},outlinePushback:{type:"f",value:1},outlineMaxPixels:{type:"f",value:0}},Ep={fragmentShader:`

uniform float opacity;
uniform vec3 outlineColor;
uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;
uniform mat4 projectionMatrix;
varying vec2 mapping;
varying float rval;
varying vec3 center;

uniform float outlinePushback;

//DEFINEFRAGCOLOR

void main() {
    float lensqr = dot(mapping,mapping);
    float rsqr = rval*rval;
    if(lensqr > rsqr)
       discard;
    float z = sqrt(rsqr-lensqr);
    vec3 cameraPos = center+ vec3(mapping.x,mapping.y,z-outlinePushback);
    vec4 clipPos = projectionMatrix * vec4(cameraPos, 1.0);
    float ndcDepth = clipPos.z / clipPos.w;
    gl_FragDepthEXT = ((gl_DepthRange.diff * ndcDepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;
    gl_FragColor = vec4(outlineColor, 1 );

    if(fogNear != fogFar) {
        float depth = -cameraPos.z;
        float fogFactor = smoothstep( fogNear, fogFar, depth );
        gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );
    }
}


`.replace("#define GLSLIFY 1",""),vertexShader:`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform float outlineWidth;
uniform float outlinePushback;
uniform float outlineMaxPixels;
uniform float vWidth;
uniform float vHeight;

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;

varying vec2 mapping;
varying float rval;
varying vec3 center;

void main() {

    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
    center = mvPosition.xyz;
    vec4 projPosition = projectionMatrix * mvPosition;
    vec2 norm = normal.xy + vec2(sign(normal.x)*outlineWidth,sign(normal.y)*outlineWidth);

    vec4 adjust = projectionMatrix* vec4(norm,normal.z,1.0); 
    mapping = norm.xy;
    rval = abs(norm.x);
    gl_Position = projPosition+vec4(adjust.xy,0.0,0.0);

    if(outlineMaxPixels > 0.0) {
        vec4 unadjusted = projectionMatrix*vec4(center.x+normal.x, center.y,center.z,1.0); 
        vec4 ccoord = projectionMatrix*vec4(center.xyz,1.0);
        adjust = projectionMatrix* vec4(center.x+norm.x,center.y,center.z,1.0); 
        //subtract center 
        unadjusted.xyz -= ccoord.xyz;
        adjust.xyz -= ccoord.xyz;
        unadjusted /= unadjusted.w;
        adjust /= adjust.w;
        float diff = abs(adjust.x-unadjusted.x);
        diff *= vWidth;
        if(diff > outlineMaxPixels) {
            
            float fixlen = abs(unadjusted.x) + outlineMaxPixels/vWidth;
            //adjsut reval by ratio of lengths
            rval *= fixlen/abs(adjust.x);
        }

    }
}

`.replace("#define GLSLIFY 1",""),uniforms:_p},dm={fragmentShader:`

uniform vec3 color;
uniform sampler2D map;
uniform float opacity;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;
uniform float alphaTest;

varying vec2 vUV;
//DEFINEFRAGCOLOR

void main() {

    vec4 texture = texture2D(map, vUV);

    if (texture.a <= alphaTest) discard;

    gl_FragColor = vec4(color * texture.xyz, texture.a * opacity);

    if (fogNear != fogFar) {

        float depth = gl_FragCoord.z / gl_FragCoord.w; //probably wrong
        float fogFactor = smoothstep(fogNear, fogFar, depth);        
        gl_FragColor = mix(gl_FragColor, vec4(fogColor, gl_FragColor.w), fogFactor);
    }
}

`.replace("#define GLSLIFY 1",""),vertexShader:`

uniform int useScreenCoordinates;
uniform vec3 screenPosition;
uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform float rotation;
uniform vec2 scale;
uniform vec2 alignment;
uniform vec2 uvOffset;
uniform vec2 uvScale;

attribute vec2 position;
attribute vec2 uv;

varying vec2 vUV;

void main() {

    vUV = uvOffset + uv * uvScale;

    vec2 alignedPosition = position + alignment;

    vec2 rotatedPosition;
    rotatedPosition.x = ( cos(rotation) * alignedPosition.x - sin(rotation) * alignedPosition.y ) * scale.x;
    rotatedPosition.y = ( sin(rotation) * alignedPosition.x + cos(rotation) * alignedPosition.y ) * scale.y;

    vec4 finalPosition;

    if(useScreenCoordinates != 0) {
        finalPosition = vec4(screenPosition.xy + rotatedPosition, screenPosition.z, 1.0);
    }

    else {
        finalPosition = projectionMatrix * modelViewMatrix * vec4(0.0, 0.0, 0.0, 1.0); finalPosition /= finalPosition.w;
        finalPosition.xy += rotatedPosition; 
    }

    gl_Position = finalPosition;

}

`.replace("#define GLSLIFY 1",""),uniforms:{}},Om={opacity:{type:"f",value:1},fogColor:{type:"c",value:new Kl.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}},Pp=`uniform float opacity;
uniform mat4 projectionMatrix;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;

varying vec3 vLight;
varying vec3 vColor;
varying vec3 cposition;
varying vec3 p1;
varying vec3 p2;
varying float r;

#ifdef SHADED
uniform highp sampler2D shading;
#endif

//DEFINEFRAGCOLOR

//cylinder-ray intersection testing taken from http://mrl.nyu.edu/~dzorin/cg05/lecture12.pdf
//also useful: http://stackoverflow.com/questions/9595300/cylinder-impostor-in-glsl
//with a bit more care (caps) this could be a general cylinder imposter (see also outline)
void main() {
    vec3 color = abs(vColor);
    vec3 pos = cposition;
    vec3 p = pos; //ray point
    vec3 v = vec3(0.0,0.0,-1.0); //ray normal - orthographic
    if(projectionMatrix[3][3] == 0.0) v = normalize(pos); //ray normal - perspective
    vec3 pa = p1; //cyl start
    vec3 va = normalize(p2-p1); //cyl norm
    vec3 tmp1 = v-(dot(v,va)*va);
    vec3 deltap = p-pa;
    float A = dot(tmp1,tmp1);
    if(A == 0.0) discard;
    vec3 tmp2 = deltap-(dot(deltap,va)*va);
    float B = 2.0*dot(tmp1, tmp2);
    float C = dot(tmp2,tmp2)-r*r;
//quadratic equation!
    float det = (B*B) - (4.0*A*C);
    if(det < 0.0) discard;
    float sqrtDet = sqrt(det);
    float posT = (-B+sqrtDet)/(2.0*A);
    float negT = (-B-sqrtDet)/(2.0*A);
    float intersectionT = min(posT,negT);
    vec3 qi = p+v*intersectionT;
    float dotp1 = dot(va,qi-p1);
    float dotp2 = dot(va,qi-p2);
    vec3 norm;
    if( dotp1 < 0.0 || dotp2 > 0.0) { //(p-c)^2 + 2(p-c)vt +v^2+t^2 - r^2 = 0
       vec3 cp;
       if( dotp1 < 0.0) {  
//        if(vColor.x < 0.0 ) discard; //color sign bit indicates if we should cap or not
        cp = p1;
       } else {
//          if(vColor.y < 0.0 ) discard;
          cp = p2;
       }
       vec3 diff = p-cp;
       A = dot(v,v);
       B = dot(diff,v)*2.0;
       C = dot(diff,diff)-r*r;
       det = (B*B) - (4.0*C);
       if(det < 0.0) discard;
       sqrtDet = sqrt(det);
       posT = (-B+sqrtDet)/(2.0);
       negT = (-B-sqrtDet)/(2.0);
       float t = min(posT,negT);
       qi = p+v*t; 
       norm = normalize(qi-cp); 
    } else {
       norm = normalize(qi-(dotp1*va + p1));
    }
    vec4 clipPos = projectionMatrix * vec4(qi, 1.0);
    float ndcDepth = clipPos.z / clipPos.w;
    float depth = ((gl_DepthRange.diff * ndcDepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;
    gl_FragDepthEXT = depth;`,Xg={fragmentShader:[Pp,`    float dotProduct = dot( norm, vLight );
    vec3 light = vec3( max( dotProduct, 0.0 ) );
    color *= light;
#ifdef SHADED
    ivec2 dim = textureSize(shading,0);
    float shadowFactor = texture2D(shading,vec2(gl_FragCoord.x/float(dim.x),gl_FragCoord.y/float(dim.y))).r;
    color *= shadowFactor;
#endif    
    gl_FragColor = vec4(color, opacity*opacity );
    if(fogNear != fogFar) {
        float depth = -qi.z;
        float fogFactor = smoothstep( fogNear, fogFar, depth );
        gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );
    }
}`].join(`
`),vertexShader:`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;
attribute float radius;

varying vec3 vColor;
varying vec3 vLight;
varying vec3 cposition;
varying vec3 p1;
varying vec3 p2;
varying float r;

void main() {

    vColor = color; vColor.z = abs(vColor.z); //z indicates which vertex and so would vary
    r = abs(radius);
    vec4 to = modelViewMatrix*vec4(normal, 1.0); //normal is other point of cylinder
    vec4 pt = modelViewMatrix*vec4(position, 1.0);
    vec4 mvPosition = pt;
    p1 = pt.xyz; p2 = to.xyz;
    vec3 norm = to.xyz-pt.xyz;
    float mult = 1.1; //slop to account for perspective of sphere
    if(length(p1) > length(p2)) { //billboard at level of closest point
       mvPosition = to;
    }
    vec3 n = normalize(mvPosition.xyz);
    bool isperspective = (projectionMatrix[3][3] == 0.0);
//intersect with the plane defined by the camera looking at the billboard point
    if(color.z >= 0.0) { //p1
       if(isperspective) { //perspective
         vec3 pnorm = normalize(p1);
         float t = dot(mvPosition.xyz-p1,n)/dot(pnorm,n);
         mvPosition.xyz = p1+t*pnorm; 
       } else { //orthographic
         mvPosition.xyz = p1;
       }
    } else {
      if(isperspective) { //perspective
         vec3 pnorm = normalize(p2);
         float t = dot(mvPosition.xyz-p2,n)/dot(pnorm,n);
         mvPosition.xyz = p2+t*pnorm;
       } else { //orthographic
         mvPosition.xyz = p2;
       } 
       mult *= -1.0;
    }

    if(isperspective) { //perspective
      vec3 cr = normalize(cross(mvPosition.xyz,norm))*radius;
      vec3 doublecr = normalize(cross(mvPosition.xyz,cr))*radius;
      mvPosition.xyz +=  mult*(cr + doublecr).xyz;
    } else {
      vec3 cr = normalize(cross(vec3(0.0,0.0,-1.0),norm))*radius;
      vec3 doublecr = normalize(cross(vec3(0.0,0.0,-1.0),cr))*radius;
      mvPosition.xyz +=  mult*(cr + doublecr).xyz;     
    }

    cposition = mvPosition.xyz;
    gl_Position = projectionMatrix * mvPosition;
    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );
    vLight = normalize( lDirection.xyz )*directionalLightColor[0]; //not really sure this is right, but color is always white so..
}

`,uniforms:Om},wm={fragmentShader:Pp+`
    gl_FragColor = vec4(color, opacity*opacity );
    if(fogNear != fogFar) {
        float depth = -qi.z;
        float fogFactor = smoothstep( fogNear, fogFar, depth );
        gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );
    }
}`,vertexShader:`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];
uniform vec3 outlineColor;
uniform float outlineWidth;
uniform float outlinePushback;
uniform float outlineMaxPixels;
uniform float vWidth;
uniform mat4 projinv;


attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;
attribute float radius;

varying vec3 vColor;
varying vec3 vLight;
varying vec3 cposition;
varying vec3 p1;
varying vec3 p2;
varying float r;

void main() {

    vColor = outlineColor;
    float rad = radius+sign(radius)*outlineWidth;
    r = abs(rad);

    vec4 to = modelViewMatrix*vec4(normal, 1.0); //normal is other point of cylinder
    vec4 pt = modelViewMatrix*vec4(position, 1.0);
//pushback
    float scale = 1.0;
    if(projectionMatrix[3][3] != 0.0) { //orthographic
        to.z -= outlinePushback;
        pt.z -= outlinePushback;
    } else { //perspective
        vec4 midbefore = pt;
        if(length(to.xyz) < length(pt)) {
            midbefore = to;
        }
        vec4 midafter = midbefore;
        midafter.xyz += normalize(midbefore.xyz)*outlinePushback;

        to.xyz += normalize(to.xyz)*outlinePushback;
        pt.xyz += normalize(pt.xyz)*outlinePushback;

        //figure out a scaling factor for radius to account for perspective setback
        vec4 midbeforer = vec4(midbefore.x+rad,midbefore.y, midbefore.z, midbefore.w);
        vec4 midafterr = vec4(midafter.x+rad,midafter.y, midafter.z, midafter.w);

        vec4 mb = projectionMatrix*midbefore;
        vec4 mbr = projectionMatrix*midbeforer;
        vec4 ma = projectionMatrix*midafter;
        vec4 mar = projectionMatrix*midafterr;
        mb /= mb.w;
        mbr /= mbr.w;
        ma /= ma.w;
        mar /= mar.w;
        scale = abs((mbr.x-mb.x)/(mar.x-ma.x));
        rad *= scale;
        r = abs(rad);
    }
    vec4 mvPosition = pt;
    p1 = pt.xyz; p2 = to.xyz;
    vec3 norm = to.xyz-pt.xyz;
    float mult = 1.1; //slop to account for perspective of sphere
    if(length(p1) > length(p2)) { //billboard at level of closest point
       mvPosition = to;
    }

    vec3 n = normalize(mvPosition.xyz);
//intersect with the plane defined by the camera looking at the billboard point
    if(color.z >= 0.0) { //p1
       vec3 pnorm = normalize(p1);
       float t = dot(mvPosition.xyz-p1,n)/dot(pnorm,n);
       mvPosition.xyz = p1+t*pnorm;
    } else {
       vec3 pnorm = normalize(p2);
       float t = dot(mvPosition.xyz-p2,n)/dot(pnorm,n);
       mvPosition.xyz = p2+t*pnorm;
       mult *= -1.0;
    }

    if(outlineMaxPixels > 0.0) {
        vec4 cpos = mvPosition;
        vec4 unadjusted = projectionMatrix*vec4(cpos.x+abs(scale*radius), cpos.y,cpos.z,cpos.w); 
        vec4 ccoord = projectionMatrix*cpos;
        vec4 adjust = projectionMatrix*vec4(cpos.x+r,cpos.y,cpos.z,cpos.w); 
        unadjusted /= unadjusted.w;
        adjust /= adjust.w;
        unadjusted.xyz -= ccoord.xyz/ccoord.w;
        adjust.xyz -= ccoord.xyz/ccoord.w;
        float diff = abs(adjust.x-unadjusted.x);
        diff *= vWidth; //this should now be in pixels
        if(diff > outlineMaxPixels) {
            float fixlen = abs(unadjusted.x) + outlineMaxPixels/vWidth; 
            vec4 pcoord = ccoord;
            pcoord.x += fixlen*pcoord.w;
            vec4 altc = projinv*pcoord;
            r= abs(altc.x-cpos.x);
        }
    }

    vec3 cr = normalize(cross(mvPosition.xyz,norm))*rad;
    vec3 doublecr = normalize(cross(mvPosition.xyz,cr))*rad;
    mvPosition.xy +=  mult*(cr + doublecr).xy;
    cposition = mvPosition.xyz;
    gl_Position = projectionMatrix * mvPosition;
    vLight = vec3(1.0,1.0,1.0);
}

`,uniforms:{opacity:{type:"f",value:1},fogColor:{type:"c",value:new Kl.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},outlineColor:{type:"c",value:new Kl.Color(0,0,0)},outlineWidth:{type:"f",value:.1},outlinePushback:{type:"f",value:1},outlineMaxPixels:{type:"f",value:0},projinv:{type:"mat4",value:[]}}},hm={opacity:{type:"f",value:1},fogColor:{type:"c",value:new Kl.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},data:{type:"i",value:3},colormap:{type:"i",value:4},depthmap:{type:"i",value:5},step:{type:"f",value:1},maxdepth:{type:"f",value:100},subsamples:{type:"f",value:5},textmat:{type:"mat4",value:[]},projinv:{type:"mat4",value:[]},transfermin:{type:"f",value:-.2},transfermax:{type:"f",value:.2}},Vg={fragmentShader:`
uniform highp sampler3D data;
uniform highp sampler2D colormap;
uniform highp sampler2D depthmap;


uniform mat4 textmat;
uniform mat4 projinv;
uniform mat4 projectionMatrix;

uniform float step;
uniform float subsamples;
uniform float maxdepth;
uniform float transfermin;
uniform float transfermax;
in  vec4 mvPosition;
out vec4 color;
void main(void) {

   vec4 pos = mvPosition;
   bool seengood = false;
   float i = 0.0;
   color = vec4(1,1,1,0);
   float increment = 1.0/subsamples;
   float maxsteps = (maxdepth*subsamples/step);
//there's probably a better way to do this..
//calculate farthest possible point in model coordinates
   vec4 maxpos = vec4(pos.x,pos.y,pos.z-maxdepth,1.0);
// convert to projection
   maxpos = projectionMatrix*maxpos;
   vec4 startp = projectionMatrix*pos;
// homogonize
   maxpos /= maxpos.w;
   startp /= startp.w;
//take x,y from start and z from max
   maxpos = vec4(startp.x,startp.y,maxpos.z,1.0);
//convert back to model space
   maxpos = projinv*maxpos;
   maxpos /= maxpos.w;
   float incr = step/subsamples;
//get depth from depthmap
//startp is apparently [-1,1]
   vec2 tpos = startp.xy/2.0+0.5;
   float depth = texture(depthmap, tpos).r;
//compute vector between start and end
   vec4 direction = maxpos-pos;
   for( i = 0.0; i <= maxsteps; i++) {
      vec4 pt = (pos+(i/maxsteps)*direction);
      vec4 ppt = projectionMatrix*pt;
      float ptdepth = ppt.z/ppt.w;
      ptdepth = ((gl_DepthRange.diff * ptdepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;
      if(ptdepth > depth) break;
      pt = textmat*pt;
//       pt /= pt.w;
      if(pt.x >= -0.01 && pt.y >= -0.01 && pt.z >= -0.01 && pt.x <= 1.01 && pt.y <= 1.01 && pt.z <= 1.01) {
         seengood = true;
      } else if(seengood) {
         break;
      }
      if( pt.x < -0.01 || pt.x > 1.01 || pt.y < -0.01 || pt.y > 1.01 || pt.z < -0.01 || pt.z > 1.01  ){
          color.a = 0.0;
          continue;
      }
      else {
         float val = texture(data, pt.zyx).r;
         if(isinf(val)) continue; //masked out
         float cval = (val-transfermin)/(transfermax-transfermin); //scale to texture 0-1 range
         vec4 val_color = texture(colormap, vec2(cval,0.5));
         color.rgb = color.rgb*color.a + (1.0-color.a)*val_color.a*val_color.rgb;
         color.a += (1.0 - color.a) * val_color.a; 
         if(color.a > 0.0) color.rgb /= color.a;
//          color = vec4(pt.x, pt.y, pt.z, 1.0);
      }
//       color = vec4(pt.x, pt.y, pt.z, 0.0)
    }
}

        `.replace("#define GLSLIFY 1",""),vertexShader:`uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;

in vec3 position;
out vec4 mvPosition;
void main() {

    mvPosition = modelViewMatrix * vec4( position, 1.0 );
    gl_Position = projectionMatrix*mvPosition;
}
`.replace("#define GLSLIFY 1",""),uniforms:hm},Qg={basic:mp,blur:{fragmentShader:`const float INV_TOTAL_SAMPLES_FACTOR = 1.0 / 9.0;
uniform highp sampler2D inTex;
varying highp vec2 vTexCoords;
    
void main() {
 
 vec2 texelSize = 1.0 / vec2(textureSize(inTex,0));
 float blurred_visibility_factor = 0.0f;
 for (int t = -1; t <= 1; ++t) {
  for (int s = -1; s <= 1; ++s) {
   vec2 offset = vec2(float(s), float(t)) * texelSize;
   blurred_visibility_factor += texture2D(inTex, vTexCoords + offset).r;
  }
 }
    
 gl_FragDepthEXT = blurred_visibility_factor * INV_TOTAL_SAMPLES_FACTOR;
 
}`,vertexShader:`attribute vec2 vertexPosition;
varying highp vec2 vTexCoords;
const vec2 scale = vec2(0.5, 0.5);

void main() {
   vTexCoords  = vertexPosition * scale + scale; // scale vertex attribute to [0,1] range
   gl_Position = vec4(vertexPosition, 0.0, 1.0);
}
        `,uniforms:{}},instanced:hp,lambert:sp,lambertdouble:Cg,outline:qg,screen:ig,screenaa:Ag,ssao:{fragmentShader:`uniform sampler2D depthmap;
varying highp vec2 vTexCoords;
uniform float vWidth;
uniform float vHeight;
uniform float total_strength;
uniform float radius;
uniform mat4 projinv;
uniform mat4 projectionMatrix;

//code for pseudorandom vector from chatgpt
float hash(vec3 p) {
    p = fract(p * vec3(0.1031, 0.1030, 0.0973));
    p += dot(p, p.yzx + 33.33);
    return fract((p.x + p.y) * p.z);
}

// Generate a pseudorandom vec3 from a seed vec3
vec3 pseudorandomVec3(vec3 seed) {
    vec3 randomVec;
    randomVec.x = hash(seed);
    randomVec.y = hash(seed + vec3(1.0, 0.0, 17.1));
    randomVec.z = hash(seed + vec3(0.0, 13.23, 0.0));
    return randomVec;
}

void main(void)
{   
   const float base = 0.2;
   const float area = 0.75;
   const int cycles = 1;

   const int samples = 64;
   vec3 sample_sphere[64] = vec3[](
      vec3(0.091258,-0.510164,0.000000),
      vec3(-0.204347,-0.872967,0.187199),
      vec3(0.009690,-0.263696,-0.110414),
      vec3(0.175208,-0.563987,0.228527),
      vec3(-0.001824,-0.003113,-0.000323),
      vec3(0.411134,-0.719869,-0.261530),
      vec3(-0.074272,-0.377368,0.276290),
      vec3(-0.147773,-0.381587,-0.284529),
      vec3(0.173317,-0.199635,0.063295),
      vec3(-0.186452,-0.199460,0.076965),
      vec3(0.143985,-0.308160,-0.307687),
      vec3(0.053194,-0.148286,0.169589),
      vec3(-0.547656,-0.486476,-0.317378),
      vec3(0.020804,-0.015092,-0.004574),
      vec3(-0.038006,-0.043165,0.054059),
      vec3(-0.094795,-0.443908,-0.731525),
      vec3(0.547552,-0.396466,0.461477),
      vec3(-0.176886,-0.089989,0.007315),
      vec3(0.074401,-0.048840,-0.074039),
      vec3(-0.008240,-0.075697,0.178197),
      vec3(-0.307880,-0.185053,-0.368943),
      vec3(0.309520,-0.108483,0.041646),
      vec3(-0.773478,-0.292946,0.538166),
      vec3(0.184487,-0.231594,-0.820065),
      vec3(0.207318,-0.100531,0.361797),
      vec3(-0.173306,-0.037737,-0.055289),
      vec3(0.548102,-0.105342,-0.253237),
      vec3(-0.119342,-0.043907,0.285162),
      vec3(-0.270247,-0.087861,-0.751357),
      vec3(0.449312,-0.039777,0.236146),
      vec3(-0.743773,-0.036095,0.196056),
      vec3(0.148819,-0.004300,-0.231448),
      vec3(0.008773,0.000809,0.051047),
      vec3(-0.461467,0.027390,-0.357386),
      vec3(0.169626,0.013338,-0.014053),
      vec3(-0.043786,0.007095,0.047331),
      vec3(0.004821,0.140371,-0.988260),
      vec3(0.092402,0.023994,0.101860),
      vec3(-0.295335,0.061530,-0.027372),
      vec3(0.024903,0.007537,-0.018901),
      vec3(-0.081463,0.125402,0.447794),
      vec3(-0.397119,0.231805,-0.631062),
      vec3(0.163853,0.059014,0.044905),
      vec3(-0.495220,0.214357,0.254139),
      vec3(0.306123,0.373687,-0.825715),
      vec3(0.021665,0.026737,0.053220),
      vec3(-0.208231,0.117129,-0.098685),
      vec3(0.139749,0.080968,-0.043086),
      vec3(-0.153599,0.182814,0.262090),
      vec3(-0.159673,0.496777,-0.743568),
      vec3(0.134797,0.117152,0.095753),
      vec3(-0.155626,0.120533,0.019395),
      vec3(0.042311,0.054462,-0.049709),
      vec3(0.001257,0.031288,0.034468),
      vec3(-0.002271,0.003199,-0.002304),
      vec3(0.662104,0.717307,0.033854),
      vec3(-0.373100,0.576021,0.308274),
      vec3(0.024233,0.231316,-0.173688),
      vec3(0.161311,0.420217,0.234273),
      vec3(-0.045248,0.078031,-0.010411),
      vec3(0.167453,0.376942,-0.094872),
      vec3(-0.056194,0.433247,0.173218),
      vec3(-0.016224,0.123149,-0.035569),
      vec3(0.067127,0.407641,0.028479)
   );

   float depth = texture2D(depthmap, vTexCoords).r;
   if(depth == 1.0) {
      discard;
   }

   vec4 screen_position = vec4(vTexCoords, depth,1.0);
   vec4 pos = projinv*screen_position;
   pos /= pos.w;
   vec3 position = pos.xyz;

   //approximate the normal from the depth map; I find this simpler
   //than trying to recompute the exact normal within every possible object shader

   //pixel offset positions in screen space
   ivec2 dim = textureSize(depthmap,0);
   vec2 offset1 = vec2(0.0,1.0/float(dim.y));
   vec2 offset2 = vec2(1.0/float(dim.x),0.0);
   float depth1 = texture2D(depthmap, vTexCoords + offset1).r;
   float depth2 = texture2D(depthmap, vTexCoords + offset2).r;
   
   vec3 p1 = vec3(screen_position.xy+offset1, depth1 - depth);
   vec3 p2 = vec3(screen_position.xy+offset2, depth2 - depth);

   //convert to model space
   vec4 pos1 = projinv*vec4(p1,1);
   pos1 /= pos1.w;
   vec4 pos2 = projinv*vec4(p2,1);
   pos2 /= pos2.w;

   vec3 normal = normalize(cross(pos1.xyz-position, pos2.xyz-position)); //model normal, important we normalize in model space

   //pseudo random number

   float occlusion = 0.0;
   for(int c = 0; c < cycles; c++) {
   vec3 random = normalize(pseudorandomVec3(position+float(c)));
   for(int i=0; i < samples; i++) {

      vec3 ray = radius * reflect(sample_sphere[i],random);
      vec3 hemi_ray = position + sign(dot(ray,normal)) * ray; //model space
      vec4 hemi_screen = projectionMatrix*vec4(hemi_ray,1.0);
      hemi_screen /= hemi_screen.w;
      
      float occ_depth = texture2D(depthmap, clamp(hemi_screen.xy,0.0,1.0)).r;
      float difference = hemi_screen.z - occ_depth;
      
      occlusion += step(0.0, difference) * (1.0-smoothstep(0.0, area, difference));
   }
   }
   float ao = 1.0 - total_strength * occlusion * (1.0 / float(cycles*samples));
   gl_FragDepthEXT = clamp(ao+base,0.0,1.0);

}`,vertexShader:`attribute vec2 vertexPosition;
varying highp vec2 vTexCoords;
const vec2 scale = vec2(0.5, 0.5);

void main() {
   vTexCoords  = vertexPosition * scale + scale; // scale vertex attribute to [0,1] range
   gl_Position = vec4(vertexPosition, 0.0, 1.0);
}
        `,uniforms:{total_strength:{type:"f",value:1},radius:{type:"f",value:5},projinv:{type:"mat4",value:[]}}},sphereimposter:cg,sphereimposteroutline:Ep,sprite:dm,stickimposter:Xg,stickimposteroutline:wm,volumetric:Vg};function Tg(up){let ls={};for(const rh in up){ls[rh]={},ls[rh].type=up[rh].type;var ed=up[rh].value;ed instanceof Kl.Color?ls[rh].value=ed.clone():typeof ed=="number"?ls[rh].value=ed:ed instanceof Array?ls[rh].value=[]:console.error("Error copying shader uniforms from ShaderLib: unknown type for uniform")}return ls}const vm={clone:Tg};class zm extends Bd{constructor(ls=50,ed=1,rh=.1,Ih=2e3,_h=!1){super(),this.projectionMatrix=new y.Matrix4,this.projectionMatrixInverse=new y.Matrix4,this.matrixWorldInverse=new y.Matrix4,this.fov=ls,this.aspect=ed,this.near=rh,this.far=Ih;var ep=this.position.z;this.right=ep*Math.tan(Math.PI/180*ls),this.left=-this.right,this.top=this.right/this.aspect,this.bottom=-this.top,this.ortho=!!_h,this.updateProjectionMatrix()}lookAt(ls){this.matrix.lookAt(this.position,ls,this.up),this.rotationAutoUpdate&&(this.useQuaternion===!1&&this.rotation instanceof y.Vector3?this.rotation.setEulerFromRotationMatrix(this.matrix,this.eulerOrder):console.error("Unimplemented math operation."))}updateProjectionMatrix(){this.ortho?this.projectionMatrix.makeOrthographic(this.left,this.right,this.top,this.bottom,this.near,this.far):this.projectionMatrix.makePerspective(this.fov,this.aspect,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)}}class Cm{constructor(ls,ed=1,rh=1e3){this.name="",this.color=new Kl.Color(ls),this.near=ed,this.far=rh}clone(){return new Cm(this.color.getHex(),this.near,this.far)}}class Qm{constructor(){this.sprite={vertices:null,faces:null,vertexBuffer:null,elementBuffer:null,program:null,attributes:{},uniforms:null}}init(ls){this.gl=ls.context,this.renderer=ls,this.precision=ls.getPrecision(),this.sprite.vertices=new Float32Array(16),this.sprite.faces=new Uint16Array(6);var ed=0;this.sprite.vertices[ed++]=-1,this.sprite.vertices[ed++]=-1,this.sprite.vertices[ed++]=0,this.sprite.vertices[ed++]=0,this.sprite.vertices[ed++]=1,this.sprite.vertices[ed++]=-1,this.sprite.vertices[ed++]=1,this.sprite.vertices[ed++]=0,this.sprite.vertices[ed++]=1,this.sprite.vertices[ed++]=1,this.sprite.vertices[ed++]=1,this.sprite.vertices[ed++]=1,this.sprite.vertices[ed++]=-1,this.sprite.vertices[ed++]=1,this.sprite.vertices[ed++]=0,this.sprite.vertices[ed++]=1,ed=0,this.sprite.faces[ed++]=0,this.sprite.faces[ed++]=1,this.sprite.faces[ed++]=2,this.sprite.faces[ed++]=0,this.sprite.faces[ed++]=2,this.sprite.faces[ed++]=3,this.sprite.vertexBuffer=this.gl.createBuffer(),this.sprite.elementBuffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.sprite.vertexBuffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.sprite.vertices,this.gl.STATIC_DRAW),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.sprite.elementBuffer),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,this.sprite.faces,this.gl.STATIC_DRAW),this.sprite.program=this.createProgram(Qg.sprite,this.precision||1),this.sprite.attributes={};const rh={};this.sprite.attributes.position=this.gl.getAttribLocation(this.sprite.program,"position"),this.sprite.attributes.uv=this.gl.getAttribLocation(this.sprite.program,"uv"),rh.uvOffset=this.gl.getUniformLocation(this.sprite.program,"uvOffset"),rh.uvScale=this.gl.getUniformLocation(this.sprite.program,"uvScale"),rh.rotation=this.gl.getUniformLocation(this.sprite.program,"rotation"),rh.scale=this.gl.getUniformLocation(this.sprite.program,"scale"),rh.alignment=this.gl.getUniformLocation(this.sprite.program,"alignment"),rh.color=this.gl.getUniformLocation(this.sprite.program,"color"),rh.map=this.gl.getUniformLocation(this.sprite.program,"map"),rh.opacity=this.gl.getUniformLocation(this.sprite.program,"opacity"),rh.useScreenCoordinates=this.gl.getUniformLocation(this.sprite.program,"useScreenCoordinates"),rh.screenPosition=this.gl.getUniformLocation(this.sprite.program,"screenPosition"),rh.modelViewMatrix=this.gl.getUniformLocation(this.sprite.program,"modelViewMatrix"),rh.projectionMatrix=this.gl.getUniformLocation(this.sprite.program,"projectionMatrix"),rh.fogNear=this.gl.getUniformLocation(this.sprite.program,"fogNear"),rh.fogFar=this.gl.getUniformLocation(this.sprite.program,"fogFar"),rh.fogColor=this.gl.getUniformLocation(this.sprite.program,"fogColor"),rh.alphaTest=this.gl.getUniformLocation(this.sprite.program,"alphaTest"),this.sprite.uniforms=rh}render(ls,ed,rh,Ih,_h){var ep,Of,Qf,xp,Zf,vp,Nh,Rp,Q0,dg;if(!this.gl)throw new Error("WebGLRenderer not initialized");let jg=[];(ep=ls?.__webglSprites)===null||ep===void 0||ep.forEach(Pl=>{(_h&&Pl.material.depthTest==0||!_h&&Pl.material.depthTest)&&jg.push(Pl)});let Jp=jg.length;if(!Jp)return;const og=this.sprite.attributes,i0=this.sprite.uniforms;if(!i0)throw new Error("Uniforms not defined");var ag=.5*rh,Yp=.5*Ih;this.gl.useProgram(this.sprite.program),this.gl.enableVertexAttribArray(og.position),this.gl.enableVertexAttribArray(og.uv),this.gl.disable(this.gl.CULL_FACE),this.gl.enable(this.gl.BLEND),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.sprite.vertexBuffer),this.gl.vertexAttribPointer(og.position,2,this.gl.FLOAT,!1,16,0),this.gl.vertexAttribPointer(og.uv,2,this.gl.FLOAT,!1,16,8),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.sprite.elementBuffer),this.gl.uniformMatrix4fv(i0.projectionMatrix,!1,ed.projectionMatrix.elements),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.uniform1i(i0.map,0);var Ng,kd=ls.fog;let E,V,Me;kd?(this.gl.uniform3f(i0.fogColor,kd.color.r,kd.color.g,kd.color.b),this.gl.uniform1f(i0.fogNear,kd.near),this.gl.uniform1f(i0.fogFar,kd.far)):(this.gl.uniform1f(i0.fogNear,0),this.gl.uniform1f(i0.fogFar,0));let ot=[];for(Ng=0;Ng<Jp;Ng++)E=jg[Ng],V=E.material,V&&(V.depthTest!=0||_h)&&E.visible&&V.opacity!==0&&(V.useScreenCoordinates?E.z=-E.position.z:(E._modelViewMatrix.multiplyMatrices(ed.matrixWorldInverse,E.matrixWorld),E.z=-E._modelViewMatrix.elements[14]));for(jg.sort(b0),Ng=0;Ng<Jp;Ng++)if(E=jg[Ng],V=E.material,V&&E.visible&&V.opacity!==0&&V.map&&V.map.image&&V.map.image.width){this.gl.uniform1f(i0?.alphaTest||null,V.alphaTest);var Tl=V.map.image.width,ll=V.map.image.height;ot[0]=Tl*this.renderer.devicePixelRatio/rh,ot[1]=ll*this.renderer.devicePixelRatio/Ih,V.useScreenCoordinates===!0?(this.gl.uniform1i(i0.useScreenCoordinates,1),this.gl.uniform3f(i0.screenPosition,(E.position.x*this.renderer.devicePixelRatio-ag)/ag,(Yp-E.position.y*this.renderer.devicePixelRatio)/Yp,Math.max(0,Math.min(1,E.position.z)))):(this.gl.uniform1i(i0.useScreenCoordinates,0),this.gl.uniformMatrix4fv(i0.modelViewMatrix,!1,E._modelViewMatrix.elements)),Me=1/(V.scaleByViewport?Ih:1),ot[0]*=Me*E.scale.x,ot[1]*=Me*E.scale.y;let Pl=(Of=V?.alignment)===null||Of===void 0?void 0:Of.x,Bl=(Qf=V?.alignment)===null||Qf===void 0?void 0:Qf.y;V.screenOffset&&(Pl=(Pl||0)+2*V.screenOffset.x/Tl,Bl=(Bl||0)+2*V.screenOffset.y/ll),this.gl.uniform2f(i0.uvScale,((xp=V?.uvScale)===null||xp===void 0?void 0:xp.x)||1,((Zf=V?.uvScale)===null||Zf===void 0?void 0:Zf.y)||1),this.gl.uniform2f(i0.uvOffset,((vp=V?.uvOffset)===null||vp===void 0?void 0:vp.x)||0,((Nh=V?.uvOffset)===null||Nh===void 0?void 0:Nh.y)||0),this.gl.uniform2f(i0.alignment,Pl||0,Bl||0),this.gl.uniform1f(i0.opacity,V.opacity),this.gl.uniform3f(i0.color,((Rp=V?.color)===null||Rp===void 0?void 0:Rp.r)||0,((Q0=V?.color)===null||Q0===void 0?void 0:Q0.g)||0,((dg=V?.color)===null||dg===void 0?void 0:dg.b)||0),this.gl.uniform1f(i0.rotation,E.rotation),this.gl.uniform2fv(i0.scale,ot),this.renderer.setDepthTest(V.depthTest),this.renderer.setDepthWrite(V.depthWrite),this.renderer.setTexture(V.map,0),this.gl.drawElements(this.gl.TRIANGLES,6,this.gl.UNSIGNED_SHORT,0)}this.gl.enable(this.gl.CULL_FACE)}createProgram(ls,ed){if(!this.gl)throw new Error("WebGL Rendering context not found");var rh=this.gl.createProgram();if(!rh)throw new Error("Error creating webgl program");var Ih=this.gl.createShader(this.gl.FRAGMENT_SHADER),_h=this.gl.createShader(this.gl.VERTEX_SHADER);if(!Ih)throw new Error("Unable to create fragment shader SpritePlugin.createProgram");if(!_h)throw new Error("Unable to create vertex shader SpritePlugin.createProgram");var ep="precision "+ed+` float;
`;if(this.gl.shaderSource(Ih,ep+ls.fragmentShader),this.gl.shaderSource(_h,ep+ls.vertexShader),this.gl.compileShader(Ih),this.gl.compileShader(_h),!this.gl.getShaderParameter(Ih,this.gl.COMPILE_STATUS)||!this.gl.getShaderParameter(_h,this.gl.COMPILE_STATUS))throw new Error(`Error compiling shader: 
      ${this.gl.getShaderInfoLog(Ih)} 
      ${this.gl.getShaderInfoLog(_h)}`);return this.gl.attachShader(rh,Ih),this.gl.attachShader(rh,_h),this.gl.linkProgram(rh),this.gl.getProgramParameter(rh,this.gl.LINK_STATUS)||console.error("Could not initialize shader"),rh}}function b0(up,ls){return up.z!==ls.z?ls.z-up.z:ls.id-up.id}var yg=null,I0=null;class Pm{constructor(ls){this.context=null,this.devicePixelRatio=1,this.sortObjects=!0,this.autoUpdateObjects=!0,this.autoUpdateScene=!0,this.info={memory:{programs:0,geometries:0,textures:0},render:{calls:0,vertices:0,faces:0,points:0}},this._offscreen=null,this._bitmap=null,this._programs=[],this._programs_counter=0,this._webglversion=1,this._currentProgram=null,this._currentMaterialId=-1,this._currentGeometryGroupHash=null,this._currentCamera=null,this._geometryGroupCounter=0,this._oldDoubleSided=-1,this._oldFlipSided=-1,this._oldDepthTest=-1,this._oldDepthWrite=-1,this._oldPolygonOffset=null,this._oldLineWidth=null,this._viewportWidth=0,this._viewportHeight=0,this._currentWidth=0,this._currentHeight=0,this._enabledAttributes={},this._vector3=new y.Vector3,this._worldInverse=new y.Matrix4,this._projInverse=new y.Matrix4,this._textureMatrix=new y.Matrix4,this._fullProjModelMatrix=new y.Matrix4,this._fullProjModelMatrixInv=new y.Matrix4,this._direction=new y.Vector3,this._lightsNeedUpdate=!0,this._lights={ambient:[0,0,0],directional:{length:0,colors:[],positions:[]},point:{length:0,colors:[],positions:[],distances:[]},spot:{length:0,colors:[],positions:[],distances:[],directions:[],anglesCos:[],exponents:[]},hemi:{length:0,skyColors:[],groundColors:[],positions:[]}},this.sprites=new Qm,this._screenshader=null,this._AOshader=null,this._blurshader=null,this._vertexattribpos=null,this._aovertexattribpos=null,this._blurvertexattribpos=null,this._screenQuadVBO=null,this._fb=null,this._targetTexture=null,this._depthTexture=null,this._shadingTexture=null,this._scratchTexture=null,this._upscale=null,this._AOstrength=1,this._AOradius=5,this.SHADE_TEXTURE=3,ls=ls||{},this.row=ls.row,this.col=ls.col,this.rows=ls.rows,this.cols=ls.cols,this._canvas=ls.canvas!==void 0?ls.canvas:document.createElement("canvas"),this._precision=ls.precision!==void 0?ls.precision:"highp",this._alpha=ls.alpha===void 0||ls.alpha,this._premultipliedAlpha=ls.premultipliedAlpha===void 0||ls.premultipliedAlpha,this._antialias=ls.antialias!==void 0&&ls.antialias,this._upscale=ls.upscale!==void 0?ls.upscale:this._antialias,this._preserveDrawingBuffer=ls.preserveDrawingBuffer!==void 0&&ls.preserveDrawingBuffer,this._clearColor=ls.clearColor!==void 0?new Kl.Color(ls.clearColor):new Kl.Color(0),this._clearAlpha=ls.clearAlpha!==void 0?ls.clearAlpha:0,this._outlineMaterial=new n0(ls.outline),this._outlineSphereImposterMaterial=new G0(ls.outline),this._outlineStickImposterMaterial=new Gg(ls.outline),this._outlineEnabled=!!ls.outline,this._AOEnabled=!!ls.ambientOcclusion,ls.ambientOcclusion&&ls.ambientOcclusion.strength!==void 0&&(this._AOstrength=parseFloat(ls.ambientOcclusion.strength)),this._AOstrength==0&&(this._AOEnabled=!1),ls.ambientOcclusion&&ls.ambientOcclusion.radius!==void 0&&(this._AOradius=parseFloat(ls.ambientOcclusion.radius)),this.domElement=this._canvas,this._canvas.id=ls.id,ls.containerWidth!=0&&ls.containerHeight!=0&&(this.initGL(),this.setDefaultGLState(),this.context=this._gl,this.isWebGL1()?this._extInstanced=this._gl.getExtension("ANGLE_instanced_arrays"):this._extInstanced={vertexAttribDivisorANGLE:this._gl.vertexAttribDivisor.bind(this._gl),drawElementsInstancedANGLE:this._gl.drawElementsInstanced.bind(this._gl)},this._extFragDepth=this._gl.getExtension("EXT_frag_depth"),this._extFloatLinear=this._gl.getExtension("OES_texture_float_linear"),this._extColorBufferFloat=this._gl.getExtension("EXT_color_buffer_float"),this.sprites.init(this))}supportedExtensions(){return{supportsAIA:!!this._extInstanced,supportsImposters:!!this._extFragDepth||!this.isWebGL1(),regen:!1}}getContext(){return this._gl}getCanvas(){return this._canvas}isLost(){return this._gl==null||this._gl.isContextLost()}getPrecision(){return this._precision}setClearColorHex(ls,ed){this._clearColor.setHex(ls),this._clearAlpha=ed,this.isLost()||this._gl.clearColor(this._clearColor.r,this._clearColor.g,this._clearColor.b,this._clearAlpha)}enableOutline(ls){this._outlineMaterial=new n0(ls),this._outlineSphereImposterMaterial=new G0(ls),this._outlineStickImposterMaterial=new Gg(ls),this._outlineEnabled=!0}disableOutline(){this._outlineEnabled=!1}enableAmbientOcclusion(ls){ls&&(ls.strength&&(this._AOstrength=ls.strength),ls.scale&&(this._AOradius=ls.scale)),this._AOEnabled=this._AOstrength>0}disableAmbientOcclusion(){this._AOEnabled=!1}setViewport(){if(this._offscreen&&(this._offscreen.width=this._canvas.width,this._offscreen.height=this._canvas.height),this.rows!=null&&this.cols!=null&&this.row!=null&&this.col!=null&&!this.isLost()){var ls=this._gl.drawingBufferWidth/this.cols,ed=this._gl.drawingBufferHeight/this.rows;this._viewportWidth=ls,this._viewportHeight=ed,this._gl.enable(this._gl.SCISSOR_TEST),this._gl.scissor(ls*this.col,ed*this.row,ls,ed),this._gl.viewport(ls*this.col,ed*this.row,ls,ed)}}setSize(ls,ed){this.devicePixelRatio=window.devicePixelRatio!==void 0?window.devicePixelRatio:1,this._upscale&&this.devicePixelRatio<2&&(this.devicePixelRatio=2),this._canvas.width=ls*this.devicePixelRatio,this._canvas.height=ed*this.devicePixelRatio,this._canvas.style.width=ls+"px",this._canvas.style.height=ed+"px",this.rows!=null&&this.cols!=null&&this.row!=null&&this.col!=null?(this.isLost()||(this._viewportWidth=this._gl.drawingBufferWidth/this.cols,this._viewportHeight=this._gl.drawingBufferHeight/this.rows),this.setViewport()):(this._viewportWidth=this._canvas.width,this._viewportHeight=this._canvas.height,this.isLost()||this._gl.viewport(0,0,this._gl.drawingBufferWidth,this._gl.drawingBufferHeight)),this.initFrameBuffer()}clear(ls,ed,rh){var Ih=0;(ls===void 0||ls)&&(Ih|=this._gl.COLOR_BUFFER_BIT),(ed===void 0||ed)&&(Ih|=this._gl.DEPTH_BUFFER_BIT),(rh===void 0||rh)&&(Ih|=this._gl.STENCIL_BUFFER_BIT),this._gl.clear(Ih)}setMaterialFaces(ls,ed){var rh=ls.side===d,Ih=ls.side===f;ls.imposter||(Ih=ed?!Ih:Ih),this._oldDoubleSided!==rh&&(rh?this._gl.disable(this._gl.CULL_FACE):this._gl.enable(this._gl.CULL_FACE),this._oldDoubleSided=rh),this._oldFlipSided!==Ih&&(Ih?this._gl.frontFace(this._gl.CW):this._gl.frontFace(this._gl.CCW),this._oldFlipSided=Ih),this._gl.cullFace(this._gl.BACK)}setDepthTest(ls){this._oldDepthTest!==ls&&(ls?this._gl.enable(this._gl.DEPTH_TEST):this._gl.disable(this._gl.DEPTH_TEST),this._oldDepthTest=ls)}setDepthWrite(ls){this._oldDepthWrite!==ls&&(this._gl.depthMask(ls),this._oldDepthWrite=ls)}setBlending(ls){ls?(this._gl.enable(this._gl.BLEND),this._gl.blendEquationSeparate(this._gl.FUNC_ADD,this._gl.FUNC_ADD),this._gl.blendFuncSeparate(this._gl.SRC_ALPHA,this._gl.ONE_MINUS_SRC_ALPHA,this._gl.ONE,this._gl.ONE_MINUS_SRC_ALPHA)):this._gl.disable(this._gl.BLEND)}initMaterial(ls,ed,rh,Ih){var _h,ep;if(ls.addEventListener("dispose",this.onMaterialDispose.bind(this)),ep=ls.shaderID){var Of=Qg[ep];ls.vertexShader=Of.vertexShader,ls.fragmentShader=Of.fragmentShader,ls.uniforms=vm.clone(Of.uniforms),ls.shaded&&ls.makeShaded(this.SHADE_TEXTURE)}_h={wireframe:ls.wireframe,fragdepth:ls.imposter,volumetric:ls.volumetric,shaded:ls.shaded},ls.program=this.buildProgram(ls.fragmentShader,ls.vertexShader,ls.uniforms,_h)}renderBuffer(ls,ed,rh,Ih,_h,ep){var Of,Qf;if(Ih.visible&&(Of=this.setProgram(ls,ed,rh,Ih,ep,this))){Qf=Of.attributes;var xp,Zf,vp=!1,Nh=Ih.wireframe?1:0,Rp=16777215*_h.id+2*Of.id+Nh;if(Rp!==this._currentGeometryGroupHash&&(this._currentGeometryGroupHash=Rp,vp=!0),vp&&(this.disableAttributes(),Qf.position>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,_h.__webglVertexBuffer),this.enableAttribute(Qf.position),this._gl.vertexAttribPointer(Qf.position,3,this._gl.FLOAT,!1,0,0)),Qf.color>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,_h.__webglColorBuffer),this.enableAttribute(Qf.color),this._gl.vertexAttribPointer(Qf.color,3,this._gl.FLOAT,!1,0,0)),Qf.normal>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,_h.__webglNormalBuffer),this.enableAttribute(Qf.normal),this._gl.vertexAttribPointer(Qf.normal,3,this._gl.FLOAT,!1,0,0)),Qf.offset>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,_h.__webglOffsetBuffer),this.enableAttribute(Qf.offset),this._gl.vertexAttribPointer(Qf.offset,3,this._gl.FLOAT,!1,0,0)),Qf.radius>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,_h.__webglRadiusBuffer),this.enableAttribute(Qf.radius),this._gl.vertexAttribPointer(Qf.radius,1,this._gl.FLOAT,!1,0,0))),ep instanceof fh){if(Ih.shaderID==="instanced"){var Q0=Ih.sphere.geometryGroups[0];vp&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,_h.__webglVertexBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,Q0.vertexArray,this._gl.STATIC_DRAW),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,_h.__webglNormalBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,Q0.normalArray,this._gl.STATIC_DRAW),this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,_h.__webglFaceBuffer),this._gl.bufferData(this._gl.ELEMENT_ARRAY_BUFFER,Q0.faceArray,this._gl.STATIC_DRAW)),xp=Q0.faceidx,this._extInstanced.vertexAttribDivisorANGLE(Qf.offset,1),this._extInstanced.vertexAttribDivisorANGLE(Qf.radius,1),this._extInstanced.vertexAttribDivisorANGLE(Qf.color,1),this._extInstanced.drawElementsInstancedANGLE(this._gl.TRIANGLES,xp,this._gl.UNSIGNED_SHORT,0,_h.radiusArray.length),this._extInstanced.vertexAttribDivisorANGLE(Qf.offset,0),this._extInstanced.vertexAttribDivisorANGLE(Qf.radius,0),this._extInstanced.vertexAttribDivisorANGLE(Qf.color,0)}else Ih.wireframe?(Zf=_h.lineidx,this.setLineWidth(Ih.wireframeLinewidth),vp&&this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,_h.__webglLineBuffer),this._gl.drawElements(this._gl.LINES,Zf,this._gl.UNSIGNED_SHORT,0)):(xp=_h.faceidx,vp&&this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,_h.__webglFaceBuffer),this._gl.drawElements(this._gl.TRIANGLES,xp,this._gl.UNSIGNED_SHORT,0));this.info.render.calls++,this.info.render.vertices+=xp,this.info.render.faces+=xp/3}else ep instanceof qd&&(Zf=_h.vertices,this.setLineWidth(Ih.linewidth),this._gl.drawArrays(this._gl.LINES,0,Zf),this.info.render.calls++)}}clearShading(){this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,this._shadingTexture,0),this.clear(!1,!0,!1),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,this._depthTexture,0)}setShading(ls,ed,rh){let Ih=ls.__lights,_h=ls.fog,ep=[];for(let xp=0,Zf=ls.__webglObjects.length;xp<Zf;xp++){let vp=ls.__webglObjects[xp];vp.render&&vp[rh]&&ep.push(vp)}if(ep.length==0)return;this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,this._shadingTexture,0),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.COLOR_ATTACHMENT0,this._gl.TEXTURE_2D,null,0),this.renderObjects(ls.__webglObjects,!0,rh+"Depth",ed,Ih,_h,!1),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,this._scratchTexture,0),this.clear(!1,!0,!1),this._gl.useProgram(this._AOshader),this._currentProgram=this._AOshader,this.setDepthTest(-1),this.setDepthWrite(-1);let Of=this._AOshader.uniforms;this._gl.uniform1f(Of.total_strength,this._AOstrength),this._gl.uniform1f(Of.radius,this._AOradius),this._fullProjModelMatrix=new y.Matrix4,this._fullProjModelMatrixInv=new y.Matrix4;let Qf=ep[0].object;this._fullProjModelMatrix.multiplyMatrices(ed.projectionMatrix,Qf._modelViewMatrix),this._fullProjModelMatrixInv.getInverse(this._fullProjModelMatrix),this._gl.uniformMatrix4fv(Of.projectionMatrix,!1,this._fullProjModelMatrix.elements),this._gl.uniformMatrix4fv(Of.projinv,!1,this._fullProjModelMatrixInv.elements),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,this._screenQuadVBO),this._gl.enableVertexAttribArray(this._aovertexattribpos),this._gl.vertexAttribPointer(this._aovertexattribpos,2,this._gl.FLOAT,!1,0,0),this._gl.activeTexture(this._gl.TEXTURE0),this._gl.bindTexture(this._gl.TEXTURE_2D,this._shadingTexture),this._gl.drawArrays(this._gl.TRIANGLES,0,6),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,this._shadingTexture,0),this.clear(!1,!0,!1),this._gl.useProgram(this._blurshader),this._currentProgram=this._blurshader,this.setDepthTest(-1),this.setDepthWrite(-1),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,this._screenQuadVBO),this._gl.enableVertexAttribArray(this._blurvertexattribpos),this._gl.vertexAttribPointer(this._blurvertexattribpos,2,this._gl.FLOAT,!1,0,0),this._gl.activeTexture(this._gl.TEXTURE0),this._gl.bindTexture(this._gl.TEXTURE_2D,this._scratchTexture),this._gl.drawArrays(this._gl.TRIANGLES,0,6),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.COLOR_ATTACHMENT0,this._gl.TEXTURE_2D,this._targetTexture,0),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,this._depthTexture,0)}render(ls,ed){if(ed instanceof zm==0)return void console.error("Renderer.render: camera is not an instance of Camera.");var rh,Ih,_h,ep,Of,Qf=ls.__lights,xp=ls.fog;if(this._currentMaterialId=-1,this._lightsNeedUpdate=!0,this.autoUpdateScene&&ls.updateMatrixWorld(),ed.parent===void 0&&ed.updateMatrixWorld(),ed.matrixWorldInverse.getInverse(ed.matrixWorld),this.isLost())return;this.autoUpdateObjects&&this.initWebGLObjects(ls),this.info.render.calls=0,this.info.render.vertices=0,this.info.render.faces=0,this.info.render.points=0,this._currentWidth=this._viewportWidth,this._currentHeight=this._viewportHeight,this.setViewport(),this.setFrameBuffer(),this._gl.clearColor(this._clearColor.r,this._clearColor.g,this._clearColor.b,this._clearAlpha),this.clear(!0,!0,!0),Of=ls.__webglObjects;let Zf=!1,vp=this._AOEnabled;for(rh=0,Ih=Of.length;rh<Ih;rh++)ep=(_h=Of[rh]).object,_h.render=!1,ep.visible&&(this.setupMatrices(ep,ed),this.unrollBufferMaterial(_h),_h.render=!0,_h.volumetric&&(Zf=!0),_h.hasAO&&(vp=!0));if(this.setBlending(!1),vp&&this.setShading(ls,ed,"opaque"),this.renderObjects(ls.__webglObjects,!0,"opaque",ed,Qf,xp,!1),vp&&this.clearShading(),this.renderSprites(ls,ed,!1),this.renderObjects(ls.__webglObjects,!0,"transparentDepth",ed,Qf,xp,!0),this.renderObjects(ls.__webglObjects,!1,"transparent",ed,Qf,xp,!0),Zf&&this._fb&&(this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,null,0),this.renderObjects(ls.__webglObjects,!1,"volumetric",ed,Qf,xp,!0)),this.renderFrameBuffertoScreen(),this.setDepthTest(!0),this.setDepthWrite(!0),this.renderSprites(ls,ed,!0),this._bitmap){const Nh=this._offscreen.transferToImageBitmap();this._bitmap.transferFromImageBitmap(Nh),Nh.close()}}setFrameBuffer(){if(this.isWebGL1()||!this._fb)return;let ls=this._viewportWidth,ed=this._viewportHeight;this._gl.enable(this._gl.SCISSOR_TEST),this._gl.scissor(0,0,ls,ed),this._gl.viewport(0,0,ls,ed),this._gl.bindTexture(this._gl.TEXTURE_2D,this._targetTexture),this._gl.texImage2D(this._gl.TEXTURE_2D,0,this._gl.RGBA,ls,ed,0,this._gl.RGBA,this._gl.UNSIGNED_BYTE,null),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MIN_FILTER,this._gl.LINEAR),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MAG_FILTER,this._gl.LINEAR),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._gl.bindTexture(this._gl.TEXTURE_2D,this._depthTexture),this._gl.texImage2D(this._gl.TEXTURE_2D,0,this._gl.DEPTH_COMPONENT32F,ls,ed,0,this._gl.DEPTH_COMPONENT,this._gl.FLOAT,null),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MIN_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MAG_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._shadingTexture&&(this._gl.deleteTexture(this._shadingTexture),this._shadingTexture=this._gl.createTexture(),this._gl.bindTexture(this._gl.TEXTURE_2D,this._shadingTexture),this._gl.texImage2D(this._gl.TEXTURE_2D,0,this._gl.DEPTH_COMPONENT32F,ls,ed,0,this._gl.DEPTH_COMPONENT,this._gl.FLOAT,null),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MIN_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MAG_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._gl.deleteTexture(this._scratchTexture),this._scratchTexture=this._gl.createTexture(),this._gl.bindTexture(this._gl.TEXTURE_2D,this._scratchTexture),this._gl.texImage2D(this._gl.TEXTURE_2D,0,this._gl.DEPTH_COMPONENT32F,ls,ed,0,this._gl.DEPTH_COMPONENT,this._gl.FLOAT,null),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MIN_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MAG_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE)),this._gl.bindFramebuffer(this._gl.FRAMEBUFFER,this._fb),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.COLOR_ATTACHMENT0,this._gl.TEXTURE_2D,this._targetTexture,0),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,this._shadingTexture,0),this._gl.clearDepth(1),this._gl.clear(this._gl.DEPTH_BUFFER_BIT),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,this._depthTexture,0)}initFrameBuffer(){if(this.isWebGL1())return;let ls=this._viewportWidth,ed=this._viewportHeight;this._gl.enable(this._gl.SCISSOR_TEST),this._gl.scissor(0,0,ls,ed),this._gl.viewport(0,0,ls,ed),this._targetTexture=this._gl.createTexture(),this._depthTexture=this._gl.createTexture(),this._shadingTexture=this._gl.createTexture(),this._scratchTexture=this._gl.createTexture(),this._fb=this._gl.createFramebuffer();var rh=this._antialias?Qg.screenaa:Qg.screen;this._screenshader=this.buildProgram(rh.fragmentShader,rh.vertexShader,rh.uniforms,{}),this._vertexattribpos=this._gl.getAttribLocation(this._screenshader,"vertexPosition"),this._screenQuadVBO=this._gl.createBuffer(),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,this._screenQuadVBO),this._gl.bufferData(this._gl.ARRAY_BUFFER,new Float32Array([1,1,-1,1,-1,-1,-1,-1,1,-1,1,1]),this._gl.STATIC_DRAW);let Ih=Qg.ssao;this._AOshader=this.buildProgram(Ih.fragmentShader,Ih.vertexShader,Ih.uniforms,{}),this._aovertexattribpos=this._gl.getAttribLocation(this._AOshader,"vertexPosition");let _h=Qg.blur;this._blurshader=this.buildProgram(_h.fragmentShader,_h.vertexShader,_h.uniforms,{}),this._blurvertexattribpos=this._gl.getAttribLocation(this._blurshader,"vertexPosition")}renderFrameBuffertoScreen(){this.isWebGL1()||this._fb===null||(this.setViewport(),this._gl.bindFramebuffer(this._gl.FRAMEBUFFER,null),this._gl.clear(this._gl.COLOR_BUFFER_BIT|this._gl.DEPTH_BUFFER_BIT),this._gl.frontFace(this._gl.CCW),this._gl.cullFace(this._gl.BACK),this._gl.useProgram(this._screenshader),this._currentProgram=this._screenshader,this.setDepthTest(-1),this.setDepthWrite(-1),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,this._screenQuadVBO),this._gl.enableVertexAttribArray(this._vertexattribpos),this._gl.vertexAttribPointer(this._vertexattribpos,2,this._gl.FLOAT,!1,0,0),this._gl.activeTexture(this._gl.TEXTURE0),this._gl.bindTexture(this._gl.TEXTURE_2D,this._targetTexture),this._gl.drawArrays(this._gl.TRIANGLES,0,6))}initWebGLObjects(ls){if(ls.__webglObjects||(ls.__webglObjects=[],ls.__webglObjectsImmediate=[],ls.__webglSprites=[],ls.__webglFlares=[]),ls.__objectsAdded.length){for(;ls.__objectsAdded.length;)this.addObject(ls.__objectsAdded[0],ls),ls.__objectsAdded.splice(0,1);this._currentGeometryGroupHash=-1}for(;ls.__objectsRemoved.length;)this.removeObject(ls.__objectsRemoved[0],ls),ls.__objectsRemoved.splice(0,1);for(var ed=0,rh=ls.__webglObjects.length;ed<rh;ed++)this.updateObject(ls.__webglObjects[ed].object)}getYRatio(){return this.rows!==void 0&&this.row!==void 0?this.rows:1}getXRatio(){return this.cols!==void 0&&this.col!==void 0?this.cols:1}getAspect(ls,ed){ls!=null&&ed!=null||(ls=this._canvas.width,ed=this._canvas.height);var rh=ls/ed;return this.rows!=null&&this.cols!=null&&this.row!=null&&this.col!=null&&(rh=ls/this.cols/(ed/this.rows)),rh}setTexture(ls,ed,rh){if(ls.needsUpdate){ls.__webglInit||(ls.__webglInit=!0,ls.addEventListener("dispose",this.onTextureDispose.bind(this)),ls.__webglTexture=this._gl.createTexture(),this.info.memory.textures++),this._gl.activeTexture(this._gl.TEXTURE0+ed);var Ih=rh?this._gl.TEXTURE_3D:this._gl.TEXTURE_2D;this._gl.bindTexture(Ih,ls.__webglTexture),this._gl.pixelStorei(this._gl.UNPACK_FLIP_Y_WEBGL,ls.flipY),this._gl.pixelStorei(this._gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ls.premultiplyAlpha),this._gl.pixelStorei(this._gl.UNPACK_ALIGNMENT,ls.unpackAlignment),this._gl.pixelStorei(this._gl.PACK_ALIGNMENT,ls.unpackAlignment);var _h=this.paramToGL(ls.format),ep=this.paramToGL(ls.type);if(rh)this.setTextureParameters(this._gl.TEXTURE_3D,ls),this._gl.texImage3D(this._gl.TEXTURE_3D,0,this._gl.R32F,ls.image.size.z,ls.image.size.y,ls.image.size.x,0,this._gl.RED,this._gl.FLOAT,ls.image.data);else{var Of=ls.image,Qf=Of.width,xp=Of.height;Qf===void 0&&(Qf=Of.length,_h==this._gl.RGBA&&(Qf/=4),xp=1),this.setTextureParameters(this._gl.TEXTURE_2D,ls),this.isWebGL1()?this._gl.texImage2D(this._gl.TEXTURE_2D,0,_h,_h,ep,ls.image):this._gl.texImage2D(this._gl.TEXTURE_2D,0,_h,Qf,xp,0,_h,ep,ls.image)}ls.needsUpdate=!1,ls.onUpdate&&ls.onUpdate()}else this._gl.activeTexture(this._gl.TEXTURE0+ed),rh?this._gl.bindTexture(this._gl.TEXTURE_3D,ls.__webglTexture):this._gl.bindTexture(this._gl.TEXTURE_2D,ls.__webglTexture)}supportsVolumetric(){return!this.isWebGL1()}enableAttribute(ls){this._enabledAttributes[ls]||(this._gl.enableVertexAttribArray(ls),this._enabledAttributes[ls]=!0)}disableAttributes(){for(let ls in this._enabledAttributes)this._enabledAttributes[ls]&&(this._gl.disableVertexAttribArray(ls),this._enabledAttributes[ls]=!1)}setPolygonOffset(ls,ed,rh){this._oldPolygonOffset!==ls&&(ls?this._gl.enable(this._gl.POLYGON_OFFSET_FILL):this._gl.disable(this._gl.POLYGON_OFFSET_FILL))}setLineWidth(ls){ls!==this._oldLineWidth&&(this._gl.lineWidth(ls),this._oldLineWidth=ls)}deallocateGeometry(ls){if(ls.__webglInit=void 0,ls.__webglVertexBuffer!==void 0&&this._gl.deleteBuffer(ls.__webglVertexBuffer),ls.__webglColorBuffer!==void 0&&this._gl.deleteBuffer(ls.__webglColorBuffer),ls.geometryGroups!==void 0)for(var ed=0,rh=ls.groups;ed<rh;ed++){var Ih=ls.geometryGroups[ed];Ih.__webglVertexBuffer!==void 0&&this._gl.deleteBuffer(Ih.__webglVertexBuffer),Ih.__webglColorBuffer!==void 0&&this._gl.deleteBuffer(Ih.__webglColorBuffer),Ih.__webglNormalBuffer!==void 0&&this._gl.deleteBuffer(Ih.__webglNormalBuffer),Ih.__webglFaceBuffer!==void 0&&this._gl.deleteBuffer(Ih.__webglFaceBuffer),Ih.__webglLineBuffer!==void 0&&this._gl.deleteBuffer(Ih.__webglLineBuffer)}}deallocateMaterial(ls){var ed=ls.program;if(ed!==void 0){var rh,Ih,_h;ls.program=void 0;var ep=!1;for(rh=0,Ih=this._programs.length;rh<Ih;rh++)if((_h=this._programs[rh]).program===ed){_h.usedTimes--,_h.usedTimes===0&&(ep=!0);break}if(ep===!0){var Of=[];for(rh=0,Ih=this._programs.length;rh<Ih;rh++)(_h=this._programs[rh]).program!==ed&&Of.push(_h);this._programs=Of,this._gl.deleteProgram(ed),this.info.memory.programs--}}}deallocateTexture(ls){if(ls.image&&ls.image.__webglTextureCube)this._gl.deleteTexture(ls.image.__webglTextureCube);else{if(!ls.__webglInit)return;ls.__webglInit=!1,this._gl.deleteTexture(ls.__webglTexture)}}onGeometryDispose(ls){var ed=ls.target;ed.removeEventListener("dispose",this.onGeometryDispose),this.deallocateGeometry(ed),this.info.memory.geometries--}onTextureDispose(ls){var ed=ls.target;ed.removeEventListener("dispose",this.onTextureDispose),this.deallocateTexture(ed),this.info.memory.textures--}onMaterialDispose(ls){var ed=ls.target;ed.removeEventListener("dispose",this.onMaterialDispose),this.deallocateMaterial(ed)}getShader(ls,ed){var rh;return this.isWebGL1()||ed.startsWith("#version")||(ed=ed.replace(/gl_FragDepthEXT/g,"gl_FragDepth"),ed=`#version 300 es
`+(ed=(ed=(ed=(ed=(ed=ls=="fragment"?ed.replace(/varying/g,"in"):ed.replace(/varying/g,"out")).replace(/attribute/g,"in")).replace(/texture2D/g,"texture")).replace(/\/\/DEFINEFRAGCOLOR/g,"out vec4 glFragColor;")).replace(/gl_FragColor/g,"glFragColor"))),ls==="fragment"?rh=this._gl.createShader(this._gl.FRAGMENT_SHADER):ls==="vertex"&&(rh=this._gl.createShader(this._gl.VERTEX_SHADER)),rh==null?null:(this._gl.shaderSource(rh,ed),this._gl.compileShader(rh),this._gl.getShaderParameter(rh,this._gl.COMPILE_STATUS)?rh:(console.error(this._gl.getShaderInfoLog(rh)),console.error("could not initialize shader"),null))}buildProgram(ls,ed,rh,Ih){var _h,ep,Of,Qf,xp=[];for(_h in xp.push(ls),xp.push(ed),Ih)xp.push(_h),xp.push(Ih[_h]);for(Qf=xp.join(),_h=0,ep=this._programs.length;_h<ep;_h++){var Zf=this._programs[_h];if(Zf.code===Qf)return Zf.usedTimes++,Zf.program}if(this.isWebGL1()&&Ih.volumetric)throw new Error("Volumetric rendering requires webgl2 which is not supported by your hardware.");if((Of=this._gl.createProgram())==null)return null;var vp,Nh,Rp,Q0="precision "+this._precision+" float;",dg=[Ih.volumetric?"#version 300 es":"",Q0].join(`
`),jg=[Ih.volumetric?"#version 300 es":"",Ih.fragdepth&&this.isWebGL1()?"#extension GL_EXT_frag_depth: enable":"",Ih.shaded?"#define SHADED 1":"",Ih.wireframe?"#define WIREFRAME 1":"",Q0].join(`
`),Jp=this.getShader("fragment",jg+ls),og=this.getShader("vertex",dg+ed);for(Nh in og!=null&&this._gl.attachShader(Of,og),Jp!=null&&this._gl.attachShader(Of,Jp),this._gl.linkProgram(Of),this._gl.getProgramParameter(Of,this._gl.LINK_STATUS)||console.error("Could not initialize shader"),Of.uniforms={},Of.attributes={},vp=["viewMatrix","modelViewMatrix","projectionMatrix","normalMatrix","vWidth","vHeight"],rh)vp.push(Nh);for(Rp=0;Rp<vp.length;Rp++){var i0=vp[Rp];Of.uniforms[i0]=this._gl.getUniformLocation(Of,i0)}for(vp=["position","normal","color","lineDistance","offset","radius"],Rp=0;Rp<vp.length;Rp++){var ag=vp[Rp];Of.attributes[ag]=this._gl.getAttribLocation(Of,ag)}return Of.id=this._programs_counter++,this._programs.push({program:Of,code:Qf,usedTimes:1}),this.info.memory.programs=this._programs.length,Of}setProgram(ls,ed,rh,Ih,_h,ep){if(Ih.needsUpdate&&(Ih.program&&this.deallocateMaterial(Ih),this.initMaterial(Ih,ed,rh,_h),Ih.needsUpdate=!1),Ih.program==null)return null;var Of=!1,Qf=Ih.program,xp=Qf.uniforms,Zf=Ih.uniforms;if(Qf!=this._currentProgram&&(this._gl.useProgram(Qf),this._currentProgram=Qf,Of=!0),Ih.id!=this._currentMaterialId&&(this._currentMaterialId=Ih.id,Of=!0),ls!=this._currentCamera&&(this._currentCamera=ls,Of=!0),xp.projectionMatrix&&this._gl.uniformMatrix4fv(xp.projectionMatrix,!1,ls.projectionMatrix.elements),xp.modelViewMatrix&&this._gl.uniformMatrix4fv(xp.modelViewMatrix,!1,_h._modelViewMatrix.elements),xp.normalMatrix&&this._gl.uniformMatrix3fv(xp.normalMatrix,!1,_h._normalMatrix.elements),xp.projinv&&(this._projInverse.getInverse(ls.projectionMatrix),this._gl.uniformMatrix4fv(xp.projinv,!1,this._projInverse.elements)),xp.viewMatrix&&this._gl.uniformMatrix4fv(xp.viewMatrix,!1,ls.matrixWorldInverse.elements),xp.vWidth&&this._gl.uniform1f(xp.vWidth,this._viewportWidth),xp.vHeight&&this._gl.uniform1f(xp.vHeight,this._viewportHeight),Of){if(Zf.fogColor.value=rh.color,Zf.fogNear.value=rh.near,Zf.fogFar.value=rh.far,Ih.shaderID.startsWith("lambert")||Ih.shaderID==="instanced"||Ih.shaderID.endsWith("imposter"))this._lightsNeedUpdate&&(this.setupLights(Qf,ed),this._lightsNeedUpdate=!1),Zf.directionalLightColor.value=this._lights.directional.colors,Zf.directionalLightDirection.value=this._lights.directional.positions;else if(Ih.shaderID.endsWith("outline"))Zf.outlineColor.value=Ih.outlineColor,Zf.outlineWidth.value=Ih.outlineWidth,Zf.outlinePushback.value=Ih.outlinePushback,Zf.outlineMaxPixels.value=Ih.outlineMaxPixels*this.devicePixelRatio;else if(Ih.shaderID==="volumetric"){_h._modelViewMatrix.getScale(this._direction),this._worldInverse.getInverse(_h._modelViewMatrix),this._projInverse.getInverse(ls.projectionMatrix),this._textureMatrix.multiplyMatrices(_h.material.texmatrix,this._worldInverse),this._gl.uniformMatrix4fv(xp.textmat,!1,this._textureMatrix.elements),this._gl.uniformMatrix4fv(xp.projinv,!1,this._projInverse.elements);let vp=Math.min(Math.min(this._direction.x,this._direction.y),this._direction.z);Zf.step.value=_h.material.unit*vp,Zf.maxdepth.value=_h.material.maxdepth*vp,Zf.transfermax.value=_h.material.transfermax,Zf.transfermin.value=_h.material.transfermin,Zf.subsamples.value=_h.material.subsamples,ep.setTexture(_h.material.transferfn,4,!1),ep.setTexture(_h.material.map,3,!0),this._gl.activeTexture(this._gl.TEXTURE5),this._gl.bindTexture(this._gl.TEXTURE_2D,this._depthTexture)}Zf.opacity.value=Ih.opacity,this.loadMaterialUniforms(xp,Zf)}return Zf.shading&&(Zf.shading.value==3?(this._gl.activeTexture(this._gl.TEXTURE0+this.SHADE_TEXTURE),this._gl.bindTexture(this._gl.TEXTURE_2D,this._shadingTexture)):console.error("Invalid shading textures.")),Qf}loadMaterialUniforms(ls,ed){var rh,Ih,_h,ep;for(rh in ed)ls[rh]&&(Ih=ed[rh].type,_h=ed[rh].value,ep=ls[rh],Ih==="f"?this._gl.uniform1f(ep,_h):Ih==="i"?this._gl.uniform1i(ep,_h):Ih==="fv"?this._gl.uniform3fv(ep,_h):Ih==="c"?this._gl.uniform3f(ep,_h.r,_h.g,_h.b):Ih==="f4"&&this._gl.uniform4f(ep,_h[0],_h[1],_h[2],_h[3]))}addObject(ls,ed){var rh,Ih,_h,ep;if(!ls.__webglInit&&(ls.__webglInit=!0,ls._modelViewMatrix=new y.Matrix4,ls._normalMatrix=new y.Matrix3,ls.geometry!==void 0&&ls.geometry.__webglInit===void 0&&(ls.geometry.__webglInit=!0,ls.geometry.addEventListener("dispose",this.onGeometryDispose.bind(this))),ls instanceof fh||ls instanceof qd))for(rh=0,Ih=(_h=ls.geometry).geometryGroups.length;rh<Ih;rh++)(ep=_h.geometryGroups[rh]).id=this._geometryGroupCounter++,ep.__webglVertexBuffer||(ls instanceof fh?(this.createMeshBuffers(ep),_h.elementsNeedUpdate=!0,_h.normalsNeedUpdate=!0):ls instanceof qd&&this.createLineBuffers(ep),_h.verticesNeedUpdate=!0,_h.colorsNeedUpdate=!0);if(!ls.__webglActive){if(ls instanceof fh||ls instanceof qd)for(rh=0,Ih=(_h=ls.geometry).geometryGroups.length;rh<Ih;rh++)ep=_h.geometryGroups[rh],this.addBuffer(ed.__webglObjects,ep,ls);else ls instanceof Mf&&ed.__webglSprites.push(ls);ls.__webglActive=!0}}updateObject(ls){var ed,rh=ls.geometry;if(ls instanceof fh||ls instanceof qd){for(var Ih=0,_h=rh.geometryGroups.length;Ih<_h;Ih++)ed=rh.geometryGroups[Ih],(rh.verticesNeedUpdate||rh.elementsNeedUpdate||rh.colorsNeedUpdate||rh.normalsNeedUpdate)&&this.setBuffers(ed,this._gl.STATIC_DRAW);rh.verticesNeedUpdate=!1,rh.elementsNeedUpdate=!1,rh.normalsNeedUpdate=!1,rh.colorsNeedUpdate=!1,rh.buffersNeedUpdate=!1}}removeObject(ls,ed){ls instanceof fh||ls instanceof qd?this.removeInstances(ed.__webglObjects,ls):ls instanceof Mf&&this.removeInstancesDirect(ed.__webglSprites,ls),ls.__webglActive=!1}removeInstances(ls,ed){for(var rh=ls.length-1;rh>=0;--rh)ls[rh].object===ed&&ls.splice(rh,1)}removeInstancesDirect(ls,ed){for(var rh=ls.length-1;rh>=0;--rh)ls[rh]===ed&&ls.splice(rh,1)}unrollBufferMaterial(ls){var ed=ls.object.material;if(ed.volumetric)ls.opaque=null,ls.transparent=null,ls.volumetric=ed;else if(ed.transparent){if(ls.opaque=null,ls.volumetric=null,ls.transparent=ed,!ed.wireframe){let rh=ed.clone();rh.opacity=0,ls.transparentDepth=rh}}else{if(ls.opaque=ed,ls.transparent=null,ls.volumetric=null,!ed.wireframe){let rh=ed.clone();rh.opacity=0,ls.opaqueDepth=rh}ed.hasAO&&(ls.hasAO=!0),(this._AOEnabled||ls.hasAO)&&(ls.opaqueShaded=ed.clone(),ls.opaqueShaded.shaded=!0)}}setBuffers(ls,ed){var rh=ls.vertexArray,Ih=ls.colorArray;if(ls.__webglOffsetBuffer!==void 0?(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,ls.__webglOffsetBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,rh,ed)):(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,ls.__webglVertexBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,rh,ed)),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,ls.__webglColorBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,Ih,ed),ls.normalArray&&ls.__webglNormalBuffer!==void 0){var _h=ls.normalArray;this._gl.bindBuffer(this._gl.ARRAY_BUFFER,ls.__webglNormalBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,_h,ed)}if(ls.radiusArray&&ls.__webglRadiusBuffer!==void 0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,ls.__webglRadiusBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,ls.radiusArray,ed)),ls.faceArray&&ls.__webglFaceBuffer!==void 0){var ep=ls.faceArray;this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,ls.__webglFaceBuffer),this._gl.bufferData(this._gl.ELEMENT_ARRAY_BUFFER,ep,ed)}if(ls.lineArray&&ls.__webglLineBuffer!==void 0){var Of=ls.lineArray;this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,ls.__webglLineBuffer),this._gl.bufferData(this._gl.ELEMENT_ARRAY_BUFFER,Of,ed)}}createMeshBuffers(ls){ls.radiusArray&&(ls.__webglRadiusBuffer=this._gl.createBuffer()),ls.useOffset&&(ls.__webglOffsetBuffer=this._gl.createBuffer()),ls.__webglVertexBuffer=this._gl.createBuffer(),ls.__webglNormalBuffer=this._gl.createBuffer(),ls.__webglColorBuffer=this._gl.createBuffer(),ls.__webglFaceBuffer=this._gl.createBuffer(),ls.__webglLineBuffer=this._gl.createBuffer(),this.info.memory.geometries++}createLineBuffers(ls){ls.__webglVertexBuffer=this._gl.createBuffer(),ls.__webglColorBuffer=this._gl.createBuffer(),this.info.memory.geometries++}addBuffer(ls,ed,rh){ls.push({buffer:ed,object:rh,opaque:null,transparent:null})}setupMatrices(ls,ed){ls._modelViewMatrix.multiplyMatrices(ed.matrixWorldInverse,ls.matrixWorld),ls._normalMatrix.getInverse(ls._modelViewMatrix),ls._normalMatrix.transpose()}filterFallback(ls){return this._gl.LINEAR}setTextureParameters(ls,ed){ls==this._gl.TEXTURE_2D?(this._gl.texParameteri(ls,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(ls,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(ls,this._gl.TEXTURE_MAG_FILTER,this.filterFallback(ed.magFilter)),this._gl.texParameteri(ls,this._gl.TEXTURE_MIN_FILTER,this.filterFallback(ed.minFilter))):(this._gl.texParameteri(ls,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(ls,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(ls,this._gl.TEXTURE_WRAP_R,this._gl.CLAMP_TO_EDGE),this._extColorBufferFloat&&this._extFloatLinear?(this._gl.texParameteri(ls,this._gl.TEXTURE_MAG_FILTER,this._gl.LINEAR),this._gl.texParameteri(ls,this._gl.TEXTURE_MIN_FILTER,this._gl.LINEAR)):(this._gl.texParameteri(ls,this._gl.TEXTURE_MAG_FILTER,this._gl.NEAREST),this._gl.texParameteri(ls,this._gl.TEXTURE_MIN_FILTER,this._gl.NEAREST)))}paramToGL(ls){return ls===Et?this._gl.UNSIGNED_BYTE:ls===$l?this._gl.RGBA:ls===ce?this._gl.NEAREST:0}setupLights(ls,ed){var rh,Ih,_h,ep,Of,Qf=this._lights,xp=Qf.directional.colors,Zf=Qf.directional.positions,vp=0,Nh=0;for(rh=0,Ih=ed.length;rh<Ih;rh++)if(ep=(_h=ed[rh]).color,Of=_h.intensity,_h instanceof Wl){if(this._direction.getPositionFromMatrix(_h.matrixWorld),this._vector3.getPositionFromMatrix(_h.target.matrixWorld),this._direction.sub(this._vector3),this._direction.normalize(),this._direction.x===0&&this._direction.y===0&&this._direction.z===0)continue;Zf[Nh]=this._direction.x,Zf[Nh+1]=this._direction.y,Zf[Nh+2]=this._direction.z,xp[Nh]=ep.r*Of,xp[Nh+1]=ep.g*Of,xp[Nh+2]=ep.b*Of,Nh+=3,vp++}Qf.ambient[0]=0,Qf.ambient[1]=0,Qf.ambient[2]=0,Qf.directional.length=vp}initGL(){try{if(!OffscreenCanvas||this.rows!=null&&this.cols!=null&&this.row!=null&&this.col!=null){if(!(this._gl=this._canvas.getContext("webgl2",{alpha:this._alpha,premultipliedAlpha:this._premultipliedAlpha,antialias:this._antialias,preserveDrawingBuffer:this._preserveDrawingBuffer}))&&!(this._gl=this._canvas.getContext("experimental-webgl",{alpha:this._alpha,premultipliedAlpha:this._premultipliedAlpha,antialias:this._antialias,preserveDrawingBuffer:this._preserveDrawingBuffer}))&&!(this._gl=this._canvas.getContext("webgl",{alpha:this._alpha,premultipliedAlpha:this._premultipliedAlpha,antialias:this._antialias,preserveDrawingBuffer:this._preserveDrawingBuffer})))throw"Error creating WebGL context."}else(I0==null||I0.isContextLost())&&(yg=new OffscreenCanvas(this._canvas.width,this._canvas.height),I0=yg.getContext("webgl2",{alpha:!0,premultipliedAlpha:this._premultipliedAlpha,antialias:this._antialias,preserveDrawingBuffer:this._preserveDrawingBuffer})),this._offscreen=yg,this._gl=I0,this._bitmap=this._canvas.getContext("bitmaprenderer",{alpha:!0});var ls=this._gl.getParameter(this._gl.VERSION);this._webglversion=parseInt(ls[6])}catch(ed){console.error(ed)}}isWebGL1(){return this._webglversion==1}setDefaultGLState(){this._gl.clearDepth(1),this._gl.clearStencil(0),this._gl.enable(this._gl.DEPTH_TEST),this._gl.depthFunc(this._gl.LEQUAL),this._gl.frontFace(this._gl.CCW),this._gl.cullFace(this._gl.BACK),this._gl.enable(this._gl.CULL_FACE),this._gl.enable(this._gl.BLEND),this._gl.blendEquation(this._gl.FUNC_ADD),this._gl.blendFunc(this._gl.SRC_ALPHA,this._gl.ONE_MINUS_SRC_ALPHA),this._gl.clearColor(this._clearColor.r,this._clearColor.g,this._clearColor.b,this._clearAlpha)}renderObjects(ls,ed,rh,Ih,_h,ep,Of){var Qf,xp,Zf,vp,Nh,Rp,Q0;ed?(Nh=ls.length-1,Rp=-1,Q0=-1):(Nh=0,Rp=ls.length,Q0=1);for(var dg=Nh;dg!==Rp;dg+=Q0)if((Qf=ls[dg]).render){if(xp=Qf.object,Zf=Qf.buffer,vp=Qf[rh],(Qf.hasAO||this._AOEnabled)&&Qf[rh+"Shaded"]&&(vp=Qf[rh+"Shaded"]),!vp)continue;this.setBlending(Of),this.setDepthTest(vp.depthTest),this.setDepthWrite(vp.depthWrite),this.setPolygonOffset(vp.polygonOffset,vp.polygonOffsetFactor,vp.polygonOffsetUnits);var jg=xp._modelViewMatrix.isReflected();if(this.setMaterialFaces(vp,jg),this.renderBuffer(Ih,_h,ep,vp,Zf,xp),(this._outlineEnabled||vp.outline)&&!vp.wireframe&&vp.shaderID!=="basic"&&vp.opacity!==0){let Jp=this._outlineMaterial;vp.shaderID=="sphereimposter"?Jp=this._outlineSphereImposterMaterial:vp.shaderID=="stickimposter"&&(Jp=this._outlineStickImposterMaterial),this.renderBuffer(Ih,_h,ep,Jp,Zf,xp)}}}renderSprites(ls,ed,rh){this._currentGeometryGroupHash=-1,this._currentProgram=null,this._currentCamera=null,this._oldDepthWrite=-1,this._oldDepthTest=-1,this._oldDoubleSided=-1,this._currentMaterialId=-1,this._oldFlipSided=-1,this._lightsNeedUpdate=!0,this.sprites.render(ls,ed,this._currentWidth,this._currentHeight,rh),this._currentGeometryGroupHash=-1,this._currentProgram=null,this._currentCamera=null,this._oldDepthWrite=-1,this._oldDepthTest=-1,this._oldDoubleSided=-1,this._currentMaterialId=-1,this._oldFlipSided=-1}}},392:(r,n,o)=>{o.r(n),o.d(n,{assignBonds:()=>d});var l=o(408);const c=[{x:0,y:0,z:1},{x:0,y:1,z:-1},{x:0,y:1,z:0},{x:0,y:1,z:1},{x:1,y:-1,z:-1},{x:1,y:-1,z:0},{x:1,y:-1,z:1},{x:1,y:0,z:-1},{x:1,y:0,z:0},{x:1,y:0,z:1},{x:1,y:1,z:-1},{x:1,y:1,z:0},{x:1,y:1,z:1}],f=4.95;function d(w,y){for(let H=0,ce=w.length;H<ce;H++)w[H].index||(w[H].index=H);const L={x:{y:{z:[]}}};for(let H=0;H<w.length;H++){const ce=w[H],ie=Math.floor(ce.x/f),Et=Math.floor(ce.y/f),zn=Math.floor(ce.z/f);L[ie]||(L[ie]={}),L[ie][Et]||(L[ie][Et]={}),L[ie][Et][zn]||(L[ie][Et][zn]=[]),L[ie][Et][zn].push(ce)}function G(H,ce){for(let ie=0;ie<H.length;ie++){const Et=H[ie];for(let zn=0;zn<ce.length;zn++){const $l=ce[zn];if((0,l.areConnected)(Et,$l,y)){const zl=Et.bonds.indexOf($l.index),Hl=$l.bonds.indexOf(Et.index);zl===-1&&Hl===-1?(Et.bonds.push($l.index),Et.bondOrder.push(1),$l.bonds.push(Et.index),$l.bondOrder.push(1)):zl===-1?(Et.bonds.push($l.index),Et.bondOrder.push($l.bondOrder[Hl])):Hl===-1&&($l.bonds.push(Et.index),$l.bondOrder.push(Et.bondOrder[zl]))}}}}for(let H in L){const ce=parseInt(H);for(let ie in L[ce]){const Et=parseInt(ie);for(let zn in L[ce][Et]){const $l=parseInt(zn),zl=L[ce][Et][$l];for(let Hl=0;Hl<zl.length;Hl++){const Ft=zl[Hl];for(let El=Hl+1;El<zl.length;El++){const Kl=zl[El];(0,l.areConnected)(Ft,Kl,y)&&Ft.bonds.indexOf(Kl.index)==-1&&(Ft.bonds.push(Kl.index),Ft.bondOrder.push(1),Kl.bonds.push(Ft.index),Kl.bondOrder.push(1))}}for(let Hl=0;Hl<c.length;Hl++){const Ft=c[Hl];L[ce+Ft.x]&&L[ce+Ft.x][Et+Ft.y]&&L[ce+Ft.x][Et+Ft.y][$l+Ft.z]&&G(zl,L[ce+Ft.x][Et+Ft.y][$l+Ft.z])}}}}}},407:r=>{var n=(function(){for(var o,l=[],c=0;c<256;c++){o=c;for(var f=0;f<8;f++)o=1&o?3988292384^o>>>1:o>>>1;l[c]=o}return l})();r.exports=function(o,l,c,f){var d=n,w=f+c;o^=-1;for(var y=f;y<w;y++)o=o>>>8^d[255&(o^l[y])];return-1^o}},408:(r,n,o)=>{o.r(n),o.d(n,{areConnected:()=>f});var l=o(40);const c=new Set(["Na","K","Ca","Mg","Mn","Sr"]);function f(d,w,y){if(y&&y.unboundCations&&(c.has(d.elem)||c.has(w.elem)))return!1;let L=(0,l.bondLength)(d.elem)+(0,l.bondLength)(w.elem);L+=.25,L*=L;let G=d.x-w.x;if(G*=G,G>L)return!1;let H=d.y-w.y;if(H*=H,H>L)return!1;let ce=d.z-w.z;if(ce*=ce,ce>L)return!1;const ie=G+H+ce;return!(isNaN(ie)||ie<.5||ie>L||d.altLoc!==w.altLoc&&d.altLoc.trim()!==""&&w.altLoc.trim()!=="")}},471:function(r,n){(function(o){function l(hd,qd,fh){for(var Mf=(hd.byteLength,0),lf=fh.length;lf>Mf;Mf++){var mp=fh.charCodeAt(Mf);if(128>mp)hd.setUint8(qd++,mp>>>0&127);else if(2048>mp)hd.setUint8(qd++,mp>>>6&31|192),hd.setUint8(qd++,mp>>>0&63|128);else if(65536>mp)hd.setUint8(qd++,mp>>>12&15|224),hd.setUint8(qd++,mp>>>6&63|128),hd.setUint8(qd++,mp>>>0&63|128);else{if(!(1114112>mp))throw new Error("bad codepoint "+mp);hd.setUint8(qd++,mp>>>18&7|240),hd.setUint8(qd++,mp>>>12&63|128),hd.setUint8(qd++,mp>>>6&63|128),hd.setUint8(qd++,mp>>>0&63|128)}}}function c(hd){for(var qd=0,fh=0,Mf=hd.length;Mf>fh;fh++){var lf=hd.charCodeAt(fh);if(128>lf)qd+=1;else if(2048>lf)qd+=2;else if(65536>lf)qd+=3;else{if(!(1114112>lf))throw new Error("bad codepoint "+lf);qd+=4}}return qd}function f(hd,qd,fh){var Mf=typeof hd;if(Mf==="string"){if(32>(lf=c(hd)))return qd.setUint8(fh,160|lf),l(qd,fh+1,hd),1+lf;if(256>lf)return qd.setUint8(fh,217),qd.setUint8(fh+1,lf),l(qd,fh+2,hd),2+lf;if(65536>lf)return qd.setUint8(fh,218),qd.setUint16(fh+1,lf),l(qd,fh+3,hd),3+lf;if(4294967296>lf)return qd.setUint8(fh,219),qd.setUint32(fh+1,lf),l(qd,fh+5,hd),5+lf}if(hd instanceof Uint8Array){var lf=hd.byteLength,mp=new Uint8Array(qd.buffer);if(256>lf)return qd.setUint8(fh,196),qd.setUint8(fh+1,lf),mp.set(hd,fh+2),2+lf;if(65536>lf)return qd.setUint8(fh,197),qd.setUint16(fh+1,lf),mp.set(hd,fh+3),3+lf;if(4294967296>lf)return qd.setUint8(fh,198),qd.setUint32(fh+1,lf),mp.set(hd,fh+5),5+lf}if(Mf==="number"){if(!isFinite(hd))throw new Error("Number not finite: "+hd);if(Math.floor(hd)!==hd)return qd.setUint8(fh,203),qd.setFloat64(fh+1,hd),9;if(hd>=0){if(128>hd)return qd.setUint8(fh,hd),1;if(256>hd)return qd.setUint8(fh,204),qd.setUint8(fh+1,hd),2;if(65536>hd)return qd.setUint8(fh,205),qd.setUint16(fh+1,hd),3;if(4294967296>hd)return qd.setUint8(fh,206),qd.setUint32(fh+1,hd),5;throw new Error("Number too big 0x"+hd.toString(16))}if(hd>=-32)return qd.setInt8(fh,hd),1;if(hd>=-128)return qd.setUint8(fh,208),qd.setInt8(fh+1,hd),2;if(hd>=-32768)return qd.setUint8(fh,209),qd.setInt16(fh+1,hd),3;if(hd>=-2147483648)return qd.setUint8(fh,210),qd.setInt32(fh+1,hd),5;throw new Error("Number too small -0x"+(-hd).toString(16).substr(1))}if(hd===null)return qd.setUint8(fh,192),1;if(Mf==="boolean")return qd.setUint8(fh,hd?195:194),1;if(Mf==="object"){var rf=0,hp=Array.isArray(hd);if(hp)lf=hd.length;else{var Cp=Object.keys(hd);lf=Cp.length}if(16>lf?(qd.setUint8(fh,lf|(hp?144:128)),rf=1):65536>lf?(qd.setUint8(fh,hp?220:222),qd.setUint16(fh+1,lf),rf=3):4294967296>lf&&(qd.setUint8(fh,hp?221:223),qd.setUint32(fh+1,lf),rf=5),hp)for(var sp=0;lf>sp;sp++)rf+=f(hd[sp],qd,fh+rf);else for(sp=0;lf>sp;sp++){var jp=Cp[sp];rf+=f(jp,qd,fh+rf),rf+=f(hd[jp],qd,fh+rf)}return rf}throw new Error("Unknown type "+Mf)}function d(hd){var qd=typeof hd;if(qd==="string"){if(32>(fh=c(hd)))return 1+fh;if(256>fh)return 2+fh;if(65536>fh)return 3+fh;if(4294967296>fh)return 5+fh}if(hd instanceof Uint8Array){if(256>(fh=hd.byteLength))return 2+fh;if(65536>fh)return 3+fh;if(4294967296>fh)return 5+fh}if(qd==="number"){if(Math.floor(hd)!==hd)return 9;if(hd>=0){if(128>hd)return 1;if(256>hd)return 2;if(65536>hd)return 3;if(4294967296>hd)return 5;throw new Error("Number too big 0x"+hd.toString(16))}if(hd>=-32)return 1;if(hd>=-128)return 2;if(hd>=-32768)return 3;if(hd>=-2147483648)return 5;throw new Error("Number too small -0x"+hd.toString(16).substr(1))}if(qd==="boolean"||hd===null)return 1;if(qd==="object"){var fh,Mf=0;if(Array.isArray(hd)){fh=hd.length;for(var lf=0;fh>lf;lf++)Mf+=d(hd[lf])}else{var mp=Object.keys(hd);for(fh=mp.length,lf=0;fh>lf;lf++){var rf=mp[lf];Mf+=d(rf)+d(hd[rf])}}if(16>fh)return 1+Mf;if(65536>fh)return 3+Mf;if(4294967296>fh)return 5+Mf;throw new Error("Array or object too long 0x"+fh.toString(16))}throw new Error("Unknown type "+qd)}function w(hd){var qd=new ArrayBuffer(d(hd));return f(hd,new DataView(qd),0),new Uint8Array(qd)}function y(hd,qd,fh){return qd?new hd(qd.buffer,qd.byteOffset,qd.byteLength/(fh||1)):void 0}function L(hd){return y(DataView,hd)}function G(hd){return y(Uint8Array,hd)}function H(hd){return y(Int8Array,hd)}function ce(hd){return y(Int32Array,hd,4)}function ie(hd){return y(Float32Array,hd,4)}function Et(hd,qd){var fh=hd.length/2;qd||(qd=new Int16Array(fh));for(var Mf=0,lf=0;fh>Mf;++Mf,lf+=2)qd[Mf]=hd[lf]<<8^hd[lf+1];return qd}function zn(hd,qd){var fh=hd.length;qd||(qd=new Uint8Array(2*fh));for(var Mf=L(qd),lf=0;fh>lf;++lf)Mf.setInt16(2*lf,hd[lf]);return G(qd)}function $l(hd,qd){var fh=hd.length/4;qd||(qd=new Int32Array(fh));for(var Mf=0,lf=0;fh>Mf;++Mf,lf+=4)qd[Mf]=hd[lf]<<24^hd[lf+1]<<16^hd[lf+2]<<8^hd[lf+3];return qd}function zl(hd,qd){var fh=hd.length;qd||(qd=new Uint8Array(4*fh));for(var Mf=L(qd),lf=0;fh>lf;++lf)Mf.setInt32(4*lf,hd[lf]);return G(qd)}function Hl(hd,qd){var fh=hd.length;qd||(qd=new Float32Array(fh/4));for(var Mf=L(qd),lf=L(hd),mp=0,rf=0,hp=fh/4;hp>mp;++mp,rf+=4)Mf.setFloat32(rf,lf.getFloat32(rf),!0);return qd}function Ft(hd,qd,fh){var Mf=hd.length,lf=1/qd;fh||(fh=new Float32Array(Mf));for(var mp=0;Mf>mp;++mp)fh[mp]=hd[mp]*lf;return fh}function El(hd,qd,fh){var Mf=hd.length;fh||(fh=new Int32Array(Mf));for(var lf=0;Mf>lf;++lf)fh[lf]=Math.round(hd[lf]*qd);return fh}function Kl(hd,qd){var fh,Mf;if(!qd){var lf=0;for(fh=0,Mf=hd.length;Mf>fh;fh+=2)lf+=hd[fh+1];qd=new hd.constructor(lf)}var mp=0;for(fh=0,Mf=hd.length;Mf>fh;fh+=2)for(var rf=hd[fh],hp=hd[fh+1],Cp=0;hp>Cp;++Cp)qd[mp]=rf,++mp;return qd}function Al(hd){if(hd.length===0)return new Int32Array;var qd,fh,Mf=2;for(qd=1,fh=hd.length;fh>qd;++qd)hd[qd-1]!==hd[qd]&&(Mf+=2);var lf=new Int32Array(Mf),mp=0,rf=1;for(qd=1,fh=hd.length;fh>qd;++qd)hd[qd-1]!==hd[qd]?(lf[mp]=hd[qd-1],lf[mp+1]=rf,rf=1,mp+=2):++rf;return lf[mp]=hd[hd.length-1],lf[mp+1]=rf,lf}function vu(hd,qd){var fh=hd.length;qd||(qd=new hd.constructor(fh)),fh&&(qd[0]=hd[0]);for(var Mf=1;fh>Mf;++Mf)qd[Mf]=hd[Mf]+qd[Mf-1];return qd}function Nl(hd,qd){var fh=hd.length;qd||(qd=new hd.constructor(fh)),qd[0]=hd[0];for(var Mf=1;fh>Mf;++Mf)qd[Mf]=hd[Mf]-hd[Mf-1];return qd}function Xu(hd,qd){var fh,Mf,lf=hd instanceof Int8Array?127:32767,mp=-lf-1,rf=hd.length;if(!qd){var hp=0;for(fh=0;rf>fh;++fh)hd[fh]<lf&&hd[fh]>mp&&++hp;qd=new Int32Array(hp)}for(fh=0,Mf=0;rf>fh;){for(var Cp=0;hd[fh]===lf||hd[fh]===mp;)Cp+=hd[fh],++fh;Cp+=hd[fh],++fh,qd[Mf]=Cp,++Mf}return qd}function Vu(hd,qd){var fh,Mf=32767,lf=-Mf-1,mp=hd.length,rf=0;for(fh=0;mp>fh;++fh)(sp=hd[fh])===0?++rf:sp>0?(rf+=Math.ceil(sp/Mf),sp%Mf===0&&(rf+=1)):(rf+=Math.ceil(sp/lf),sp%lf===0&&(rf+=1));var hp=new Int16Array(rf),Cp=0;for(fh=0;mp>fh;++fh){var sp;if((sp=hd[fh])>=0)for(;sp>=Mf;)hp[Cp]=Mf,++Cp,sp-=Mf;else for(;lf>=sp;)hp[Cp]=lf,++Cp,sp-=lf;hp[Cp]=sp,++Cp}return hp}function Zu(hd,qd){return vu(Kl(hd),qd)}function Od(hd){return Al(Nl(hd))}function Id(hd,qd,fh){return Ft(Kl(hd,ce(fh)),qd,fh)}function Bd(hd,qd){return Al(El(hd,qd))}function Cd(hd,qd,fh){return Ft(vu(hd,ce(fh)),qd,fh)}function Wl(hd,qd,fh){return Nl(El(hd,qd),fh)}function jd(hd,qd,fh){return Ft(Xu(hd,ce(fh)),qd,fh)}function Md(hd,qd,fh){var Mf=Xu(hd,ce(fh));return Cd(Mf,qd,ie(Mf))}function qu(hd,qd,fh){return Vu(Wl(hd,qd))}function ad(hd){var qd=L(hd),fh=qd.getInt32(0),Mf=qd.getInt32(4),lf=hd.subarray(8,12);return[fh,hd=hd.subarray(12),Mf,lf]}function Dd(hd,qd,fh,Mf){var lf=new ArrayBuffer(12+Mf.byteLength),mp=new Uint8Array(lf),rf=new DataView(lf);return rf.setInt32(0,hd),rf.setInt32(4,qd),fh&&mp.set(fh,8),mp.set(Mf,12),mp}function mh(hd){return Dd(2,hd.length,void 0,G(hd))}function gd(hd){return Dd(4,hd.length,void 0,zl(hd))}function md(hd,qd){return Dd(5,hd.length/qd,zl([qd]),G(hd))}function oh(hd){return Dd(6,hd.length,void 0,zl(Al(hd)))}function qh(hd){return Dd(8,hd.length,void 0,zl(Od(hd)))}function sf(hd,qd){return Dd(9,hd.length,zl([qd]),zl(Bd(hd,qd)))}function yh(hd,qd){return Dd(10,hd.length,zl([qd]),zn(qu(hd,qd)))}function vf(hd){var qd={};return n0.forEach(function(fh){hd[fh]!==void 0&&(qd[fh]=hd[fh])}),hd.bondAtomList&&(qd.bondAtomList=gd(hd.bondAtomList)),hd.bondOrderList&&(qd.bondOrderList=mh(hd.bondOrderList)),qd.xCoordList=yh(hd.xCoordList,1e3),qd.yCoordList=yh(hd.yCoordList,1e3),qd.zCoordList=yh(hd.zCoordList,1e3),hd.bFactorList&&(qd.bFactorList=yh(hd.bFactorList,100)),hd.atomIdList&&(qd.atomIdList=qh(hd.atomIdList)),hd.altLocList&&(qd.altLocList=oh(hd.altLocList)),hd.occupancyList&&(qd.occupancyList=sf(hd.occupancyList,100)),qd.groupIdList=qh(hd.groupIdList),qd.groupTypeList=gd(hd.groupTypeList),hd.secStructList&&(qd.secStructList=mh(hd.secStructList)),hd.insCodeList&&(qd.insCodeList=oh(hd.insCodeList)),hd.sequenceIndexList&&(qd.sequenceIndexList=qh(hd.sequenceIndexList)),qd.chainIdList=md(hd.chainIdList,4),hd.chainNameList&&(qd.chainNameList=md(hd.chainNameList,4)),qd}function Ef(hd){function qd(Cp){for(var sp={},jp=0;Cp>jp;jp++)sp[mp()]=mp();return sp}function fh(Cp){var sp=hd.subarray(rf,rf+Cp);return rf+=Cp,sp}function Mf(Cp){var sp=hd.subarray(rf,rf+Cp);rf+=Cp;var jp=65535;if(Cp>jp){for(var Cg=[],tg=0;tg<sp.length;tg+=jp)Cg.push(String.fromCharCode.apply(null,sp.subarray(tg,tg+jp)));return Cg.join("")}return String.fromCharCode.apply(null,sp)}function lf(Cp){for(var sp=new Array(Cp),jp=0;Cp>jp;jp++)sp[jp]=mp();return sp}function mp(){var Cp,sp,jp=hd[rf];if(!(128&jp))return rf++,jp;if((240&jp)==128)return rf++,qd(sp=15&jp);if((240&jp)==144)return rf++,lf(sp=15&jp);if((224&jp)==160)return rf++,Mf(sp=31&jp);if(!(224&~jp))return Cp=hp.getInt8(rf),rf++,Cp;switch(jp){case 192:return rf++,null;case 194:return rf++,!1;case 195:return rf++,!0;case 196:return sp=hp.getUint8(rf+1),rf+=2,fh(sp);case 197:return sp=hp.getUint16(rf+1),rf+=3,fh(sp);case 198:return sp=hp.getUint32(rf+1),rf+=5,fh(sp);case 202:return Cp=hp.getFloat32(rf+1),rf+=5,Cp;case 203:return Cp=hp.getFloat64(rf+1),rf+=9,Cp;case 204:return Cp=hd[rf+1],rf+=2,Cp;case 205:return Cp=hp.getUint16(rf+1),rf+=3,Cp;case 206:return Cp=hp.getUint32(rf+1),rf+=5,Cp;case 208:return Cp=hp.getInt8(rf+1),rf+=2,Cp;case 209:return Cp=hp.getInt16(rf+1),rf+=3,Cp;case 210:return Cp=hp.getInt32(rf+1),rf+=5,Cp;case 217:return sp=hp.getUint8(rf+1),rf+=2,Mf(sp);case 218:return sp=hp.getUint16(rf+1),rf+=3,Mf(sp);case 219:return sp=hp.getUint32(rf+1),rf+=5,Mf(sp);case 220:return sp=hp.getUint16(rf+1),rf+=3,lf(sp);case 221:return sp=hp.getUint32(rf+1),rf+=5,lf(sp);case 222:return sp=hp.getUint16(rf+1),rf+=3,qd(sp);case 223:return sp=hp.getUint32(rf+1),rf+=5,qd(sp)}throw new Error("Unknown type 0x"+jp.toString(16))}var rf=0,hp=new DataView(hd.buffer);return mp()}function kf(hd,qd,fh,Mf){switch(hd){case 1:return Hl(qd);case 2:return H(qd);case 3:return Et(qd);case 4:return $l(qd);case 5:return G(qd);case 6:return Kl($l(qd),new Uint8Array(fh));case 7:return Kl($l(qd));case 8:return Zu($l(qd));case 9:return Id($l(qd),$l(Mf)[0]);case 10:return Md(Et(qd),$l(Mf)[0]);case 11:return Ft(Et(qd),$l(Mf)[0]);case 12:return jd(Et(qd),$l(Mf)[0]);case 13:return jd(H(qd),$l(Mf)[0]);case 14:return Xu(Et(qd));case 15:return Xu(H(qd))}}function Mp(hd,qd){var fh=(qd=qd||{}).ignoreFields,Mf={};return G0.forEach(function(lf){var mp=!!fh&&fh.indexOf(lf)!==-1,rf=hd[lf];mp||rf===void 0||(rf instanceof Uint8Array?Mf[lf]=kf.apply(null,ad(rf)):Mf[lf]=rf)}),Mf}function rp(hd){return String.fromCharCode.apply(null,hd).replace(/\0/g,"")}function Fp(hd,qd,fh){var Mf,lf,mp,rf,hp,Cp,sp=(fh=fh||{}).firstModelOnly,jp=qd.onModel,Cg=qd.onChain,tg=qd.onGroup,qg=qd.onAtom,ig=qd.onBond,Ag=0,vg=0,cg=0,_p=0,Ep=0,dm=-1,Om=hd.chainNameList,Pp=hd.secStructList,Xg=hd.insCodeList,wm=hd.sequenceIndexList,hm=hd.atomIdList,Vg=hd.bFactorList,Qg=hd.altLocList,Tg=hd.occupancyList,vm=hd.bondAtomList,zm=hd.bondOrderList;for(Mf=0,lf=hd.chainsPerModel.length;lf>Mf&&!(sp&&Ag>0);++Mf){var Cm=hd.chainsPerModel[Ag];for(jp&&jp({chainCount:Cm,modelIndex:Ag}),mp=0;Cm>mp;++mp){var Qm=hd.groupsPerChain[vg];if(Cg){var b0=rp(hd.chainIdList.subarray(4*vg,4*vg+4)),yg=null;Om&&(yg=rp(Om.subarray(4*vg,4*vg+4))),Cg({groupCount:Qm,chainIndex:vg,modelIndex:Ag,chainId:b0,chainName:yg})}for(rf=0;Qm>rf;++rf){var I0=hd.groupList[hd.groupTypeList[cg]],Pm=I0.atomNameList.length;if(tg){var up=null;Pp&&(up=Pp[cg]);var ls=null;hd.insCodeList&&(ls=String.fromCharCode(Xg[cg]));var ed=null;wm&&(ed=wm[cg]),tg({atomCount:Pm,groupIndex:cg,chainIndex:vg,modelIndex:Ag,groupId:hd.groupIdList[cg],groupType:hd.groupTypeList[cg],groupName:I0.groupName,singleLetterCode:I0.singleLetterCode,chemCompType:I0.chemCompType,secStruct:up,insCode:ls,sequenceIndex:ed})}for(hp=0;Pm>hp;++hp){if(qg){var rh=null;hm&&(rh=hm[_p]);var Ih=null;Vg&&(Ih=Vg[_p]);var _h=null;Qg&&(_h=String.fromCharCode(Qg[_p]));var ep=null;Tg&&(ep=Tg[_p]),qg({atomIndex:_p,groupIndex:cg,chainIndex:vg,modelIndex:Ag,atomId:rh,element:I0.elementList[hp],atomName:I0.atomNameList[hp],formalCharge:I0.formalChargeList[hp],xCoord:hd.xCoordList[_p],yCoord:hd.yCoordList[_p],zCoord:hd.zCoordList[_p],bFactor:Ih,altLoc:_h,occupancy:ep})}_p+=1}if(ig){var Of=I0.bondAtomList;for(hp=0,Cp=I0.bondOrderList.length;Cp>hp;++hp)ig({atomIndex1:_p-Pm+Of[2*hp],atomIndex2:_p-Pm+Of[2*hp+1],bondOrder:I0.bondOrderList[hp]})}cg+=1}vg+=1}if(Ep=dm+1,dm=_p-1,ig&&vm)for(hp=0,Cp=vm.length;Cp>hp;hp+=2){var Qf=vm[hp],xp=vm[hp+1];(Qf>=Ep&&dm>=Qf||xp>=Ep&&dm>=xp)&&ig({atomIndex1:Qf,atomIndex2:xp,bondOrder:zm?zm[hp/2]:null})}Ag+=1}}function _0(hd){return w(vf(hd))}function L0(hd,qd){return hd instanceof ArrayBuffer&&(hd=new Uint8Array(hd)),Mp(hd instanceof Uint8Array?Ef(hd):hd,qd)}function Gp(hd,qd,fh,Mf){function lf(){try{var rf=L0(mp.response);fh(rf)}catch(hp){Mf(hp)}}var mp=new XMLHttpRequest;mp.addEventListener("load",lf,!0),mp.addEventListener("error",Mf,!0),mp.responseType="arraybuffer",mp.open("GET",qd+hd.toUpperCase()),mp.send()}function E0(hd,qd,fh){Gp(hd,Gg,qd,fh)}function l0(hd,qd,fh){Gp(hd,_f,qd,fh)}var n0=["mmtfVersion","mmtfProducer","unitCell","spaceGroup","structureId","title","depositionDate","releaseDate","experimentalMethods","resolution","rFree","rWork","bioAssemblyList","ncsOperatorList","entityList","groupList","numBonds","numAtoms","numGroups","numChains","numModels","groupsPerChain","chainsPerModel"],Z0=["xCoordList","yCoordList","zCoordList","groupIdList","groupTypeList","chainIdList","bFactorList","atomIdList","altLocList","occupancyList","secStructList","insCodeList","sequenceIndexList","chainNameList","bondAtomList","bondOrderList"],G0=n0.concat(Z0),X0="v1.0.1",$g="//mmtf.rcsb.org/v1.0/",Gg=$g+"full/",_f=$g+"reduced/";o.encode=_0,o.decode=L0,o.traverse=Fp,o.fetch=E0,o.fetchReduced=l0,o.version=X0,o.fetchUrl=Gg,o.fetchReducedUrl=_f,o.encodeMsgpack=w,o.encodeMmtf=vf,o.decodeMsgpack=Ef,o.decodeMmtf=Mp})(n)},529:(r,n,o)=>{o.r(n),o.d(n,{Matrix3:()=>zn,Matrix4:()=>ie,Quaternion:()=>l,Ray:()=>$l,Vector2:()=>c,Vector3:()=>Et,clamp:()=>f,conversionMatrix3:()=>zl,degToRad:()=>w});class l{constructor(Ft,El,Kl,Al){this.x=Ft||0,this.y=El||0,this.z=Kl||0,this.w=Al!==void 0?Al:1}set(Ft,El,Kl,Al){return this.x=Ft,this.y=El,this.z=Kl,this.w=Al,this}copy(Ft){return this.x=Ft.x,this.y=Ft.y,this.z=Ft.z,this.w=Ft.w,this}conjugate(){return this.x*=-1,this.y*=-1,this.z*=-1,this}inverse(){return this.conjugate().normalize()}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}lengthxyz(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}normalize(){let Ft=this.length();return Ft===0?(this.x=0,this.y=0,this.z=0,this.w=1):(Ft=1/Ft,this.x*=Ft,this.y*=Ft,this.z*=Ft,this.w*=Ft),this}multiply(Ft){return this.multiplyQuaternions(this,Ft)}multiplyScalar(Ft){return this.x*=Ft,this.y*=Ft,this.z*=Ft,this.w*=Ft,this}multiplyQuaternions(Ft,El){const Kl=Ft.x,Al=Ft.y,vu=Ft.z,Nl=Ft.w,Xu=El.x,Vu=El.y,Zu=El.z,Od=El.w;return this.x=Kl*Od+Nl*Xu+Al*Zu-vu*Vu,this.y=Al*Od+Nl*Vu+vu*Xu-Kl*Zu,this.z=vu*Od+Nl*Zu+Kl*Vu-Al*Xu,this.w=Nl*Od-Kl*Xu-Al*Vu-vu*Zu,this}sub(Ft){return this.x-=Ft.x,this.y-=Ft.y,this.z-=Ft.z,this.w-=Ft.w,this}clone(){return new l(this.x,this.y,this.z,this.w)}setFromEuler(Ft){const El=Math.cos(Ft.x/2),Kl=Math.cos(Ft.y/2),Al=Math.cos(Ft.z/2),vu=Math.sin(Ft.x/2),Nl=Math.sin(Ft.y/2),Xu=Math.sin(Ft.z/2);return this.x=vu*Kl*Al+El*Nl*Xu,this.y=El*Nl*Al-vu*Kl*Xu,this.z=El*Kl*Xu+vu*Nl*Al,this.w=El*Kl*Al-vu*Nl*Xu,this}}class c{constructor(Ft,El){this.x=Ft||0,this.y=El||0}set(Ft,El){return this.x=Ft,this.y=El,this}subVectors(Ft,El){return this.x=Ft.x-El.x,this.y=Ft.y-El.y,this}copy(Ft){return this.x=Ft.x,this.y=Ft.y,this}clone(){return new c(this.x,this.y)}}function f(Hl,Ft,El){return Math.min(Math.max(Hl,Ft),El)}const d=Math.PI/180;function w(Hl){return Hl*d}var y,L,G,H,ce;class ie{constructor(Ft=1,El=0,Kl=0,Al=0,vu=0,Nl=1,Xu=0,Vu=0,Zu=0,Od=0,Id=1,Bd=0,Cd=0,Wl=0,jd=0,Md=1){Ft!==void 0&&typeof Ft!="number"?this.elements=new Float32Array(Ft):(this.elements=new Float32Array(16),this.elements[0]=Ft,this.elements[4]=El,this.elements[8]=Kl,this.elements[12]=Al,this.elements[1]=vu,this.elements[5]=Nl,this.elements[9]=Xu,this.elements[13]=Vu,this.elements[2]=Zu,this.elements[6]=Od,this.elements[10]=Id,this.elements[14]=Bd,this.elements[3]=Cd,this.elements[7]=Wl,this.elements[11]=jd,this.elements[15]=Md)}makeScale(Ft,El,Kl){throw new Error("Method not implemented.")}set(Ft,El,Kl,Al,vu,Nl,Xu,Vu,Zu,Od,Id,Bd,Cd,Wl,jd,Md){const qu=this.elements;return qu[0]=Ft,qu[4]=El,qu[8]=Kl,qu[12]=Al,qu[1]=vu,qu[5]=Nl,qu[9]=Xu,qu[13]=Vu,qu[2]=Zu,qu[6]=Od,qu[10]=Id,qu[14]=Bd,qu[3]=Cd,qu[7]=Wl,qu[11]=jd,qu[15]=Md,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}copy(Ft){const El=Ft.elements;return this.set(El[0],El[4],El[8],El[12],El[1],El[5],El[9],El[13],El[2],El[6],El[10],El[14],El[3],El[7],El[11],El[15]),this}matrix3FromTopLeft(){const Ft=this.elements;return new zn(Ft[0],Ft[4],Ft[8],Ft[1],Ft[5],Ft[9],Ft[2],Ft[6],Ft[10])}setRotationFromEuler(Ft,El){const Kl=this.elements,{x:Al,y:vu,z:Nl}=Ft,Xu=Math.cos(Al),Vu=Math.sin(Al),Zu=Math.cos(vu),Od=Math.sin(vu),Id=Math.cos(Nl),Bd=Math.sin(Nl);if(El===void 0||El==="XYZ"){const Cd=Xu*Id,Wl=Xu*Bd,jd=Vu*Id,Md=Vu*Bd;Kl[0]=Zu*Id,Kl[4]=-Zu*Bd,Kl[8]=Od,Kl[1]=Wl+jd*Od,Kl[5]=Cd-Md*Od,Kl[9]=-Vu*Zu,Kl[2]=Md-Cd*Od,Kl[6]=jd+Wl*Od,Kl[10]=Xu*Zu}else console.error(`Error with matrix4 setRotationFromEuler. Order: ${El}`);return this}setRotationFromQuaternion(Ft){const El=this.elements,{x:Kl,y:Al,z:vu,w:Nl}=Ft,Xu=Kl+Kl,Vu=Al+Al,Zu=vu+vu,Od=Kl*Xu,Id=Kl*Vu,Bd=Kl*Zu,Cd=Al*Vu,Wl=Al*Zu,jd=vu*Zu,Md=Nl*Xu,qu=Nl*Vu,ad=Nl*Zu;return El[0]=1-(Cd+jd),El[4]=Id-ad,El[8]=Bd+qu,El[1]=Id+ad,El[5]=1-(Od+jd),El[9]=Wl-Md,El[2]=Bd-qu,El[6]=Wl+Md,El[10]=1-(Od+Cd),this}multiplyMatrices(Ft,El){const Kl=Ft.elements,Al=El.elements,vu=this.elements,Nl=Kl[0],Xu=Kl[4],Vu=Kl[8],Zu=Kl[12],Od=Kl[1],Id=Kl[5],Bd=Kl[9],Cd=Kl[13],Wl=Kl[2],jd=Kl[6],Md=Kl[10],qu=Kl[14],ad=Kl[3],Dd=Kl[7],mh=Kl[11],gd=Kl[15],md=Al[0],oh=Al[4],qh=Al[8],sf=Al[12],yh=Al[1],vf=Al[5],Ef=Al[9],kf=Al[13],Mp=Al[2],rp=Al[6],Fp=Al[10],_0=Al[14],L0=Al[3],Gp=Al[7],E0=Al[11],l0=Al[15];return vu[0]=Nl*md+Xu*yh+Vu*Mp+Zu*L0,vu[4]=Nl*oh+Xu*vf+Vu*rp+Zu*Gp,vu[8]=Nl*qh+Xu*Ef+Vu*Fp+Zu*E0,vu[12]=Nl*sf+Xu*kf+Vu*_0+Zu*l0,vu[1]=Od*md+Id*yh+Bd*Mp+Cd*L0,vu[5]=Od*oh+Id*vf+Bd*rp+Cd*Gp,vu[9]=Od*qh+Id*Ef+Bd*Fp+Cd*E0,vu[13]=Od*sf+Id*kf+Bd*_0+Cd*l0,vu[2]=Wl*md+jd*yh+Md*Mp+qu*L0,vu[6]=Wl*oh+jd*vf+Md*rp+qu*Gp,vu[10]=Wl*qh+jd*Ef+Md*Fp+qu*E0,vu[14]=Wl*sf+jd*kf+Md*_0+qu*l0,vu[3]=ad*md+Dd*yh+mh*Mp+gd*L0,vu[7]=ad*oh+Dd*vf+mh*rp+gd*Gp,vu[11]=ad*qh+Dd*Ef+mh*Fp+gd*E0,vu[15]=ad*sf+Dd*kf+mh*_0+gd*l0,this}multiplyScalar(Ft){const El=this.elements;return El[0]*=Ft,El[4]*=Ft,El[8]*=Ft,El[12]*=Ft,El[1]*=Ft,El[5]*=Ft,El[9]*=Ft,El[13]*=Ft,El[2]*=Ft,El[6]*=Ft,El[10]*=Ft,El[14]*=Ft,El[3]*=Ft,El[7]*=Ft,El[11]*=Ft,El[15]*=Ft,this}makeTranslation(Ft,El,Kl){return this.set(1,0,0,Ft,0,1,0,El,0,0,1,Kl,0,0,0,1),this}snap(Ft){const El=Math.pow(10,4),Kl=this.elements;for(let Al=0;Al<16;Al++){const vu=Math.round(Kl[Al]);vu===Math.round(Kl[Al]*El)/El&&(Kl[Al]=vu)}return this}transpose(){const Ft=this.elements;let El;return El=Ft[1],Ft[1]=Ft[4],Ft[4]=El,El=Ft[2],Ft[2]=Ft[8],Ft[8]=El,El=Ft[6],Ft[6]=Ft[9],Ft[9]=El,El=Ft[3],Ft[3]=Ft[12],Ft[12]=El,El=Ft[7],Ft[7]=Ft[13],Ft[13]=El,El=Ft[11],Ft[11]=Ft[14],Ft[14]=El,this}setPosition(Ft){const El=this.elements;return El[12]=Ft.x,El[13]=Ft.y,El[14]=Ft.z,this}translate(Ft){const El=this.elements;return El[12]+=Ft.x,El[13]+=Ft.y,El[14]+=Ft.z,this}getInverse(Ft,El){const Kl=this.elements,Al=Ft.elements,vu=Al[0],Nl=Al[4],Xu=Al[8],Vu=Al[12],Zu=Al[1],Od=Al[5],Id=Al[9],Bd=Al[13],Cd=Al[2],Wl=Al[6],jd=Al[10],Md=Al[14],qu=Al[3],ad=Al[7],Dd=Al[11],mh=Al[15];Kl[0]=Id*Md*ad-Bd*jd*ad+Bd*Wl*Dd-Od*Md*Dd-Id*Wl*mh+Od*jd*mh,Kl[4]=Vu*jd*ad-Xu*Md*ad-Vu*Wl*Dd+Nl*Md*Dd+Xu*Wl*mh-Nl*jd*mh,Kl[8]=Xu*Bd*ad-Vu*Id*ad+Vu*Od*Dd-Nl*Bd*Dd-Xu*Od*mh+Nl*Id*mh,Kl[12]=Vu*Id*Wl-Xu*Bd*Wl-Vu*Od*jd+Nl*Bd*jd+Xu*Od*Md-Nl*Id*Md,Kl[1]=Bd*jd*qu-Id*Md*qu-Bd*Cd*Dd+Zu*Md*Dd+Id*Cd*mh-Zu*jd*mh,Kl[5]=Xu*Md*qu-Vu*jd*qu+Vu*Cd*Dd-vu*Md*Dd-Xu*Cd*mh+vu*jd*mh,Kl[9]=Vu*Id*qu-Xu*Bd*qu-Vu*Zu*Dd+vu*Bd*Dd+Xu*Zu*mh-vu*Id*mh,Kl[13]=Xu*Bd*Cd-Vu*Id*Cd+Vu*Zu*jd-vu*Bd*jd-Xu*Zu*Md+vu*Id*Md,Kl[2]=Od*Md*qu-Bd*Wl*qu+Bd*Cd*ad-Zu*Md*ad-Od*Cd*mh+Zu*Wl*mh,Kl[6]=Vu*Wl*qu-Nl*Md*qu-Vu*Cd*ad+vu*Md*ad+Nl*Cd*mh-vu*Wl*mh,Kl[10]=Nl*Bd*qu-Vu*Od*qu+Vu*Zu*ad-vu*Bd*ad-Nl*Zu*mh+vu*Od*mh,Kl[14]=Vu*Od*Cd-Nl*Bd*Cd-Vu*Zu*Wl+vu*Bd*Wl+Nl*Zu*Md-vu*Od*Md,Kl[3]=Id*Wl*qu-Od*jd*qu-Id*Cd*ad+Zu*jd*ad+Od*Cd*Dd-Zu*Wl*Dd,Kl[7]=Nl*jd*qu-Xu*Wl*qu+Xu*Cd*ad-vu*jd*ad-Nl*Cd*Dd+vu*Wl*Dd,Kl[11]=Xu*Od*qu-Nl*Id*qu-Xu*Zu*ad+vu*Id*ad+Nl*Zu*Dd-vu*Od*Dd,Kl[15]=Nl*Id*Cd-Xu*Od*Cd+Xu*Zu*Wl-vu*Id*Wl-Nl*Zu*jd+vu*Od*jd;const gd=vu*Kl[0]+Zu*Kl[4]+Cd*Kl[8]+qu*Kl[12];if(gd===0){const md="Matrix4.getInverse(): can't invert matrix, determinant is 0";if(El)throw new Error(md);return console.warn(md),this.identity(),this}return this.multiplyScalar(1/gd),this}isReflected(){const Ft=this.elements,El=Ft[0],Kl=Ft[4],Al=Ft[8],vu=Ft[1],Nl=Ft[5],Xu=Ft[9],Vu=Ft[2],Zu=Ft[6],Od=Ft[10];return El*Nl*Od+vu*Zu*Al+Vu*Kl*Xu-Vu*Nl*Al-vu*Kl*Od-El*Zu*Xu<0}scale(Ft){const El=this.elements,{x:Kl}=Ft,{y:Al}=Ft,{z:vu}=Ft;return El[0]*=Kl,El[4]*=Al,El[8]*=vu,El[1]*=Kl,El[5]*=Al,El[9]*=vu,El[2]*=Kl,El[6]*=Al,El[10]*=vu,El[3]*=Kl,El[7]*=Al,El[11]*=vu,this}getMaxScaleOnAxis(){const Ft=this.elements,El=Ft[0]*Ft[0]+Ft[1]*Ft[1]+Ft[2]*Ft[2],Kl=Ft[4]*Ft[4]+Ft[5]*Ft[5]+Ft[6]*Ft[6],Al=Ft[8]*Ft[8]+Ft[9]*Ft[9]+Ft[10]*Ft[10];return Math.sqrt(Math.max(El,Math.max(Kl,Al)))}makeFrustum(Ft,El,Kl,Al,vu,Nl){const Xu=this.elements,Vu=2*vu/(El-Ft),Zu=2*vu/(Al-Kl),Od=(El+Ft)/(El-Ft),Id=(Al+Kl)/(Al-Kl),Bd=-(Nl+vu)/(Nl-vu),Cd=-2*Nl*vu/(Nl-vu);return Xu[0]=Vu,Xu[4]=0,Xu[8]=Od,Xu[12]=0,Xu[1]=0,Xu[5]=Zu,Xu[9]=Id,Xu[13]=0,Xu[2]=0,Xu[6]=0,Xu[10]=Bd,Xu[14]=Cd,Xu[3]=0,Xu[7]=0,Xu[11]=-1,Xu[15]=0,this}makePerspective(Ft,El,Kl,Al){const vu=Kl*Math.tan(w(.5*Ft)),Nl=-vu,Xu=Nl*El,Vu=vu*El;return this.makeFrustum(Xu,Vu,Nl,vu,Kl,Al)}makeOrthographic(Ft,El,Kl,Al,vu,Nl){const Xu=this.elements,Vu=1/(El-Ft),Zu=1/(Kl-Al),Od=1/(Nl-vu),Id=(El+Ft)*Vu,Bd=(Kl+Al)*Zu,Cd=(Nl+vu)*Od;return Xu[0]=2*Vu,Xu[4]=0,Xu[8]=0,Xu[12]=-Id,Xu[1]=0,Xu[5]=2*Zu,Xu[9]=0,Xu[13]=-Bd,Xu[2]=0,Xu[6]=0,Xu[10]=-2*Od,Xu[14]=-Cd,Xu[3]=0,Xu[7]=0,Xu[11]=0,Xu[15]=1,this}isEqual(Ft){const El=Ft.elements,Kl=this.elements;return Kl[0]===El[0]&&Kl[4]===El[4]&&Kl[8]===El[8]&&Kl[12]===El[12]&&Kl[1]===El[1]&&Kl[5]===El[5]&&Kl[9]===El[9]&&Kl[13]===El[13]&&Kl[2]===El[2]&&Kl[6]===El[6]&&Kl[10]===El[10]&&Kl[14]===El[14]&&Kl[3]===El[3]&&Kl[7]===El[7]&&Kl[11]===El[11]&&Kl[15]===El[15]}clone(){const Ft=this.elements;return new ie(Ft[0],Ft[4],Ft[8],Ft[12],Ft[1],Ft[5],Ft[9],Ft[13],Ft[2],Ft[6],Ft[10],Ft[14],Ft[3],Ft[7],Ft[11],Ft[15])}isIdentity(){const Ft=this.elements;return Ft[0]===1&&Ft[4]===0&&Ft[8]===0&&Ft[12]===0&&Ft[1]===0&&Ft[5]===1&&Ft[9]===0&&Ft[13]===0&&Ft[2]===0&&Ft[6]===0&&Ft[10]===1&&Ft[14]===0&&Ft[3]===0&&Ft[7]===0&&Ft[11]===0&&Ft[15]===1}isNearlyIdentity(Ft){return this.clone().snap(Ft).isIdentity()}getScale(Ft){const El=this.elements;return Ft=Ft||new Et,G.set(El[0],El[1],El[2]),H.set(El[4],El[5],El[6]),ce.set(El[8],El[9],El[10]),Ft.x=G.length(),Ft.y=H.length(),Ft.z=ce.length(),Ft}lookAt(Ft,El,Kl){const Al=this.elements;return ce.subVectors(Ft,El).normalize(),ce.length()===0&&(ce.z=1),G.crossVectors(Kl,ce).normalize(),G.length()===0&&(ce.x+=1e-4,G.crossVectors(Kl,ce).normalize()),H.crossVectors(ce,G),Al[0]=G.x,Al[4]=H.x,Al[8]=ce.x,Al[1]=G.y,Al[5]=H.y,Al[9]=ce.y,Al[2]=G.z,Al[6]=H.z,Al[10]=ce.z,this}compose(Ft,El,Kl){const Al=this.elements;return y.identity(),y.setRotationFromQuaternion(El),L.makeScale(Kl.x,Kl.y,Kl.z),this.multiplyMatrices(y,L),Al[12]=Ft.x,Al[13]=Ft.y,Al[14]=Ft.z,this}}y=new ie,L=new ie;class Et{constructor(Ft,El,Kl){this.x=Ft||0,this.y=El||0,this.z=Kl||0,this.atomid=void 0}set(Ft,El,Kl){return this.x=Ft,this.y=El,this.z=Kl,this}copy(Ft){return this.x=Ft.x,this.y=Ft.y,this.z=Ft.z,this}add(Ft){return this.x+=Ft.x,this.y+=Ft.y,this.z+=Ft.z,this}addVectors(Ft,El){return this.x=Ft.x+El.x,this.y=Ft.y+El.y,this.z=Ft.z+El.z,this}multiplyVectors(Ft,El){return this.x=Ft.x*El.x,this.y=Ft.y*El.y,this.z=Ft.z*El.z,this}sub(Ft){return this.x-=Ft.x,this.y-=Ft.y,this.z-=Ft.z,this}subVectors(Ft,El){return this.x=Ft.x-El.x,this.y=Ft.y-El.y,this.z=Ft.z-El.z,this}multiplyScalar(Ft){return this.x*=Ft,this.y*=Ft,this.z*=Ft,this}divideScalar(Ft){return Ft!==0?(this.x/=Ft,this.y/=Ft,this.z/=Ft):(this.x=0,this.y=0,this.z=0),this}max(Ft){return this.x=Math.max(this.x,Ft.x),this.y=Math.max(this.y,Ft.y),this.z=Math.max(this.z,Ft.z),this}min(Ft){return this.x=Math.min(this.x,Ft.x),this.y=Math.min(this.y,Ft.y),this.z=Math.min(this.z,Ft.z),this}distanceTo(Ft){return Math.sqrt(this.distanceToSquared(Ft))}distanceToSquared(Ft){const El=this.x-Ft.x,Kl=this.y-Ft.y,Al=this.z-Ft.z;return El*El+Kl*Kl+Al*Al}applyMatrix3(Ft){const{x:El}=this,{y:Kl}=this,{z:Al}=this,vu=Ft.elements;return this.x=vu[0]*El+vu[3]*Kl+vu[6]*Al,this.y=vu[1]*El+vu[4]*Kl+vu[7]*Al,this.z=vu[2]*El+vu[5]*Kl+vu[8]*Al,this}applyMatrix4(Ft){const{x:El}=this,{y:Kl}=this,{z:Al}=this,vu=Ft.elements;return this.x=vu[0]*El+vu[4]*Kl+vu[8]*Al+vu[12],this.y=vu[1]*El+vu[5]*Kl+vu[9]*Al+vu[13],this.z=vu[2]*El+vu[6]*Kl+vu[10]*Al+vu[14],this}applyProjection(Ft){const{x:El}=this,{y:Kl}=this,{z:Al}=this,vu=Ft.elements,Nl=vu[3]*El+vu[7]*Kl+vu[11]*Al+vu[15];return this.x=(vu[0]*El+vu[4]*Kl+vu[8]*Al+vu[12])/Nl,this.y=(vu[1]*El+vu[5]*Kl+vu[9]*Al+vu[13])/Nl,this.z=(vu[2]*El+vu[6]*Kl+vu[10]*Al+vu[14])/Nl,this}applyQuaternion(Ft){const{x:El}=this,{y:Kl}=this,{z:Al}=this,vu=Ft.x,Nl=Ft.y,Xu=Ft.z,Vu=Ft.w,Zu={};Zu.x=2*(Kl*Xu-Al*Nl),Zu.y=2*(Al*vu-El*Xu),Zu.z=2*(El*Nl-Kl*vu);const Od={};return Od.x=Zu.y*Xu-Zu.z*Nl,Od.y=Zu.z*vu-Zu.x*Xu,Od.z=Zu.x*Nl-Zu.y*vu,this.x=El+Vu*Zu.x+Od.x,this.y=Kl+Vu*Zu.y+Od.y,this.z=Al+Vu*Zu.z+Od.z,this}negate(){return this.multiplyScalar(-1)}dot(Ft){return this.x*Ft.x+this.y*Ft.y+this.z*Ft.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}normalize(){return this.divideScalar(this.length())}cross(Ft){const{x:El}=this,{y:Kl}=this,{z:Al}=this;return this.x=Kl*Ft.z-Al*Ft.y,this.y=Al*Ft.x-El*Ft.z,this.z=El*Ft.y-Kl*Ft.x,this}crossVectors(Ft,El){return this.x=Ft.y*El.z-Ft.z*El.y,this.y=Ft.z*El.x-Ft.x*El.z,this.z=Ft.x*El.y-Ft.y*El.x,this}equals(Ft){return this.x==Ft.x&&this.y==Ft.y&&this.z==Ft.z}getPositionFromMatrix(Ft){return this.x=Ft.elements[12],this.y=Ft.elements[13],this.z=Ft.elements[14],this}setEulerFromRotationMatrix(Ft,El){const Kl=Ft.elements,Al=Kl[0],vu=Kl[4],Nl=Kl[8],Xu=Kl[5],Vu=Kl[9],Zu=Kl[6],Od=Kl[10];return El===void 0||El==="XYZ"?(this.y=Math.asin(f(Nl,-1,1)),Math.abs(Nl)<.99999?(this.x=Math.atan2(-Vu,Od),this.z=Math.atan2(-vu,Al)):(this.x=Math.atan2(Zu,Xu),this.z=0)):console.error(`Error with vector's setEulerFromRotationMatrix: Unknown order: ${El}`),this}rotateAboutVector(Ft,El){Ft.normalize();const Kl=Math.cos(El),Al=Math.sin(El),vu=this.clone().multiplyScalar(Kl),Nl=Ft.clone().cross(this).multiplyScalar(Al),Xu=Ft.clone().multiplyScalar(Ft.clone().dot(this)).multiplyScalar(1-Kl),Vu=vu.add(Nl).add(Xu);return this.x=Vu.x,this.y=Vu.y,this.z=Vu.z,this}setFromMatrixPosition(Ft){const El=Ft.elements;return this.x=El[12],this.y=El[13],this.z=El[14],this}transformDirection(Ft){const{x:El}=this,{y:Kl}=this,{z:Al}=this,vu=Ft.elements;return this.x=vu[0]*El+vu[4]*Kl+vu[8]*Al,this.y=vu[1]*El+vu[5]*Kl+vu[9]*Al,this.z=vu[2]*El+vu[6]*Kl+vu[10]*Al,this.normalize()}clone(){return new Et(this.x,this.y,this.z)}unproject(Ft){const El=y;return El.multiplyMatrices(Ft.matrixWorld,El.getInverse(Ft.projectionMatrix)),this.applyMatrix4(El)}}G=new Et,H=new Et,ce=new Et;class zn{constructor(Ft=1,El=0,Kl=0,Al=0,vu=1,Nl=0,Xu=0,Vu=0,Zu=1){this.elements=new Float32Array(9),this.set(Ft,El,Kl,Al,vu,Nl,Xu,Vu,Zu)}set(Ft,El,Kl,Al,vu,Nl,Xu,Vu,Zu){const Od=this.elements;return Od[0]=Ft,Od[3]=El,Od[6]=Kl,Od[1]=Al,Od[4]=vu,Od[7]=Nl,Od[2]=Xu,Od[5]=Vu,Od[8]=Zu,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(Ft){const El=Ft.elements;this.set(El[0],El[3],El[6],El[1],El[4],El[7],El[2],El[5],El[8])}multiplyScalar(Ft){const El=this.elements;return El[0]*=Ft,El[3]*=Ft,El[6]*=Ft,El[1]*=Ft,El[4]*=Ft,El[7]*=Ft,El[2]*=Ft,El[5]*=Ft,El[8]*=Ft,this}getInverse3(Ft){const El=Ft.elements,Kl=this.elements;Kl[0]=El[4]*El[8]-El[5]*El[7],Kl[3]=El[6]*El[5]-El[3]*El[8],Kl[6]=El[3]*El[7]-El[6]*El[4],Kl[1]=El[7]*El[2]-El[1]*El[8],Kl[4]=El[0]*El[8]-El[6]*El[2],Kl[7]=El[1]*El[6]-El[0]*El[7],Kl[2]=El[1]*El[5]-El[2]*El[4],Kl[5]=El[2]*El[3]-El[0]*El[5],Kl[8]=El[0]*El[4]-El[1]*El[3];const Al=El[0]*Kl[0]+El[3]*Kl[1]+El[6]*Kl[2];return this.multiplyScalar(1/Al),this}getInverse(Ft,El){const Kl=Ft.elements,Al=this.elements;Al[0]=Kl[10]*Kl[5]-Kl[6]*Kl[9],Al[1]=-Kl[10]*Kl[1]+Kl[2]*Kl[9],Al[2]=Kl[6]*Kl[1]-Kl[2]*Kl[5],Al[3]=-Kl[10]*Kl[4]+Kl[6]*Kl[8],Al[4]=Kl[10]*Kl[0]-Kl[2]*Kl[8],Al[5]=-Kl[6]*Kl[0]+Kl[2]*Kl[4],Al[6]=Kl[9]*Kl[4]-Kl[5]*Kl[8],Al[7]=-Kl[9]*Kl[0]+Kl[1]*Kl[8],Al[8]=Kl[5]*Kl[0]-Kl[1]*Kl[4];const vu=Kl[0]*Al[0]+Kl[1]*Al[3]+Kl[2]*Al[6];if(vu===0){const Nl="Matrix3.getInverse(): can't invert matrix, determinant is 0";if(El)throw new Error(Nl);return console.warn(Nl),this.identity(),this}return this.multiplyScalar(1/vu),this}getDeterminant(){const Ft=this.elements;return Ft[0]*Ft[4]*Ft[8]+Ft[1]*Ft[5]*Ft[6]+Ft[2]*Ft[3]*Ft[7]-Ft[2]*Ft[4]*Ft[6]-Ft[1]*Ft[3]*Ft[8]-Ft[0]*Ft[5]*Ft[7]}transpose(){let Ft;const El=this.elements;return Ft=El[1],El[1]=El[3],El[3]=Ft,Ft=El[2],El[2]=El[6],El[6]=Ft,Ft=El[5],El[5]=El[7],El[7]=Ft,this}clone(){const Ft=this.elements;return new zn(Ft[0],Ft[3],Ft[6],Ft[1],Ft[4],Ft[7],Ft[2],Ft[5],Ft[8])}getMatrix4(){const Ft=this.elements;return new ie(Ft[0],Ft[3],Ft[6],0,Ft[1],Ft[4],Ft[7],0,Ft[2],Ft[5],Ft[8],0)}}class $l{constructor(Ft,El){this.origin=Ft!==void 0?Ft:new Et,this.direction=El!==void 0?El:new Et}set(Ft,El){return this.origin.copy(Ft),this.direction.copy(El),this}copy(Ft){return this.origin.copy(Ft.origin),this.direction.copy(Ft.direction),this}at(Ft,El){return(El||new Et).copy(this.direction).multiplyScalar(Ft).add(this.origin)}recast(Ft){const El=G;return this.origin.copy(this.at(Ft,El)),this}closestPointToPoint(Ft,El){const Kl=El||new Et;Kl.subVectors(Ft,this.origin);const Al=Kl.dot(this.direction);return Kl.copy(this.direction).multiplyScalar(Al).add(this.origin)}distanceToPoint(Ft){const El=G,Kl=El.subVectors(Ft,this.origin).dot(this.direction);return El.copy(this.direction).multiplyScalar(Kl).add(this.origin),El.distanceTo(Ft)}isIntersectionCylinder(){}isIntersectionSphere(Ft){return this.distanceToPoint(Ft.center)<=Ft.radius}isIntersectionPlane(Ft){return Ft.normal.dot(this.direction)!==0||Ft.distanceToPoint(this.origin)===0}distanceToPlane(Ft){const El=Ft.normal.dot(this.direction);return El===0?Ft.distanceToPoint(this.origin)===0?0:void 0:-(this.origin.dot(Ft.normal)+Ft.constant)/El}intersectPlane(Ft,El){const Kl=this.distanceToPlane(Ft);if(Kl!==void 0)return this.at(Kl,El)}applyMatrix4(Ft){return this.direction.add(this.origin).applyMatrix4(Ft),this.origin.applyMatrix4(Ft),this.direction.sub(this.origin),this}clone(){return new $l().copy(this)}}function zl(Hl,Ft,El,Kl,Al,vu){Kl=Kl*Math.PI/180,Al=Al*Math.PI/180,vu=vu*Math.PI/180;const Nl=Id=>Id*Id,Xu=Math.cos(Kl),Vu=Math.cos(Al),Zu=Math.cos(vu),Od=Math.sin(vu);return new zn(Hl,Ft*Zu,El*Vu,0,Ft*Od,El*(Xu-Vu*Zu)/Od,0,0,El*Math.sqrt(1-Nl(Xu)-Nl(Vu)-Nl(Zu)+2*Xu*Vu*Zu)/Od)}},546:(r,n,o)=>{o.r(n),o.d(n,{CustomLinear:()=>G,Gradient:()=>ce,GradientType:()=>c,ROYGB:()=>y,RWB:()=>w,Sinebow:()=>L,builtinGradients:()=>H,getGradient:()=>d,normalizeValue:()=>f});var l=o(222);class c{}function f(ie,Et,zn){return Et>=ie?(zn<ie&&(zn=ie),zn>Et&&(zn=Et),{lo:ie,hi:Et,val:zn}):(zn>ie&&(zn=ie),zn<Et&&(zn=Et),{lo:Et,hi:ie,val:zn=ie-zn+Et})}function d(ie){if(ie instanceof c)return ie;if(ie.gradient!==void 0&&H[ie.gradient]){let Et=ie.min===void 0?-1:ie.min,zn=ie.max===void 0?1:ie.max;return ie.mid===void 0?ie.colors===void 0?new H[ie.gradient](Et,zn):new H[ie.gradient](Et,zn,ie.colors):new H[ie.gradient](Et,zn,ie.mid)}if(typeof ie.gradient=="string"&&ie.gradient.startsWith("linear_")){let Et=ie.gradient.split("_");Et.shift();let zn=ie.min===void 0?-1:ie.min,$l=ie.max===void 0?1:ie.max;return new G(zn,$l,Et)}return ie}class w extends c{constructor(Et,zn,$l){super(),this.gradient="RWB",this.mult=1,this.mid=$l,this.min=Et,this.max=zn,zn===void 0&&Array.isArray(Et)&&Et.length>=2?(this.max=Et[1],this.min=Et[0]):Et&&zn&&!Array.isArray(Et)&&(this.min=Et,this.max=zn)}range(){return this.min!==void 0&&this.max!==void 0?[this.min,this.max]:null}valueToHex(Et,zn){var $l,zl;if(Et=this.mult*Et,zn?($l=zn[0],zl=zn[1]):($l=this.min,zl=this.max),Et===void 0)return 16777215;var Hl=f($l,zl,Et);$l=Hl.lo;var Ft,El=((zl=Hl.hi)+$l)/2;return(Et=Hl.val)<(El=zn&&zn[2]!==void 0?zn[2]:this.mid!==void 0?this.mid:($l+zl)/2)?16711680+256*(Ft=Math.floor(255*Math.sqrt((Et-$l)/(El-$l))))+Ft:Et>El?65536*(Ft=Math.floor(255*Math.sqrt(1-(Et-El)/(zl-El))))+256*Ft+255:16777215}}class y extends c{constructor(Et,zn){super(),this.gradient="ROYGB",this.mult=1,this.min=Et,this.max=zn,zn===void 0&&Array.isArray(Et)&&Et.length>=2?(this.max=Et[1],this.min=Et[0]):Et&&zn&&!Array.isArray(Et)&&(this.min=Et,this.max=zn)}valueToHex(Et,zn){var $l,zl;if(Et=this.mult*Et,zn?($l=zn[0],zl=zn[1]):($l=this.min,zl=this.max),Et===void 0)return 16777215;var Hl=f($l,zl,Et),Ft=(($l=Hl.lo)+(zl=Hl.hi))/2,El=($l+Ft)/2,Kl=(Ft+zl)/2;return(Et=Hl.val)<El?16711680+256*Math.floor(255*Math.sqrt((Et-$l)/(El-$l)))+0:Et<Ft?65536*Math.floor(255*Math.sqrt(1-(Et-El)/(Ft-El)))+65280+0:Et<Kl?65280+1*Math.floor(255*Math.sqrt((Et-Ft)/(Kl-Ft))):0+256*Math.floor(255*Math.sqrt(1-(Et-Kl)/(zl-Kl)))+255}range(){return this.min!==void 0&&this.max!==void 0?[this.min,this.max]:null}}class L extends c{constructor(Et,zn){super(),this.gradient="Sinebow",this.mult=1,this.min=Et,this.max=zn,zn===void 0&&Array.isArray(Et)&&Et.length>=2&&(this.max=Et[1],this.min=Et[0]),zn<Et&&(this.mult=-1,this.min*=-1,this.max*=-1)}valueToHex(Et,zn){var $l,zl;if(Et=this.mult*Et,zn?($l=zn[0],zl=zn[1]):($l=this.min,zl=this.max),Et===void 0)return 16777215;var Hl=ce.normalizeValue($l,zl,Et);$l=Hl.lo,zl=Hl.hi;var Ft=((Et=Hl.val)-$l)/(zl-$l)*5/6+.5,El=Math.sin(Math.PI*Ft);El*=255*El;var Kl=Math.sin(Math.PI*(Ft+1/3));Kl*=255*Kl;var Al=Math.sin(Math.PI*(Ft+2/3));return Al*=255*Al,65536*Math.floor(El)+256*Math.floor(Al)+1*Math.floor(Kl)}range(){return this.min!==void 0&&this.max!==void 0?[this.min,this.max]:null}}class G extends c{constructor(Et,zn,$l){var zl;if(super(),this.gradient="linear",this.colors=new Array,Array.isArray(Et)&&Et.length>=2?(this.max=Et[1],this.min=Et[0],zl=zn):(this.min=Et,this.max=zn,zl=$l),zl)for(let Hl of zl)this.colors.push(l.CC.color(Hl));else this.colors.push(l.CC.color(0))}range(){return this.min!==void 0&&this.max!==void 0?[this.min,this.max]:null}valueToHex(Et,zn){var $l,zl;if(zn?($l=zn[0],zl=zn[1]):($l=this.min,zl=this.max),Et===void 0)return 16777215;var Hl=f($l,zl,Et);$l=Hl.lo,zl=Hl.hi,Et=Hl.val;let Ft=this.colors.length,El=(zl-$l)/Ft,Kl=Math.min(Math.floor((Et-$l)/El),Ft-1),Al=Math.min(Kl+1,Ft-1),vu=(Et-$l-Kl*El)/El,Nl=this.colors[Kl],Xu=this.colors[Al];return new l.Color(Nl.r+vu*(Xu.r-Nl.r),Nl.g+vu*(Xu.g-Nl.g),Nl.b+vu*(Xu.b-Nl.b)).getHex()}}const H={rwb:w,RWB:w,roygb:y,ROYGB:y,sinebow:L,linear:G};class ce extends c{valueToHex(Et,zn){return 0}range(){return null}}ce.RWB=w,ce.ROYGB=y,ce.Sinebow=L,ce.CustomLinear=G,ce.builtinGradients=H,ce.normalizeValue=f,ce.getGradient=d},663:(r,n,o)=>{var l=o(981),c=o(701),f=o(407),d=o(165),w=o(358),y=-2,L=12,G=30;function H(Al){return(Al>>>24&255)+(Al>>>8&65280)+((65280&Al)<<8)+((255&Al)<<24)}function ce(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new l.Buf16(320),this.work=new l.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ie(Al){var vu;return Al&&Al.state?(vu=Al.state,Al.total_in=Al.total_out=vu.total=0,Al.msg="",vu.wrap&&(Al.adler=1&vu.wrap),vu.mode=1,vu.last=0,vu.havedict=0,vu.dmax=32768,vu.head=null,vu.hold=0,vu.bits=0,vu.lencode=vu.lendyn=new l.Buf32(852),vu.distcode=vu.distdyn=new l.Buf32(592),vu.sane=1,vu.back=-1,0):y}function Et(Al){var vu;return Al&&Al.state?((vu=Al.state).wsize=0,vu.whave=0,vu.wnext=0,ie(Al)):y}function zn(Al,vu){var Nl,Xu;return Al&&Al.state?(Xu=Al.state,vu<0?(Nl=0,vu=-vu):(Nl=1+(vu>>4),vu<48&&(vu&=15)),vu&&(vu<8||vu>15)?y:(Xu.window!==null&&Xu.wbits!==vu&&(Xu.window=null),Xu.wrap=Nl,Xu.wbits=vu,Et(Al))):y}function $l(Al,vu){var Nl,Xu;return Al?(Xu=new ce,Al.state=Xu,Xu.window=null,(Nl=zn(Al,vu))!==0&&(Al.state=null),Nl):y}var zl,Hl,Ft=!0;function El(Al){if(Ft){var vu;for(zl=new l.Buf32(512),Hl=new l.Buf32(32),vu=0;vu<144;)Al.lens[vu++]=8;for(;vu<256;)Al.lens[vu++]=9;for(;vu<280;)Al.lens[vu++]=7;for(;vu<288;)Al.lens[vu++]=8;for(w(1,Al.lens,0,288,zl,0,Al.work,{bits:9}),vu=0;vu<32;)Al.lens[vu++]=5;w(2,Al.lens,0,32,Hl,0,Al.work,{bits:5}),Ft=!1}Al.lencode=zl,Al.lenbits=9,Al.distcode=Hl,Al.distbits=5}function Kl(Al,vu,Nl,Xu){var Vu,Zu=Al.state;return Zu.window===null&&(Zu.wsize=1<<Zu.wbits,Zu.wnext=0,Zu.whave=0,Zu.window=new l.Buf8(Zu.wsize)),Xu>=Zu.wsize?(l.arraySet(Zu.window,vu,Nl-Zu.wsize,Zu.wsize,0),Zu.wnext=0,Zu.whave=Zu.wsize):((Vu=Zu.wsize-Zu.wnext)>Xu&&(Vu=Xu),l.arraySet(Zu.window,vu,Nl-Xu,Vu,Zu.wnext),(Xu-=Vu)?(l.arraySet(Zu.window,vu,Nl-Xu,Xu,0),Zu.wnext=Xu,Zu.whave=Zu.wsize):(Zu.wnext+=Vu,Zu.wnext===Zu.wsize&&(Zu.wnext=0),Zu.whave<Zu.wsize&&(Zu.whave+=Vu))),0}n.inflateReset=Et,n.inflateReset2=zn,n.inflateResetKeep=ie,n.inflateInit=function(Al){return $l(Al,15)},n.inflateInit2=$l,n.inflate=function(Al,vu){var Nl,Xu,Vu,Zu,Od,Id,Bd,Cd,Wl,jd,Md,qu,ad,Dd,mh,gd,md,oh,qh,sf,yh,vf,Ef,kf,Mp=0,rp=new l.Buf8(4),Fp=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Al||!Al.state||!Al.output||!Al.input&&Al.avail_in!==0)return y;(Nl=Al.state).mode===L&&(Nl.mode=13),Od=Al.next_out,Vu=Al.output,Bd=Al.avail_out,Zu=Al.next_in,Xu=Al.input,Id=Al.avail_in,Cd=Nl.hold,Wl=Nl.bits,jd=Id,Md=Bd,vf=0;e:for(;;)switch(Nl.mode){case 1:if(Nl.wrap===0){Nl.mode=13;break}for(;Wl<16;){if(Id===0)break e;Id--,Cd+=Xu[Zu++]<<Wl,Wl+=8}if(2&Nl.wrap&&Cd===35615){Nl.check=0,rp[0]=255&Cd,rp[1]=Cd>>>8&255,Nl.check=f(Nl.check,rp,2,0),Cd=0,Wl=0,Nl.mode=2;break}if(Nl.flags=0,Nl.head&&(Nl.head.done=!1),!(1&Nl.wrap)||(((255&Cd)<<8)+(Cd>>8))%31){Al.msg="incorrect header check",Nl.mode=G;break}if((15&Cd)!=8){Al.msg="unknown compression method",Nl.mode=G;break}if(Wl-=4,yh=8+(15&(Cd>>>=4)),Nl.wbits===0)Nl.wbits=yh;else if(yh>Nl.wbits){Al.msg="invalid window size",Nl.mode=G;break}Nl.dmax=1<<yh,Al.adler=Nl.check=1,Nl.mode=512&Cd?10:L,Cd=0,Wl=0;break;case 2:for(;Wl<16;){if(Id===0)break e;Id--,Cd+=Xu[Zu++]<<Wl,Wl+=8}if(Nl.flags=Cd,(255&Nl.flags)!=8){Al.msg="unknown compression method",Nl.mode=G;break}if(57344&Nl.flags){Al.msg="unknown header flags set",Nl.mode=G;break}Nl.head&&(Nl.head.text=Cd>>8&1),512&Nl.flags&&(rp[0]=255&Cd,rp[1]=Cd>>>8&255,Nl.check=f(Nl.check,rp,2,0)),Cd=0,Wl=0,Nl.mode=3;case 3:for(;Wl<32;){if(Id===0)break e;Id--,Cd+=Xu[Zu++]<<Wl,Wl+=8}Nl.head&&(Nl.head.time=Cd),512&Nl.flags&&(rp[0]=255&Cd,rp[1]=Cd>>>8&255,rp[2]=Cd>>>16&255,rp[3]=Cd>>>24&255,Nl.check=f(Nl.check,rp,4,0)),Cd=0,Wl=0,Nl.mode=4;case 4:for(;Wl<16;){if(Id===0)break e;Id--,Cd+=Xu[Zu++]<<Wl,Wl+=8}Nl.head&&(Nl.head.xflags=255&Cd,Nl.head.os=Cd>>8),512&Nl.flags&&(rp[0]=255&Cd,rp[1]=Cd>>>8&255,Nl.check=f(Nl.check,rp,2,0)),Cd=0,Wl=0,Nl.mode=5;case 5:if(1024&Nl.flags){for(;Wl<16;){if(Id===0)break e;Id--,Cd+=Xu[Zu++]<<Wl,Wl+=8}Nl.length=Cd,Nl.head&&(Nl.head.extra_len=Cd),512&Nl.flags&&(rp[0]=255&Cd,rp[1]=Cd>>>8&255,Nl.check=f(Nl.check,rp,2,0)),Cd=0,Wl=0}else Nl.head&&(Nl.head.extra=null);Nl.mode=6;case 6:if(1024&Nl.flags&&((qu=Nl.length)>Id&&(qu=Id),qu&&(Nl.head&&(yh=Nl.head.extra_len-Nl.length,Nl.head.extra||(Nl.head.extra=new Array(Nl.head.extra_len)),l.arraySet(Nl.head.extra,Xu,Zu,qu,yh)),512&Nl.flags&&(Nl.check=f(Nl.check,Xu,qu,Zu)),Id-=qu,Zu+=qu,Nl.length-=qu),Nl.length))break e;Nl.length=0,Nl.mode=7;case 7:if(2048&Nl.flags){if(Id===0)break e;qu=0;do yh=Xu[Zu+qu++],Nl.head&&yh&&Nl.length<65536&&(Nl.head.name+=String.fromCharCode(yh));while(yh&&qu<Id);if(512&Nl.flags&&(Nl.check=f(Nl.check,Xu,qu,Zu)),Id-=qu,Zu+=qu,yh)break e}else Nl.head&&(Nl.head.name=null);Nl.length=0,Nl.mode=8;case 8:if(4096&Nl.flags){if(Id===0)break e;qu=0;do yh=Xu[Zu+qu++],Nl.head&&yh&&Nl.length<65536&&(Nl.head.comment+=String.fromCharCode(yh));while(yh&&qu<Id);if(512&Nl.flags&&(Nl.check=f(Nl.check,Xu,qu,Zu)),Id-=qu,Zu+=qu,yh)break e}else Nl.head&&(Nl.head.comment=null);Nl.mode=9;case 9:if(512&Nl.flags){for(;Wl<16;){if(Id===0)break e;Id--,Cd+=Xu[Zu++]<<Wl,Wl+=8}if(Cd!==(65535&Nl.check)){Al.msg="header crc mismatch",Nl.mode=G;break}Cd=0,Wl=0}Nl.head&&(Nl.head.hcrc=Nl.flags>>9&1,Nl.head.done=!0),Al.adler=Nl.check=0,Nl.mode=L;break;case 10:for(;Wl<32;){if(Id===0)break e;Id--,Cd+=Xu[Zu++]<<Wl,Wl+=8}Al.adler=Nl.check=H(Cd),Cd=0,Wl=0,Nl.mode=11;case 11:if(Nl.havedict===0)return Al.next_out=Od,Al.avail_out=Bd,Al.next_in=Zu,Al.avail_in=Id,Nl.hold=Cd,Nl.bits=Wl,2;Al.adler=Nl.check=1,Nl.mode=L;case L:if(vu===5||vu===6)break e;case 13:if(Nl.last){Cd>>>=7&Wl,Wl-=7&Wl,Nl.mode=27;break}for(;Wl<3;){if(Id===0)break e;Id--,Cd+=Xu[Zu++]<<Wl,Wl+=8}switch(Nl.last=1&Cd,Wl-=1,3&(Cd>>>=1)){case 0:Nl.mode=14;break;case 1:if(El(Nl),Nl.mode=20,vu===6){Cd>>>=2,Wl-=2;break e}break;case 2:Nl.mode=17;break;case 3:Al.msg="invalid block type",Nl.mode=G}Cd>>>=2,Wl-=2;break;case 14:for(Cd>>>=7&Wl,Wl-=7&Wl;Wl<32;){if(Id===0)break e;Id--,Cd+=Xu[Zu++]<<Wl,Wl+=8}if((65535&Cd)!=(Cd>>>16^65535)){Al.msg="invalid stored block lengths",Nl.mode=G;break}if(Nl.length=65535&Cd,Cd=0,Wl=0,Nl.mode=15,vu===6)break e;case 15:Nl.mode=16;case 16:if(qu=Nl.length){if(qu>Id&&(qu=Id),qu>Bd&&(qu=Bd),qu===0)break e;l.arraySet(Vu,Xu,Zu,qu,Od),Id-=qu,Zu+=qu,Bd-=qu,Od+=qu,Nl.length-=qu;break}Nl.mode=L;break;case 17:for(;Wl<14;){if(Id===0)break e;Id--,Cd+=Xu[Zu++]<<Wl,Wl+=8}if(Nl.nlen=257+(31&Cd),Cd>>>=5,Wl-=5,Nl.ndist=1+(31&Cd),Cd>>>=5,Wl-=5,Nl.ncode=4+(15&Cd),Cd>>>=4,Wl-=4,Nl.nlen>286||Nl.ndist>30){Al.msg="too many length or distance symbols",Nl.mode=G;break}Nl.have=0,Nl.mode=18;case 18:for(;Nl.have<Nl.ncode;){for(;Wl<3;){if(Id===0)break e;Id--,Cd+=Xu[Zu++]<<Wl,Wl+=8}Nl.lens[Fp[Nl.have++]]=7&Cd,Cd>>>=3,Wl-=3}for(;Nl.have<19;)Nl.lens[Fp[Nl.have++]]=0;if(Nl.lencode=Nl.lendyn,Nl.lenbits=7,Ef={bits:Nl.lenbits},vf=w(0,Nl.lens,0,19,Nl.lencode,0,Nl.work,Ef),Nl.lenbits=Ef.bits,vf){Al.msg="invalid code lengths set",Nl.mode=G;break}Nl.have=0,Nl.mode=19;case 19:for(;Nl.have<Nl.nlen+Nl.ndist;){for(;gd=(Mp=Nl.lencode[Cd&(1<<Nl.lenbits)-1])>>>16&255,md=65535&Mp,!((mh=Mp>>>24)<=Wl);){if(Id===0)break e;Id--,Cd+=Xu[Zu++]<<Wl,Wl+=8}if(md<16)Cd>>>=mh,Wl-=mh,Nl.lens[Nl.have++]=md;else{if(md===16){for(kf=mh+2;Wl<kf;){if(Id===0)break e;Id--,Cd+=Xu[Zu++]<<Wl,Wl+=8}if(Cd>>>=mh,Wl-=mh,Nl.have===0){Al.msg="invalid bit length repeat",Nl.mode=G;break}yh=Nl.lens[Nl.have-1],qu=3+(3&Cd),Cd>>>=2,Wl-=2}else if(md===17){for(kf=mh+3;Wl<kf;){if(Id===0)break e;Id--,Cd+=Xu[Zu++]<<Wl,Wl+=8}Wl-=mh,yh=0,qu=3+(7&(Cd>>>=mh)),Cd>>>=3,Wl-=3}else{for(kf=mh+7;Wl<kf;){if(Id===0)break e;Id--,Cd+=Xu[Zu++]<<Wl,Wl+=8}Wl-=mh,yh=0,qu=11+(127&(Cd>>>=mh)),Cd>>>=7,Wl-=7}if(Nl.have+qu>Nl.nlen+Nl.ndist){Al.msg="invalid bit length repeat",Nl.mode=G;break}for(;qu--;)Nl.lens[Nl.have++]=yh}}if(Nl.mode===G)break;if(Nl.lens[256]===0){Al.msg="invalid code -- missing end-of-block",Nl.mode=G;break}if(Nl.lenbits=9,Ef={bits:Nl.lenbits},vf=w(1,Nl.lens,0,Nl.nlen,Nl.lencode,0,Nl.work,Ef),Nl.lenbits=Ef.bits,vf){Al.msg="invalid literal/lengths set",Nl.mode=G;break}if(Nl.distbits=6,Nl.distcode=Nl.distdyn,Ef={bits:Nl.distbits},vf=w(2,Nl.lens,Nl.nlen,Nl.ndist,Nl.distcode,0,Nl.work,Ef),Nl.distbits=Ef.bits,vf){Al.msg="invalid distances set",Nl.mode=G;break}if(Nl.mode=20,vu===6)break e;case 20:Nl.mode=21;case 21:if(Id>=6&&Bd>=258){Al.next_out=Od,Al.avail_out=Bd,Al.next_in=Zu,Al.avail_in=Id,Nl.hold=Cd,Nl.bits=Wl,d(Al,Md),Od=Al.next_out,Vu=Al.output,Bd=Al.avail_out,Zu=Al.next_in,Xu=Al.input,Id=Al.avail_in,Cd=Nl.hold,Wl=Nl.bits,Nl.mode===L&&(Nl.back=-1);break}for(Nl.back=0;gd=(Mp=Nl.lencode[Cd&(1<<Nl.lenbits)-1])>>>16&255,md=65535&Mp,!((mh=Mp>>>24)<=Wl);){if(Id===0)break e;Id--,Cd+=Xu[Zu++]<<Wl,Wl+=8}if(gd&&!(240&gd)){for(oh=mh,qh=gd,sf=md;gd=(Mp=Nl.lencode[sf+((Cd&(1<<oh+qh)-1)>>oh)])>>>16&255,md=65535&Mp,!(oh+(mh=Mp>>>24)<=Wl);){if(Id===0)break e;Id--,Cd+=Xu[Zu++]<<Wl,Wl+=8}Cd>>>=oh,Wl-=oh,Nl.back+=oh}if(Cd>>>=mh,Wl-=mh,Nl.back+=mh,Nl.length=md,gd===0){Nl.mode=26;break}if(32&gd){Nl.back=-1,Nl.mode=L;break}if(64&gd){Al.msg="invalid literal/length code",Nl.mode=G;break}Nl.extra=15&gd,Nl.mode=22;case 22:if(Nl.extra){for(kf=Nl.extra;Wl<kf;){if(Id===0)break e;Id--,Cd+=Xu[Zu++]<<Wl,Wl+=8}Nl.length+=Cd&(1<<Nl.extra)-1,Cd>>>=Nl.extra,Wl-=Nl.extra,Nl.back+=Nl.extra}Nl.was=Nl.length,Nl.mode=23;case 23:for(;gd=(Mp=Nl.distcode[Cd&(1<<Nl.distbits)-1])>>>16&255,md=65535&Mp,!((mh=Mp>>>24)<=Wl);){if(Id===0)break e;Id--,Cd+=Xu[Zu++]<<Wl,Wl+=8}if(!(240&gd)){for(oh=mh,qh=gd,sf=md;gd=(Mp=Nl.distcode[sf+((Cd&(1<<oh+qh)-1)>>oh)])>>>16&255,md=65535&Mp,!(oh+(mh=Mp>>>24)<=Wl);){if(Id===0)break e;Id--,Cd+=Xu[Zu++]<<Wl,Wl+=8}Cd>>>=oh,Wl-=oh,Nl.back+=oh}if(Cd>>>=mh,Wl-=mh,Nl.back+=mh,64&gd){Al.msg="invalid distance code",Nl.mode=G;break}Nl.offset=md,Nl.extra=15&gd,Nl.mode=24;case 24:if(Nl.extra){for(kf=Nl.extra;Wl<kf;){if(Id===0)break e;Id--,Cd+=Xu[Zu++]<<Wl,Wl+=8}Nl.offset+=Cd&(1<<Nl.extra)-1,Cd>>>=Nl.extra,Wl-=Nl.extra,Nl.back+=Nl.extra}if(Nl.offset>Nl.dmax){Al.msg="invalid distance too far back",Nl.mode=G;break}Nl.mode=25;case 25:if(Bd===0)break e;if(qu=Md-Bd,Nl.offset>qu){if((qu=Nl.offset-qu)>Nl.whave&&Nl.sane){Al.msg="invalid distance too far back",Nl.mode=G;break}qu>Nl.wnext?(qu-=Nl.wnext,ad=Nl.wsize-qu):ad=Nl.wnext-qu,qu>Nl.length&&(qu=Nl.length),Dd=Nl.window}else Dd=Vu,ad=Od-Nl.offset,qu=Nl.length;qu>Bd&&(qu=Bd),Bd-=qu,Nl.length-=qu;do Vu[Od++]=Dd[ad++];while(--qu);Nl.length===0&&(Nl.mode=21);break;case 26:if(Bd===0)break e;Vu[Od++]=Nl.length,Bd--,Nl.mode=21;break;case 27:if(Nl.wrap){for(;Wl<32;){if(Id===0)break e;Id--,Cd|=Xu[Zu++]<<Wl,Wl+=8}if(Md-=Bd,Al.total_out+=Md,Nl.total+=Md,Md&&(Al.adler=Nl.check=Nl.flags?f(Nl.check,Vu,Md,Od-Md):c(Nl.check,Vu,Md,Od-Md)),Md=Bd,(Nl.flags?Cd:H(Cd))!==Nl.check){Al.msg="incorrect data check",Nl.mode=G;break}Cd=0,Wl=0}Nl.mode=28;case 28:if(Nl.wrap&&Nl.flags){for(;Wl<32;){if(Id===0)break e;Id--,Cd+=Xu[Zu++]<<Wl,Wl+=8}if(Cd!==(4294967295&Nl.total)){Al.msg="incorrect length check",Nl.mode=G;break}Cd=0,Wl=0}Nl.mode=29;case 29:vf=1;break e;case G:vf=-3;break e;case 31:return-4;default:return y}return Al.next_out=Od,Al.avail_out=Bd,Al.next_in=Zu,Al.avail_in=Id,Nl.hold=Cd,Nl.bits=Wl,(Nl.wsize||Md!==Al.avail_out&&Nl.mode<G&&(Nl.mode<27||vu!==4))&&Kl(Al,Al.output,Al.next_out,Md-Al.avail_out)?(Nl.mode=31,-4):(jd-=Al.avail_in,Md-=Al.avail_out,Al.total_in+=jd,Al.total_out+=Md,Nl.total+=Md,Nl.wrap&&Md&&(Al.adler=Nl.check=Nl.flags?f(Nl.check,Vu,Md,Al.next_out-Md):c(Nl.check,Vu,Md,Al.next_out-Md)),Al.data_type=Nl.bits+(Nl.last?64:0)+(Nl.mode===L?128:0)+(Nl.mode===20||Nl.mode===15?256:0),(jd===0&&Md===0||vu===4)&&vf===0&&(vf=-5),vf)},n.inflateEnd=function(Al){if(!Al||!Al.state)return y;var vu=Al.state;return vu.window&&(vu.window=null),Al.state=null,0},n.inflateGetHeader=function(Al,vu){var Nl;return Al&&Al.state&&2&(Nl=Al.state).wrap?(Nl.head=vu,vu.done=!1,0):y},n.inflateSetDictionary=function(Al,vu){var Nl,Xu=vu.length;return Al&&Al.state?(Nl=Al.state).wrap!==0&&Nl.mode!==11?y:Nl.mode===11&&c(1,vu,Xu,0)!==Nl.check?-3:Kl(Al,vu,Xu,Xu)?(Nl.mode=31,-4):(Nl.havedict=1,0):y},n.inflateInfo="pako inflate (from Nodeca project)"},670:r=>{r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},681:r=>{r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},697:(r,n,o)=>{var l=o(981);function c(md){for(var oh=md.length;--oh>=0;)md[oh]=0}var f=256,d=286,w=30,y=15,L=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],G=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],H=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ce=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ie=new Array(576);c(ie);var Et=new Array(60);c(Et);var zn=new Array(512);c(zn);var $l=new Array(256);c($l);var zl=new Array(29);c(zl);var Hl,Ft,El,Kl=new Array(w);function Al(md,oh,qh,sf,yh){this.static_tree=md,this.extra_bits=oh,this.extra_base=qh,this.elems=sf,this.max_length=yh,this.has_stree=md&&md.length}function vu(md,oh){this.dyn_tree=md,this.max_code=0,this.stat_desc=oh}function Nl(md){return md<256?zn[md]:zn[256+(md>>>7)]}function Xu(md,oh){md.pending_buf[md.pending++]=255&oh,md.pending_buf[md.pending++]=oh>>>8&255}function Vu(md,oh,qh){md.bi_valid>16-qh?(md.bi_buf|=oh<<md.bi_valid&65535,Xu(md,md.bi_buf),md.bi_buf=oh>>16-md.bi_valid,md.bi_valid+=qh-16):(md.bi_buf|=oh<<md.bi_valid&65535,md.bi_valid+=qh)}function Zu(md,oh,qh){Vu(md,qh[2*oh],qh[2*oh+1])}function Od(md,oh){var qh=0;do qh|=1&md,md>>>=1,qh<<=1;while(--oh>0);return qh>>>1}function Id(md,oh,qh){var sf,yh,vf=new Array(16),Ef=0;for(sf=1;sf<=y;sf++)vf[sf]=Ef=Ef+qh[sf-1]<<1;for(yh=0;yh<=oh;yh++){var kf=md[2*yh+1];kf!==0&&(md[2*yh]=Od(vf[kf]++,kf))}}function Bd(md){var oh;for(oh=0;oh<d;oh++)md.dyn_ltree[2*oh]=0;for(oh=0;oh<w;oh++)md.dyn_dtree[2*oh]=0;for(oh=0;oh<19;oh++)md.bl_tree[2*oh]=0;md.dyn_ltree[512]=1,md.opt_len=md.static_len=0,md.last_lit=md.matches=0}function Cd(md){md.bi_valid>8?Xu(md,md.bi_buf):md.bi_valid>0&&(md.pending_buf[md.pending++]=md.bi_buf),md.bi_buf=0,md.bi_valid=0}function Wl(md,oh,qh,sf){var yh=2*oh,vf=2*qh;return md[yh]<md[vf]||md[yh]===md[vf]&&sf[oh]<=sf[qh]}function jd(md,oh,qh){for(var sf=md.heap[qh],yh=qh<<1;yh<=md.heap_len&&(yh<md.heap_len&&Wl(oh,md.heap[yh+1],md.heap[yh],md.depth)&&yh++,!Wl(oh,sf,md.heap[yh],md.depth));)md.heap[qh]=md.heap[yh],qh=yh,yh<<=1;md.heap[qh]=sf}function Md(md,oh,qh){var sf,yh,vf,Ef,kf=0;if(md.last_lit!==0)do sf=md.pending_buf[md.d_buf+2*kf]<<8|md.pending_buf[md.d_buf+2*kf+1],yh=md.pending_buf[md.l_buf+kf],kf++,sf===0?Zu(md,yh,oh):(Zu(md,(vf=$l[yh])+f+1,oh),(Ef=L[vf])!==0&&Vu(md,yh-=zl[vf],Ef),Zu(md,vf=Nl(--sf),qh),(Ef=G[vf])!==0&&Vu(md,sf-=Kl[vf],Ef));while(kf<md.last_lit);Zu(md,256,oh)}function qu(md,oh){var qh,sf,yh,vf=oh.dyn_tree,Ef=oh.stat_desc.static_tree,kf=oh.stat_desc.has_stree,Mp=oh.stat_desc.elems,rp=-1;for(md.heap_len=0,md.heap_max=573,qh=0;qh<Mp;qh++)vf[2*qh]!==0?(md.heap[++md.heap_len]=rp=qh,md.depth[qh]=0):vf[2*qh+1]=0;for(;md.heap_len<2;)vf[2*(yh=md.heap[++md.heap_len]=rp<2?++rp:0)]=1,md.depth[yh]=0,md.opt_len--,kf&&(md.static_len-=Ef[2*yh+1]);for(oh.max_code=rp,qh=md.heap_len>>1;qh>=1;qh--)jd(md,vf,qh);yh=Mp;do qh=md.heap[1],md.heap[1]=md.heap[md.heap_len--],jd(md,vf,1),sf=md.heap[1],md.heap[--md.heap_max]=qh,md.heap[--md.heap_max]=sf,vf[2*yh]=vf[2*qh]+vf[2*sf],md.depth[yh]=(md.depth[qh]>=md.depth[sf]?md.depth[qh]:md.depth[sf])+1,vf[2*qh+1]=vf[2*sf+1]=yh,md.heap[1]=yh++,jd(md,vf,1);while(md.heap_len>=2);md.heap[--md.heap_max]=md.heap[1],(function(Fp,_0){var L0,Gp,E0,l0,n0,Z0,G0=_0.dyn_tree,X0=_0.max_code,$g=_0.stat_desc.static_tree,Gg=_0.stat_desc.has_stree,_f=_0.stat_desc.extra_bits,hd=_0.stat_desc.extra_base,qd=_0.stat_desc.max_length,fh=0;for(l0=0;l0<=y;l0++)Fp.bl_count[l0]=0;for(G0[2*Fp.heap[Fp.heap_max]+1]=0,L0=Fp.heap_max+1;L0<573;L0++)(l0=G0[2*G0[2*(Gp=Fp.heap[L0])+1]+1]+1)>qd&&(l0=qd,fh++),G0[2*Gp+1]=l0,Gp>X0||(Fp.bl_count[l0]++,n0=0,Gp>=hd&&(n0=_f[Gp-hd]),Z0=G0[2*Gp],Fp.opt_len+=Z0*(l0+n0),Gg&&(Fp.static_len+=Z0*($g[2*Gp+1]+n0)));if(fh!==0){do{for(l0=qd-1;Fp.bl_count[l0]===0;)l0--;Fp.bl_count[l0]--,Fp.bl_count[l0+1]+=2,Fp.bl_count[qd]--,fh-=2}while(fh>0);for(l0=qd;l0!==0;l0--)for(Gp=Fp.bl_count[l0];Gp!==0;)(E0=Fp.heap[--L0])>X0||(G0[2*E0+1]!==l0&&(Fp.opt_len+=(l0-G0[2*E0+1])*G0[2*E0],G0[2*E0+1]=l0),Gp--)}})(md,oh),Id(vf,rp,md.bl_count)}function ad(md,oh,qh){var sf,yh,vf=-1,Ef=oh[1],kf=0,Mp=7,rp=4;for(Ef===0&&(Mp=138,rp=3),oh[2*(qh+1)+1]=65535,sf=0;sf<=qh;sf++)yh=Ef,Ef=oh[2*(sf+1)+1],++kf<Mp&&yh===Ef||(kf<rp?md.bl_tree[2*yh]+=kf:yh!==0?(yh!==vf&&md.bl_tree[2*yh]++,md.bl_tree[32]++):kf<=10?md.bl_tree[34]++:md.bl_tree[36]++,kf=0,vf=yh,Ef===0?(Mp=138,rp=3):yh===Ef?(Mp=6,rp=3):(Mp=7,rp=4))}function Dd(md,oh,qh){var sf,yh,vf=-1,Ef=oh[1],kf=0,Mp=7,rp=4;for(Ef===0&&(Mp=138,rp=3),sf=0;sf<=qh;sf++)if(yh=Ef,Ef=oh[2*(sf+1)+1],!(++kf<Mp&&yh===Ef)){if(kf<rp)do Zu(md,yh,md.bl_tree);while(--kf!==0);else yh!==0?(yh!==vf&&(Zu(md,yh,md.bl_tree),kf--),Zu(md,16,md.bl_tree),Vu(md,kf-3,2)):kf<=10?(Zu(md,17,md.bl_tree),Vu(md,kf-3,3)):(Zu(md,18,md.bl_tree),Vu(md,kf-11,7));kf=0,vf=yh,Ef===0?(Mp=138,rp=3):yh===Ef?(Mp=6,rp=3):(Mp=7,rp=4)}}c(Kl);var mh=!1;function gd(md,oh,qh,sf){Vu(md,0+(sf?1:0),3),(function(yh,vf,Ef,kf){Cd(yh),Xu(yh,Ef),Xu(yh,~Ef),l.arraySet(yh.pending_buf,yh.window,vf,Ef,yh.pending),yh.pending+=Ef})(md,oh,qh)}n._tr_init=function(md){mh||((function(){var oh,qh,sf,yh,vf,Ef=new Array(16);for(sf=0,yh=0;yh<28;yh++)for(zl[yh]=sf,oh=0;oh<1<<L[yh];oh++)$l[sf++]=yh;for($l[sf-1]=yh,vf=0,yh=0;yh<16;yh++)for(Kl[yh]=vf,oh=0;oh<1<<G[yh];oh++)zn[vf++]=yh;for(vf>>=7;yh<w;yh++)for(Kl[yh]=vf<<7,oh=0;oh<1<<G[yh]-7;oh++)zn[256+vf++]=yh;for(qh=0;qh<=y;qh++)Ef[qh]=0;for(oh=0;oh<=143;)ie[2*oh+1]=8,oh++,Ef[8]++;for(;oh<=255;)ie[2*oh+1]=9,oh++,Ef[9]++;for(;oh<=279;)ie[2*oh+1]=7,oh++,Ef[7]++;for(;oh<=287;)ie[2*oh+1]=8,oh++,Ef[8]++;for(Id(ie,287,Ef),oh=0;oh<w;oh++)Et[2*oh+1]=5,Et[2*oh]=Od(oh,5);Hl=new Al(ie,L,257,d,y),Ft=new Al(Et,G,0,w,y),El=new Al(new Array(0),H,0,19,7)})(),mh=!0),md.l_desc=new vu(md.dyn_ltree,Hl),md.d_desc=new vu(md.dyn_dtree,Ft),md.bl_desc=new vu(md.bl_tree,El),md.bi_buf=0,md.bi_valid=0,Bd(md)},n._tr_stored_block=gd,n._tr_flush_block=function(md,oh,qh,sf){var yh,vf,Ef=0;md.level>0?(md.strm.data_type===2&&(md.strm.data_type=(function(kf){var Mp,rp=4093624447;for(Mp=0;Mp<=31;Mp++,rp>>>=1)if(1&rp&&kf.dyn_ltree[2*Mp]!==0)return 0;if(kf.dyn_ltree[18]!==0||kf.dyn_ltree[20]!==0||kf.dyn_ltree[26]!==0)return 1;for(Mp=32;Mp<f;Mp++)if(kf.dyn_ltree[2*Mp]!==0)return 1;return 0})(md)),qu(md,md.l_desc),qu(md,md.d_desc),Ef=(function(kf){var Mp;for(ad(kf,kf.dyn_ltree,kf.l_desc.max_code),ad(kf,kf.dyn_dtree,kf.d_desc.max_code),qu(kf,kf.bl_desc),Mp=18;Mp>=3&&kf.bl_tree[2*ce[Mp]+1]===0;Mp--);return kf.opt_len+=3*(Mp+1)+5+5+4,Mp})(md),yh=md.opt_len+3+7>>>3,(vf=md.static_len+3+7>>>3)<=yh&&(yh=vf)):yh=vf=qh+5,qh+4<=yh&&oh!==-1?gd(md,oh,qh,sf):md.strategy===4||vf===yh?(Vu(md,2+(sf?1:0),3),Md(md,ie,Et)):(Vu(md,4+(sf?1:0),3),(function(kf,Mp,rp,Fp){var _0;for(Vu(kf,Mp-257,5),Vu(kf,rp-1,5),Vu(kf,Fp-4,4),_0=0;_0<Fp;_0++)Vu(kf,kf.bl_tree[2*ce[_0]+1],3);Dd(kf,kf.dyn_ltree,Mp-1),Dd(kf,kf.dyn_dtree,rp-1)})(md,md.l_desc.max_code+1,md.d_desc.max_code+1,Ef+1),Md(md,md.dyn_ltree,md.dyn_dtree)),Bd(md),sf&&Cd(md)},n._tr_tally=function(md,oh,qh){return md.pending_buf[md.d_buf+2*md.last_lit]=oh>>>8&255,md.pending_buf[md.d_buf+2*md.last_lit+1]=255&oh,md.pending_buf[md.l_buf+md.last_lit]=255&qh,md.last_lit++,oh===0?md.dyn_ltree[2*qh]++:(md.matches++,oh--,md.dyn_ltree[2*($l[qh]+f+1)]++,md.dyn_dtree[2*Nl(oh)]++),md.last_lit===md.lit_bufsize-1},n._tr_align=function(md){Vu(md,2,3),Zu(md,256,ie),(function(oh){oh.bi_valid===16?(Xu(oh,oh.bi_buf),oh.bi_buf=0,oh.bi_valid=0):oh.bi_valid>=8&&(oh.pending_buf[oh.pending++]=255&oh.bi_buf,oh.bi_buf>>=8,oh.bi_valid-=8)})(md)}},701:r=>{r.exports=function(n,o,l,c){for(var f=65535&n,d=n>>>16&65535,w=0;l!==0;){l-=w=l>2e3?2e3:l;do d=d+(f=f+o[c++]|0)|0;while(--w);f%=65521,d%=65521}return f|d<<16}},746:r=>{r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},788:(r,n,o)=>{var l={};(0,o(981).assign)(l,o(71),o(3),o(681)),r.exports=l},797:(r,n,o)=>{o.r(n),o.d(n,{VASP:()=>f});var l=o(378),c=o(392);function f(d,w={}){var y=[[]],L={};const G=w.assignBonds===void 0||w.assignBonds;var H=d.replace(/^\s+/,"").split(/\r?\n/);if(H.length<3)return y;if(!H[1].match(/\d+/))return console.log("Warning: second line of the vasp structure file must be a number"),y;if(L.length=parseFloat(H[1]),L.length<0)return console.log("Warning: Vasp implementation for negative lattice lengths is not yet available"),y;L.xVec=new Float32Array(H[2].replace(/^\s+/,"").split(/\s+/)),L.yVec=new Float32Array(H[3].replace(/^\s+/,"").split(/\s+/)),L.zVec=new Float32Array(H[4].replace(/^\s+/,"").split(/\s+/));var ce=new l.Matrix3(L.xVec[0],L.xVec[1],L.xVec[2],L.yVec[0],L.yVec[1],L.yVec[2],L.zVec[0],L.zVec[1],L.zVec[2]);ce.multiplyScalar(L.length),y.modelData=[{symmetries:[],cryst:{matrix:ce}}];var ie=H[5].trim().split(/\s+/),Et=new Int16Array(H[6].trim().split(/\s+/)),zn=H[7].trim(),$l=!1;if(zn.match(/S/)&&($l=!0,zn=H[8].trim()),zn.toLowerCase()[0]=="c")zn="cartesian";else{if(zn.toLowerCase()[0]!="d")return console.log("Warning: Unknown vasp mode in POSCAR file: mode must be either C(artesian) or D(irect)"),y;zn="direct"}if(ie.length!=Et.length)return console.log("Warning: declaration of atomary species wrong:"),console.log(ie),console.log(Et),y;$l?H.splice(0,9):H.splice(0,8);for(var zl=0,Hl=0,Ft=ie.length;Hl<Ft;Hl++){for(var El=ie[Hl],Kl=0,Al=Et[Hl];Kl<Al;Kl++){var vu=new Float32Array(H[zl+Kl].trim().split(/\s+/)),Nl={};Nl.elem=El,zn=="cartesian"?(Nl.x=L.length*vu[0],Nl.y=L.length*vu[1],Nl.z=L.length*vu[2]):(Nl.x=L.length*(vu[0]*L.xVec[0]+vu[1]*L.yVec[0]+vu[2]*L.zVec[0]),Nl.y=L.length*(vu[0]*L.xVec[1]+vu[1]*L.yVec[1]+vu[2]*L.zVec[1]),Nl.z=L.length*(vu[0]*L.xVec[2]+vu[1]*L.yVec[2]+vu[2]*L.zVec[2])),Nl.bonds=[],Nl.bondOrder=[],y[0].push(Nl)}zl+=Et[Hl]}if(G)for(let Xu=0;Xu<y.length;Xu++)(0,c.assignBonds)(y[Xu],w);return y}},834:r=>{r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},848:(r,n,o)=>{o.r(n),o.d(n,{VolumeData:()=>y});var l=o(864),c=o(529),f=o(797),d=o(865),w=o(75);class y{constructor(G,H,ce){if(this.unit={x:1,y:1,z:1},this.origin={x:0,y:0,z:0},this.size={x:0,y:0,z:0},this.data=new Float32Array([]),this.matrix=null,this.inversematrix=null,this.isbinary=new Set(["ccp4","CCP4"]),this.getCoordinates=function(zl){var Hl=zl/(this.size.y*this.size.z),Ft=zl%(this.size.y*this.size.z),El=zl%this.size.z;return Hl*=this.unit.x,Ft*=this.unit.y,El*=this.unit.z,{x:Hl+=this.origin.x,y:Ft+=this.origin.y,z:El+=this.origin.z}},this.vasp=function(zl){var Hl=zl.replace(/^\s+/,"").split(/[\n\r]/),Ft=(0,f.VASP)(zl)[0].length;if(Ft==0)return console.warn("No good formating of CHG or CHGCAR file, not atomic information provided in the file."),void(this.data=[]);var El,Kl=1.889725992,Al=parseFloat(Hl[1]);El=Hl[2].replace(/^\s+/,"").split(/\s+/);var vu=new c.Vector3(parseFloat(El[0]),parseFloat(El[1]),parseFloat(El[2])).multiplyScalar(Al*Kl);El=Hl[3].replace(/^\s+/,"").split(/\s+/);var Nl=new c.Vector3(parseFloat(El[0]),parseFloat(El[1]),parseFloat(El[2])).multiplyScalar(Al*Kl);El=Hl[4].replace(/^\s+/,"").split(/\s+/);var Xu=new c.Vector3(parseFloat(El[0]),parseFloat(El[1]),parseFloat(El[2])).multiplyScalar(Al*Kl),Vu=vu.x*(Nl.y*Xu.z-Xu.y*Nl.z)-Nl.x*(vu.y*Xu.z-Xu.y*vu.z)+Xu.x*(vu.y*Nl.z-Nl.y*vu.z),Zu=1/(Vu=Math.abs(Vu)/Math.pow(Kl,3));Hl.splice(0,8+Ft+1);var Od=Hl[0].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),Id=Math.abs(parseFloat(Od[0])),Bd=Math.abs(parseFloat(Od[1])),Cd=Math.abs(parseFloat(Od[2])),Wl=this.origin=new c.Vector3(0,0,0);this.size={x:Id,y:Bd,z:Cd},this.unit=new c.Vector3(vu.x,Nl.y,Xu.z),vu=vu.multiplyScalar(1/(Kl*Id)),Nl=Nl.multiplyScalar(1/(Kl*Bd)),Xu=Xu.multiplyScalar(1/(Kl*Cd)),vu.y==0&&vu.z==0&&Nl.x==0&&Nl.z==0&&Xu.x==0&&Xu.y==0||(this.matrix=new c.Matrix4(vu.x,Nl.x,Xu.x,0,vu.y,Nl.y,Xu.y,0,vu.z,Nl.z,Xu.z,0,0,0,0,1),this.matrix=this.matrix.multiplyMatrices(this.matrix,new c.Matrix4().makeTranslation(Wl.x,Wl.y,Wl.z)),this.origin=new c.Vector3(0,0,0),this.unit=new c.Vector3(1,1,1)),Hl.splice(0,1);var jd=Hl.join(" "),Md=(jd=jd.replace(/^\s+/,"")).split(/[\s\r]+/);Md.splice(Id*Bd*Cd+1);for(var qu=Float32Array.from(Md,parseFloat),ad=0;ad<qu.length;ad++)qu[ad]=qu[ad]*Zu*.036749309;this.data=qu},this.dx=function(zl){var Hl,Ft=zl.split(/[\n\r]+/),El=/gridpositions\s+counts\s+(\d+)\s+(\d+)\s+(\d+)/,Kl=/^origin\s+(\S+)\s+(\S+)\s+(\S+)/,Al=/^delta\s+(\S+)\s+(\S+)\s+(\S+)/,vu=/data follows/,Nl=0;for(Nl=0;Nl<Ft.length;Nl++){var Xu=Ft[Nl];if(Hl=El.exec(Xu)){var Vu=parseInt(Hl[1]),Zu=parseInt(Hl[2]),Od=parseInt(Hl[3]);this.size={x:Vu,y:Zu,z:Od}}else if(Hl=Al.exec(Xu)){var Id=parseFloat(Hl[1]);if(parseFloat(Hl[2])==0&&parseFloat(Hl[3])==0||console.warn("Non-orthogonal delta matrix not currently supported in dx format"),Xu=Ft[Nl+=1],(Hl=Al.exec(Xu))==null)return void console.error("Parse error in dx delta matrix");var Bd=parseFloat(Hl[2]);if(parseFloat(Hl[1])==0&&parseFloat(Hl[3])==0||console.warn("Non-orthogonal delta matrix not currently supported in dx format"),Xu=Ft[Nl+=1],(Hl=Al.exec(Xu))==null)return void console.error("Parse error in dx delta matrix");var Cd=parseFloat(Hl[3]);parseFloat(Hl[1])==0&&parseFloat(Hl[2])==0||console.warn("Non-orthogonal delta matrix not currently supported in dx format"),this.unit=new c.Vector3(Id,Bd,Cd)}else if(Hl=Kl.exec(Xu)){var Wl=parseFloat(Hl[1]),jd=parseFloat(Hl[2]),Md=parseFloat(Hl[3]);this.origin=new c.Vector3(Wl,jd,Md)}else if(Hl=vu.exec(Xu))break}if(Nl+=1,this.size&&this.origin&&this.unit&&this.size){var qu=Ft.splice(Nl).join(" ").split(/[\s\r]+/);this.data=Float32Array.from(qu,parseFloat)}else console.error("Error parsing dx format")},H=H.toLowerCase(),/\.gz$/.test(H)){H=H.replace(/\.gz$/,"");try{this[H]&&this.isbinary.has(H)?(typeof G=="string"&&(G=(0,l.base64ToArray)(G)),G=(0,w.inflate)(G)):G=new TextDecoder("utf-8").decode((0,w.inflate)(G))}catch(zl){console.error(zl)}}if(this[H]&&(this.isbinary.has(H)&&typeof G=="string"&&(G=(0,l.base64ToArray)(G)),this[H](G)),ce){if(ce.negate)for(let zl=0,Hl=this.data.length;zl<Hl;zl++)this.data[zl]=-this.data[zl];if(ce.normalize){var ie=0;for(let zl=0,Hl=this.data.length;zl<Hl;zl++)ie+=this.data[zl];var Et=ie/this.data.length;ie=0;for(let zl=0,Hl=this.data.length;zl<Hl;zl++){var zn=this.data[zl]-Et;ie+=zn*zn}var $l=ie/this.data.length;for(let zl=0,Hl=this.data.length;zl<Hl;zl++)this.data[zl]=(this.data[zl]-Et)/$l}}}getIndex(G,H,ce){if(this.matrix){this.inversematrix==null&&(this.inversematrix=new c.Matrix4().getInverse(this.matrix));var ie=new c.Vector3(G,H,ce);G=(ie=ie.applyMatrix4(this.inversematrix)).x,H=ie.y,ce=ie.z}else G-=this.origin.x,H-=this.origin.y,ce-=this.origin.z,G/=this.unit.x,H/=this.unit.y,ce/=this.unit.z;return G=Math.round(G),H=Math.round(H),ce=Math.round(ce),G<0||G>=this.size.x||H<0||H>=this.size.y||ce<0||ce>=this.size.z?-1:G*this.size.y*this.size.z+H*this.size.z+ce}getVal(G,H,ce){let ie=this.getIndex(G,H,ce);return ie<0?0:this.data[ie]}cube(G){var H=G.split(/\r?\n/);if(!(H.length<6)){var ce=(0,d.CUBE)(G,{}).modelData[0].cryst,ie=H[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),Et=parseFloat(ie[0]),zn=Math.abs(Et);this.origin=ce.origin,this.size=ce.size,this.unit=ce.unit,this.matrix=ce.matrix4;var $l=6;Et<0&&$l++;var zl=H.splice(zn+$l).join(" "),Hl=(zl=zl.replace(/^\s+/,"")).split(/[\s\r]+/);this.data=Float32Array.from(Hl,parseFloat)}}ccp4(G){var H={};G=new Int8Array(G);var ce=new Int32Array(G.buffer,0,56),ie=new Float32Array(G.buffer,0,56),Et=new DataView(G.buffer);if(H.MAP=String.fromCharCode(Et.getUint8(208),Et.getUint8(209),Et.getUint8(210),Et.getUint8(211)),H.MACHST=[Et.getUint8(212),Et.getUint8(213)],H.MACHST[0]===17&&H.MACHST[1]===17)for(var zn=G.byteLength,$l=0;$l<zn;$l+=4)Et.setFloat32($l,Et.getFloat32($l),!0);H.NX=ce[0],H.NY=ce[1],H.NZ=ce[2],H.MODE=ce[3],H.NXSTART=ce[4],H.NYSTART=ce[5],H.NZSTART=ce[6],H.MX=ce[7],H.MY=ce[8],H.MZ=ce[9],H.xlen=ie[10],H.ylen=ie[11],H.zlen=ie[12],H.alpha=ie[13],H.beta=ie[14],H.gamma=ie[15],H.MAPC=ce[16],H.MAPR=ce[17],H.MAPS=ce[18],H.DMIN=ie[19],H.DMAX=ie[20],H.DMEAN=ie[21],H.ISPG=ce[22],H.NSYMBT=ce[23],H.LSKFLG=ce[24],H.originX=ie[49],H.originY=ie[50],H.originZ=ie[51],H.ARMS=ie[54];var zl=H,Hl=[zl.xlen,0,0],Ft=[zl.ylen*Math.cos(Math.PI/180*zl.gamma),zl.ylen*Math.sin(Math.PI/180*zl.gamma),0],El=[zl.zlen*Math.cos(Math.PI/180*zl.beta),zl.zlen*(Math.cos(Math.PI/180*zl.alpha)-Math.cos(Math.PI/180*zl.gamma)*Math.cos(Math.PI/180*zl.beta))/Math.sin(Math.PI/180*zl.gamma),0];El[2]=Math.sqrt(zl.zlen*zl.zlen*Math.sin(Math.PI/180*zl.beta)*Math.sin(Math.PI/180*zl.beta)-El[1]*El[1]);var Kl=[0,Hl,Ft,El],Al=[0,zl.MX,zl.MY,zl.MZ],vu=[0,zl.MAPC,zl.MAPR,zl.MAPS];this.matrix=new c.Matrix4,this.matrix.set(Kl[vu[1]][0]/Al[vu[1]],Kl[vu[2]][0]/Al[vu[2]],Kl[vu[3]][0]/Al[vu[3]],0,Kl[vu[1]][1]/Al[vu[1]],Kl[vu[2]][1]/Al[vu[2]],Kl[vu[3]][1]/Al[vu[3]],0,Kl[vu[1]][2]/Al[vu[1]],Kl[vu[2]][2]/Al[vu[2]],Kl[vu[3]][2]/Al[vu[3]],0,0,0,0,1),this.matrix=this.matrix.multiplyMatrices(this.matrix,new c.Matrix4().makeTranslation(zl.NXSTART+zl.originX,zl.NYSTART+zl.originY,zl.NZSTART+zl.originZ)),this.origin=new c.Vector3(0,0,0),this.unit=new c.Vector3(1,1,1),this.size={x:H.NX,y:H.NY,z:H.NZ},this.dimensionorder=[H.MAPC,H.MAPR,H.MAPS];var Nl=new Float32Array(G.buffer,1024+H.NSYMBT),Xu=H.NX,Vu=H.NY,Zu=H.NZ;this.data=new Float32Array(Xu*Vu*Zu);for(let Od=0;Od<Xu;Od++)for(let Id=0;Id<Vu;Id++)for(let Bd=0;Bd<Zu;Bd++)this.data[(Od*Vu+Id)*Zu+Bd]=Nl[(Bd*Vu+Id)*Xu+Od]}}},864:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{PausableTimer:()=>PausableTimer,adjustVolumeStyle:()=>adjustVolumeStyle,base64ToArray:()=>base64ToArray,deepCopy:()=>deepCopy,download:()=>download,extend:()=>extend,get:()=>get,getAtomProperty:()=>getAtomProperty,getColorFromStyle:()=>getColorFromStyle,getElement:()=>getElement,getExtent:()=>getExtent,getPropertyRange:()=>getPropertyRange,getbin:()=>getbin,inflateString:()=>inflateString,isEmptyObject:()=>isEmptyObject,isNumeric:()=>isNumeric,makeFunction:()=>makeFunction,mergeGeos:()=>mergeGeos,specStringToObject:()=>specStringToObject});var _Gradient__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(546),_VolumeData__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(848),_colors__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(222),pako__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(75);function extend(r,n){for(var o in n)n.hasOwnProperty(o)&&n[o]!==void 0&&(r[o]=n[o]);return r}function deepCopy(r){let n,o,l;if(r==null)return{};if(typeof r!="object"||r===null)return r;for(l in n=Array.isArray(r)?[]:{},r)o=r[l],n[l]=deepCopy(o);return n}function isNumeric(r){var n=typeof r;return(n==="number"||n==="string")&&!isNaN(r-parseFloat(r))}function isEmptyObject(r){return Object.keys(r).length===0}function makeFunction(callback){return callback&&typeof callback=="string"&&(callback=eval("("+callback+")")),callback&&typeof callback!="function"?(console.warn("Invalid callback provided."),()=>{}):callback}function adjustVolumeStyle(r){r&&(!r.volformat||r.voldata instanceof _VolumeData__WEBPACK_IMPORTED_MODULE_1__.VolumeData||(r.voldata=new _VolumeData__WEBPACK_IMPORTED_MODULE_1__.VolumeData(r.voldata,r.volformat)),r.volscheme&&(r.volscheme=_Gradient__WEBPACK_IMPORTED_MODULE_0__.Gradient.getGradient(r.volscheme)))}function getExtent(r,n){var o,l,c,f,d,w,y,L,G,H,ce=!n;if(o=l=c=9999,f=d=w=-9999,y=L=G=H=0,r.length===0)return[[0,0,0],[0,0,0],[0,0,0]];for(var ie=0;ie<r.length;ie++){var Et=r[ie];if(Et!==void 0&&isFinite(Et.x)&&isFinite(Et.y)&&isFinite(Et.z)&&(H++,y+=Et.x,L+=Et.y,G+=Et.z,o=o<Et.x?o:Et.x,l=l<Et.y?l:Et.y,c=c<Et.z?c:Et.z,f=f>Et.x?f:Et.x,d=d>Et.y?d:Et.y,w=w>Et.z?w:Et.z,Et.symmetries&&ce))for(var zn=0;zn<Et.symmetries.length;zn++)H++,y+=Et.symmetries[zn].x,L+=Et.symmetries[zn].y,G+=Et.symmetries[zn].z,o=o<Et.symmetries[zn].x?o:Et.symmetries[zn].x,l=l<Et.symmetries[zn].y?l:Et.symmetries[zn].y,c=c<Et.symmetries[zn].z?c:Et.symmetries[zn].z,f=f>Et.symmetries[zn].x?f:Et.symmetries[zn].x,d=d>Et.symmetries[zn].y?d:Et.symmetries[zn].y,w=w>Et.symmetries[zn].z?w:Et.symmetries[zn].z}return[[o,l,c],[f,d,w],[y/H,L/H,G/H]]}function getPropertyRange(r,n){for(var o=Number.POSITIVE_INFINITY,l=Number.NEGATIVE_INFINITY,c=0,f=r.length;c<f;c++){var d=getAtomProperty(r[c],n);d!=null&&(d<o&&(o=d),d>l&&(l=d))}return isFinite(o)||isFinite(l)?isFinite(o)?isFinite(l)||(l=o):o=l:o=l=0,[o,l]}class PausableTimer{constructor(n,o,l){this.total_time_run=0,this.fn=n,this.arg=l,this.countdown=o,this.start_time=new Date().getTime(),this.ident=setTimeout(n,o,l)}cancel(){clearTimeout(this.ident)}pause(){clearTimeout(this.ident),this.total_time_run=new Date().getTime()-this.start_time}resume(){this.ident=setTimeout(this.fn,Math.max(0,this.countdown-this.total_time_run),this.arg)}}function base64ToArray(r){for(var n=window.atob(r),o=n.length,l=new Uint8Array(o),c=0;c<o;c++)l[c]=n.charCodeAt(c);return l}function getAtomProperty(r,n){var o=null;return r.properties&&r.properties[n]!==void 0?o=r.properties[n]:r[n]!==void 0&&(o=r[n]),o}function mergeGeos(r,n){var o=n.geometry;o!==void 0&&r.geometryGroups.push(o.geometryGroups[0])}function specStringToObject(r){if(typeof r=="object"||r===void 0||r==null)return r;try{return JSON.parse(r)}catch{}var n=function(ce){return isNumeric(ce)?Math.floor(parseFloat(ce))==parseInt(ce)||ce.indexOf(".")>=0?parseFloat(ce):parseInt(ce):ce==="true"||ce!=="false"&&ce},o={};if((r=r.replace(/%7E/g,"~"))==="all")return o;for(var l=r.split(";"),c=0;c<l.length;c++){var f=l[c].split(":"),d=f[0],w={},y=f[1];if(y)if((y=y.replace(/~/g,"=")).indexOf("=")!==-1)for(var L=y.split(","),G=0;G<L.length;G++){var H=L[G].split("=",2);w[H[0]]=n(H[1])}else w=y.indexOf(",")!==-1?y.split(","):n(y);o[d]=w}return o}function checkStatus(r){if(!r.ok)throw new Error(`HTTP ${r.status} - ${r.statusText}`);return r}function get(r,n){var o=fetch(r).then(checkStatus).then(l=>l.text());return n?o.then(n):o}function getbin(r,n,o,l){var c;return c=o=="POST"?fetch(r,{method:"POST",body:l}).then(f=>checkStatus(f)).then(f=>f.arrayBuffer()):fetch(r).then(f=>checkStatus(f)).then(f=>f.arrayBuffer()),n?c.then(n):c}function download(r,n,o,l){var c="",f="",d="",w=null,y=n.addModel();if(r.indexOf(":")<0&&(r=r.length==4?"pdb:"+r:isNaN(r)?"url:"+r:"cid:"+r),r.substring(0,5)=="mmtf:"&&(console.warn("WARNING: MMTF now deprecated.  Reverting to bcif."),r="bcif:"+r.slice(5)),r.substring(0,5)==="bcif:")r=r.substring(5).toUpperCase(),d="https://models.rcsb.org/"+r+".bcif.gz",o&&o.noComputeSecondaryStructure===void 0&&(o.noComputeSecondaryStructure=!0),w=new Promise(function(G){getbin(d).then(function(H){y.addMolData(H,"bcif.gz",o),n.zoomTo(),n.render(),G(y)},function(){console.error("fetch of "+d+" failed.")})});else{if(r.substring(0,4)==="pdb:"){if(c="bcif",o&&o.format&&(c=o.format),o&&o.noComputeSecondaryStructure===void 0&&(o.noComputeSecondaryStructure=!0),!(r=r.substring(4).toUpperCase()).match(/^[1-9][A-Za-z0-9]{3}$/))return void alert("Wrong PDB ID");c=="bcif"?d="https://models.rcsb.org/"+r.toUpperCase()+".bcif.gz":(f=o&&o.pdbUri?o.pdbUri:"https://files.rcsb.org/view/",d=f+r+"."+c)}else if(r.substring(0,4)=="cid:"){if(c="sdf",!(r=r.substring(4)).match(/^[0-9]+$/))return void alert("Wrong Compound ID");d="https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+r+"/SDF?record_type=3d"}else r.substring(0,4)=="url:"&&(d=r.substring(4),c=d);var L=function(G){y.addMolData(G,c,o),n.zoomTo(),n.render()};w=new Promise(function(G){c=="bcif"?getbin(d).then(function(H){L(H),G(y)}).catch(function(){f=o&&o.pdbUri?o.pdbUri:"https://files.rcsb.org/view/",d=f+r+".pdb",c="pdb",console.warn("falling back to pdb format"),get(d).then(function(H){L(H),G(y)}).catch(function(H){L(""),G(y),console.error("fetch of "+d+" failed: "+H.statusText)})}):get(d).then(function(H){L(H),G(y)}).catch(function(H){L(""),G(y),console.error("fetch of "+d+" failed: "+H.statusText)})})}return l?(w.then(function(G){l(G)}),y):w}function getColorFromStyle(r,n){let o=n.colorscheme;if(_colors__WEBPACK_IMPORTED_MODULE_2__.builtinColorSchemes[o]!==void 0)o=_colors__WEBPACK_IMPORTED_MODULE_2__.builtinColorSchemes[o];else if(typeof o=="string"&&o.endsWith("Carbon")){let f=o.substring(0,o.lastIndexOf("Carbon")).toLowerCase();if(_colors__WEBPACK_IMPORTED_MODULE_2__.htmlColors[f]!==void 0){let d=Object.assign({},_colors__WEBPACK_IMPORTED_MODULE_2__.elementColors.defaultColors);d.C=_colors__WEBPACK_IMPORTED_MODULE_2__.htmlColors[f],_colors__WEBPACK_IMPORTED_MODULE_2__.builtinColorSchemes[o]={prop:"elem",map:d},o=_colors__WEBPACK_IMPORTED_MODULE_2__.builtinColorSchemes[o]}}let l=r.color;if(n.color!==void 0&&n.color!="spectrum"&&(l=n.color),o!==void 0){let f,d;if(_colors__WEBPACK_IMPORTED_MODULE_2__.elementColors[o]!==void 0)o=_colors__WEBPACK_IMPORTED_MODULE_2__.elementColors[o],o[r[o.prop]]!==void 0&&(l=o.map[r[o.prop]]);else if(o[r[o.prop]]!==void 0)l=o.map[r[o.prop]];else if(o.prop!==void 0&&o.gradient!==void 0){f=o.prop;var c=o.gradient;c instanceof _Gradient__WEBPACK_IMPORTED_MODULE_0__.GradientType||(c=(0,_Gradient__WEBPACK_IMPORTED_MODULE_0__.getGradient)(o));let w=c.range()||[-1,1];d=getAtomProperty(r,f),d!=null&&(l=c.valueToHex(d,w))}else o.prop!==void 0&&o.map!==void 0?(f=o.prop,d=getAtomProperty(r,f),o.map[d]!==void 0&&(l=o.map[d])):n.colorscheme[r.elem]!==void 0?l=n.colorscheme[r.elem]:console.warn("Could not interpret colorscheme "+o)}else n.colorfunc!==void 0&&(l=n.colorfunc(r));return _colors__WEBPACK_IMPORTED_MODULE_2__.CC.color(l)}function getElement(r){let n=r;return typeof r=="string"?n=document.querySelector("#"+r):typeof r=="object"&&r.get&&(n=r.get(0)),n}function inflateString(r,n=!0){let o;return o=typeof r=="string"?new TextEncoder().encode(r):new Uint8Array(r),(0,pako__WEBPACK_IMPORTED_MODULE_3__.inflate)(o,{to:n?"string":null})}},865:(r,n,o)=>{o.r(n),o.d(n,{CUBE:()=>d});var l=o(378),c=o(392);const f={1:"H",2:"He",3:"Li",4:"Be",5:"B",6:"C",7:"N",8:"O",9:"F",10:"Ne",11:"Na",12:"Mg",13:"Al",14:"Si",15:"P",16:"S",17:"Cl",18:"Ar",19:"K",20:"Ca",21:"Sc",22:"Ti",23:"V",24:"Cr",25:"Mn",26:"Fe",27:"Co",28:"Ni",29:"Cu",30:"Zn",31:"Ga",32:"Ge",33:"As",34:"Se",35:"Br",36:"Kr",37:"Rb",38:"Sr",39:"Y",40:"Zr",41:"Nb",42:"Mo",43:"Tc",44:"Ru",45:"Rh",46:"Pd",47:"Ag",48:"Cd",49:"In",50:"Sn",51:"Sb",52:"Te",53:"I",54:"Xe",55:"Cs",56:"Ba",71:"Lu",72:"Hf",73:"Ta",74:"W",75:"Re",76:"Os",77:"Ir",78:"Pt",79:"Au",80:"Hg",81:"Tl",82:"Pb",83:"Bi",84:"Po",85:"At",86:"Rn",87:"Fr",88:"Ra",104:"Rf",105:"Db",106:"Sg",107:"Bh",108:"Hs",109:"Mt",110:"Ds",111:"Rg",112:"Cn",113:"Nh",114:"Fl",115:"Mc",116:"Lv",117:"Ts",118:"Og",57:"La",58:"Ce",59:"Pr",60:"Nd",61:"Pm",62:"Sm",63:"Eu",64:"Gd",65:"Tb",66:"Dy",67:"Ho",68:"Er",69:"Tm",70:"Yb",89:"Ac",90:"Th",91:"Pa",92:"U",93:"Np",94:"Pu",95:"Am",96:"Cm",97:"Bk",98:"Cf",99:"Es",100:"Fm",101:"Md",102:"No"};function d(w,y){y=y||{};const L=[[]];let G=w.split(/\r?\n/);const H=y.assignBonds===void 0||y.assignBonds;if(G.length<6)return L;let ce=G[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");const ie=Math.abs(parseFloat(ce[0]));let Et={origin:void 0,size:void 0,unit:void 0,matrix4:void 0,matrix:void 0};const zn=Et.origin=new l.Vector3(parseFloat(ce[1]),parseFloat(ce[2]),parseFloat(ce[3]));ce=G[3].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),ce=G[3].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");const $l=ce[0]>0?.529177:1;zn.multiplyScalar($l);const zl=Math.abs(ce[0]),Hl=new l.Vector3(parseFloat(ce[1]),parseFloat(ce[2]),parseFloat(ce[3])).multiplyScalar($l);ce=G[4].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");const Ft=Math.abs(ce[0]),El=new l.Vector3(parseFloat(ce[1]),parseFloat(ce[2]),parseFloat(ce[3])).multiplyScalar($l);ce=G[5].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");const Kl=Math.abs(ce[0]),Al=new l.Vector3(parseFloat(ce[1]),parseFloat(ce[2]),parseFloat(ce[3])).multiplyScalar($l);if(Et.size={x:zl,y:Ft,z:Kl},Et.unit=new l.Vector3(Hl.x,El.y,Al.z),Hl.y!=0||Hl.z!=0||El.x!=0||El.z!=0||Al.x!=0||Al.y!=0){Et.matrix4=new l.Matrix4(Hl.x,El.x,Al.x,0,Hl.y,El.y,Al.y,0,Hl.z,El.z,Al.z,0,0,0,0,1);let Od=new l.Matrix4().makeTranslation(zn.x,zn.y,zn.z);Et.matrix4=Et.matrix4.multiplyMatrices(Od,Et.matrix4),Et.matrix=Et.matrix4.matrix3FromTopLeft(),Et.origin=new l.Vector3(0,0,0),Et.unit=new l.Vector3(1,1,1)}L.modelData=[{cryst:Et}],G=G.splice(6,ie);for(var vu=L[L.length-1].length,Nl=vu+G.length,Xu=vu;Xu<Nl;++Xu){var Vu={};Vu.serial=Xu;var Zu=G[Xu-vu].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");Vu.elem=f[Zu[0]],Vu.x=parseFloat(Zu[2])*$l,Vu.y=parseFloat(Zu[3])*$l,Vu.z=parseFloat(Zu[4])*$l,Vu.hetflag=!0,Vu.bonds=[],Vu.bondOrder=[],Vu.properties={},L[L.length-1].push(Vu)}if(H)for(let Od=0;Od<L.length;Od++)(0,c.assignBonds)(L[Od],y);return L}},972:(r,n,o)=>{var l=o(981),c=!0,f=!0;try{String.fromCharCode.apply(null,[0])}catch{c=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{f=!1}for(var d=new l.Buf8(256),w=0;w<256;w++)d[w]=w>=252?6:w>=248?5:w>=240?4:w>=224?3:w>=192?2:1;function y(L,G){if(G<65534&&(L.subarray&&f||!L.subarray&&c))return String.fromCharCode.apply(null,l.shrinkBuf(L,G));for(var H="",ce=0;ce<G;ce++)H+=String.fromCharCode(L[ce]);return H}d[254]=d[254]=1,n.string2buf=function(L){var G,H,ce,ie,Et,zn=L.length,$l=0;for(ie=0;ie<zn;ie++)(64512&(H=L.charCodeAt(ie)))==55296&&ie+1<zn&&(64512&(ce=L.charCodeAt(ie+1)))==56320&&(H=65536+(H-55296<<10)+(ce-56320),ie++),$l+=H<128?1:H<2048?2:H<65536?3:4;for(G=new l.Buf8($l),Et=0,ie=0;Et<$l;ie++)(64512&(H=L.charCodeAt(ie)))==55296&&ie+1<zn&&(64512&(ce=L.charCodeAt(ie+1)))==56320&&(H=65536+(H-55296<<10)+(ce-56320),ie++),H<128?G[Et++]=H:H<2048?(G[Et++]=192|H>>>6,G[Et++]=128|63&H):H<65536?(G[Et++]=224|H>>>12,G[Et++]=128|H>>>6&63,G[Et++]=128|63&H):(G[Et++]=240|H>>>18,G[Et++]=128|H>>>12&63,G[Et++]=128|H>>>6&63,G[Et++]=128|63&H);return G},n.buf2binstring=function(L){return y(L,L.length)},n.binstring2buf=function(L){for(var G=new l.Buf8(L.length),H=0,ce=G.length;H<ce;H++)G[H]=L.charCodeAt(H);return G},n.buf2string=function(L,G){var H,ce,ie,Et,zn=G||L.length,$l=new Array(2*zn);for(ce=0,H=0;H<zn;)if((ie=L[H++])<128)$l[ce++]=ie;else if((Et=d[ie])>4)$l[ce++]=65533,H+=Et-1;else{for(ie&=Et===2?31:Et===3?15:7;Et>1&&H<zn;)ie=ie<<6|63&L[H++],Et--;Et>1?$l[ce++]=65533:ie<65536?$l[ce++]=ie:(ie-=65536,$l[ce++]=55296|ie>>10&1023,$l[ce++]=56320|1023&ie)}return y($l,ce)},n.utf8border=function(L,G){var H;for((G=G||L.length)>L.length&&(G=L.length),H=G-1;H>=0&&(192&L[H])==128;)H--;return H<0||H===0?G:H+d[L[H]]>G?H:G}},981:(r,n)=>{var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function l(d,w){return Object.prototype.hasOwnProperty.call(d,w)}n.assign=function(d){for(var w=Array.prototype.slice.call(arguments,1);w.length;){var y=w.shift();if(y){if(typeof y!="object")throw new TypeError(y+"must be non-object");for(var L in y)l(y,L)&&(d[L]=y[L])}}return d},n.shrinkBuf=function(d,w){return d.length===w?d:d.subarray?d.subarray(0,w):(d.length=w,d)};var c={arraySet:function(d,w,y,L,G){if(w.subarray&&d.subarray)d.set(w.subarray(y,y+L),G);else for(var H=0;H<L;H++)d[G+H]=w[y+H]},flattenChunks:function(d){var w,y,L,G,H,ce;for(L=0,w=0,y=d.length;w<y;w++)L+=d[w].length;for(ce=new Uint8Array(L),G=0,w=0,y=d.length;w<y;w++)H=d[w],ce.set(H,G),G+=H.length;return ce}},f={arraySet:function(d,w,y,L,G){for(var H=0;H<L;H++)d[G+H]=w[y+H]},flattenChunks:function(d){return[].concat.apply([],d)}};n.setTyped=function(d){d?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,c)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,f))},n.setTyped(o)}},__webpack_module_cache__={};function __webpack_require__(r){var n=__webpack_module_cache__[r];if(n!==void 0)return n.exports;var o=__webpack_module_cache__[r]={exports:{}};return __webpack_modules__[r].call(o.exports,o,o.exports,__webpack_require__),o.exports}__webpack_require__.d=(r,n)=>{for(var o in n)__webpack_require__.o(n,o)&&!__webpack_require__.o(r,o)&&Object.defineProperty(r,o,{enumerable:!0,get:n[o]})},__webpack_require__.o=(r,n)=>Object.prototype.hasOwnProperty.call(r,n),__webpack_require__.r=r=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},__webpack_require__(16),__webpack_require__(185);var __webpack_exports__=__webpack_require__(307);return __webpack_exports__})(),module.exports=factory()})(_3DmolMin)),_3DmolMin.exports}require_3DmolMin();const covalentRadii={H:.31,He:.28,Li:1.28,Be:.96,B:.84,C:.76,N:.71,O:.66,F:.57,Ne:.58,Na:1.66,Mg:1.41,Al:1.21,Si:1.11,P:1.07,S:1.05,Cl:1.02,Ar:1.06,K:2.03,Ca:1.76,Sc:1.7,Ti:1.6,V:1.53,Cr:1.39,Mn:1.61,Fe:1.52,Co:1.5,Ni:1.24,Cu:1.32,Zn:1.22,Ga:1.22,Ge:1.2,As:1.19,Se:1.2,Br:1.2,Kr:1.16,Rb:2.2,Sr:1.95,Y:1.9,Zr:1.75,Nb:1.64,Mo:1.54,Tc:1.47,Ru:1.46,Rh:1.42,Pd:1.39,Ag:1.45,Cd:1.44,In:1.42,Sn:1.39,Sb:1.39,Te:1.38,I:1.39,Xe:1.4,Cs:2.44,Ba:2.15,La:2.07,Ce:2.04,Pr:2.03,Nd:2.01,Pm:1.99,Sm:1.98,Eu:1.98,Gd:1.96,Tb:1.94,Dy:1.92,Ho:1.92,Er:1.89,Tm:1.9,Yb:1.87,Lu:1.75,Hf:1.87,Ta:1.7,W:1.62,Re:1.51,Os:1.44,Ir:1.41,Pt:1.36,Au:1.36,Hg:1.32,Tl:1.45,Pb:1.46,Bi:1.48,Po:1.4,At:1.5,Rn:1.5,Fr:2.6,Ra:2.21,Ac:2.15,Th:2.06,Pa:2,U:1.96,Np:1.9,Pu:1.87,Am:1.8,Cm:1.69},$3Dmol$1=window.$3Dmol;function mod(r,n){return(r%n+n)%n}function setCustomBondLengths(){function r(n,o){$3Dmol$1.setBondLength(n,o)}Object.keys(covalentRadii).forEach(n=>{r(n,1.05*covalentRadii[n])})}const Visualizer3dmol=reactExports.forwardRef(({viewerParams:r,cifText:n},o)=>{const l=reactExports.useRef(null),c=reactExports.useRef(null),f=reactExports.useRef("gldiv-"+(Math.random()+1).toString(36).substring(7));reactExports.useEffect(()=>{setCustomBondLengths()},[]);const d=()=>{if(c.current=l.current.addModel(),n){let L=$3Dmol$1.Parsers.CIF(n),G=L[0],H=L.modelData[0].cryst;c.current.setCrystData(H.a,H.b,H.c,H.alpha,H.beta,H.gamma);let ce=c.current.modelData.cryst.matrix,ie=new $3Dmol$1.Matrix3().getInverse3(ce),Et=[],zn=[];G.forEach(Hl=>{let Ft=new $3Dmol$1.Vector3(Hl.x,Hl.y,Hl.z);if(r.packedCell){let El=Ft.clone().applyMatrix3(ie);Ft=new $3Dmol$1.Vector3(mod(El.x,1),mod(El.y,1),mod(El.z,1)).applyMatrix3(ce)}zn.push({elem:Hl.elem,x:Ft.x,y:Ft.y,z:Ft.z})});let $l=.03,zl=r.supercell;for(let Hl=-1;Hl<zl[0]+1;Hl++)for(let Ft=-1;Ft<zl[1]+1;Ft++)for(let El=-1;El<zl[2]+1;El++){let Kl=new $3Dmol$1.Vector3(Hl,Ft,El);if(Kl.applyMatrix3(ce),Hl==-1||Hl==zl[0]||Ft==-1||Ft==zl[1]||El==-1||El==zl[2])if(r.packedCell)zn.forEach(Al=>{let vu=new $3Dmol$1.Vector3(Al.x,Al.y,Al.z);vu.add(Kl);let Nl=vu.clone().applyMatrix3(ie);Nl.x>-$l&&Nl.x<zl[0]+$l&&Nl.y>-$l&&Nl.y<zl[1]+$l&&Nl.z>-$l&&Nl.z<zl[2]+$l&&Et.push({elem:Al.elem,x:vu.x,y:vu.y,z:vu.z})});else continue;else zn.forEach(Al=>{Et.push({elem:Al.elem,x:Al.x+Kl.x,y:Al.y+Kl.y,z:Al.z+Kl.z})})}c.current.addAtoms(Et)}},w=()=>{l.current.removeAllModels(),d();let L={sphere:{scale:.3,colorscheme:"Jmol"}};r.vdwRadius&&(L.sphere.scale=1),r.bonds&&(L.stick={radius:.15,colorscheme:"Jmol"}),l.current.setStyle(L),l.current.addUnitCell(c.current),c.current.assignBonds(),l.current.removeAllLabels(),r.atomLabels&&c.current.atoms.forEach(G=>{l.current.addLabel(G.elem,{position:{x:G.x,y:G.y,z:G.z},fontColor:"black",bold:!0,fontSize:18,showBackground:!1,backgroundOpacity:1,inFront:!0},null,!0)}),l.current.zoomTo(),l.current.zoom(1.4),l.current.render()},y=(L,G)=>{L=="camera"&&(G=="x"&&l.current.setView([0,0,0,0,-.5,-.5,-.5,.5]),G=="y"&&l.current.setView([0,0,0,0,.5,.5,.5,.5]),G=="z"&&l.current.setView([0,0,0,0,0,0,0,1]),l.current.zoomTo(),l.current.zoom(1.4))};return reactExports.useImperativeHandle(o,()=>({handleEvent:y})),reactExports.useEffect(()=>{let L={backgroundColor:"white",orthographic:!0};l.current=$3Dmol$1.createViewer(f.current,L),w()},[]),reactExports.useEffect(()=>{l.current&&w()},[r,n]),jsxRuntimeExports.jsx("div",{id:f.current,className:"gldiv",children:"No data!"})});Visualizer3dmol.displayName="Visualizer3dmol";const StructureWindow=({mouseEnabled:r,setMouseEnabledState:n,visualizerRef:o,viewerParams:l,cifText:c})=>{let f="structure-window";r||(f+=" disable-mouse");let d="Click to interact",w="mouse-disabled-note";return r&&(w="mouse-disabled-note on"),jsxRuntimeExports.jsxs("div",{className:"structure-window-outer",children:[jsxRuntimeExports.jsx("div",{className:"structure-window-click-handler",onClick:()=>n(!0),children:jsxRuntimeExports.jsx("div",{className:f,children:jsxRuntimeExports.jsx(Visualizer3dmol,{ref:o,viewerParams:l,cifText:c})})}),jsxRuntimeExports.jsx("div",{className:w,onClick:()=>n(!r),children:d})]})},StructureVisualizer=r=>{const[n,o]=reactExports.useState({supercell:r.initSupercell||[2,2,2],bonds:!0,packedCell:!0,atomLabels:!1,vdwRadius:!1}),[l,c]=reactExports.useState(!1),f=reactExports.useRef(null),d=reactExports.useRef(null);reactExports.useEffect(()=>{const G=H=>{d&&!d.current.contains(H.target)&&c(!1)};return document.addEventListener("mousedown",G),()=>{document.removeEventListener("mousedown",G)}},[]);const w=G=>{c(G)},y=(G,H)=>{o(ce=>({...ce,[G]:H}))},L=(G,H)=>{f.current.handleEvent(G,H)};return jsxRuntimeExports.jsxs("div",{ref:d,className:"structure-visualizer",children:[jsxRuntimeExports.jsx(StructureWindow,{visualizerRef:f,viewerParams:n,cifText:r.cifText,mouseEnabled:l,setMouseEnabledState:w}),jsxRuntimeExports.jsx(ControlBox,{viewerParams:n,onViewerParamChange:y,onViewerEvent:L})]})},MCInfoBox=({children:r,style:n=null})=>jsxRuntimeExports.jsx("div",{style:n,children:jsxRuntimeExports.jsx("div",{className:"mc-info-container subsection-shadow overflow-auto rounded",children:r})}),IcsdLogo="/assets/icsd-CyAoXolo.png",CodLogo="/assets/cod-C-fmIdgX.png",MpdsLogo="/assets/mpds-CkkCkplF.png";function sourceUrl(r){return r.database=="MPDS"?`https://mpds.io/#entry/${r.id}`:r.database=="COD"?`http://www.crystallography.net/cod/${r.id}.html`:r.database=="ICSD"?`https://icsd.fiz-karlsruhe.de/linkicsd.xhtml?coll_code=${r.id}`:null}const SourceInfoText=({source:r,metadata:n})=>{if(!("info"in r))return console.warn("source['info'] not present."),null;if(!("info"in n))return console.warn("metadata['info'] not present."),null;let o=[],l=[],c=n?.info?.source?.high_pressure_threshold,f=n?.info?.source?.high_temperature_threshold;r?.info?.is_theoretical&&(o.push("theoretical origin"),l.push("is of theoretical origin")),r?.info?.is_high_pressure&&c&&(o.push("high pressure"),l.push(`was characterized at a pressure higher than ${c.value} ${c.unit}`)),r?.info?.is_high_temperature&&f&&(o.push("high temperature"),l.push(`was characterized at a temperature higher than ${f.value} ${f.unit}`));let d="";if(o.length>0&&(d=o.join("; "),d=`(${d})`),d=="")return null;for(let y=0;y<l.length;y++)y<l.length-1?l[y]=l[y]+";":l[y]=l[y]+".";const w=jsxRuntimeExports.jsx(Popover$1,{id:"popover-basic",children:jsxRuntimeExports.jsxs(Popover$1.Body,{children:["The source database reported that the source crystal",jsxRuntimeExports.jsx("ul",{style:{margin:"0"},children:l.map(y=>jsxRuntimeExports.jsx("li",{children:y},y))})]})});return jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"5px",marginLeft:"10px",alignItems:"center"},children:[d,jsxRuntimeExports.jsx("div",{style:{width:"20px",height:"20px",fontSize:"14px"},children:jsxRuntimeExports.jsx(Eu,{popover:w,placement:"top"})})]})};function SourceInfo({sources:r,metadata:n}){const o=r[0];return jsxRuntimeExports.jsx("ul",{className:"no-bullets",children:r.map(l=>{let c=null;return l.database=="ICSD"&&(c=IcsdLogo),l.database=="COD"&&(c=CodLogo),l.database=="MPDS"&&(c=MpdsLogo),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("a",{className:"source-a",href:sourceUrl(l),title:"Go to source data",children:jsxRuntimeExports.jsxs("div",{style:{display:"inline-flex",gap:"5px",alignItems:"center"},children:[jsxRuntimeExports.jsx("img",{src:c,style:{height:"20px"}}),l.database," ID: ",l.id]})}),jsxRuntimeExports.jsx(SourceInfoText,{source:o,metadata:n})]},l.id)})})}function GeneralInfoBox({details:r,metadata:n,methodLabel:o}){return jsxRuntimeExports.jsxs(MCInfoBox,{style:{height:"450px"},children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("b",{children:"Info"}),jsxRuntimeExports.jsxs("ul",{className:"no-bullets",children:[jsxRuntimeExports.jsxs("li",{children:["Formula (IUPAC): ",Cu(r.general.formula)]}),jsxRuntimeExports.jsxs("li",{children:["Hill formula (full):"," ",Cu(r.general.formula_hill)]}),jsxRuntimeExports.jsxs("li",{children:["Bravais lattice: ",r.general.bravais_lattice]}),jsxRuntimeExports.jsxs("li",{children:["Space group symbol:"," ",Tu(r.general.spacegroup_international)]}),jsxRuntimeExports.jsxs("li",{children:["Space group number: ",r.general.spacegroup_number]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("b",{children:"Source"}),jsxRuntimeExports.jsx(SourceInfo,{sources:r.source,metadata:n})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("b",{children:"Properties"}),jsxRuntimeExports.jsxs("ul",{className:"no-bullets",children:[jsxRuntimeExports.jsxs("li",{children:["Total energy:"," ",format_aiida_prop(r.properties.total_energy,n.info.properties.total_energy,o,2)]}),jsxRuntimeExports.jsxs("li",{children:["Density:"," ",ku.calculateDensity(r.general.formula_hill,r.properties.cell_volume)," ","kg/m",jsxRuntimeExports.jsx("sup",{children:"3"})]}),jsxRuntimeExports.jsxs("li",{children:["Cell volume:"," ",format_aiida_prop(r.properties.cell_volume,n.info.properties.cell_volume,o,2)]}),jsxRuntimeExports.jsxs("li",{children:["Total magnetization:"," ",format_aiida_prop(r.properties.total_magnetization,n.info.properties.total_magnetization,o,2)]}),jsxRuntimeExports.jsxs("li",{children:["Absolute magnetization:"," ",format_aiida_prop(r.properties.absolute_magnetization,n.info.properties.absolute_magnetization,o,2)]})]})]})]})}const StructureViewerBox=({uuid:r,structureInfo:n,methodLabel:o})=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"subsection-title",children:["Structure"," ",jsxRuntimeExports.jsx(Ou,{explore_url:EXPLORE_URLS[o],uuid:r})]}),jsxRuntimeExports.jsxs("div",{className:"structure-view-box subsection-shadow",children:[jsxRuntimeExports.jsx(StructureVisualizer,{cifText:n.cif,initSupercell:[2,2,2]}),jsxRuntimeExports.jsx("div",{className:"download-button-container",children:jsxRuntimeExports.jsx(Au,{aiida_rest_url:AIIDA_API_URLS[o],uuid:r})})]})]});function OverviewSection({params:r,loadedData:n}){return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"section-heading",children:"General overview"}),jsxRuntimeExports.jsx(Container,{fluid:!0,className:"section-container",children:jsxRuntimeExports.jsxs(Row,{children:[jsxRuntimeExports.jsx(Col,{className:"flex-column",children:jsxRuntimeExports.jsx(StructureViewerBox,{uuid:n.details.general.structure_uuid,structureInfo:n.structureInfo,methodLabel:r.method})}),jsxRuntimeExports.jsx(Col,{className:"flex-column",children:jsxRuntimeExports.jsx("div",{style:{marginTop:"35px"},children:jsxRuntimeExports.jsx(GeneralInfoBox,{details:n.details,metadata:n.metadata,methodLabel:r.method})})})]})})]})}function formatIfFloat(r,n){return typeof r=="number"&&!isNaN(r)?r.toFixed(n):r}const MCTable=({headerRow:r,contents:n,floatPrecision:o=4,style:l=null})=>jsxRuntimeExports.jsx("div",{className:"mc-data-table-container subsection-shadow overflow-auto rounded",style:l,children:jsxRuntimeExports.jsxs(Table,{bordered:!0,style:{margin:0},children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsx("tr",{children:r.map((c,f)=>jsxRuntimeExports.jsx("th",{className:"px-2 py-2",children:c},f))})}),jsxRuntimeExports.jsx("tbody",{children:n.map((c,f)=>jsxRuntimeExports.jsx("tr",{children:c.map((d,w)=>jsxRuntimeExports.jsx("td",{children:formatIfFloat(d,o)},w))},f))})]})});function bundleLatticeData({baseMatrix:r,transform_matrix:n=null}){const o=n?Su.multiplyMatrices(n,r):r,l=Su.getMatrixParams(o);return{matrix:o,angles:[l.angles[1][2],l.angles[0][2],l.angles[0][1]],lengths:l.lengths}}const CellInfoBox=({structureInfo:r,spacegroup_symbol:n="P1"})=>{const[o,l]=reactExports.useState(!1),[c,f]=reactExports.useState(!1),d=r.aiidaAttributes.cell,w=ju(n);console.log("Cell transformation matrix:",w);const y=bundleLatticeData({baseMatrix:d}),L=bundleLatticeData({baseMatrix:d,transform_matrix:w}),G=c?L:y,H=()=>{l(!o)};return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"subsection-title",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[jsxRuntimeExports.jsx("div",{style:{flex:1},children:jsxRuntimeExports.jsx("span",{children:"Cell Info"})}),jsxRuntimeExports.jsx("div",{style:{display:"flex",justifyContent:"flex-end",gap:"40px",marginRight:"5px",alignItems:"stretch"},children:jsxRuntimeExports.jsx(Ru,{labelLeft:"Parameters",labelRight:"Matrix",switchLength:"30px",fontSize:"17px",onToggle:H})})]}),jsxRuntimeExports.jsx("div",{style:{minHeight:"181px",display:"flex",flexDirection:"column",justifyContent:"center"},children:o?jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(MCTable,{headerRow:["","x []","y []","z []"],contents:G.matrix.map((ce,ie)=>[jsxRuntimeExports.jsxs("span",{children:["v",jsxRuntimeExports.jsx("sub",{children:ie+1})]},`v${ie}`),ce[0],ce[1],ce[2]])})}):jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.25rem"},children:[jsxRuntimeExports.jsx(MCTable,{headerRow:["","a","b","c"],contents:[["Lengths []",...G.lengths]]}),jsxRuntimeExports.jsx(MCTable,{headerRow:["","","",""],contents:[["Angles []",...G.angles]]})]})})]})};function cartToFrac(r,n){const o=Su.invertMatrix(n);return console.log("Cell",n),console.log("Inverse Cell",o),r.map(l=>[o[0][0]*l[0]+o[0][1]*l[1]+o[0][2]*l[2],o[1][0]*l[0]+o[1][1]*l[1]+o[1][2]*l[2],o[2][0]*l[0]+o[2][1]*l[1]+o[2][2]*l[2]])}const AtomicSitesInfoBox=({structureInfo:r})=>{const[n,o]=reactExports.useState(!1);console.log("sI",r.aiidaAttributes);const l=r.aiidaAttributes.cell,c=r.aiidaAttributes.sites,f=c.map(H=>[H.kind_name,H.position[0].toFixed(4),H.position[1].toFixed(4),H.position[2].toFixed(4)]),d=c.map(H=>H.position),w=cartToFrac(d,l),y=c.map((H,ce)=>{const ie=w[ce];return[H.kind_name,ie[0].toFixed(4),ie[1].toFixed(4),ie[2].toFixed(4)]}),L=["Kind label","x []","y []","z []"],G=["Kind label","x","y","z"];return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"subsection-title flex justify-between items-center",children:[jsxRuntimeExports.jsx("span",{style:{flex:1},children:"Atomic positions"}),jsxRuntimeExports.jsx("div",{style:{display:"flex",justifyContent:"flex-end",gap:"40px",marginRight:"5px",alignItems:"stretch"}})]}),jsxRuntimeExports.jsx(MCTable,{headerRow:n?G:L,contents:n?y:f,style:{maxHeight:"332px"}})]})},StructureSection=({params:r,loadedData:n})=>{let o=n.details,l=n.structureInfo;const c=n.metadata,f=r.method;return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"section-heading",children:"Structural details"}),jsxRuntimeExports.jsx(Container,{fluid:!0,className:"section-container",children:jsxRuntimeExports.jsxs(Row,{children:[jsxRuntimeExports.jsxs(Col,{className:"flex-column",children:[jsxRuntimeExports.jsxs("div",{style:{marginBottom:"10px"},children:[jsxRuntimeExports.jsx("div",{className:"subsection-title",children:"General"}),jsxRuntimeExports.jsx(MCInfoBox,{title:"General",children:jsxRuntimeExports.jsxs("ul",{className:"no-bullets",children:[jsxRuntimeExports.jsxs("li",{style:{marginTop:"-5px",marginBottom:"-4px"},children:["Download structure",jsxRuntimeExports.jsx(Au,{aiida_rest_url:AIIDA_API_URLS[r.method],uuid:o.general.structure_uuid})]}),jsxRuntimeExports.jsxs("li",{style:{marginBottom:"9px"},children:["Explore provenance"," ",jsxRuntimeExports.jsx(Ou,{explore_url:EXPLORE_URLS[r.method],uuid:o.general.structure_uuid})]}),jsxRuntimeExports.jsxs("li",{children:["Cell volume:"," ",format_aiida_prop(o.properties.cell_volume,c.info.properties.cell_volume,f,2)]})]})})]}),jsxRuntimeExports.jsx(CellInfoBox,{structureInfo:l,spacegroup_symbol:o.general.spacegroup_international})]}),jsxRuntimeExports.jsx(Col,{className:"flex-column",children:jsxRuntimeExports.jsx(AtomicSitesInfoBox,{structureInfo:l})})]})})]})};function ProvenanceSection(r){let n=r.loadedData.details;return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"section-heading",children:"Provenance links"}),jsxRuntimeExports.jsx(Container,{fluid:!0,className:"section-container",children:jsxRuntimeExports.jsx(Row,{children:jsxRuntimeExports.jsx("div",{className:"provenance-section",children:jsxRuntimeExports.jsxs("div",{className:"provenance-section-inner",children:[jsxRuntimeExports.jsx("div",{children:"Relevant nodes in the provenance browser:"}),jsxRuntimeExports.jsx("ul",{children:n.provenance_links.map(o=>jsxRuntimeExports.jsxs("li",{children:[o.label," ",jsxRuntimeExports.jsx(Ou,{explore_url:EXPLORE_URLS[r.params.method],uuid:o.uuid})]},o.uuid))})]})})})})]})}var plotlyBasic_min$1={exports:{}},plotlyBasic_min=plotlyBasic_min$1.exports,hasRequiredPlotlyBasic_min;function requirePlotlyBasic_min(){return hasRequiredPlotlyBasic_min||(hasRequiredPlotlyBasic_min=1,(function(r){(function(n,o){r.exports?r.exports=o():n.moduleName=o()})(typeof self<"u"?self:plotlyBasic_min,()=>{var n=(()=>{var o=(rl,In)=>()=>(In||rl((In={exports:{}}).exports,In),In.exports),l=o(rl=>{rl.version="3.1.2"}),c=o((rl,In)=>{(function(A,v,C){v[A]=v[A]||C(),typeof In<"u"&&In.exports&&(In.exports=v[A])})("Promise",typeof window<"u"?window:rl,function(){var A,v,C,P=Object.prototype.toString,R=typeof setImmediate<"u"?function(J){return setImmediate(J)}:setTimeout;try{Object.defineProperty({},"x",{}),A=function(J,O,j,Y){return Object.defineProperty(J,O,{value:j,writable:!0,configurable:Y!==!1})}}catch{A=function(O,j,Y){return O[j]=Y,O}}C=(function(){var J,O,j;function Y(se,nt){this.fn=se,this.self=nt,this.next=void 0}return{add:function(se,nt){j=new Y(se,nt),O?O.next=j:J=j,O=j,j=void 0},drain:function(){var se=J;for(J=O=v=void 0;se;)se.fn.call(se.self),se=se.next}}})();function F(J,O){C.add(J,O),v||(v=R(C.drain))}function I(J){var O,j=typeof J;return J!=null&&(j=="object"||j=="function")&&(O=J.then),typeof O=="function"?O:!1}function B(){for(var J=0;J<this.chain.length;J++)x(this,this.state===1?this.chain[J].success:this.chain[J].failure,this.chain[J]);this.chain.length=0}function x(J,O,j){var Y,se;try{O===!1?j.reject(J.msg):(O===!0?Y=J.msg:Y=O.call(void 0,J.msg),Y===j.promise?j.reject(TypeError("Promise-chain cycle")):(se=I(Y))?se.call(Y,j.resolve,j.reject):j.resolve(Y))}catch(nt){j.reject(nt)}}function W(J){var O,j=this;if(!j.triggered){j.triggered=!0,j.def&&(j=j.def);try{(O=I(J))?F(function(){var Y=new Q(j);try{O.call(J,function(){W.apply(Y,arguments)},function(){z.apply(Y,arguments)})}catch(se){z.call(Y,se)}}):(j.msg=J,j.state=1,j.chain.length>0&&F(B,j))}catch(Y){z.call(new Q(j),Y)}}}function z(J){var O=this;O.triggered||(O.triggered=!0,O.def&&(O=O.def),O.msg=J,O.state=2,O.chain.length>0&&F(B,O))}function U(J,O,j,Y){for(var se=0;se<O.length;se++)(function(nt){J.resolve(O[nt]).then(function(gl){j(nt,gl)},Y)})(se)}function Q(J){this.def=J,this.triggered=!1}function Z(J){this.promise=J,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function $(J){if(typeof J!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var O=new Z(this);this.then=function(j,Y){var se={success:typeof j=="function"?j:!0,failure:typeof Y=="function"?Y:!1};return se.promise=new this.constructor(function(nt,gl){if(typeof nt!="function"||typeof gl!="function")throw TypeError("Not a function");se.resolve=nt,se.reject=gl}),O.chain.push(se),O.state!==0&&F(B,O),se.promise},this.catch=function(j){return this.then(void 0,j)};try{J.call(void 0,function(j){W.call(O,j)},function(j){z.call(O,j)})}catch(j){z.call(O,j)}}var q=A({},"constructor",$,!1);return $.prototype=q,A(q,"__NPO__",0,!1),A($,"resolve",function(J){var O=this;return J&&typeof J=="object"&&J.__NPO__===1?J:new O(function(j,Y){if(typeof j!="function"||typeof Y!="function")throw TypeError("Not a function");j(J)})}),A($,"reject",function(J){return new this(function(O,j){if(typeof O!="function"||typeof j!="function")throw TypeError("Not a function");j(J)})}),A($,"all",function(J){var O=this;return P.call(J)!="[object Array]"?O.reject(TypeError("Not an array")):J.length===0?O.resolve([]):new O(function(j,Y){if(typeof j!="function"||typeof Y!="function")throw TypeError("Not a function");var se=J.length,nt=Array(se),gl=0;U(O,J,function(Bn,jt){nt[Bn]=jt,++gl===se&&j(nt)},Y)})}),A($,"race",function(J){var O=this;return P.call(J)!="[object Array]"?O.reject(TypeError("Not an array")):new O(function(j,Y){if(typeof j!="function"||typeof Y!="function")throw TypeError("Not a function");U(O,J,function(se,nt){j(nt)},Y)})}),$})}),f=o((rl,In)=>{(function(){var A={version:"3.8.2"},v=[].slice,C=function(M){return v.call(M)},P=self.document;function R(M){return M&&(M.ownerDocument||M.document||M).documentElement}function F(M){return M&&(M.ownerDocument&&M.ownerDocument.defaultView||M.document&&M||M.defaultView)}if(P)try{C(P.documentElement.childNodes)[0].nodeType}catch{C=function(oe){for(var st=oe.length,fl=new Array(st);st--;)fl[st]=oe[st];return fl}}if(Date.now||(Date.now=function(){return+new Date}),P)try{P.createElement("DIV").style.setProperty("opacity",0,"")}catch{var I=this.Element.prototype,B=I.setAttribute,x=I.setAttributeNS,W=this.CSSStyleDeclaration.prototype,z=W.setProperty;I.setAttribute=function(oe,st){B.call(this,oe,st+"")},I.setAttributeNS=function(oe,st,fl){x.call(this,oe,st,fl+"")},W.setProperty=function(oe,st,fl){z.call(this,oe,st+"",fl)}}A.ascending=U;function U(M,oe){return M<oe?-1:M>oe?1:M>=oe?0:NaN}A.descending=function(M,oe){return oe<M?-1:oe>M?1:oe>=M?0:NaN},A.min=function(M,oe){var st=-1,fl=M.length,Cl,Rl;if(arguments.length===1){for(;++st<fl;)if((Rl=M[st])!=null&&Rl>=Rl){Cl=Rl;break}for(;++st<fl;)(Rl=M[st])!=null&&Cl>Rl&&(Cl=Rl)}else{for(;++st<fl;)if((Rl=oe.call(M,M[st],st))!=null&&Rl>=Rl){Cl=Rl;break}for(;++st<fl;)(Rl=oe.call(M,M[st],st))!=null&&Cl>Rl&&(Cl=Rl)}return Cl},A.max=function(M,oe){var st=-1,fl=M.length,Cl,Rl;if(arguments.length===1){for(;++st<fl;)if((Rl=M[st])!=null&&Rl>=Rl){Cl=Rl;break}for(;++st<fl;)(Rl=M[st])!=null&&Rl>Cl&&(Cl=Rl)}else{for(;++st<fl;)if((Rl=oe.call(M,M[st],st))!=null&&Rl>=Rl){Cl=Rl;break}for(;++st<fl;)(Rl=oe.call(M,M[st],st))!=null&&Rl>Cl&&(Cl=Rl)}return Cl},A.extent=function(M,oe){var st=-1,fl=M.length,Cl,Rl,Mu;if(arguments.length===1){for(;++st<fl;)if((Rl=M[st])!=null&&Rl>=Rl){Cl=Mu=Rl;break}for(;++st<fl;)(Rl=M[st])!=null&&(Cl>Rl&&(Cl=Rl),Mu<Rl&&(Mu=Rl))}else{for(;++st<fl;)if((Rl=oe.call(M,M[st],st))!=null&&Rl>=Rl){Cl=Mu=Rl;break}for(;++st<fl;)(Rl=oe.call(M,M[st],st))!=null&&(Cl>Rl&&(Cl=Rl),Mu<Rl&&(Mu=Rl))}return[Cl,Mu]};function Q(M){return M===null?NaN:+M}function Z(M){return!isNaN(M)}A.sum=function(M,oe){var st=0,fl=M.length,Cl,Rl=-1;if(arguments.length===1)for(;++Rl<fl;)Z(Cl=+M[Rl])&&(st+=Cl);else for(;++Rl<fl;)Z(Cl=+oe.call(M,M[Rl],Rl))&&(st+=Cl);return st},A.mean=function(M,oe){var st=0,fl=M.length,Cl,Rl=-1,Mu=fl;if(arguments.length===1)for(;++Rl<fl;)Z(Cl=Q(M[Rl]))?st+=Cl:--Mu;else for(;++Rl<fl;)Z(Cl=Q(oe.call(M,M[Rl],Rl)))?st+=Cl:--Mu;if(Mu)return st/Mu},A.quantile=function(M,oe){var st=(M.length-1)*oe+1,fl=Math.floor(st),Cl=+M[fl-1],Rl=st-fl;return Rl?Cl+Rl*(M[fl]-Cl):Cl},A.median=function(M,oe){var st=[],fl=M.length,Cl,Rl=-1;if(arguments.length===1)for(;++Rl<fl;)Z(Cl=Q(M[Rl]))&&st.push(Cl);else for(;++Rl<fl;)Z(Cl=Q(oe.call(M,M[Rl],Rl)))&&st.push(Cl);if(st.length)return A.quantile(st.sort(U),.5)},A.variance=function(M,oe){var st=M.length,fl=0,Cl,Rl,Mu=0,hu=-1,Uu=0;if(arguments.length===1)for(;++hu<st;)Z(Cl=Q(M[hu]))&&(Rl=Cl-fl,fl+=Rl/++Uu,Mu+=Rl*(Cl-fl));else for(;++hu<st;)Z(Cl=Q(oe.call(M,M[hu],hu)))&&(Rl=Cl-fl,fl+=Rl/++Uu,Mu+=Rl*(Cl-fl));if(Uu>1)return Mu/(Uu-1)},A.deviation=function(){var M=A.variance.apply(this,arguments);return M&&Math.sqrt(M)};function $(M){return{left:function(oe,st,fl,Cl){for(arguments.length<3&&(fl=0),arguments.length<4&&(Cl=oe.length);fl<Cl;){var Rl=fl+Cl>>>1;M(oe[Rl],st)<0?fl=Rl+1:Cl=Rl}return fl},right:function(oe,st,fl,Cl){for(arguments.length<3&&(fl=0),arguments.length<4&&(Cl=oe.length);fl<Cl;){var Rl=fl+Cl>>>1;M(oe[Rl],st)>0?Cl=Rl:fl=Rl+1}return fl}}}var q=$(U);A.bisectLeft=q.left,A.bisect=A.bisectRight=q.right,A.bisector=function(M){return $(M.length===1?function(oe,st){return U(M(oe),st)}:M)},A.shuffle=function(M,oe,st){(fl=arguments.length)<3&&(st=M.length,fl<2&&(oe=0));for(var fl=st-oe,Cl,Rl;fl;)Rl=Math.random()*fl--|0,Cl=M[fl+oe],M[fl+oe]=M[Rl+oe],M[Rl+oe]=Cl;return M},A.permute=function(M,oe){for(var st=oe.length,fl=new Array(st);st--;)fl[st]=M[oe[st]];return fl},A.pairs=function(M){for(var oe=0,st=M.length-1,fl,Cl=M[0],Rl=new Array(st<0?0:st);oe<st;)Rl[oe]=[fl=Cl,Cl=M[++oe]];return Rl},A.transpose=function(M){if(!(Rl=M.length))return[];for(var oe=-1,st=A.min(M,J),fl=new Array(st);++oe<st;)for(var Cl=-1,Rl,Mu=fl[oe]=new Array(Rl);++Cl<Rl;)Mu[Cl]=M[Cl][oe];return fl};function J(M){return M.length}A.zip=function(){return A.transpose(arguments)},A.keys=function(M){var oe=[];for(var st in M)oe.push(st);return oe},A.values=function(M){var oe=[];for(var st in M)oe.push(M[st]);return oe},A.entries=function(M){var oe=[];for(var st in M)oe.push({key:st,value:M[st]});return oe},A.merge=function(M){for(var oe=M.length,st,fl=-1,Cl=0,Rl,Mu;++fl<oe;)Cl+=M[fl].length;for(Rl=new Array(Cl);--oe>=0;)for(Mu=M[oe],st=Mu.length;--st>=0;)Rl[--Cl]=Mu[st];return Rl};var O=Math.abs;A.range=function(M,oe,st){if(arguments.length<3&&(st=1,arguments.length<2&&(oe=M,M=0)),(oe-M)/st===1/0)throw new Error("infinite range");var fl=[],Cl=j(O(st)),Rl=-1,Mu;if(M*=Cl,oe*=Cl,st*=Cl,st<0)for(;(Mu=M+st*++Rl)>oe;)fl.push(Mu/Cl);else for(;(Mu=M+st*++Rl)<oe;)fl.push(Mu/Cl);return fl};function j(M){for(var oe=1;M*oe%1;)oe*=10;return oe}function Y(M,oe){for(var st in oe)Object.defineProperty(M.prototype,st,{value:oe[st],enumerable:!1})}A.map=function(M,oe){var st=new se;if(M instanceof se)M.forEach(function(hu,Uu){st.set(hu,Uu)});else if(Array.isArray(M)){var fl=-1,Cl=M.length,Rl;if(arguments.length===1)for(;++fl<Cl;)st.set(fl,M[fl]);else for(;++fl<Cl;)st.set(oe.call(M,Rl=M[fl],fl),Rl)}else for(var Mu in M)st.set(Mu,M[Mu]);return st};function se(){this._=Object.create(null)}var nt="__proto__",gl="\0";Y(se,{has:Pe,get:function(M){return this._[Bn(M)]},set:function(M,oe){return this._[Bn(M)]=oe},remove:ml,keys:tl,values:function(){var M=[];for(var oe in this._)M.push(this._[oe]);return M},entries:function(){var M=[];for(var oe in this._)M.push({key:jt(oe),value:this._[oe]});return M},size:ul,empty:il,forEach:function(M){for(var oe in this._)M.call(this,jt(oe),this._[oe])}});function Bn(M){return(M+="")===nt||M[0]===gl?gl+M:M}function jt(M){return(M+="")[0]===gl?M.slice(1):M}function Pe(M){return Bn(M)in this._}function ml(M){return(M=Bn(M))in this._&&delete this._[M]}function tl(){var M=[];for(var oe in this._)M.push(jt(oe));return M}function ul(){var M=0;for(var oe in this._)++M;return M}function il(){for(var M in this._)return!1;return!0}A.nest=function(){var M={},oe=[],st=[],fl,Cl;function Rl(hu,Uu,cd){if(cd>=oe.length)return Cl?Cl.call(M,Uu):fl?Uu.sort(fl):Uu;for(var pd=-1,Vd=Uu.length,Zd=oe[cd++],Eh,Vh,Jd,bh=new se,Sh;++pd<Vd;)(Sh=bh.get(Eh=Zd(Vh=Uu[pd])))?Sh.push(Vh):bh.set(Eh,[Vh]);return hu?(Vh=hu(),Jd=function(Bh,Gh){Vh.set(Bh,Rl(hu,Gh,cd))}):(Vh={},Jd=function(Bh,Gh){Vh[Bh]=Rl(hu,Gh,cd)}),bh.forEach(Jd),Vh}function Mu(hu,Uu){if(Uu>=oe.length)return hu;var cd=[],pd=st[Uu++];return hu.forEach(function(Vd,Zd){cd.push({key:Vd,values:Mu(Zd,Uu)})}),pd?cd.sort(function(Vd,Zd){return pd(Vd.key,Zd.key)}):cd}return M.map=function(hu,Uu){return Rl(Uu,hu,0)},M.entries=function(hu){return Mu(Rl(A.map,hu,0),0)},M.key=function(hu){return oe.push(hu),M},M.sortKeys=function(hu){return st[oe.length-1]=hu,M},M.sortValues=function(hu){return fl=hu,M},M.rollup=function(hu){return Cl=hu,M},M},A.set=function(M){var oe=new sl;if(M)for(var st=0,fl=M.length;st<fl;++st)oe.add(M[st]);return oe};function sl(){this._=Object.create(null)}Y(sl,{has:Pe,add:function(M){return this._[Bn(M+="")]=!0,M},remove:ml,values:tl,size:ul,empty:il,forEach:function(M){for(var oe in this._)M.call(this,jt(oe))}}),A.behavior={};function vl(M){return M}A.rebind=function(M,oe){for(var st=1,fl=arguments.length,Cl;++st<fl;)M[Cl=arguments[st]]=yl(M,oe,oe[Cl]);return M};function yl(M,oe,st){return function(){var fl=st.apply(oe,arguments);return fl===oe?M:fl}}function Fn(M,oe){if(oe in M)return oe;oe=oe.charAt(0).toUpperCase()+oe.slice(1);for(var st=0,fl=xl.length;st<fl;++st){var Cl=xl[st]+oe;if(Cl in M)return Cl}}var xl=["webkit","ms","moz","Moz","o","O"];function wl(){}A.dispatch=function(){for(var M=new kl,oe=-1,st=arguments.length;++oe<st;)M[arguments[oe]]=Dl(M);return M};function kl(){}kl.prototype.on=function(M,oe){var st=M.indexOf("."),fl="";if(st>=0&&(fl=M.slice(st+1),M=M.slice(0,st)),M)return arguments.length<2?this[M].on(fl):this[M].on(fl,oe);if(arguments.length===2){if(oe==null)for(M in this)this.hasOwnProperty(M)&&this[M].on(fl,null);return this}};function Dl(M){var oe=[],st=new se;function fl(){for(var Cl=oe,Rl=-1,Mu=Cl.length,hu;++Rl<Mu;)(hu=Cl[Rl].on)&&hu.apply(this,arguments);return M}return fl.on=function(Cl,Rl){var Mu=st.get(Cl),hu;return arguments.length<2?Mu&&Mu.on:(Mu&&(Mu.on=null,oe=oe.slice(0,hu=oe.indexOf(Mu)).concat(oe.slice(hu+1)),st.remove(Cl)),Rl&&oe.push(st.set(Cl,{on:Rl})),M)},fl}A.event=null;function Ol(){A.event.preventDefault()}function gu(){for(var M=A.event,oe;oe=M.sourceEvent;)M=oe;return M}function yu(M){for(var oe=new kl,st=0,fl=arguments.length;++st<fl;)oe[arguments[st]]=Dl(oe);return oe.of=function(Cl,Rl){return function(Mu){try{var hu=Mu.sourceEvent=A.event;Mu.target=M,A.event=Mu,oe[Mu.type].apply(Cl,Rl)}finally{A.event=hu}}},oe}A.requote=function(M){return M.replace(Iu,"\\$&")};var Iu=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,cl={}.__proto__?function(M,oe){M.__proto__=oe}:function(M,oe){for(var st in oe)M[st]=oe[st]};function pl(M){return cl(M,nl),M}var it=function(M,oe){return oe.querySelector(M)},bl=function(M,oe){return oe.querySelectorAll(M)},Ll=function(M,oe){var st=M.matches||M[Fn(M,"matchesSelector")];return Ll=function(fl,Cl){return st.call(fl,Cl)},Ll(M,oe)};typeof Sizzle=="function"&&(it=function(M,oe){return Sizzle(M,oe)[0]||null},bl=Sizzle,Ll=Sizzle.matchesSelector),A.selection=function(){return A.select(P.documentElement)};var nl=A.selection.prototype=[];nl.select=function(M){var oe=[],st,fl,Cl,Rl;M=ve(M);for(var Mu=-1,hu=this.length;++Mu<hu;){oe.push(st=[]),st.parentNode=(Cl=this[Mu]).parentNode;for(var Uu=-1,cd=Cl.length;++Uu<cd;)(Rl=Cl[Uu])?(st.push(fl=M.call(Rl,Rl.__data__,Uu,Mu)),fl&&"__data__"in Rl&&(fl.__data__=Rl.__data__)):st.push(null)}return pl(oe)};function ve(M){return typeof M=="function"?M:function(){return it(M,this)}}nl.selectAll=function(M){var oe=[],st,fl;M=_t(M);for(var Cl=-1,Rl=this.length;++Cl<Rl;)for(var Mu=this[Cl],hu=-1,Uu=Mu.length;++hu<Uu;)(fl=Mu[hu])&&(oe.push(st=C(M.call(fl,fl.__data__,hu,Cl))),st.parentNode=fl);return pl(oe)};function _t(M){return typeof M=="function"?M:function(){return bl(M,this)}}var ol="http://www.w3.org/1999/xhtml",dl={svg:"http://www.w3.org/2000/svg",xhtml:ol,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};A.ns={prefix:dl,qualify:function(M){var oe=M.indexOf(":"),st=M;return oe>=0&&(st=M.slice(0,oe))!=="xmlns"&&(M=M.slice(oe+1)),dl.hasOwnProperty(st)?{space:dl[st],local:M}:M}},nl.attr=function(M,oe){if(arguments.length<2){if(typeof M=="string"){var st=this.node();return M=A.ns.qualify(M),M.local?st.getAttributeNS(M.space,M.local):st.getAttribute(M)}for(oe in M)this.each(Il(oe,M[oe]));return this}return this.each(Il(M,oe))};function Il(M,oe){M=A.ns.qualify(M);function st(){this.removeAttribute(M)}function fl(){this.removeAttributeNS(M.space,M.local)}function Cl(){this.setAttribute(M,oe)}function Rl(){this.setAttributeNS(M.space,M.local,oe)}function Mu(){var Uu=oe.apply(this,arguments);Uu==null?this.removeAttribute(M):this.setAttribute(M,Uu)}function hu(){var Uu=oe.apply(this,arguments);Uu==null?this.removeAttributeNS(M.space,M.local):this.setAttributeNS(M.space,M.local,Uu)}return oe==null?M.local?fl:st:typeof oe=="function"?M.local?hu:Mu:M.local?Rl:Cl}function ql(M){return M.trim().replace(/\s+/g," ")}nl.classed=function(M,oe){if(arguments.length<2){if(typeof M=="string"){var st=this.node(),fl=(M=Bu(M)).length,Cl=-1;if(oe=st.classList){for(;++Cl<fl;)if(!oe.contains(M[Cl]))return!1}else for(oe=st.getAttribute("class");++Cl<fl;)if(!Zl(M[Cl]).test(oe))return!1;return!0}for(oe in M)this.each(Ju(oe,M[oe]));return this}return this.each(Ju(M,oe))};function Zl(M){return new RegExp("(?:^|\\s+)"+A.requote(M)+"(?:\\s+|$)","g")}function Bu(M){return(M+"").trim().split(/^|\s+/)}function Ju(M,oe){M=Bu(M).map(yd);var st=M.length;function fl(){for(var Rl=-1;++Rl<st;)M[Rl](this,oe)}function Cl(){for(var Rl=-1,Mu=oe.apply(this,arguments);++Rl<st;)M[Rl](this,Mu)}return typeof oe=="function"?Cl:fl}function yd(M){var oe=Zl(M);return function(st,fl){if(Cl=st.classList)return fl?Cl.add(M):Cl.remove(M);var Cl=st.getAttribute("class")||"";fl?(oe.lastIndex=0,oe.test(Cl)||st.setAttribute("class",ql(Cl+" "+M))):st.setAttribute("class",ql(Cl.replace(oe," ")))}}nl.style=function(M,oe,st){var fl=arguments.length;if(fl<3){if(typeof M!="string"){fl<2&&(oe="");for(st in M)this.each(Hd(st,M[st],oe));return this}if(fl<2){var Cl=this.node();return F(Cl).getComputedStyle(Cl,null).getPropertyValue(M)}st=""}return this.each(Hd(M,oe,st))};function Hd(M,oe,st){function fl(){this.style.removeProperty(M)}function Cl(){this.style.setProperty(M,oe,st)}function Rl(){var Mu=oe.apply(this,arguments);Mu==null?this.style.removeProperty(M):this.style.setProperty(M,Mu,st)}return oe==null?fl:typeof oe=="function"?Rl:Cl}nl.property=function(M,oe){if(arguments.length<2){if(typeof M=="string")return this.node()[M];for(oe in M)this.each(Rd(oe,M[oe]));return this}return this.each(Rd(M,oe))};function Rd(M,oe){function st(){delete this[M]}function fl(){this[M]=oe}function Cl(){var Rl=oe.apply(this,arguments);Rl==null?delete this[M]:this[M]=Rl}return oe==null?st:typeof oe=="function"?Cl:fl}nl.text=function(M){return arguments.length?this.each(typeof M=="function"?function(){var oe=M.apply(this,arguments);this.textContent=oe??""}:M==null?function(){this.textContent=""}:function(){this.textContent=M}):this.node().textContent},nl.html=function(M){return arguments.length?this.each(typeof M=="function"?function(){var oe=M.apply(this,arguments);this.innerHTML=oe??""}:M==null?function(){this.innerHTML=""}:function(){this.innerHTML=M}):this.node().innerHTML},nl.append=function(M){return M=Ed(M),this.select(function(){return this.appendChild(M.apply(this,arguments))})};function Ed(M){function oe(){var fl=this.ownerDocument,Cl=this.namespaceURI;return Cl===ol&&fl.documentElement.namespaceURI===ol?fl.createElement(M):fl.createElementNS(Cl,M)}function st(){return this.ownerDocument.createElementNS(M.space,M.local)}return typeof M=="function"?M:(M=A.ns.qualify(M)).local?st:oe}nl.insert=function(M,oe){return M=Ed(M),oe=ve(oe),this.select(function(){return this.insertBefore(M.apply(this,arguments),oe.apply(this,arguments)||null)})},nl.remove=function(){return this.each(_u)};function _u(){var M=this.parentNode;M&&M.removeChild(this)}nl.data=function(M,oe){var st=-1,fl=this.length,Cl,Rl;if(!arguments.length){for(M=new Array(fl=(Cl=this[0]).length);++st<fl;)(Rl=Cl[st])&&(M[st]=Rl.__data__);return M}function Mu(pd,Vd){var Zd,Eh=pd.length,Vh=Vd.length,Jd=Math.min(Eh,Vh),bh=new Array(Vh),Sh=new Array(Vh),Bh=new Array(Eh),Gh,kh;if(oe){var Nf=new se,yp=new Array(Eh),kp;for(Zd=-1;++Zd<Eh;)(Gh=pd[Zd])&&(Nf.has(kp=oe.call(Gh,Gh.__data__,Zd))?Bh[Zd]=Gh:Nf.set(kp,Gh),yp[Zd]=kp);for(Zd=-1;++Zd<Vh;)(Gh=Nf.get(kp=oe.call(Vd,kh=Vd[Zd],Zd)))?Gh!==!0&&(bh[Zd]=Gh,Gh.__data__=kh):Sh[Zd]=Nu(kh),Nf.set(kp,!0);for(Zd=-1;++Zd<Eh;)Zd in yp&&Nf.get(yp[Zd])!==!0&&(Bh[Zd]=pd[Zd])}else{for(Zd=-1;++Zd<Jd;)Gh=pd[Zd],kh=Vd[Zd],Gh?(Gh.__data__=kh,bh[Zd]=Gh):Sh[Zd]=Nu(kh);for(;Zd<Vh;++Zd)Sh[Zd]=Nu(Vd[Zd]);for(;Zd<Eh;++Zd)Bh[Zd]=pd[Zd]}Sh.update=bh,Sh.parentNode=bh.parentNode=Bh.parentNode=pd.parentNode,hu.push(Sh),Uu.push(bh),cd.push(Bh)}var hu=Pd([]),Uu=pl([]),cd=pl([]);if(typeof M=="function")for(;++st<fl;)Mu(Cl=this[st],M.call(Cl,Cl.parentNode.__data__,st));else for(;++st<fl;)Mu(Cl=this[st],M);return Uu.enter=function(){return hu},Uu.exit=function(){return cd},Uu};function Nu(M){return{__data__:M}}nl.datum=function(M){return arguments.length?this.property("__data__",M):this.property("__data__")},nl.filter=function(M){var oe=[],st,fl,Cl;typeof M!="function"&&(M=Gl(M));for(var Rl=0,Mu=this.length;Rl<Mu;Rl++){oe.push(st=[]),st.parentNode=(fl=this[Rl]).parentNode;for(var hu=0,Uu=fl.length;hu<Uu;hu++)(Cl=fl[hu])&&M.call(Cl,Cl.__data__,hu,Rl)&&st.push(Cl)}return pl(oe)};function Gl(M){return function(){return Ll(this,M)}}nl.order=function(){for(var M=-1,oe=this.length;++M<oe;)for(var st=this[M],fl=st.length-1,Cl=st[fl],Rl;--fl>=0;)(Rl=st[fl])&&(Cl&&Cl!==Rl.nextSibling&&Cl.parentNode.insertBefore(Rl,Cl),Cl=Rl);return this},nl.sort=function(M){M=rd.apply(this,arguments);for(var oe=-1,st=this.length;++oe<st;)this[oe].sort(M);return this.order()};function rd(M){return arguments.length||(M=U),function(oe,st){return oe&&st?M(oe.__data__,st.__data__):!oe-!st}}nl.each=function(M){return Sd(this,function(oe,st,fl){M.call(oe,oe.__data__,st,fl)})};function Sd(M,oe){for(var st=0,fl=M.length;st<fl;st++)for(var Cl=M[st],Rl=0,Mu=Cl.length,hu;Rl<Mu;Rl++)(hu=Cl[Rl])&&oe(hu,Rl,st);return M}nl.call=function(M){var oe=C(arguments);return M.apply(oe[0]=this,oe),this},nl.empty=function(){return!this.node()},nl.node=function(){for(var M=0,oe=this.length;M<oe;M++)for(var st=this[M],fl=0,Cl=st.length;fl<Cl;fl++){var Rl=st[fl];if(Rl)return Rl}return null},nl.size=function(){var M=0;return Sd(this,function(){++M}),M};function Pd(M){return cl(M,Ud),M}var Ud=[];A.selection.enter=Pd,A.selection.enter.prototype=Ud,Ud.append=nl.append,Ud.empty=nl.empty,Ud.node=nl.node,Ud.call=nl.call,Ud.size=nl.size,Ud.select=function(M){for(var oe=[],st,fl,Cl,Rl,Mu,hu=-1,Uu=this.length;++hu<Uu;){Cl=(Rl=this[hu]).update,oe.push(st=[]),st.parentNode=Rl.parentNode;for(var cd=-1,pd=Rl.length;++cd<pd;)(Mu=Rl[cd])?(st.push(Cl[cd]=fl=M.call(Rl.parentNode,Mu.__data__,cd,hu)),fl.__data__=Mu.__data__):st.push(null)}return pl(oe)},Ud.insert=function(M,oe){return arguments.length<2&&(oe=$d(this)),nl.insert.call(this,M,oe)};function $d(M){var oe,st;return function(fl,Cl,Rl){var Mu=M[Rl].update,hu=Mu.length,Uu;for(Rl!=st&&(st=Rl,oe=0),Cl>=oe&&(oe=Cl+1);!(Uu=Mu[oe])&&++oe<hu;);return Uu}}A.select=function(M){var oe;return typeof M=="string"?(oe=[it(M,P)],oe.parentNode=P.documentElement):(oe=[M],oe.parentNode=R(M)),pl([oe])},A.selectAll=function(M){var oe;return typeof M=="string"?(oe=C(bl(M,P)),oe.parentNode=P.documentElement):(oe=C(M),oe.parentNode=null),pl([oe])},nl.on=function(M,oe,st){var fl=arguments.length;if(fl<3){if(typeof M!="string"){fl<2&&(oe=!1);for(st in M)this.each(th(st,M[st],oe));return this}if(fl<2)return(fl=this.node()["__on"+M])&&fl._;st=!1}return this.each(th(M,oe,st))};function th(M,oe,st){var fl="__on"+M,Cl=M.indexOf("."),Rl=ah;Cl>0&&(M=M.slice(0,Cl));var Mu=sh.get(M);Mu&&(M=Mu,Rl=Ah);function hu(){var pd=this[fl];pd&&(this.removeEventListener(M,pd,pd.$),delete this[fl])}function Uu(){var pd=Rl(oe,C(arguments));hu.call(this),this.addEventListener(M,this[fl]=pd,pd.$=st),pd._=oe}function cd(){var pd=new RegExp("^__on([^.]+)"+A.requote(M)+"$"),Vd;for(var Zd in this)if(Vd=Zd.match(pd)){var Eh=this[Zd];this.removeEventListener(Vd[1],Eh,Eh.$),delete this[Zd]}}return Cl?oe?Uu:hu:oe?wl:cd}var sh=A.map({mouseenter:"mouseover",mouseleave:"mouseout"});P&&sh.forEach(function(M){"on"+M in P&&sh.remove(M)});function ah(M,oe){return function(st){var fl=A.event;A.event=st,oe[0]=this.__data__;try{M.apply(this,oe)}finally{A.event=fl}}}function Ah(M,oe){var st=ah(M,oe);return function(fl){var Cl=this,Rl=fl.relatedTarget;(!Rl||Rl!==Cl&&!(Rl.compareDocumentPosition(Cl)&8))&&st.call(Cl,fl)}}var Yd,Ph=0;function jh(M){var oe=".dragsuppress-"+ ++Ph,st="click"+oe,fl=A.select(F(M)).on("touchmove"+oe,Ol).on("dragstart"+oe,Ol).on("selectstart"+oe,Ol);if(Yd==null&&(Yd="onselectstart"in M?!1:Fn(M.style,"userSelect")),Yd){var Cl=R(M).style,Rl=Cl[Yd];Cl[Yd]="none"}return function(Mu){if(fl.on(oe,null),Yd&&(Cl[Yd]=Rl),Mu){var hu=function(){fl.on(st,null)};fl.on(st,function(){Ol(),hu()},!0),setTimeout(hu,0)}}}A.mouse=function(M){return Xh(M,gu())};var Th=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Xh(M,oe){oe.changedTouches&&(oe=oe.changedTouches[0]);var st=M.ownerSVGElement||M;if(st.createSVGPoint){var fl=st.createSVGPoint();if(Th<0){var Cl=F(M);if(Cl.scrollX||Cl.scrollY){st=A.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var Rl=st[0][0].getScreenCTM();Th=!(Rl.f||Rl.e),st.remove()}}return Th?(fl.x=oe.pageX,fl.y=oe.pageY):(fl.x=oe.clientX,fl.y=oe.clientY),fl=fl.matrixTransform(M.getScreenCTM().inverse()),[fl.x,fl.y]}var Mu=M.getBoundingClientRect();return[oe.clientX-Mu.left-M.clientLeft,oe.clientY-Mu.top-M.clientTop]}A.touch=function(M,oe,st){if(arguments.length<3&&(st=oe,oe=gu().changedTouches),oe){for(var fl=0,Cl=oe.length,Rl;fl<Cl;++fl)if((Rl=oe[fl]).identifier===st)return Xh(M,Rl)}},A.behavior.drag=function(){var M=yu(Cl,"drag","dragstart","dragend"),oe=null,st=Rl(wl,A.mouse,F,"mousemove","mouseup"),fl=Rl(Pu,A.touch,vl,"touchmove","touchend");function Cl(){this.on("mousedown.drag",st).on("touchstart.drag",fl)}function Rl(Mu,hu,Uu,cd,pd){return function(){var Vd=this,Zd=A.event.target.correspondingElement||A.event.target,Eh=Vd.parentNode,Vh=M.of(Vd,arguments),Jd=0,bh=Mu(),Sh=".drag"+(bh==null?"":"-"+bh),Bh,Gh=A.select(Uu(Zd)).on(cd+Sh,yp).on(pd+Sh,kp),kh=jh(Zd),Nf=hu(Eh,bh);oe?(Bh=oe.apply(Vd,arguments),Bh=[Bh.x-Nf[0],Bh.y-Nf[1]]):Bh=[0,0],Vh({type:"dragstart"});function yp(){var wp=hu(Eh,bh),Np,Bp;wp&&(Np=wp[0]-Nf[0],Bp=wp[1]-Nf[1],Jd|=Np|Bp,Nf=wp,Vh({type:"drag",x:wp[0]+Bh[0],y:wp[1]+Bh[1],dx:Np,dy:Bp}))}function kp(){hu(Eh,bh)&&(Gh.on(cd+Sh,null).on(pd+Sh,null),kh(Jd),Vh({type:"dragend"}))}}}return Cl.origin=function(Mu){return arguments.length?(oe=Mu,Cl):oe},A.rebind(Cl,M,"on")};function Pu(){return A.event.changedTouches[0].identifier}A.touches=function(M,oe){return arguments.length<2&&(oe=gu().touches),oe?C(oe).map(function(st){var fl=Xh(M,st);return fl.identifier=st.identifier,fl}):[]};var sd=1e-6,_l=sd*sd,Ul=Math.PI,Jl=2*Ul,Hu=Jl-sd,Ku=Ul/2,fd=Ul/180,bd=180/Ul;function Nd(M,oe,st){return(oe[0]-M[0])*(st[1]-M[1])-(oe[1]-M[1])*(st[0]-M[0])}function Fd(M){return M>1?Ku:M<-1?-Ku:Math.asin(M)}function zd(M){return((M=Math.exp(M))-1/M)/2}function lh(M){return((M=Math.exp(M))+1/M)/2}function hh(M){return((M=Math.exp(2*M))-1)/(M+1)}var gh=Math.SQRT2,Zh=2,yf=4;A.interpolateZoom=function(M,oe){var st=M[0],fl=M[1],Cl=M[2],Rl=oe[0],Mu=oe[1],hu=oe[2],Uu=Rl-st,cd=Mu-fl,pd=Uu*Uu+cd*cd,Vd,Zd;if(pd<_l)Zd=Math.log(hu/Cl)/gh,Vd=function(Bh){return[st+Bh*Uu,fl+Bh*cd,Cl*Math.exp(gh*Bh*Zd)]};else{var Eh=Math.sqrt(pd),Vh=(hu*hu-Cl*Cl+yf*pd)/(2*Cl*Zh*Eh),Jd=(hu*hu-Cl*Cl-yf*pd)/(2*hu*Zh*Eh),bh=Math.log(Math.sqrt(Vh*Vh+1)-Vh),Sh=Math.log(Math.sqrt(Jd*Jd+1)-Jd);Zd=(Sh-bh)/gh,Vd=function(Bh){var Gh=Bh*Zd,kh=lh(bh),Nf=Cl/(Zh*Eh)*(kh*hh(gh*Gh+bh)-zd(bh));return[st+Nf*Uu,fl+Nf*cd,Cl*kh/lh(gh*Gh+bh)]}}return Vd.duration=Zd*1e3,Vd},A.behavior.zoom=function(){var M={x:0,y:0,k:1},oe,st,fl,Cl=[960,500],Rl=Pf,Mu=250,hu=0,Uu="mousedown.zoom",cd="mousemove.zoom",pd="mouseup.zoom",Vd,Zd="touchstart.zoom",Eh,Vh=yu(Gh,"zoomstart","zoom","zoomend"),Jd,bh,Sh,Bh;tp||(tp="onwheel"in P?(jf=function(){return-A.event.deltaY*(A.event.deltaMode?120:1)},"wheel"):"onmousewheel"in P?(jf=function(){return A.event.wheelDelta},"mousewheel"):(jf=function(){return-A.event.detail},"MozMousePixelScroll"));function Gh(gp){gp.on(Uu,k0).on(tp+".zoom",bm).on("dblclick.zoom",Wg).on(Zd,Ig)}Gh.event=function(gp){gp.each(function(){var D0=Vh.of(this,arguments),U0=M;By?A.select(this).transition().each("start.zoom",function(){M=this.__chart__||{x:0,y:0,k:1},Bp(D0)}).tween("zoom:zoom",function(){var Og=Cl[0],mm=Cl[1],Fm=st?st[0]:Og/2,$m=st?st[1]:mm/2,a1=A.interpolateZoom([(Fm-M.x)/M.k,($m-M.y)/M.k,Og/M.k],[(Fm-U0.x)/U0.k,($m-U0.y)/U0.k,Og/U0.k]);return function(h1){var Xm=a1(h1),w1=Og/Xm[2];this.__chart__=M={x:Fm-Xm[0]*w1,y:$m-Xm[1]*w1,k:w1},P0(D0)}}).each("interrupt.zoom",function(){Wp(D0)}).each("end.zoom",function(){Wp(D0)}):(this.__chart__=M,Bp(D0),P0(D0),Wp(D0))})},Gh.translate=function(gp){return arguments.length?(M={x:+gp[0],y:+gp[1],k:M.k},Np(),Gh):[M.x,M.y]},Gh.scale=function(gp){return arguments.length?(M={x:M.x,y:M.y,k:null},yp(+gp),Np(),Gh):M.k},Gh.scaleExtent=function(gp){return arguments.length?(Rl=gp==null?Pf:[+gp[0],+gp[1]],Gh):Rl},Gh.center=function(gp){return arguments.length?(fl=gp&&[+gp[0],+gp[1]],Gh):fl},Gh.size=function(gp){return arguments.length?(Cl=gp&&[+gp[0],+gp[1]],Gh):Cl},Gh.duration=function(gp){return arguments.length?(Mu=+gp,Gh):Mu},Gh.x=function(gp){return arguments.length?(bh=gp,Jd=gp.copy(),M={x:0,y:0,k:1},Gh):bh},Gh.y=function(gp){return arguments.length?(Bh=gp,Sh=gp.copy(),M={x:0,y:0,k:1},Gh):Bh};function kh(gp){return[(gp[0]-M.x)/M.k,(gp[1]-M.y)/M.k]}function Nf(gp){return[gp[0]*M.k+M.x,gp[1]*M.k+M.y]}function yp(gp){M.k=Math.max(Rl[0],Math.min(Rl[1],gp))}function kp(gp,D0){D0=Nf(D0),M.x+=gp[0]-D0[0],M.y+=gp[1]-D0[1]}function wp(gp,D0,U0,Og){gp.__chart__={x:M.x,y:M.y,k:M.k},yp(Math.pow(2,Og)),kp(st=D0,U0),gp=A.select(gp),Mu>0&&(gp=gp.transition().duration(Mu)),gp.call(Gh.event)}function Np(){bh&&bh.domain(Jd.range().map(function(gp){return(gp-M.x)/M.k}).map(Jd.invert)),Bh&&Bh.domain(Sh.range().map(function(gp){return(gp-M.y)/M.k}).map(Sh.invert))}function Bp(gp){hu++||gp({type:"zoomstart"})}function P0(gp){Np(),gp({type:"zoom",scale:M.k,translate:[M.x,M.y]})}function Wp(gp){--hu||(gp({type:"zoomend"}),st=null)}function k0(){var gp=this,D0=Vh.of(gp,arguments),U0=0,Og=A.select(F(gp)).on(cd,$m).on(pd,a1),mm=kh(A.mouse(gp)),Fm=jh(gp);_3.call(gp),Bp(D0);function $m(){U0=1,kp(A.mouse(gp),mm),P0(D0)}function a1(){Og.on(cd,null).on(pd,null),Fm(U0),Wp(D0)}}function Ig(){var gp=this,D0=Vh.of(gp,arguments),U0={},Og=0,mm,Fm=".zoom-"+A.event.changedTouches[0].identifier,$m="touchmove"+Fm,a1="touchend"+Fm,h1=[],Xm=A.select(gp),w1=jh(gp);C1(),Bp(D0),Xm.on(Uu,null).on(Zd,C1);function qm(){var lv=A.touches(gp);return mm=M.k,lv.forEach(function(Ym){Ym.identifier in U0&&(U0[Ym.identifier]=kh(Ym))}),lv}function C1(){var lv=A.event.target;A.select(lv).on($m,Hy).on(a1,Ub),h1.push(lv);for(var Ym=A.event.changedTouches,j1=0,xv=Ym.length;j1<xv;++j1)U0[Ym[j1].identifier]=null;var U1=qm(),b2=Date.now();if(U1.length===1){if(b2-Eh<500){var Gy=U1[0];wp(gp,Gy,U0[Gy.identifier],Math.floor(Math.log(M.k)/Math.LN2)+1),Ol()}Eh=b2}else if(U1.length>1){var Gy=U1[0],Jv=U1[1],M3=Gy[0]-Jv[0],Qx=Gy[1]-Jv[1];Og=M3*M3+Qx*Qx}}function Hy(){var lv=A.touches(gp),Ym,j1,xv,U1;_3.call(gp);for(var b2=0,Gy=lv.length;b2<Gy;++b2,U1=null)if(xv=lv[b2],U1=U0[xv.identifier]){if(j1)break;Ym=xv,j1=U1}if(U1){var Jv=(Jv=xv[0]-Ym[0])*Jv+(Jv=xv[1]-Ym[1])*Jv,M3=Og&&Math.sqrt(Jv/Og);Ym=[(Ym[0]+xv[0])/2,(Ym[1]+xv[1])/2],j1=[(j1[0]+U1[0])/2,(j1[1]+U1[1])/2],yp(M3*mm)}Eh=null,kp(Ym,j1),P0(D0)}function Ub(){if(A.event.touches.length){for(var lv=A.event.changedTouches,Ym=0,j1=lv.length;Ym<j1;++Ym)delete U0[lv[Ym].identifier];for(var xv in U0)return void qm()}A.selectAll(h1).on(Fm,null),Xm.on(Uu,k0).on(Zd,Ig),w1(),Wp(D0)}}function bm(){var gp=Vh.of(this,arguments);Vd?clearTimeout(Vd):(_3.call(this),oe=kh(st=fl||A.mouse(this)),Bp(gp)),Vd=setTimeout(function(){Vd=null,Wp(gp)},50),Ol(),yp(Math.pow(2,jf()*.002)*M.k),kp(st,oe),P0(gp)}function Wg(){var gp=A.mouse(this),D0=Math.log(M.k)/Math.LN2;wp(this,gp,kh(gp),A.event.shiftKey?Math.ceil(D0)-1:Math.floor(D0)+1)}return A.rebind(Gh,Vh,"on")};var Pf=[0,1/0],jf,tp;A.color=Tf;function Tf(){}Tf.prototype.toString=function(){return this.rgb()+""},A.hsl=$h;function $h(M,oe,st){return this instanceof $h?(this.h=+M,this.s=+oe,void(this.l=+st)):arguments.length<2?M instanceof $h?new $h(M.h,M.s,M.l):dd(""+M,_d,$h):new $h(M,oe,st)}var Gf=$h.prototype=new Tf;Gf.brighter=function(M){return M=Math.pow(.7,arguments.length?M:1),new $h(this.h,this.s,this.l/M)},Gf.darker=function(M){return M=Math.pow(.7,arguments.length?M:1),new $h(this.h,this.s,M*this.l)},Gf.rgb=function(){return of(this.h,this.s,this.l)};function of(M,oe,st){var fl,Cl;M=isNaN(M)?0:(M%=360)<0?M+360:M,oe=isNaN(oe)||oe<0?0:oe>1?1:oe,st=st<0?0:st>1?1:st,Cl=st<=.5?st*(1+oe):st+oe-st*oe,fl=2*st-Cl;function Rl(hu){return hu>360?hu-=360:hu<0&&(hu+=360),hu<60?fl+(Cl-fl)*hu/60:hu<180?Cl:hu<240?fl+(Cl-fl)*(240-hu)/60:fl}function Mu(hu){return Math.round(Rl(hu)*255)}return new bf(Mu(M+120),Mu(M),Mu(M-120))}A.hcl=Lf;function Lf(M,oe,st){return this instanceof Lf?(this.h=+M,this.c=+oe,void(this.l=+st)):arguments.length<2?M instanceof Lf?new Lf(M.h,M.c,M.l):M instanceof Ff?m0(M.l,M.a,M.b):m0((M=nd((M=A.rgb(M)).r,M.g,M.b)).l,M.a,M.b):new Lf(M,oe,st)}var Df=Lf.prototype=new Tf;Df.brighter=function(M){return new Lf(this.h,this.c,Math.min(100,this.l+bp*(arguments.length?M:1)))},Df.darker=function(M){return new Lf(this.h,this.c,Math.max(0,this.l-bp*(arguments.length?M:1)))},Df.rgb=function(){return If(this.h,this.c,this.l).rgb()};function If(M,oe,st){return isNaN(M)&&(M=0),isNaN(oe)&&(oe=0),new Ff(st,Math.cos(M*=fd)*oe,Math.sin(M)*oe)}A.lab=Ff;function Ff(M,oe,st){return this instanceof Ff?(this.l=+M,this.a=+oe,void(this.b=+st)):arguments.length<2?M instanceof Ff?new Ff(M.l,M.a,M.b):M instanceof Lf?If(M.h,M.c,M.l):nd((M=bf(M)).r,M.g,M.b):new Ff(M,oe,st)}var bp=18,Op=.95047,Wf=1,zp=1.08883,qp=Ff.prototype=new Tf;qp.brighter=function(M){return new Ff(Math.min(100,this.l+bp*(arguments.length?M:1)),this.a,this.b)},qp.darker=function(M){return new Ff(Math.max(0,this.l-bp*(arguments.length?M:1)),this.a,this.b)},qp.rgb=function(){return p0(this.l,this.a,this.b)};function p0(M,oe,st){var fl=(M+16)/116,Cl=fl+oe/500,Rl=fl-st/200;return Cl=Ap(Cl)*Op,fl=Ap(fl)*Wf,Rl=Ap(Rl)*zp,new bf(Tp(3.2404542*Cl-1.5371385*fl-.4985314*Rl),Tp(-.969266*Cl+1.8760108*fl+.041556*Rl),Tp(.0556434*Cl-.2040259*fl+1.0572252*Rl))}function m0(M,oe,st){return M>0?new Lf(Math.atan2(st,oe)*bd,Math.sqrt(oe*oe+st*st),M):new Lf(NaN,NaN,M)}function Ap(M){return M>.206893034?M*M*M:(M-4/29)/7.787037}function Hp(M){return M>.008856?Math.pow(M,1/3):7.787037*M+4/29}function Tp(M){return Math.round(255*(M<=.00304?12.92*M:1.055*Math.pow(M,1/2.4)-.055))}A.rgb=bf;function bf(M,oe,st){return this instanceof bf?(this.r=~~M,this.g=~~oe,void(this.b=~~st)):arguments.length<2?M instanceof bf?new bf(M.r,M.g,M.b):dd(""+M,bf,of):new bf(M,oe,st)}function N0(M){return new bf(M>>16,M>>8&255,M&255)}function Fl(M){return N0(M)+""}var Sl=bf.prototype=new Tf;Sl.brighter=function(M){M=Math.pow(.7,arguments.length?M:1);var oe=this.r,st=this.g,fl=this.b,Cl=30;return!oe&&!st&&!fl?new bf(Cl,Cl,Cl):(oe&&oe<Cl&&(oe=Cl),st&&st<Cl&&(st=Cl),fl&&fl<Cl&&(fl=Cl),new bf(Math.min(255,oe/M),Math.min(255,st/M),Math.min(255,fl/M)))},Sl.darker=function(M){return M=Math.pow(.7,arguments.length?M:1),new bf(M*this.r,M*this.g,M*this.b)},Sl.hsl=function(){return _d(this.r,this.g,this.b)},Sl.toString=function(){return"#"+od(this.r)+od(this.g)+od(this.b)};function od(M){return M<16?"0"+Math.max(0,M).toString(16):Math.min(255,M).toString(16)}function dd(M,oe,st){var fl=0,Cl=0,Rl=0,Mu,hu,Uu;if(Mu=/([a-z]+)\((.*)\)/.exec(M=M.toLowerCase()),Mu)switch(hu=Mu[2].split(","),Mu[1]){case"hsl":return st(parseFloat(hu[0]),parseFloat(hu[1])/100,parseFloat(hu[2])/100);case"rgb":return oe(Td(hu[0]),Td(hu[1]),Td(hu[2]))}return(Uu=wd.get(M))?oe(Uu.r,Uu.g,Uu.b):(M!=null&&M.charAt(0)==="#"&&!isNaN(Uu=parseInt(M.slice(1),16))&&(M.length===4?(fl=(Uu&3840)>>4,fl=fl>>4|fl,Cl=Uu&240,Cl=Cl>>4|Cl,Rl=Uu&15,Rl=Rl<<4|Rl):M.length===7&&(fl=(Uu&16711680)>>16,Cl=(Uu&65280)>>8,Rl=Uu&255)),oe(fl,Cl,Rl))}function _d(M,oe,st){var fl=Math.min(M/=255,oe/=255,st/=255),Cl=Math.max(M,oe,st),Rl=Cl-fl,Mu,hu,Uu=(Cl+fl)/2;return Rl?(hu=Uu<.5?Rl/(Cl+fl):Rl/(2-Cl-fl),M==Cl?Mu=(oe-st)/Rl+(oe<st?6:0):oe==Cl?Mu=(st-M)/Rl+2:Mu=(M-oe)/Rl+4,Mu*=60):(Mu=NaN,hu=Uu>0&&Uu<1?0:Mu),new $h(Mu,hu,Uu)}function nd(M,oe,st){M=ud(M),oe=ud(oe),st=ud(st);var fl=Hp((.4124564*M+.3575761*oe+.1804375*st)/Op),Cl=Hp((.2126729*M+.7151522*oe+.072175*st)/Wf),Rl=Hp((.0193339*M+.119192*oe+.9503041*st)/zp);return Ff(116*Cl-16,500*(fl-Cl),200*(Cl-Rl))}function ud(M){return(M/=255)<=.04045?M/12.92:Math.pow((M+.055)/1.055,2.4)}function Td(M){var oe=parseFloat(M);return M.charAt(M.length-1)==="%"?Math.round(oe*2.55):oe}var wd=A.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});wd.forEach(function(M,oe){wd.set(M,N0(oe))});function Kd(M){return typeof M=="function"?M:function(){return M}}A.functor=Kd,A.xhr=Qd(vl);function Qd(M){return function(oe,st,fl){return arguments.length===2&&typeof st=="function"&&(fl=st,st=null),Mh(oe,st,M,fl)}}function Mh(M,oe,st,fl){var Cl={},Rl=A.dispatch("beforesend","progress","load","error"),Mu={},hu=new XMLHttpRequest,Uu=null;self.XDomainRequest&&!("withCredentials"in hu)&&/^(http(s)?:)?\/\//.test(M)&&(hu=new XDomainRequest),"onload"in hu?hu.onload=hu.onerror=cd:hu.onreadystatechange=function(){hu.readyState>3&&cd()};function cd(){var pd=hu.status,Vd;if(!pd&&Kh(hu)||pd>=200&&pd<300||pd===304){try{Vd=st.call(Cl,hu)}catch(Zd){Rl.error.call(Cl,Zd);return}Rl.load.call(Cl,Vd)}else Rl.error.call(Cl,hu)}return hu.onprogress=function(pd){var Vd=A.event;A.event=pd;try{Rl.progress.call(Cl,hu)}finally{A.event=Vd}},Cl.header=function(pd,Vd){return pd=(pd+"").toLowerCase(),arguments.length<2?Mu[pd]:(Vd==null?delete Mu[pd]:Mu[pd]=Vd+"",Cl)},Cl.mimeType=function(pd){return arguments.length?(oe=pd==null?null:pd+"",Cl):oe},Cl.responseType=function(pd){return arguments.length?(Uu=pd,Cl):Uu},Cl.response=function(pd){return st=pd,Cl},["get","post"].forEach(function(pd){Cl[pd]=function(){return Cl.send.apply(Cl,[pd].concat(C(arguments)))}}),Cl.send=function(pd,Vd,Zd){if(arguments.length===2&&typeof Vd=="function"&&(Zd=Vd,Vd=null),hu.open(pd,M,!0),oe!=null&&!("accept"in Mu)&&(Mu.accept=oe+",*/*"),hu.setRequestHeader)for(var Eh in Mu)hu.setRequestHeader(Eh,Mu[Eh]);return oe!=null&&hu.overrideMimeType&&hu.overrideMimeType(oe),Uu!=null&&(hu.responseType=Uu),Zd!=null&&Cl.on("error",Zd).on("load",function(Vh){Zd(null,Vh)}),Rl.beforesend.call(Cl,hu),hu.send(Vd??null),Cl},Cl.abort=function(){return hu.abort(),Cl},A.rebind(Cl,Rl,"on"),fl==null?Cl:Cl.get(hf(fl))}function hf(M){return M.length===1?function(oe,st){M(oe==null?st:null)}:M}function Kh(M){var oe=M.responseType;return oe&&oe!=="text"?M.response:M.responseText}A.dsv=function(M,oe){var st=new RegExp('["'+M+`
]`),fl=M.charCodeAt(0);function Cl(cd,pd,Vd){arguments.length<3&&(Vd=pd,pd=null);var Zd=Mh(cd,oe,pd==null?Rl:Mu(pd),Vd);return Zd.row=function(Eh){return arguments.length?Zd.response((pd=Eh)==null?Rl:Mu(Eh)):pd},Zd}function Rl(cd){return Cl.parse(cd.responseText)}function Mu(cd){return function(pd){return Cl.parse(pd.responseText,cd)}}Cl.parse=function(cd,pd){var Vd;return Cl.parseRows(cd,function(Zd,Eh){if(Vd)return Vd(Zd,Eh-1);var Vh=function(Jd){for(var bh={},Sh=Zd.length,Bh=0;Bh<Sh;++Bh)bh[Zd[Bh]]=Jd[Bh];return bh};Vd=pd?function(Jd,bh){return pd(Vh(Jd),bh)}:Vh})},Cl.parseRows=function(cd,pd){var Vd={},Zd={},Eh=[],Vh=cd.length,Jd=0,bh=0,Sh,Bh;function Gh(){if(Jd>=Vh)return Zd;if(Bh)return Bh=!1,Vd;var Nf=Jd;if(cd.charCodeAt(Nf)===34){for(var yp=Nf;yp++<Vh;)if(cd.charCodeAt(yp)===34){if(cd.charCodeAt(yp+1)!==34)break;++yp}Jd=yp+2;var kp=cd.charCodeAt(yp+1);return kp===13?(Bh=!0,cd.charCodeAt(yp+2)===10&&++Jd):kp===10&&(Bh=!0),cd.slice(Nf+1,yp).replace(/""/g,'"')}for(;Jd<Vh;){var kp=cd.charCodeAt(Jd++),wp=1;if(kp===10)Bh=!0;else if(kp===13)Bh=!0,cd.charCodeAt(Jd)===10&&(++Jd,++wp);else if(kp!==fl)continue;return cd.slice(Nf,Jd-wp)}return cd.slice(Nf)}for(;(Sh=Gh())!==Zd;){for(var kh=[];Sh!==Vd&&Sh!==Zd;)kh.push(Sh),Sh=Gh();pd&&(kh=pd(kh,bh++))==null||Eh.push(kh)}return Eh},Cl.format=function(cd){if(Array.isArray(cd[0]))return Cl.formatRows(cd);var pd=new sl,Vd=[];return cd.forEach(function(Zd){for(var Eh in Zd)pd.has(Eh)||Vd.push(pd.add(Eh))}),[Vd.map(Uu).join(M)].concat(cd.map(function(Zd){return Vd.map(function(Eh){return Uu(Zd[Eh])}).join(M)})).join(`
`)},Cl.formatRows=function(cd){return cd.map(hu).join(`
`)};function hu(cd){return cd.map(Uu).join(M)}function Uu(cd){return st.test(cd)?'"'+cd.replace(/\"/g,'""')+'"':cd}return Cl},A.csv=A.dsv(",","text/csv"),A.tsv=A.dsv("	","text/tab-separated-values");var wf,ef,Sf,zf,t0=this[Fn(this,"requestAnimationFrame")]||function(M){setTimeout(M,17)};A.timer=function(){ap.apply(this,arguments)};function ap(M,oe,st){var fl=arguments.length;fl<2&&(oe=0),fl<3&&(st=Date.now());var Cl=st+oe,Rl={c:M,t:Cl,n:null};return ef?ef.n=Rl:wf=Rl,ef=Rl,Sf||(zf=clearTimeout(zf),Sf=1,t0(B0)),Rl}function B0(){var M=Lp(),oe=q0()-M;oe>24?(isFinite(oe)&&(clearTimeout(zf),zf=setTimeout(B0,oe)),Sf=0):(Sf=1,t0(B0))}A.timer.flush=function(){Lp(),q0()};function Lp(){for(var M=Date.now(),oe=wf;oe;)M>=oe.t&&oe.c(M-oe.t)&&(oe.c=null),oe=oe.n;return M}function q0(){for(var M,oe=wf,st=1/0;oe;)oe.c?(oe.t<st&&(st=oe.t),oe=(M=oe).n):oe=M?M.n=oe.n:wf=oe.n;return ef=M,st}A.round=function(M,oe){return oe?Math.round(M*(oe=Math.pow(10,oe)))/oe:Math.round(M)},A.geom={};function F0(M){return M[0]}function kg(M){return M[1]}A.geom.hull=function(M){var oe=F0,st=kg;if(arguments.length)return fl(M);function fl(Cl){if(Cl.length<3)return[];var Rl=Kd(oe),Mu=Kd(st),hu,Uu=Cl.length,cd=[],pd=[];for(hu=0;hu<Uu;hu++)cd.push([+Rl.call(this,Cl[hu],hu),+Mu.call(this,Cl[hu],hu),hu]);for(cd.sort(Vp),hu=0;hu<Uu;hu++)pd.push([cd[hu][0],-cd[hu][1]]);var Vd=H0(cd),Zd=H0(pd),Eh=Zd[0]===Vd[0],Vh=Zd[Zd.length-1]===Vd[Vd.length-1],Jd=[];for(hu=Vd.length-1;hu>=0;--hu)Jd.push(Cl[cd[Vd[hu]][2]]);for(hu=+Eh;hu<Zd.length-Vh;++hu)Jd.push(Cl[cd[Zd[hu]][2]]);return Jd}return fl.x=function(Cl){return arguments.length?(oe=Cl,fl):oe},fl.y=function(Cl){return arguments.length?(st=Cl,fl):st},fl};function H0(M){for(var oe=M.length,st=[0,1],fl=2,Cl=2;Cl<oe;Cl++){for(;fl>1&&Nd(M[st[fl-2]],M[st[fl-1]],M[Cl])<=0;)--fl;st[fl++]=Cl}return st.slice(0,fl)}function Vp(M,oe){return M[0]-oe[0]||M[1]-oe[1]}A.geom.polygon=function(M){return cl(M,Rg),M};var Rg=A.geom.polygon.prototype=[];Rg.area=function(){for(var M=-1,oe=this.length,st,fl=this[oe-1],Cl=0;++M<oe;)st=fl,fl=this[M],Cl+=st[1]*fl[0]-st[0]*fl[1];return Cl*.5},Rg.centroid=function(M){var oe=-1,st=this.length,fl=0,Cl=0,Rl,Mu=this[st-1],hu;for(arguments.length||(M=-1/(6*this.area()));++oe<st;)Rl=Mu,Mu=this[oe],hu=Rl[0]*Mu[1]-Mu[0]*Rl[1],fl+=(Rl[0]+Mu[0])*hu,Cl+=(Rl[1]+Mu[1])*hu;return[fl*M,Cl*M]},Rg.clip=function(M){for(var oe,st=Fg(M),fl=-1,Cl=this.length-Fg(this),Rl,Mu,hu=this[Cl-1],Uu,cd,pd;++fl<Cl;){for(oe=M.slice(),M.length=0,Uu=this[fl],cd=oe[(Mu=oe.length-st)-1],Rl=-1;++Rl<Mu;)pd=oe[Rl],rg(pd,hu,Uu)?(rg(cd,hu,Uu)||M.push(r0(cd,pd,hu,Uu)),M.push(pd)):rg(cd,hu,Uu)&&M.push(r0(cd,pd,hu,Uu)),cd=pd;st&&M.push(M[0]),hu=Uu}return M};function rg(M,oe,st){return(st[0]-oe[0])*(M[1]-oe[1])<(st[1]-oe[1])*(M[0]-oe[0])}function r0(M,oe,st,fl){var Cl=M[0],Rl=st[0],Mu=oe[0]-Cl,hu=fl[0]-Rl,Uu=M[1],cd=st[1],pd=oe[1]-Uu,Vd=fl[1]-cd,Zd=(hu*(Uu-cd)-Vd*(Cl-Rl))/(Vd*Mu-hu*pd);return[Cl+Zd*Mu,Uu+Zd*pd]}function Fg(M){var oe=M[0],st=M[M.length-1];return!(oe[0]-st[0]||oe[1]-st[1])}var pg,_g,Bg,fm=[],C0,gg,Y0=[];function lg(){im(this),this.edge=this.site=this.circle=null}function ng(M){var oe=fm.pop()||new lg;return oe.site=M,oe}function Hg(M){Zg(M),Bg.remove(M),fm.push(M),im(M)}function zg(M){var oe=M.circle,st=oe.x,fl=oe.cy,Cl={x:st,y:fl},Rl=M.P,Mu=M.N,hu=[M];Hg(M);for(var Uu=Rl;Uu.circle&&O(st-Uu.circle.x)<sd&&O(fl-Uu.circle.cy)<sd;)Rl=Uu.P,hu.unshift(Uu),Hg(Uu),Uu=Rl;hu.unshift(Uu),Zg(Uu);for(var cd=Mu;cd.circle&&O(st-cd.circle.x)<sd&&O(fl-cd.circle.cy)<sd;)Mu=cd.N,hu.push(cd),Hg(cd),cd=Mu;hu.push(cd),Zg(cd);var pd=hu.length,Vd;for(Vd=1;Vd<pd;++Vd)cd=hu[Vd],Uu=hu[Vd-1],Lg(cd.edge,Uu.site,cd.site,Cl);Uu=hu[0],cd=hu[pd-1],cd.edge=Lm(Uu.site,cd.site,null,Cl),gm(Uu),gm(cd)}function wg(M){for(var oe=M.x,st=M.y,fl,Cl,Rl,Mu,hu=Bg._;hu;)if(Rl=pm(hu,st)-oe,Rl>sd)hu=hu.L;else if(Mu=oe-Dg(hu,st),Mu>sd){if(!hu.R){fl=hu;break}hu=hu.R}else{Rl>-sd?(fl=hu.P,Cl=hu):Mu>-sd?(fl=hu,Cl=hu.N):fl=Cl=hu;break}var Uu=ng(M);if(Bg.insert(fl,Uu),!(!fl&&!Cl)){if(fl===Cl){Zg(fl),Cl=ng(fl.site),Bg.insert(Uu,Cl),Uu.edge=Cl.edge=Lm(fl.site,Uu.site),gm(fl),gm(Cl);return}if(!Cl){Uu.edge=Lm(fl.site,Uu.site);return}Zg(fl),Zg(Cl);var cd=fl.site,pd=cd.x,Vd=cd.y,Zd=M.x-pd,Eh=M.y-Vd,Vh=Cl.site,Jd=Vh.x-pd,bh=Vh.y-Vd,Sh=2*(Zd*bh-Eh*Jd),Bh=Zd*Zd+Eh*Eh,Gh=Jd*Jd+bh*bh,kh={x:(bh*Bh-Eh*Gh)/Sh+pd,y:(Zd*Gh-Jd*Bh)/Sh+Vd};Lg(Cl.edge,cd,Vh,kh),Uu.edge=Lm(cd,M,null,kh),Cl.edge=Lm(M,Vh,null,kh),gm(fl),gm(Cl)}}function pm(M,oe){var st=M.site,fl=st.x,Cl=st.y,Rl=Cl-oe;if(!Rl)return fl;var Mu=M.P;if(!Mu)return-1/0;st=Mu.site;var hu=st.x,Uu=st.y,cd=Uu-oe;if(!cd)return hu;var pd=hu-fl,Vd=1/Rl-1/cd,Zd=pd/cd;return Vd?(-Zd+Math.sqrt(Zd*Zd-2*Vd*(pd*pd/(-2*cd)-Uu+cd/2+Cl-Rl/2)))/Vd+fl:(fl+hu)/2}function Dg(M,oe){var st=M.N;if(st)return pm(st,oe);var fl=M.site;return fl.y===oe?fl.x:1/0}function eg(M){this.site=M,this.edges=[]}eg.prototype.prepare=function(){for(var M=this.edges,oe=M.length,st;oe--;)st=M[oe].edge,(!st.b||!st.a)&&M.splice(oe,1);return M.sort(Eg),M.length};function Gm(M){for(var oe=M[0][0],st=M[1][0],fl=M[0][1],Cl=M[1][1],Rl,Mu,hu,Uu,cd=_g,pd=cd.length,Vd,Zd,Eh,Vh,Jd,bh;pd--;)if(Vd=cd[pd],!(!Vd||!Vd.prepare()))for(Eh=Vd.edges,Vh=Eh.length,Zd=0;Zd<Vh;)bh=Eh[Zd].end(),hu=bh.x,Uu=bh.y,Jd=Eh[++Zd%Vh].start(),Rl=Jd.x,Mu=Jd.y,(O(hu-Rl)>sd||O(Uu-Mu)>sd)&&(Eh.splice(Zd,0,new cm(ug(Vd.site,bh,O(hu-oe)<sd&&Cl-Uu>sd?{x:oe,y:O(Rl-oe)<sd?Mu:Cl}:O(Uu-Cl)<sd&&st-hu>sd?{x:O(Mu-Cl)<sd?Rl:st,y:Cl}:O(hu-st)<sd&&Uu-fl>sd?{x:st,y:O(Rl-st)<sd?Mu:fl}:O(Uu-fl)<sd&&hu-oe>sd?{x:O(Mu-fl)<sd?Rl:oe,y:fl}:null),Vd.site,null)),++Vh)}function Eg(M,oe){return oe.angle-M.angle}function km(){im(this),this.x=this.y=this.arc=this.site=this.cy=null}function gm(M){var oe=M.P,st=M.N;if(!(!oe||!st)){var fl=oe.site,Cl=M.site,Rl=st.site;if(fl!==Rl){var Mu=Cl.x,hu=Cl.y,Uu=fl.x-Mu,cd=fl.y-hu,pd=Rl.x-Mu,Vd=Rl.y-hu,Zd=2*(Uu*Vd-cd*pd);if(!(Zd>=-_l)){var Eh=Uu*Uu+cd*cd,Vh=pd*pd+Vd*Vd,Jd=(Vd*Eh-cd*Vh)/Zd,bh=(Uu*Vh-pd*Eh)/Zd,Vd=bh+hu,Sh=Y0.pop()||new km;Sh.arc=M,Sh.site=Cl,Sh.x=Jd+Mu,Sh.y=Vd+Math.sqrt(Jd*Jd+bh*bh),Sh.cy=Vd,M.circle=Sh;for(var Bh=null,Gh=gg._;Gh;)if(Sh.y<Gh.y||Sh.y===Gh.y&&Sh.x<=Gh.x)if(Gh.L)Gh=Gh.L;else{Bh=Gh.P;break}else if(Gh.R)Gh=Gh.R;else{Bh=Gh;break}gg.insert(Bh,Sh),Bh||(C0=Sh)}}}}function Zg(M){var oe=M.circle;oe&&(oe.P||(C0=oe.N),gg.remove(oe),Y0.push(oe),im(oe),M.circle=null)}function Mm(M,oe,st,fl){return function(Cl){var Rl=Cl.a,Mu=Cl.b,hu=Rl.x,Uu=Rl.y,cd=Mu.x,pd=Mu.y,Vd=0,Zd=1,Eh=cd-hu,Vh=pd-Uu,Jd;if(Jd=M-hu,!(!Eh&&Jd>0)){if(Jd/=Eh,Eh<0){if(Jd<Vd)return;Jd<Zd&&(Zd=Jd)}else if(Eh>0){if(Jd>Zd)return;Jd>Vd&&(Vd=Jd)}if(Jd=st-hu,!(!Eh&&Jd<0)){if(Jd/=Eh,Eh<0){if(Jd>Zd)return;Jd>Vd&&(Vd=Jd)}else if(Eh>0){if(Jd<Vd)return;Jd<Zd&&(Zd=Jd)}if(Jd=oe-Uu,!(!Vh&&Jd>0)){if(Jd/=Vh,Vh<0){if(Jd<Vd)return;Jd<Zd&&(Zd=Jd)}else if(Vh>0){if(Jd>Zd)return;Jd>Vd&&(Vd=Jd)}if(Jd=fl-Uu,!(!Vh&&Jd<0)){if(Jd/=Vh,Vh<0){if(Jd>Zd)return;Jd>Vd&&(Vd=Jd)}else if(Vh>0){if(Jd<Vd)return;Jd<Zd&&(Zd=Jd)}return Vd>0&&(Cl.a={x:hu+Vd*Eh,y:Uu+Vd*Vh}),Zd<1&&(Cl.b={x:hu+Zd*Eh,y:Uu+Zd*Vh}),Cl}}}}}}function am(M){for(var oe=pg,st=Mm(M[0][0],M[0][1],M[1][0],M[1][1]),fl=oe.length,Cl;fl--;)Cl=oe[fl],(!nm(Cl,M)||!st(Cl)||O(Cl.a.x-Cl.b.x)<sd&&O(Cl.a.y-Cl.b.y)<sd)&&(Cl.a=Cl.b=null,oe.splice(fl,1))}function nm(M,oe){var st=M.b;if(st)return!0;var fl=M.a,Cl=oe[0][0],Rl=oe[1][0],Mu=oe[0][1],hu=oe[1][1],Uu=M.l,cd=M.r,pd=Uu.x,Vd=Uu.y,Zd=cd.x,Eh=cd.y,Vh=(pd+Zd)/2,Jd=(Vd+Eh)/2,bh,Sh;if(Eh===Vd){if(Vh<Cl||Vh>=Rl)return;if(pd>Zd){if(!fl)fl={x:Vh,y:Mu};else if(fl.y>=hu)return;st={x:Vh,y:hu}}else{if(!fl)fl={x:Vh,y:hu};else if(fl.y<Mu)return;st={x:Vh,y:Mu}}}else if(bh=(pd-Zd)/(Eh-Vd),Sh=Jd-bh*Vh,bh<-1||bh>1)if(pd>Zd){if(!fl)fl={x:(Mu-Sh)/bh,y:Mu};else if(fl.y>=hu)return;st={x:(hu-Sh)/bh,y:hu}}else{if(!fl)fl={x:(hu-Sh)/bh,y:hu};else if(fl.y<Mu)return;st={x:(Mu-Sh)/bh,y:Mu}}else if(Vd<Eh){if(!fl)fl={x:Cl,y:bh*Cl+Sh};else if(fl.x>=Rl)return;st={x:Rl,y:bh*Rl+Sh}}else{if(!fl)fl={x:Rl,y:bh*Rl+Sh};else if(fl.x<Cl)return;st={x:Cl,y:bh*Cl+Sh}}return M.a=fl,M.b=st,!0}function Am(M,oe){this.l=M,this.r=oe,this.a=this.b=null}function Lm(M,oe,st,fl){var Cl=new Am(M,oe);return pg.push(Cl),st&&Lg(Cl,M,oe,st),fl&&Lg(Cl,oe,M,fl),_g[M.i].edges.push(new cm(Cl,M,oe)),_g[oe.i].edges.push(new cm(Cl,oe,M)),Cl}function ug(M,oe,st){var fl=new Am(M,null);return fl.a=oe,fl.b=st,pg.push(fl),fl}function Lg(M,oe,st,fl){!M.a&&!M.b?(M.a=fl,M.l=oe,M.r=st):M.l===st?M.b=fl:M.a=fl}function cm(M,oe,st){var fl=M.a,Cl=M.b;this.edge=M,this.site=oe,this.angle=st?Math.atan2(st.y-oe.y,st.x-oe.x):M.l===oe?Math.atan2(Cl.x-fl.x,fl.y-Cl.y):Math.atan2(fl.x-Cl.x,Cl.y-fl.y)}cm.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function _m(){this._=null}function im(M){M.U=M.C=M.L=M.R=M.P=M.N=null}_m.prototype={insert:function(M,oe){var st,fl,Cl;if(M){if(oe.P=M,oe.N=M.N,M.N&&(M.N.P=oe),M.N=oe,M.R){for(M=M.R;M.L;)M=M.L;M.L=oe}else M.R=oe;st=M}else this._?(M=d1(this._),oe.P=null,oe.N=M,M.P=M.L=oe,st=M):(oe.P=oe.N=null,this._=oe,st=null);for(oe.L=oe.R=null,oe.U=st,oe.C=!0,M=oe;st&&st.C;)fl=st.U,st===fl.L?(Cl=fl.R,Cl&&Cl.C?(st.C=Cl.C=!1,fl.C=!0,M=fl):(M===st.R&&(mg(this,st),M=st,st=M.U),st.C=!1,fl.C=!0,Tm(this,fl))):(Cl=fl.L,Cl&&Cl.C?(st.C=Cl.C=!1,fl.C=!0,M=fl):(M===st.L&&(Tm(this,st),M=st,st=M.U),st.C=!1,fl.C=!0,mg(this,fl))),st=M.U;this._.C=!1},remove:function(M){M.N&&(M.N.P=M.P),M.P&&(M.P.N=M.N),M.N=M.P=null;var oe=M.U,st,fl=M.L,Cl=M.R,Rl,Mu;if(fl?Cl?Rl=d1(Cl):Rl=fl:Rl=Cl,oe?oe.L===M?oe.L=Rl:oe.R=Rl:this._=Rl,fl&&Cl?(Mu=Rl.C,Rl.C=M.C,Rl.L=fl,fl.U=Rl,Rl!==Cl?(oe=Rl.U,Rl.U=M.U,M=Rl.R,oe.L=M,Rl.R=Cl,Cl.U=Rl):(Rl.U=oe,oe=Rl,M=Rl.R)):(Mu=M.C,M=Rl),M&&(M.U=oe),!Mu){if(M&&M.C){M.C=!1;return}do{if(M===this._)break;if(M===oe.L){if(st=oe.R,st.C&&(st.C=!1,oe.C=!0,mg(this,oe),st=oe.R),st.L&&st.L.C||st.R&&st.R.C){(!st.R||!st.R.C)&&(st.L.C=!1,st.C=!0,Tm(this,st),st=oe.R),st.C=oe.C,oe.C=st.R.C=!1,mg(this,oe),M=this._;break}}else if(st=oe.L,st.C&&(st.C=!1,oe.C=!0,Tm(this,oe),st=oe.L),st.L&&st.L.C||st.R&&st.R.C){(!st.L||!st.L.C)&&(st.R.C=!1,st.C=!0,mg(this,st),st=oe.L),st.C=oe.C,oe.C=st.L.C=!1,Tm(this,oe),M=this._;break}st.C=!0,M=oe,oe=oe.U}while(!M.C);M&&(M.C=!1)}}};function mg(M,oe){var st=oe,fl=oe.R,Cl=st.U;Cl?Cl.L===st?Cl.L=fl:Cl.R=fl:M._=fl,fl.U=Cl,st.U=fl,st.R=fl.L,st.R&&(st.R.U=st),fl.L=st}function Tm(M,oe){var st=oe,fl=oe.L,Cl=st.U;Cl?Cl.L===st?Cl.L=fl:Cl.R=fl:M._=fl,fl.U=Cl,st.U=fl,st.L=fl.R,st.L&&(st.L.U=st),fl.R=st}function d1(M){for(;M.L;)M=M.L;return M}function R1(M,oe){var st=M.sort(om).pop(),fl,Cl,Rl;for(pg=[],_g=new Array(M.length),Bg=new _m,gg=new _m;;)if(Rl=C0,st&&(!Rl||st.y<Rl.y||st.y===Rl.y&&st.x<Rl.x))(st.x!==fl||st.y!==Cl)&&(_g[st.i]=new eg(st),wg(st),fl=st.x,Cl=st.y),st=M.pop();else if(Rl)zg(Rl.arc);else break;oe&&(am(oe),Gm(oe));var Mu={cells:_g,edges:pg};return Bg=gg=pg=_g=null,Mu}function om(M,oe){return oe.y-M.y||oe.x-M.x}A.geom.voronoi=function(M){var oe=F0,st=kg,fl=oe,Cl=st,Rl=F1;if(M)return Mu(M);function Mu(Uu){var cd=new Array(Uu.length),pd=Rl[0][0],Vd=Rl[0][1],Zd=Rl[1][0],Eh=Rl[1][1];return R1(hu(Uu),Rl).cells.forEach(function(Vh,Jd){var bh=Vh.edges,Sh=Vh.site,Bh=cd[Jd]=bh.length?bh.map(function(Gh){var kh=Gh.start();return[kh.x,kh.y]}):Sh.x>=pd&&Sh.x<=Zd&&Sh.y>=Vd&&Sh.y<=Eh?[[pd,Eh],[Zd,Eh],[Zd,Vd],[pd,Vd]]:[];Bh.point=Uu[Jd]}),cd}function hu(Uu){return Uu.map(function(cd,pd){return{x:Math.round(fl(cd,pd)/sd)*sd,y:Math.round(Cl(cd,pd)/sd)*sd,i:pd}})}return Mu.links=function(Uu){return R1(hu(Uu)).edges.filter(function(cd){return cd.l&&cd.r}).map(function(cd){return{source:Uu[cd.l.i],target:Uu[cd.r.i]}})},Mu.triangles=function(Uu){var cd=[];return R1(hu(Uu)).cells.forEach(function(pd,Vd){for(var Zd=pd.site,Eh=pd.edges.sort(Eg),Vh=-1,Jd=Eh.length,bh,Sh,Bh=Eh[Jd-1].edge,Gh=Bh.l===Zd?Bh.r:Bh.l;++Vh<Jd;)bh=Bh,Sh=Gh,Bh=Eh[Vh].edge,Gh=Bh.l===Zd?Bh.r:Bh.l,Vd<Sh.i&&Vd<Gh.i&&Ty(Zd,Sh,Gh)<0&&cd.push([Uu[Vd],Uu[Sh.i],Uu[Gh.i]])}),cd},Mu.x=function(Uu){return arguments.length?(fl=Kd(oe=Uu),Mu):oe},Mu.y=function(Uu){return arguments.length?(Cl=Kd(st=Uu),Mu):st},Mu.clipExtent=function(Uu){return arguments.length?(Rl=Uu??F1,Mu):Rl===F1?null:Rl},Mu.size=function(Uu){return arguments.length?Mu.clipExtent(Uu&&[[0,0],Uu]):Rl===F1?null:Rl&&Rl[1]},Mu};var F1=[[-1e6,-1e6],[1e6,1e6]];function Ty(M,oe,st){return(M.x-st.x)*(oe.y-M.y)-(M.x-oe.x)*(st.y-M.y)}A.geom.delaunay=function(M){return A.geom.voronoi().triangles(M)},A.geom.quadtree=function(M,oe,st,fl,Cl){var Rl=F0,Mu=kg,hu;if(hu=arguments.length)return Rl=u2,Mu=Ry,hu===3&&(Cl=st,fl=oe,st=oe=0),Uu(M);function Uu(cd){var pd,Vd=Kd(Rl),Zd=Kd(Mu),Eh,Vh,Jd,bh,Sh,Bh,Gh,kh;if(oe!=null)Sh=oe,Bh=st,Gh=fl,kh=Cl;else if(Gh=kh=-(Sh=Bh=1/0),Eh=[],Vh=[],bh=cd.length,hu)for(Jd=0;Jd<bh;++Jd)pd=cd[Jd],pd.x<Sh&&(Sh=pd.x),pd.y<Bh&&(Bh=pd.y),pd.x>Gh&&(Gh=pd.x),pd.y>kh&&(kh=pd.y),Eh.push(pd.x),Vh.push(pd.y);else for(Jd=0;Jd<bh;++Jd){var Nf=+Vd(pd=cd[Jd],Jd),yp=+Zd(pd,Jd);Nf<Sh&&(Sh=Nf),yp<Bh&&(Bh=yp),Nf>Gh&&(Gh=Nf),yp>kh&&(kh=yp),Eh.push(Nf),Vh.push(yp)}var kp=Gh-Sh,wp=kh-Bh;kp>wp?kh=Bh+kp:Gh=Sh+wp;function Np(Wp,k0,Ig,bm,Wg,gp,D0,U0){if(!(isNaN(Ig)||isNaN(bm)))if(Wp.leaf){var Og=Wp.x,mm=Wp.y;if(Og!=null)if(O(Og-Ig)+O(mm-bm)<.01)Bp(Wp,k0,Ig,bm,Wg,gp,D0,U0);else{var Fm=Wp.point;Wp.x=Wp.y=Wp.point=null,Bp(Wp,Fm,Og,mm,Wg,gp,D0,U0),Bp(Wp,k0,Ig,bm,Wg,gp,D0,U0)}else Wp.x=Ig,Wp.y=bm,Wp.point=k0}else Bp(Wp,k0,Ig,bm,Wg,gp,D0,U0)}function Bp(Wp,k0,Ig,bm,Wg,gp,D0,U0){var Og=(Wg+D0)*.5,mm=(gp+U0)*.5,Fm=Ig>=Og,$m=bm>=mm,a1=$m<<1|Fm;Wp.leaf=!1,Wp=Wp.nodes[a1]||(Wp.nodes[a1]=Rv()),Fm?Wg=Og:D0=Og,$m?gp=mm:U0=mm,Np(Wp,k0,Ig,bm,Wg,gp,D0,U0)}var P0=Rv();if(P0.add=function(Wp){Np(P0,Wp,+Vd(Wp,++Jd),+Zd(Wp,Jd),Sh,Bh,Gh,kh)},P0.visit=function(Wp){rv(Wp,P0,Sh,Bh,Gh,kh)},P0.find=function(Wp){return O3(P0,Wp[0],Wp[1],Sh,Bh,Gh,kh)},Jd=-1,oe==null){for(;++Jd<bh;)Np(P0,cd[Jd],Eh[Jd],Vh[Jd],Sh,Bh,Gh,kh);--Jd}else cd.forEach(P0.add);return Eh=Vh=cd=pd=null,P0}return Uu.x=function(cd){return arguments.length?(Rl=cd,Uu):Rl},Uu.y=function(cd){return arguments.length?(Mu=cd,Uu):Mu},Uu.extent=function(cd){return arguments.length?(cd==null?oe=st=fl=Cl=null:(oe=+cd[0][0],st=+cd[0][1],fl=+cd[1][0],Cl=+cd[1][1]),Uu):oe==null?null:[[oe,st],[fl,Cl]]},Uu.size=function(cd){return arguments.length?(cd==null?oe=st=fl=Cl=null:(oe=st=0,fl=+cd[0],Cl=+cd[1]),Uu):oe==null?null:[fl-oe,Cl-st]},Uu};function u2(M){return M.x}function Ry(M){return M.y}function Rv(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function rv(M,oe,st,fl,Cl,Rl){if(!M(oe,st,fl,Cl,Rl)){var Mu=(st+Cl)*.5,hu=(fl+Rl)*.5,Uu=oe.nodes;Uu[0]&&rv(M,Uu[0],st,fl,Mu,hu),Uu[1]&&rv(M,Uu[1],Mu,fl,Cl,hu),Uu[2]&&rv(M,Uu[2],st,hu,Mu,Rl),Uu[3]&&rv(M,Uu[3],Mu,hu,Cl,Rl)}}function O3(M,oe,st,fl,Cl,Rl,Mu){var hu=1/0,Uu;return(function cd(pd,Vd,Zd,Eh,Vh){if(!(Vd>Rl||Zd>Mu||Eh<fl||Vh<Cl)){if(Jd=pd.point){var Jd,bh=oe-pd.x,Sh=st-pd.y,Bh=bh*bh+Sh*Sh;if(Bh<hu){var Gh=Math.sqrt(hu=Bh);fl=oe-Gh,Cl=st-Gh,Rl=oe+Gh,Mu=st+Gh,Uu=Jd}}for(var kh=pd.nodes,Nf=(Vd+Eh)*.5,yp=(Zd+Vh)*.5,kp=oe>=Nf,wp=st>=yp,Np=wp<<1|kp,Bp=Np+4;Np<Bp;++Np)if(pd=kh[Np&3])switch(Np&3){case 0:cd(pd,Vd,Zd,Nf,yp);break;case 1:cd(pd,Nf,Zd,Eh,yp);break;case 2:cd(pd,Vd,yp,Nf,Vh);break;case 3:cd(pd,Nf,yp,Eh,Vh);break}}})(M,fl,Cl,Rl,Mu),Uu}A.interpolateRgb=Zm;function Zm(M,oe){M=A.rgb(M),oe=A.rgb(oe);var st=M.r,fl=M.g,Cl=M.b,Rl=oe.r-st,Mu=oe.g-fl,hu=oe.b-Cl;return function(Uu){return"#"+od(Math.round(st+Rl*Uu))+od(Math.round(fl+Mu*Uu))+od(Math.round(Cl+hu*Uu))}}A.interpolateObject=Fy;function Fy(M,oe){var st={},fl={},Cl;for(Cl in M)Cl in oe?st[Cl]=i1(M[Cl],oe[Cl]):fl[Cl]=M[Cl];for(Cl in oe)Cl in M||(fl[Cl]=oe[Cl]);return function(Rl){for(Cl in st)fl[Cl]=st[Cl](Rl);return fl}}A.interpolateNumber=nv;function nv(M,oe){return M=+M,oe=+oe,function(st){return M*(1-st)+oe*st}}A.interpolateString=iv;function iv(M,oe){var st=Fv.lastIndex=ov.lastIndex=0,fl,Cl,Rl,Mu=-1,hu=[],Uu=[];for(M=M+"",oe=oe+"";(fl=Fv.exec(M))&&(Cl=ov.exec(oe));)(Rl=Cl.index)>st&&(Rl=oe.slice(st,Rl),hu[Mu]?hu[Mu]+=Rl:hu[++Mu]=Rl),(fl=fl[0])===(Cl=Cl[0])?hu[Mu]?hu[Mu]+=Cl:hu[++Mu]=Cl:(hu[++Mu]=null,Uu.push({i:Mu,x:nv(fl,Cl)})),st=ov.lastIndex;return st<oe.length&&(Rl=oe.slice(st),hu[Mu]?hu[Mu]+=Rl:hu[++Mu]=Rl),hu.length<2?Uu[0]?(oe=Uu[0].x,function(cd){return oe(cd)+""}):function(){return oe}:(oe=Uu.length,function(cd){for(var pd=0,Vd;pd<oe;++pd)hu[(Vd=Uu[pd]).i]=Vd.x(cd);return hu.join("")})}var Fv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ov=new RegExp(Fv.source,"g");A.interpolate=i1;function i1(M,oe){for(var st=A.interpolators.length,fl;--st>=0&&!(fl=A.interpolators[st](M,oe)););return fl}A.interpolators=[function(M,oe){var st=typeof oe;return(st==="string"?wd.has(oe.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(oe)?Zm:iv:oe instanceof Tf?Zm:Array.isArray(oe)?Zv:st==="object"&&isNaN(oe)?Fy:nv)(M,oe)}],A.interpolateArray=Zv;function Zv(M,oe){var st=[],fl=[],Cl=M.length,Rl=oe.length,Mu=Math.min(M.length,oe.length),hu;for(hu=0;hu<Mu;++hu)st.push(i1(M[hu],oe[hu]));for(;hu<Cl;++hu)fl[hu]=M[hu];for(;hu<Rl;++hu)fl[hu]=oe[hu];return function(Uu){for(hu=0;hu<Mu;++hu)fl[hu]=st[hu](Uu);return fl}}var Py=function(){return vl},z3=A.map({linear:Py,poly:f2,quad:function(){return Dy},cubic:function(){return Ly},sin:function(){return f3},exp:function(){return j2},circle:function(){return p2},elastic:Iy,back:g2,bounce:function(){return m2}}),c2=A.map({in:vl,out:d2,"in-out":h2,"out-in":function(M){return h2(d2(M))}});A.ease=function(M){var oe=M.indexOf("-"),st=oe>=0?M.slice(0,oe):M,fl=oe>=0?M.slice(oe+1):"in";return st=z3.get(st)||Py,fl=c2.get(fl)||vl,h3(fl(st.apply(null,v.call(arguments,1))))};function h3(M){return function(oe){return oe<=0?0:oe>=1?1:M(oe)}}function d2(M){return function(oe){return 1-M(1-oe)}}function h2(M){return function(oe){return .5*(oe<.5?M(2*oe):2-M(2-2*oe))}}function Dy(M){return M*M}function Ly(M){return M*M*M}function V2(M){if(M<=0)return 0;if(M>=1)return 1;var oe=M*M,st=oe*M;return 4*(M<.5?st:3*(M-oe)+st-.75)}function f2(M){return function(oe){return Math.pow(oe,M)}}function f3(M){return 1-Math.cos(M*Ku)}function j2(M){return Math.pow(2,10*(M-1))}function p2(M){return 1-Math.sqrt(1-M*M)}function Iy(M,oe){var st;return arguments.length<2&&(oe=.45),arguments.length?st=oe/Jl*Math.asin(1/M):(M=1,st=oe/4),function(fl){return 1+M*Math.pow(2,-10*fl)*Math.sin((fl-st)*Jl/oe)}}function g2(M){return M||(M=1.70158),function(oe){return oe*oe*((M+1)*oe-M)}}function m2(M){return M<1/2.75?7.5625*M*M:M<2/2.75?7.5625*(M-=1.5/2.75)*M+.75:M<2.5/2.75?7.5625*(M-=2.25/2.75)*M+.9375:7.5625*(M-=2.625/2.75)*M+.984375}A.interpolateHcl=U2;function U2(M,oe){M=A.hcl(M),oe=A.hcl(oe);var st=M.h,fl=M.c,Cl=M.l,Rl=oe.h-st,Mu=oe.c-fl,hu=oe.l-Cl;return isNaN(Mu)&&(Mu=0,fl=isNaN(fl)?oe.c:fl),isNaN(Rl)?(Rl=0,st=isNaN(st)?oe.h:st):Rl>180?Rl-=360:Rl<-180&&(Rl+=360),function(Uu){return If(st+Rl*Uu,fl+Mu*Uu,Cl+hu*Uu)+""}}A.interpolateHsl=p3;function p3(M,oe){M=A.hsl(M),oe=A.hsl(oe);var st=M.h,fl=M.s,Cl=M.l,Rl=oe.h-st,Mu=oe.s-fl,hu=oe.l-Cl;return isNaN(Mu)&&(Mu=0,fl=isNaN(fl)?oe.s:fl),isNaN(Rl)?(Rl=0,st=isNaN(st)?oe.h:st):Rl>180?Rl-=360:Rl<-180&&(Rl+=360),function(Uu){return of(st+Rl*Uu,fl+Mu*Uu,Cl+hu*Uu)+""}}A.interpolateLab=Oy;function Oy(M,oe){M=A.lab(M),oe=A.lab(oe);var st=M.l,fl=M.a,Cl=M.b,Rl=oe.l-st,Mu=oe.a-fl,hu=oe.b-Cl;return function(Uu){return p0(st+Rl*Uu,fl+Mu*Uu,Cl+hu*Uu)+""}}A.interpolateRound=zy;function zy(M,oe){return oe-=M,function(st){return Math.round(M+oe*st)}}A.transform=function(M){var oe=P.createElementNS(A.ns.prefix.svg,"g");return(A.transform=function(st){if(st!=null){oe.setAttribute("transform",st);var fl=oe.transform.baseVal.consolidate()}return new Xv(fl?fl.matrix:b)})(M)};function Xv(M){var oe=[M.a,M.b],st=[M.c,M.d],fl=Ny(oe),Cl=v2(oe,st),Rl=Ny(m(st,oe,-Cl))||0;oe[0]*st[1]<st[0]*oe[1]&&(oe[0]*=-1,oe[1]*=-1,fl*=-1,Cl*=-1),this.rotate=(fl?Math.atan2(oe[1],oe[0]):Math.atan2(-st[0],st[1]))*bd,this.translate=[M.e,M.f],this.scale=[fl,Rl],this.skew=Rl?Math.atan2(Cl,Rl)*bd:0}Xv.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function v2(M,oe){return M[0]*oe[0]+M[1]*oe[1]}function Ny(M){var oe=Math.sqrt(v2(M,M));return oe&&(M[0]/=oe,M[1]/=oe),oe}function m(M,oe,st){return M[0]+=st*oe[0],M[1]+=st*oe[1],M}var b={a:1,b:0,c:0,d:1,e:0,f:0};A.interpolateTransform=xh;function X(M){return M.length?M.pop()+",":""}function el(M,oe,st,fl){if(M[0]!==oe[0]||M[1]!==oe[1]){var Cl=st.push("translate(",null,",",null,")");fl.push({i:Cl-4,x:nv(M[0],oe[0])},{i:Cl-2,x:nv(M[1],oe[1])})}else(oe[0]||oe[1])&&st.push("translate("+oe+")")}function jl(M,oe,st,fl){M!==oe?(M-oe>180?oe+=360:oe-M>180&&(M+=360),fl.push({i:st.push(X(st)+"rotate(",null,")")-2,x:nv(M,oe)})):oe&&st.push(X(st)+"rotate("+oe+")")}function bu(M,oe,st,fl){M!==oe?fl.push({i:st.push(X(st)+"skewX(",null,")")-2,x:nv(M,oe)}):oe&&st.push(X(st)+"skewX("+oe+")")}function xd(M,oe,st,fl){if(M[0]!==oe[0]||M[1]!==oe[1]){var Cl=st.push(X(st)+"scale(",null,",",null,")");fl.push({i:Cl-4,x:nv(M[0],oe[0])},{i:Cl-2,x:nv(M[1],oe[1])})}else(oe[0]!==1||oe[1]!==1)&&st.push(X(st)+"scale("+oe+")")}function xh(M,oe){var st=[],fl=[];return M=A.transform(M),oe=A.transform(oe),el(M.translate,oe.translate,st,fl),jl(M.rotate,oe.rotate,st,fl),bu(M.skew,oe.skew,st,fl),xd(M.scale,oe.scale,st,fl),M=oe=null,function(Cl){for(var Rl=-1,Mu=fl.length,hu;++Rl<Mu;)st[(hu=fl[Rl]).i]=hu.x(Cl);return st.join("")}}function Lh(M,oe){return oe=(oe-=M=+M)||1/oe,function(st){return(st-M)/oe}}function xf(M,oe){return oe=(oe-=M=+M)||1/oe,function(st){return Math.max(0,Math.min(1,(st-M)/oe))}}A.layout={},A.layout.bundle=function(){return function(M){for(var oe=[],st=-1,fl=M.length;++st<fl;)oe.push(cp(M[st]));return oe}};function cp(M){for(var oe=M.source,st=M.target,fl=lp(oe,st),Cl=[oe];oe!==fl;)oe=oe.parent,Cl.push(oe);for(var Rl=Cl.length;st!==fl;)Cl.splice(Rl,0,st),st=st.parent;return Cl}function pp(M){for(var oe=[],st=M.parent;st!=null;)oe.push(M),M=st,st=st.parent;return oe.push(M),oe}function lp(M,oe){if(M===oe)return M;for(var st=pp(M),fl=pp(oe),Cl=st.pop(),Rl=fl.pop(),Mu=null;Cl===Rl;)Mu=Cl,Cl=st.pop(),Rl=fl.pop();return Mu}A.layout.chord=function(){var M={},oe,st,fl,Cl,Rl=0,Mu,hu,Uu;function cd(){var Vd={},Zd=[],Eh=A.range(Cl),Vh=[],Jd,bh,Sh,Bh,Gh;for(oe=[],st=[],Jd=0,Bh=-1;++Bh<Cl;){for(bh=0,Gh=-1;++Gh<Cl;)bh+=fl[Bh][Gh];Zd.push(bh),Vh.push(A.range(Cl)),Jd+=bh}for(Mu&&Eh.sort(function(P0,Wp){return Mu(Zd[P0],Zd[Wp])}),hu&&Vh.forEach(function(P0,Wp){P0.sort(function(k0,Ig){return hu(fl[Wp][k0],fl[Wp][Ig])})}),Jd=(Jl-Rl*Cl)/Jd,bh=0,Bh=-1;++Bh<Cl;){for(Sh=bh,Gh=-1;++Gh<Cl;){var kh=Eh[Bh],Nf=Vh[kh][Gh],yp=fl[kh][Nf],kp=bh,wp=bh+=yp*Jd;Vd[kh+"-"+Nf]={index:kh,subindex:Nf,startAngle:kp,endAngle:wp,value:yp}}st[kh]={index:kh,startAngle:Sh,endAngle:bh,value:Zd[kh]},bh+=Rl}for(Bh=-1;++Bh<Cl;)for(Gh=Bh-1;++Gh<Cl;){var Np=Vd[Bh+"-"+Gh],Bp=Vd[Gh+"-"+Bh];(Np.value||Bp.value)&&oe.push(Np.value<Bp.value?{source:Bp,target:Np}:{source:Np,target:Bp})}Uu&&pd()}function pd(){oe.sort(function(Vd,Zd){return Uu((Vd.source.value+Vd.target.value)/2,(Zd.source.value+Zd.target.value)/2)})}return M.matrix=function(Vd){return arguments.length?(Cl=(fl=Vd)&&fl.length,oe=st=null,M):fl},M.padding=function(Vd){return arguments.length?(Rl=Vd,oe=st=null,M):Rl},M.sortGroups=function(Vd){return arguments.length?(Mu=Vd,oe=st=null,M):Mu},M.sortSubgroups=function(Vd){return arguments.length?(hu=Vd,oe=null,M):hu},M.sortChords=function(Vd){return arguments.length?(Uu=Vd,oe&&pd(),M):Uu},M.chords=function(){return oe||cd(),oe},M.groups=function(){return st||cd(),st},M},A.layout.force=function(){var M={},oe=A.dispatch("start","tick","end"),st,fl=[1,1],Cl,Rl,Mu=.9,hu=Wh,Uu=gf,cd=-30,pd=Sp,Vd=.1,Zd=.64,Eh=[],Vh=[],Jd,bh,Sh;function Bh(kh){return function(Nf,yp,kp,wp){if(Nf.point!==kh){var Np=Nf.cx-kh.x,Bp=Nf.cy-kh.y,P0=wp-yp,Wp=Np*Np+Bp*Bp;if(P0*P0/Zd<Wp){if(Wp<pd){var k0=Nf.charge/Wp;kh.px-=Np*k0,kh.py-=Bp*k0}return!0}if(Nf.point&&Wp&&Wp<pd){var k0=Nf.pointCharge/Wp;kh.px-=Np*k0,kh.py-=Bp*k0}}return!Nf.charge}}M.tick=function(){if((Rl*=.99)<.005)return st=null,oe.end({type:"end",alpha:Rl=0}),!0;var kh=Eh.length,Nf=Vh.length,yp,kp,wp,Np,Bp,P0,Wp,k0,Ig;for(kp=0;kp<Nf;++kp)wp=Vh[kp],Np=wp.source,Bp=wp.target,k0=Bp.x-Np.x,Ig=Bp.y-Np.y,(P0=k0*k0+Ig*Ig)&&(P0=Rl*bh[kp]*((P0=Math.sqrt(P0))-Jd[kp])/P0,k0*=P0,Ig*=P0,Bp.x-=k0*(Wp=Np.weight+Bp.weight?Np.weight/(Np.weight+Bp.weight):.5),Bp.y-=Ig*Wp,Np.x+=k0*(Wp=1-Wp),Np.y+=Ig*Wp);if((Wp=Rl*Vd)&&(k0=fl[0]/2,Ig=fl[1]/2,kp=-1,Wp))for(;++kp<kh;)wp=Eh[kp],wp.x+=(k0-wp.x)*Wp,wp.y+=(Ig-wp.y)*Wp;if(cd)for(df(yp=A.geom.quadtree(Eh),Rl,Sh),kp=-1;++kp<kh;)(wp=Eh[kp]).fixed||yp.visit(Bh(wp));for(kp=-1;++kp<kh;)wp=Eh[kp],wp.fixed?(wp.x=wp.px,wp.y=wp.py):(wp.x-=(wp.px-(wp.px=wp.x))*Mu,wp.y-=(wp.py-(wp.py=wp.y))*Mu);oe.tick({type:"tick",alpha:Rl})},M.nodes=function(kh){return arguments.length?(Eh=kh,M):Eh},M.links=function(kh){return arguments.length?(Vh=kh,M):Vh},M.size=function(kh){return arguments.length?(fl=kh,M):fl},M.linkDistance=function(kh){return arguments.length?(hu=typeof kh=="function"?kh:+kh,M):hu},M.distance=M.linkDistance,M.linkStrength=function(kh){return arguments.length?(Uu=typeof kh=="function"?kh:+kh,M):Uu},M.friction=function(kh){return arguments.length?(Mu=+kh,M):Mu},M.charge=function(kh){return arguments.length?(cd=typeof kh=="function"?kh:+kh,M):cd},M.chargeDistance=function(kh){return arguments.length?(pd=kh*kh,M):Math.sqrt(pd)},M.gravity=function(kh){return arguments.length?(Vd=+kh,M):Vd},M.theta=function(kh){return arguments.length?(Zd=kh*kh,M):Math.sqrt(Zd)},M.alpha=function(kh){return arguments.length?(kh=+kh,Rl?kh>0?Rl=kh:(st.c=null,st.t=NaN,st=null,oe.end({type:"end",alpha:Rl=0})):kh>0&&(oe.start({type:"start",alpha:Rl=kh}),st=ap(M.tick)),M):Rl},M.start=function(){var kh,Nf=Eh.length,yp=Vh.length,kp=fl[0],wp=fl[1],Np,Bp;for(kh=0;kh<Nf;++kh)(Bp=Eh[kh]).index=kh,Bp.weight=0;for(kh=0;kh<yp;++kh)Bp=Vh[kh],typeof Bp.source=="number"&&(Bp.source=Eh[Bp.source]),typeof Bp.target=="number"&&(Bp.target=Eh[Bp.target]),++Bp.source.weight,++Bp.target.weight;for(kh=0;kh<Nf;++kh)Bp=Eh[kh],isNaN(Bp.x)&&(Bp.x=P0("x",kp)),isNaN(Bp.y)&&(Bp.y=P0("y",wp)),isNaN(Bp.px)&&(Bp.px=Bp.x),isNaN(Bp.py)&&(Bp.py=Bp.y);if(Jd=[],typeof hu=="function")for(kh=0;kh<yp;++kh)Jd[kh]=+hu.call(this,Vh[kh],kh);else for(kh=0;kh<yp;++kh)Jd[kh]=hu;if(bh=[],typeof Uu=="function")for(kh=0;kh<yp;++kh)bh[kh]=+Uu.call(this,Vh[kh],kh);else for(kh=0;kh<yp;++kh)bh[kh]=Uu;if(Sh=[],typeof cd=="function")for(kh=0;kh<Nf;++kh)Sh[kh]=+cd.call(this,Eh[kh],kh);else for(kh=0;kh<Nf;++kh)Sh[kh]=cd;function P0(Wp,k0){if(!Np){for(Np=new Array(Nf),Wg=0;Wg<Nf;++Wg)Np[Wg]=[];for(Wg=0;Wg<yp;++Wg){var Ig=Vh[Wg];Np[Ig.source.index].push(Ig.target),Np[Ig.target.index].push(Ig.source)}}for(var bm=Np[kh],Wg=-1,gp=bm.length,D0;++Wg<gp;)if(!isNaN(D0=bm[Wg][Wp]))return D0;return Math.random()*k0}return M.resume()},M.resume=function(){return M.alpha(.1)},M.stop=function(){return M.alpha(0)},M.drag=function(){if(Cl||(Cl=A.behavior.drag().origin(vl).on("dragstart.force",Zp).on("drag.force",Gh).on("dragend.force",o0)),!arguments.length)return Cl;this.on("mouseover.force",s0).on("mouseout.force",xm).call(Cl)};function Gh(kh){kh.px=A.event.x,kh.py=A.event.y,M.resume()}return A.rebind(M,oe,"on")};function Zp(M){M.fixed|=2}function o0(M){M.fixed&=-7}function s0(M){M.fixed|=4,M.px=M.x,M.py=M.y}function xm(M){M.fixed&=-5}function df(M,oe,st){var fl=0,Cl=0;if(M.charge=0,!M.leaf)for(var Rl=M.nodes,Mu=Rl.length,hu=-1,Uu;++hu<Mu;)Uu=Rl[hu],Uu!=null&&(df(Uu,oe,st),M.charge+=Uu.charge,fl+=Uu.charge*Uu.cx,Cl+=Uu.charge*Uu.cy);if(M.point){M.leaf||(M.point.x+=Math.random()-.5,M.point.y+=Math.random()-.5);var cd=oe*st[M.point.index];M.charge+=M.pointCharge=cd,fl+=cd*M.point.x,Cl+=cd*M.point.y}M.cx=fl/M.charge,M.cy=Cl/M.charge}var Wh=20,gf=1,Sp=1/0;A.layout.hierarchy=function(){var M=Ug,oe=$0,st=Im;function fl(Cl){var Rl=[Cl],Mu=[],hu;for(Cl.depth=0;(hu=Rl.pop())!=null;)if(Mu.push(hu),(cd=oe.call(fl,hu,hu.depth))&&(Uu=cd.length)){for(var Uu,cd,pd;--Uu>=0;)Rl.push(pd=cd[Uu]),pd.parent=hu,pd.depth=hu.depth+1;st&&(hu.value=0),hu.children=cd}else st&&(hu.value=+st.call(fl,hu,hu.depth)||0),delete hu.children;return g0(Cl,function(Vd){var Zd,Eh;M&&(Zd=Vd.children)&&Zd.sort(M),st&&(Eh=Vd.parent)&&(Eh.value+=Vd.value)}),Mu}return fl.sort=function(Cl){return arguments.length?(M=Cl,fl):M},fl.children=function(Cl){return arguments.length?(oe=Cl,fl):oe},fl.value=function(Cl){return arguments.length?(st=Cl,fl):st},fl.revalue=function(Cl){return st&&(S0(Cl,function(Rl){Rl.children&&(Rl.value=0)}),g0(Cl,function(Rl){var Mu;Rl.children||(Rl.value=+st.call(fl,Rl,Rl.depth)||0),(Mu=Rl.parent)&&(Mu.value+=Rl.value)})),Cl},fl};function a0(M,oe){return A.rebind(M,oe,"sort","children","value"),M.nodes=M,M.links=yv,M}function S0(M,oe){for(var st=[M];(M=st.pop())!=null;)if(oe(M),(Cl=M.children)&&(fl=Cl.length))for(var fl,Cl;--fl>=0;)st.push(Cl[fl])}function g0(M,oe){for(var st=[M],fl=[];(M=st.pop())!=null;)if(fl.push(M),(Mu=M.children)&&(Rl=Mu.length))for(var Cl=-1,Rl,Mu;++Cl<Rl;)st.push(Mu[Cl]);for(;(M=fl.pop())!=null;)oe(M)}function $0(M){return M.children}function Im(M){return M.value}function Ug(M,oe){return oe.value-M.value}function yv(M){return A.merge(M.map(function(oe){return(oe.children||[]).map(function(st){return{source:oe,target:st}})}))}A.layout.partition=function(){var M=A.layout.hierarchy(),oe=[1,1];function st(Rl,Mu,hu,Uu){var cd=Rl.children;if(Rl.x=Mu,Rl.y=Rl.depth*Uu,Rl.dx=hu,Rl.dy=Uu,cd&&(Vd=cd.length)){var pd=-1,Vd,Zd,Eh;for(hu=Rl.value?hu/Rl.value:0;++pd<Vd;)st(Zd=cd[pd],Mu,Eh=Zd.value*hu,Uu),Mu+=Eh}}function fl(Rl){var Mu=Rl.children,hu=0;if(Mu&&(cd=Mu.length))for(var Uu=-1,cd;++Uu<cd;)hu=Math.max(hu,fl(Mu[Uu]));return 1+hu}function Cl(Rl,Mu){var hu=M.call(this,Rl,Mu);return st(hu[0],0,oe[0],oe[1]/fl(hu[0])),hu}return Cl.size=function(Rl){return arguments.length?(oe=Rl,Cl):oe},a0(Cl,M)},A.layout.pie=function(){var M=Number,oe=av,st=0,fl=Jl,Cl=0;function Rl(Mu){var hu=Mu.length,Uu=Mu.map(function(Bh,Gh){return+M.call(Rl,Bh,Gh)}),cd=+(typeof st=="function"?st.apply(this,arguments):st),pd=(typeof fl=="function"?fl.apply(this,arguments):fl)-cd,Vd=Math.min(Math.abs(pd)/hu,+(typeof Cl=="function"?Cl.apply(this,arguments):Cl)),Zd=Vd*(pd<0?-1:1),Eh=A.sum(Uu),Vh=Eh?(pd-hu*Zd)/Eh:0,Jd=A.range(hu),bh=[],Sh;return oe!=null&&Jd.sort(oe===av?function(Bh,Gh){return Uu[Gh]-Uu[Bh]}:function(Bh,Gh){return oe(Mu[Bh],Mu[Gh])}),Jd.forEach(function(Bh){bh[Bh]={data:Mu[Bh],value:Sh=Uu[Bh],startAngle:cd,endAngle:cd+=Sh*Vh+Zd,padAngle:Vd}}),bh}return Rl.value=function(Mu){return arguments.length?(M=Mu,Rl):M},Rl.sort=function(Mu){return arguments.length?(oe=Mu,Rl):oe},Rl.startAngle=function(Mu){return arguments.length?(st=Mu,Rl):st},Rl.endAngle=function(Mu){return arguments.length?(fl=Mu,Rl):fl},Rl.padAngle=function(Mu){return arguments.length?(Cl=Mu,Rl):Cl},Rl};var av={};A.layout.stack=function(){var M=vl,oe=N3,st=B3,fl=sb,Cl=ob,Rl=ab;function Mu(hu,Uu){if(!(Vh=hu.length))return hu;var cd=hu.map(function(Bh,Gh){return M.call(Mu,Bh,Gh)}),pd=cd.map(function(Bh){return Bh.map(function(Gh,kh){return[Cl.call(Mu,Gh,kh),Rl.call(Mu,Gh,kh)]})}),Vd=oe.call(Mu,pd,Uu);cd=A.permute(cd,Vd),pd=A.permute(pd,Vd);var Zd=st.call(Mu,pd,Uu),Eh=cd[0].length,Vh,Jd,bh,Sh;for(bh=0;bh<Eh;++bh)for(fl.call(Mu,cd[0][bh],Sh=Zd[bh],pd[0][bh][1]),Jd=1;Jd<Vh;++Jd)fl.call(Mu,cd[Jd][bh],Sh+=pd[Jd-1][bh][1],pd[Jd][bh][1]);return hu}return Mu.values=function(hu){return arguments.length?(M=hu,Mu):M},Mu.order=function(hu){return arguments.length?(oe=typeof hu=="function"?hu:mx.get(hu)||N3,Mu):oe},Mu.offset=function(hu){return arguments.length?(st=typeof hu=="function"?hu:lb.get(hu)||B3,Mu):st},Mu.x=function(hu){return arguments.length?(Cl=hu,Mu):Cl},Mu.y=function(hu){return arguments.length?(Rl=hu,Mu):Rl},Mu.out=function(hu){return arguments.length?(fl=hu,Mu):fl},Mu};function ob(M){return M.x}function ab(M){return M.y}function sb(M,oe,st){M.y0=oe,M.y=st}var mx=A.map({"inside-out":function(M){var oe=M.length,st,fl,Cl=M.map(ub),Rl=M.map(cb),Mu=A.range(oe).sort(function(Vd,Zd){return Cl[Vd]-Cl[Zd]}),hu=0,Uu=0,cd=[],pd=[];for(st=0;st<oe;++st)fl=Mu[st],hu<Uu?(hu+=Rl[fl],cd.push(fl)):(Uu+=Rl[fl],pd.push(fl));return pd.reverse().concat(cd)},reverse:function(M){return A.range(M.length).reverse()},default:N3}),lb=A.map({silhouette:function(M){var oe=M.length,st=M[0].length,fl=[],Cl=0,Rl,Mu,hu,Uu=[];for(Mu=0;Mu<st;++Mu){for(Rl=0,hu=0;Rl<oe;Rl++)hu+=M[Rl][Mu][1];hu>Cl&&(Cl=hu),fl.push(hu)}for(Mu=0;Mu<st;++Mu)Uu[Mu]=(Cl-fl[Mu])/2;return Uu},wiggle:function(M){var oe=M.length,st=M[0],fl=st.length,Cl,Rl,Mu,hu,Uu,cd,pd,Vd,Zd,Eh=[];for(Eh[0]=Vd=Zd=0,Rl=1;Rl<fl;++Rl){for(Cl=0,hu=0;Cl<oe;++Cl)hu+=M[Cl][Rl][1];for(Cl=0,Uu=0,pd=st[Rl][0]-st[Rl-1][0];Cl<oe;++Cl){for(Mu=0,cd=(M[Cl][Rl][1]-M[Cl][Rl-1][1])/(2*pd);Mu<Cl;++Mu)cd+=(M[Mu][Rl][1]-M[Mu][Rl-1][1])/pd;Uu+=cd*M[Cl][Rl][1]}Eh[Rl]=Vd-=hu?Uu/hu*pd:0,Vd<Zd&&(Zd=Vd)}for(Rl=0;Rl<fl;++Rl)Eh[Rl]-=Zd;return Eh},expand:function(M){var oe=M.length,st=M[0].length,fl=1/oe,Cl,Rl,Mu,hu=[];for(Rl=0;Rl<st;++Rl){for(Cl=0,Mu=0;Cl<oe;Cl++)Mu+=M[Cl][Rl][1];if(Mu)for(Cl=0;Cl<oe;Cl++)M[Cl][Rl][1]/=Mu;else for(Cl=0;Cl<oe;Cl++)M[Cl][Rl][1]=fl}for(Rl=0;Rl<st;++Rl)hu[Rl]=0;return hu},zero:B3});function N3(M){return A.range(M.length)}function B3(M){for(var oe=-1,st=M[0].length,fl=[];++oe<st;)fl[oe]=0;return fl}function ub(M){for(var oe=1,st=0,fl=M[0][1],Cl,Rl=M.length;oe<Rl;++oe)(Cl=M[oe][1])>fl&&(st=oe,fl=Cl);return st}function cb(M){return M.reduce(vx,0)}function vx(M,oe){return M+oe[1]}A.layout.histogram=function(){var M=!0,oe=Number,st=hb,fl=db;function Cl(Rl,Mu){for(var hu=[],Uu=Rl.map(oe,this),cd=st.call(this,Uu,Mu),pd=fl.call(this,cd,Uu,Mu),Vd,Mu=-1,Zd=Uu.length,Eh=pd.length-1,Vh=M?1:1/Zd,Jd;++Mu<Eh;)Vd=hu[Mu]=[],Vd.dx=pd[Mu+1]-(Vd.x=pd[Mu]),Vd.y=0;if(Eh>0)for(Mu=-1;++Mu<Zd;)Jd=Uu[Mu],Jd>=cd[0]&&Jd<=cd[1]&&(Vd=hu[A.bisect(pd,Jd,1,Eh)-1],Vd.y+=Vh,Vd.push(Rl[Mu]));return hu}return Cl.value=function(Rl){return arguments.length?(oe=Rl,Cl):oe},Cl.range=function(Rl){return arguments.length?(st=Kd(Rl),Cl):st},Cl.bins=function(Rl){return arguments.length?(fl=typeof Rl=="number"?function(Mu){return H3(Mu,Rl)}:Kd(Rl),Cl):fl},Cl.frequency=function(Rl){return arguments.length?(M=!!Rl,Cl):M},Cl};function db(M,oe){return H3(M,Math.ceil(Math.log(oe.length)/Math.LN2+1))}function H3(M,oe){for(var st=-1,fl=+M[0],Cl=(M[1]-fl)/oe,Rl=[];++st<=oe;)Rl[st]=Cl*st+fl;return Rl}function hb(M){return[A.min(M),A.max(M)]}A.layout.pack=function(){var M=A.layout.hierarchy().sort(yx),oe=0,st=[1,1],fl;function Cl(Rl,Mu){var hu=M.call(this,Rl,Mu),Uu=hu[0],cd=st[0],pd=st[1],Vd=fl==null?Math.sqrt:typeof fl=="function"?fl:function(){return fl};if(Uu.x=Uu.y=0,g0(Uu,function(Eh){Eh.r=+Vd(Eh.value)}),g0(Uu,j3),oe){var Zd=oe*(fl?1:Math.max(2*Uu.r/cd,2*Uu.r/pd))/2;g0(Uu,function(Eh){Eh.r+=Zd}),g0(Uu,j3),g0(Uu,function(Eh){Eh.r-=Zd})}return U3(Uu,cd/2,pd/2,fl?1:1/Math.max(2*Uu.r/cd,2*Uu.r/pd)),hu}return Cl.size=function(Rl){return arguments.length?(st=Rl,Cl):st},Cl.radius=function(Rl){return arguments.length?(fl=Rl==null||typeof Rl=="function"?Rl:+Rl,Cl):fl},Cl.padding=function(Rl){return arguments.length?(oe=+Rl,Cl):oe},a0(Cl,M)};function yx(M,oe){return M.value-oe.value}function g3(M,oe){var st=M._pack_next;M._pack_next=oe,oe._pack_prev=M,oe._pack_next=st,st._pack_prev=oe}function G3(M,oe){M._pack_next=oe,oe._pack_prev=M}function V3(M,oe){var st=oe.x-M.x,fl=oe.y-M.y,Cl=M.r+oe.r;return .999*Cl*Cl>st*st+fl*fl}function j3(M){if(!(oe=M.children)||!(Zd=oe.length))return;var oe,st=1/0,fl=-1/0,Cl=1/0,Rl=-1/0,Mu,hu,Uu,cd,pd,Vd,Zd;function Eh(kh){st=Math.min(kh.x-kh.r,st),fl=Math.max(kh.x+kh.r,fl),Cl=Math.min(kh.y-kh.r,Cl),Rl=Math.max(kh.y+kh.r,Rl)}if(oe.forEach(xx),Mu=oe[0],Mu.x=-Mu.r,Mu.y=0,Eh(Mu),Zd>1&&(hu=oe[1],hu.x=hu.r,hu.y=0,Eh(hu),Zd>2))for(Uu=oe[2],W3(Mu,hu,Uu),Eh(Uu),g3(Mu,Uu),Mu._pack_prev=Uu,g3(Uu,hu),hu=Mu._pack_next,cd=3;cd<Zd;cd++){W3(Mu,hu,Uu=oe[cd]);var Vh=0,Jd=1,bh=1;for(pd=hu._pack_next;pd!==hu;pd=pd._pack_next,Jd++)if(V3(pd,Uu)){Vh=1;break}if(Vh==1)for(Vd=Mu._pack_prev;Vd!==pd._pack_prev&&!V3(Vd,Uu);Vd=Vd._pack_prev,bh++);Vh?(Jd<bh||Jd==bh&&hu.r<Mu.r?G3(Mu,hu=pd):G3(Mu=Vd,hu),cd--):(g3(Mu,Uu),hu=Uu,Eh(Uu))}var Sh=(st+fl)/2,Bh=(Cl+Rl)/2,Gh=0;for(cd=0;cd<Zd;cd++)Uu=oe[cd],Uu.x-=Sh,Uu.y-=Bh,Gh=Math.max(Gh,Uu.r+Math.sqrt(Uu.x*Uu.x+Uu.y*Uu.y));M.r=Gh,oe.forEach(fb)}function xx(M){M._pack_next=M._pack_prev=M}function fb(M){delete M._pack_next,delete M._pack_prev}function U3(M,oe,st,fl){var Cl=M.children;if(M.x=oe+=fl*M.x,M.y=st+=fl*M.y,M.r*=fl,Cl)for(var Rl=-1,Mu=Cl.length;++Rl<Mu;)U3(Cl[Rl],oe,st,fl)}function W3(M,oe,st){var fl=M.r+st.r,Cl=oe.x-M.x,Rl=oe.y-M.y;if(fl&&(Cl||Rl)){var Mu=oe.r+st.r,hu=Cl*Cl+Rl*Rl;Mu*=Mu,fl*=fl;var Uu=.5+(fl-Mu)/(2*hu),cd=Math.sqrt(Math.max(0,2*Mu*(fl+hu)-(fl-=hu)*fl-Mu*Mu))/(2*hu);st.x=M.x+Uu*Cl+cd*Rl,st.y=M.y+Uu*Rl-cd*Cl}else st.x=M.x+fl,st.y=M.y}A.layout.tree=function(){var M=A.layout.hierarchy().sort(null).value(null),oe=bx,st=[1,1],fl=null;function Cl(pd,Vd){var Zd=M.call(this,pd,Vd),Eh=Zd[0],Vh=Rl(Eh);if(g0(Vh,Mu),Vh.parent.m=-Vh.z,S0(Vh,hu),fl)S0(Eh,cd);else{var Jd=Eh,bh=Eh,Sh=Eh;S0(Eh,function(Nf){Nf.x<Jd.x&&(Jd=Nf),Nf.x>bh.x&&(bh=Nf),Nf.depth>Sh.depth&&(Sh=Nf)});var Bh=oe(Jd,bh)/2-Jd.x,Gh=st[0]/(bh.x+oe(bh,Jd)/2+Bh),kh=st[1]/(Sh.depth||1);S0(Eh,function(Nf){Nf.x=(Nf.x+Bh)*Gh,Nf.y=Nf.depth*kh})}return Zd}function Rl(pd){for(var Vd={A:null,children:[pd]},Zd=[Vd],Eh;(Eh=Zd.pop())!=null;)for(var Vh=Eh.children,Jd,bh=0,Sh=Vh.length;bh<Sh;++bh)Zd.push((Vh[bh]=Jd={_:Vh[bh],parent:Eh,children:(Jd=Vh[bh].children)&&Jd.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:bh}).a=Jd);return Vd.children[0]}function Mu(pd){var Vd=pd.children,Zd=pd.parent.children,Eh=pd.i?Zd[pd.i-1]:null;if(Vd.length){$3(pd);var Vh=(Vd[0].z+Vd[Vd.length-1].z)/2;Eh?(pd.z=Eh.z+oe(pd._,Eh._),pd.m=pd.z-Vh):pd.z=Vh}else Eh&&(pd.z=Eh.z+oe(pd._,Eh._));pd.parent.A=Uu(pd,Eh,pd.parent.A||Zd[0])}function hu(pd){pd._.x=pd.z+pd.parent.m,pd.m+=pd.parent.m}function Uu(pd,Vd,Zd){if(Vd){for(var Eh=pd,Vh=pd,Jd=Vd,bh=Eh.parent.children[0],Sh=Eh.m,Bh=Vh.m,Gh=Jd.m,kh=bh.m,Nf;Jd=v3(Jd),Eh=m3(Eh),Jd&&Eh;)bh=m3(bh),Vh=v3(Vh),Vh.a=pd,Nf=Jd.z+Gh-Eh.z-Sh+oe(Jd._,Eh._),Nf>0&&(wx(pb(Jd,pd,Zd),pd,Nf),Sh+=Nf,Bh+=Nf),Gh+=Jd.m,Sh+=Eh.m,kh+=bh.m,Bh+=Vh.m;Jd&&!v3(Vh)&&(Vh.t=Jd,Vh.m+=Gh-Bh),Eh&&!m3(bh)&&(bh.t=Eh,bh.m+=Sh-kh,Zd=pd)}return Zd}function cd(pd){pd.x*=st[0],pd.y=pd.depth*st[1]}return Cl.separation=function(pd){return arguments.length?(oe=pd,Cl):oe},Cl.size=function(pd){return arguments.length?(fl=(st=pd)==null?cd:null,Cl):fl?null:st},Cl.nodeSize=function(pd){return arguments.length?(fl=(st=pd)==null?null:cd,Cl):fl?st:null},a0(Cl,M)};function bx(M,oe){return M.parent==oe.parent?1:2}function m3(M){var oe=M.children;return oe.length?oe[0]:M.t}function v3(M){var oe=M.children,st;return(st=oe.length)?oe[st-1]:M.t}function wx(M,oe,st){var fl=st/(oe.i-M.i);oe.c-=fl,oe.s+=st,M.c+=fl,oe.z+=st,oe.m+=st}function $3(M){for(var oe=0,st=0,fl=M.children,Cl=fl.length,Rl;--Cl>=0;)Rl=fl[Cl],Rl.z+=oe,Rl.m+=oe,oe+=Rl.s+(st+=Rl.c)}function pb(M,oe,st){return M.a.parent===oe.parent?M.a:st}A.layout.cluster=function(){var M=A.layout.hierarchy().sort(null).value(null),oe=bx,st=[1,1],fl=!1;function Cl(Rl,Mu){var hu=M.call(this,Rl,Mu),Uu=hu[0],cd,pd=0;g0(Uu,function(Jd){var bh=Jd.children;bh&&bh.length?(Jd.x=Cx(bh),Jd.y=gb(bh)):(Jd.x=cd?pd+=oe(Jd,cd):0,Jd.y=0,cd=Jd)});var Vd=Sx(Uu),Zd=q3(Uu),Eh=Vd.x-oe(Vd,Zd)/2,Vh=Zd.x+oe(Zd,Vd)/2;return g0(Uu,fl?function(Jd){Jd.x=(Jd.x-Uu.x)*st[0],Jd.y=(Uu.y-Jd.y)*st[1]}:function(Jd){Jd.x=(Jd.x-Eh)/(Vh-Eh)*st[0],Jd.y=(1-(Uu.y?Jd.y/Uu.y:1))*st[1]}),hu}return Cl.separation=function(Rl){return arguments.length?(oe=Rl,Cl):oe},Cl.size=function(Rl){return arguments.length?(fl=(st=Rl)==null,Cl):fl?null:st},Cl.nodeSize=function(Rl){return arguments.length?(fl=(st=Rl)!=null,Cl):fl?st:null},a0(Cl,M)};function gb(M){return 1+A.max(M,function(oe){return oe.y})}function Cx(M){return M.reduce(function(oe,st){return oe+st.x},0)/M.length}function Sx(M){var oe=M.children;return oe&&oe.length?Sx(oe[0]):M}function q3(M){var oe=M.children,st;return oe&&(st=oe.length)?q3(oe[st-1]):M}A.layout.treemap=function(){var M=A.layout.hierarchy(),oe=Math.round,st=[1,1],fl=null,Cl=y3,Rl=!1,Mu,hu="squarify",Uu=.5*(1+Math.sqrt(5));function cd(Jd,bh){for(var Sh=-1,Bh=Jd.length,Gh,kh;++Sh<Bh;)kh=(Gh=Jd[Sh]).value*(bh<0?0:bh),Gh.area=isNaN(kh)||kh<=0?0:kh}function pd(Jd){var bh=Jd.children;if(bh&&bh.length){var Sh=Cl(Jd),Bh=[],Gh=bh.slice(),kh,Nf=1/0,yp,kp=hu==="slice"?Sh.dx:hu==="dice"?Sh.dy:hu==="slice-dice"?Jd.depth&1?Sh.dy:Sh.dx:Math.min(Sh.dx,Sh.dy),wp;for(cd(Gh,Sh.dx*Sh.dy/Jd.value),Bh.area=0;(wp=Gh.length)>0;)Bh.push(kh=Gh[wp-1]),Bh.area+=kh.area,hu!=="squarify"||(yp=Zd(Bh,kp))<=Nf?(Gh.pop(),Nf=yp):(Bh.area-=Bh.pop().area,Eh(Bh,kp,Sh,!1),kp=Math.min(Sh.dx,Sh.dy),Bh.length=Bh.area=0,Nf=1/0);Bh.length&&(Eh(Bh,kp,Sh,!0),Bh.length=Bh.area=0),bh.forEach(pd)}}function Vd(Jd){var bh=Jd.children;if(bh&&bh.length){var Sh=Cl(Jd),Bh=bh.slice(),Gh,kh=[];for(cd(Bh,Sh.dx*Sh.dy/Jd.value),kh.area=0;Gh=Bh.pop();)kh.push(Gh),kh.area+=Gh.area,Gh.z!=null&&(Eh(kh,Gh.z?Sh.dx:Sh.dy,Sh,!Bh.length),kh.length=kh.area=0);bh.forEach(Vd)}}function Zd(Jd,bh){for(var Sh=Jd.area,Bh,Gh=0,kh=1/0,Nf=-1,yp=Jd.length;++Nf<yp;)(Bh=Jd[Nf].area)&&(Bh<kh&&(kh=Bh),Bh>Gh&&(Gh=Bh));return Sh*=Sh,bh*=bh,Sh?Math.max(bh*Gh*Uu/Sh,Sh/(bh*kh*Uu)):1/0}function Eh(Jd,bh,Sh,Bh){var Gh=-1,kh=Jd.length,Nf=Sh.x,yp=Sh.y,kp=bh?oe(Jd.area/bh):0,wp;if(bh==Sh.dx){for((Bh||kp>Sh.dy)&&(kp=Sh.dy);++Gh<kh;)wp=Jd[Gh],wp.x=Nf,wp.y=yp,wp.dy=kp,Nf+=wp.dx=Math.min(Sh.x+Sh.dx-Nf,kp?oe(wp.area/kp):0);wp.z=!0,wp.dx+=Sh.x+Sh.dx-Nf,Sh.y+=kp,Sh.dy-=kp}else{for((Bh||kp>Sh.dx)&&(kp=Sh.dx);++Gh<kh;)wp=Jd[Gh],wp.x=Nf,wp.y=yp,wp.dx=kp,yp+=wp.dy=Math.min(Sh.y+Sh.dy-yp,kp?oe(wp.area/kp):0);wp.z=!1,wp.dy+=Sh.y+Sh.dy-yp,Sh.x+=kp,Sh.dx-=kp}}function Vh(Jd){var bh=Mu||M(Jd),Sh=bh[0];return Sh.x=Sh.y=0,Sh.value?(Sh.dx=st[0],Sh.dy=st[1]):Sh.dx=Sh.dy=0,Mu&&M.revalue(Sh),cd([Sh],Sh.dx*Sh.dy/Sh.value),(Mu?Vd:pd)(Sh),Rl&&(Mu=bh),bh}return Vh.size=function(Jd){return arguments.length?(st=Jd,Vh):st},Vh.padding=function(Jd){if(!arguments.length)return fl;function bh(Gh){var kh=Jd.call(Vh,Gh,Gh.depth);return kh==null?y3(Gh):o1(Gh,typeof kh=="number"?[kh,kh,kh,kh]:kh)}function Sh(Gh){return o1(Gh,Jd)}var Bh;return Cl=(fl=Jd)==null?y3:(Bh=typeof Jd)=="function"?bh:(Bh==="number"&&(Jd=[Jd,Jd,Jd,Jd]),Sh),Vh},Vh.round=function(Jd){return arguments.length?(oe=Jd?Math.round:Number,Vh):oe!=Number},Vh.sticky=function(Jd){return arguments.length?(Rl=Jd,Mu=null,Vh):Rl},Vh.ratio=function(Jd){return arguments.length?(Uu=Jd,Vh):Uu},Vh.mode=function(Jd){return arguments.length?(hu=Jd+"",Vh):hu},a0(Vh,M)};function y3(M){return{x:M.x,y:M.y,dx:M.dx,dy:M.dy}}function o1(M,oe){var st=M.x+oe[3],fl=M.y+oe[0],Cl=M.dx-oe[1]-oe[3],Rl=M.dy-oe[0]-oe[2];return Cl<0&&(st+=Cl/2,Cl=0),Rl<0&&(fl+=Rl/2,Rl=0),{x:st,y:fl,dx:Cl,dy:Rl}}A.random={normal:function(M,oe){var st=arguments.length;return st<2&&(oe=1),st<1&&(M=0),function(){var fl,Cl,Rl;do fl=Math.random()*2-1,Cl=Math.random()*2-1,Rl=fl*fl+Cl*Cl;while(!Rl||Rl>1);return M+oe*fl*Math.sqrt(-2*Math.log(Rl)/Rl)}},logNormal:function(){var M=A.random.normal.apply(A,arguments);return function(){return Math.exp(M())}},bates:function(M){var oe=A.random.irwinHall(M);return function(){return oe()/M}},irwinHall:function(M){return function(){for(var oe=0,st=0;st<M;st++)oe+=Math.random();return oe}}},A.scale={};function W2(M){var oe=M[0],st=M[M.length-1];return oe<st?[oe,st]:[st,oe]}function y2(M){return M.rangeExtent?M.rangeExtent():W2(M.range())}function mb(M,oe,st,fl){var Cl=st(M[0],M[1]),Rl=fl(oe[0],oe[1]);return function(Mu){return Rl(Cl(Mu))}}function x3(M,oe){var st=0,fl=M.length-1,Cl=M[st],Rl=M[fl],Mu;return Rl<Cl&&(Mu=st,st=fl,fl=Mu,Mu=Cl,Cl=Rl,Rl=Mu),M[st]=oe.floor(Cl),M[fl]=oe.ceil(Rl),M}function kx(M){return M?{floor:function(oe){return Math.floor(oe/M)*M},ceil:function(oe){return Math.ceil(oe/M)*M}}:vb}var vb={floor:vl,ceil:vl};function yb(M,oe,st,fl){var Cl=[],Rl=[],Mu=0,hu=Math.min(M.length,oe.length)-1;for(M[hu]<M[0]&&(M=M.slice().reverse(),oe=oe.slice().reverse());++Mu<=hu;)Cl.push(st(M[Mu-1],M[Mu])),Rl.push(fl(oe[Mu-1],oe[Mu]));return function(Uu){var cd=A.bisect(M,Uu,1,hu)-1;return Rl[cd](Cl[cd](Uu))}}A.scale.linear=function(){return _x([0,1],[0,1],i1,!1)};function _x(M,oe,st,fl){var Cl,Rl;function Mu(){var Uu=Math.min(M.length,oe.length)>2?yb:mb,cd=fl?xf:Lh;return Cl=Uu(M,oe,cd,st),Rl=Uu(oe,M,cd,i1),hu}function hu(Uu){return Cl(Uu)}return hu.invert=function(Uu){return Rl(Uu)},hu.domain=function(Uu){return arguments.length?(M=Uu.map(Number),Mu()):M},hu.range=function(Uu){return arguments.length?(oe=Uu,Mu()):oe},hu.rangeRound=function(Uu){return hu.range(Uu).interpolate(zy)},hu.clamp=function(Uu){return arguments.length?(fl=Uu,Mu()):fl},hu.interpolate=function(Uu){return arguments.length?(st=Uu,Mu()):st},hu.ticks=function(Uu){return K3(M,Uu)},hu.tickFormat=function(Uu,cd){return d3_scale_linearTickFormat(M,Uu,cd)},hu.nice=function(Uu){return Mx(M,Uu),Mu()},hu.copy=function(){return _x(M,oe,st,fl)},Mu()}function Ex(M,oe){return A.rebind(M,oe,"range","rangeRound","interpolate","clamp")}function Mx(M,oe){return x3(M,kx(Y3(M,oe)[2])),x3(M,kx(Y3(M,oe)[2])),M}function Y3(M,oe){oe==null&&(oe=10);var st=W2(M),fl=st[1]-st[0],Cl=Math.pow(10,Math.floor(Math.log(fl/oe)/Math.LN10)),Rl=oe/fl*Cl;return Rl<=.15?Cl*=10:Rl<=.35?Cl*=5:Rl<=.75&&(Cl*=2),st[0]=Math.ceil(st[0]/Cl)*Cl,st[1]=Math.floor(st[1]/Cl)*Cl+Cl*.5,st[2]=Cl,st}function K3(M,oe){return A.range.apply(A,Y3(M,oe))}A.scale.log=function(){return Ax(A.scale.linear().domain([0,1]),10,!0,[1,10])};function Ax(M,oe,st,fl){function Cl(hu){return(st?Math.log(hu<0?0:hu):-Math.log(hu>0?0:-hu))/Math.log(oe)}function Rl(hu){return st?Math.pow(oe,hu):-Math.pow(oe,-hu)}function Mu(hu){return M(Cl(hu))}return Mu.invert=function(hu){return Rl(M.invert(hu))},Mu.domain=function(hu){return arguments.length?(st=hu[0]>=0,M.domain((fl=hu.map(Number)).map(Cl)),Mu):fl},Mu.base=function(hu){return arguments.length?(oe=+hu,M.domain(fl.map(Cl)),Mu):oe},Mu.nice=function(){var hu=x3(fl.map(Cl),st?Math:xb);return M.domain(hu),fl=hu.map(Rl),Mu},Mu.ticks=function(){var hu=W2(fl),Uu=[],cd=hu[0],pd=hu[1],Vd=Math.floor(Cl(cd)),Zd=Math.ceil(Cl(pd)),Eh=oe%1?2:oe;if(isFinite(Zd-Vd)){if(st){for(;Vd<Zd;Vd++)for(var Vh=1;Vh<Eh;Vh++)Uu.push(Rl(Vd)*Vh);Uu.push(Rl(Vd))}else for(Uu.push(Rl(Vd));Vd++<Zd;)for(var Vh=Eh-1;Vh>0;Vh--)Uu.push(Rl(Vd)*Vh);for(Vd=0;Uu[Vd]<cd;Vd++);for(Zd=Uu.length;Uu[Zd-1]>pd;Zd--);Uu=Uu.slice(Vd,Zd)}return Uu},Mu.copy=function(){return Ax(M.copy(),oe,st,fl)},Ex(Mu,M)}var xb={floor:function(M){return-Math.ceil(-M)},ceil:function(M){return-Math.floor(-M)}};A.scale.pow=function(){return Z3(A.scale.linear(),1,[0,1])};function Z3(M,oe,st){var fl=b3(oe),Cl=b3(1/oe);function Rl(Mu){return M(fl(Mu))}return Rl.invert=function(Mu){return Cl(M.invert(Mu))},Rl.domain=function(Mu){return arguments.length?(M.domain((st=Mu.map(Number)).map(fl)),Rl):st},Rl.ticks=function(Mu){return K3(st,Mu)},Rl.tickFormat=function(Mu,hu){return d3_scale_linearTickFormat(st,Mu,hu)},Rl.nice=function(Mu){return Rl.domain(Mx(st,Mu))},Rl.exponent=function(Mu){return arguments.length?(fl=b3(oe=Mu),Cl=b3(1/oe),M.domain(st.map(fl)),Rl):oe},Rl.copy=function(){return Z3(M.copy(),oe,st)},Ex(Rl,M)}function b3(M){return function(oe){return oe<0?-Math.pow(-oe,M):Math.pow(oe,M)}}A.scale.sqrt=function(){return A.scale.pow().exponent(.5)},A.scale.ordinal=function(){return Tx([],{t:"range",a:[[]]})};function Tx(M,oe){var st,fl,Cl;function Rl(hu){return fl[((st.get(hu)||(oe.t==="range"?st.set(hu,M.push(hu)):NaN))-1)%fl.length]}function Mu(hu,Uu){return A.range(M.length).map(function(cd){return hu+Uu*cd})}return Rl.domain=function(hu){if(!arguments.length)return M;M=[],st=new se;for(var Uu=-1,cd=hu.length,pd;++Uu<cd;)st.has(pd=hu[Uu])||st.set(pd,M.push(pd));return Rl[oe.t].apply(Rl,oe.a)},Rl.range=function(hu){return arguments.length?(fl=hu,Cl=0,oe={t:"range",a:arguments},Rl):fl},Rl.rangePoints=function(hu,Uu){arguments.length<2&&(Uu=0);var cd=hu[0],pd=hu[1],Vd=M.length<2?(cd=(cd+pd)/2,0):(pd-cd)/(M.length-1+Uu);return fl=Mu(cd+Vd*Uu/2,Vd),Cl=0,oe={t:"rangePoints",a:arguments},Rl},Rl.rangeRoundPoints=function(hu,Uu){arguments.length<2&&(Uu=0);var cd=hu[0],pd=hu[1],Vd=M.length<2?(cd=pd=Math.round((cd+pd)/2),0):(pd-cd)/(M.length-1+Uu)|0;return fl=Mu(cd+Math.round(Vd*Uu/2+(pd-cd-(M.length-1+Uu)*Vd)/2),Vd),Cl=0,oe={t:"rangeRoundPoints",a:arguments},Rl},Rl.rangeBands=function(hu,Uu,cd){arguments.length<2&&(Uu=0),arguments.length<3&&(cd=Uu);var pd=hu[1]<hu[0],Vd=hu[pd-0],Zd=hu[1-pd],Eh=(Zd-Vd)/(M.length-Uu+2*cd);return fl=Mu(Vd+Eh*cd,Eh),pd&&fl.reverse(),Cl=Eh*(1-Uu),oe={t:"rangeBands",a:arguments},Rl},Rl.rangeRoundBands=function(hu,Uu,cd){arguments.length<2&&(Uu=0),arguments.length<3&&(cd=Uu);var pd=hu[1]<hu[0],Vd=hu[pd-0],Zd=hu[1-pd],Eh=Math.floor((Zd-Vd)/(M.length-Uu+2*cd));return fl=Mu(Vd+Math.round((Zd-Vd-(M.length-Uu)*Eh)/2),Eh),pd&&fl.reverse(),Cl=Math.round(Eh*(1-Uu)),oe={t:"rangeRoundBands",a:arguments},Rl},Rl.rangeBand=function(){return Cl},Rl.rangeExtent=function(){return W2(oe.a[0])},Rl.copy=function(){return Tx(M,oe)},Rl.domain(M)}A.scale.category10=function(){return A.scale.ordinal().range(bb)},A.scale.category20=function(){return A.scale.ordinal().range(Rx)},A.scale.category20b=function(){return A.scale.ordinal().range(Fx)},A.scale.category20c=function(){return A.scale.ordinal().range(wb)};var bb=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Fl),Rx=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Fl),Fx=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Fl),wb=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Fl);A.scale.quantile=function(){return X3([],[])};function X3(M,oe){var st;function fl(){var Rl=0,Mu=oe.length;for(st=[];++Rl<Mu;)st[Rl-1]=A.quantile(M,Rl/Mu);return Cl}function Cl(Rl){if(!isNaN(Rl=+Rl))return oe[A.bisect(st,Rl)]}return Cl.domain=function(Rl){return arguments.length?(M=Rl.map(Q).filter(Z).sort(U),fl()):M},Cl.range=function(Rl){return arguments.length?(oe=Rl,fl()):oe},Cl.quantiles=function(){return st},Cl.invertExtent=function(Rl){return Rl=oe.indexOf(Rl),Rl<0?[NaN,NaN]:[Rl>0?st[Rl-1]:M[0],Rl<st.length?st[Rl]:M[M.length-1]]},Cl.copy=function(){return X3(M,oe)},fl()}A.scale.quantize=function(){return Q3(0,1,[0,1])};function Q3(M,oe,st){var fl,Cl;function Rl(hu){return st[Math.max(0,Math.min(Cl,Math.floor(fl*(hu-M))))]}function Mu(){return fl=st.length/(oe-M),Cl=st.length-1,Rl}return Rl.domain=function(hu){return arguments.length?(M=+hu[0],oe=+hu[hu.length-1],Mu()):[M,oe]},Rl.range=function(hu){return arguments.length?(st=hu,Mu()):st},Rl.invertExtent=function(hu){return hu=st.indexOf(hu),hu=hu<0?NaN:hu/fl+M,[hu,hu+1/fl]},Rl.copy=function(){return Q3(M,oe,st)},Mu()}A.scale.threshold=function(){return J3([.5],[0,1])};function J3(M,oe){function st(fl){if(fl<=fl)return oe[A.bisect(M,fl)]}return st.domain=function(fl){return arguments.length?(M=fl,st):M},st.range=function(fl){return arguments.length?(oe=fl,st):oe},st.invertExtent=function(fl){return fl=oe.indexOf(fl),[M[fl-1],M[fl]]},st.copy=function(){return J3(M,oe)},st}A.scale.identity=function(){return ex([0,1])};function ex(M){function oe(st){return+st}return oe.invert=oe,oe.domain=oe.range=function(st){return arguments.length?(M=st.map(oe),oe):M},oe.ticks=function(st){return K3(M,st)},oe.tickFormat=function(st,fl){return d3_scale_linearTickFormat(M,st,fl)},oe.copy=function(){return ex(M)},oe}A.svg={};function Px(){return 0}A.svg.arc=function(){var M=Dx,oe=Lx,st=Px,fl=w3,Cl=C3,Rl=tx,Mu=Cb;function hu(){var cd=Math.max(0,+M.apply(this,arguments)),pd=Math.max(0,+oe.apply(this,arguments)),Vd=Cl.apply(this,arguments)-Ku,Zd=Rl.apply(this,arguments)-Ku,Eh=Math.abs(Zd-Vd),Vh=Vd>Zd?0:1;if(pd<cd&&(Jd=pd,pd=cd,cd=Jd),Eh>=Hu)return Uu(pd,Vh)+(cd?Uu(cd,1-Vh):"")+"Z";var Jd,bh,Sh,Bh,Gh=0,kh=0,Nf,yp,kp,wp,Np,Bp,P0,Wp,k0=[];if((Bh=(+Mu.apply(this,arguments)||0)/2)&&(Sh=fl===w3?Math.sqrt(cd*cd+pd*pd):+fl.apply(this,arguments),Vh||(kh*=-1),pd&&(kh=Fd(Sh/pd*Math.sin(Bh))),cd&&(Gh=Fd(Sh/cd*Math.sin(Bh)))),pd){Nf=pd*Math.cos(Vd+kh),yp=pd*Math.sin(Vd+kh),kp=pd*Math.cos(Zd-kh),wp=pd*Math.sin(Zd-kh);var Ig=Math.abs(Zd-Vd-2*kh)<=Ul?0:1;if(kh&&$2(Nf,yp,kp,wp)===Vh^Ig){var bm=(Vd+Zd)/2;Nf=pd*Math.cos(bm),yp=pd*Math.sin(bm),kp=wp=null}}else Nf=yp=0;if(cd){Np=cd*Math.cos(Zd-Gh),Bp=cd*Math.sin(Zd-Gh),P0=cd*Math.cos(Vd+Gh),Wp=cd*Math.sin(Vd+Gh);var Wg=Math.abs(Vd-Zd+2*Gh)<=Ul?0:1;if(Gh&&$2(Np,Bp,P0,Wp)===1-Vh^Wg){var gp=(Vd+Zd)/2;Np=cd*Math.cos(gp),Bp=cd*Math.sin(gp),P0=Wp=null}}else Np=Bp=0;if(Eh>sd&&(Jd=Math.min(Math.abs(pd-cd)/2,+st.apply(this,arguments)))>.001){bh=cd<pd^Vh?0:1;var D0=Jd,U0=Jd;if(Eh<Ul){var Og=P0==null?[Np,Bp]:kp==null?[Nf,yp]:r0([Nf,yp],[P0,Wp],[kp,wp],[Np,Bp]),mm=Nf-Og[0],Fm=yp-Og[1],$m=kp-Og[0],a1=wp-Og[1],h1=1/Math.sin(Math.acos((mm*$m+Fm*a1)/(Math.sqrt(mm*mm+Fm*Fm)*Math.sqrt($m*$m+a1*a1)))/2),Xm=Math.sqrt(Og[0]*Og[0]+Og[1]*Og[1]);U0=Math.min(Jd,(cd-Xm)/(h1-1)),D0=Math.min(Jd,(pd-Xm)/(h1+1))}if(kp!=null){var w1=x2(P0==null?[Np,Bp]:[P0,Wp],[Nf,yp],pd,D0,Vh),qm=x2([kp,wp],[Np,Bp],pd,D0,Vh);Jd===D0?k0.push("M",w1[0],"A",D0,",",D0," 0 0,",bh," ",w1[1],"A",pd,",",pd," 0 ",1-Vh^$2(w1[1][0],w1[1][1],qm[1][0],qm[1][1]),",",Vh," ",qm[1],"A",D0,",",D0," 0 0,",bh," ",qm[0]):k0.push("M",w1[0],"A",D0,",",D0," 0 1,",bh," ",qm[0])}else k0.push("M",Nf,",",yp);if(P0!=null){var C1=x2([Nf,yp],[P0,Wp],cd,-U0,Vh),Hy=x2([Np,Bp],kp==null?[Nf,yp]:[kp,wp],cd,-U0,Vh);Jd===U0?k0.push("L",Hy[0],"A",U0,",",U0," 0 0,",bh," ",Hy[1],"A",cd,",",cd," 0 ",Vh^$2(Hy[1][0],Hy[1][1],C1[1][0],C1[1][1]),",",1-Vh," ",C1[1],"A",U0,",",U0," 0 0,",bh," ",C1[0]):k0.push("L",Hy[0],"A",U0,",",U0," 0 0,",bh," ",C1[0])}else k0.push("L",Np,",",Bp)}else k0.push("M",Nf,",",yp),kp!=null&&k0.push("A",pd,",",pd," 0 ",Ig,",",Vh," ",kp,",",wp),k0.push("L",Np,",",Bp),P0!=null&&k0.push("A",cd,",",cd," 0 ",Wg,",",1-Vh," ",P0,",",Wp);return k0.push("Z"),k0.join("")}function Uu(cd,pd){return"M0,"+cd+"A"+cd+","+cd+" 0 1,"+pd+" 0,"+-cd+"A"+cd+","+cd+" 0 1,"+pd+" 0,"+cd}return hu.innerRadius=function(cd){return arguments.length?(M=Kd(cd),hu):M},hu.outerRadius=function(cd){return arguments.length?(oe=Kd(cd),hu):oe},hu.cornerRadius=function(cd){return arguments.length?(st=Kd(cd),hu):st},hu.padRadius=function(cd){return arguments.length?(fl=cd==w3?w3:Kd(cd),hu):fl},hu.startAngle=function(cd){return arguments.length?(Cl=Kd(cd),hu):Cl},hu.endAngle=function(cd){return arguments.length?(Rl=Kd(cd),hu):Rl},hu.padAngle=function(cd){return arguments.length?(Mu=Kd(cd),hu):Mu},hu.centroid=function(){var cd=(+M.apply(this,arguments)+ +oe.apply(this,arguments))/2,pd=(+Cl.apply(this,arguments)+ +Rl.apply(this,arguments))/2-Ku;return[Math.cos(pd)*cd,Math.sin(pd)*cd]},hu};var w3="auto";function Dx(M){return M.innerRadius}function Lx(M){return M.outerRadius}function C3(M){return M.startAngle}function tx(M){return M.endAngle}function Cb(M){return M&&M.padAngle}function $2(M,oe,st,fl){return(M-st)*oe-(oe-fl)*M>0?0:1}function x2(M,oe,st,fl,Cl){var Rl=M[0]-oe[0],Mu=M[1]-oe[1],hu=(Cl?fl:-fl)/Math.sqrt(Rl*Rl+Mu*Mu),Uu=hu*Mu,cd=-hu*Rl,pd=M[0]+Uu,Vd=M[1]+cd,Zd=oe[0]+Uu,Eh=oe[1]+cd,Vh=(pd+Zd)/2,Jd=(Vd+Eh)/2,bh=Zd-pd,Sh=Eh-Vd,Bh=bh*bh+Sh*Sh,Gh=st-fl,kh=pd*Eh-Zd*Vd,Nf=(Sh<0?-1:1)*Math.sqrt(Math.max(0,Gh*Gh*Bh-kh*kh)),yp=(kh*Sh-bh*Nf)/Bh,kp=(-kh*bh-Sh*Nf)/Bh,wp=(kh*Sh+bh*Nf)/Bh,Np=(-kh*bh+Sh*Nf)/Bh,Bp=yp-Vh,P0=kp-Jd,Wp=wp-Vh,k0=Np-Jd;return Bp*Bp+P0*P0>Wp*Wp+k0*k0&&(yp=wp,kp=Np),[[yp-Uu,kp-cd],[yp*st/Gh,kp*st/Gh]]}function Ix(){return!0}function Ox(M){var oe=F0,st=kg,fl=Ix,Cl=sv,Rl=Cl.key,Mu=.7;function hu(Uu){var cd=[],pd=[],Vd=-1,Zd=Uu.length,Eh,Vh=Kd(oe),Jd=Kd(st);function bh(){cd.push("M",Cl(M(pd),Mu))}for(;++Vd<Zd;)fl.call(this,Eh=Uu[Vd],Vd)?pd.push([+Vh.call(this,Eh,Vd),+Jd.call(this,Eh,Vd)]):pd.length&&(bh(),pd=[]);return pd.length&&bh(),cd.length?cd.join(""):null}return hu.x=function(Uu){return arguments.length?(oe=Uu,hu):oe},hu.y=function(Uu){return arguments.length?(st=Uu,hu):st},hu.defined=function(Uu){return arguments.length?(fl=Uu,hu):fl},hu.interpolate=function(Uu){return arguments.length?(typeof Uu=="function"?Rl=Cl=Uu:Rl=(Cl=rx.get(Uu)||sv).key,hu):Rl},hu.tension=function(Uu){return arguments.length?(Mu=Uu,hu):Mu},hu}A.svg.line=function(){return Ox(vl)};var rx=A.map({linear:sv,"linear-closed":zx,step:Sb,"step-before":nx,"step-after":ix,basis:Nx,"basis-open":Mb,"basis-closed":Ab,bundle:Tb,cardinal:Eb,"cardinal-open":kb,"cardinal-closed":_b,monotone:Pb});rx.forEach(function(M,oe){oe.key=M,oe.closed=/-closed$/.test(M)});function sv(M){return M.length>1?M.join("L"):M+"Z"}function zx(M){return M.join("L")+"Z"}function Sb(M){for(var oe=0,st=M.length,fl=M[0],Cl=[fl[0],",",fl[1]];++oe<st;)Cl.push("H",(fl[0]+(fl=M[oe])[0])/2,"V",fl[1]);return st>1&&Cl.push("H",fl[0]),Cl.join("")}function nx(M){for(var oe=0,st=M.length,fl=M[0],Cl=[fl[0],",",fl[1]];++oe<st;)Cl.push("V",(fl=M[oe])[1],"H",fl[0]);return Cl.join("")}function ix(M){for(var oe=0,st=M.length,fl=M[0],Cl=[fl[0],",",fl[1]];++oe<st;)Cl.push("H",(fl=M[oe])[0],"V",fl[1]);return Cl.join("")}function kb(M,oe){return M.length<4?sv(M):M[1]+S3(M.slice(1,-1),ox(M,oe))}function _b(M,oe){return M.length<3?zx(M):M[0]+S3((M.push(M[0]),M),ox([M[M.length-2]].concat(M,[M[1]]),oe))}function Eb(M,oe){return M.length<3?sv(M):M[0]+S3(M,ox(M,oe))}function S3(M,oe){if(oe.length<1||M.length!=oe.length&&M.length!=oe.length+2)return sv(M);var st=M.length!=oe.length,fl="",Cl=M[0],Rl=M[1],Mu=oe[0],hu=Mu,Uu=1;if(st&&(fl+="Q"+(Rl[0]-Mu[0]*2/3)+","+(Rl[1]-Mu[1]*2/3)+","+Rl[0]+","+Rl[1],Cl=M[1],Uu=2),oe.length>1){hu=oe[1],Rl=M[Uu],Uu++,fl+="C"+(Cl[0]+Mu[0])+","+(Cl[1]+Mu[1])+","+(Rl[0]-hu[0])+","+(Rl[1]-hu[1])+","+Rl[0]+","+Rl[1];for(var cd=2;cd<oe.length;cd++,Uu++)Rl=M[Uu],hu=oe[cd],fl+="S"+(Rl[0]-hu[0])+","+(Rl[1]-hu[1])+","+Rl[0]+","+Rl[1]}if(st){var pd=M[Uu];fl+="Q"+(Rl[0]+hu[0]*2/3)+","+(Rl[1]+hu[1]*2/3)+","+pd[0]+","+pd[1]}return fl}function ox(M,oe){for(var st=[],fl=(1-oe)/2,Cl,Rl=M[0],Mu=M[1],hu=1,Uu=M.length;++hu<Uu;)Cl=Rl,Rl=Mu,Mu=M[hu],st.push([fl*(Mu[0]-Cl[0]),fl*(Mu[1]-Cl[1])]);return st}function Nx(M){if(M.length<3)return sv(M);var oe=1,st=M.length,fl=M[0],Cl=fl[0],Rl=fl[1],Mu=[Cl,Cl,Cl,(fl=M[1])[0]],hu=[Rl,Rl,Rl,fl[1]],Uu=[Cl,",",Rl,"L",V1(Qv,Mu),",",V1(Qv,hu)];for(M.push(M[st-1]);++oe<=st;)fl=M[oe],Mu.shift(),Mu.push(fl[0]),hu.shift(),hu.push(fl[1]),ax(Uu,Mu,hu);return M.pop(),Uu.push("L",fl),Uu.join("")}function Mb(M){if(M.length<4)return sv(M);for(var oe=[],st=-1,fl=M.length,Cl,Rl=[0],Mu=[0];++st<3;)Cl=M[st],Rl.push(Cl[0]),Mu.push(Cl[1]);for(oe.push(V1(Qv,Rl)+","+V1(Qv,Mu)),--st;++st<fl;)Cl=M[st],Rl.shift(),Rl.push(Cl[0]),Mu.shift(),Mu.push(Cl[1]),ax(oe,Rl,Mu);return oe.join("")}function Ab(M){for(var oe,st=-1,fl=M.length,Cl=fl+4,Rl,Mu=[],hu=[];++st<4;)Rl=M[st%fl],Mu.push(Rl[0]),hu.push(Rl[1]);for(oe=[V1(Qv,Mu),",",V1(Qv,hu)],--st;++st<Cl;)Rl=M[st%fl],Mu.shift(),Mu.push(Rl[0]),hu.shift(),hu.push(Rl[1]),ax(oe,Mu,hu);return oe.join("")}function Tb(M,oe){var st=M.length-1;if(st)for(var fl=M[0][0],Cl=M[0][1],Rl=M[st][0]-fl,Mu=M[st][1]-Cl,hu=-1,Uu,cd;++hu<=st;)Uu=M[hu],cd=hu/st,Uu[0]=oe*Uu[0]+(1-oe)*(fl+cd*Rl),Uu[1]=oe*Uu[1]+(1-oe)*(Cl+cd*Mu);return Nx(M)}function V1(M,oe){return M[0]*oe[0]+M[1]*oe[1]+M[2]*oe[2]+M[3]*oe[3]}var Bx=[0,2/3,1/3,0],Hx=[0,1/3,2/3,0],Qv=[0,1/6,2/3,1/6];function ax(M,oe,st){M.push("C",V1(Bx,oe),",",V1(Bx,st),",",V1(Hx,oe),",",V1(Hx,st),",",V1(Qv,oe),",",V1(Qv,st))}function sx(M,oe){return(oe[1]-M[1])/(oe[0]-M[0])}function Rb(M){for(var oe=0,st=M.length-1,fl=[],Cl=M[0],Rl=M[1],Mu=fl[0]=sx(Cl,Rl);++oe<st;)fl[oe]=(Mu+(Mu=sx(Cl=Rl,Rl=M[oe+1])))/2;return fl[oe]=Mu,fl}function Fb(M){for(var oe=[],st,fl,Cl,Rl,Mu=Rb(M),hu=-1,Uu=M.length-1;++hu<Uu;)st=sx(M[hu],M[hu+1]),O(st)<sd?Mu[hu]=Mu[hu+1]=0:(fl=Mu[hu]/st,Cl=Mu[hu+1]/st,Rl=fl*fl+Cl*Cl,Rl>9&&(Rl=st*3/Math.sqrt(Rl),Mu[hu]=Rl*fl,Mu[hu+1]=Rl*Cl));for(hu=-1;++hu<=Uu;)Rl=(M[Math.min(Uu,hu+1)][0]-M[Math.max(0,hu-1)][0])/(6*(1+Mu[hu]*Mu[hu])),oe.push([Rl||0,Mu[hu]*Rl||0]);return oe}function Pb(M){return M.length<3?sv(M):M[0]+S3(M,Fb(M))}A.svg.line.radial=function(){var M=Ox(Gx);return M.radius=M.x,delete M.x,M.angle=M.y,delete M.y,M};function Gx(M){for(var oe,st=-1,fl=M.length,Cl,Rl;++st<fl;)oe=M[st],Cl=oe[0],Rl=oe[1]-Ku,oe[0]=Cl*Math.cos(Rl),oe[1]=Cl*Math.sin(Rl);return M}function Vx(M){var oe=F0,st=F0,fl=0,Cl=kg,Rl=Ix,Mu=sv,hu=Mu.key,Uu=Mu,cd="L",pd=.7;function Vd(Zd){var Eh=[],Vh=[],Jd=[],bh=-1,Sh=Zd.length,Bh,Gh=Kd(oe),kh=Kd(fl),Nf=oe===st?function(){return kp}:Kd(st),yp=fl===Cl?function(){return wp}:Kd(Cl),kp,wp;function Np(){Eh.push("M",Mu(M(Jd),pd),cd,Uu(M(Vh.reverse()),pd),"Z")}for(;++bh<Sh;)Rl.call(this,Bh=Zd[bh],bh)?(Vh.push([kp=+Gh.call(this,Bh,bh),wp=+kh.call(this,Bh,bh)]),Jd.push([+Nf.call(this,Bh,bh),+yp.call(this,Bh,bh)])):Vh.length&&(Np(),Vh=[],Jd=[]);return Vh.length&&Np(),Eh.length?Eh.join(""):null}return Vd.x=function(Zd){return arguments.length?(oe=st=Zd,Vd):st},Vd.x0=function(Zd){return arguments.length?(oe=Zd,Vd):oe},Vd.x1=function(Zd){return arguments.length?(st=Zd,Vd):st},Vd.y=function(Zd){return arguments.length?(fl=Cl=Zd,Vd):Cl},Vd.y0=function(Zd){return arguments.length?(fl=Zd,Vd):fl},Vd.y1=function(Zd){return arguments.length?(Cl=Zd,Vd):Cl},Vd.defined=function(Zd){return arguments.length?(Rl=Zd,Vd):Rl},Vd.interpolate=function(Zd){return arguments.length?(typeof Zd=="function"?hu=Mu=Zd:hu=(Mu=rx.get(Zd)||sv).key,Uu=Mu.reverse||Mu,cd=Mu.closed?"M":"L",Vd):hu},Vd.tension=function(Zd){return arguments.length?(pd=Zd,Vd):pd},Vd}nx.reverse=ix,ix.reverse=nx,A.svg.area=function(){return Vx(vl)},A.svg.area.radial=function(){var M=Vx(Gx);return M.radius=M.x,delete M.x,M.innerRadius=M.x0,delete M.x0,M.outerRadius=M.x1,delete M.x1,M.angle=M.y,delete M.y,M.startAngle=M.y0,delete M.y0,M.endAngle=M.y1,delete M.y1,M};function jx(M){return M.source}function Ux(M){return M.target}A.svg.chord=function(){var M=jx,oe=Ux,st=Db,fl=C3,Cl=tx;function Rl(pd,Vd){var Zd=Mu(this,M,pd,Vd),Eh=Mu(this,oe,pd,Vd);return"M"+Zd.p0+Uu(Zd.r,Zd.p1,Zd.a1-Zd.a0)+(hu(Zd,Eh)?cd(Zd.r,Zd.p1,Zd.r,Zd.p0):cd(Zd.r,Zd.p1,Eh.r,Eh.p0)+Uu(Eh.r,Eh.p1,Eh.a1-Eh.a0)+cd(Eh.r,Eh.p1,Zd.r,Zd.p0))+"Z"}function Mu(pd,Vd,Zd,Eh){var Vh=Vd.call(pd,Zd,Eh),Jd=st.call(pd,Vh,Eh),bh=fl.call(pd,Vh,Eh)-Ku,Sh=Cl.call(pd,Vh,Eh)-Ku;return{r:Jd,a0:bh,a1:Sh,p0:[Jd*Math.cos(bh),Jd*Math.sin(bh)],p1:[Jd*Math.cos(Sh),Jd*Math.sin(Sh)]}}function hu(pd,Vd){return pd.a0==Vd.a0&&pd.a1==Vd.a1}function Uu(pd,Vd,Zd){return"A"+pd+","+pd+" 0 "+ +(Zd>Ul)+",1 "+Vd}function cd(pd,Vd,Zd,Eh){return"Q 0,0 "+Eh}return Rl.radius=function(pd){return arguments.length?(st=Kd(pd),Rl):st},Rl.source=function(pd){return arguments.length?(M=Kd(pd),Rl):M},Rl.target=function(pd){return arguments.length?(oe=Kd(pd),Rl):oe},Rl.startAngle=function(pd){return arguments.length?(fl=Kd(pd),Rl):fl},Rl.endAngle=function(pd){return arguments.length?(Cl=Kd(pd),Rl):Cl},Rl};function Db(M){return M.radius}A.svg.diagonal=function(){var M=jx,oe=Ux,st=Wx;function fl(Cl,Rl){var Mu=M.call(this,Cl,Rl),hu=oe.call(this,Cl,Rl),Uu=(Mu.y+hu.y)/2,cd=[Mu,{x:Mu.x,y:Uu},{x:hu.x,y:Uu},hu];return cd=cd.map(st),"M"+cd[0]+"C"+cd[1]+" "+cd[2]+" "+cd[3]}return fl.source=function(Cl){return arguments.length?(M=Kd(Cl),fl):M},fl.target=function(Cl){return arguments.length?(oe=Kd(Cl),fl):oe},fl.projection=function(Cl){return arguments.length?(st=Cl,fl):st},fl};function Wx(M){return[M.x,M.y]}A.svg.diagonal.radial=function(){var M=A.svg.diagonal(),oe=Wx,st=M.projection;return M.projection=function(fl){return arguments.length?st(Lb(oe=fl)):oe},M};function Lb(M){return function(){var oe=M.apply(this,arguments),st=oe[0],fl=oe[1]-Ku;return[st*Math.cos(fl),st*Math.sin(fl)]}}A.svg.symbol=function(){var M=Ob,oe=Ib;function st(fl,Cl){return(qx.get(M.call(this,fl,Cl))||$x)(oe.call(this,fl,Cl))}return st.type=function(fl){return arguments.length?(M=Kd(fl),st):M},st.size=function(fl){return arguments.length?(oe=Kd(fl),st):oe},st};function Ib(){return 64}function Ob(){return"circle"}function $x(M){var oe=Math.sqrt(M/Ul);return"M0,"+oe+"A"+oe+","+oe+" 0 1,1 0,"+-oe+"A"+oe+","+oe+" 0 1,1 0,"+oe+"Z"}var qx=A.map({circle:$x,cross:function(M){var oe=Math.sqrt(M/5)/2;return"M"+-3*oe+","+-oe+"H"+-oe+"V"+-3*oe+"H"+oe+"V"+-oe+"H"+3*oe+"V"+oe+"H"+oe+"V"+3*oe+"H"+-oe+"V"+oe+"H"+-3*oe+"Z"},diamond:function(M){var oe=Math.sqrt(M/(2*Yx)),st=oe*Yx;return"M0,"+-oe+"L"+st+",0 0,"+oe+" "+-st+",0Z"},square:function(M){var oe=Math.sqrt(M)/2;return"M"+-oe+","+-oe+"L"+oe+","+-oe+" "+oe+","+oe+" "+-oe+","+oe+"Z"},"triangle-down":function(M){var oe=Math.sqrt(M/k3),st=oe*k3/2;return"M0,"+st+"L"+oe+","+-st+" "+-oe+","+-st+"Z"},"triangle-up":function(M){var oe=Math.sqrt(M/k3),st=oe*k3/2;return"M0,"+-st+"L"+oe+","+st+" "+-oe+","+st+"Z"}});A.svg.symbolTypes=qx.keys();var k3=Math.sqrt(3),Yx=Math.tan(30*fd);nl.transition=function(M){for(var oe=By||++Zx,st=ux(M),fl=[],Cl,Rl,Mu=Y2||{time:Date.now(),ease:V2,delay:0,duration:250},hu=-1,Uu=this.length;++hu<Uu;){fl.push(Cl=[]);for(var cd=this[hu],pd=-1,Vd=cd.length;++pd<Vd;)(Rl=cd[pd])&&E3(Rl,pd,st,oe,Mu),Cl.push(Rl)}return q2(fl,st,oe)},nl.interrupt=function(M){return this.each(M==null?_3:Kx(ux(M)))};var _3=Kx(ux());function Kx(M){return function(){var oe,st,fl;(oe=this[M])&&(fl=oe[st=oe.active])&&(fl.timer.c=null,fl.timer.t=NaN,--oe.count?delete oe[st]:delete this[M],oe.active+=.5,fl.event&&fl.event.interrupt.call(this,this.__data__,fl.index))}}function q2(M,oe,st){return cl(M,Rm),M.namespace=oe,M.id=st,M}var Rm=[],Zx=0,By,Y2;Rm.call=nl.call,Rm.empty=nl.empty,Rm.node=nl.node,Rm.size=nl.size,A.transition=function(M,oe){return M&&M.transition?By?M.transition(oe):M:A.selection().transition(M)},A.transition.prototype=Rm,Rm.select=function(M){var oe=this.id,st=this.namespace,fl=[],Cl,Rl,Mu;M=ve(M);for(var hu=-1,Uu=this.length;++hu<Uu;){fl.push(Cl=[]);for(var cd=this[hu],pd=-1,Vd=cd.length;++pd<Vd;)(Mu=cd[pd])&&(Rl=M.call(Mu,Mu.__data__,pd,hu))?("__data__"in Mu&&(Rl.__data__=Mu.__data__),E3(Rl,pd,st,oe,Mu[st][oe]),Cl.push(Rl)):Cl.push(null)}return q2(fl,st,oe)},Rm.selectAll=function(M){var oe=this.id,st=this.namespace,fl=[],Cl,Rl,Mu,hu,Uu;M=_t(M);for(var cd=-1,pd=this.length;++cd<pd;)for(var Vd=this[cd],Zd=-1,Eh=Vd.length;++Zd<Eh;)if(Mu=Vd[Zd]){Uu=Mu[st][oe],Rl=M.call(Mu,Mu.__data__,Zd,cd),fl.push(Cl=[]);for(var Vh=-1,Jd=Rl.length;++Vh<Jd;)(hu=Rl[Vh])&&E3(hu,Vh,st,oe,Uu),Cl.push(hu)}return q2(fl,st,oe)},Rm.filter=function(M){var oe=[],st,fl,Cl;typeof M!="function"&&(M=Gl(M));for(var Rl=0,Mu=this.length;Rl<Mu;Rl++){oe.push(st=[]);for(var fl=this[Rl],hu=0,Uu=fl.length;hu<Uu;hu++)(Cl=fl[hu])&&M.call(Cl,Cl.__data__,hu,Rl)&&st.push(Cl)}return q2(oe,this.namespace,this.id)},Rm.tween=function(M,oe){var st=this.id,fl=this.namespace;return arguments.length<2?this.node()[fl][st].tween.get(M):Sd(this,oe==null?function(Cl){Cl[fl][st].tween.remove(M)}:function(Cl){Cl[fl][st].tween.set(M,oe)})};function lx(M,oe,st,fl){var Cl=M.id,Rl=M.namespace;return Sd(M,typeof st=="function"?function(Mu,hu,Uu){Mu[Rl][Cl].tween.set(oe,fl(st.call(Mu,Mu.__data__,hu,Uu)))}:(st=fl(st),function(Mu){Mu[Rl][Cl].tween.set(oe,st)}))}Rm.attr=function(M,oe){if(arguments.length<2){for(oe in M)this.attr(oe,M[oe]);return this}var st=M=="transform"?xh:i1,fl=A.ns.qualify(M);function Cl(){this.removeAttribute(fl)}function Rl(){this.removeAttributeNS(fl.space,fl.local)}function Mu(Uu){return Uu==null?Cl:(Uu+="",function(){var cd=this.getAttribute(fl),pd;return cd!==Uu&&(pd=st(cd,Uu),function(Vd){this.setAttribute(fl,pd(Vd))})})}function hu(Uu){return Uu==null?Rl:(Uu+="",function(){var cd=this.getAttributeNS(fl.space,fl.local),pd;return cd!==Uu&&(pd=st(cd,Uu),function(Vd){this.setAttributeNS(fl.space,fl.local,pd(Vd))})})}return lx(this,"attr."+M,oe,fl.local?hu:Mu)},Rm.attrTween=function(M,oe){var st=A.ns.qualify(M);function fl(Rl,Mu){var hu=oe.call(this,Rl,Mu,this.getAttribute(st));return hu&&function(Uu){this.setAttribute(st,hu(Uu))}}function Cl(Rl,Mu){var hu=oe.call(this,Rl,Mu,this.getAttributeNS(st.space,st.local));return hu&&function(Uu){this.setAttributeNS(st.space,st.local,hu(Uu))}}return this.tween("attr."+M,st.local?Cl:fl)},Rm.style=function(M,oe,st){var fl=arguments.length;if(fl<3){if(typeof M!="string"){fl<2&&(oe="");for(st in M)this.style(st,M[st],oe);return this}st=""}function Cl(){this.style.removeProperty(M)}function Rl(Mu){return Mu==null?Cl:(Mu+="",function(){var hu=F(this).getComputedStyle(this,null).getPropertyValue(M),Uu;return hu!==Mu&&(Uu=i1(hu,Mu),function(cd){this.style.setProperty(M,Uu(cd),st)})})}return lx(this,"style."+M,oe,Rl)},Rm.styleTween=function(M,oe,st){arguments.length<3&&(st="");function fl(Cl,Rl){var Mu=oe.call(this,Cl,Rl,F(this).getComputedStyle(this,null).getPropertyValue(M));return Mu&&function(hu){this.style.setProperty(M,Mu(hu),st)}}return this.tween("style."+M,fl)},Rm.text=function(M){return lx(this,"text",M,zb)};function zb(M){return M==null&&(M=""),function(){this.textContent=M}}Rm.remove=function(){var M=this.namespace;return this.each("end.transition",function(){var oe;this[M].count<2&&(oe=this.parentNode)&&oe.removeChild(this)})},Rm.ease=function(M){var oe=this.id,st=this.namespace;return arguments.length<1?this.node()[st][oe].ease:(typeof M!="function"&&(M=A.ease.apply(A,arguments)),Sd(this,function(fl){fl[st][oe].ease=M}))},Rm.delay=function(M){var oe=this.id,st=this.namespace;return arguments.length<1?this.node()[st][oe].delay:Sd(this,typeof M=="function"?function(fl,Cl,Rl){fl[st][oe].delay=+M.call(fl,fl.__data__,Cl,Rl)}:(M=+M,function(fl){fl[st][oe].delay=M}))},Rm.duration=function(M){var oe=this.id,st=this.namespace;return arguments.length<1?this.node()[st][oe].duration:Sd(this,typeof M=="function"?function(fl,Cl,Rl){fl[st][oe].duration=Math.max(1,M.call(fl,fl.__data__,Cl,Rl))}:(M=Math.max(1,M),function(fl){fl[st][oe].duration=M}))},Rm.each=function(M,oe){var st=this.id,fl=this.namespace;if(arguments.length<2){var Cl=Y2,Rl=By;try{By=st,Sd(this,function(Mu,hu,Uu){Y2=Mu[fl][st],M.call(Mu,Mu.__data__,hu,Uu)})}finally{Y2=Cl,By=Rl}}else Sd(this,function(Mu){var hu=Mu[fl][st];(hu.event||(hu.event=A.dispatch("start","end","interrupt"))).on(M,oe)});return this},Rm.transition=function(){for(var M=this.id,oe=++Zx,st=this.namespace,fl=[],Cl,Rl,Mu,hu,Uu=0,cd=this.length;Uu<cd;Uu++){fl.push(Cl=[]);for(var Rl=this[Uu],pd=0,Vd=Rl.length;pd<Vd;pd++)(Mu=Rl[pd])&&(hu=Mu[st][M],E3(Mu,pd,st,oe,{time:hu.time,ease:hu.ease,delay:hu.delay+hu.duration,duration:hu.duration})),Cl.push(Mu)}return q2(fl,st,oe)};function ux(M){return M==null?"__transition__":"__transition_"+M+"__"}function E3(M,oe,st,fl,Cl){var Rl=M[st]||(M[st]={active:0,count:0}),Mu=Rl[fl],hu,Uu,cd,pd,Vd;function Zd(Jd){var bh=Mu.delay;if(Uu.t=bh+hu,bh<=Jd)return Eh(Jd-bh);Uu.c=Eh}function Eh(Jd){var bh=Rl.active,Sh=Rl[bh];Sh&&(Sh.timer.c=null,Sh.timer.t=NaN,--Rl.count,delete Rl[bh],Sh.event&&Sh.event.interrupt.call(M,M.__data__,Sh.index));for(var Bh in Rl)if(+Bh<fl){var Gh=Rl[Bh];Gh.timer.c=null,Gh.timer.t=NaN,--Rl.count,delete Rl[Bh]}Uu.c=Vh,ap(function(){return Uu.c&&Vh(Jd||1)&&(Uu.c=null,Uu.t=NaN),1},0,hu),Rl.active=fl,Mu.event&&Mu.event.start.call(M,M.__data__,oe),Vd=[],Mu.tween.forEach(function(kh,Nf){(Nf=Nf.call(M,M.__data__,oe))&&Vd.push(Nf)}),pd=Mu.ease,cd=Mu.duration}function Vh(Jd){for(var bh=Jd/cd,Sh=pd(bh),Bh=Vd.length;Bh>0;)Vd[--Bh].call(M,Sh);if(bh>=1)return Mu.event&&Mu.event.end.call(M,M.__data__,oe),--Rl.count?delete Rl[fl]:delete M[st],1}Mu||(hu=Cl.time,Uu=ap(Zd,0,hu),Mu=Rl[fl]={tween:new se,time:hu,timer:Uu,delay:Cl.delay,duration:Cl.duration,ease:Cl.ease,index:oe},Cl=null,++Rl.count)}A.svg.axis=function(){var M=A.scale.linear(),oe=Xx,st=6,fl=6,Cl=3,Rl=[10],Mu=null,hu;function Uu(cd){cd.each(function(){var pd=A.select(this),Vd=this.__chart__||M,Zd=this.__chart__=M.copy(),Eh=Mu??(Zd.ticks?Zd.ticks.apply(Zd,Rl):Zd.domain()),Vh=hu??(Zd.tickFormat?Zd.tickFormat.apply(Zd,Rl):vl),Jd=pd.selectAll(".tick").data(Eh,Zd),bh=Jd.enter().insert("g",".domain").attr("class","tick").style("opacity",sd),Sh=A.transition(Jd.exit()).style("opacity",sd).remove(),Bh=A.transition(Jd.order()).style("opacity",1),Gh=Math.max(st,0)+Cl,kh,Nf=y2(Zd),yp=pd.selectAll(".domain").data([0]),kp=(yp.enter().append("path").attr("class","domain"),A.transition(yp));bh.append("line"),bh.append("text");var wp=bh.select("line"),Np=Bh.select("line"),Bp=Jd.select("text").text(Vh),P0=bh.select("text"),Wp=Bh.select("text"),k0=oe==="top"||oe==="left"?-1:1,Ig,bm,Wg,gp;if(oe==="bottom"||oe==="top"?(kh=Bb,Ig="x",Wg="y",bm="x2",gp="y2",Bp.attr("dy",k0<0?"0em":".71em").style("text-anchor","middle"),kp.attr("d","M"+Nf[0]+","+k0*fl+"V0H"+Nf[1]+"V"+k0*fl)):(kh=Hb,Ig="y",Wg="x",bm="y2",gp="x2",Bp.attr("dy",".32em").style("text-anchor",k0<0?"end":"start"),kp.attr("d","M"+k0*fl+","+Nf[0]+"H0V"+Nf[1]+"H"+k0*fl)),wp.attr(gp,k0*st),P0.attr(Wg,k0*Gh),Np.attr(bm,0).attr(gp,k0*st),Wp.attr(Ig,0).attr(Wg,k0*Gh),Zd.rangeBand){var D0=Zd,U0=D0.rangeBand()/2;Vd=Zd=function(Og){return D0(Og)+U0}}else Vd.rangeBand?Vd=Zd:Sh.call(kh,Zd,Vd);bh.call(kh,Vd,Zd),Bh.call(kh,Zd,Zd)})}return Uu.scale=function(cd){return arguments.length?(M=cd,Uu):M},Uu.orient=function(cd){return arguments.length?(oe=cd in Nb?cd+"":Xx,Uu):oe},Uu.ticks=function(){return arguments.length?(Rl=C(arguments),Uu):Rl},Uu.tickValues=function(cd){return arguments.length?(Mu=cd,Uu):Mu},Uu.tickFormat=function(cd){return arguments.length?(hu=cd,Uu):hu},Uu.tickSize=function(cd){var pd=arguments.length;return pd?(st=+cd,fl=+arguments[pd-1],Uu):st},Uu.innerTickSize=function(cd){return arguments.length?(st=+cd,Uu):st},Uu.outerTickSize=function(cd){return arguments.length?(fl=+cd,Uu):fl},Uu.tickPadding=function(cd){return arguments.length?(Cl=+cd,Uu):Cl},Uu.tickSubdivide=function(){return arguments.length&&Uu},Uu};var Xx="bottom",Nb={top:1,right:1,bottom:1,left:1};function Bb(M,oe,st){M.attr("transform",function(fl){var Cl=oe(fl);return"translate("+(isFinite(Cl)?Cl:st(fl))+",0)"})}function Hb(M,oe,st){M.attr("transform",function(fl){var Cl=oe(fl);return"translate(0,"+(isFinite(Cl)?Cl:st(fl))+")"})}A.svg.brush=function(){var M=yu(pd,"brushstart","brush","brushend"),oe=null,st=null,fl=[0,0],Cl=[0,0],Rl,Mu,hu=!0,Uu=!0,cd=cx[0];function pd(Jd){Jd.each(function(){var bh=A.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",Vh).on("touchstart.brush",Vh),Sh=bh.selectAll(".background").data([0]);Sh.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),bh.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var Bh=bh.selectAll(".resize").data(cd,vl);Bh.exit().remove(),Bh.enter().append("g").attr("class",function(yp){return"resize "+yp}).style("cursor",function(yp){return Gb[yp]}).append("rect").attr("x",function(yp){return/[ew]$/.test(yp)?-3:null}).attr("y",function(yp){return/^[ns]/.test(yp)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),Bh.style("display",pd.empty()?"none":null);var Gh=A.transition(bh),kh=A.transition(Sh),Nf;oe&&(Nf=y2(oe),kh.attr("x",Nf[0]).attr("width",Nf[1]-Nf[0]),Zd(Gh)),st&&(Nf=y2(st),kh.attr("y",Nf[0]).attr("height",Nf[1]-Nf[0]),Eh(Gh)),Vd(Gh)})}pd.event=function(Jd){Jd.each(function(){var bh=M.of(this,arguments),Sh={x:fl,y:Cl,i:Rl,j:Mu},Bh=this.__chart__||Sh;this.__chart__=Sh,By?A.select(this).transition().each("start.brush",function(){Rl=Bh.i,Mu=Bh.j,fl=Bh.x,Cl=Bh.y,bh({type:"brushstart"})}).tween("brush:brush",function(){var Gh=Zv(fl,Sh.x),kh=Zv(Cl,Sh.y);return Rl=Mu=null,function(Nf){fl=Sh.x=Gh(Nf),Cl=Sh.y=kh(Nf),bh({type:"brush",mode:"resize"})}}).each("end.brush",function(){Rl=Sh.i,Mu=Sh.j,bh({type:"brush",mode:"resize"}),bh({type:"brushend"})}):(bh({type:"brushstart"}),bh({type:"brush",mode:"resize"}),bh({type:"brushend"}))})};function Vd(Jd){Jd.selectAll(".resize").attr("transform",function(bh){return"translate("+fl[+/e$/.test(bh)]+","+Cl[+/^s/.test(bh)]+")"})}function Zd(Jd){Jd.select(".extent").attr("x",fl[0]),Jd.selectAll(".extent,.n>rect,.s>rect").attr("width",fl[1]-fl[0])}function Eh(Jd){Jd.select(".extent").attr("y",Cl[0]),Jd.selectAll(".extent,.e>rect,.w>rect").attr("height",Cl[1]-Cl[0])}function Vh(){var Jd=this,bh=A.select(A.event.target),Sh=M.of(Jd,arguments),Bh=A.select(Jd),Gh=bh.datum(),kh=!/^(n|s)$/.test(Gh)&&oe,Nf=!/^(e|w)$/.test(Gh)&&st,yp=bh.classed("extent"),kp=jh(Jd),wp,Np=A.mouse(Jd),Bp,P0=A.select(F(Jd)).on("keydown.brush",Ig).on("keyup.brush",bm);if(A.event.changedTouches?P0.on("touchmove.brush",Wg).on("touchend.brush",D0):P0.on("mousemove.brush",Wg).on("mouseup.brush",D0),Bh.interrupt().selectAll("*").interrupt(),yp)Np[0]=fl[0]-Np[0],Np[1]=Cl[0]-Np[1];else if(Gh){var Wp=+/w$/.test(Gh),k0=+/^n/.test(Gh);Bp=[fl[1-Wp]-Np[0],Cl[1-k0]-Np[1]],Np[0]=fl[Wp],Np[1]=Cl[k0]}else A.event.altKey&&(wp=Np.slice());Bh.style("pointer-events","none").selectAll(".resize").style("display",null),A.select("body").style("cursor",bh.style("cursor")),Sh({type:"brushstart"}),Wg();function Ig(){A.event.keyCode==32&&(yp||(wp=null,Np[0]-=fl[1],Np[1]-=Cl[1],yp=2),Ol())}function bm(){A.event.keyCode==32&&yp==2&&(Np[0]+=fl[1],Np[1]+=Cl[1],yp=0,Ol())}function Wg(){var U0=A.mouse(Jd),Og=!1;Bp&&(U0[0]+=Bp[0],U0[1]+=Bp[1]),yp||(A.event.altKey?(wp||(wp=[(fl[0]+fl[1])/2,(Cl[0]+Cl[1])/2]),Np[0]=fl[+(U0[0]<wp[0])],Np[1]=Cl[+(U0[1]<wp[1])]):wp=null),kh&&gp(U0,oe,0)&&(Zd(Bh),Og=!0),Nf&&gp(U0,st,1)&&(Eh(Bh),Og=!0),Og&&(Vd(Bh),Sh({type:"brush",mode:yp?"move":"resize"}))}function gp(U0,Og,mm){var Fm=y2(Og),$m=Fm[0],a1=Fm[1],h1=Np[mm],Xm=mm?Cl:fl,w1=Xm[1]-Xm[0],qm,C1;if(yp&&($m-=h1,a1-=w1+h1),qm=(mm?Uu:hu)?Math.max($m,Math.min(a1,U0[mm])):U0[mm],yp?C1=(qm+=h1)+w1:(wp&&(h1=Math.max($m,Math.min(a1,2*wp[mm]-qm))),h1<qm?(C1=qm,qm=h1):C1=h1),Xm[0]!=qm||Xm[1]!=C1)return mm?Mu=null:Rl=null,Xm[0]=qm,Xm[1]=C1,!0}function D0(){Wg(),Bh.style("pointer-events","all").selectAll(".resize").style("display",pd.empty()?"none":null),A.select("body").style("cursor",null),P0.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),kp(),Sh({type:"brushend"})}}return pd.x=function(Jd){return arguments.length?(oe=Jd,cd=cx[!oe<<1|!st],pd):oe},pd.y=function(Jd){return arguments.length?(st=Jd,cd=cx[!oe<<1|!st],pd):st},pd.clamp=function(Jd){return arguments.length?(oe&&st?(hu=!!Jd[0],Uu=!!Jd[1]):oe?hu=!!Jd:st&&(Uu=!!Jd),pd):oe&&st?[hu,Uu]:oe?hu:st?Uu:null},pd.extent=function(Jd){var bh,Sh,Bh,Gh,kh;return arguments.length?(oe&&(bh=Jd[0],Sh=Jd[1],st&&(bh=bh[0],Sh=Sh[0]),Rl=[bh,Sh],oe.invert&&(bh=oe(bh),Sh=oe(Sh)),Sh<bh&&(kh=bh,bh=Sh,Sh=kh),(bh!=fl[0]||Sh!=fl[1])&&(fl=[bh,Sh])),st&&(Bh=Jd[0],Gh=Jd[1],oe&&(Bh=Bh[1],Gh=Gh[1]),Mu=[Bh,Gh],st.invert&&(Bh=st(Bh),Gh=st(Gh)),Gh<Bh&&(kh=Bh,Bh=Gh,Gh=kh),(Bh!=Cl[0]||Gh!=Cl[1])&&(Cl=[Bh,Gh])),pd):(oe&&(Rl?(bh=Rl[0],Sh=Rl[1]):(bh=fl[0],Sh=fl[1],oe.invert&&(bh=oe.invert(bh),Sh=oe.invert(Sh)),Sh<bh&&(kh=bh,bh=Sh,Sh=kh))),st&&(Mu?(Bh=Mu[0],Gh=Mu[1]):(Bh=Cl[0],Gh=Cl[1],st.invert&&(Bh=st.invert(Bh),Gh=st.invert(Gh)),Gh<Bh&&(kh=Bh,Bh=Gh,Gh=kh))),oe&&st?[[bh,Bh],[Sh,Gh]]:oe?[bh,Sh]:st&&[Bh,Gh])},pd.clear=function(){return pd.empty()||(fl=[0,0],Cl=[0,0],Rl=Mu=null),pd},pd.empty=function(){return!!oe&&fl[0]==fl[1]||!!st&&Cl[0]==Cl[1]},A.rebind(pd,M,"on")};var Gb={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},cx=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];A.text=Qd(function(M){return M.responseText}),A.json=function(M,oe){return Mh(M,"application/json",Vb,oe)};function Vb(M){return JSON.parse(M.responseText)}A.html=function(M,oe){return Mh(M,"text/html",jb,oe)};function jb(M){var oe=P.createRange();return oe.selectNode(P.body),oe.createContextualFragment(M.responseText)}A.xml=Qd(function(M){return M.responseXML}),typeof In=="object"&&In.exports?In.exports=A:this.d3=A}).apply(self)}),d=o((rl,In)=>{(function(A,v){typeof rl=="object"&&typeof In<"u"?v(rl):(A=A||self,v(A.d3=A.d3||{}))})(rl,function(A){var v=new Date,C=new Date;function P(Gl,rd,Sd,Pd){function Ud($d){return Gl($d=arguments.length===0?new Date:new Date(+$d)),$d}return Ud.floor=function($d){return Gl($d=new Date(+$d)),$d},Ud.ceil=function($d){return Gl($d=new Date($d-1)),rd($d,1),Gl($d),$d},Ud.round=function($d){var th=Ud($d),sh=Ud.ceil($d);return $d-th<sh-$d?th:sh},Ud.offset=function($d,th){return rd($d=new Date(+$d),th==null?1:Math.floor(th)),$d},Ud.range=function($d,th,sh){var ah=[],Ah;if($d=Ud.ceil($d),sh=sh==null?1:Math.floor(sh),!($d<th)||!(sh>0))return ah;do ah.push(Ah=new Date(+$d)),rd($d,sh),Gl($d);while(Ah<$d&&$d<th);return ah},Ud.filter=function($d){return P(function(th){if(th>=th)for(;Gl(th),!$d(th);)th.setTime(th-1)},function(th,sh){if(th>=th)if(sh<0)for(;++sh<=0;)for(;rd(th,-1),!$d(th););else for(;--sh>=0;)for(;rd(th,1),!$d(th););})},Sd&&(Ud.count=function($d,th){return v.setTime(+$d),C.setTime(+th),Gl(v),Gl(C),Math.floor(Sd(v,C))},Ud.every=function($d){return $d=Math.floor($d),!isFinite($d)||!($d>0)?null:$d>1?Ud.filter(Pd?function(th){return Pd(th)%$d===0}:function(th){return Ud.count(0,th)%$d===0}):Ud}),Ud}var R=P(function(){},function(Gl,rd){Gl.setTime(+Gl+rd)},function(Gl,rd){return rd-Gl});R.every=function(Gl){return Gl=Math.floor(Gl),!isFinite(Gl)||!(Gl>0)?null:Gl>1?P(function(rd){rd.setTime(Math.floor(rd/Gl)*Gl)},function(rd,Sd){rd.setTime(+rd+Sd*Gl)},function(rd,Sd){return(Sd-rd)/Gl}):R};var F=R.range,I=1e3,B=6e4,x=36e5,W=864e5,z=6048e5,U=P(function(Gl){Gl.setTime(Gl-Gl.getMilliseconds())},function(Gl,rd){Gl.setTime(+Gl+rd*I)},function(Gl,rd){return(rd-Gl)/I},function(Gl){return Gl.getUTCSeconds()}),Q=U.range,Z=P(function(Gl){Gl.setTime(Gl-Gl.getMilliseconds()-Gl.getSeconds()*I)},function(Gl,rd){Gl.setTime(+Gl+rd*B)},function(Gl,rd){return(rd-Gl)/B},function(Gl){return Gl.getMinutes()}),$=Z.range,q=P(function(Gl){Gl.setTime(Gl-Gl.getMilliseconds()-Gl.getSeconds()*I-Gl.getMinutes()*B)},function(Gl,rd){Gl.setTime(+Gl+rd*x)},function(Gl,rd){return(rd-Gl)/x},function(Gl){return Gl.getHours()}),J=q.range,O=P(function(Gl){Gl.setHours(0,0,0,0)},function(Gl,rd){Gl.setDate(Gl.getDate()+rd)},function(Gl,rd){return(rd-Gl-(rd.getTimezoneOffset()-Gl.getTimezoneOffset())*B)/W},function(Gl){return Gl.getDate()-1}),j=O.range;function Y(Gl){return P(function(rd){rd.setDate(rd.getDate()-(rd.getDay()+7-Gl)%7),rd.setHours(0,0,0,0)},function(rd,Sd){rd.setDate(rd.getDate()+Sd*7)},function(rd,Sd){return(Sd-rd-(Sd.getTimezoneOffset()-rd.getTimezoneOffset())*B)/z})}var se=Y(0),nt=Y(1),gl=Y(2),Bn=Y(3),jt=Y(4),Pe=Y(5),ml=Y(6),tl=se.range,ul=nt.range,il=gl.range,sl=Bn.range,vl=jt.range,yl=Pe.range,Fn=ml.range,xl=P(function(Gl){Gl.setDate(1),Gl.setHours(0,0,0,0)},function(Gl,rd){Gl.setMonth(Gl.getMonth()+rd)},function(Gl,rd){return rd.getMonth()-Gl.getMonth()+(rd.getFullYear()-Gl.getFullYear())*12},function(Gl){return Gl.getMonth()}),wl=xl.range,kl=P(function(Gl){Gl.setMonth(0,1),Gl.setHours(0,0,0,0)},function(Gl,rd){Gl.setFullYear(Gl.getFullYear()+rd)},function(Gl,rd){return rd.getFullYear()-Gl.getFullYear()},function(Gl){return Gl.getFullYear()});kl.every=function(Gl){return!isFinite(Gl=Math.floor(Gl))||!(Gl>0)?null:P(function(rd){rd.setFullYear(Math.floor(rd.getFullYear()/Gl)*Gl),rd.setMonth(0,1),rd.setHours(0,0,0,0)},function(rd,Sd){rd.setFullYear(rd.getFullYear()+Sd*Gl)})};var Dl=kl.range,Ol=P(function(Gl){Gl.setUTCSeconds(0,0)},function(Gl,rd){Gl.setTime(+Gl+rd*B)},function(Gl,rd){return(rd-Gl)/B},function(Gl){return Gl.getUTCMinutes()}),gu=Ol.range,yu=P(function(Gl){Gl.setUTCMinutes(0,0,0)},function(Gl,rd){Gl.setTime(+Gl+rd*x)},function(Gl,rd){return(rd-Gl)/x},function(Gl){return Gl.getUTCHours()}),Iu=yu.range,cl=P(function(Gl){Gl.setUTCHours(0,0,0,0)},function(Gl,rd){Gl.setUTCDate(Gl.getUTCDate()+rd)},function(Gl,rd){return(rd-Gl)/W},function(Gl){return Gl.getUTCDate()-1}),pl=cl.range;function it(Gl){return P(function(rd){rd.setUTCDate(rd.getUTCDate()-(rd.getUTCDay()+7-Gl)%7),rd.setUTCHours(0,0,0,0)},function(rd,Sd){rd.setUTCDate(rd.getUTCDate()+Sd*7)},function(rd,Sd){return(Sd-rd)/z})}var bl=it(0),Ll=it(1),nl=it(2),ve=it(3),_t=it(4),ol=it(5),dl=it(6),Il=bl.range,ql=Ll.range,Zl=nl.range,Bu=ve.range,Ju=_t.range,yd=ol.range,Hd=dl.range,Rd=P(function(Gl){Gl.setUTCDate(1),Gl.setUTCHours(0,0,0,0)},function(Gl,rd){Gl.setUTCMonth(Gl.getUTCMonth()+rd)},function(Gl,rd){return rd.getUTCMonth()-Gl.getUTCMonth()+(rd.getUTCFullYear()-Gl.getUTCFullYear())*12},function(Gl){return Gl.getUTCMonth()}),Ed=Rd.range,_u=P(function(Gl){Gl.setUTCMonth(0,1),Gl.setUTCHours(0,0,0,0)},function(Gl,rd){Gl.setUTCFullYear(Gl.getUTCFullYear()+rd)},function(Gl,rd){return rd.getUTCFullYear()-Gl.getUTCFullYear()},function(Gl){return Gl.getUTCFullYear()});_u.every=function(Gl){return!isFinite(Gl=Math.floor(Gl))||!(Gl>0)?null:P(function(rd){rd.setUTCFullYear(Math.floor(rd.getUTCFullYear()/Gl)*Gl),rd.setUTCMonth(0,1),rd.setUTCHours(0,0,0,0)},function(rd,Sd){rd.setUTCFullYear(rd.getUTCFullYear()+Sd*Gl)})};var Nu=_u.range;A.timeDay=O,A.timeDays=j,A.timeFriday=Pe,A.timeFridays=yl,A.timeHour=q,A.timeHours=J,A.timeInterval=P,A.timeMillisecond=R,A.timeMilliseconds=F,A.timeMinute=Z,A.timeMinutes=$,A.timeMonday=nt,A.timeMondays=ul,A.timeMonth=xl,A.timeMonths=wl,A.timeSaturday=ml,A.timeSaturdays=Fn,A.timeSecond=U,A.timeSeconds=Q,A.timeSunday=se,A.timeSundays=tl,A.timeThursday=jt,A.timeThursdays=vl,A.timeTuesday=gl,A.timeTuesdays=il,A.timeWednesday=Bn,A.timeWednesdays=sl,A.timeWeek=se,A.timeWeeks=tl,A.timeYear=kl,A.timeYears=Dl,A.utcDay=cl,A.utcDays=pl,A.utcFriday=ol,A.utcFridays=yd,A.utcHour=yu,A.utcHours=Iu,A.utcMillisecond=R,A.utcMilliseconds=F,A.utcMinute=Ol,A.utcMinutes=gu,A.utcMonday=Ll,A.utcMondays=ql,A.utcMonth=Rd,A.utcMonths=Ed,A.utcSaturday=dl,A.utcSaturdays=Hd,A.utcSecond=U,A.utcSeconds=Q,A.utcSunday=bl,A.utcSundays=Il,A.utcThursday=_t,A.utcThursdays=Ju,A.utcTuesday=nl,A.utcTuesdays=Zl,A.utcWednesday=ve,A.utcWednesdays=Bu,A.utcWeek=bl,A.utcWeeks=Il,A.utcYear=_u,A.utcYears=Nu,Object.defineProperty(A,"__esModule",{value:!0})})}),w=o((rl,In)=>{(function(A,v){typeof rl=="object"&&typeof In<"u"?v(rl,d()):(A=A||self,v(A.d3=A.d3||{},A.d3))})(rl,function(A,v){function C(Pu){if(0<=Pu.y&&Pu.y<100){var sd=new Date(-1,Pu.m,Pu.d,Pu.H,Pu.M,Pu.S,Pu.L);return sd.setFullYear(Pu.y),sd}return new Date(Pu.y,Pu.m,Pu.d,Pu.H,Pu.M,Pu.S,Pu.L)}function P(Pu){if(0<=Pu.y&&Pu.y<100){var sd=new Date(Date.UTC(-1,Pu.m,Pu.d,Pu.H,Pu.M,Pu.S,Pu.L));return sd.setUTCFullYear(Pu.y),sd}return new Date(Date.UTC(Pu.y,Pu.m,Pu.d,Pu.H,Pu.M,Pu.S,Pu.L))}function R(Pu,sd,_l){return{y:Pu,m:sd,d:_l,H:0,M:0,S:0,L:0}}function F(Pu){var sd=Pu.dateTime,_l=Pu.date,Ul=Pu.time,Jl=Pu.periods,Hu=Pu.days,Ku=Pu.shortDays,fd=Pu.months,bd=Pu.shortMonths,Nd=Q(Jl),Fd=Z(Jl),zd=Q(Hu),lh=Z(Hu),hh=Q(Ku),gh=Z(Ku),Zh=Q(fd),yf=Z(fd),Pf=Q(bd),jf=Z(bd),tp={a:p0,A:m0,b:Ap,B:Hp,c:null,d:xl,e:xl,f:gu,H:wl,I:kl,j:Dl,L:Ol,m:yu,M:Iu,p:Tp,q:bf,Q:th,s:sh,S:cl,u:pl,U:it,V:bl,w:Ll,W:nl,x:null,X:null,y:ve,Y:_t,Z:ol,"%":$d},Tf={a:N0,A:Fl,b:Sl,B:od,c:null,d:dl,e:dl,f:Ju,H:Il,I:ql,j:Zl,L:Bu,m:yd,M:Hd,p:dd,q:_d,Q:th,s:sh,S:Rd,u:Ed,U:_u,V:Nu,w:Gl,W:rd,x:null,X:null,y:Sd,Y:Pd,Z:Ud,"%":$d},$h={a:If,A:Ff,b:bp,B:Op,c:Wf,d:jt,e:jt,f:sl,H:ml,I:ml,j:Pe,L:il,m:Bn,M:tl,p:Df,q:gl,Q:yl,s:Fn,S:ul,u:q,U:J,V:O,w:$,W:j,x:zp,X:qp,y:se,Y,Z:nt,"%":vl};tp.x=Gf(_l,tp),tp.X=Gf(Ul,tp),tp.c=Gf(sd,tp),Tf.x=Gf(_l,Tf),Tf.X=Gf(Ul,Tf),Tf.c=Gf(sd,Tf);function Gf(nd,ud){return function(Td){var wd=[],Kd=-1,Qd=0,Mh=nd.length,hf,Kh,wf;for(Td instanceof Date||(Td=new Date(+Td));++Kd<Mh;)nd.charCodeAt(Kd)===37&&(wd.push(nd.slice(Qd,Kd)),(Kh=I[hf=nd.charAt(++Kd)])!=null?hf=nd.charAt(++Kd):Kh=hf==="e"?" ":"0",(wf=ud[hf])&&(hf=wf(Td,Kh)),wd.push(hf),Qd=Kd+1);return wd.push(nd.slice(Qd,Kd)),wd.join("")}}function of(nd,ud){return function(Td){var wd=R(1900,void 0,1),Kd=Lf(wd,nd,Td+="",0),Qd,Mh;if(Kd!=Td.length)return null;if("Q"in wd)return new Date(wd.Q);if("s"in wd)return new Date(wd.s*1e3+("L"in wd?wd.L:0));if(ud&&!("Z"in wd)&&(wd.Z=0),"p"in wd&&(wd.H=wd.H%12+wd.p*12),wd.m===void 0&&(wd.m="q"in wd?wd.q:0),"V"in wd){if(wd.V<1||wd.V>53)return null;"w"in wd||(wd.w=1),"Z"in wd?(Qd=P(R(wd.y,0,1)),Mh=Qd.getUTCDay(),Qd=Mh>4||Mh===0?v.utcMonday.ceil(Qd):v.utcMonday(Qd),Qd=v.utcDay.offset(Qd,(wd.V-1)*7),wd.y=Qd.getUTCFullYear(),wd.m=Qd.getUTCMonth(),wd.d=Qd.getUTCDate()+(wd.w+6)%7):(Qd=C(R(wd.y,0,1)),Mh=Qd.getDay(),Qd=Mh>4||Mh===0?v.timeMonday.ceil(Qd):v.timeMonday(Qd),Qd=v.timeDay.offset(Qd,(wd.V-1)*7),wd.y=Qd.getFullYear(),wd.m=Qd.getMonth(),wd.d=Qd.getDate()+(wd.w+6)%7)}else("W"in wd||"U"in wd)&&("w"in wd||(wd.w="u"in wd?wd.u%7:"W"in wd?1:0),Mh="Z"in wd?P(R(wd.y,0,1)).getUTCDay():C(R(wd.y,0,1)).getDay(),wd.m=0,wd.d="W"in wd?(wd.w+6)%7+wd.W*7-(Mh+5)%7:wd.w+wd.U*7-(Mh+6)%7);return"Z"in wd?(wd.H+=wd.Z/100|0,wd.M+=wd.Z%100,P(wd)):C(wd)}}function Lf(nd,ud,Td,wd){for(var Kd=0,Qd=ud.length,Mh=Td.length,hf,Kh;Kd<Qd;){if(wd>=Mh)return-1;if(hf=ud.charCodeAt(Kd++),hf===37){if(hf=ud.charAt(Kd++),Kh=$h[hf in I?ud.charAt(Kd++):hf],!Kh||(wd=Kh(nd,Td,wd))<0)return-1}else if(hf!=Td.charCodeAt(wd++))return-1}return wd}function Df(nd,ud,Td){var wd=Nd.exec(ud.slice(Td));return wd?(nd.p=Fd[wd[0].toLowerCase()],Td+wd[0].length):-1}function If(nd,ud,Td){var wd=hh.exec(ud.slice(Td));return wd?(nd.w=gh[wd[0].toLowerCase()],Td+wd[0].length):-1}function Ff(nd,ud,Td){var wd=zd.exec(ud.slice(Td));return wd?(nd.w=lh[wd[0].toLowerCase()],Td+wd[0].length):-1}function bp(nd,ud,Td){var wd=Pf.exec(ud.slice(Td));return wd?(nd.m=jf[wd[0].toLowerCase()],Td+wd[0].length):-1}function Op(nd,ud,Td){var wd=Zh.exec(ud.slice(Td));return wd?(nd.m=yf[wd[0].toLowerCase()],Td+wd[0].length):-1}function Wf(nd,ud,Td){return Lf(nd,sd,ud,Td)}function zp(nd,ud,Td){return Lf(nd,_l,ud,Td)}function qp(nd,ud,Td){return Lf(nd,Ul,ud,Td)}function p0(nd){return Ku[nd.getDay()]}function m0(nd){return Hu[nd.getDay()]}function Ap(nd){return bd[nd.getMonth()]}function Hp(nd){return fd[nd.getMonth()]}function Tp(nd){return Jl[+(nd.getHours()>=12)]}function bf(nd){return 1+~~(nd.getMonth()/3)}function N0(nd){return Ku[nd.getUTCDay()]}function Fl(nd){return Hu[nd.getUTCDay()]}function Sl(nd){return bd[nd.getUTCMonth()]}function od(nd){return fd[nd.getUTCMonth()]}function dd(nd){return Jl[+(nd.getUTCHours()>=12)]}function _d(nd){return 1+~~(nd.getUTCMonth()/3)}return{format:function(nd){var ud=Gf(nd+="",tp);return ud.toString=function(){return nd},ud},parse:function(nd){var ud=of(nd+="",!1);return ud.toString=function(){return nd},ud},utcFormat:function(nd){var ud=Gf(nd+="",Tf);return ud.toString=function(){return nd},ud},utcParse:function(nd){var ud=of(nd+="",!0);return ud.toString=function(){return nd},ud}}}var I={"-":"",_:" ",0:"0"},B=/^\s*\d+/,x=/^%/,W=/[\\^$*+?|[\]().{}]/g;function z(Pu,sd,_l){var Ul=Pu<0?"-":"",Jl=(Ul?-Pu:Pu)+"",Hu=Jl.length;return Ul+(Hu<_l?new Array(_l-Hu+1).join(sd)+Jl:Jl)}function U(Pu){return Pu.replace(W,"\\$&")}function Q(Pu){return new RegExp("^(?:"+Pu.map(U).join("|")+")","i")}function Z(Pu){for(var sd={},_l=-1,Ul=Pu.length;++_l<Ul;)sd[Pu[_l].toLowerCase()]=_l;return sd}function $(Pu,sd,_l){var Ul=B.exec(sd.slice(_l,_l+1));return Ul?(Pu.w=+Ul[0],_l+Ul[0].length):-1}function q(Pu,sd,_l){var Ul=B.exec(sd.slice(_l,_l+1));return Ul?(Pu.u=+Ul[0],_l+Ul[0].length):-1}function J(Pu,sd,_l){var Ul=B.exec(sd.slice(_l,_l+2));return Ul?(Pu.U=+Ul[0],_l+Ul[0].length):-1}function O(Pu,sd,_l){var Ul=B.exec(sd.slice(_l,_l+2));return Ul?(Pu.V=+Ul[0],_l+Ul[0].length):-1}function j(Pu,sd,_l){var Ul=B.exec(sd.slice(_l,_l+2));return Ul?(Pu.W=+Ul[0],_l+Ul[0].length):-1}function Y(Pu,sd,_l){var Ul=B.exec(sd.slice(_l,_l+4));return Ul?(Pu.y=+Ul[0],_l+Ul[0].length):-1}function se(Pu,sd,_l){var Ul=B.exec(sd.slice(_l,_l+2));return Ul?(Pu.y=+Ul[0]+(+Ul[0]>68?1900:2e3),_l+Ul[0].length):-1}function nt(Pu,sd,_l){var Ul=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(sd.slice(_l,_l+6));return Ul?(Pu.Z=Ul[1]?0:-(Ul[2]+(Ul[3]||"00")),_l+Ul[0].length):-1}function gl(Pu,sd,_l){var Ul=B.exec(sd.slice(_l,_l+1));return Ul?(Pu.q=Ul[0]*3-3,_l+Ul[0].length):-1}function Bn(Pu,sd,_l){var Ul=B.exec(sd.slice(_l,_l+2));return Ul?(Pu.m=Ul[0]-1,_l+Ul[0].length):-1}function jt(Pu,sd,_l){var Ul=B.exec(sd.slice(_l,_l+2));return Ul?(Pu.d=+Ul[0],_l+Ul[0].length):-1}function Pe(Pu,sd,_l){var Ul=B.exec(sd.slice(_l,_l+3));return Ul?(Pu.m=0,Pu.d=+Ul[0],_l+Ul[0].length):-1}function ml(Pu,sd,_l){var Ul=B.exec(sd.slice(_l,_l+2));return Ul?(Pu.H=+Ul[0],_l+Ul[0].length):-1}function tl(Pu,sd,_l){var Ul=B.exec(sd.slice(_l,_l+2));return Ul?(Pu.M=+Ul[0],_l+Ul[0].length):-1}function ul(Pu,sd,_l){var Ul=B.exec(sd.slice(_l,_l+2));return Ul?(Pu.S=+Ul[0],_l+Ul[0].length):-1}function il(Pu,sd,_l){var Ul=B.exec(sd.slice(_l,_l+3));return Ul?(Pu.L=+Ul[0],_l+Ul[0].length):-1}function sl(Pu,sd,_l){var Ul=B.exec(sd.slice(_l,_l+6));return Ul?(Pu.L=Math.floor(Ul[0]/1e3),_l+Ul[0].length):-1}function vl(Pu,sd,_l){var Ul=x.exec(sd.slice(_l,_l+1));return Ul?_l+Ul[0].length:-1}function yl(Pu,sd,_l){var Ul=B.exec(sd.slice(_l));return Ul?(Pu.Q=+Ul[0],_l+Ul[0].length):-1}function Fn(Pu,sd,_l){var Ul=B.exec(sd.slice(_l));return Ul?(Pu.s=+Ul[0],_l+Ul[0].length):-1}function xl(Pu,sd){return z(Pu.getDate(),sd,2)}function wl(Pu,sd){return z(Pu.getHours(),sd,2)}function kl(Pu,sd){return z(Pu.getHours()%12||12,sd,2)}function Dl(Pu,sd){return z(1+v.timeDay.count(v.timeYear(Pu),Pu),sd,3)}function Ol(Pu,sd){return z(Pu.getMilliseconds(),sd,3)}function gu(Pu,sd){return Ol(Pu,sd)+"000"}function yu(Pu,sd){return z(Pu.getMonth()+1,sd,2)}function Iu(Pu,sd){return z(Pu.getMinutes(),sd,2)}function cl(Pu,sd){return z(Pu.getSeconds(),sd,2)}function pl(Pu){var sd=Pu.getDay();return sd===0?7:sd}function it(Pu,sd){return z(v.timeSunday.count(v.timeYear(Pu)-1,Pu),sd,2)}function bl(Pu,sd){var _l=Pu.getDay();return Pu=_l>=4||_l===0?v.timeThursday(Pu):v.timeThursday.ceil(Pu),z(v.timeThursday.count(v.timeYear(Pu),Pu)+(v.timeYear(Pu).getDay()===4),sd,2)}function Ll(Pu){return Pu.getDay()}function nl(Pu,sd){return z(v.timeMonday.count(v.timeYear(Pu)-1,Pu),sd,2)}function ve(Pu,sd){return z(Pu.getFullYear()%100,sd,2)}function _t(Pu,sd){return z(Pu.getFullYear()%1e4,sd,4)}function ol(Pu){var sd=Pu.getTimezoneOffset();return(sd>0?"-":(sd*=-1,"+"))+z(sd/60|0,"0",2)+z(sd%60,"0",2)}function dl(Pu,sd){return z(Pu.getUTCDate(),sd,2)}function Il(Pu,sd){return z(Pu.getUTCHours(),sd,2)}function ql(Pu,sd){return z(Pu.getUTCHours()%12||12,sd,2)}function Zl(Pu,sd){return z(1+v.utcDay.count(v.utcYear(Pu),Pu),sd,3)}function Bu(Pu,sd){return z(Pu.getUTCMilliseconds(),sd,3)}function Ju(Pu,sd){return Bu(Pu,sd)+"000"}function yd(Pu,sd){return z(Pu.getUTCMonth()+1,sd,2)}function Hd(Pu,sd){return z(Pu.getUTCMinutes(),sd,2)}function Rd(Pu,sd){return z(Pu.getUTCSeconds(),sd,2)}function Ed(Pu){var sd=Pu.getUTCDay();return sd===0?7:sd}function _u(Pu,sd){return z(v.utcSunday.count(v.utcYear(Pu)-1,Pu),sd,2)}function Nu(Pu,sd){var _l=Pu.getUTCDay();return Pu=_l>=4||_l===0?v.utcThursday(Pu):v.utcThursday.ceil(Pu),z(v.utcThursday.count(v.utcYear(Pu),Pu)+(v.utcYear(Pu).getUTCDay()===4),sd,2)}function Gl(Pu){return Pu.getUTCDay()}function rd(Pu,sd){return z(v.utcMonday.count(v.utcYear(Pu)-1,Pu),sd,2)}function Sd(Pu,sd){return z(Pu.getUTCFullYear()%100,sd,2)}function Pd(Pu,sd){return z(Pu.getUTCFullYear()%1e4,sd,4)}function Ud(){return"+0000"}function $d(){return"%"}function th(Pu){return+Pu}function sh(Pu){return Math.floor(+Pu/1e3)}var ah;Ah({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ah(Pu){return ah=F(Pu),A.timeFormat=ah.format,A.timeParse=ah.parse,A.utcFormat=ah.utcFormat,A.utcParse=ah.utcParse,ah}var Yd="%Y-%m-%dT%H:%M:%S.%LZ";function Ph(Pu){return Pu.toISOString()}var jh=Date.prototype.toISOString?Ph:A.utcFormat(Yd);function Th(Pu){var sd=new Date(Pu);return isNaN(sd)?null:sd}var Xh=+new Date("2000-01-01T00:00:00.000Z")?Th:A.utcParse(Yd);A.isoFormat=jh,A.isoParse=Xh,A.timeFormatDefaultLocale=Ah,A.timeFormatLocale=F,Object.defineProperty(A,"__esModule",{value:!0})})}),y=o((rl,In)=>{(function(A,v){typeof rl=="object"&&typeof In<"u"?v(rl):(A=typeof globalThis<"u"?globalThis:A||self,v(A.d3=A.d3||{}))})(rl,function(A){function v(Bn){return Math.abs(Bn=Math.round(Bn))>=1e21?Bn.toLocaleString("en").replace(/,/g,""):Bn.toString(10)}function C(Bn,jt){if((Pe=(Bn=jt?Bn.toExponential(jt-1):Bn.toExponential()).indexOf("e"))<0)return null;var Pe,ml=Bn.slice(0,Pe);return[ml.length>1?ml[0]+ml.slice(2):ml,+Bn.slice(Pe+1)]}function P(Bn){return Bn=C(Math.abs(Bn)),Bn?Bn[1]:NaN}function R(Bn,jt){return function(Pe,ml){for(var tl=Pe.length,ul=[],il=0,sl=Bn[0],vl=0;tl>0&&sl>0&&(vl+sl+1>ml&&(sl=Math.max(1,ml-vl)),ul.push(Pe.substring(tl-=sl,tl+sl)),!((vl+=sl+1)>ml));)sl=Bn[il=(il+1)%Bn.length];return ul.reverse().join(jt)}}function F(Bn){return function(jt){return jt.replace(/[0-9]/g,function(Pe){return Bn[+Pe]})}}var I=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function B(Bn){if(!(jt=I.exec(Bn)))throw new Error("invalid format: "+Bn);var jt;return new x({fill:jt[1],align:jt[2],sign:jt[3],symbol:jt[4],zero:jt[5],width:jt[6],comma:jt[7],precision:jt[8]&&jt[8].slice(1),trim:jt[9],type:jt[10]})}B.prototype=x.prototype;function x(Bn){this.fill=Bn.fill===void 0?" ":Bn.fill+"",this.align=Bn.align===void 0?">":Bn.align+"",this.sign=Bn.sign===void 0?"-":Bn.sign+"",this.symbol=Bn.symbol===void 0?"":Bn.symbol+"",this.zero=!!Bn.zero,this.width=Bn.width===void 0?void 0:+Bn.width,this.comma=!!Bn.comma,this.precision=Bn.precision===void 0?void 0:+Bn.precision,this.trim=!!Bn.trim,this.type=Bn.type===void 0?"":Bn.type+""}x.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function W(Bn){e:for(var jt=Bn.length,Pe=1,ml=-1,tl;Pe<jt;++Pe)switch(Bn[Pe]){case".":ml=tl=Pe;break;case"0":ml===0&&(ml=Pe),tl=Pe;break;default:if(!+Bn[Pe])break e;ml>0&&(ml=0);break}return ml>0?Bn.slice(0,ml)+Bn.slice(tl+1):Bn}var z;function U(Bn,jt){var Pe=C(Bn,jt);if(!Pe)return Bn+"";var ml=Pe[0],tl=Pe[1],ul=tl-(z=Math.max(-8,Math.min(8,Math.floor(tl/3)))*3)+1,il=ml.length;return ul===il?ml:ul>il?ml+new Array(ul-il+1).join("0"):ul>0?ml.slice(0,ul)+"."+ml.slice(ul):"0."+new Array(1-ul).join("0")+C(Bn,Math.max(0,jt+ul-1))[0]}function Q(Bn,jt){var Pe=C(Bn,jt);if(!Pe)return Bn+"";var ml=Pe[0],tl=Pe[1];return tl<0?"0."+new Array(-tl).join("0")+ml:ml.length>tl+1?ml.slice(0,tl+1)+"."+ml.slice(tl+1):ml+new Array(tl-ml.length+2).join("0")}var Z={"%":function(Bn,jt){return(Bn*100).toFixed(jt)},b:function(Bn){return Math.round(Bn).toString(2)},c:function(Bn){return Bn+""},d:v,e:function(Bn,jt){return Bn.toExponential(jt)},f:function(Bn,jt){return Bn.toFixed(jt)},g:function(Bn,jt){return Bn.toPrecision(jt)},o:function(Bn){return Math.round(Bn).toString(8)},p:function(Bn,jt){return Q(Bn*100,jt)},r:Q,s:U,X:function(Bn){return Math.round(Bn).toString(16).toUpperCase()},x:function(Bn){return Math.round(Bn).toString(16)}};function $(Bn){return Bn}var q=Array.prototype.map,J=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function O(Bn){var jt=Bn.grouping===void 0||Bn.thousands===void 0?$:R(q.call(Bn.grouping,Number),Bn.thousands+""),Pe=Bn.currency===void 0?"":Bn.currency[0]+"",ml=Bn.currency===void 0?"":Bn.currency[1]+"",tl=Bn.decimal===void 0?".":Bn.decimal+"",ul=Bn.numerals===void 0?$:F(q.call(Bn.numerals,String)),il=Bn.percent===void 0?"%":Bn.percent+"",sl=Bn.minus===void 0?"-":Bn.minus+"",vl=Bn.nan===void 0?"NaN":Bn.nan+"";function yl(xl){xl=B(xl);var wl=xl.fill,kl=xl.align,Dl=xl.sign,Ol=xl.symbol,gu=xl.zero,yu=xl.width,Iu=xl.comma,cl=xl.precision,pl=xl.trim,it=xl.type;it==="n"?(Iu=!0,it="g"):Z[it]||(cl===void 0&&(cl=12),pl=!0,it="g"),(gu||wl==="0"&&kl==="=")&&(gu=!0,wl="0",kl="=");var bl=Ol==="$"?Pe:Ol==="#"&&/[boxX]/.test(it)?"0"+it.toLowerCase():"",Ll=Ol==="$"?ml:/[%p]/.test(it)?il:"",nl=Z[it],ve=/[defgprs%]/.test(it);cl=cl===void 0?6:/[gprs]/.test(it)?Math.max(1,Math.min(21,cl)):Math.max(0,Math.min(20,cl));function _t(ol){var dl=bl,Il=Ll,ql,Zl,Bu;if(it==="c")Il=nl(ol)+Il,ol="";else{ol=+ol;var Ju=ol<0||1/ol<0;if(ol=isNaN(ol)?vl:nl(Math.abs(ol),cl),pl&&(ol=W(ol)),Ju&&+ol==0&&Dl!=="+"&&(Ju=!1),dl=(Ju?Dl==="("?Dl:sl:Dl==="-"||Dl==="("?"":Dl)+dl,Il=(it==="s"?J[8+z/3]:"")+Il+(Ju&&Dl==="("?")":""),ve){for(ql=-1,Zl=ol.length;++ql<Zl;)if(Bu=ol.charCodeAt(ql),48>Bu||Bu>57){Il=(Bu===46?tl+ol.slice(ql+1):ol.slice(ql))+Il,ol=ol.slice(0,ql);break}}}Iu&&!gu&&(ol=jt(ol,1/0));var yd=dl.length+ol.length+Il.length,Hd=yd<yu?new Array(yu-yd+1).join(wl):"";switch(Iu&&gu&&(ol=jt(Hd+ol,Hd.length?yu-Il.length:1/0),Hd=""),kl){case"<":ol=dl+ol+Il+Hd;break;case"=":ol=dl+Hd+ol+Il;break;case"^":ol=Hd.slice(0,yd=Hd.length>>1)+dl+ol+Il+Hd.slice(yd);break;default:ol=Hd+dl+ol+Il;break}return ul(ol)}return _t.toString=function(){return xl+""},_t}function Fn(xl,wl){var kl=yl((xl=B(xl),xl.type="f",xl)),Dl=Math.max(-8,Math.min(8,Math.floor(P(wl)/3)))*3,Ol=Math.pow(10,-Dl),gu=J[8+Dl/3];return function(yu){return kl(Ol*yu)+gu}}return{format:yl,formatPrefix:Fn}}var j;Y({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function Y(Bn){return j=O(Bn),A.format=j.format,A.formatPrefix=j.formatPrefix,j}function se(Bn){return Math.max(0,-P(Math.abs(Bn)))}function nt(Bn,jt){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(P(jt)/3)))*3-P(Math.abs(Bn)))}function gl(Bn,jt){return Bn=Math.abs(Bn),jt=Math.abs(jt)-Bn,Math.max(0,P(jt)-P(Bn))+1}A.FormatSpecifier=x,A.formatDefaultLocale=Y,A.formatLocale=O,A.formatSpecifier=B,A.precisionFixed=se,A.precisionPrefix=nt,A.precisionRound=gl,Object.defineProperty(A,"__esModule",{value:!0})})}),L=o((rl,In)=>{In.exports=function(A){for(var v=A.length,C,P=0;P<v;P++)if(C=A.charCodeAt(P),(C<9||C>13)&&C!==32&&C!==133&&C!==160&&C!==5760&&C!==6158&&(C<8192||C>8205)&&C!==8232&&C!==8233&&C!==8239&&C!==8287&&C!==8288&&C!==12288&&C!==65279)return!1;return!0}}),G=o((rl,In)=>{var A=L();In.exports=function(v){var C=typeof v;if(C==="string"){var P=v;if(v=+v,v===0&&A(P))return!1}else if(C!=="number")return!1;return v-v<1}}),H=o((rl,In)=>{In.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE*1e-4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,ONEMILLI:1,ONEMICROSEC:.001,EPOCHJD:24405875e-1,ALMOST_EQUAL:1-1e-6,LOG_CLIP:10,MINUS_SIGN:""}}),ce=o((rl,In)=>{(function(A,v){typeof rl=="object"&&typeof In<"u"?v(rl):(A=typeof globalThis<"u"?globalThis:A||self,v(A["base64-arraybuffer"]={}))})(rl,function(A){for(var v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",C=typeof Uint8Array>"u"?[]:new Uint8Array(256),P=0;P<v.length;P++)C[v.charCodeAt(P)]=P;var R=function(I){var B=new Uint8Array(I),x,W=B.length,z="";for(x=0;x<W;x+=3)z+=v[B[x]>>2],z+=v[(B[x]&3)<<4|B[x+1]>>4],z+=v[(B[x+1]&15)<<2|B[x+2]>>6],z+=v[B[x+2]&63];return W%3===2?z=z.substring(0,z.length-1)+"=":W%3===1&&(z=z.substring(0,z.length-2)+"=="),z},F=function(I){var B=I.length*.75,x=I.length,W,z=0,U,Q,Z,$;I[I.length-1]==="="&&(B--,I[I.length-2]==="="&&B--);var q=new ArrayBuffer(B),J=new Uint8Array(q);for(W=0;W<x;W+=4)U=C[I.charCodeAt(W)],Q=C[I.charCodeAt(W+1)],Z=C[I.charCodeAt(W+2)],$=C[I.charCodeAt(W+3)],J[z++]=U<<2|Q>>4,J[z++]=(Q&15)<<4|Z>>2,J[z++]=(Z&3)<<6|$&63;return q};A.decode=F,A.encode=R,Object.defineProperty(A,"__esModule",{value:!0})})}),ie=o((rl,In)=>{In.exports=function(A){return window&&window.process&&window.process.versions?Object.prototype.toString.call(A)==="[object Object]":Object.prototype.toString.call(A)==="[object Object]"&&Object.getPrototypeOf(A).hasOwnProperty("hasOwnProperty")}}),Et=o(rl=>{var In=ce().decode,A=ie(),v=Array.isArray,C=ArrayBuffer,P=DataView;function R(U){return C.isView(U)&&!(U instanceof P)}rl.isTypedArray=R;function F(U){return v(U)||R(U)}rl.isArrayOrTypedArray=F;function I(U){return!F(U[0])}rl.isArray1D=I,rl.ensureArray=function(U,Q){return v(U)||(U=[]),U.length=Q,U};var B={u1c:typeof Uint8ClampedArray>"u"?void 0:Uint8ClampedArray,i1:typeof Int8Array>"u"?void 0:Int8Array,u1:typeof Uint8Array>"u"?void 0:Uint8Array,i2:typeof Int16Array>"u"?void 0:Int16Array,u2:typeof Uint16Array>"u"?void 0:Uint16Array,i4:typeof Int32Array>"u"?void 0:Int32Array,u4:typeof Uint32Array>"u"?void 0:Uint32Array,f4:typeof Float32Array>"u"?void 0:Float32Array,f8:typeof Float64Array>"u"?void 0:Float64Array};B.uint8c=B.u1c,B.uint8=B.u1,B.int8=B.i1,B.uint16=B.u2,B.int16=B.i2,B.uint32=B.u4,B.int32=B.i4,B.float32=B.f4,B.float64=B.f8;function x(U){return U.constructor===ArrayBuffer}rl.isArrayBuffer=x,rl.decodeTypedArraySpec=function(U){var Q=[],Z=W(U),$=Z.dtype,q=B[$];if(!q)throw new Error('Error in dtype: "'+$+'"');var J=q.BYTES_PER_ELEMENT,O=Z.bdata;x(O)||(O=In(O));var j=Z.shape===void 0?[O.byteLength/J]:(""+Z.shape).split(",");j.reverse();var Y=j.length,se,nt,gl=+j[0],Bn=J*gl,jt=0;if(Y===1)Q=new q(O);else if(Y===2)for(se=+j[1],nt=0;nt<se;nt++)Q[nt]=new q(O,jt,gl),jt+=Bn;else if(Y===3){se=+j[1];for(var Pe=+j[2],ml=0;ml<Pe;ml++)for(Q[ml]=[],nt=0;nt<se;nt++)Q[ml][nt]=new q(O,jt,gl),jt+=Bn}else throw new Error("ndim: "+Y+'is not supported with the shape:"'+Z.shape+'"');return Q.bdata=Z.bdata,Q.dtype=Z.dtype,Q.shape=j.reverse().join(","),U._inputArray=Q,Q},rl.isTypedArraySpec=function(U){return A(U)&&U.hasOwnProperty("dtype")&&typeof U.dtype=="string"&&U.hasOwnProperty("bdata")&&(typeof U.bdata=="string"||x(U.bdata))&&(U.shape===void 0||U.hasOwnProperty("shape")&&(typeof U.shape=="string"||typeof U.shape=="number"))};function W(U){return{bdata:U.bdata,dtype:U.dtype,shape:U.shape}}rl.concat=function(){var U=[],Q=!0,Z=0,$,q,J,O,j,Y,se,nt;for(J=0;J<arguments.length;J++)O=arguments[J],Y=O.length,Y&&(q?U.push(O):(q=O,j=Y),v(O)?$=!1:(Q=!1,Z?$!==O.constructor&&($=!1):$=O.constructor),Z+=Y);if(!Z)return[];if(!U.length)return q;if(Q)return q.concat.apply(q,U);if($){for(se=new $(Z),se.set(q),J=0;J<U.length;J++)O=U[J],se.set(O,j),j+=O.length;return se}for(se=new Array(Z),nt=0;nt<q.length;nt++)se[nt]=q[nt];for(J=0;J<U.length;J++){for(O=U[J],nt=0;nt<O.length;nt++)se[j+nt]=O[nt];j+=nt}return se},rl.maxRowLength=function(U){return z(U,Math.max,0)},rl.minRowLength=function(U){return z(U,Math.min,1/0)};function z(U,Q,Z){if(F(U))if(F(U[0])){for(var $=Z,q=0;q<U.length;q++)$=Q($,U[q].length);return $}else return U.length;return 0}}),zn=o((rl,In)=>{var A=G(),v=Et().isArrayOrTypedArray;In.exports=function(z,U){if(A(U))U=String(U);else if(typeof U!="string"||U.substr(U.length-4)==="[-1]")throw"bad property string";var Q=U.split("."),Z,$,q,J;for(J=0;J<Q.length;J++)if(String(Q[J]).slice(0,2)==="__")throw"bad property string";for(J=0;J<Q.length;){if(Z=String(Q[J]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/),Z){if(Z[1])Q[J]=Z[1];else if(J===0)Q.splice(0,1);else throw"bad property string";for($=Z[2].substr(1,Z[2].length-2).split("]["),q=0;q<$.length;q++)J++,Q.splice(J,0,Number($[q]))}J++}return typeof z!="object"?W(z,U,Q):{set:F(z,Q,U),get:C(z,Q),astr:U,parts:Q,obj:z}};function C(z,U){return function(Q){var Z=z,$,q,J,O,j;for(O=0;O<U.length-1;O++){if($=U[O],$===-1){for(q=!0,J=[],j=0;j<Z.length;j++)J[j]=C(Z[j],U.slice(O+1))(Q),J[j]!==J[0]&&(q=!1);return q?J[0]:J}if(typeof $=="number"&&!v(Z)||(Z=Z[$],typeof Z!="object"||Z===null))return}if(!(typeof Z!="object"||Z===null)&&(J=Z[U[O]],!(!Q&&J===null)))return J}}var P=/(^|\.)args\[/;function R(z,U){return z===void 0||z===null&&!U.match(P)}function F(z,U,Q){return function(Z){var $=z,q="",J=R(Z,Q),O,j;for(j=0;j<U.length-1;j++){if(O=U[j],typeof O=="number"&&!v($))throw"array index but container is not an array";if(O===-1){if(J=!B($,U.slice(j+1),Z,Q),J)break;return}if(!x($,O,U[j+1],J))break;if($=$[O],typeof $!="object"||$===null)throw"container is not an object";q=I(q,O)}if(J){if(j===U.length-1&&(delete $[U[j]],Array.isArray($)&&+U[j]===$.length-1))for(;$.length&&$[$.length-1]===void 0;)$.pop()}else $[U[j]]=Z}}function I(z,U){var Q=U;return A(U)?Q="["+U+"]":z&&(Q="."+U),z+Q}function B(z,U,Q,Z){var $=v(Q),q=!0,J=Q,O=Z.replace("-1",0),j=$?!1:R(Q,O),Y=U[0],se;for(se=0;se<z.length;se++)O=Z.replace("-1",se),$&&(J=Q[se%Q.length],j=R(J,O)),j&&(q=!1),x(z,se,Y,j)&&F(z[se],U,Z.replace("-1",se))(J);return q}function x(z,U,Q,Z){if(z[U]===void 0){if(Z)return!1;typeof Q=="number"?z[U]=[]:z[U]={}}return!0}function W(z,U,Q){return{set:function(){throw"bad container"},get:function(){},astr:U,parts:Q,obj:z}}}),$l=o((rl,In)=>{var A=zn(),v=/^\w*$/,C=0,P=1,R=2,F=3,I=4;In.exports=function(B,x,W,z){W=W||"name",z=z||"value";var U,Q,Z,$={};x&&x.length?(Z=A(B,x),Q=Z.get()):Q=B,x=x||"";var q={};if(Q)for(U=0;U<Q.length;U++)q[Q[U][W]]=U;var J=v.test(z),O={set:function(j,Y){var se=Y===null?I:C;if(!Q){if(!Z||se===I)return;Q=[],Z.set(Q)}var nt=q[j];if(nt===void 0){if(se===I)return;se=se|F,nt=Q.length,q[j]=nt}else Y!==(J?Q[nt][z]:A(Q[nt],z).get())&&(se=se|R);var gl=Q[nt]=Q[nt]||{};return gl[W]=j,J?gl[z]=Y:A(gl,z).set(Y),Y!==null&&(se=se&~I),$[nt]=$[nt]|se,O},get:function(j){if(Q){var Y=q[j];if(Y!==void 0)return J?Q[Y][z]:A(Q[Y],z).get()}},rename:function(j,Y){var se=q[j];return se===void 0||($[se]=$[se]|P,q[Y]=se,delete q[j],Q[se][W]=Y),O},remove:function(j){var Y=q[j];if(Y===void 0)return O;var se=Q[Y];if(Object.keys(se).length>2)return $[Y]=$[Y]|R,O.set(j,null);if(J){for(U=Y;U<Q.length;U++)$[U]=$[U]|F;for(U=Y;U<Q.length;U++)q[Q[U][W]]--;Q.splice(Y,1),delete q[j]}else A(se,z).set(null),$[Y]=$[Y]|R|I;return O},constructUpdate:function(){for(var j,Y,se={},nt=Object.keys($),gl=0;gl<nt.length;gl++)Y=nt[gl],j=x+"["+Y+"]",Q[Y]?($[Y]&P&&(se[j+"."+W]=Q[Y][W]),$[Y]&R&&(J?se[j+"."+z]=$[Y]&I?null:Q[Y][z]:se[j+"."+z]=$[Y]&I?null:A(Q[Y],z).get())):se[j]=null;return se}};return O}}),zl=o((rl,In)=>{var A=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,v=/^[^\.\[\]]+$/;In.exports=function(C,P){for(;P;){var R=C.match(A);if(R)C=R[1];else if(C.match(v))C="";else throw new Error("bad relativeAttr call:"+[C,P]);if(P.charAt(0)==="^")P=P.slice(1);else break}return C&&P.charAt(0)!=="["?C+"."+P:C+P}}),Hl=o((rl,In)=>{var A=G();In.exports=function(v,C){if(v>0)return Math.log(v)/Math.LN10;var P=Math.log(Math.min(C[0],C[1]))/Math.LN10;return A(P)||(P=Math.log(Math.max(C[0],C[1]))/Math.LN10-6),P}}),Ft=o((rl,In)=>{var A=Et().isArrayOrTypedArray,v=ie();In.exports=function C(P,R){for(var F in R){var I=R[F],B=P[F];if(B!==I)if(F.charAt(0)==="_"||typeof I=="function"){if(F in P)continue;P[F]=I}else if(A(I)&&A(B)&&v(I[0])){if(F==="customdata"||F==="ids")continue;for(var x=Math.min(I.length,B.length),W=0;W<x;W++)B[W]!==I[W]&&v(I[W])&&v(B[W])&&C(B[W],I[W])}else v(I)&&v(B)&&(C(B,I),Object.keys(B).length||delete P[F])}}}),El=o((rl,In)=>{function A(C,P){var R=C%P;return R<0?R+P:R}function v(C,P){return Math.abs(C)>P/2?C-Math.round(C/P)*P:C}In.exports={mod:A,modHalf:v}}),Kl=o((rl,In)=>{(function(A){var v=/^\s+/,C=/\s+$/,P=0,R=A.round,F=A.min,I=A.max,B=A.random;function x(ve,_t){if(ve=ve||"",_t=_t||{},ve instanceof x)return ve;if(!(this instanceof x))return new x(ve,_t);var ol=W(ve);this._originalInput=ve,this._r=ol.r,this._g=ol.g,this._b=ol.b,this._a=ol.a,this._roundA=R(100*this._a)/100,this._format=_t.format||ol.format,this._gradientType=_t.gradientType,this._r<1&&(this._r=R(this._r)),this._g<1&&(this._g=R(this._g)),this._b<1&&(this._b=R(this._b)),this._ok=ol.ok,this._tc_id=P++}x.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var ve=this.toRgb();return(ve.r*299+ve.g*587+ve.b*114)/1e3},getLuminance:function(){var ve=this.toRgb(),_t,ol,dl,Il,ql,Zl;return _t=ve.r/255,ol=ve.g/255,dl=ve.b/255,_t<=.03928?Il=_t/12.92:Il=A.pow((_t+.055)/1.055,2.4),ol<=.03928?ql=ol/12.92:ql=A.pow((ol+.055)/1.055,2.4),dl<=.03928?Zl=dl/12.92:Zl=A.pow((dl+.055)/1.055,2.4),.2126*Il+.7152*ql+.0722*Zl},setAlpha:function(ve){return this._a=xl(ve),this._roundA=R(100*this._a)/100,this},toHsv:function(){var ve=Z(this._r,this._g,this._b);return{h:ve.h*360,s:ve.s,v:ve.v,a:this._a}},toHsvString:function(){var ve=Z(this._r,this._g,this._b),_t=R(ve.h*360),ol=R(ve.s*100),dl=R(ve.v*100);return this._a==1?"hsv("+_t+", "+ol+"%, "+dl+"%)":"hsva("+_t+", "+ol+"%, "+dl+"%, "+this._roundA+")"},toHsl:function(){var ve=U(this._r,this._g,this._b);return{h:ve.h*360,s:ve.s,l:ve.l,a:this._a}},toHslString:function(){var ve=U(this._r,this._g,this._b),_t=R(ve.h*360),ol=R(ve.s*100),dl=R(ve.l*100);return this._a==1?"hsl("+_t+", "+ol+"%, "+dl+"%)":"hsla("+_t+", "+ol+"%, "+dl+"%, "+this._roundA+")"},toHex:function(ve){return q(this._r,this._g,this._b,ve)},toHexString:function(ve){return"#"+this.toHex(ve)},toHex8:function(ve){return J(this._r,this._g,this._b,this._a,ve)},toHex8String:function(ve){return"#"+this.toHex8(ve)},toRgb:function(){return{r:R(this._r),g:R(this._g),b:R(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+R(this._r)+", "+R(this._g)+", "+R(this._b)+")":"rgba("+R(this._r)+", "+R(this._g)+", "+R(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:R(wl(this._r,255)*100)+"%",g:R(wl(this._g,255)*100)+"%",b:R(wl(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+R(wl(this._r,255)*100)+"%, "+R(wl(this._g,255)*100)+"%, "+R(wl(this._b,255)*100)+"%)":"rgba("+R(wl(this._r,255)*100)+"%, "+R(wl(this._g,255)*100)+"%, "+R(wl(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:yl[q(this._r,this._g,this._b,!0)]||!1},toFilter:function(ve){var _t="#"+O(this._r,this._g,this._b,this._a),ol=_t,dl=this._gradientType?"GradientType = 1, ":"";if(ve){var Il=x(ve);ol="#"+O(Il._r,Il._g,Il._b,Il._a)}return"progid:DXImageTransform.Microsoft.gradient("+dl+"startColorstr="+_t+",endColorstr="+ol+")"},toString:function(ve){var _t=!!ve;ve=ve||this._format;var ol=!1,dl=this._a<1&&this._a>=0,Il=!_t&&dl&&(ve==="hex"||ve==="hex6"||ve==="hex3"||ve==="hex4"||ve==="hex8"||ve==="name");return Il?ve==="name"&&this._a===0?this.toName():this.toRgbString():(ve==="rgb"&&(ol=this.toRgbString()),ve==="prgb"&&(ol=this.toPercentageRgbString()),(ve==="hex"||ve==="hex6")&&(ol=this.toHexString()),ve==="hex3"&&(ol=this.toHexString(!0)),ve==="hex4"&&(ol=this.toHex8String(!0)),ve==="hex8"&&(ol=this.toHex8String()),ve==="name"&&(ol=this.toName()),ve==="hsl"&&(ol=this.toHslString()),ve==="hsv"&&(ol=this.toHsvString()),ol||this.toHexString())},clone:function(){return x(this.toString())},_applyModification:function(ve,_t){var ol=ve.apply(null,[this].concat([].slice.call(_t)));return this._r=ol._r,this._g=ol._g,this._b=ol._b,this.setAlpha(ol._a),this},lighten:function(){return this._applyModification(nt,arguments)},brighten:function(){return this._applyModification(gl,arguments)},darken:function(){return this._applyModification(Bn,arguments)},desaturate:function(){return this._applyModification(j,arguments)},saturate:function(){return this._applyModification(Y,arguments)},greyscale:function(){return this._applyModification(se,arguments)},spin:function(){return this._applyModification(jt,arguments)},_applyCombination:function(ve,_t){return ve.apply(null,[this].concat([].slice.call(_t)))},analogous:function(){return this._applyCombination(il,arguments)},complement:function(){return this._applyCombination(Pe,arguments)},monochromatic:function(){return this._applyCombination(sl,arguments)},splitcomplement:function(){return this._applyCombination(ul,arguments)},triad:function(){return this._applyCombination(ml,arguments)},tetrad:function(){return this._applyCombination(tl,arguments)}},x.fromRatio=function(ve,_t){if(typeof ve=="object"){var ol={};for(var dl in ve)ve.hasOwnProperty(dl)&&(dl==="a"?ol[dl]=ve[dl]:ol[dl]=Iu(ve[dl]));ve=ol}return x(ve,_t)};function W(ve){var _t={r:0,g:0,b:0},ol=1,dl=null,Il=null,ql=null,Zl=!1,Bu=!1;return typeof ve=="string"&&(ve=Ll(ve)),typeof ve=="object"&&(bl(ve.r)&&bl(ve.g)&&bl(ve.b)?(_t=z(ve.r,ve.g,ve.b),Zl=!0,Bu=String(ve.r).substr(-1)==="%"?"prgb":"rgb"):bl(ve.h)&&bl(ve.s)&&bl(ve.v)?(dl=Iu(ve.s),Il=Iu(ve.v),_t=$(ve.h,dl,Il),Zl=!0,Bu="hsv"):bl(ve.h)&&bl(ve.s)&&bl(ve.l)&&(dl=Iu(ve.s),ql=Iu(ve.l),_t=Q(ve.h,dl,ql),Zl=!0,Bu="hsl"),ve.hasOwnProperty("a")&&(ol=ve.a)),ol=xl(ol),{ok:Zl,format:ve.format||Bu,r:F(255,I(_t.r,0)),g:F(255,I(_t.g,0)),b:F(255,I(_t.b,0)),a:ol}}function z(ve,_t,ol){return{r:wl(ve,255)*255,g:wl(_t,255)*255,b:wl(ol,255)*255}}function U(ve,_t,ol){ve=wl(ve,255),_t=wl(_t,255),ol=wl(ol,255);var dl=I(ve,_t,ol),Il=F(ve,_t,ol),ql,Zl,Bu=(dl+Il)/2;if(dl==Il)ql=Zl=0;else{var Ju=dl-Il;switch(Zl=Bu>.5?Ju/(2-dl-Il):Ju/(dl+Il),dl){case ve:ql=(_t-ol)/Ju+(_t<ol?6:0);break;case _t:ql=(ol-ve)/Ju+2;break;case ol:ql=(ve-_t)/Ju+4;break}ql/=6}return{h:ql,s:Zl,l:Bu}}function Q(ve,_t,ol){var dl,Il,ql;ve=wl(ve,360),_t=wl(_t,100),ol=wl(ol,100);function Zl(yd,Hd,Rd){return Rd<0&&(Rd+=1),Rd>1&&(Rd-=1),Rd<1/6?yd+(Hd-yd)*6*Rd:Rd<1/2?Hd:Rd<2/3?yd+(Hd-yd)*(2/3-Rd)*6:yd}if(_t===0)dl=Il=ql=ol;else{var Bu=ol<.5?ol*(1+_t):ol+_t-ol*_t,Ju=2*ol-Bu;dl=Zl(Ju,Bu,ve+1/3),Il=Zl(Ju,Bu,ve),ql=Zl(Ju,Bu,ve-1/3)}return{r:dl*255,g:Il*255,b:ql*255}}function Z(ve,_t,ol){ve=wl(ve,255),_t=wl(_t,255),ol=wl(ol,255);var dl=I(ve,_t,ol),Il=F(ve,_t,ol),ql,Zl,Bu=dl,Ju=dl-Il;if(Zl=dl===0?0:Ju/dl,dl==Il)ql=0;else{switch(dl){case ve:ql=(_t-ol)/Ju+(_t<ol?6:0);break;case _t:ql=(ol-ve)/Ju+2;break;case ol:ql=(ve-_t)/Ju+4;break}ql/=6}return{h:ql,s:Zl,v:Bu}}function $(ve,_t,ol){ve=wl(ve,360)*6,_t=wl(_t,100),ol=wl(ol,100);var dl=A.floor(ve),Il=ve-dl,ql=ol*(1-_t),Zl=ol*(1-Il*_t),Bu=ol*(1-(1-Il)*_t),Ju=dl%6,yd=[ol,Zl,ql,ql,Bu,ol][Ju],Hd=[Bu,ol,ol,Zl,ql,ql][Ju],Rd=[ql,ql,Bu,ol,ol,Zl][Ju];return{r:yd*255,g:Hd*255,b:Rd*255}}function q(ve,_t,ol,dl){var Il=[yu(R(ve).toString(16)),yu(R(_t).toString(16)),yu(R(ol).toString(16))];return dl&&Il[0].charAt(0)==Il[0].charAt(1)&&Il[1].charAt(0)==Il[1].charAt(1)&&Il[2].charAt(0)==Il[2].charAt(1)?Il[0].charAt(0)+Il[1].charAt(0)+Il[2].charAt(0):Il.join("")}function J(ve,_t,ol,dl,Il){var ql=[yu(R(ve).toString(16)),yu(R(_t).toString(16)),yu(R(ol).toString(16)),yu(cl(dl))];return Il&&ql[0].charAt(0)==ql[0].charAt(1)&&ql[1].charAt(0)==ql[1].charAt(1)&&ql[2].charAt(0)==ql[2].charAt(1)&&ql[3].charAt(0)==ql[3].charAt(1)?ql[0].charAt(0)+ql[1].charAt(0)+ql[2].charAt(0)+ql[3].charAt(0):ql.join("")}function O(ve,_t,ol,dl){var Il=[yu(cl(dl)),yu(R(ve).toString(16)),yu(R(_t).toString(16)),yu(R(ol).toString(16))];return Il.join("")}x.equals=function(ve,_t){return!ve||!_t?!1:x(ve).toRgbString()==x(_t).toRgbString()},x.random=function(){return x.fromRatio({r:B(),g:B(),b:B()})};function j(ve,_t){_t=_t===0?0:_t||10;var ol=x(ve).toHsl();return ol.s-=_t/100,ol.s=kl(ol.s),x(ol)}function Y(ve,_t){_t=_t===0?0:_t||10;var ol=x(ve).toHsl();return ol.s+=_t/100,ol.s=kl(ol.s),x(ol)}function se(ve){return x(ve).desaturate(100)}function nt(ve,_t){_t=_t===0?0:_t||10;var ol=x(ve).toHsl();return ol.l+=_t/100,ol.l=kl(ol.l),x(ol)}function gl(ve,_t){_t=_t===0?0:_t||10;var ol=x(ve).toRgb();return ol.r=I(0,F(255,ol.r-R(255*-(_t/100)))),ol.g=I(0,F(255,ol.g-R(255*-(_t/100)))),ol.b=I(0,F(255,ol.b-R(255*-(_t/100)))),x(ol)}function Bn(ve,_t){_t=_t===0?0:_t||10;var ol=x(ve).toHsl();return ol.l-=_t/100,ol.l=kl(ol.l),x(ol)}function jt(ve,_t){var ol=x(ve).toHsl(),dl=(ol.h+_t)%360;return ol.h=dl<0?360+dl:dl,x(ol)}function Pe(ve){var _t=x(ve).toHsl();return _t.h=(_t.h+180)%360,x(_t)}function ml(ve){var _t=x(ve).toHsl(),ol=_t.h;return[x(ve),x({h:(ol+120)%360,s:_t.s,l:_t.l}),x({h:(ol+240)%360,s:_t.s,l:_t.l})]}function tl(ve){var _t=x(ve).toHsl(),ol=_t.h;return[x(ve),x({h:(ol+90)%360,s:_t.s,l:_t.l}),x({h:(ol+180)%360,s:_t.s,l:_t.l}),x({h:(ol+270)%360,s:_t.s,l:_t.l})]}function ul(ve){var _t=x(ve).toHsl(),ol=_t.h;return[x(ve),x({h:(ol+72)%360,s:_t.s,l:_t.l}),x({h:(ol+216)%360,s:_t.s,l:_t.l})]}function il(ve,_t,ol){_t=_t||6,ol=ol||30;var dl=x(ve).toHsl(),Il=360/ol,ql=[x(ve)];for(dl.h=(dl.h-(Il*_t>>1)+720)%360;--_t;)dl.h=(dl.h+Il)%360,ql.push(x(dl));return ql}function sl(ve,_t){_t=_t||6;for(var ol=x(ve).toHsv(),dl=ol.h,Il=ol.s,ql=ol.v,Zl=[],Bu=1/_t;_t--;)Zl.push(x({h:dl,s:Il,v:ql})),ql=(ql+Bu)%1;return Zl}x.mix=function(ve,_t,ol){ol=ol===0?0:ol||50;var dl=x(ve).toRgb(),Il=x(_t).toRgb(),ql=ol/100,Zl={r:(Il.r-dl.r)*ql+dl.r,g:(Il.g-dl.g)*ql+dl.g,b:(Il.b-dl.b)*ql+dl.b,a:(Il.a-dl.a)*ql+dl.a};return x(Zl)},x.readability=function(ve,_t){var ol=x(ve),dl=x(_t);return(A.max(ol.getLuminance(),dl.getLuminance())+.05)/(A.min(ol.getLuminance(),dl.getLuminance())+.05)},x.isReadable=function(ve,_t,ol){var dl=x.readability(ve,_t),Il,ql;switch(ql=!1,Il=nl(ol),Il.level+Il.size){case"AAsmall":case"AAAlarge":ql=dl>=4.5;break;case"AAlarge":ql=dl>=3;break;case"AAAsmall":ql=dl>=7;break}return ql},x.mostReadable=function(ve,_t,ol){var dl=null,Il=0,ql,Zl,Bu,Ju;ol=ol||{},Zl=ol.includeFallbackColors,Bu=ol.level,Ju=ol.size;for(var yd=0;yd<_t.length;yd++)ql=x.readability(ve,_t[yd]),ql>Il&&(Il=ql,dl=x(_t[yd]));return x.isReadable(ve,dl,{level:Bu,size:Ju})||!Zl?dl:(ol.includeFallbackColors=!1,x.mostReadable(ve,["#fff","#000"],ol))};var vl=x.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},yl=x.hexNames=Fn(vl);function Fn(ve){var _t={};for(var ol in ve)ve.hasOwnProperty(ol)&&(_t[ve[ol]]=ol);return _t}function xl(ve){return ve=parseFloat(ve),(isNaN(ve)||ve<0||ve>1)&&(ve=1),ve}function wl(ve,_t){Ol(ve)&&(ve="100%");var ol=gu(ve);return ve=F(_t,I(0,parseFloat(ve))),ol&&(ve=parseInt(ve*_t,10)/100),A.abs(ve-_t)<1e-6?1:ve%_t/parseFloat(_t)}function kl(ve){return F(1,I(0,ve))}function Dl(ve){return parseInt(ve,16)}function Ol(ve){return typeof ve=="string"&&ve.indexOf(".")!=-1&&parseFloat(ve)===1}function gu(ve){return typeof ve=="string"&&ve.indexOf("%")!=-1}function yu(ve){return ve.length==1?"0"+ve:""+ve}function Iu(ve){return ve<=1&&(ve=ve*100+"%"),ve}function cl(ve){return A.round(parseFloat(ve)*255).toString(16)}function pl(ve){return Dl(ve)/255}var it=(function(){var ve="[-\\+]?\\d+%?",_t="[-\\+]?\\d*\\.\\d+%?",ol="(?:"+_t+")|(?:"+ve+")",dl="[\\s|\\(]+("+ol+")[,|\\s]+("+ol+")[,|\\s]+("+ol+")\\s*\\)?",Il="[\\s|\\(]+("+ol+")[,|\\s]+("+ol+")[,|\\s]+("+ol+")[,|\\s]+("+ol+")\\s*\\)?";return{CSS_UNIT:new RegExp(ol),rgb:new RegExp("rgb"+dl),rgba:new RegExp("rgba"+Il),hsl:new RegExp("hsl"+dl),hsla:new RegExp("hsla"+Il),hsv:new RegExp("hsv"+dl),hsva:new RegExp("hsva"+Il),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}})();function bl(ve){return!!it.CSS_UNIT.exec(ve)}function Ll(ve){ve=ve.replace(v,"").replace(C,"").toLowerCase();var _t=!1;if(vl[ve])ve=vl[ve],_t=!0;else if(ve=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var ol;return(ol=it.rgb.exec(ve))?{r:ol[1],g:ol[2],b:ol[3]}:(ol=it.rgba.exec(ve))?{r:ol[1],g:ol[2],b:ol[3],a:ol[4]}:(ol=it.hsl.exec(ve))?{h:ol[1],s:ol[2],l:ol[3]}:(ol=it.hsla.exec(ve))?{h:ol[1],s:ol[2],l:ol[3],a:ol[4]}:(ol=it.hsv.exec(ve))?{h:ol[1],s:ol[2],v:ol[3]}:(ol=it.hsva.exec(ve))?{h:ol[1],s:ol[2],v:ol[3],a:ol[4]}:(ol=it.hex8.exec(ve))?{r:Dl(ol[1]),g:Dl(ol[2]),b:Dl(ol[3]),a:pl(ol[4]),format:_t?"name":"hex8"}:(ol=it.hex6.exec(ve))?{r:Dl(ol[1]),g:Dl(ol[2]),b:Dl(ol[3]),format:_t?"name":"hex"}:(ol=it.hex4.exec(ve))?{r:Dl(ol[1]+""+ol[1]),g:Dl(ol[2]+""+ol[2]),b:Dl(ol[3]+""+ol[3]),a:pl(ol[4]+""+ol[4]),format:_t?"name":"hex8"}:(ol=it.hex3.exec(ve))?{r:Dl(ol[1]+""+ol[1]),g:Dl(ol[2]+""+ol[2]),b:Dl(ol[3]+""+ol[3]),format:_t?"name":"hex"}:!1}function nl(ve){var _t,ol;return ve=ve||{level:"AA",size:"small"},_t=(ve.level||"AA").toUpperCase(),ol=(ve.size||"small").toLowerCase(),_t!=="AA"&&_t!=="AAA"&&(_t="AA"),ol!=="small"&&ol!=="large"&&(ol="small"),{level:_t,size:ol}}typeof In<"u"&&In.exports?In.exports=x:window.tinycolor=x})(Math)}),Al=o(rl=>{var In=ie(),A=Array.isArray;function v(P,R){var F,I;for(F=0;F<P.length;F++){if(I=P[F],I!==null&&typeof I=="object")return!1;I!==void 0&&(R[F]=I)}return!0}rl.extendFlat=function(){return C(arguments,!1,!1,!1)},rl.extendDeep=function(){return C(arguments,!0,!1,!1)},rl.extendDeepAll=function(){return C(arguments,!0,!0,!1)},rl.extendDeepNoArrays=function(){return C(arguments,!0,!1,!0)};function C(P,R,F,I){var B=P[0],x=P.length,W,z,U,Q,Z,$,q;if(x===2&&A(B)&&A(P[1])&&B.length===0){if(q=v(P[1],B),q)return B;B.splice(0,B.length)}for(var J=1;J<x;J++){W=P[J];for(z in W)U=B[z],Q=W[z],I&&A(Q)?B[z]=Q:R&&Q&&(In(Q)||(Z=A(Q)))?(Z?(Z=!1,$=U&&A(U)?U:[]):$=U&&In(U)?U:{},B[z]=C([$,Q],R,F,I)):(typeof Q<"u"||F)&&(B[z]=Q)}return B}}),vu=o((rl,In)=>{In.exports=function(A){var v=A.variantValues,C=A.editType,P=A.colorEditType;P===void 0&&(P=C);var R={editType:C,valType:"integer",min:1,max:1e3,extras:["normal","bold"],dflt:"normal"};A.noNumericWeightValues&&(R.valType="enumerated",R.values=R.extras,R.extras=void 0,R.min=void 0,R.max=void 0);var F={family:{valType:"string",noBlank:!0,strict:!0,editType:C},size:{valType:"number",min:1,editType:C},color:{valType:"color",editType:P},weight:R,style:{editType:C,valType:"enumerated",values:["normal","italic"],dflt:"normal"},variant:A.noFontVariant?void 0:{editType:C,valType:"enumerated",values:v||["normal","small-caps","all-small-caps","all-petite-caps","petite-caps","unicase"],dflt:"normal"},textcase:A.noFontTextcase?void 0:{editType:C,valType:"enumerated",values:["normal","word caps","upper","lower"],dflt:"normal"},lineposition:A.noFontLineposition?void 0:{editType:C,valType:"flaglist",flags:["under","over","through"],extras:["none"],dflt:"none"},shadow:A.noFontShadow?void 0:{editType:C,valType:"string",dflt:A.autoShadowDflt?"auto":"none"},editType:C};return A.autoSize&&(F.size.dflt="auto"),A.autoColor&&(F.color.dflt="auto"),A.arrayOk&&(F.family.arrayOk=!0,F.weight.arrayOk=!0,F.style.arrayOk=!0,A.noFontVariant||(F.variant.arrayOk=!0),A.noFontTextcase||(F.textcase.arrayOk=!0),A.noFontLineposition||(F.lineposition.arrayOk=!0),A.noFontShadow||(F.shadow.arrayOk=!0),F.size.arrayOk=!0,F.color.arrayOk=!0),F}}),Nl=o((rl,In)=>{In.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}}),Xu=o((rl,In)=>{var A=Nl(),v=vu(),C=v({editType:"none"});C.family.dflt=A.HOVERFONT,C.size.dflt=A.HOVERFONTSIZE,In.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoversubplots:{valType:"enumerated",values:["single","overlaying","axis"],dflt:"overlaying",editType:"none"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:C,grouptitlefont:v({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},showarrow:{valType:"boolean",dflt:!0,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}}),Vu=o((rl,In)=>{var A=vu(),v=Xu().hoverlabel,C=Al().extendFlat;In.exports={hoverlabel:{bgcolor:C({},v.bgcolor,{arrayOk:!0}),bordercolor:C({},v.bordercolor,{arrayOk:!0}),font:A({arrayOk:!0,editType:"none"}),align:C({},v.align,{arrayOk:!0}),namelength:C({},v.namelength,{arrayOk:!0}),showarrow:C({},v.showarrow),editType:"none"}}}),Zu=o((rl,In)=>{var A=vu(),v=Vu();In.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:A({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:v.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},uirevision:{valType:"any",editType:"none"}}}),Od=o((rl,In)=>{var A=Kl(),v={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},C=v.RdBu;function P(I,B){if(B||(B=C),!I)return B;function x(){try{I=v[I]||JSON.parse(I)}catch{I=B}}return typeof I=="string"&&(x(),typeof I=="string"&&x()),R(I)?I:B}function R(I){var B=0;if(!Array.isArray(I)||I.length<2||!I[0]||!I[I.length-1]||+I[0][0]!=0||+I[I.length-1][0]!=1)return!1;for(var x=0;x<I.length;x++){var W=I[x];if(W.length!==2||+W[0]<B||!A(W[1]).isValid())return!1;B=+W[0]}return!0}function F(I){return v[I]!==void 0?!0:R(I)}In.exports={scales:v,defaultScale:C,get:P,isValid:F}}),Id=o(rl=>{rl.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],rl.defaultLine="#444",rl.lightLine="#eee",rl.background="#fff",rl.borderLine="#BEC8D9",rl.lightFraction=1e3/11}),Bd=o((rl,In)=>{var A=Kl(),v=G(),C=Et().isTypedArray,P=In.exports={},R=Id();P.defaults=R.defaults;var F=P.defaultLine=R.defaultLine;P.lightLine=R.lightLine;var I=P.background=R.background;P.tinyRGB=function(x){var W=x.toRgb();return"rgb("+Math.round(W.r)+", "+Math.round(W.g)+", "+Math.round(W.b)+")"},P.rgb=function(x){return P.tinyRGB(A(x))},P.opacity=function(x){return x?A(x).getAlpha():0},P.addOpacity=function(x,W){var z=A(x).toRgb();return"rgba("+Math.round(z.r)+", "+Math.round(z.g)+", "+Math.round(z.b)+", "+W+")"},P.combine=function(x,W){var z=A(x).toRgb();if(z.a===1)return A(x).toRgbString();var U=A(W||I).toRgb(),Q=U.a===1?U:{r:255*(1-U.a)+U.r*U.a,g:255*(1-U.a)+U.g*U.a,b:255*(1-U.a)+U.b*U.a},Z={r:Q.r*(1-z.a)+z.r*z.a,g:Q.g*(1-z.a)+z.g*z.a,b:Q.b*(1-z.a)+z.b*z.a};return A(Z).toRgbString()},P.interpolate=function(x,W,z){var U=A(x).toRgb(),Q=A(W).toRgb(),Z={r:z*U.r+(1-z)*Q.r,g:z*U.g+(1-z)*Q.g,b:z*U.b+(1-z)*Q.b};return A(Z).toRgbString()},P.contrast=function(x,W,z){var U=A(x);U.getAlpha()!==1&&(U=A(P.combine(x,I)));var Q=U.isDark()?W?U.lighten(W):I:z?U.darken(z):F;return Q.toString()},P.stroke=function(x,W){var z=A(W);x.style({stroke:P.tinyRGB(z),"stroke-opacity":z.getAlpha()})},P.fill=function(x,W){var z=A(W);x.style({fill:P.tinyRGB(z),"fill-opacity":z.getAlpha()})},P.clean=function(x){if(!(!x||typeof x!="object")){var W=Object.keys(x),z,U,Q,Z;for(z=0;z<W.length;z++)if(Q=W[z],Z=x[Q],Q.substr(Q.length-5)==="color")if(Array.isArray(Z))for(U=0;U<Z.length;U++)Z[U]=B(Z[U]);else x[Q]=B(Z);else if(Q.substr(Q.length-10)==="colorscale"&&Array.isArray(Z))for(U=0;U<Z.length;U++)Array.isArray(Z[U])&&(Z[U][1]=B(Z[U][1]));else if(Array.isArray(Z)){var $=Z[0];if(!Array.isArray($)&&$&&typeof $=="object")for(U=0;U<Z.length;U++)P.clean(Z[U])}else Z&&typeof Z=="object"&&!C(Z)&&P.clean(Z)}};function B(x){if(v(x)||typeof x!="string")return x;var W=x.trim();if(W.substr(0,3)!=="rgb")return x;var z=W.match(/^rgba?\s*\(([^()]*)\)$/);if(!z)return x;var U=z[1].trim().split(/\s*[\s,]\s*/),Q=W.charAt(3)==="a"&&U.length===4;if(!Q&&U.length!==3)return x;for(var Z=0;Z<U.length;Z++){if(!U[Z].length||(U[Z]=Number(U[Z]),!(U[Z]>=0)))return x;if(Z===3)U[Z]>1&&(U[Z]=1);else if(U[Z]>=1)return x}var $=Math.round(U[0]*255)+", "+Math.round(U[1]*255)+", "+Math.round(U[2]*255);return Q?"rgba("+$+", "+U[3]+")":"rgb("+$+")"}}),Cd=o((rl,In)=>{In.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}}),Wl=o(rl=>{rl.counter=function(In,A,v,C){var P=(A||"")+(v?"":"$"),R=C===!1?"":"^";return In==="xy"?new RegExp(R+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+P):new RegExp(R+In+"([2-9]|[1-9][0-9]+)?"+P)}}),jd=o(rl=>{var In=G(),A=Kl(),v=Al().extendFlat,C=Zu(),P=Od(),R=Bd(),F=Cd().DESELECTDIM,I=zn(),B=Wl().counter,x=El().modHalf,W=Et().isArrayOrTypedArray,z=Et().isTypedArraySpec,U=Et().decodeTypedArraySpec;rl.valObjectMeta={data_array:{coerceFunction:function(Z,$,q){$.set(W(Z)?Z:z(Z)?U(Z):q)}},enumerated:{coerceFunction:function(Z,$,q,J){J.coerceNumber&&(Z=+Z),J.values.indexOf(Z)===-1?$.set(q):$.set(Z)},validateFunction:function(Z,$){$.coerceNumber&&(Z=+Z);for(var q=$.values,J=0;J<q.length;J++){var O=String(q[J]);if(O.charAt(0)==="/"&&O.charAt(O.length-1)==="/"){var j=new RegExp(O.substr(1,O.length-2));if(j.test(Z))return!0}else if(Z===q[J])return!0}return!1}},boolean:{coerceFunction:function(Z,$,q){Z===!0||Z===!1?$.set(Z):$.set(q)}},number:{coerceFunction:function(Z,$,q,J){z(Z)&&(Z=U(Z)),!In(Z)||J.min!==void 0&&Z<J.min||J.max!==void 0&&Z>J.max?$.set(q):$.set(+Z)}},integer:{coerceFunction:function(Z,$,q,J){if((J.extras||[]).indexOf(Z)!==-1){$.set(Z);return}z(Z)&&(Z=U(Z)),Z%1||!In(Z)||J.min!==void 0&&Z<J.min||J.max!==void 0&&Z>J.max?$.set(q):$.set(+Z)}},string:{coerceFunction:function(Z,$,q,J){if(typeof Z!="string"){var O=typeof Z=="number";J.strict===!0||!O?$.set(q):$.set(String(Z))}else J.noBlank&&!Z?$.set(q):$.set(Z)}},color:{coerceFunction:function(Z,$,q){z(Z)&&(Z=U(Z)),A(Z).isValid()?$.set(Z):$.set(q)}},colorlist:{coerceFunction:function(Z,$,q){function J(O){return A(O).isValid()}!Array.isArray(Z)||!Z.length?$.set(q):Z.every(J)?$.set(Z):$.set(q)}},colorscale:{coerceFunction:function(Z,$,q){$.set(P.get(Z,q))}},angle:{coerceFunction:function(Z,$,q){z(Z)&&(Z=U(Z)),Z==="auto"?$.set("auto"):In(Z)?$.set(x(+Z,360)):$.set(q)}},subplotid:{coerceFunction:function(Z,$,q,J){var O=J.regex||B(q);if(typeof Z=="string"&&O.test(Z)){$.set(Z);return}$.set(q)},validateFunction:function(Z,$){var q=$.dflt;return Z===q?!0:typeof Z!="string"?!1:!!B(q).test(Z)}},flaglist:{coerceFunction:function(Z,$,q,J){if((J.extras||[]).indexOf(Z)!==-1){$.set(Z);return}if(typeof Z!="string"){$.set(q);return}for(var O=Z.split("+"),j=0;j<O.length;){var Y=O[j];J.flags.indexOf(Y)===-1||O.indexOf(Y)<j?O.splice(j,1):j++}O.length?$.set(O.join("+")):$.set(q)}},any:{coerceFunction:function(Z,$,q){Z===void 0?$.set(q):$.set(z(Z)?U(Z):Z)}},info_array:{coerceFunction:function(Z,$,q,J){function O(vl,yl,Fn){var xl,wl={set:function(kl){xl=kl}};return Fn===void 0&&(Fn=yl.dflt),rl.valObjectMeta[yl.valType].coerceFunction(vl,wl,Fn,yl),xl}if(z(Z)&&(Z=U(Z)),!W(Z)){$.set(q);return}var j=J.dimensions===2||J.dimensions==="1-2"&&Array.isArray(Z)&&W(Z[0]),Y=J.items,se=[],nt=Array.isArray(Y),gl=nt&&j&&W(Y[0]),Bn=j&&nt&&!gl,jt=nt&&!Bn?Y.length:Z.length,Pe,ml,tl,ul,il,sl;if(q=Array.isArray(q)?q:[],j)for(Pe=0;Pe<jt;Pe++)for(se[Pe]=[],tl=W(Z[Pe])?Z[Pe]:[],Bn?il=Y.length:nt?il=Y[Pe].length:il=tl.length,ml=0;ml<il;ml++)Bn?ul=Y[ml]:nt?ul=Y[Pe][ml]:ul=Y,sl=O(tl[ml],ul,(q[Pe]||[])[ml]),sl!==void 0&&(se[Pe][ml]=sl);else for(Pe=0;Pe<jt;Pe++)sl=O(Z[Pe],nt?Y[Pe]:Y,q[Pe]),sl!==void 0&&(se[Pe]=sl);$.set(se)},validateFunction:function(Z,$){if(!W(Z))return!1;var q=$.items,J=Array.isArray(q),O=$.dimensions===2;if(!$.freeLength&&Z.length!==q.length)return!1;for(var j=0;j<Z.length;j++)if(O){if(!W(Z[j])||!$.freeLength&&Z[j].length!==q[j].length)return!1;for(var Y=0;Y<Z[j].length;Y++)if(!Q(Z[j][Y],J?q[j][Y]:q))return!1}else if(!Q(Z[j],J?q[j]:q))return!1;return!0}}},rl.coerce=function(Z,$,q,J,O){var j=I(q,J).get(),Y=I(Z,J),se=I($,J),nt=Y.get(),gl=$._template;if(nt===void 0&&gl&&(nt=I(gl,J).get(),gl=0),O===void 0&&(O=j.dflt),j.arrayOk){if(W(nt))return se.set(nt),nt;if(z(nt))return nt=U(nt),se.set(nt),nt}var Bn=rl.valObjectMeta[j.valType].coerceFunction;Bn(nt,se,O,j);var jt=se.get();return gl&&jt===O&&!Q(nt,j)&&(nt=I(gl,J).get(),Bn(nt,se,O,j),jt=se.get()),jt},rl.coerce2=function(Z,$,q,J,O){var j=I(Z,J),Y=rl.coerce(Z,$,q,J,O),se=j.get();return se!=null?Y:!1},rl.coerceFont=function(Z,$,q,J){J||(J={}),q=v({},q),q=v(q,J.overrideDflt||{});var O={family:Z($+".family",q.family),size:Z($+".size",q.size),color:Z($+".color",q.color),weight:Z($+".weight",q.weight),style:Z($+".style",q.style)};if(J.noFontVariant||(O.variant=Z($+".variant",q.variant)),J.noFontLineposition||(O.lineposition=Z($+".lineposition",q.lineposition)),J.noFontTextcase||(O.textcase=Z($+".textcase",q.textcase)),!J.noFontShadow){var j=q.shadow;j==="none"&&J.autoShadowDflt&&(j="auto"),O.shadow=Z($+".shadow",j)}return O},rl.coercePattern=function(Z,$,q,J){var O=Z($+".shape"),j;if(O||(j=Z($+".path")),O||j){O&&Z($+".solidity"),Z($+".size");var Y=Z($+".fillmode"),se=Y==="overlay";if(!J){var nt=Z($+".bgcolor",se?q:void 0);Z($+".fgcolor",se?R.contrast(nt):q)}Z($+".fgopacity",se?.5:1)}},rl.coerceHoverinfo=function(Z,$,q){var J=$._module.attributes,O=J.hoverinfo?J:C,j=O.hoverinfo,Y;if(q._dataLength===1){var se=j.dflt==="all"?j.flags.slice():j.dflt.split("+");se.splice(se.indexOf("name"),1),Y=se.join("+")}return rl.coerce(Z,$,O,"hoverinfo",Y)},rl.coerceSelectionMarkerOpacity=function(Z,$){if(Z.marker){var q=Z.marker.opacity;if(q!==void 0){var J,O;!W(q)&&!Z.selected&&!Z.unselected&&(J=q,O=F*q),$("selected.marker.opacity",J),$("unselected.marker.opacity",O)}}};function Q(Z,$){var q=rl.valObjectMeta[$.valType];if($.arrayOk&&W(Z))return!0;if(q.validateFunction)return q.validateFunction(Z,$);var J={},O=J,j={set:function(Y){O=Y}};return q.coerceFunction(Z,j,J,$),O!==J}rl.validate=Q}),Md=o((rl,In)=>{var A={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox","map"],extras:[!0,!1],dflt:"gl3d+geo+map"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/un/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},v={};function C(P,R){for(var F in P){var I=P[F];I.valType?R[F]=I.dflt:(R[F]||(R[F]={}),C(I,R[F]))}}C(A,v),In.exports={configAttributes:A,dfltConfig:v}}),qu=o((rl,In)=>{var A=f(),v=G(),C=[];In.exports=function(P,R){if(C.indexOf(P)!==-1)return;C.push(P);var F=1e3;v(R)?F=R:R==="long"&&(F=3e3);var I=A.select("body").selectAll(".plotly-notifier").data([0]);I.enter().append("div").classed("plotly-notifier",!0);var B=I.selectAll(".notifier-note").data(C);function x(W){W.duration(700).style("opacity",0).each("end",function(z){var U=C.indexOf(z);U!==-1&&C.splice(U,1),A.select(this).remove()})}B.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(W){var z=A.select(this);z.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){z.transition().call(x)});for(var U=z.append("p"),Q=W.split(/<br\s*\/?>/g),Z=0;Z<Q.length;Z++)Z&&U.append("br"),U.append("span").text(Q[Z]);R==="stick"?z.transition().duration(350).style("opacity",1):z.transition().duration(700).style("opacity",1).transition().delay(F).call(x)})}}),ad=o((rl,In)=>{var A=Md().dfltConfig,v=qu(),C=In.exports={};C.log=function(){var P;if(A.logging>1){var R=["LOG:"];for(P=0;P<arguments.length;P++)R.push(arguments[P]);console.trace.apply(console,R)}if(A.notifyOnLogging>1){var F=[];for(P=0;P<arguments.length;P++)F.push(arguments[P]);v(F.join("<br>"),"long")}},C.warn=function(){var P;if(A.logging>0){var R=["WARN:"];for(P=0;P<arguments.length;P++)R.push(arguments[P]);console.trace.apply(console,R)}if(A.notifyOnLogging>0){var F=[];for(P=0;P<arguments.length;P++)F.push(arguments[P]);v(F.join("<br>"),"stick")}},C.error=function(){var P;if(A.logging>0){var R=["ERROR:"];for(P=0;P<arguments.length;P++)R.push(arguments[P]);console.error.apply(console,R)}if(A.notifyOnLogging>0){var F=[];for(P=0;P<arguments.length;P++)F.push(arguments[P]);v(F.join("<br>"),"stick")}}}),Dd=o((rl,In)=>{In.exports=function(){}}),mh=o((rl,In)=>{In.exports=function(A,v){if(v instanceof RegExp){for(var C=v.toString(),P=0;P<A.length;P++)if(A[P]instanceof RegExp&&A[P].toString()===C)return A;A.push(v)}else(v||v===0)&&A.indexOf(v)===-1&&A.push(v);return A}}),gd=o((rl,In)=>{In.exports=A;function A(){var v=new Float32Array(16);return v[0]=1,v[1]=0,v[2]=0,v[3]=0,v[4]=0,v[5]=1,v[6]=0,v[7]=0,v[8]=0,v[9]=0,v[10]=1,v[11]=0,v[12]=0,v[13]=0,v[14]=0,v[15]=1,v}}),md=o((rl,In)=>{In.exports=A;function A(v){var C=new Float32Array(16);return C[0]=v[0],C[1]=v[1],C[2]=v[2],C[3]=v[3],C[4]=v[4],C[5]=v[5],C[6]=v[6],C[7]=v[7],C[8]=v[8],C[9]=v[9],C[10]=v[10],C[11]=v[11],C[12]=v[12],C[13]=v[13],C[14]=v[14],C[15]=v[15],C}}),oh=o((rl,In)=>{In.exports=A;function A(v,C){return v[0]=C[0],v[1]=C[1],v[2]=C[2],v[3]=C[3],v[4]=C[4],v[5]=C[5],v[6]=C[6],v[7]=C[7],v[8]=C[8],v[9]=C[9],v[10]=C[10],v[11]=C[11],v[12]=C[12],v[13]=C[13],v[14]=C[14],v[15]=C[15],v}}),qh=o((rl,In)=>{In.exports=A;function A(v){return v[0]=1,v[1]=0,v[2]=0,v[3]=0,v[4]=0,v[5]=1,v[6]=0,v[7]=0,v[8]=0,v[9]=0,v[10]=1,v[11]=0,v[12]=0,v[13]=0,v[14]=0,v[15]=1,v}}),sf=o((rl,In)=>{In.exports=A;function A(v,C){if(v===C){var P=C[1],R=C[2],F=C[3],I=C[6],B=C[7],x=C[11];v[1]=C[4],v[2]=C[8],v[3]=C[12],v[4]=P,v[6]=C[9],v[7]=C[13],v[8]=R,v[9]=I,v[11]=C[14],v[12]=F,v[13]=B,v[14]=x}else v[0]=C[0],v[1]=C[4],v[2]=C[8],v[3]=C[12],v[4]=C[1],v[5]=C[5],v[6]=C[9],v[7]=C[13],v[8]=C[2],v[9]=C[6],v[10]=C[10],v[11]=C[14],v[12]=C[3],v[13]=C[7],v[14]=C[11],v[15]=C[15];return v}}),yh=o((rl,In)=>{In.exports=A;function A(v,C){var P=C[0],R=C[1],F=C[2],I=C[3],B=C[4],x=C[5],W=C[6],z=C[7],U=C[8],Q=C[9],Z=C[10],$=C[11],q=C[12],J=C[13],O=C[14],j=C[15],Y=P*x-R*B,se=P*W-F*B,nt=P*z-I*B,gl=R*W-F*x,Bn=R*z-I*x,jt=F*z-I*W,Pe=U*J-Q*q,ml=U*O-Z*q,tl=U*j-$*q,ul=Q*O-Z*J,il=Q*j-$*J,sl=Z*j-$*O,vl=Y*sl-se*il+nt*ul+gl*tl-Bn*ml+jt*Pe;return vl?(vl=1/vl,v[0]=(x*sl-W*il+z*ul)*vl,v[1]=(F*il-R*sl-I*ul)*vl,v[2]=(J*jt-O*Bn+j*gl)*vl,v[3]=(Z*Bn-Q*jt-$*gl)*vl,v[4]=(W*tl-B*sl-z*ml)*vl,v[5]=(P*sl-F*tl+I*ml)*vl,v[6]=(O*nt-q*jt-j*se)*vl,v[7]=(U*jt-Z*nt+$*se)*vl,v[8]=(B*il-x*tl+z*Pe)*vl,v[9]=(R*tl-P*il-I*Pe)*vl,v[10]=(q*Bn-J*nt+j*Y)*vl,v[11]=(Q*nt-U*Bn-$*Y)*vl,v[12]=(x*ml-B*ul-W*Pe)*vl,v[13]=(P*ul-R*ml+F*Pe)*vl,v[14]=(J*se-q*gl-O*Y)*vl,v[15]=(U*gl-Q*se+Z*Y)*vl,v):null}}),vf=o((rl,In)=>{In.exports=A;function A(v,C){var P=C[0],R=C[1],F=C[2],I=C[3],B=C[4],x=C[5],W=C[6],z=C[7],U=C[8],Q=C[9],Z=C[10],$=C[11],q=C[12],J=C[13],O=C[14],j=C[15];return v[0]=x*(Z*j-$*O)-Q*(W*j-z*O)+J*(W*$-z*Z),v[1]=-(R*(Z*j-$*O)-Q*(F*j-I*O)+J*(F*$-I*Z)),v[2]=R*(W*j-z*O)-x*(F*j-I*O)+J*(F*z-I*W),v[3]=-(R*(W*$-z*Z)-x*(F*$-I*Z)+Q*(F*z-I*W)),v[4]=-(B*(Z*j-$*O)-U*(W*j-z*O)+q*(W*$-z*Z)),v[5]=P*(Z*j-$*O)-U*(F*j-I*O)+q*(F*$-I*Z),v[6]=-(P*(W*j-z*O)-B*(F*j-I*O)+q*(F*z-I*W)),v[7]=P*(W*$-z*Z)-B*(F*$-I*Z)+U*(F*z-I*W),v[8]=B*(Q*j-$*J)-U*(x*j-z*J)+q*(x*$-z*Q),v[9]=-(P*(Q*j-$*J)-U*(R*j-I*J)+q*(R*$-I*Q)),v[10]=P*(x*j-z*J)-B*(R*j-I*J)+q*(R*z-I*x),v[11]=-(P*(x*$-z*Q)-B*(R*$-I*Q)+U*(R*z-I*x)),v[12]=-(B*(Q*O-Z*J)-U*(x*O-W*J)+q*(x*Z-W*Q)),v[13]=P*(Q*O-Z*J)-U*(R*O-F*J)+q*(R*Z-F*Q),v[14]=-(P*(x*O-W*J)-B*(R*O-F*J)+q*(R*W-F*x)),v[15]=P*(x*Z-W*Q)-B*(R*Z-F*Q)+U*(R*W-F*x),v}}),Ef=o((rl,In)=>{In.exports=A;function A(v){var C=v[0],P=v[1],R=v[2],F=v[3],I=v[4],B=v[5],x=v[6],W=v[7],z=v[8],U=v[9],Q=v[10],Z=v[11],$=v[12],q=v[13],J=v[14],O=v[15],j=C*B-P*I,Y=C*x-R*I,se=C*W-F*I,nt=P*x-R*B,gl=P*W-F*B,Bn=R*W-F*x,jt=z*q-U*$,Pe=z*J-Q*$,ml=z*O-Z*$,tl=U*J-Q*q,ul=U*O-Z*q,il=Q*O-Z*J;return j*il-Y*ul+se*tl+nt*ml-gl*Pe+Bn*jt}}),kf=o((rl,In)=>{In.exports=A;function A(v,C,P){var R=C[0],F=C[1],I=C[2],B=C[3],x=C[4],W=C[5],z=C[6],U=C[7],Q=C[8],Z=C[9],$=C[10],q=C[11],J=C[12],O=C[13],j=C[14],Y=C[15],se=P[0],nt=P[1],gl=P[2],Bn=P[3];return v[0]=se*R+nt*x+gl*Q+Bn*J,v[1]=se*F+nt*W+gl*Z+Bn*O,v[2]=se*I+nt*z+gl*$+Bn*j,v[3]=se*B+nt*U+gl*q+Bn*Y,se=P[4],nt=P[5],gl=P[6],Bn=P[7],v[4]=se*R+nt*x+gl*Q+Bn*J,v[5]=se*F+nt*W+gl*Z+Bn*O,v[6]=se*I+nt*z+gl*$+Bn*j,v[7]=se*B+nt*U+gl*q+Bn*Y,se=P[8],nt=P[9],gl=P[10],Bn=P[11],v[8]=se*R+nt*x+gl*Q+Bn*J,v[9]=se*F+nt*W+gl*Z+Bn*O,v[10]=se*I+nt*z+gl*$+Bn*j,v[11]=se*B+nt*U+gl*q+Bn*Y,se=P[12],nt=P[13],gl=P[14],Bn=P[15],v[12]=se*R+nt*x+gl*Q+Bn*J,v[13]=se*F+nt*W+gl*Z+Bn*O,v[14]=se*I+nt*z+gl*$+Bn*j,v[15]=se*B+nt*U+gl*q+Bn*Y,v}}),Mp=o((rl,In)=>{In.exports=A;function A(v,C,P){var R=P[0],F=P[1],I=P[2],B,x,W,z,U,Q,Z,$,q,J,O,j;return C===v?(v[12]=C[0]*R+C[4]*F+C[8]*I+C[12],v[13]=C[1]*R+C[5]*F+C[9]*I+C[13],v[14]=C[2]*R+C[6]*F+C[10]*I+C[14],v[15]=C[3]*R+C[7]*F+C[11]*I+C[15]):(B=C[0],x=C[1],W=C[2],z=C[3],U=C[4],Q=C[5],Z=C[6],$=C[7],q=C[8],J=C[9],O=C[10],j=C[11],v[0]=B,v[1]=x,v[2]=W,v[3]=z,v[4]=U,v[5]=Q,v[6]=Z,v[7]=$,v[8]=q,v[9]=J,v[10]=O,v[11]=j,v[12]=B*R+U*F+q*I+C[12],v[13]=x*R+Q*F+J*I+C[13],v[14]=W*R+Z*F+O*I+C[14],v[15]=z*R+$*F+j*I+C[15]),v}}),rp=o((rl,In)=>{In.exports=A;function A(v,C,P){var R=P[0],F=P[1],I=P[2];return v[0]=C[0]*R,v[1]=C[1]*R,v[2]=C[2]*R,v[3]=C[3]*R,v[4]=C[4]*F,v[5]=C[5]*F,v[6]=C[6]*F,v[7]=C[7]*F,v[8]=C[8]*I,v[9]=C[9]*I,v[10]=C[10]*I,v[11]=C[11]*I,v[12]=C[12],v[13]=C[13],v[14]=C[14],v[15]=C[15],v}}),Fp=o((rl,In)=>{In.exports=A;function A(v,C,P,R){var F=R[0],I=R[1],B=R[2],x=Math.sqrt(F*F+I*I+B*B),W,z,U,Q,Z,$,q,J,O,j,Y,se,nt,gl,Bn,jt,Pe,ml,tl,ul,il,sl,vl,yl;return Math.abs(x)<1e-6?null:(x=1/x,F*=x,I*=x,B*=x,W=Math.sin(P),z=Math.cos(P),U=1-z,Q=C[0],Z=C[1],$=C[2],q=C[3],J=C[4],O=C[5],j=C[6],Y=C[7],se=C[8],nt=C[9],gl=C[10],Bn=C[11],jt=F*F*U+z,Pe=I*F*U+B*W,ml=B*F*U-I*W,tl=F*I*U-B*W,ul=I*I*U+z,il=B*I*U+F*W,sl=F*B*U+I*W,vl=I*B*U-F*W,yl=B*B*U+z,v[0]=Q*jt+J*Pe+se*ml,v[1]=Z*jt+O*Pe+nt*ml,v[2]=$*jt+j*Pe+gl*ml,v[3]=q*jt+Y*Pe+Bn*ml,v[4]=Q*tl+J*ul+se*il,v[5]=Z*tl+O*ul+nt*il,v[6]=$*tl+j*ul+gl*il,v[7]=q*tl+Y*ul+Bn*il,v[8]=Q*sl+J*vl+se*yl,v[9]=Z*sl+O*vl+nt*yl,v[10]=$*sl+j*vl+gl*yl,v[11]=q*sl+Y*vl+Bn*yl,C!==v&&(v[12]=C[12],v[13]=C[13],v[14]=C[14],v[15]=C[15]),v)}}),_0=o((rl,In)=>{In.exports=A;function A(v,C,P){var R=Math.sin(P),F=Math.cos(P),I=C[4],B=C[5],x=C[6],W=C[7],z=C[8],U=C[9],Q=C[10],Z=C[11];return C!==v&&(v[0]=C[0],v[1]=C[1],v[2]=C[2],v[3]=C[3],v[12]=C[12],v[13]=C[13],v[14]=C[14],v[15]=C[15]),v[4]=I*F+z*R,v[5]=B*F+U*R,v[6]=x*F+Q*R,v[7]=W*F+Z*R,v[8]=z*F-I*R,v[9]=U*F-B*R,v[10]=Q*F-x*R,v[11]=Z*F-W*R,v}}),L0=o((rl,In)=>{In.exports=A;function A(v,C,P){var R=Math.sin(P),F=Math.cos(P),I=C[0],B=C[1],x=C[2],W=C[3],z=C[8],U=C[9],Q=C[10],Z=C[11];return C!==v&&(v[4]=C[4],v[5]=C[5],v[6]=C[6],v[7]=C[7],v[12]=C[12],v[13]=C[13],v[14]=C[14],v[15]=C[15]),v[0]=I*F-z*R,v[1]=B*F-U*R,v[2]=x*F-Q*R,v[3]=W*F-Z*R,v[8]=I*R+z*F,v[9]=B*R+U*F,v[10]=x*R+Q*F,v[11]=W*R+Z*F,v}}),Gp=o((rl,In)=>{In.exports=A;function A(v,C,P){var R=Math.sin(P),F=Math.cos(P),I=C[0],B=C[1],x=C[2],W=C[3],z=C[4],U=C[5],Q=C[6],Z=C[7];return C!==v&&(v[8]=C[8],v[9]=C[9],v[10]=C[10],v[11]=C[11],v[12]=C[12],v[13]=C[13],v[14]=C[14],v[15]=C[15]),v[0]=I*F+z*R,v[1]=B*F+U*R,v[2]=x*F+Q*R,v[3]=W*F+Z*R,v[4]=z*F-I*R,v[5]=U*F-B*R,v[6]=Q*F-x*R,v[7]=Z*F-W*R,v}}),E0=o((rl,In)=>{In.exports=A;function A(v,C,P){var R,F,I,B=P[0],x=P[1],W=P[2],z=Math.sqrt(B*B+x*x+W*W);return Math.abs(z)<1e-6?null:(z=1/z,B*=z,x*=z,W*=z,R=Math.sin(C),F=Math.cos(C),I=1-F,v[0]=B*B*I+F,v[1]=x*B*I+W*R,v[2]=W*B*I-x*R,v[3]=0,v[4]=B*x*I-W*R,v[5]=x*x*I+F,v[6]=W*x*I+B*R,v[7]=0,v[8]=B*W*I+x*R,v[9]=x*W*I-B*R,v[10]=W*W*I+F,v[11]=0,v[12]=0,v[13]=0,v[14]=0,v[15]=1,v)}}),l0=o((rl,In)=>{In.exports=A;function A(v,C,P){var R=C[0],F=C[1],I=C[2],B=C[3],x=R+R,W=F+F,z=I+I,U=R*x,Q=R*W,Z=R*z,$=F*W,q=F*z,J=I*z,O=B*x,j=B*W,Y=B*z;return v[0]=1-($+J),v[1]=Q+Y,v[2]=Z-j,v[3]=0,v[4]=Q-Y,v[5]=1-(U+J),v[6]=q+O,v[7]=0,v[8]=Z+j,v[9]=q-O,v[10]=1-(U+$),v[11]=0,v[12]=P[0],v[13]=P[1],v[14]=P[2],v[15]=1,v}}),n0=o((rl,In)=>{In.exports=A;function A(v,C){return v[0]=C[0],v[1]=0,v[2]=0,v[3]=0,v[4]=0,v[5]=C[1],v[6]=0,v[7]=0,v[8]=0,v[9]=0,v[10]=C[2],v[11]=0,v[12]=0,v[13]=0,v[14]=0,v[15]=1,v}}),Z0=o((rl,In)=>{In.exports=A;function A(v,C){return v[0]=1,v[1]=0,v[2]=0,v[3]=0,v[4]=0,v[5]=1,v[6]=0,v[7]=0,v[8]=0,v[9]=0,v[10]=1,v[11]=0,v[12]=C[0],v[13]=C[1],v[14]=C[2],v[15]=1,v}}),G0=o((rl,In)=>{In.exports=A;function A(v,C){var P=Math.sin(C),R=Math.cos(C);return v[0]=1,v[1]=0,v[2]=0,v[3]=0,v[4]=0,v[5]=R,v[6]=P,v[7]=0,v[8]=0,v[9]=-P,v[10]=R,v[11]=0,v[12]=0,v[13]=0,v[14]=0,v[15]=1,v}}),X0=o((rl,In)=>{In.exports=A;function A(v,C){var P=Math.sin(C),R=Math.cos(C);return v[0]=R,v[1]=0,v[2]=-P,v[3]=0,v[4]=0,v[5]=1,v[6]=0,v[7]=0,v[8]=P,v[9]=0,v[10]=R,v[11]=0,v[12]=0,v[13]=0,v[14]=0,v[15]=1,v}}),$g=o((rl,In)=>{In.exports=A;function A(v,C){var P=Math.sin(C),R=Math.cos(C);return v[0]=R,v[1]=P,v[2]=0,v[3]=0,v[4]=-P,v[5]=R,v[6]=0,v[7]=0,v[8]=0,v[9]=0,v[10]=1,v[11]=0,v[12]=0,v[13]=0,v[14]=0,v[15]=1,v}}),Gg=o((rl,In)=>{In.exports=A;function A(v,C){var P=C[0],R=C[1],F=C[2],I=C[3],B=P+P,x=R+R,W=F+F,z=P*B,U=R*B,Q=R*x,Z=F*B,$=F*x,q=F*W,J=I*B,O=I*x,j=I*W;return v[0]=1-Q-q,v[1]=U+j,v[2]=Z-O,v[3]=0,v[4]=U-j,v[5]=1-z-q,v[6]=$+J,v[7]=0,v[8]=Z+O,v[9]=$-J,v[10]=1-z-Q,v[11]=0,v[12]=0,v[13]=0,v[14]=0,v[15]=1,v}}),_f=o((rl,In)=>{In.exports=A;function A(v,C,P,R,F,I,B){var x=1/(P-C),W=1/(F-R),z=1/(I-B);return v[0]=I*2*x,v[1]=0,v[2]=0,v[3]=0,v[4]=0,v[5]=I*2*W,v[6]=0,v[7]=0,v[8]=(P+C)*x,v[9]=(F+R)*W,v[10]=(B+I)*z,v[11]=-1,v[12]=0,v[13]=0,v[14]=B*I*2*z,v[15]=0,v}}),hd=o((rl,In)=>{In.exports=A;function A(v,C,P,R,F){var I=1/Math.tan(C/2),B=1/(R-F);return v[0]=I/P,v[1]=0,v[2]=0,v[3]=0,v[4]=0,v[5]=I,v[6]=0,v[7]=0,v[8]=0,v[9]=0,v[10]=(F+R)*B,v[11]=-1,v[12]=0,v[13]=0,v[14]=2*F*R*B,v[15]=0,v}}),qd=o((rl,In)=>{In.exports=A;function A(v,C,P,R){var F=Math.tan(C.upDegrees*Math.PI/180),I=Math.tan(C.downDegrees*Math.PI/180),B=Math.tan(C.leftDegrees*Math.PI/180),x=Math.tan(C.rightDegrees*Math.PI/180),W=2/(B+x),z=2/(F+I);return v[0]=W,v[1]=0,v[2]=0,v[3]=0,v[4]=0,v[5]=z,v[6]=0,v[7]=0,v[8]=-((B-x)*W*.5),v[9]=(F-I)*z*.5,v[10]=R/(P-R),v[11]=-1,v[12]=0,v[13]=0,v[14]=R*P/(P-R),v[15]=0,v}}),fh=o((rl,In)=>{In.exports=A;function A(v,C,P,R,F,I,B){var x=1/(C-P),W=1/(R-F),z=1/(I-B);return v[0]=-2*x,v[1]=0,v[2]=0,v[3]=0,v[4]=0,v[5]=-2*W,v[6]=0,v[7]=0,v[8]=0,v[9]=0,v[10]=2*z,v[11]=0,v[12]=(C+P)*x,v[13]=(F+R)*W,v[14]=(B+I)*z,v[15]=1,v}}),Mf=o((rl,In)=>{var A=qh();In.exports=v;function v(C,P,R,F){var I,B,x,W,z,U,Q,Z,$,q,J=P[0],O=P[1],j=P[2],Y=F[0],se=F[1],nt=F[2],gl=R[0],Bn=R[1],jt=R[2];return Math.abs(J-gl)<1e-6&&Math.abs(O-Bn)<1e-6&&Math.abs(j-jt)<1e-6?A(C):(Q=J-gl,Z=O-Bn,$=j-jt,q=1/Math.sqrt(Q*Q+Z*Z+$*$),Q*=q,Z*=q,$*=q,I=se*$-nt*Z,B=nt*Q-Y*$,x=Y*Z-se*Q,q=Math.sqrt(I*I+B*B+x*x),q?(q=1/q,I*=q,B*=q,x*=q):(I=0,B=0,x=0),W=Z*x-$*B,z=$*I-Q*x,U=Q*B-Z*I,q=Math.sqrt(W*W+z*z+U*U),q?(q=1/q,W*=q,z*=q,U*=q):(W=0,z=0,U=0),C[0]=I,C[1]=W,C[2]=Q,C[3]=0,C[4]=B,C[5]=z,C[6]=Z,C[7]=0,C[8]=x,C[9]=U,C[10]=$,C[11]=0,C[12]=-(I*J+B*O+x*j),C[13]=-(W*J+z*O+U*j),C[14]=-(Q*J+Z*O+$*j),C[15]=1,C)}}),lf=o((rl,In)=>{In.exports=A;function A(v){return"mat4("+v[0]+", "+v[1]+", "+v[2]+", "+v[3]+", "+v[4]+", "+v[5]+", "+v[6]+", "+v[7]+", "+v[8]+", "+v[9]+", "+v[10]+", "+v[11]+", "+v[12]+", "+v[13]+", "+v[14]+", "+v[15]+")"}}),mp=o((rl,In)=>{In.exports={create:gd(),clone:md(),copy:oh(),identity:qh(),transpose:sf(),invert:yh(),adjoint:vf(),determinant:Ef(),multiply:kf(),translate:Mp(),scale:rp(),rotate:Fp(),rotateX:_0(),rotateY:L0(),rotateZ:Gp(),fromRotation:E0(),fromRotationTranslation:l0(),fromScaling:n0(),fromTranslation:Z0(),fromXRotation:G0(),fromYRotation:X0(),fromZRotation:$g(),fromQuat:Gg(),frustum:_f(),perspective:hd(),perspectiveFromFieldOfView:qd(),ortho:fh(),lookAt:Mf(),str:lf()}}),rf=o(rl=>{var In=mp();rl.init2dArray=function(A,v){for(var C=new Array(A),P=0;P<A;P++)C[P]=new Array(v);return C},rl.transposeRagged=function(A){var v=0,C=A.length,P,R;for(P=0;P<C;P++)v=Math.max(v,A[P].length);var F=new Array(v);for(P=0;P<v;P++)for(F[P]=new Array(C),R=0;R<C;R++)F[P][R]=A[R][P];return F},rl.dot=function(A,v){if(!(A.length&&v.length)||A.length!==v.length)return null;var C=A.length,P,R;if(A[0].length)for(P=new Array(C),R=0;R<C;R++)P[R]=rl.dot(A[R],v);else if(v[0].length){var F=rl.transposeRagged(v);for(P=new Array(F.length),R=0;R<F.length;R++)P[R]=rl.dot(A,F[R])}else for(P=0,R=0;R<C;R++)P+=A[R]*v[R];return P},rl.translationMatrix=function(A,v){return[[1,0,A],[0,1,v],[0,0,1]]},rl.rotationMatrix=function(A){var v=A*Math.PI/180;return[[Math.cos(v),-Math.sin(v),0],[Math.sin(v),Math.cos(v),0],[0,0,1]]},rl.rotationXYMatrix=function(A,v,C){return rl.dot(rl.dot(rl.translationMatrix(v,C),rl.rotationMatrix(A)),rl.translationMatrix(-v,-C))},rl.apply3DTransform=function(A){return function(){var v=arguments,C=arguments.length===1?v[0]:[v[0],v[1],v[2]||0];return rl.dot(A,[C[0],C[1],C[2],1]).slice(0,3)}},rl.apply2DTransform=function(A){return function(){var v=arguments;v.length===3&&(v=v[0]);var C=arguments.length===1?v[0]:[v[0],v[1]];return rl.dot(A,[C[0],C[1],1]).slice(0,2)}},rl.apply2DTransform2=function(A){var v=rl.apply2DTransform(A);return function(C){return v(C.slice(0,2)).concat(v(C.slice(2,4)))}},rl.convertCssMatrix=function(A){if(A){var v=A.length;if(v===16)return A;if(v===6)return[A[0],A[1],0,0,A[2],A[3],0,0,0,0,1,0,A[4],A[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},rl.inverseTransformMatrix=function(A){var v=[];return In.invert(v,A),[[v[0],v[1],v[2],v[3]],[v[4],v[5],v[6],v[7]],[v[8],v[9],v[10],v[11]],[v[12],v[13],v[14],v[15]]]}}),hp=o((rl,In)=>{var A=f(),v=ad(),C=rf(),P=mp();function R(J){var O;if(typeof J=="string"){if(O=document.getElementById(J),O===null)throw new Error("No DOM element with id '"+J+"' exists on the page.");return O}else if(J==null)throw new Error("DOM element provided is null or undefined");return J}function F(J){var O=A.select(J);return O.node()instanceof HTMLElement&&O.size()&&O.classed("js-plotly-plot")}function I(J){var O=J&&J.parentNode;O&&O.removeChild(J)}function B(J,O){x("global",J,O)}function x(J,O,j){var Y="plotly.js-style-"+J,se=document.getElementById(Y);if(!(se&&se.matches(".no-inline-styles"))){se||(se=document.createElement("style"),se.setAttribute("id",Y),se.appendChild(document.createTextNode("")),document.head.appendChild(se));var nt=se.sheet;nt?nt.insertRule?nt.insertRule(O+"{"+j+"}",0):nt.addRule?nt.addRule(O,j,0):v.warn("addStyleRule failed"):v.warn("Cannot addRelatedStyleRule, probably due to strict CSP...")}}function W(J){var O="plotly.js-style-"+J,j=document.getElementById(O);j&&I(j)}function z(J,O,j,Y,se,nt){var gl=Y.split(":"),Bn=se.split(":"),jt="data-btn-style-event-added";nt||(nt=document),nt.querySelectorAll(J).forEach(function(Pe){Pe.getAttribute(jt)||(Pe.addEventListener("mouseenter",function(){var ml=this.querySelector(j);ml&&(ml.style[gl[0]]=gl[1])}),Pe.addEventListener("mouseleave",function(){var ml=this.querySelector(j);ml&&(O&&this.matches(O)?ml.style[gl[0]]=gl[1]:ml.style[Bn[0]]=Bn[1])}),Pe.setAttribute(jt,!0))})}function U(J){var O=Z(J),j=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return O.forEach(function(Y){var se=Q(Y);if(se){var nt=C.convertCssMatrix(se);j=P.multiply(j,j,nt)}}),j}function Q(J){var O=window.getComputedStyle(J,null),j=O.getPropertyValue("-webkit-transform")||O.getPropertyValue("-moz-transform")||O.getPropertyValue("-ms-transform")||O.getPropertyValue("-o-transform")||O.getPropertyValue("transform");return j==="none"?null:j.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(Y){return+Y})}function Z(J){for(var O=[];$(J);)O.push(J),J=J.parentNode,typeof ShadowRoot=="function"&&J instanceof ShadowRoot&&(J=J.host);return O}function $(J){return J&&(J instanceof Element||J instanceof HTMLElement)}function q(J,O){return J&&O&&J.top===O.top&&J.left===O.left&&J.right===O.right&&J.bottom===O.bottom}In.exports={getGraphDiv:R,isPlotDiv:F,removeElement:I,addStyleRule:B,addRelatedStyleRule:x,deleteRelatedStyleRule:W,setStyleOnHover:z,getFullTransformMatrix:U,getElementTransformMatrix:Q,getElementAndAncestors:Z,equalDomRects:q}}),Cp=o((rl,In)=>{In.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}}),sp=o((rl,In)=>{var A=Al().extendFlat,v=ie(),C={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},P={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},R=C.flags.slice().concat(["fullReplot"]),F=P.flags.slice().concat("layoutReplot");In.exports={traces:C,layout:P,traceFlags:function(){return I(R)},layoutFlags:function(){return I(F)},update:function(W,z){var U=z.editType;if(U&&U!=="none")for(var Q=U.split("+"),Z=0;Z<Q.length;Z++)W[Q[Z]]=!0},overrideAll:B};function I(W){for(var z={},U=0;U<W.length;U++)z[W[U]]=!1;return z}function B(W,z,U){var Q=A({},W);for(var Z in Q){var $=Q[Z];v($)&&(Q[Z]=x($,z,U,Z))}return U==="from-root"&&(Q.editType=z),Q}function x(W,z,U,Q){if(W.valType){var Z=A({},W);if(Z.editType=z,Array.isArray(W.items)){Z.items=new Array(W.items.length);for(var $=0;$<W.items.length;$++)Z.items[$]=x(W.items[$],z)}return Z}else return B(W,z,Q.charAt(0)==="_"?"nested":"from-root")}}),jp=o(rl=>{rl.dash={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},rl.pattern={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},path:{valType:"string",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}}),Cg=o((rl,In)=>{In.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}}),tg=o(rl=>{var In=Cg(),A=In.FORMAT_LINK,v=In.DATE_FORMAT_LINK;function C(R){var F=R&&R.supportOther;return["Variables are inserted using %{variable},",'for example "y: %{y}"'+(F?" as well as %{xother}, {%_xother}, {%_xother_}, {%xother_}. When showing info for several points, *xother* will be added to those with different x positions from the first point. An underscore before or after *(x|y)other* will add a space on that side, only when this field is shown.":"."),`Numbers are formatted using d3-format's syntax %{variable:d3-format}, for example "Price: %{y:$.2f}".`,A,"for details on the formatting syntax.",`Dates are formatted using d3-time-format's syntax %{variable|d3-time-format}, for example "Day: %{2019-01-01|%A}".`,v,"for details on the date formatting syntax."].join(" ")}rl.templateFormatStringDescription=C;function P(R){var F=R.description?" "+R.description:"",I=R.keys||[];if(I.length>0){for(var B=[],x=0;x<I.length;x++)B[x]="`"+I[x]+"`";F=F+"Finally, the template string has access to ",I.length===1?F=F+"variable "+B[0]:F=F+"variables "+B.slice(0,-1).join(", ")+" and "+B.slice(-1)+"."}return F}rl.hovertemplateAttrs=function(R,F){R=R||{},F=F||{},P(F);var I={valType:"string",dflt:"",editType:R.editType||"none"};return R.arrayOk!==!1&&(I.arrayOk=!0),I},rl.texttemplateAttrs=function(R,F){R=R||{},F=F||{},P(F);var I={valType:"string",dflt:"",editType:R.editType||"calc"};return R.arrayOk!==!1&&(I.arrayOk=!0),I},rl.shapeTexttemplateAttrs=function(R,F){R=R||{},F=F||{},R.newshape,P(F);var I={valType:"string",dflt:"",editType:R.editType||"arraydraw"};return I}}),qg=o((rl,In)=>{function A(j,Y){return Y?Y.d2l(j):j}function v(j,Y){return Y?Y.l2d(j):j}function C(j){return j.x0}function P(j){return j.x1}function R(j){return j.y0}function F(j){return j.y1}function I(j){return j.x0shift||0}function B(j){return j.x1shift||0}function x(j){return j.y0shift||0}function W(j){return j.y1shift||0}function z(j,Y){return A(j.x1,Y)+B(j)-A(j.x0,Y)-I(j)}function U(j,Y,se){return A(j.y1,se)+W(j)-A(j.y0,se)-x(j)}function Q(j,Y){return Math.abs(z(j,Y))}function Z(j,Y,se){return Math.abs(U(j,Y,se))}function $(j,Y,se){return j.type!=="line"?void 0:Math.sqrt(Math.pow(z(j,Y),2)+Math.pow(U(j,Y,se),2))}function q(j,Y){return v((A(j.x1,Y)+B(j)+A(j.x0,Y)+I(j))/2,Y)}function J(j,Y,se){return v((A(j.y1,se)+W(j)+A(j.y0,se)+x(j))/2,se)}function O(j,Y,se){return j.type!=="line"?void 0:U(j,Y,se)/z(j,Y)}In.exports={x0:C,x1:P,y0:R,y1:F,slope:O,dx:z,dy:U,width:Q,height:Z,length:$,xcenter:q,ycenter:J}}),ig=o((rl,In)=>{var A=sp().overrideAll,v=Zu(),C=vu(),P=jp().dash,R=Al().extendFlat,F=tg().shapeTexttemplateAttrs,I=qg();In.exports=A({newshape:{visible:R({},v.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:R({},v.legend,{}),legendgroup:R({},v.legendgroup,{}),legendgrouptitle:{text:R({},v.legendgrouptitle.text,{}),font:C({})},legendrank:R({},v.legendrank,{}),legendwidth:R({},v.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:R({},P,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:R({},v.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:F({newshape:!0},{keys:Object.keys(I)}),font:C({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")}),Ag=o((rl,In)=>{var A=jp().dash,v=Al().extendFlat;In.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:v({},A,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}}),vg=o((rl,In)=>{In.exports=function(A){var v=A.editType;return{t:{valType:"number",dflt:0,editType:v},r:{valType:"number",dflt:0,editType:v},b:{valType:"number",dflt:0,editType:v},l:{valType:"number",dflt:0,editType:v},editType:v}}}),cg=o((rl,In)=>{var A=vu(),v=Cp(),C=Id(),P=ig(),R=Ag(),F=vg(),I=Al().extendFlat,B=A({editType:"calc"});B.family.dflt='"Open Sans", verdana, arial, sans-serif',B.size.dflt=12,B.color.dflt=C.defaultLine,In.exports={font:B,title:{text:{valType:"string",editType:"layoutstyle"},font:A({editType:"layoutstyle"}),subtitle:{text:{valType:"string",editType:"layoutstyle"},font:A({editType:"layoutstyle"}),editType:"layoutstyle"},xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:I(F({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:C.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:C.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:C.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:P.newshape,activeshape:P.activeshape,newselection:R.newselection,activeselection:R.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:I({},v.transition,{editType:"none"})}}),_p=o(()=>{(function(){if(!document.getElementById("ce8d464691048653ffe3a57c6c18ab566e8366f186677868cf724621a857b4fe")){var rl=document.createElement("style");rl.id="ce8d464691048653ffe3a57c6c18ab566e8366f186677868cf724621a857b4fe",rl.textContent=`.maplibregl-map{font:12px/20px Helvetica Neue,Arial,Helvetica,sans-serif;overflow:hidden;position:relative;-webkit-tap-highlight-color:rgb(0 0 0/0)}.maplibregl-canvas{left:0;position:absolute;top:0}.maplibregl-map:fullscreen{height:100%;width:100%}.maplibregl-ctrl-group button.maplibregl-ctrl-compass{touch-action:none}.maplibregl-canvas-container.maplibregl-interactive,.maplibregl-ctrl-group button.maplibregl-ctrl-compass{cursor:grab;-webkit-user-select:none;-moz-user-select:none;user-select:none}.maplibregl-canvas-container.maplibregl-interactive.maplibregl-track-pointer{cursor:pointer}.maplibregl-canvas-container.maplibregl-interactive:active,.maplibregl-ctrl-group button.maplibregl-ctrl-compass:active{cursor:grabbing}.maplibregl-canvas-container.maplibregl-touch-zoom-rotate,.maplibregl-canvas-container.maplibregl-touch-zoom-rotate .maplibregl-canvas{touch-action:pan-x pan-y}.maplibregl-canvas-container.maplibregl-touch-drag-pan,.maplibregl-canvas-container.maplibregl-touch-drag-pan .maplibregl-canvas{touch-action:pinch-zoom}.maplibregl-canvas-container.maplibregl-touch-zoom-rotate.maplibregl-touch-drag-pan,.maplibregl-canvas-container.maplibregl-touch-zoom-rotate.maplibregl-touch-drag-pan .maplibregl-canvas{touch-action:none}.maplibregl-canvas-container.maplibregl-touch-drag-pan.maplibregl-cooperative-gestures,.maplibregl-canvas-container.maplibregl-touch-drag-pan.maplibregl-cooperative-gestures .maplibregl-canvas{touch-action:pan-x pan-y}.maplibregl-ctrl-bottom-left,.maplibregl-ctrl-bottom-right,.maplibregl-ctrl-top-left,.maplibregl-ctrl-top-right{pointer-events:none;position:absolute;z-index:2}.maplibregl-ctrl-top-left{left:0;top:0}.maplibregl-ctrl-top-right{right:0;top:0}.maplibregl-ctrl-bottom-left{bottom:0;left:0}.maplibregl-ctrl-bottom-right{bottom:0;right:0}.maplibregl-ctrl{clear:both;pointer-events:auto;transform:translate(0)}.maplibregl-ctrl-top-left .maplibregl-ctrl{float:left;margin:10px 0 0 10px}.maplibregl-ctrl-top-right .maplibregl-ctrl{float:right;margin:10px 10px 0 0}.maplibregl-ctrl-bottom-left .maplibregl-ctrl{float:left;margin:0 0 10px 10px}.maplibregl-ctrl-bottom-right .maplibregl-ctrl{float:right;margin:0 10px 10px 0}.maplibregl-ctrl-group{background:#fff;border-radius:4px}.maplibregl-ctrl-group:not(:empty){box-shadow:0 0 0 2px rgba(0,0,0,.1)}@media (forced-colors:active){.maplibregl-ctrl-group:not(:empty){box-shadow:0 0 0 2px ButtonText}}.maplibregl-ctrl-group button{background-color:transparent;border:0;box-sizing:border-box;cursor:pointer;display:block;height:29px;outline:none;padding:0;width:29px}.maplibregl-ctrl-group button+button{border-top:1px solid #ddd}.maplibregl-ctrl button .maplibregl-ctrl-icon{background-position:50%;background-repeat:no-repeat;display:block;height:100%;width:100%}@media (forced-colors:active){.maplibregl-ctrl-icon{background-color:transparent}.maplibregl-ctrl-group button+button{border-top:1px solid ButtonText}}.maplibregl-ctrl button::-moz-focus-inner{border:0;padding:0}.maplibregl-ctrl-attrib-button:focus,.maplibregl-ctrl-group button:focus{box-shadow:0 0 2px 2px #0096ff}.maplibregl-ctrl button:disabled{cursor:not-allowed}.maplibregl-ctrl button:disabled .maplibregl-ctrl-icon{opacity:.25}.maplibregl-ctrl button:not(:disabled):hover{background-color:rgb(0 0 0/5%)}.maplibregl-ctrl-group button:focus:focus-visible{box-shadow:0 0 2px 2px #0096ff}.maplibregl-ctrl-group button:focus:not(:focus-visible){box-shadow:none}.maplibregl-ctrl-group button:focus:first-child{border-radius:4px 4px 0 0}.maplibregl-ctrl-group button:focus:last-child{border-radius:0 0 4px 4px}.maplibregl-ctrl-group button:focus:only-child{border-radius:inherit}.maplibregl-ctrl button.maplibregl-ctrl-zoom-out .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 29 29'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-zoom-in .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 29 29'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5'/%3E%3C/svg%3E")}@media (forced-colors:active){.maplibregl-ctrl button.maplibregl-ctrl-zoom-out .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-zoom-in .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5'/%3E%3C/svg%3E")}}@media (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl button.maplibregl-ctrl-zoom-out .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-zoom-in .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5'/%3E%3C/svg%3E")}}.maplibregl-ctrl button.maplibregl-ctrl-fullscreen .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 29 29'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-shrink .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1z'/%3E%3C/svg%3E")}@media (forced-colors:active){.maplibregl-ctrl button.maplibregl-ctrl-fullscreen .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-shrink .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1z'/%3E%3C/svg%3E")}}@media (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl button.maplibregl-ctrl-fullscreen .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-shrink .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1z'/%3E%3C/svg%3E")}}.maplibregl-ctrl button.maplibregl-ctrl-compass .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 29 29'%3E%3Cpath d='m10.5 14 4-8 4 8z'/%3E%3Cpath fill='%23ccc' d='m10.5 16 4 8 4-8z'/%3E%3C/svg%3E")}@media (forced-colors:active){.maplibregl-ctrl button.maplibregl-ctrl-compass .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='m10.5 14 4-8 4 8z'/%3E%3Cpath fill='%23ccc' d='m10.5 16 4 8 4-8z'/%3E%3C/svg%3E")}}@media (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl button.maplibregl-ctrl-compass .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='m10.5 14 4-8 4 8z'/%3E%3Cpath fill='%23ccc' d='m10.5 16 4 8 4-8z'/%3E%3C/svg%3E")}}.maplibregl-ctrl button.maplibregl-ctrl-terrain .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='22' height='22' fill='%23333' viewBox='0 0 22 22'%3E%3Cpath d='m1.754 13.406 4.453-4.851 3.09 3.09 3.281 3.277.969-.969-3.309-3.312 3.844-4.121 6.148 6.886h1.082v-.855l-7.207-8.07-4.84 5.187L6.169 6.57l-5.48 5.965v.871ZM.688 16.844h20.625v1.375H.688Zm0 0'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-terrain-enabled .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='22' height='22' fill='%2333b5e5' viewBox='0 0 22 22'%3E%3Cpath d='m1.754 13.406 4.453-4.851 3.09 3.09 3.281 3.277.969-.969-3.309-3.312 3.844-4.121 6.148 6.886h1.082v-.855l-7.207-8.07-4.84 5.187L6.169 6.57l-5.48 5.965v.871ZM.688 16.844h20.625v1.375H.688Zm0 0'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate:disabled .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23aaa' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath fill='red' d='m14 5 1 1-9 9-1-1z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%2333b5e5' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active-error .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23e58978' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%2333b5e5' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background-error .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23e54e33' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-waiting .maplibregl-ctrl-icon{animation:maplibregl-spin 2s linear infinite}@media (forced-colors:active){.maplibregl-ctrl button.maplibregl-ctrl-geolocate .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate:disabled .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23999' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath fill='red' d='m14 5 1 1-9 9-1-1z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%2333b5e5' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active-error .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23e58978' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%2333b5e5' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background-error .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23e54e33' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3C/svg%3E")}}@media (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl button.maplibregl-ctrl-geolocate .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate:disabled .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23666' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath fill='red' d='m14 5 1 1-9 9-1-1z'/%3E%3C/svg%3E")}}@keyframes maplibregl-spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}a.maplibregl-ctrl-logo{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='88' height='23' fill='none'%3E%3Cpath fill='%23000' fill-opacity='.4' fill-rule='evenodd' d='M17.408 16.796h-1.827l2.501-12.095h.198l3.324 6.533.988 2.19.988-2.19 3.258-6.533h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.929 5.644h-.098l-2.914-5.644-.757-1.71-.345 1.71zm1.958-3.42-.726 3.663a1.255 1.255 0 0 1-1.232 1.011h-1.827a1.255 1.255 0 0 1-1.229-1.509l2.501-12.095a1.255 1.255 0 0 1 1.23-1.001h.197a1.25 1.25 0 0 1 1.12.685l3.19 6.273 3.125-6.263a1.25 1.25 0 0 1 1.123-.695h.181a1.255 1.255 0 0 1 1.227.991l1.443 6.71a5 5 0 0 1 .314-.787l.009-.016a4.6 4.6 0 0 1 1.777-1.887c.782-.46 1.668-.667 2.611-.667a4.6 4.6 0 0 1 1.7.32l.306.134c.21-.16.474-.256.759-.256h1.694a1.255 1.255 0 0 1 1.212.925 1.255 1.255 0 0 1 1.212-.925h1.711c.284 0 .545.094.755.252.613-.3 1.312-.45 2.075-.45 1.356 0 2.557.445 3.482 1.4q.47.48.763 1.064V4.701a1.255 1.255 0 0 1 1.255-1.255h1.86A1.255 1.255 0 0 1 54.44 4.7v9.194h2.217c.19 0 .37.043.532.118v-4.77c0-.356.147-.678.385-.906a2.42 2.42 0 0 1-.682-1.71c0-.665.267-1.253.735-1.7a2.45 2.45 0 0 1 1.722-.674 2.43 2.43 0 0 1 1.705.675q.318.302.504.683V4.7a1.255 1.255 0 0 1 1.255-1.255h1.744A1.255 1.255 0 0 1 65.812 4.7v3.335a4.8 4.8 0 0 1 1.526-.246c.938 0 1.817.214 2.59.69a4.47 4.47 0 0 1 1.67 1.743v-.98a1.255 1.255 0 0 1 1.256-1.256h1.777c.233 0 .451.064.639.174a3.4 3.4 0 0 1 1.567-.372c.346 0 .861.02 1.285.232a1.25 1.25 0 0 1 .689 1.004 4.7 4.7 0 0 1 .853-.588c.795-.44 1.675-.647 2.61-.647 1.385 0 2.65.39 3.525 1.396.836.938 1.168 2.173 1.168 3.528q-.001.515-.056 1.051a1.255 1.255 0 0 1-.947 1.09l.408.952a1.255 1.255 0 0 1-.477 1.552c-.418.268-.92.463-1.458.612-.613.171-1.304.244-2.049.244-1.06 0-2.043-.207-2.886-.698l-.015-.008c-.798-.48-1.419-1.135-1.818-1.963l-.004-.008a5.8 5.8 0 0 1-.548-2.512q0-.429.053-.843a1.3 1.3 0 0 1-.333-.086l-.166-.004c-.223 0-.426.062-.643.228-.03.024-.142.139-.142.59v3.883a1.255 1.255 0 0 1-1.256 1.256h-1.777a1.255 1.255 0 0 1-1.256-1.256V15.69l-.032.057a4.8 4.8 0 0 1-1.86 1.833 5.04 5.04 0 0 1-2.484.634 4.5 4.5 0 0 1-1.935-.424 1.25 1.25 0 0 1-.764.258h-1.71a1.255 1.255 0 0 1-1.256-1.255V7.687a2.4 2.4 0 0 1-.428.625c.253.23.412.561.412.93v7.553a1.255 1.255 0 0 1-1.256 1.255h-1.843a1.25 1.25 0 0 1-.894-.373c-.228.23-.544.373-.894.373H51.32a1.255 1.255 0 0 1-1.256-1.255v-1.251l-.061.117a4.7 4.7 0 0 1-1.782 1.884 4.77 4.77 0 0 1-2.485.67 5.6 5.6 0 0 1-1.485-.188l.009 2.764a1.255 1.255 0 0 1-1.255 1.259h-1.729a1.255 1.255 0 0 1-1.255-1.255v-3.537a1.255 1.255 0 0 1-1.167.793h-1.679a1.25 1.25 0 0 1-.77-.263 4.5 4.5 0 0 1-1.945.429c-.885 0-1.724-.21-2.495-.632l-.017-.01a5 5 0 0 1-1.081-.836 1.255 1.255 0 0 1-1.254 1.312h-1.81a1.255 1.255 0 0 1-1.228-.99l-.782-3.625-2.044 3.939a1.25 1.25 0 0 1-1.115.676h-.098a1.25 1.25 0 0 1-1.116-.68l-2.061-3.994zM35.92 16.63l.207-.114.223-.15q.493-.356.735-.785l.061-.118.033 1.332h1.678V9.242h-1.694l-.033 1.267q-.133-.329-.526-.658l-.032-.028a3.2 3.2 0 0 0-.668-.428l-.27-.12a3.3 3.3 0 0 0-1.235-.23q-1.136-.001-1.974.493a3.36 3.36 0 0 0-1.3 1.382q-.445.89-.444 2.074 0 1.2.51 2.107a3.8 3.8 0 0 0 1.382 1.381 3.9 3.9 0 0 0 1.893.477q.795 0 1.455-.33zm-2.789-5.38q-.576.675-.575 1.762 0 1.102.559 1.794.576.675 1.645.675a2.25 2.25 0 0 0 .934-.19 2.2 2.2 0 0 0 .468-.29l.178-.161a2.2 2.2 0 0 0 .397-.561q.244-.5.244-1.15v-.115q0-.708-.296-1.267l-.043-.077a2.2 2.2 0 0 0-.633-.709l-.13-.086-.047-.028a2.1 2.1 0 0 0-1.073-.285q-1.052 0-1.629.692zm2.316 2.706c.163-.17.28-.407.28-.83v-.114c0-.292-.06-.508-.15-.68a.96.96 0 0 0-.353-.389.85.85 0 0 0-.464-.127c-.4 0-.56.114-.664.239l-.01.012c-.148.174-.275.45-.275.945 0 .506.122.801.27.99.097.11.266.224.68.224.303 0 .504-.09.687-.269zm7.545 1.705a2.6 2.6 0 0 0 .331.423q.319.33.755.548l.173.074q.65.255 1.49.255 1.02 0 1.844-.493a3.45 3.45 0 0 0 1.316-1.4q.493-.904.493-2.089 0-1.909-.988-2.913-.988-1.02-2.584-1.02-.898 0-1.575.347a3 3 0 0 0-.415.262l-.199.166a3.4 3.4 0 0 0-.64.82V9.242h-1.712v11.553h1.729l-.017-5.134zm.53-1.138q.206.29.48.5l.155.11.053.034q.51.296 1.119.297 1.07 0 1.645-.675.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.435 0-.835.16a2 2 0 0 0-.284.136 2 2 0 0 0-.363.254 2.2 2.2 0 0 0-.46.569l-.082.162a2.6 2.6 0 0 0-.213 1.072v.115q0 .707.296 1.267l.135.211zm.964-.818a1.1 1.1 0 0 0 .367.385.94.94 0 0 0 .476.118c.423 0 .59-.117.687-.23.159-.194.28-.478.28-.95 0-.53-.133-.8-.266-.952l-.021-.025c-.078-.094-.231-.221-.68-.221a1 1 0 0 0-.503.135l-.012.007a.86.86 0 0 0-.335.343c-.073.133-.132.324-.132.614v.115a1.4 1.4 0 0 0 .14.66zm15.7-6.222q.347-.346.346-.856a1.05 1.05 0 0 0-.345-.79 1.18 1.18 0 0 0-.84-.329q-.51 0-.855.33a1.05 1.05 0 0 0-.346.79q0 .51.346.855.345.346.856.346.51 0 .839-.346zm4.337 9.314.033-1.332q.191.403.59.747l.098.081a4 4 0 0 0 .316.224l.223.122a3.2 3.2 0 0 0 1.44.322 3.8 3.8 0 0 0 1.875-.477 3.5 3.5 0 0 0 1.382-1.366q.527-.89.526-2.09 0-1.184-.444-2.073a3.24 3.24 0 0 0-1.283-1.399q-.823-.51-1.942-.51a3.5 3.5 0 0 0-1.527.344l-.086.043-.165.09a3 3 0 0 0-.33.214q-.432.315-.656.707a2 2 0 0 0-.099.198l.082-1.283V4.701h-1.744v12.095zm.473-2.509a2.5 2.5 0 0 0 .566.7q.117.098.245.18l.144.08a2.1 2.1 0 0 0 .975.232q1.07 0 1.645-.675.576-.69.576-1.778 0-1.102-.576-1.777-.56-.691-1.645-.692a2.2 2.2 0 0 0-1.015.235q-.22.113-.415.282l-.15.142a2.1 2.1 0 0 0-.42.594q-.223.479-.223 1.1v.115q0 .705.293 1.26zm2.616-.293c.157-.191.28-.479.28-.967 0-.51-.13-.79-.276-.961l-.021-.026c-.082-.1-.232-.225-.67-.225a.87.87 0 0 0-.681.279l-.012.011c-.154.155-.274.38-.274.807v.115c0 .285.057.499.144.669a1.1 1.1 0 0 0 .367.405c.137.082.28.123.455.123.423 0 .59-.118.686-.23zm8.266-3.013q.345-.13.724-.14l.069-.002q.493 0 .642.099l.247-1.794q-.196-.099-.717-.099a2.3 2.3 0 0 0-.545.063 2 2 0 0 0-.411.148 2.2 2.2 0 0 0-.4.249 2.5 2.5 0 0 0-.485.499 2.7 2.7 0 0 0-.32.581l-.05.137v-1.48h-1.778v7.553h1.777v-3.884q0-.546.159-.943a1.5 1.5 0 0 1 .466-.636 2.5 2.5 0 0 1 .399-.253 2 2 0 0 1 .224-.099zm9.784 2.656.05-.922q0-1.743-.856-2.698-.838-.97-2.584-.97-1.119-.001-2.007.493a3.46 3.46 0 0 0-1.4 1.382q-.493.906-.493 2.106 0 1.07.428 1.975.428.89 1.332 1.432.906.526 2.255.526.973 0 1.668-.185l.044-.012.135-.04q.613-.184.984-.421l-.542-1.267q-.3.162-.642.274l-.297.087q-.51.131-1.3.131-.954 0-1.497-.444a1.6 1.6 0 0 1-.192-.193q-.366-.44-.512-1.234l-.004-.021zm-5.427-1.256-.003.022h3.752v-.138q-.011-.727-.288-1.118a1 1 0 0 0-.156-.176q-.46-.428-1.316-.428-.986 0-1.494.604-.379.45-.494 1.234zm-27.053 2.77V4.7h-1.86v12.095h5.333V15.15zm7.103-5.908v7.553h-1.843V9.242h1.843z'/%3E%3Cpath fill='%23fff' d='m19.63 11.151-.757-1.71-.345 1.71-1.12 5.644h-1.827L18.083 4.7h.197l3.325 6.533.988 2.19.988-2.19L26.839 4.7h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.93 5.644h-.098l-2.913-5.644zm14.836 5.81q-1.02 0-1.893-.478a3.8 3.8 0 0 1-1.381-1.382q-.51-.906-.51-2.106 0-1.185.444-2.074a3.36 3.36 0 0 1 1.3-1.382q.839-.494 1.974-.494a3.3 3.3 0 0 1 1.234.231 3.3 3.3 0 0 1 .97.575q.396.33.527.659l.033-1.267h1.694v7.553H37.18l-.033-1.332q-.279.593-1.02 1.053a3.17 3.17 0 0 1-1.662.444zm.296-1.482q.938 0 1.58-.642.642-.66.642-1.711v-.115q0-.708-.296-1.267a2.2 2.2 0 0 0-.807-.872 2.1 2.1 0 0 0-1.119-.313q-1.053 0-1.629.692-.575.675-.575 1.76 0 1.103.559 1.795.577.675 1.645.675zm6.521-6.237h1.711v1.4q.906-1.597 2.83-1.597 1.596 0 2.584 1.02.988 1.005.988 2.914 0 1.185-.493 2.09a3.46 3.46 0 0 1-1.316 1.399 3.5 3.5 0 0 1-1.844.493q-.954 0-1.662-.329a2.67 2.67 0 0 1-1.086-.97l.017 5.134h-1.728zm4.048 6.22q1.07 0 1.645-.674.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.592 0-1.12.296-.51.28-.822.823-.296.527-.296 1.234v.115q0 .708.296 1.267.313.543.823.855.51.296 1.119.297z'/%3E%3Cpath fill='%23e1e3e9' d='M51.325 4.7h1.86v10.45h3.473v1.646h-5.333zm7.12 4.542h1.843v7.553h-1.843zm.905-1.415a1.16 1.16 0 0 1-.856-.346 1.17 1.17 0 0 1-.346-.856 1.05 1.05 0 0 1 .346-.79q.346-.329.856-.329.494 0 .839.33a1.05 1.05 0 0 1 .345.79 1.16 1.16 0 0 1-.345.855q-.33.346-.84.346zm7.875 9.133a3.17 3.17 0 0 1-1.662-.444q-.723-.46-1.004-1.053l-.033 1.332h-1.71V4.701h1.743v4.657l-.082 1.283q.279-.658 1.086-1.119a3.5 3.5 0 0 1 1.778-.477q1.119 0 1.942.51a3.24 3.24 0 0 1 1.283 1.4q.445.888.444 2.072 0 1.201-.526 2.09a3.5 3.5 0 0 1-1.382 1.366 3.8 3.8 0 0 1-1.876.477zm-.296-1.481q1.069 0 1.645-.675.577-.69.577-1.778 0-1.102-.577-1.776-.56-.691-1.645-.692a2.12 2.12 0 0 0-1.58.659q-.642.641-.642 1.694v.115q0 .71.296 1.267a2.4 2.4 0 0 0 .807.872 2.1 2.1 0 0 0 1.119.313zm5.927-6.237h1.777v1.481q.263-.757.856-1.217a2.14 2.14 0 0 1 1.349-.46q.527 0 .724.098l-.247 1.794q-.149-.099-.642-.099-.774 0-1.416.494-.626.493-.626 1.58v3.883h-1.777V9.242zm9.534 7.718q-1.35 0-2.255-.526-.904-.543-1.332-1.432a4.6 4.6 0 0 1-.428-1.975q0-1.2.493-2.106a3.46 3.46 0 0 1 1.4-1.382q.889-.495 2.007-.494 1.744 0 2.584.97.855.956.856 2.7 0 .444-.05.92h-5.43q.18 1.005.708 1.45.542.443 1.497.443.79 0 1.3-.131a4 4 0 0 0 .938-.362l.542 1.267q-.411.263-1.119.46-.708.198-1.711.197zm1.596-4.558q.016-1.02-.444-1.432-.46-.428-1.316-.428-1.728 0-1.991 1.86z'/%3E%3Cpath d='M5.074 15.948a.484.657 0 0 0-.486.659v1.84a.484.657 0 0 0 .486.659h4.101a.484.657 0 0 0 .486-.659v-1.84a.484.657 0 0 0-.486-.659zm3.56 1.16H5.617v.838h3.017z' style='fill:%23fff;fill-rule:evenodd;stroke-width:1.03600001'/%3E%3Cg style='stroke-width:1.12603545'%3E%3Cpath d='M-9.408-1.416c-3.833-.025-7.056 2.912-7.08 6.615-.02 3.08 1.653 4.832 3.107 6.268.903.892 1.721 1.74 2.32 2.902l-.525-.004c-.543-.003-.992.304-1.24.639a1.87 1.87 0 0 0-.362 1.121l-.011 1.877c-.003.402.104.787.347 1.125.244.338.688.653 1.23.656l4.142.028c.542.003.99-.306 1.238-.641a1.87 1.87 0 0 0 .363-1.121l.012-1.875a1.87 1.87 0 0 0-.348-1.127c-.243-.338-.688-.653-1.23-.656l-.518-.004c.597-1.145 1.425-1.983 2.348-2.87 1.473-1.414 3.18-3.149 3.2-6.226-.016-3.59-2.923-6.684-6.993-6.707m-.006 1.1v.002c3.274.02 5.92 2.532 5.9 5.6-.017 2.706-1.39 4.026-2.863 5.44-1.034.994-2.118 2.033-2.814 3.633-.018.041-.052.055-.075.065q-.013.004-.02.01a.34.34 0 0 1-.226.084.34.34 0 0 1-.224-.086l-.092-.077c-.699-1.615-1.768-2.669-2.781-3.67-1.454-1.435-2.797-2.762-2.78-5.478.02-3.067 2.7-5.545 5.975-5.523m-.02 2.826c-1.62-.01-2.944 1.315-2.955 2.96-.01 1.646 1.295 2.988 2.916 2.999h.002c1.621.01 2.943-1.316 2.953-2.961.011-1.646-1.294-2.988-2.916-2.998m-.005 1.1c1.017.006 1.829.83 1.822 1.89s-.83 1.874-1.848 1.867c-1.018-.006-1.829-.83-1.822-1.89s.83-1.874 1.848-1.868m-2.155 11.857 4.14.025c.271.002.49.305.487.676l-.013 1.875c-.003.37-.224.67-.495.668l-4.14-.025c-.27-.002-.487-.306-.485-.676l.012-1.875c.003-.37.224-.67.494-.668' style='color:%23000;font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:medium;line-height:normal;font-family:sans-serif;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:%23000;letter-spacing:normal;word-spacing:normal;text-transform:none;writing-mode:lr-tb;direction:ltr;text-orientation:mixed;dominant-baseline:auto;baseline-shift:baseline;text-anchor:start;white-space:normal;shape-padding:0;clip-rule:evenodd;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000;solid-opacity:1;vector-effect:none;fill:%23000;fill-opacity:.4;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-9.415-.316C-12.69-.338-15.37 2.14-15.39 5.207c-.017 2.716 1.326 4.041 2.78 5.477 1.013 1 2.081 2.055 2.78 3.67l.092.076a.34.34 0 0 0 .225.086.34.34 0 0 0 .227-.083l.019-.01c.022-.009.057-.024.074-.064.697-1.6 1.78-2.64 2.814-3.634 1.473-1.414 2.847-2.733 2.864-5.44.02-3.067-2.627-5.58-5.901-5.601m-.057 8.784c1.621.011 2.944-1.315 2.955-2.96.01-1.646-1.295-2.988-2.916-2.999-1.622-.01-2.945 1.315-2.955 2.96s1.295 2.989 2.916 3' style='clip-rule:evenodd;fill:%23e1e3e9;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-11.594 15.465c-.27-.002-.492.297-.494.668l-.012 1.876c-.003.371.214.673.485.675l4.14.027c.271.002.492-.298.495-.668l.012-1.877c.003-.37-.215-.672-.485-.674z' style='clip-rule:evenodd;fill:%23fff;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3C/g%3E%3C/svg%3E");background-repeat:no-repeat;cursor:pointer;display:block;height:23px;margin:0 0 -4px -4px;overflow:hidden;width:88px}a.maplibregl-ctrl-logo.maplibregl-compact{width:14px}@media (forced-colors:active){a.maplibregl-ctrl-logo{background-color:transparent;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='88' height='23' fill='none'%3E%3Cpath fill='%23000' fill-opacity='.4' fill-rule='evenodd' d='M17.408 16.796h-1.827l2.501-12.095h.198l3.324 6.533.988 2.19.988-2.19 3.258-6.533h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.929 5.644h-.098l-2.914-5.644-.757-1.71-.345 1.71zm1.958-3.42-.726 3.663a1.255 1.255 0 0 1-1.232 1.011h-1.827a1.255 1.255 0 0 1-1.229-1.509l2.501-12.095a1.255 1.255 0 0 1 1.23-1.001h.197a1.25 1.25 0 0 1 1.12.685l3.19 6.273 3.125-6.263a1.25 1.25 0 0 1 1.123-.695h.181a1.255 1.255 0 0 1 1.227.991l1.443 6.71a5 5 0 0 1 .314-.787l.009-.016a4.6 4.6 0 0 1 1.777-1.887c.782-.46 1.668-.667 2.611-.667a4.6 4.6 0 0 1 1.7.32l.306.134c.21-.16.474-.256.759-.256h1.694a1.255 1.255 0 0 1 1.212.925 1.255 1.255 0 0 1 1.212-.925h1.711c.284 0 .545.094.755.252.613-.3 1.312-.45 2.075-.45 1.356 0 2.557.445 3.482 1.4q.47.48.763 1.064V4.701a1.255 1.255 0 0 1 1.255-1.255h1.86A1.255 1.255 0 0 1 54.44 4.7v9.194h2.217c.19 0 .37.043.532.118v-4.77c0-.356.147-.678.385-.906a2.42 2.42 0 0 1-.682-1.71c0-.665.267-1.253.735-1.7a2.45 2.45 0 0 1 1.722-.674 2.43 2.43 0 0 1 1.705.675q.318.302.504.683V4.7a1.255 1.255 0 0 1 1.255-1.255h1.744A1.255 1.255 0 0 1 65.812 4.7v3.335a4.8 4.8 0 0 1 1.526-.246c.938 0 1.817.214 2.59.69a4.47 4.47 0 0 1 1.67 1.743v-.98a1.255 1.255 0 0 1 1.256-1.256h1.777c.233 0 .451.064.639.174a3.4 3.4 0 0 1 1.567-.372c.346 0 .861.02 1.285.232a1.25 1.25 0 0 1 .689 1.004 4.7 4.7 0 0 1 .853-.588c.795-.44 1.675-.647 2.61-.647 1.385 0 2.65.39 3.525 1.396.836.938 1.168 2.173 1.168 3.528q-.001.515-.056 1.051a1.255 1.255 0 0 1-.947 1.09l.408.952a1.255 1.255 0 0 1-.477 1.552c-.418.268-.92.463-1.458.612-.613.171-1.304.244-2.049.244-1.06 0-2.043-.207-2.886-.698l-.015-.008c-.798-.48-1.419-1.135-1.818-1.963l-.004-.008a5.8 5.8 0 0 1-.548-2.512q0-.429.053-.843a1.3 1.3 0 0 1-.333-.086l-.166-.004c-.223 0-.426.062-.643.228-.03.024-.142.139-.142.59v3.883a1.255 1.255 0 0 1-1.256 1.256h-1.777a1.255 1.255 0 0 1-1.256-1.256V15.69l-.032.057a4.8 4.8 0 0 1-1.86 1.833 5.04 5.04 0 0 1-2.484.634 4.5 4.5 0 0 1-1.935-.424 1.25 1.25 0 0 1-.764.258h-1.71a1.255 1.255 0 0 1-1.256-1.255V7.687a2.4 2.4 0 0 1-.428.625c.253.23.412.561.412.93v7.553a1.255 1.255 0 0 1-1.256 1.255h-1.843a1.25 1.25 0 0 1-.894-.373c-.228.23-.544.373-.894.373H51.32a1.255 1.255 0 0 1-1.256-1.255v-1.251l-.061.117a4.7 4.7 0 0 1-1.782 1.884 4.77 4.77 0 0 1-2.485.67 5.6 5.6 0 0 1-1.485-.188l.009 2.764a1.255 1.255 0 0 1-1.255 1.259h-1.729a1.255 1.255 0 0 1-1.255-1.255v-3.537a1.255 1.255 0 0 1-1.167.793h-1.679a1.25 1.25 0 0 1-.77-.263 4.5 4.5 0 0 1-1.945.429c-.885 0-1.724-.21-2.495-.632l-.017-.01a5 5 0 0 1-1.081-.836 1.255 1.255 0 0 1-1.254 1.312h-1.81a1.255 1.255 0 0 1-1.228-.99l-.782-3.625-2.044 3.939a1.25 1.25 0 0 1-1.115.676h-.098a1.25 1.25 0 0 1-1.116-.68l-2.061-3.994zM35.92 16.63l.207-.114.223-.15q.493-.356.735-.785l.061-.118.033 1.332h1.678V9.242h-1.694l-.033 1.267q-.133-.329-.526-.658l-.032-.028a3.2 3.2 0 0 0-.668-.428l-.27-.12a3.3 3.3 0 0 0-1.235-.23q-1.136-.001-1.974.493a3.36 3.36 0 0 0-1.3 1.382q-.445.89-.444 2.074 0 1.2.51 2.107a3.8 3.8 0 0 0 1.382 1.381 3.9 3.9 0 0 0 1.893.477q.795 0 1.455-.33zm-2.789-5.38q-.576.675-.575 1.762 0 1.102.559 1.794.576.675 1.645.675a2.25 2.25 0 0 0 .934-.19 2.2 2.2 0 0 0 .468-.29l.178-.161a2.2 2.2 0 0 0 .397-.561q.244-.5.244-1.15v-.115q0-.708-.296-1.267l-.043-.077a2.2 2.2 0 0 0-.633-.709l-.13-.086-.047-.028a2.1 2.1 0 0 0-1.073-.285q-1.052 0-1.629.692zm2.316 2.706c.163-.17.28-.407.28-.83v-.114c0-.292-.06-.508-.15-.68a.96.96 0 0 0-.353-.389.85.85 0 0 0-.464-.127c-.4 0-.56.114-.664.239l-.01.012c-.148.174-.275.45-.275.945 0 .506.122.801.27.99.097.11.266.224.68.224.303 0 .504-.09.687-.269zm7.545 1.705a2.6 2.6 0 0 0 .331.423q.319.33.755.548l.173.074q.65.255 1.49.255 1.02 0 1.844-.493a3.45 3.45 0 0 0 1.316-1.4q.493-.904.493-2.089 0-1.909-.988-2.913-.988-1.02-2.584-1.02-.898 0-1.575.347a3 3 0 0 0-.415.262l-.199.166a3.4 3.4 0 0 0-.64.82V9.242h-1.712v11.553h1.729l-.017-5.134zm.53-1.138q.206.29.48.5l.155.11.053.034q.51.296 1.119.297 1.07 0 1.645-.675.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.435 0-.835.16a2 2 0 0 0-.284.136 2 2 0 0 0-.363.254 2.2 2.2 0 0 0-.46.569l-.082.162a2.6 2.6 0 0 0-.213 1.072v.115q0 .707.296 1.267l.135.211zm.964-.818a1.1 1.1 0 0 0 .367.385.94.94 0 0 0 .476.118c.423 0 .59-.117.687-.23.159-.194.28-.478.28-.95 0-.53-.133-.8-.266-.952l-.021-.025c-.078-.094-.231-.221-.68-.221a1 1 0 0 0-.503.135l-.012.007a.86.86 0 0 0-.335.343c-.073.133-.132.324-.132.614v.115a1.4 1.4 0 0 0 .14.66zm15.7-6.222q.347-.346.346-.856a1.05 1.05 0 0 0-.345-.79 1.18 1.18 0 0 0-.84-.329q-.51 0-.855.33a1.05 1.05 0 0 0-.346.79q0 .51.346.855.345.346.856.346.51 0 .839-.346zm4.337 9.314.033-1.332q.191.403.59.747l.098.081a4 4 0 0 0 .316.224l.223.122a3.2 3.2 0 0 0 1.44.322 3.8 3.8 0 0 0 1.875-.477 3.5 3.5 0 0 0 1.382-1.366q.527-.89.526-2.09 0-1.184-.444-2.073a3.24 3.24 0 0 0-1.283-1.399q-.823-.51-1.942-.51a3.5 3.5 0 0 0-1.527.344l-.086.043-.165.09a3 3 0 0 0-.33.214q-.432.315-.656.707a2 2 0 0 0-.099.198l.082-1.283V4.701h-1.744v12.095zm.473-2.509a2.5 2.5 0 0 0 .566.7q.117.098.245.18l.144.08a2.1 2.1 0 0 0 .975.232q1.07 0 1.645-.675.576-.69.576-1.778 0-1.102-.576-1.777-.56-.691-1.645-.692a2.2 2.2 0 0 0-1.015.235q-.22.113-.415.282l-.15.142a2.1 2.1 0 0 0-.42.594q-.223.479-.223 1.1v.115q0 .705.293 1.26zm2.616-.293c.157-.191.28-.479.28-.967 0-.51-.13-.79-.276-.961l-.021-.026c-.082-.1-.232-.225-.67-.225a.87.87 0 0 0-.681.279l-.012.011c-.154.155-.274.38-.274.807v.115c0 .285.057.499.144.669a1.1 1.1 0 0 0 .367.405c.137.082.28.123.455.123.423 0 .59-.118.686-.23zm8.266-3.013q.345-.13.724-.14l.069-.002q.493 0 .642.099l.247-1.794q-.196-.099-.717-.099a2.3 2.3 0 0 0-.545.063 2 2 0 0 0-.411.148 2.2 2.2 0 0 0-.4.249 2.5 2.5 0 0 0-.485.499 2.7 2.7 0 0 0-.32.581l-.05.137v-1.48h-1.778v7.553h1.777v-3.884q0-.546.159-.943a1.5 1.5 0 0 1 .466-.636 2.5 2.5 0 0 1 .399-.253 2 2 0 0 1 .224-.099zm9.784 2.656.05-.922q0-1.743-.856-2.698-.838-.97-2.584-.97-1.119-.001-2.007.493a3.46 3.46 0 0 0-1.4 1.382q-.493.906-.493 2.106 0 1.07.428 1.975.428.89 1.332 1.432.906.526 2.255.526.973 0 1.668-.185l.044-.012.135-.04q.613-.184.984-.421l-.542-1.267q-.3.162-.642.274l-.297.087q-.51.131-1.3.131-.954 0-1.497-.444a1.6 1.6 0 0 1-.192-.193q-.366-.44-.512-1.234l-.004-.021zm-5.427-1.256-.003.022h3.752v-.138q-.011-.727-.288-1.118a1 1 0 0 0-.156-.176q-.46-.428-1.316-.428-.986 0-1.494.604-.379.45-.494 1.234zm-27.053 2.77V4.7h-1.86v12.095h5.333V15.15zm7.103-5.908v7.553h-1.843V9.242h1.843z'/%3E%3Cpath fill='%23fff' d='m19.63 11.151-.757-1.71-.345 1.71-1.12 5.644h-1.827L18.083 4.7h.197l3.325 6.533.988 2.19.988-2.19L26.839 4.7h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.93 5.644h-.098l-2.913-5.644zm14.836 5.81q-1.02 0-1.893-.478a3.8 3.8 0 0 1-1.381-1.382q-.51-.906-.51-2.106 0-1.185.444-2.074a3.36 3.36 0 0 1 1.3-1.382q.839-.494 1.974-.494a3.3 3.3 0 0 1 1.234.231 3.3 3.3 0 0 1 .97.575q.396.33.527.659l.033-1.267h1.694v7.553H37.18l-.033-1.332q-.279.593-1.02 1.053a3.17 3.17 0 0 1-1.662.444zm.296-1.482q.938 0 1.58-.642.642-.66.642-1.711v-.115q0-.708-.296-1.267a2.2 2.2 0 0 0-.807-.872 2.1 2.1 0 0 0-1.119-.313q-1.053 0-1.629.692-.575.675-.575 1.76 0 1.103.559 1.795.577.675 1.645.675zm6.521-6.237h1.711v1.4q.906-1.597 2.83-1.597 1.596 0 2.584 1.02.988 1.005.988 2.914 0 1.185-.493 2.09a3.46 3.46 0 0 1-1.316 1.399 3.5 3.5 0 0 1-1.844.493q-.954 0-1.662-.329a2.67 2.67 0 0 1-1.086-.97l.017 5.134h-1.728zm4.048 6.22q1.07 0 1.645-.674.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.592 0-1.12.296-.51.28-.822.823-.296.527-.296 1.234v.115q0 .708.296 1.267.313.543.823.855.51.296 1.119.297z'/%3E%3Cpath fill='%23e1e3e9' d='M51.325 4.7h1.86v10.45h3.473v1.646h-5.333zm7.12 4.542h1.843v7.553h-1.843zm.905-1.415a1.16 1.16 0 0 1-.856-.346 1.17 1.17 0 0 1-.346-.856 1.05 1.05 0 0 1 .346-.79q.346-.329.856-.329.494 0 .839.33a1.05 1.05 0 0 1 .345.79 1.16 1.16 0 0 1-.345.855q-.33.346-.84.346zm7.875 9.133a3.17 3.17 0 0 1-1.662-.444q-.723-.46-1.004-1.053l-.033 1.332h-1.71V4.701h1.743v4.657l-.082 1.283q.279-.658 1.086-1.119a3.5 3.5 0 0 1 1.778-.477q1.119 0 1.942.51a3.24 3.24 0 0 1 1.283 1.4q.445.888.444 2.072 0 1.201-.526 2.09a3.5 3.5 0 0 1-1.382 1.366 3.8 3.8 0 0 1-1.876.477zm-.296-1.481q1.069 0 1.645-.675.577-.69.577-1.778 0-1.102-.577-1.776-.56-.691-1.645-.692a2.12 2.12 0 0 0-1.58.659q-.642.641-.642 1.694v.115q0 .71.296 1.267a2.4 2.4 0 0 0 .807.872 2.1 2.1 0 0 0 1.119.313zm5.927-6.237h1.777v1.481q.263-.757.856-1.217a2.14 2.14 0 0 1 1.349-.46q.527 0 .724.098l-.247 1.794q-.149-.099-.642-.099-.774 0-1.416.494-.626.493-.626 1.58v3.883h-1.777V9.242zm9.534 7.718q-1.35 0-2.255-.526-.904-.543-1.332-1.432a4.6 4.6 0 0 1-.428-1.975q0-1.2.493-2.106a3.46 3.46 0 0 1 1.4-1.382q.889-.495 2.007-.494 1.744 0 2.584.97.855.956.856 2.7 0 .444-.05.92h-5.43q.18 1.005.708 1.45.542.443 1.497.443.79 0 1.3-.131a4 4 0 0 0 .938-.362l.542 1.267q-.411.263-1.119.46-.708.198-1.711.197zm1.596-4.558q.016-1.02-.444-1.432-.46-.428-1.316-.428-1.728 0-1.991 1.86z'/%3E%3Cpath d='M5.074 15.948a.484.657 0 0 0-.486.659v1.84a.484.657 0 0 0 .486.659h4.101a.484.657 0 0 0 .486-.659v-1.84a.484.657 0 0 0-.486-.659zm3.56 1.16H5.617v.838h3.017z' style='fill:%23fff;fill-rule:evenodd;stroke-width:1.03600001'/%3E%3Cg style='stroke-width:1.12603545'%3E%3Cpath d='M-9.408-1.416c-3.833-.025-7.056 2.912-7.08 6.615-.02 3.08 1.653 4.832 3.107 6.268.903.892 1.721 1.74 2.32 2.902l-.525-.004c-.543-.003-.992.304-1.24.639a1.87 1.87 0 0 0-.362 1.121l-.011 1.877c-.003.402.104.787.347 1.125.244.338.688.653 1.23.656l4.142.028c.542.003.99-.306 1.238-.641a1.87 1.87 0 0 0 .363-1.121l.012-1.875a1.87 1.87 0 0 0-.348-1.127c-.243-.338-.688-.653-1.23-.656l-.518-.004c.597-1.145 1.425-1.983 2.348-2.87 1.473-1.414 3.18-3.149 3.2-6.226-.016-3.59-2.923-6.684-6.993-6.707m-.006 1.1v.002c3.274.02 5.92 2.532 5.9 5.6-.017 2.706-1.39 4.026-2.863 5.44-1.034.994-2.118 2.033-2.814 3.633-.018.041-.052.055-.075.065q-.013.004-.02.01a.34.34 0 0 1-.226.084.34.34 0 0 1-.224-.086l-.092-.077c-.699-1.615-1.768-2.669-2.781-3.67-1.454-1.435-2.797-2.762-2.78-5.478.02-3.067 2.7-5.545 5.975-5.523m-.02 2.826c-1.62-.01-2.944 1.315-2.955 2.96-.01 1.646 1.295 2.988 2.916 2.999h.002c1.621.01 2.943-1.316 2.953-2.961.011-1.646-1.294-2.988-2.916-2.998m-.005 1.1c1.017.006 1.829.83 1.822 1.89s-.83 1.874-1.848 1.867c-1.018-.006-1.829-.83-1.822-1.89s.83-1.874 1.848-1.868m-2.155 11.857 4.14.025c.271.002.49.305.487.676l-.013 1.875c-.003.37-.224.67-.495.668l-4.14-.025c-.27-.002-.487-.306-.485-.676l.012-1.875c.003-.37.224-.67.494-.668' style='color:%23000;font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:medium;line-height:normal;font-family:sans-serif;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:%23000;letter-spacing:normal;word-spacing:normal;text-transform:none;writing-mode:lr-tb;direction:ltr;text-orientation:mixed;dominant-baseline:auto;baseline-shift:baseline;text-anchor:start;white-space:normal;shape-padding:0;clip-rule:evenodd;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000;solid-opacity:1;vector-effect:none;fill:%23000;fill-opacity:.4;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-9.415-.316C-12.69-.338-15.37 2.14-15.39 5.207c-.017 2.716 1.326 4.041 2.78 5.477 1.013 1 2.081 2.055 2.78 3.67l.092.076a.34.34 0 0 0 .225.086.34.34 0 0 0 .227-.083l.019-.01c.022-.009.057-.024.074-.064.697-1.6 1.78-2.64 2.814-3.634 1.473-1.414 2.847-2.733 2.864-5.44.02-3.067-2.627-5.58-5.901-5.601m-.057 8.784c1.621.011 2.944-1.315 2.955-2.96.01-1.646-1.295-2.988-2.916-2.999-1.622-.01-2.945 1.315-2.955 2.96s1.295 2.989 2.916 3' style='clip-rule:evenodd;fill:%23e1e3e9;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-11.594 15.465c-.27-.002-.492.297-.494.668l-.012 1.876c-.003.371.214.673.485.675l4.14.027c.271.002.492-.298.495-.668l.012-1.877c.003-.37-.215-.672-.485-.674z' style='clip-rule:evenodd;fill:%23fff;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3C/g%3E%3C/svg%3E")}}@media (forced-colors:active) and (prefers-color-scheme:light){a.maplibregl-ctrl-logo{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='88' height='23' fill='none'%3E%3Cpath fill='%23000' fill-opacity='.4' fill-rule='evenodd' d='M17.408 16.796h-1.827l2.501-12.095h.198l3.324 6.533.988 2.19.988-2.19 3.258-6.533h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.929 5.644h-.098l-2.914-5.644-.757-1.71-.345 1.71zm1.958-3.42-.726 3.663a1.255 1.255 0 0 1-1.232 1.011h-1.827a1.255 1.255 0 0 1-1.229-1.509l2.501-12.095a1.255 1.255 0 0 1 1.23-1.001h.197a1.25 1.25 0 0 1 1.12.685l3.19 6.273 3.125-6.263a1.25 1.25 0 0 1 1.123-.695h.181a1.255 1.255 0 0 1 1.227.991l1.443 6.71a5 5 0 0 1 .314-.787l.009-.016a4.6 4.6 0 0 1 1.777-1.887c.782-.46 1.668-.667 2.611-.667a4.6 4.6 0 0 1 1.7.32l.306.134c.21-.16.474-.256.759-.256h1.694a1.255 1.255 0 0 1 1.212.925 1.255 1.255 0 0 1 1.212-.925h1.711c.284 0 .545.094.755.252.613-.3 1.312-.45 2.075-.45 1.356 0 2.557.445 3.482 1.4q.47.48.763 1.064V4.701a1.255 1.255 0 0 1 1.255-1.255h1.86A1.255 1.255 0 0 1 54.44 4.7v9.194h2.217c.19 0 .37.043.532.118v-4.77c0-.356.147-.678.385-.906a2.42 2.42 0 0 1-.682-1.71c0-.665.267-1.253.735-1.7a2.45 2.45 0 0 1 1.722-.674 2.43 2.43 0 0 1 1.705.675q.318.302.504.683V4.7a1.255 1.255 0 0 1 1.255-1.255h1.744A1.255 1.255 0 0 1 65.812 4.7v3.335a4.8 4.8 0 0 1 1.526-.246c.938 0 1.817.214 2.59.69a4.47 4.47 0 0 1 1.67 1.743v-.98a1.255 1.255 0 0 1 1.256-1.256h1.777c.233 0 .451.064.639.174a3.4 3.4 0 0 1 1.567-.372c.346 0 .861.02 1.285.232a1.25 1.25 0 0 1 .689 1.004 4.7 4.7 0 0 1 .853-.588c.795-.44 1.675-.647 2.61-.647 1.385 0 2.65.39 3.525 1.396.836.938 1.168 2.173 1.168 3.528q-.001.515-.056 1.051a1.255 1.255 0 0 1-.947 1.09l.408.952a1.255 1.255 0 0 1-.477 1.552c-.418.268-.92.463-1.458.612-.613.171-1.304.244-2.049.244-1.06 0-2.043-.207-2.886-.698l-.015-.008c-.798-.48-1.419-1.135-1.818-1.963l-.004-.008a5.8 5.8 0 0 1-.548-2.512q0-.429.053-.843a1.3 1.3 0 0 1-.333-.086l-.166-.004c-.223 0-.426.062-.643.228-.03.024-.142.139-.142.59v3.883a1.255 1.255 0 0 1-1.256 1.256h-1.777a1.255 1.255 0 0 1-1.256-1.256V15.69l-.032.057a4.8 4.8 0 0 1-1.86 1.833 5.04 5.04 0 0 1-2.484.634 4.5 4.5 0 0 1-1.935-.424 1.25 1.25 0 0 1-.764.258h-1.71a1.255 1.255 0 0 1-1.256-1.255V7.687a2.4 2.4 0 0 1-.428.625c.253.23.412.561.412.93v7.553a1.255 1.255 0 0 1-1.256 1.255h-1.843a1.25 1.25 0 0 1-.894-.373c-.228.23-.544.373-.894.373H51.32a1.255 1.255 0 0 1-1.256-1.255v-1.251l-.061.117a4.7 4.7 0 0 1-1.782 1.884 4.77 4.77 0 0 1-2.485.67 5.6 5.6 0 0 1-1.485-.188l.009 2.764a1.255 1.255 0 0 1-1.255 1.259h-1.729a1.255 1.255 0 0 1-1.255-1.255v-3.537a1.255 1.255 0 0 1-1.167.793h-1.679a1.25 1.25 0 0 1-.77-.263 4.5 4.5 0 0 1-1.945.429c-.885 0-1.724-.21-2.495-.632l-.017-.01a5 5 0 0 1-1.081-.836 1.255 1.255 0 0 1-1.254 1.312h-1.81a1.255 1.255 0 0 1-1.228-.99l-.782-3.625-2.044 3.939a1.25 1.25 0 0 1-1.115.676h-.098a1.25 1.25 0 0 1-1.116-.68l-2.061-3.994zM35.92 16.63l.207-.114.223-.15q.493-.356.735-.785l.061-.118.033 1.332h1.678V9.242h-1.694l-.033 1.267q-.133-.329-.526-.658l-.032-.028a3.2 3.2 0 0 0-.668-.428l-.27-.12a3.3 3.3 0 0 0-1.235-.23q-1.136-.001-1.974.493a3.36 3.36 0 0 0-1.3 1.382q-.445.89-.444 2.074 0 1.2.51 2.107a3.8 3.8 0 0 0 1.382 1.381 3.9 3.9 0 0 0 1.893.477q.795 0 1.455-.33zm-2.789-5.38q-.576.675-.575 1.762 0 1.102.559 1.794.576.675 1.645.675a2.25 2.25 0 0 0 .934-.19 2.2 2.2 0 0 0 .468-.29l.178-.161a2.2 2.2 0 0 0 .397-.561q.244-.5.244-1.15v-.115q0-.708-.296-1.267l-.043-.077a2.2 2.2 0 0 0-.633-.709l-.13-.086-.047-.028a2.1 2.1 0 0 0-1.073-.285q-1.052 0-1.629.692zm2.316 2.706c.163-.17.28-.407.28-.83v-.114c0-.292-.06-.508-.15-.68a.96.96 0 0 0-.353-.389.85.85 0 0 0-.464-.127c-.4 0-.56.114-.664.239l-.01.012c-.148.174-.275.45-.275.945 0 .506.122.801.27.99.097.11.266.224.68.224.303 0 .504-.09.687-.269zm7.545 1.705a2.6 2.6 0 0 0 .331.423q.319.33.755.548l.173.074q.65.255 1.49.255 1.02 0 1.844-.493a3.45 3.45 0 0 0 1.316-1.4q.493-.904.493-2.089 0-1.909-.988-2.913-.988-1.02-2.584-1.02-.898 0-1.575.347a3 3 0 0 0-.415.262l-.199.166a3.4 3.4 0 0 0-.64.82V9.242h-1.712v11.553h1.729l-.017-5.134zm.53-1.138q.206.29.48.5l.155.11.053.034q.51.296 1.119.297 1.07 0 1.645-.675.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.435 0-.835.16a2 2 0 0 0-.284.136 2 2 0 0 0-.363.254 2.2 2.2 0 0 0-.46.569l-.082.162a2.6 2.6 0 0 0-.213 1.072v.115q0 .707.296 1.267l.135.211zm.964-.818a1.1 1.1 0 0 0 .367.385.94.94 0 0 0 .476.118c.423 0 .59-.117.687-.23.159-.194.28-.478.28-.95 0-.53-.133-.8-.266-.952l-.021-.025c-.078-.094-.231-.221-.68-.221a1 1 0 0 0-.503.135l-.012.007a.86.86 0 0 0-.335.343c-.073.133-.132.324-.132.614v.115a1.4 1.4 0 0 0 .14.66zm15.7-6.222q.347-.346.346-.856a1.05 1.05 0 0 0-.345-.79 1.18 1.18 0 0 0-.84-.329q-.51 0-.855.33a1.05 1.05 0 0 0-.346.79q0 .51.346.855.345.346.856.346.51 0 .839-.346zm4.337 9.314.033-1.332q.191.403.59.747l.098.081a4 4 0 0 0 .316.224l.223.122a3.2 3.2 0 0 0 1.44.322 3.8 3.8 0 0 0 1.875-.477 3.5 3.5 0 0 0 1.382-1.366q.527-.89.526-2.09 0-1.184-.444-2.073a3.24 3.24 0 0 0-1.283-1.399q-.823-.51-1.942-.51a3.5 3.5 0 0 0-1.527.344l-.086.043-.165.09a3 3 0 0 0-.33.214q-.432.315-.656.707a2 2 0 0 0-.099.198l.082-1.283V4.701h-1.744v12.095zm.473-2.509a2.5 2.5 0 0 0 .566.7q.117.098.245.18l.144.08a2.1 2.1 0 0 0 .975.232q1.07 0 1.645-.675.576-.69.576-1.778 0-1.102-.576-1.777-.56-.691-1.645-.692a2.2 2.2 0 0 0-1.015.235q-.22.113-.415.282l-.15.142a2.1 2.1 0 0 0-.42.594q-.223.479-.223 1.1v.115q0 .705.293 1.26zm2.616-.293c.157-.191.28-.479.28-.967 0-.51-.13-.79-.276-.961l-.021-.026c-.082-.1-.232-.225-.67-.225a.87.87 0 0 0-.681.279l-.012.011c-.154.155-.274.38-.274.807v.115c0 .285.057.499.144.669a1.1 1.1 0 0 0 .367.405c.137.082.28.123.455.123.423 0 .59-.118.686-.23zm8.266-3.013q.345-.13.724-.14l.069-.002q.493 0 .642.099l.247-1.794q-.196-.099-.717-.099a2.3 2.3 0 0 0-.545.063 2 2 0 0 0-.411.148 2.2 2.2 0 0 0-.4.249 2.5 2.5 0 0 0-.485.499 2.7 2.7 0 0 0-.32.581l-.05.137v-1.48h-1.778v7.553h1.777v-3.884q0-.546.159-.943a1.5 1.5 0 0 1 .466-.636 2.5 2.5 0 0 1 .399-.253 2 2 0 0 1 .224-.099zm9.784 2.656.05-.922q0-1.743-.856-2.698-.838-.97-2.584-.97-1.119-.001-2.007.493a3.46 3.46 0 0 0-1.4 1.382q-.493.906-.493 2.106 0 1.07.428 1.975.428.89 1.332 1.432.906.526 2.255.526.973 0 1.668-.185l.044-.012.135-.04q.613-.184.984-.421l-.542-1.267q-.3.162-.642.274l-.297.087q-.51.131-1.3.131-.954 0-1.497-.444a1.6 1.6 0 0 1-.192-.193q-.366-.44-.512-1.234l-.004-.021zm-5.427-1.256-.003.022h3.752v-.138q-.011-.727-.288-1.118a1 1 0 0 0-.156-.176q-.46-.428-1.316-.428-.986 0-1.494.604-.379.45-.494 1.234zm-27.053 2.77V4.7h-1.86v12.095h5.333V15.15zm7.103-5.908v7.553h-1.843V9.242h1.843z'/%3E%3Cpath fill='%23fff' d='m19.63 11.151-.757-1.71-.345 1.71-1.12 5.644h-1.827L18.083 4.7h.197l3.325 6.533.988 2.19.988-2.19L26.839 4.7h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.93 5.644h-.098l-2.913-5.644zm14.836 5.81q-1.02 0-1.893-.478a3.8 3.8 0 0 1-1.381-1.382q-.51-.906-.51-2.106 0-1.185.444-2.074a3.36 3.36 0 0 1 1.3-1.382q.839-.494 1.974-.494a3.3 3.3 0 0 1 1.234.231 3.3 3.3 0 0 1 .97.575q.396.33.527.659l.033-1.267h1.694v7.553H37.18l-.033-1.332q-.279.593-1.02 1.053a3.17 3.17 0 0 1-1.662.444zm.296-1.482q.938 0 1.58-.642.642-.66.642-1.711v-.115q0-.708-.296-1.267a2.2 2.2 0 0 0-.807-.872 2.1 2.1 0 0 0-1.119-.313q-1.053 0-1.629.692-.575.675-.575 1.76 0 1.103.559 1.795.577.675 1.645.675zm6.521-6.237h1.711v1.4q.906-1.597 2.83-1.597 1.596 0 2.584 1.02.988 1.005.988 2.914 0 1.185-.493 2.09a3.46 3.46 0 0 1-1.316 1.399 3.5 3.5 0 0 1-1.844.493q-.954 0-1.662-.329a2.67 2.67 0 0 1-1.086-.97l.017 5.134h-1.728zm4.048 6.22q1.07 0 1.645-.674.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.592 0-1.12.296-.51.28-.822.823-.296.527-.296 1.234v.115q0 .708.296 1.267.313.543.823.855.51.296 1.119.297z'/%3E%3Cpath fill='%23e1e3e9' d='M51.325 4.7h1.86v10.45h3.473v1.646h-5.333zm7.12 4.542h1.843v7.553h-1.843zm.905-1.415a1.16 1.16 0 0 1-.856-.346 1.17 1.17 0 0 1-.346-.856 1.05 1.05 0 0 1 .346-.79q.346-.329.856-.329.494 0 .839.33a1.05 1.05 0 0 1 .345.79 1.16 1.16 0 0 1-.345.855q-.33.346-.84.346zm7.875 9.133a3.17 3.17 0 0 1-1.662-.444q-.723-.46-1.004-1.053l-.033 1.332h-1.71V4.701h1.743v4.657l-.082 1.283q.279-.658 1.086-1.119a3.5 3.5 0 0 1 1.778-.477q1.119 0 1.942.51a3.24 3.24 0 0 1 1.283 1.4q.445.888.444 2.072 0 1.201-.526 2.09a3.5 3.5 0 0 1-1.382 1.366 3.8 3.8 0 0 1-1.876.477zm-.296-1.481q1.069 0 1.645-.675.577-.69.577-1.778 0-1.102-.577-1.776-.56-.691-1.645-.692a2.12 2.12 0 0 0-1.58.659q-.642.641-.642 1.694v.115q0 .71.296 1.267a2.4 2.4 0 0 0 .807.872 2.1 2.1 0 0 0 1.119.313zm5.927-6.237h1.777v1.481q.263-.757.856-1.217a2.14 2.14 0 0 1 1.349-.46q.527 0 .724.098l-.247 1.794q-.149-.099-.642-.099-.774 0-1.416.494-.626.493-.626 1.58v3.883h-1.777V9.242zm9.534 7.718q-1.35 0-2.255-.526-.904-.543-1.332-1.432a4.6 4.6 0 0 1-.428-1.975q0-1.2.493-2.106a3.46 3.46 0 0 1 1.4-1.382q.889-.495 2.007-.494 1.744 0 2.584.97.855.956.856 2.7 0 .444-.05.92h-5.43q.18 1.005.708 1.45.542.443 1.497.443.79 0 1.3-.131a4 4 0 0 0 .938-.362l.542 1.267q-.411.263-1.119.46-.708.198-1.711.197zm1.596-4.558q.016-1.02-.444-1.432-.46-.428-1.316-.428-1.728 0-1.991 1.86z'/%3E%3Cpath d='M5.074 15.948a.484.657 0 0 0-.486.659v1.84a.484.657 0 0 0 .486.659h4.101a.484.657 0 0 0 .486-.659v-1.84a.484.657 0 0 0-.486-.659zm3.56 1.16H5.617v.838h3.017z' style='fill:%23fff;fill-rule:evenodd;stroke-width:1.03600001'/%3E%3Cg style='stroke-width:1.12603545'%3E%3Cpath d='M-9.408-1.416c-3.833-.025-7.056 2.912-7.08 6.615-.02 3.08 1.653 4.832 3.107 6.268.903.892 1.721 1.74 2.32 2.902l-.525-.004c-.543-.003-.992.304-1.24.639a1.87 1.87 0 0 0-.362 1.121l-.011 1.877c-.003.402.104.787.347 1.125.244.338.688.653 1.23.656l4.142.028c.542.003.99-.306 1.238-.641a1.87 1.87 0 0 0 .363-1.121l.012-1.875a1.87 1.87 0 0 0-.348-1.127c-.243-.338-.688-.653-1.23-.656l-.518-.004c.597-1.145 1.425-1.983 2.348-2.87 1.473-1.414 3.18-3.149 3.2-6.226-.016-3.59-2.923-6.684-6.993-6.707m-.006 1.1v.002c3.274.02 5.92 2.532 5.9 5.6-.017 2.706-1.39 4.026-2.863 5.44-1.034.994-2.118 2.033-2.814 3.633-.018.041-.052.055-.075.065q-.013.004-.02.01a.34.34 0 0 1-.226.084.34.34 0 0 1-.224-.086l-.092-.077c-.699-1.615-1.768-2.669-2.781-3.67-1.454-1.435-2.797-2.762-2.78-5.478.02-3.067 2.7-5.545 5.975-5.523m-.02 2.826c-1.62-.01-2.944 1.315-2.955 2.96-.01 1.646 1.295 2.988 2.916 2.999h.002c1.621.01 2.943-1.316 2.953-2.961.011-1.646-1.294-2.988-2.916-2.998m-.005 1.1c1.017.006 1.829.83 1.822 1.89s-.83 1.874-1.848 1.867c-1.018-.006-1.829-.83-1.822-1.89s.83-1.874 1.848-1.868m-2.155 11.857 4.14.025c.271.002.49.305.487.676l-.013 1.875c-.003.37-.224.67-.495.668l-4.14-.025c-.27-.002-.487-.306-.485-.676l.012-1.875c.003-.37.224-.67.494-.668' style='color:%23000;font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:medium;line-height:normal;font-family:sans-serif;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:%23000;letter-spacing:normal;word-spacing:normal;text-transform:none;writing-mode:lr-tb;direction:ltr;text-orientation:mixed;dominant-baseline:auto;baseline-shift:baseline;text-anchor:start;white-space:normal;shape-padding:0;clip-rule:evenodd;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000;solid-opacity:1;vector-effect:none;fill:%23000;fill-opacity:.4;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-9.415-.316C-12.69-.338-15.37 2.14-15.39 5.207c-.017 2.716 1.326 4.041 2.78 5.477 1.013 1 2.081 2.055 2.78 3.67l.092.076a.34.34 0 0 0 .225.086.34.34 0 0 0 .227-.083l.019-.01c.022-.009.057-.024.074-.064.697-1.6 1.78-2.64 2.814-3.634 1.473-1.414 2.847-2.733 2.864-5.44.02-3.067-2.627-5.58-5.901-5.601m-.057 8.784c1.621.011 2.944-1.315 2.955-2.96.01-1.646-1.295-2.988-2.916-2.999-1.622-.01-2.945 1.315-2.955 2.96s1.295 2.989 2.916 3' style='clip-rule:evenodd;fill:%23e1e3e9;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-11.594 15.465c-.27-.002-.492.297-.494.668l-.012 1.876c-.003.371.214.673.485.675l4.14.027c.271.002.492-.298.495-.668l.012-1.877c.003-.37-.215-.672-.485-.674z' style='clip-rule:evenodd;fill:%23fff;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3C/g%3E%3C/svg%3E")}}.maplibregl-ctrl.maplibregl-ctrl-attrib{background-color:hsla(0,0%,100%,.5);margin:0;padding:0 5px}@media screen{.maplibregl-ctrl-attrib.maplibregl-compact{background-color:#fff;border-radius:12px;box-sizing:content-box;color:#000;margin:10px;min-height:20px;padding:2px 24px 2px 0;position:relative}.maplibregl-ctrl-attrib.maplibregl-compact-show{padding:2px 28px 2px 8px;visibility:visible}.maplibregl-ctrl-bottom-left>.maplibregl-ctrl-attrib.maplibregl-compact-show,.maplibregl-ctrl-top-left>.maplibregl-ctrl-attrib.maplibregl-compact-show{border-radius:12px;padding:2px 8px 2px 28px}.maplibregl-ctrl-attrib.maplibregl-compact .maplibregl-ctrl-attrib-inner{display:none}.maplibregl-ctrl-attrib-button{background-color:hsla(0,0%,100%,.5);background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill-rule='evenodd' viewBox='0 0 20 20'%3E%3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E%3C/svg%3E");border:0;border-radius:12px;box-sizing:border-box;cursor:pointer;display:none;height:24px;outline:none;position:absolute;right:0;top:0;width:24px}.maplibregl-ctrl-attrib summary.maplibregl-ctrl-attrib-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;list-style:none}.maplibregl-ctrl-attrib summary.maplibregl-ctrl-attrib-button::-webkit-details-marker{display:none}.maplibregl-ctrl-bottom-left .maplibregl-ctrl-attrib-button,.maplibregl-ctrl-top-left .maplibregl-ctrl-attrib-button{left:0}.maplibregl-ctrl-attrib.maplibregl-compact .maplibregl-ctrl-attrib-button,.maplibregl-ctrl-attrib.maplibregl-compact-show .maplibregl-ctrl-attrib-inner{display:block}.maplibregl-ctrl-attrib.maplibregl-compact-show .maplibregl-ctrl-attrib-button{background-color:rgb(0 0 0/5%)}.maplibregl-ctrl-bottom-right>.maplibregl-ctrl-attrib.maplibregl-compact:after{bottom:0;right:0}.maplibregl-ctrl-top-right>.maplibregl-ctrl-attrib.maplibregl-compact:after{right:0;top:0}.maplibregl-ctrl-top-left>.maplibregl-ctrl-attrib.maplibregl-compact:after{left:0;top:0}.maplibregl-ctrl-bottom-left>.maplibregl-ctrl-attrib.maplibregl-compact:after{bottom:0;left:0}}@media screen and (forced-colors:active){.maplibregl-ctrl-attrib.maplibregl-compact:after{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='%23fff' fill-rule='evenodd' viewBox='0 0 20 20'%3E%3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E%3C/svg%3E")}}@media screen and (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl-attrib.maplibregl-compact:after{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill-rule='evenodd' viewBox='0 0 20 20'%3E%3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E%3C/svg%3E")}}.maplibregl-ctrl-attrib a{color:rgba(0,0,0,.75);text-decoration:none}.maplibregl-ctrl-attrib a:hover{color:inherit;text-decoration:underline}.maplibregl-attrib-empty{display:none}.maplibregl-ctrl-scale{background-color:hsla(0,0%,100%,.75);border:2px solid #333;border-top:#333;box-sizing:border-box;color:#333;font-size:10px;padding:0 5px}.maplibregl-popup{display:flex;left:0;pointer-events:none;position:absolute;top:0;will-change:transform}.maplibregl-popup-anchor-top,.maplibregl-popup-anchor-top-left,.maplibregl-popup-anchor-top-right{flex-direction:column}.maplibregl-popup-anchor-bottom,.maplibregl-popup-anchor-bottom-left,.maplibregl-popup-anchor-bottom-right{flex-direction:column-reverse}.maplibregl-popup-anchor-left{flex-direction:row}.maplibregl-popup-anchor-right{flex-direction:row-reverse}.maplibregl-popup-tip{border:10px solid transparent;height:0;width:0;z-index:1}.maplibregl-popup-anchor-top .maplibregl-popup-tip{align-self:center;border-bottom-color:#fff;border-top:none}.maplibregl-popup-anchor-top-left .maplibregl-popup-tip{align-self:flex-start;border-bottom-color:#fff;border-left:none;border-top:none}.maplibregl-popup-anchor-top-right .maplibregl-popup-tip{align-self:flex-end;border-bottom-color:#fff;border-right:none;border-top:none}.maplibregl-popup-anchor-bottom .maplibregl-popup-tip{align-self:center;border-bottom:none;border-top-color:#fff}.maplibregl-popup-anchor-bottom-left .maplibregl-popup-tip{align-self:flex-start;border-bottom:none;border-left:none;border-top-color:#fff}.maplibregl-popup-anchor-bottom-right .maplibregl-popup-tip{align-self:flex-end;border-bottom:none;border-right:none;border-top-color:#fff}.maplibregl-popup-anchor-left .maplibregl-popup-tip{align-self:center;border-left:none;border-right-color:#fff}.maplibregl-popup-anchor-right .maplibregl-popup-tip{align-self:center;border-left-color:#fff;border-right:none}.maplibregl-popup-close-button{background-color:transparent;border:0;border-radius:0 3px 0 0;cursor:pointer;position:absolute;right:0;top:0}.maplibregl-popup-close-button:hover{background-color:rgb(0 0 0/5%)}.maplibregl-popup-content{background:#fff;border-radius:3px;box-shadow:0 1px 2px rgba(0,0,0,.1);padding:15px 10px;pointer-events:auto;position:relative}.maplibregl-popup-anchor-top-left .maplibregl-popup-content{border-top-left-radius:0}.maplibregl-popup-anchor-top-right .maplibregl-popup-content{border-top-right-radius:0}.maplibregl-popup-anchor-bottom-left .maplibregl-popup-content{border-bottom-left-radius:0}.maplibregl-popup-anchor-bottom-right .maplibregl-popup-content{border-bottom-right-radius:0}.maplibregl-popup-track-pointer{display:none}.maplibregl-popup-track-pointer *{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.maplibregl-map:hover .maplibregl-popup-track-pointer{display:flex}.maplibregl-map:active .maplibregl-popup-track-pointer{display:none}.maplibregl-marker{left:0;position:absolute;top:0;transition:opacity .2s;will-change:transform}.maplibregl-user-location-dot,.maplibregl-user-location-dot:before{background-color:#1da1f2;border-radius:50%;height:15px;width:15px}.maplibregl-user-location-dot:before{animation:maplibregl-user-location-dot-pulse 2s infinite;content:"";position:absolute}.maplibregl-user-location-dot:after{border:2px solid #fff;border-radius:50%;box-shadow:0 0 3px rgba(0,0,0,.35);box-sizing:border-box;content:"";height:19px;left:-2px;position:absolute;top:-2px;width:19px}@keyframes maplibregl-user-location-dot-pulse{0%{opacity:1;transform:scale(1)}70%{opacity:0;transform:scale(3)}to{opacity:0;transform:scale(1)}}.maplibregl-user-location-dot-stale{background-color:#aaa}.maplibregl-user-location-dot-stale:after{display:none}.maplibregl-user-location-accuracy-circle{background-color:#1da1f233;border-radius:100%;height:1px;width:1px}.maplibregl-crosshair,.maplibregl-crosshair .maplibregl-interactive,.maplibregl-crosshair .maplibregl-interactive:active{cursor:crosshair}.maplibregl-boxzoom{background:#fff;border:2px dotted #202020;height:0;left:0;opacity:.5;position:absolute;top:0;width:0}.maplibregl-cooperative-gesture-screen{align-items:center;background:rgba(0,0,0,.4);color:#fff;display:flex;font-size:1.4em;inset:0;justify-content:center;line-height:1.2;opacity:0;padding:1rem;pointer-events:none;position:absolute;transition:opacity 1s ease 1s;z-index:99999}.maplibregl-cooperative-gesture-screen.maplibregl-show{opacity:1;transition:opacity .05s}.maplibregl-cooperative-gesture-screen .maplibregl-mobile-message{display:none}@media (hover:none),(width <= 480px){.maplibregl-cooperative-gesture-screen .maplibregl-desktop-message{display:none}.maplibregl-cooperative-gesture-screen .maplibregl-mobile-message{display:block}}.maplibregl-pseudo-fullscreen{height:100%!important;left:0!important;position:fixed!important;top:0!important;width:100%!important;z-index:99999}`,document.head.appendChild(rl)}})()}),Ep=o(rl=>{var In=ad(),A=Dd(),v=mh(),C=ie(),P=hp().addStyleRule,R=Al(),F=Zu(),I=cg(),B=R.extendFlat,x=R.extendDeepAll;rl.modules={},rl.allCategories={},rl.allTypes=[],rl.subplotsRegistry={},rl.componentsRegistry={},rl.layoutArrayContainers=[],rl.layoutArrayRegexes=[],rl.traceLayoutAttributes={},rl.localeRegistry={},rl.apiMethodRegistry={},rl.collectableSubplotTypes=null,rl.register=function(j){if(rl.collectableSubplotTypes=null,j)j&&!Array.isArray(j)&&(j=[j]);else throw new Error("No argument passed to Plotly.register.");for(var Y=0;Y<j.length;Y++){var se=j[Y];if(!se)throw new Error("Invalid module was attempted to be registered!");switch(se.moduleType){case"trace":W(se);break;case"transform":Q(se);break;case"component":U(se);break;case"locale":Z(se);break;case"apiMethod":var nt=se.name;rl.apiMethodRegistry[nt]=se.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},rl.getModule=function(j){var Y=rl.modules[O(j)];return Y?Y._module:!1},rl.traceIs=function(j,Y){if(j=O(j),j==="various")return!1;var se=rl.modules[j];return se||(j&&In.log("Unrecognized trace type "+j+"."),se=rl.modules[F.type.dflt]),!!se.categories[Y]},rl.getComponentMethod=function(j,Y){var se=rl.componentsRegistry[j];return se&&se[Y]||A},rl.call=function(){var j=arguments[0],Y=[].slice.call(arguments,1);return rl.apiMethodRegistry[j].apply(null,Y)};function W(j){var Y=j.name,se=j.categories,nt=j.meta;if(rl.modules[Y]){In.log("Type "+Y+" already registered");return}rl.subplotsRegistry[j.basePlotModule.name]||z(j.basePlotModule);for(var gl={},Bn=0;Bn<se.length;Bn++)gl[se[Bn]]=!0,rl.allCategories[se[Bn]]=!0;rl.modules[Y]={_module:j,categories:gl},nt&&Object.keys(nt).length&&(rl.modules[Y].meta=nt),rl.allTypes.push(Y);for(var jt in rl.componentsRegistry)q(jt,Y);j.layoutAttributes&&B(rl.traceLayoutAttributes,j.layoutAttributes);var Pe=j.basePlotModule,ml=Pe.name;if(ml==="mapbox"){var tl=Pe.constants.styleRules;for(var ul in tl)P(".js-plotly-plot .plotly .mapboxgl-"+ul,tl[ul])}ml==="map"&&_p(),(ml==="geo"||ml==="mapbox"||ml==="map")&&window.PlotlyGeoAssets===void 0&&(window.PlotlyGeoAssets={topojson:{}})}function z(j){var Y=j.name;if(rl.subplotsRegistry[Y]){In.log("Plot type "+Y+" already registered.");return}$(j),rl.subplotsRegistry[Y]=j;for(var se in rl.componentsRegistry)J(se,j.name)}function U(j){if(typeof j.name!="string")throw new Error("Component module *name* must be a string.");var Y=j.name;rl.componentsRegistry[Y]=j,j.layoutAttributes&&(j.layoutAttributes._isLinkedToArray&&v(rl.layoutArrayContainers,Y),$(j));for(var se in rl.modules)q(Y,se);for(var nt in rl.subplotsRegistry)J(Y,nt);j.schema&&j.schema.layout&&x(I,j.schema.layout)}function Q(j){if(typeof j.name!="string")throw new Error("Transform module *name* must be a string.");var Y="Transform module "+j.name,se=typeof j.transform=="function",nt=typeof j.calcTransform=="function";if(!se&&!nt)throw new Error(Y+" is missing a *transform* or *calcTransform* method.");se&&nt&&In.log([Y+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),C(j.attributes)||In.log(Y+" registered without an *attributes* object."),typeof j.supplyDefaults!="function"&&In.log(Y+" registered without a *supplyDefaults* method.")}function Z(j){var Y=j.name,se=Y.split("-")[0],nt=j.dictionary,gl=j.format,Bn=nt&&Object.keys(nt).length,jt=gl&&Object.keys(gl).length,Pe=rl.localeRegistry,ml=Pe[Y];if(ml||(Pe[Y]=ml={}),se!==Y){var tl=Pe[se];tl||(Pe[se]=tl={}),Bn&&tl.dictionary===ml.dictionary&&(tl.dictionary=nt),jt&&tl.format===ml.format&&(tl.format=gl)}Bn&&(ml.dictionary=nt),jt&&(ml.format=gl)}function $(j){if(j.layoutAttributes){var Y=j.layoutAttributes._arrayAttrRegexps;if(Y)for(var se=0;se<Y.length;se++)v(rl.layoutArrayRegexes,Y[se])}}function q(j,Y){var se=rl.componentsRegistry[j].schema;if(!(!se||!se.traces)){var nt=se.traces[Y];nt&&x(rl.modules[Y]._module.attributes,nt)}}function J(j,Y){var se=rl.componentsRegistry[j].schema;if(!(!se||!se.subplots)){var nt=rl.subplotsRegistry[Y],gl=nt.layoutAttributes,Bn=nt.attr==="subplot"?nt.name:nt.attr;Array.isArray(Bn)&&(Bn=Bn[0]);var jt=se.subplots[Bn];gl&&jt&&x(gl,jt)}}function O(j){return typeof j=="object"&&(j=j.type),j}}),dm=o(rl=>{var In=w().timeFormat,A=G(),v=ad(),C=El().mod,P=H(),R=P.BADNUM,F=P.ONEDAY,I=P.ONEHOUR,B=P.ONEMIN,x=P.ONESEC,W=P.EPOCHJD,z=Ep(),U=w().utcFormat,Q=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,Z=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,$=new Date().getFullYear()-70;function q(vl){return vl&&z.componentsRegistry.calendars&&typeof vl=="string"&&vl!=="gregorian"}rl.dateTick0=function(vl,yl){var Fn=J(vl,!!yl);if(yl<2)return Fn;var xl=rl.dateTime2ms(Fn,vl);return xl+=F*(yl-1),rl.ms2DateTime(xl,0,vl)};function J(vl,yl){return q(vl)?yl?z.getComponentMethod("calendars","CANONICAL_SUNDAY")[vl]:z.getComponentMethod("calendars","CANONICAL_TICK")[vl]:yl?"2000-01-02":"2000-01-01"}rl.dfltRange=function(vl){return q(vl)?z.getComponentMethod("calendars","DFLTRANGE")[vl]:["2000-01-01","2001-01-01"]},rl.isJSDate=function(vl){return typeof vl=="object"&&vl!==null&&typeof vl.getTime=="function"};var O,j;rl.dateTime2ms=function(vl,yl){if(rl.isJSDate(vl)){var Fn=vl.getTimezoneOffset()*B,xl=(vl.getUTCMinutes()-vl.getMinutes())*B+(vl.getUTCSeconds()-vl.getSeconds())*x+(vl.getUTCMilliseconds()-vl.getMilliseconds());if(xl){var wl=3*B;Fn=Fn-wl/2+C(xl-Fn+wl/2,wl)}return vl=Number(vl)-Fn,vl>=O&&vl<=j?vl:R}if(typeof vl!="string"&&typeof vl!="number")return R;vl=String(vl);var kl=q(yl),Dl=vl.charAt(0);kl&&(Dl==="G"||Dl==="g")&&(vl=vl.substr(1),yl="");var Ol=kl&&yl.substr(0,7)==="chinese",gu=vl.match(Ol?Z:Q);if(!gu)return R;var yu=gu[1],Iu=gu[3]||"1",cl=Number(gu[5]||1),pl=Number(gu[7]||0),it=Number(gu[9]||0),bl=Number(gu[11]||0);if(kl){if(yu.length===2)return R;yu=Number(yu);var Ll;try{var nl=z.getComponentMethod("calendars","getCal")(yl);if(Ol){var ve=Iu.charAt(Iu.length-1)==="i";Iu=parseInt(Iu,10),Ll=nl.newDate(yu,nl.toMonthIndex(yu,Iu,ve),cl)}else Ll=nl.newDate(yu,Number(Iu),cl)}catch{return R}return Ll?(Ll.toJD()-W)*F+pl*I+it*B+bl*x:R}yu.length===2?yu=(Number(yu)+2e3-$)%100+$:yu=Number(yu),Iu-=1;var _t=new Date(Date.UTC(2e3,Iu,cl,pl,it));return _t.setUTCFullYear(yu),_t.getUTCMonth()!==Iu||_t.getUTCDate()!==cl?R:_t.getTime()+bl*x},O=rl.MIN_MS=rl.dateTime2ms("-9999"),j=rl.MAX_MS=rl.dateTime2ms("9999-12-31 23:59:59.9999"),rl.isDateTime=function(vl,yl){return rl.dateTime2ms(vl,yl)!==R};function Y(vl,yl){return String(vl+Math.pow(10,yl)).substr(1)}var se=90*F,nt=3*I,gl=5*B;rl.ms2DateTime=function(vl,yl,Fn){if(typeof vl!="number"||!(vl>=O&&vl<=j))return R;yl||(yl=0);var xl=Math.floor(C(vl+.05,1)*10),wl=Math.round(vl-xl/10),kl,Dl,Ol,gu,yu,Iu;if(q(Fn)){var cl=Math.floor(wl/F)+W,pl=Math.floor(C(vl,F));try{kl=z.getComponentMethod("calendars","getCal")(Fn).fromJD(cl).formatDate("yyyy-mm-dd")}catch{kl=U("G%Y-%m-%d")(new Date(wl))}if(kl.charAt(0)==="-")for(;kl.length<11;)kl="-0"+kl.substr(1);else for(;kl.length<10;)kl="0"+kl;Dl=yl<se?Math.floor(pl/I):0,Ol=yl<se?Math.floor(pl%I/B):0,gu=yl<nt?Math.floor(pl%B/x):0,yu=yl<gl?pl%x*10+xl:0}else Iu=new Date(wl),kl=U("%Y-%m-%d")(Iu),Dl=yl<se?Iu.getUTCHours():0,Ol=yl<se?Iu.getUTCMinutes():0,gu=yl<nt?Iu.getUTCSeconds():0,yu=yl<gl?Iu.getUTCMilliseconds()*10+xl:0;return Bn(kl,Dl,Ol,gu,yu)},rl.ms2DateTimeLocal=function(vl){if(!(vl>=O+F&&vl<=j-F))return R;var yl=Math.floor(C(vl+.05,1)*10),Fn=new Date(Math.round(vl-yl/10)),xl=In("%Y-%m-%d")(Fn),wl=Fn.getHours(),kl=Fn.getMinutes(),Dl=Fn.getSeconds(),Ol=Fn.getUTCMilliseconds()*10+yl;return Bn(xl,wl,kl,Dl,Ol)};function Bn(vl,yl,Fn,xl,wl){if((yl||Fn||xl||wl)&&(vl+=" "+Y(yl,2)+":"+Y(Fn,2),(xl||wl)&&(vl+=":"+Y(xl,2),wl))){for(var kl=4;wl%10===0;)kl-=1,wl/=10;vl+="."+Y(wl,kl)}return vl}rl.cleanDate=function(vl,yl,Fn){if(vl===R)return yl;if(rl.isJSDate(vl)||typeof vl=="number"&&isFinite(vl)){if(q(Fn))return v.error("JS Dates and milliseconds are incompatible with world calendars",vl),yl;if(vl=rl.ms2DateTimeLocal(+vl),!vl&&yl!==void 0)return yl}else if(!rl.isDateTime(vl,Fn))return v.error("unrecognized date",vl),yl;return vl};var jt=/%\d?f/g,Pe=/%h/g,ml={1:"1",2:"1",3:"2",4:"2"};function tl(vl,yl,Fn,xl){vl=vl.replace(jt,function(kl){var Dl=Math.min(+kl.charAt(1)||6,6),Ol=(yl/1e3%1+2).toFixed(Dl).substr(2).replace(/0+$/,"")||"0";return Ol});var wl=new Date(Math.floor(yl+.05));if(vl=vl.replace(Pe,function(){return ml[Fn("%q")(wl)]}),q(xl))try{vl=z.getComponentMethod("calendars","worldCalFmt")(vl,yl,xl)}catch{return"Invalid"}return Fn(vl)(wl)}var ul=[59,59.9,59.99,59.999,59.9999];function il(vl,yl){var Fn=C(vl+.05,F),xl=Y(Math.floor(Fn/I),2)+":"+Y(C(Math.floor(Fn/B),60),2);if(yl!=="M"){A(yl)||(yl=0);var wl=Math.min(C(vl/x,60),ul[yl]),kl=(100+wl).toFixed(yl).substr(1);yl>0&&(kl=kl.replace(/0+$/,"").replace(/[\.]$/,"")),xl+=":"+kl}return xl}rl.formatDate=function(vl,yl,Fn,xl,wl,kl){if(wl=q(wl)&&wl,!yl)if(Fn==="y")yl=kl.year;else if(Fn==="m")yl=kl.month;else if(Fn==="d")yl=kl.dayMonth+`
`+kl.year;else return il(vl,Fn)+`
`+tl(kl.dayMonthYear,vl,xl,wl);return tl(yl,vl,xl,wl)};var sl=3*F;rl.incrementMonth=function(vl,yl,Fn){Fn=q(Fn)&&Fn;var xl=C(vl,F);if(vl=Math.round(vl-xl),Fn)try{var wl=Math.round(vl/F)+W,kl=z.getComponentMethod("calendars","getCal")(Fn),Dl=kl.fromJD(wl);return yl%12?kl.add(Dl,yl,"m"):kl.add(Dl,yl/12,"y"),(Dl.toJD()-W)*F+xl}catch{v.error("invalid ms "+vl+" in calendar "+Fn)}var Ol=new Date(vl+sl);return Ol.setUTCMonth(Ol.getUTCMonth()+yl)+xl-sl},rl.findExactDates=function(vl,yl){for(var Fn=0,xl=0,wl=0,kl=0,Dl,Ol,gu=q(yl)&&z.getComponentMethod("calendars","getCal")(yl),yu=0;yu<vl.length;yu++){if(Ol=vl[yu],!A(Ol)){kl++;continue}if(!(Ol%F))if(gu)try{Dl=gu.fromJD(Ol/F+W),Dl.day()===1?Dl.month()===1?Fn++:xl++:wl++}catch{}else Dl=new Date(Ol),Dl.getUTCDate()===1?Dl.getUTCMonth()===0?Fn++:xl++:wl++}xl+=Fn,wl+=xl;var Iu=vl.length-kl;return{exactYears:Fn/Iu,exactMonths:xl/Iu,exactDays:wl/Iu}}}),Om=o((rl,In)=>{In.exports=function(A){return A}}),Pp=o(rl=>{var In=G(),A=ad(),v=Om(),C=H().BADNUM,P=1e-9;rl.findBin=function(x,W,z){if(In(W.start))return z?Math.ceil((x-W.start)/W.size-P)-1:Math.floor((x-W.start)/W.size+P);var U=0,Q=W.length,Z=0,$=Q>1?(W[Q-1]-W[0])/(Q-1):1,q,J;for($>=0?J=z?R:F:J=z?B:I,x+=$*P*(z?-1:1)*($>=0?1:-1);U<Q&&Z++<100;)q=Math.floor((U+Q)/2),J(W[q],x)?U=q+1:Q=q;return Z>90&&A.log("Long binary search..."),U-1};function R(x,W){return x<W}function F(x,W){return x<=W}function I(x,W){return x>W}function B(x,W){return x>=W}rl.sorterAsc=function(x,W){return x-W},rl.sorterDes=function(x,W){return W-x},rl.distinctVals=function(x){var W=x.slice();W.sort(rl.sorterAsc);var z;for(z=W.length-1;z>-1&&W[z]===C;z--);for(var U=W[z]-W[0]||1,Q=U/(z||1)/1e4,Z=[],$,q=0;q<=z;q++){var J=W[q],O=J-$;$===void 0?(Z.push(J),$=J):O>Q&&(U=Math.min(U,O),Z.push(J),$=J)}return{vals:Z,minDiff:U}},rl.roundUp=function(x,W,z){for(var U=0,Q=W.length-1,Z,$=0,q=z?0:1,J=z?1:0,O=z?Math.ceil:Math.floor;U<Q&&$++<100;)Z=O((U+Q)/2),W[Z]<=x?U=Z+q:Q=Z-J;return W[U]},rl.sort=function(x,W){for(var z=0,U=0,Q=1;Q<x.length;Q++){var Z=W(x[Q],x[Q-1]);if(Z<0?z=1:Z>0&&(U=1),z&&U)return x.sort(W)}return U?x:x.reverse()},rl.findIndexOfMin=function(x,W){W=W||v;for(var z=1/0,U,Q=0;Q<x.length;Q++){var Z=W(x[Q]);Z<z&&(z=Z,U=Q)}return U}}),Xg=o((rl,In)=>{In.exports=function(A){return Object.keys(A).sort()}}),wm=o(rl=>{var In=G(),A=Et().isArrayOrTypedArray;rl.aggNums=function(v,C,P,R){var F,I;if((!R||R>P.length)&&(R=P.length),In(C)||(C=!1),A(P[0])){for(I=new Array(R),F=0;F<R;F++)I[F]=rl.aggNums(v,C,P[F]);P=I}for(F=0;F<R;F++)In(C)?In(P[F])&&(C=v(+C,+P[F])):C=P[F];return C},rl.len=function(v){return rl.aggNums(function(C){return C+1},0,v)},rl.mean=function(v,C){return C||(C=rl.len(v)),rl.aggNums(function(P,R){return P+R},0,v)/C},rl.geometricMean=function(v,C){return C||(C=rl.len(v)),Math.pow(rl.aggNums(function(P,R){return P*R},1,v),1/C)},rl.midRange=function(v){if(!(v===void 0||v.length===0))return(rl.aggNums(Math.max,null,v)+rl.aggNums(Math.min,null,v))/2},rl.variance=function(v,C,P){return C||(C=rl.len(v)),In(P)||(P=rl.mean(v,C)),rl.aggNums(function(R,F){return R+Math.pow(F-P,2)},0,v)/C},rl.stdev=function(v,C,P){return Math.sqrt(rl.variance(v,C,P))},rl.median=function(v){var C=v.slice().sort();return rl.interp(C,.5)},rl.interp=function(v,C){if(!In(C))throw"n should be a finite number";if(C=C*v.length-.5,C<0)return v[0];if(C>v.length-1)return v[v.length-1];var P=C%1;return P*v[Math.ceil(C)]+(1-P)*v[Math.floor(C)]}}),hm=o((rl,In)=>{var A=El(),v=A.mod,C=A.modHalf,P=Math.PI,R=2*P;function F(J){return J/180*P}function I(J){return J/P*180}function B(J){return Math.abs(J[1]-J[0])>R-1e-14}function x(J,O){return C(O-J,R)}function W(J,O){return Math.abs(x(J,O))}function z(J,O){if(B(O))return!0;var j,Y;O[0]<O[1]?(j=O[0],Y=O[1]):(j=O[1],Y=O[0]),j=v(j,R),Y=v(Y,R),j>Y&&(Y+=R);var se=v(J,R),nt=se+R;return se>=j&&se<=Y||nt>=j&&nt<=Y}function U(J,O,j,Y){if(!z(O,Y))return!1;var se,nt;return j[0]<j[1]?(se=j[0],nt=j[1]):(se=j[1],nt=j[0]),J>=se&&J<=nt}function Q(J,O,j,Y,se,nt,gl){se=se||0,nt=nt||0;var Bn=B([j,Y]),jt,Pe,ml,tl,ul;Bn?(jt=0,Pe=P,ml=R):j<Y?(jt=j,ml=Y):(jt=Y,ml=j),J<O?(tl=J,ul=O):(tl=O,ul=J);function il(Fn,xl){return[Fn*Math.cos(xl)+se,nt-Fn*Math.sin(xl)]}var sl=Math.abs(ml-jt)<=P?0:1;function vl(Fn,xl,wl){return"A"+[Fn,Fn]+" "+[0,sl,wl]+" "+il(Fn,xl)}var yl;return Bn?tl===null?yl="M"+il(ul,jt)+vl(ul,Pe,0)+vl(ul,ml,0)+"Z":yl="M"+il(tl,jt)+vl(tl,Pe,0)+vl(tl,ml,0)+"ZM"+il(ul,jt)+vl(ul,Pe,1)+vl(ul,ml,1)+"Z":tl===null?(yl="M"+il(ul,jt)+vl(ul,ml,0),gl&&(yl+="L0,0Z")):yl="M"+il(tl,jt)+"L"+il(ul,jt)+vl(ul,ml,0)+"L"+il(tl,ml)+vl(tl,jt,1)+"Z",yl}function Z(J,O,j,Y,se){return Q(null,J,O,j,Y,se,0)}function $(J,O,j,Y,se){return Q(null,J,O,j,Y,se,1)}function q(J,O,j,Y,se,nt){return Q(J,O,j,Y,se,nt,1)}In.exports={deg2rad:F,rad2deg:I,angleDelta:x,angleDist:W,isFullCircle:B,isAngleInsideSector:z,isPtInsideSector:U,pathArc:Z,pathSector:$,pathAnnulus:q}}),Vg=o(rl=>{rl.isLeftAnchor=function(In){return In.xanchor==="left"||In.xanchor==="auto"&&In.x<=1/3},rl.isCenterAnchor=function(In){return In.xanchor==="center"||In.xanchor==="auto"&&In.x>1/3&&In.x<2/3},rl.isRightAnchor=function(In){return In.xanchor==="right"||In.xanchor==="auto"&&In.x>=2/3},rl.isTopAnchor=function(In){return In.yanchor==="top"||In.yanchor==="auto"&&In.y>=2/3},rl.isMiddleAnchor=function(In){return In.yanchor==="middle"||In.yanchor==="auto"&&In.y>1/3&&In.y<2/3},rl.isBottomAnchor=function(In){return In.yanchor==="bottom"||In.yanchor==="auto"&&In.y<=1/3}}),Qg=o(rl=>{var In=El().mod;rl.segmentsIntersect=A;function A(F,I,B,x,W,z,U,Q){var Z=B-F,$=W-F,q=U-W,J=x-I,O=z-I,j=Q-z,Y=Z*j-q*J;if(Y===0)return null;var se=($*j-q*O)/Y,nt=($*J-Z*O)/Y;return nt<0||nt>1||se<0||se>1?null:{x:F+Z*se,y:I+J*se}}rl.segmentDistance=function(F,I,B,x,W,z,U,Q){if(A(F,I,B,x,W,z,U,Q))return 0;var Z=B-F,$=x-I,q=U-W,J=Q-z,O=Z*Z+$*$,j=q*q+J*J,Y=Math.min(v(Z,$,O,W-F,z-I),v(Z,$,O,U-F,Q-I),v(q,J,j,F-W,I-z),v(q,J,j,B-W,x-z));return Math.sqrt(Y)};function v(F,I,B,x,W){var z=x*F+W*I;if(z<0)return x*x+W*W;if(z>B){var U=x-F,Q=W-I;return U*U+Q*Q}else{var Z=x*I-W*F;return Z*Z/B}}var C,P,R;rl.getTextLocation=function(F,I,B,x){if((F!==P||x!==R)&&(C={},P=F,R=x),C[B])return C[B];var W=F.getPointAtLength(In(B-x/2,I)),z=F.getPointAtLength(In(B+x/2,I)),U=Math.atan((z.y-W.y)/(z.x-W.x)),Q=F.getPointAtLength(In(B,I)),Z=(Q.x*4+W.x+z.x)/6,$=(Q.y*4+W.y+z.y)/6,q={x:Z,y:$,theta:U};return C[B]=q,q},rl.clearLocationCache=function(){P=null},rl.getVisibleSegment=function(F,I,B){var x=I.left,W=I.right,z=I.top,U=I.bottom,Q=0,Z=F.getTotalLength(),$=Z,q,J;function O(Y){var se=F.getPointAtLength(Y);Y===0?q=se:Y===Z&&(J=se);var nt=se.x<x?x-se.x:se.x>W?se.x-W:0,gl=se.y<z?z-se.y:se.y>U?se.y-U:0;return Math.sqrt(nt*nt+gl*gl)}for(var j=O(Q);j;){if(Q+=j+B,Q>$)return;j=O(Q)}for(j=O($);j;){if($-=j+B,Q>$)return;j=O($)}return{min:Q,max:$,len:$-Q,total:Z,isClosed:Q===0&&$===Z&&Math.abs(q.x-J.x)<.1&&Math.abs(q.y-J.y)<.1}},rl.findPointOnPath=function(F,I,B,x){x=x||{};for(var W=x.pathLength||F.getTotalLength(),z=x.tolerance||.001,U=x.iterationLimit||30,Q=F.getPointAtLength(0)[B]>F.getPointAtLength(W)[B]?-1:1,Z=0,$=0,q=W,J,O,j;Z<U;){if(J=($+q)/2,O=F.getPointAtLength(J),j=O[B]-I,Math.abs(j)<z)return O;Q*j>0?q=J:$=J,Z++}return O}}),Tg=o(rl=>{var In={};rl.throttle=function(v,C,P){var R=In[v],F=Date.now();if(!R){for(var I in In)In[I].ts<F-6e4&&delete In[I];R=In[v]={ts:0,timer:null}}A(R);function B(){P(),R.ts=Date.now(),R.onDone&&(R.onDone(),R.onDone=null)}if(F>R.ts+C){B();return}R.timer=setTimeout(function(){B(),R.timer=null},C)},rl.done=function(v){var C=In[v];return!C||!C.timer?Promise.resolve():new Promise(function(P){var R=C.onDone;C.onDone=function(){R&&R(),P(),C.onDone=null}})},rl.clear=function(v){if(v)A(In[v]),delete In[v];else for(var C in In)rl.clear(C)};function A(v){v&&v.timer!==null&&(clearTimeout(v.timer),v.timer=null)}}),vm=o((rl,In)=>{In.exports=function(A){A._responsiveChartHandler&&(window.removeEventListener("resize",A._responsiveChartHandler),delete A._responsiveChartHandler)}}),zm=o((rl,In)=>{In.exports=P,In.exports.isMobile=P,In.exports.default=P;var A=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,v=/CrOS/,C=/android|ipad|playbook|silk/i;function P(R){R||(R={});let F=R.ua;if(!F&&typeof navigator<"u"&&(F=navigator.userAgent),F&&F.headers&&typeof F.headers["user-agent"]=="string"&&(F=F.headers["user-agent"]),typeof F!="string")return!1;let I=A.test(F)&&!v.test(F)||!!R.tablet&&C.test(F);return!I&&R.tablet&&R.featureDetect&&navigator&&navigator.maxTouchPoints>1&&F.indexOf("Macintosh")!==-1&&F.indexOf("Safari")!==-1&&(I=!0),I}}),Cm=o((rl,In)=>{var A=G(),v=zm();In.exports=function(P){var R;if(P&&P.hasOwnProperty("userAgent")?R=P.userAgent:R=C(),typeof R!="string")return!0;var F=v({ua:{headers:{"user-agent":R}},tablet:!0,featureDetect:!1});if(!F)for(var I=R.split(" "),B=1;B<I.length;B++){var x=I[B];if(x.indexOf("Safari")!==-1)for(var W=B-1;W>-1;W--){var z=I[W];if(z.substr(0,8)==="Version/"){var U=z.substr(8).split(".")[0];if(A(U)&&(U=+U),U>=13)return!0}}}return F};function C(){var P;return typeof navigator<"u"&&(P=navigator.userAgent),P&&P.headers&&typeof P.headers["user-agent"]=="string"&&(P=P.headers["user-agent"]),P}}),Qm=o((rl,In)=>{var A=f();In.exports=function(v,C,P){var R=v.selectAll("g."+P.replace(/\s/g,".")).data(C,function(I){return I[0].trace.uid});R.exit().remove(),R.enter().append("g").attr("class",P),R.order();var F=v.classed("rangeplot")?"nodeRangePlot3":"node3";return R.each(function(I){I[0][F]=A.select(this)}),R}}),b0=o((rl,In)=>{var A=Ep();In.exports=function(v,C){for(var P=v._context.locale,R=0;R<2;R++){for(var F=v._context.locales,I=0;I<2;I++){var B=(F[P]||{}).dictionary;if(B){var x=B[C];if(x)return x}F=A.localeRegistry}var W=P.split("-")[0];if(W===P)break;P=W}return C}}),yg=o((rl,In)=>{In.exports=function(A){for(var v={},C=[],P=0,R=0;R<A.length;R++){var F=A[R];v[F]!==1&&(v[F]=1,C[P++]=F)}return C}}),I0=o((rl,In)=>{In.exports=function(P){for(var R=C(P)?v:A,F=[],I=0;I<P.length;I++){var B=P[I];R(B)&&F.push(B)}return F};function A(P){return P.visible===!0}function v(P){var R=P[0].trace;return R.visible===!0&&R._length!==0}function C(P){return Array.isArray(P)&&Array.isArray(P[0])&&P[0][0]&&P[0][0].trace}}),Pm=o((rl,In)=>{In.exports=function(A,v){if(!v)return A;var C=1/Math.abs(v),P=C>1?(C*A+C*v)/C:A+v,R=String(P).length;if(R>16){var F=String(v).length,I=String(A).length;if(R>=I+F){var B=parseFloat(P).toPrecision(12);B.indexOf("e+")===-1&&(P=+B)}}return P}}),up=o((rl,In)=>{var A=G(),v=H().BADNUM,C=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;In.exports=function(P){return typeof P=="string"&&(P=P.replace(C,"")),A(P)?Number(P):v}}),ls=o((rl,In)=>{var A=f(),v=w().utcFormat,C=y().format,P=G(),R=H(),F=R.FP_SAFE,I=-F,B=R.BADNUM,x=In.exports={};x.adjustFormat=function(nl){return!nl||/^\d[.]\df/.test(nl)||/[.]\d%/.test(nl)?nl:nl==="0.f"?"~f":/^\d%/.test(nl)?"~%":/^\ds/.test(nl)?"~s":!/^[~,.0$]/.test(nl)&&/[&fps]/.test(nl)?"~"+nl:nl};var W={};x.warnBadFormat=function(nl){var ve=String(nl);W[ve]||(W[ve]=1,x.warn('encountered bad format: "'+ve+'"'))},x.noFormat=function(nl){return String(nl)},x.numberFormat=function(nl){var ve;try{ve=C(x.adjustFormat(nl))}catch{return x.warnBadFormat(nl),x.noFormat}return ve},x.nestedProperty=zn(),x.keyedContainer=$l(),x.relativeAttr=zl(),x.isPlainObject=ie(),x.toLogRange=Hl(),x.relinkPrivateKeys=Ft();var z=Et();x.isArrayBuffer=z.isArrayBuffer,x.isTypedArray=z.isTypedArray,x.isArrayOrTypedArray=z.isArrayOrTypedArray,x.isArray1D=z.isArray1D,x.ensureArray=z.ensureArray,x.concat=z.concat,x.maxRowLength=z.maxRowLength,x.minRowLength=z.minRowLength;var U=El();x.mod=U.mod,x.modHalf=U.modHalf;var Q=jd();x.valObjectMeta=Q.valObjectMeta,x.coerce=Q.coerce,x.coerce2=Q.coerce2,x.coerceFont=Q.coerceFont,x.coercePattern=Q.coercePattern,x.coerceHoverinfo=Q.coerceHoverinfo,x.coerceSelectionMarkerOpacity=Q.coerceSelectionMarkerOpacity,x.validate=Q.validate;var Z=dm();x.dateTime2ms=Z.dateTime2ms,x.isDateTime=Z.isDateTime,x.ms2DateTime=Z.ms2DateTime,x.ms2DateTimeLocal=Z.ms2DateTimeLocal,x.cleanDate=Z.cleanDate,x.isJSDate=Z.isJSDate,x.formatDate=Z.formatDate,x.incrementMonth=Z.incrementMonth,x.dateTick0=Z.dateTick0,x.dfltRange=Z.dfltRange,x.findExactDates=Z.findExactDates,x.MIN_MS=Z.MIN_MS,x.MAX_MS=Z.MAX_MS;var $=Pp();x.findBin=$.findBin,x.sorterAsc=$.sorterAsc,x.sorterDes=$.sorterDes,x.distinctVals=$.distinctVals,x.roundUp=$.roundUp,x.sort=$.sort,x.findIndexOfMin=$.findIndexOfMin,x.sortObjectKeys=Xg();var q=wm();x.aggNums=q.aggNums,x.len=q.len,x.mean=q.mean,x.geometricMean=q.geometricMean,x.median=q.median,x.midRange=q.midRange,x.variance=q.variance,x.stdev=q.stdev,x.interp=q.interp;var J=rf();x.init2dArray=J.init2dArray,x.transposeRagged=J.transposeRagged,x.dot=J.dot,x.translationMatrix=J.translationMatrix,x.rotationMatrix=J.rotationMatrix,x.rotationXYMatrix=J.rotationXYMatrix,x.apply3DTransform=J.apply3DTransform,x.apply2DTransform=J.apply2DTransform,x.apply2DTransform2=J.apply2DTransform2,x.convertCssMatrix=J.convertCssMatrix,x.inverseTransformMatrix=J.inverseTransformMatrix;var O=hm();x.deg2rad=O.deg2rad,x.rad2deg=O.rad2deg,x.angleDelta=O.angleDelta,x.angleDist=O.angleDist,x.isFullCircle=O.isFullCircle,x.isAngleInsideSector=O.isAngleInsideSector,x.isPtInsideSector=O.isPtInsideSector,x.pathArc=O.pathArc,x.pathSector=O.pathSector,x.pathAnnulus=O.pathAnnulus;var j=Vg();x.isLeftAnchor=j.isLeftAnchor,x.isCenterAnchor=j.isCenterAnchor,x.isRightAnchor=j.isRightAnchor,x.isTopAnchor=j.isTopAnchor,x.isMiddleAnchor=j.isMiddleAnchor,x.isBottomAnchor=j.isBottomAnchor;var Y=Qg();x.segmentsIntersect=Y.segmentsIntersect,x.segmentDistance=Y.segmentDistance,x.getTextLocation=Y.getTextLocation,x.clearLocationCache=Y.clearLocationCache,x.getVisibleSegment=Y.getVisibleSegment,x.findPointOnPath=Y.findPointOnPath;var se=Al();x.extendFlat=se.extendFlat,x.extendDeep=se.extendDeep,x.extendDeepAll=se.extendDeepAll,x.extendDeepNoArrays=se.extendDeepNoArrays;var nt=ad();x.log=nt.log,x.warn=nt.warn,x.error=nt.error;var gl=Wl();x.counterRegex=gl.counter;var Bn=Tg();x.throttle=Bn.throttle,x.throttleDone=Bn.done,x.clearThrottle=Bn.clear;var jt=hp();x.getGraphDiv=jt.getGraphDiv,x.isPlotDiv=jt.isPlotDiv,x.removeElement=jt.removeElement,x.addStyleRule=jt.addStyleRule,x.addRelatedStyleRule=jt.addRelatedStyleRule,x.deleteRelatedStyleRule=jt.deleteRelatedStyleRule,x.setStyleOnHover=jt.setStyleOnHover,x.getFullTransformMatrix=jt.getFullTransformMatrix,x.getElementTransformMatrix=jt.getElementTransformMatrix,x.getElementAndAncestors=jt.getElementAndAncestors,x.equalDomRects=jt.equalDomRects,x.clearResponsive=vm(),x.preserveDrawingBuffer=Cm(),x.makeTraceGroups=Qm(),x._=b0(),x.notifier=qu(),x.filterUnique=yg(),x.filterVisible=I0(),x.pushUnique=mh(),x.increment=Pm(),x.cleanNumber=up(),x.ensureNumber=function(nl){return P(nl)?(nl=Number(nl),nl>F||nl<I?B:nl):B},x.isIndex=function(nl,ve){return ve!==void 0&&nl>=ve?!1:P(nl)&&nl>=0&&nl%1===0},x.noop=Dd(),x.identity=Om(),x.repeat=function(nl,ve){for(var _t=new Array(ve),ol=0;ol<ve;ol++)_t[ol]=nl;return _t},x.swapAttrs=function(nl,ve,_t,ol){_t||(_t="x"),ol||(ol="y");for(var dl=0;dl<ve.length;dl++){var Il=ve[dl],ql=x.nestedProperty(nl,Il.replace("?",_t)),Zl=x.nestedProperty(nl,Il.replace("?",ol)),Bu=ql.get();ql.set(Zl.get()),Zl.set(Bu)}},x.raiseToTop=function(nl){nl.parentNode.appendChild(nl)},x.cancelTransition=function(nl){return nl.transition().duration(0)},x.constrain=function(nl,ve,_t){return ve>_t?Math.max(_t,Math.min(ve,nl)):Math.max(ve,Math.min(_t,nl))},x.bBoxIntersect=function(nl,ve,_t){return _t=_t||0,nl.left<=ve.right+_t&&ve.left<=nl.right+_t&&nl.top<=ve.bottom+_t&&ve.top<=nl.bottom+_t},x.simpleMap=function(nl,ve,_t,ol,dl){for(var Il=nl.length,ql=new Array(Il),Zl=0;Zl<Il;Zl++)ql[Zl]=ve(nl[Zl],_t,ol,dl);return ql},x.randstr=function nl(ve,_t,ol,dl){if(ol||(ol=16),_t===void 0&&(_t=24),_t<=0)return"0";var Il=Math.log(Math.pow(2,_t))/Math.log(ol),ql="",Zl,Bu,Ju;for(Zl=2;Il===1/0;Zl*=2)Il=Math.log(Math.pow(2,_t/Zl))/Math.log(ol)*Zl;var yd=Il-Math.floor(Il);for(Zl=0;Zl<Math.floor(Il);Zl++)Ju=Math.floor(Math.random()*ol).toString(ol),ql=Ju+ql;yd&&(Bu=Math.pow(ol,yd),Ju=Math.floor(Math.random()*Bu).toString(ol),ql=Ju+ql);var Hd=parseInt(ql,ol);return ve&&ve[ql]||Hd!==1/0&&Hd>=Math.pow(2,_t)?dl>10?(x.warn("randstr failed uniqueness"),ql):nl(ve,_t,ol,(dl||0)+1):ql},x.OptionControl=function(nl,ve){nl||(nl={}),ve||(ve="opt");var _t={};return _t.optionList=[],_t._newoption=function(ol){ol[ve]=nl,_t[ol.name]=ol,_t.optionList.push(ol)},_t["_"+ve]=nl,_t},x.smooth=function(nl,ve){if(ve=Math.round(ve)||0,ve<2)return nl;var _t=nl.length,ol=2*_t,dl=2*ve-1,Il=new Array(dl),ql=new Array(_t),Zl,Bu,Ju,yd;for(Zl=0;Zl<dl;Zl++)Il[Zl]=(1-Math.cos(Math.PI*(Zl+1)/ve))/(2*ve);for(Zl=0;Zl<_t;Zl++){for(yd=0,Bu=0;Bu<dl;Bu++)Ju=Zl+Bu+1-ve,Ju<-_t?Ju-=ol*Math.round(Ju/ol):Ju>=ol&&(Ju-=ol*Math.floor(Ju/ol)),Ju<0?Ju=-1-Ju:Ju>=_t&&(Ju=ol-1-Ju),yd+=nl[Ju]*Il[Bu];ql[Zl]=yd}return ql},x.syncOrAsync=function(nl,ve,_t){var ol,dl;function Il(){return x.syncOrAsync(nl,ve,_t)}for(;nl.length;)if(dl=nl.splice(0,1)[0],ol=dl(ve),ol&&ol.then)return ol.then(Il);return _t&&_t(ve)},x.stripTrailingSlash=function(nl){return nl.substr(-1)==="/"?nl.substr(0,nl.length-1):nl},x.noneOrAll=function(nl,ve,_t){if(nl){var ol=!1,dl=!0,Il,ql;for(Il=0;Il<_t.length;Il++)ql=nl[_t[Il]],ql!=null?ol=!0:dl=!1;if(ol&&!dl)for(Il=0;Il<_t.length;Il++)nl[_t[Il]]=ve[_t[Il]]}},x.mergeArray=function(nl,ve,_t,ol){var dl=typeof ol=="function";if(x.isArrayOrTypedArray(nl))for(var Il=Math.min(nl.length,ve.length),ql=0;ql<Il;ql++){var Zl=nl[ql];ve[ql][_t]=dl?ol(Zl):Zl}},x.mergeArrayCastPositive=function(nl,ve,_t){return x.mergeArray(nl,ve,_t,function(ol){var dl=+ol;return isFinite(dl)&&dl>0?dl:0})},x.fillArray=function(nl,ve,_t,ol){if(ol=ol||x.identity,x.isArrayOrTypedArray(nl))for(var dl=0;dl<ve.length;dl++)ve[dl][_t]=ol(nl[dl])},x.castOption=function(nl,ve,_t,ol){ol=ol||x.identity;var dl=x.nestedProperty(nl,_t).get();return x.isArrayOrTypedArray(dl)?Array.isArray(ve)&&x.isArrayOrTypedArray(dl[ve[0]])?ol(dl[ve[0]][ve[1]]):ol(dl[ve]):dl},x.extractOption=function(nl,ve,_t,ol){if(_t in nl)return nl[_t];var dl=x.nestedProperty(ve,ol).get();if(!Array.isArray(dl))return dl};function Pe(nl){var ve={};for(var _t in nl)for(var ol=nl[_t],dl=0;dl<ol.length;dl++)ve[ol[dl]]=+_t;return ve}x.tagSelected=function(nl,ve,_t){var ol=ve.selectedpoints,dl=ve._indexToPoints,Il;dl&&(Il=Pe(dl));function ql(Hd){return Hd!==void 0&&Hd<nl.length}for(var Zl=0;Zl<ol.length;Zl++){var Bu=ol[Zl];if(x.isIndex(Bu)||x.isArrayOrTypedArray(Bu)&&x.isIndex(Bu[0])&&x.isIndex(Bu[1])){var Ju=Il?Il[Bu]:Bu,yd=_t?_t[Ju]:Ju;ql(yd)&&(nl[yd].selected=1)}}},x.selIndices2selPoints=function(nl){var ve=nl.selectedpoints,_t=nl._indexToPoints;if(_t){for(var ol=Pe(_t),dl=[],Il=0;Il<ve.length;Il++){var ql=ve[Il];if(x.isIndex(ql)){var Zl=ol[ql];x.isIndex(Zl)&&dl.push(Zl)}}return dl}else return ve},x.getTargetArray=function(nl,ve){var _t=ve.target;if(typeof _t=="string"&&_t){var ol=x.nestedProperty(nl,_t).get();return x.isArrayOrTypedArray(ol)?ol:!1}else if(x.isArrayOrTypedArray(_t))return _t;return!1};function ml(nl,ve,_t){var ol={};typeof ve!="object"&&(ve={});var dl=_t==="pieLike"?-1:3,Il=Object.keys(nl),ql,Zl,Bu;for(ql=0;ql<Il.length;ql++)Zl=Il[ql],Bu=nl[Zl],!(Zl.charAt(0)==="_"||typeof Bu=="function")&&(Zl==="module"?ol[Zl]=Bu:Array.isArray(Bu)?Zl==="colorscale"||dl===-1?ol[Zl]=Bu.slice():ol[Zl]=Bu.slice(0,dl):x.isTypedArray(Bu)?dl===-1?ol[Zl]=Bu.subarray():ol[Zl]=Bu.subarray(0,dl):Bu&&typeof Bu=="object"?ol[Zl]=ml(nl[Zl],ve[Zl],_t):ol[Zl]=Bu);for(Il=Object.keys(ve),ql=0;ql<Il.length;ql++)Zl=Il[ql],Bu=ve[Zl],(typeof Bu!="object"||!(Zl in ol)||typeof ol[Zl]!="object")&&(ol[Zl]=Bu);return ol}x.minExtend=ml,x.titleCase=function(nl){return nl.charAt(0).toUpperCase()+nl.substr(1)},x.containsAny=function(nl,ve){for(var _t=0;_t<ve.length;_t++)if(nl.indexOf(ve[_t])!==-1)return!0;return!1};var tl=/Version\/[\d\.]+.*Safari/;x.isSafari=function(){return tl.test(window.navigator.userAgent)};var ul=/iPad|iPhone|iPod/;x.isIOS=function(){return ul.test(window.navigator.userAgent)};var il=/Macintosh.+AppleWebKit.+Gecko\)$/;x.isMacWKWebView=()=>il.test(window.navigator.userAgent);var sl=/Firefox\/(\d+)\.\d+/;x.getFirefoxVersion=function(){var nl=sl.exec(window.navigator.userAgent);if(nl&&nl.length===2){var ve=parseInt(nl[1]);if(!isNaN(ve))return ve}return null},x.isD3Selection=function(nl){return nl instanceof A.selection},x.ensureSingle=function(nl,ve,_t,ol){var dl=nl.select(ve+(_t?"."+_t:""));if(dl.size())return dl;var Il=nl.append(ve);return _t&&Il.classed(_t,!0),ol&&Il.call(ol),Il},x.ensureSingleById=function(nl,ve,_t,ol){var dl=nl.select(ve+"#"+_t);if(dl.size())return dl;var Il=nl.append(ve).attr("id",_t);return ol&&Il.call(ol),Il},x.objectFromPath=function(nl,ve){for(var _t=nl.split("."),ol,dl=ol={},Il=0;Il<_t.length;Il++){var ql=_t[Il],Zl=null,Bu=_t[Il].match(/(.*)\[([0-9]+)\]/);Bu?(ql=Bu[1],Zl=Bu[2],ol=ol[ql]=[],Il===_t.length-1?ol[Zl]=ve:ol[Zl]={},ol=ol[Zl]):(Il===_t.length-1?ol[ql]=ve:ol[ql]={},ol=ol[ql])}return dl};var vl=/^([^\[\.]+)\.(.+)?/,yl=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function Fn(nl){return nl.slice(0,2)==="__"}x.expandObjectPaths=function(nl){var ve,_t,ol,dl,Il,ql,Zl;if(typeof nl=="object"&&!Array.isArray(nl)){for(_t in nl)if(nl.hasOwnProperty(_t))if(ve=_t.match(vl)){if(dl=nl[_t],ol=ve[1],Fn(ol))continue;delete nl[_t],nl[ol]=x.extendDeepNoArrays(nl[ol]||{},x.objectFromPath(_t,x.expandObjectPaths(dl))[ol])}else if(ve=_t.match(yl)){if(dl=nl[_t],ol=ve[1],Fn(ol))continue;if(Il=parseInt(ve[2]),delete nl[_t],nl[ol]=nl[ol]||[],ve[3]===".")Zl=ve[4],ql=nl[ol][Il]=nl[ol][Il]||{},x.extendDeepNoArrays(ql,x.objectFromPath(Zl,x.expandObjectPaths(dl)));else{if(Fn(ol))continue;nl[ol][Il]=x.expandObjectPaths(dl)}}else{if(Fn(_t))continue;nl[_t]=x.expandObjectPaths(nl[_t])}}return nl},x.numSeparate=function(nl,ve,_t){if(_t||(_t=!1),typeof ve!="string"||ve.length===0)throw new Error("Separator string required for formatting!");typeof nl=="number"&&(nl=String(nl));var ol=/(\d+)(\d{3})/,dl=ve.charAt(0),Il=ve.charAt(1),ql=nl.split("."),Zl=ql[0],Bu=ql.length>1?dl+ql[1]:"";if(Il&&(ql.length>1||Zl.length>4||_t))for(;ol.test(Zl);)Zl=Zl.replace(ol,"$1"+Il+"$2");return Zl+Bu},x.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var xl=/^\w*$/;x.templateString=function(nl,ve){var _t={};return nl.replace(x.TEMPLATE_STRING_REGEX,function(ol,dl){var Il;return xl.test(dl)?Il=ve[dl]:(_t[dl]=_t[dl]||x.nestedProperty(ve,dl).get,Il=_t[dl](!0)),Il!==void 0?Il:""})};var wl={max:10,count:0,name:"hovertemplate"};x.hovertemplateString=function(){return Iu.apply(wl,arguments)};var kl={max:10,count:0,name:"texttemplate"};x.texttemplateString=function(){return Iu.apply(kl,arguments)};var Dl=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/;function Ol(nl){var ve=nl.match(Dl);return ve?{key:ve[1],op:ve[2],number:Number(ve[3])}:{key:nl,op:null,number:null}}var gu={max:10,count:0,name:"texttemplate",parseMultDiv:!0};x.texttemplateStringForShapes=function(){return Iu.apply(gu,arguments)};var yu=/^[:|\|]/;function Iu(nl,ve,_t){var ol=this,dl=arguments;return ve||(ve={}),nl.replace(x.TEMPLATE_STRING_REGEX,function(Il,ql,Zl){var Bu=ql==="xother"||ql==="yother",Ju=ql==="_xother"||ql==="_yother",yd=ql==="_xother_"||ql==="_yother_",Hd=ql==="xother_"||ql==="yother_",Rd=Bu||Ju||Hd||yd,Ed=ql;(Ju||yd)&&(Ed=Ed.substring(1)),(Hd||yd)&&(Ed=Ed.substring(0,Ed.length-1));var _u=null,Nu=null;if(ol.parseMultDiv){var Gl=Ol(Ed);Ed=Gl.key,_u=Gl.op,Nu=Gl.number}var rd;if(Rd){if(rd=ve[Ed],rd===void 0)return""}else{var Sd,Pd;for(Pd=3;Pd<dl.length;Pd++)if(Sd=dl[Pd],!!Sd){if(Sd.hasOwnProperty(Ed)){rd=Sd[Ed];break}if(xl.test(Ed)||(rd=x.nestedProperty(Sd,Ed).get(!0)),rd!==void 0)break}}if(rd!==void 0&&(_u==="*"&&(rd*=Nu),_u==="/"&&(rd/=Nu)),rd===void 0&&ol)return ol.count<ol.max&&(x.warn("Variable '"+Ed+"' in "+ol.name+" could not be found!"),rd=Il),ol.count===ol.max&&x.warn("Too many "+ol.name+" warnings - additional warnings will be suppressed"),ol.count++,Il;if(Zl){var Ud;if(Zl[0]===":"&&(Ud=_t?_t.numberFormat:x.numberFormat,rd!==""&&(rd=Ud(Zl.replace(yu,""))(rd))),Zl[0]==="|"){Ud=_t?_t.timeFormat:v;var $d=x.dateTime2ms(rd);rd=x.formatDate($d,Zl.replace(yu,""),!1,Ud)}}else{var th=Ed+"Label";ve.hasOwnProperty(th)&&(rd=ve[th])}return Rd&&(rd="("+rd+")",(Ju||yd)&&(rd=" "+rd),(Hd||yd)&&(rd=rd+" ")),rd})}var cl=48,pl=57;x.subplotSort=function(nl,ve){for(var _t=Math.min(nl.length,ve.length)+1,ol=0,dl=0,Il=0;Il<_t;Il++){var ql=nl.charCodeAt(Il)||0,Zl=ve.charCodeAt(Il)||0,Bu=ql>=cl&&ql<=pl,Ju=Zl>=cl&&Zl<=pl;if(Bu&&(ol=10*ol+ql-cl),Ju&&(dl=10*dl+Zl-cl),!Bu||!Ju){if(ol!==dl)return ol-dl;if(ql!==Zl)return ql-Zl}}return dl-ol};var it=2e9;x.seedPseudoRandom=function(){it=2e9},x.pseudoRandom=function(){var nl=it;return it=(69069*it+1)%4294967296,Math.abs(it-nl)<429496729?x.pseudoRandom():it/4294967296},x.fillText=function(nl,ve,_t){var ol=Array.isArray(_t)?function(ql){_t.push(ql)}:function(ql){_t.text=ql},dl=x.extractOption(nl,ve,"htx","hovertext");if(x.isValidTextValue(dl))return ol(dl);var Il=x.extractOption(nl,ve,"tx","text");if(x.isValidTextValue(Il))return ol(Il)},x.isValidTextValue=function(nl){return nl||nl===0},x.formatPercent=function(nl,ve){ve=ve||0;for(var _t=(Math.round(100*nl*Math.pow(10,ve))*Math.pow(.1,ve)).toFixed(ve)+"%",ol=0;ol<ve;ol++)_t.indexOf(".")!==-1&&(_t=_t.replace("0%","%"),_t=_t.replace(".%","%"));return _t},x.isHidden=function(nl){var ve=window.getComputedStyle(nl).display;return!ve||ve==="none"},x.strTranslate=function(nl,ve){return nl||ve?"translate("+nl+","+ve+")":""},x.strRotate=function(nl){return nl?"rotate("+nl+")":""},x.strScale=function(nl){return nl!==1?"scale("+nl+")":""},x.getTextTransform=function(nl){var ve=nl.noCenter,_t=nl.textX,ol=nl.textY,dl=nl.targetX,Il=nl.targetY,ql=nl.anchorX||0,Zl=nl.anchorY||0,Bu=nl.rotate,Ju=nl.scale;return Ju?Ju>1&&(Ju=1):Ju=0,x.strTranslate(dl-Ju*(_t+ql),Il-Ju*(ol+Zl))+x.strScale(Ju)+(Bu?"rotate("+Bu+(ve?"":" "+_t+" "+ol)+")":"")},x.setTransormAndDisplay=function(nl,ve){nl.attr("transform",x.getTextTransform(ve)),nl.style("display",ve.scale?null:"none")},x.ensureUniformFontSize=function(nl,ve){var _t=x.extendFlat({},ve);return _t.size=Math.max(ve.size,nl._fullLayout.uniformtext.minsize||0),_t},x.join2=function(nl,ve,_t){var ol=nl.length;return ol>1?nl.slice(0,-1).join(ve)+_t+nl[ol-1]:nl.join(ve)},x.bigFont=function(nl){return Math.round(1.2*nl)};var bl=x.getFirefoxVersion(),Ll=bl!==null&&bl<86;x.getPositionFromD3Event=function(){return Ll?[A.event.layerX,A.event.layerY]:[A.event.offsetX,A.event.offsetY]}}),ed=o(()=>{var rl=ls(),In={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X:focus-within .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-group a":"display:grid;place-content:center;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;border:none;background:rgba(0,0,0,0);","X .modebar-btn svg":"position:relative;","X .modebar-btn:focus-visible":"outline:1px solid #000;outline-offset:1px;border-radius:3px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(v in In)A=v.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier"),rl.addStyleRule(A,In[v]);var A,v}),rh=o((rl,In)=>{In.exports=!0}),Ih=o((rl,In)=>{var A=rh(),v;typeof window.matchMedia=="function"?v=!window.matchMedia("(hover: none)").matches:v=A,In.exports=v}),_h=o((rl,In)=>{var A=typeof Reflect=="object"?Reflect:null,v=A&&typeof A.apply=="function"?A.apply:function(se,nt,gl){return Function.prototype.apply.call(se,nt,gl)},C;A&&typeof A.ownKeys=="function"?C=A.ownKeys:Object.getOwnPropertySymbols?C=function(se){return Object.getOwnPropertyNames(se).concat(Object.getOwnPropertySymbols(se))}:C=function(se){return Object.getOwnPropertyNames(se)};function P(se){console&&console.warn&&console.warn(se)}var R=Number.isNaN||function(se){return se!==se};function F(){F.init.call(this)}In.exports=F,In.exports.once=O,F.EventEmitter=F,F.prototype._events=void 0,F.prototype._eventsCount=0,F.prototype._maxListeners=void 0;var I=10;function B(se){if(typeof se!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof se)}Object.defineProperty(F,"defaultMaxListeners",{enumerable:!0,get:function(){return I},set:function(se){if(typeof se!="number"||se<0||R(se))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+se+".");I=se}}),F.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},F.prototype.setMaxListeners=function(se){if(typeof se!="number"||se<0||R(se))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+se+".");return this._maxListeners=se,this};function x(se){return se._maxListeners===void 0?F.defaultMaxListeners:se._maxListeners}F.prototype.getMaxListeners=function(){return x(this)},F.prototype.emit=function(se){for(var nt=[],gl=1;gl<arguments.length;gl++)nt.push(arguments[gl]);var Bn=se==="error",jt=this._events;if(jt!==void 0)Bn=Bn&&jt.error===void 0;else if(!Bn)return!1;if(Bn){var Pe;if(nt.length>0&&(Pe=nt[0]),Pe instanceof Error)throw Pe;var ml=new Error("Unhandled error."+(Pe?" ("+Pe.message+")":""));throw ml.context=Pe,ml}var tl=jt[se];if(tl===void 0)return!1;if(typeof tl=="function")v(tl,this,nt);else for(var ul=tl.length,il=$(tl,ul),gl=0;gl<ul;++gl)v(il[gl],this,nt);return!0};function W(se,nt,gl,Bn){var jt,Pe,ml;if(B(gl),Pe=se._events,Pe===void 0?(Pe=se._events=Object.create(null),se._eventsCount=0):(Pe.newListener!==void 0&&(se.emit("newListener",nt,gl.listener?gl.listener:gl),Pe=se._events),ml=Pe[nt]),ml===void 0)ml=Pe[nt]=gl,++se._eventsCount;else if(typeof ml=="function"?ml=Pe[nt]=Bn?[gl,ml]:[ml,gl]:Bn?ml.unshift(gl):ml.push(gl),jt=x(se),jt>0&&ml.length>jt&&!ml.warned){ml.warned=!0;var tl=new Error("Possible EventEmitter memory leak detected. "+ml.length+" "+String(nt)+" listeners added. Use emitter.setMaxListeners() to increase limit");tl.name="MaxListenersExceededWarning",tl.emitter=se,tl.type=nt,tl.count=ml.length,P(tl)}return se}F.prototype.addListener=function(se,nt){return W(this,se,nt,!1)},F.prototype.on=F.prototype.addListener,F.prototype.prependListener=function(se,nt){return W(this,se,nt,!0)};function z(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function U(se,nt,gl){var Bn={fired:!1,wrapFn:void 0,target:se,type:nt,listener:gl},jt=z.bind(Bn);return jt.listener=gl,Bn.wrapFn=jt,jt}F.prototype.once=function(se,nt){return B(nt),this.on(se,U(this,se,nt)),this},F.prototype.prependOnceListener=function(se,nt){return B(nt),this.prependListener(se,U(this,se,nt)),this},F.prototype.removeListener=function(se,nt){var gl,Bn,jt,Pe,ml;if(B(nt),Bn=this._events,Bn===void 0)return this;if(gl=Bn[se],gl===void 0)return this;if(gl===nt||gl.listener===nt)--this._eventsCount===0?this._events=Object.create(null):(delete Bn[se],Bn.removeListener&&this.emit("removeListener",se,gl.listener||nt));else if(typeof gl!="function"){for(jt=-1,Pe=gl.length-1;Pe>=0;Pe--)if(gl[Pe]===nt||gl[Pe].listener===nt){ml=gl[Pe].listener,jt=Pe;break}if(jt<0)return this;jt===0?gl.shift():q(gl,jt),gl.length===1&&(Bn[se]=gl[0]),Bn.removeListener!==void 0&&this.emit("removeListener",se,ml||nt)}return this},F.prototype.off=F.prototype.removeListener,F.prototype.removeAllListeners=function(se){var nt,gl,Bn;if(gl=this._events,gl===void 0)return this;if(gl.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):gl[se]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete gl[se]),this;if(arguments.length===0){var jt=Object.keys(gl),Pe;for(Bn=0;Bn<jt.length;++Bn)Pe=jt[Bn],Pe!=="removeListener"&&this.removeAllListeners(Pe);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(nt=gl[se],typeof nt=="function")this.removeListener(se,nt);else if(nt!==void 0)for(Bn=nt.length-1;Bn>=0;Bn--)this.removeListener(se,nt[Bn]);return this};function Q(se,nt,gl){var Bn=se._events;if(Bn===void 0)return[];var jt=Bn[nt];return jt===void 0?[]:typeof jt=="function"?gl?[jt.listener||jt]:[jt]:gl?J(jt):$(jt,jt.length)}F.prototype.listeners=function(se){return Q(this,se,!0)},F.prototype.rawListeners=function(se){return Q(this,se,!1)},F.listenerCount=function(se,nt){return typeof se.listenerCount=="function"?se.listenerCount(nt):Z.call(se,nt)},F.prototype.listenerCount=Z;function Z(se){var nt=this._events;if(nt!==void 0){var gl=nt[se];if(typeof gl=="function")return 1;if(gl!==void 0)return gl.length}return 0}F.prototype.eventNames=function(){return this._eventsCount>0?C(this._events):[]};function $(se,nt){for(var gl=new Array(nt),Bn=0;Bn<nt;++Bn)gl[Bn]=se[Bn];return gl}function q(se,nt){for(;nt+1<se.length;nt++)se[nt]=se[nt+1];se.pop()}function J(se){for(var nt=new Array(se.length),gl=0;gl<nt.length;++gl)nt[gl]=se[gl].listener||se[gl];return nt}function O(se,nt){return new Promise(function(gl,Bn){function jt(ml){se.removeListener(nt,Pe),Bn(ml)}function Pe(){typeof se.removeListener=="function"&&se.removeListener("error",jt),gl([].slice.call(arguments))}Y(se,nt,Pe,{once:!0}),nt!=="error"&&j(se,jt,{once:!0})})}function j(se,nt,gl){typeof se.on=="function"&&Y(se,"error",nt,gl)}function Y(se,nt,gl,Bn){if(typeof se.on=="function")Bn.once?se.once(nt,gl):se.on(nt,gl);else if(typeof se.addEventListener=="function")se.addEventListener(nt,function jt(Pe){Bn.once&&se.removeEventListener(nt,jt),gl(Pe)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof se)}}),ep=o((rl,In)=>{var A=_h().EventEmitter,v={init:function(C){if(C._ev instanceof A)return C;var P=new A,R=new A;return C._ev=P,C._internalEv=R,C.on=P.on.bind(P),C.once=P.once.bind(P),C.removeListener=P.removeListener.bind(P),C.removeAllListeners=P.removeAllListeners.bind(P),C._internalOn=R.on.bind(R),C._internalOnce=R.once.bind(R),C._removeInternalListener=R.removeListener.bind(R),C._removeAllInternalListeners=R.removeAllListeners.bind(R),C.emit=function(F,I){P.emit(F,I),R.emit(F,I)},typeof C.addEventListener=="function"&&C.addEventListener("wheel",()=>{},{passive:!0}),C},triggerHandler:function(C,P,R){var F,I=C._ev;if(!I)return;var B=I._events[P];if(!B)return;function x(z){if(z.listener){if(I.removeListener(P,z.listener),!z.fired)return z.fired=!0,z.listener.apply(I,[R])}else return z.apply(I,[R])}B=Array.isArray(B)?B:[B];var W;for(W=0;W<B.length-1;W++)x(B[W]);return F=x(B[W]),F},purge:function(C){return delete C._ev,delete C.on,delete C.once,delete C.removeListener,delete C.removeAllListeners,delete C.emit,delete C._ev,delete C._internalEv,delete C._internalOn,delete C._internalOnce,delete C._removeInternalListener,delete C._removeAllInternalListeners,C}};In.exports=v}),Of=o((rl,In)=>{var A=ls(),v=Md().dfltConfig;function C(R,F){for(var I=[],B,x=0;x<F.length;x++)B=F[x],B===R?I[x]=B:typeof B=="object"?I[x]=Array.isArray(B)?A.extendDeep([],B):A.extendDeepAll({},B):I[x]=B;return I}var P={};P.add=function(R,F,I,B,x){var W,z;if(R.undoQueue=R.undoQueue||{index:0,queue:[],sequence:!1},z=R.undoQueue.index,R.autoplay){R.undoQueue.inSequence||(R.autoplay=!1);return}!R.undoQueue.sequence||R.undoQueue.beginSequence?(W={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},R.undoQueue.queue.splice(z,R.undoQueue.queue.length-z,W),R.undoQueue.index+=1):W=R.undoQueue.queue[z-1],R.undoQueue.beginSequence=!1,W&&(W.undo.calls.unshift(F),W.undo.args.unshift(I),W.redo.calls.push(B),W.redo.args.push(x)),R.undoQueue.queue.length>v.queueLength&&(R.undoQueue.queue.shift(),R.undoQueue.index--)},P.startSequence=function(R){R.undoQueue=R.undoQueue||{index:0,queue:[],sequence:!1},R.undoQueue.sequence=!0,R.undoQueue.beginSequence=!0},P.stopSequence=function(R){R.undoQueue=R.undoQueue||{index:0,queue:[],sequence:!1},R.undoQueue.sequence=!1,R.undoQueue.beginSequence=!1},P.undo=function(R){var F,I;if(!(R.undoQueue===void 0||isNaN(R.undoQueue.index)||R.undoQueue.index<=0)){for(R.undoQueue.index--,F=R.undoQueue.queue[R.undoQueue.index],R.undoQueue.inSequence=!0,I=0;I<F.undo.calls.length;I++)P.plotDo(R,F.undo.calls[I],F.undo.args[I]);R.undoQueue.inSequence=!1,R.autoplay=!1}},P.redo=function(R){var F,I;if(!(R.undoQueue===void 0||isNaN(R.undoQueue.index)||R.undoQueue.index>=R.undoQueue.queue.length)){for(F=R.undoQueue.queue[R.undoQueue.index],R.undoQueue.inSequence=!0,I=0;I<F.redo.calls.length;I++)P.plotDo(R,F.redo.calls[I],F.redo.args[I]);R.undoQueue.inSequence=!1,R.autoplay=!1,R.undoQueue.index++}},P.plotDo=function(R,F,I){R.autoplay=!0,I=C(R,I),F.apply(null,I)},In.exports=P}),Qf=o((rl,In)=>{In.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}}),xp=o(rl=>{var In=Ep(),A=ls(),v=Zu(),C=cg(),P=Qf(),R=Cp(),F=Md().configAttributes,I=sp(),B=A.extendDeepAll,x=A.isPlainObject,W=A.isArrayOrTypedArray,z=A.nestedProperty,U=A.valObjectMeta,Q="_isSubplotObj",Z="_isLinkedToArray",$="_arrayAttrRegexps",q="_deprecated",J=[Q,Z,$,q];rl.IS_SUBPLOT_OBJ=Q,rl.IS_LINKED_TO_ARRAY=Z,rl.DEPRECATED=q,rl.UNDERSCORE_ATTRS=J,rl.get=function(){var il={};return In.allTypes.forEach(function(sl){il[sl]=se(sl)}),{defs:{valObjects:U,metaKeys:J.concat(["description","role","editType","impliedEdits"]),editType:{traces:I.traces,layout:I.layout},impliedEdits:{}},traces:il,layout:nt(),frames:gl(),animation:Bn(R),config:Bn(F)}},rl.crawl=function(il,sl,vl,yl){var Fn=vl||0;yl=yl||"",Object.keys(il).forEach(function(xl){var wl=il[xl];if(J.indexOf(xl)===-1){var kl=(yl?yl+".":"")+xl;sl(wl,xl,il,Fn,kl),!rl.isValObject(wl)&&x(wl)&&xl!=="impliedEdits"&&rl.crawl(wl,sl,Fn+1,kl)}})},rl.isValObject=function(il){return il&&il.valType!==void 0},rl.findArrayAttributes=function(il){var sl=[],vl=[],yl=[],Fn,xl;function wl(Dl,Ol,gu,yu){vl=vl.slice(0,yu).concat([Ol]),yl=yl.slice(0,yu).concat([Dl&&Dl._isLinkedToArray]);var Iu=Dl&&(Dl.valType==="data_array"||Dl.arrayOk===!0)&&!(vl[yu-1]==="colorbar"&&(Ol==="ticktext"||Ol==="tickvals"));Iu&&kl(Fn,0,"")}function kl(Dl,Ol,gu){var yu=Dl[vl[Ol]],Iu=gu+vl[Ol];if(Ol===vl.length-1)W(yu)&&sl.push(xl+Iu);else if(yl[Ol]){if(Array.isArray(yu))for(var cl=0;cl<yu.length;cl++)x(yu[cl])&&kl(yu[cl],Ol+1,Iu+"["+cl+"].")}else x(yu)&&kl(yu,Ol+1,Iu+".")}return Fn=il,xl="",rl.crawl(v,wl),il._module&&il._module.attributes&&rl.crawl(il._module.attributes,wl),sl},rl.getTraceValObject=function(il,sl){var vl=sl[0],yl=1,Fn,xl,wl=il._module;if(wl||(wl=(In.modules[il.type||v.type.dflt]||{})._module),!wl)return!1;if(Fn=wl.attributes,xl=Fn&&Fn[vl],!xl){var kl=wl.basePlotModule;kl&&kl.attributes&&(xl=kl.attributes[vl])}return xl||(xl=v[vl]),j(xl,sl,yl)},rl.getLayoutValObject=function(il,sl){var vl=O(il,sl[0]);return j(vl,sl,1)};function O(il,sl){var vl,yl,Fn,xl,wl=il._basePlotModules;if(wl){var kl;for(vl=0;vl<wl.length;vl++){if(Fn=wl[vl],Fn.attrRegex&&Fn.attrRegex.test(sl)){if(Fn.layoutAttrOverrides)return Fn.layoutAttrOverrides;!kl&&Fn.layoutAttributes&&(kl=Fn.layoutAttributes)}var Dl=Fn.baseLayoutAttrOverrides;if(Dl&&sl in Dl)return Dl[sl]}if(kl)return kl}var Ol=il._modules;if(Ol){for(vl=0;vl<Ol.length;vl++)if(xl=Ol[vl].layoutAttributes,xl&&sl in xl)return xl[sl]}for(yl in In.componentsRegistry){if(Fn=In.componentsRegistry[yl],Fn.name==="colorscale"&&sl.indexOf("coloraxis")===0)return Fn.layoutAttributes[sl];if(!Fn.schema&&sl===Fn.name)return Fn.layoutAttributes}return sl in C?C[sl]:!1}function j(il,sl,vl){if(!il)return!1;if(il._isLinkedToArray){if(Y(sl[vl]))vl++;else if(vl<sl.length)return!1}for(;vl<sl.length;vl++){var yl=il[sl[vl]];if(x(yl))il=yl;else break;if(vl===sl.length-1)break;if(il._isLinkedToArray){if(vl++,!Y(sl[vl]))return!1}else if(il.valType==="info_array"){vl++;var Fn=sl[vl];if(!Y(Fn))return!1;var xl=il.items;if(Array.isArray(xl)){if(Fn>=xl.length)return!1;if(il.dimensions===2){if(vl++,sl.length===vl)return il;var wl=sl[vl];if(!Y(wl))return!1;il=xl[Fn][wl]}else il=xl[Fn]}else il=xl}}return il}function Y(il){return il===Math.round(il)&&il>=0}function se(il){var sl,vl;sl=In.modules[il]._module,vl=sl.basePlotModule;var yl={};yl.type=null;var Fn=B({},v),xl=B({},sl.attributes);rl.crawl(xl,function(Dl,Ol,gu,yu,Iu){z(Fn,Iu).set(void 0),Dl===void 0&&z(xl,Iu).set(void 0)}),B(yl,Fn),In.traceIs(il,"noOpacity")&&delete yl.opacity,In.traceIs(il,"showLegend")||(delete yl.showlegend,delete yl.legendgroup),In.traceIs(il,"noHover")&&(delete yl.hoverinfo,delete yl.hoverlabel),sl.selectPoints||delete yl.selectedpoints,B(yl,xl),vl.attributes&&B(yl,vl.attributes),yl.type=il;var wl={meta:sl.meta||{},categories:sl.categories||{},animatable:!!sl.animatable,type:il,attributes:Bn(yl)};if(sl.layoutAttributes){var kl={};B(kl,sl.layoutAttributes),wl.layoutAttributes=Bn(kl)}return sl.animatable||rl.crawl(wl,function(Dl){rl.isValObject(Dl)&&"anim"in Dl&&delete Dl.anim}),wl}function nt(){var il={},sl,vl;B(il,C);for(sl in In.subplotsRegistry)if(vl=In.subplotsRegistry[sl],!!vl.layoutAttributes)if(Array.isArray(vl.attr))for(var yl=0;yl<vl.attr.length;yl++)tl(il,vl,vl.attr[yl]);else{var Fn=vl.attr==="subplot"?vl.name:vl.attr;tl(il,vl,Fn)}for(sl in In.componentsRegistry){vl=In.componentsRegistry[sl];var xl=vl.schema;if(xl&&(xl.subplots||xl.layout)){var wl=xl.subplots;if(wl&&wl.xaxis&&!wl.yaxis)for(var kl in wl.xaxis)delete il.yaxis[kl];delete il.xaxis.shift,delete il.xaxis.autoshift}else vl.name==="colorscale"?B(il,vl.layoutAttributes):vl.layoutAttributes&&ul(il,vl.layoutAttributes,vl.name)}return{layoutAttributes:Bn(il)}}function gl(){var il={frames:B({},P)};return Bn(il),il.frames}function Bn(il){return jt(il),Pe(il),ml(il),il}function jt(il){function sl(yl){return{valType:"string",editType:"none"}}function vl(yl,Fn,xl){rl.isValObject(yl)?(yl.arrayOk===!0||yl.valType==="data_array")&&(xl[Fn+"src"]=sl()):x(yl)&&(yl.role="object")}rl.crawl(il,vl)}function Pe(il){function sl(vl,yl,Fn){if(vl){var xl=vl[Z];xl&&(delete vl[Z],Fn[yl]={items:{}},Fn[yl].items[xl]=vl,Fn[yl].role="object")}}rl.crawl(il,sl)}function ml(il){function sl(vl){for(var yl in vl)if(x(vl[yl]))sl(vl[yl]);else if(Array.isArray(vl[yl]))for(var Fn=0;Fn<vl[yl].length;Fn++)sl(vl[yl][Fn]);else vl[yl]instanceof RegExp&&(vl[yl]=vl[yl].toString())}sl(il)}function tl(il,sl,vl){var yl=z(il,vl),Fn=B({},sl.layoutAttributes);Fn[Q]=!0,yl.set(Fn)}function ul(il,sl,vl){var yl=z(il,vl);yl.set(B(yl.get()||{},sl))}}),Zf=o(rl=>{var In=ls(),A=Zu(),v="templateitemname",C={name:{valType:"string",editType:"none"}};C[v]={valType:"string",editType:"calc"},rl.templatedArray=function(F,I){return I._isLinkedToArray=F,I.name=C.name,I[v]=C[v],I},rl.traceTemplater=function(F){var I={},B,x;for(B in F)x=F[B],Array.isArray(x)&&x.length&&(I[B]=0);function W(z){B=In.coerce(z,{},A,"type");var U={type:B,_template:null};if(B in I){x=F[B];var Q=I[B]%x.length;I[B]++,U._template=x[Q]}return U}return{newTrace:W}},rl.newContainer=function(F,I,B){var x=F._template,W=x&&(x[I]||B&&x[B]);In.isPlainObject(W)||(W=null);var z=F[I]={_template:W};return z},rl.arrayTemplater=function(F,I,B){var x=F._template,W=x&&x[R(I)],z=x&&x[I];(!Array.isArray(z)||!z.length)&&(z=[]);var U={};function Q($){var q={name:$.name,_input:$},J=q[v]=$[v];if(!P(J))return q._template=W,q;for(var O=0;O<z.length;O++){var j=z[O];if(j.name===J)return U[J]=1,q._template=j,q}return q[B]=$[B]||!1,q._template=!1,q}function Z(){for(var $=[],q=0;q<z.length;q++){var J=z[q],O=J.name;if(P(O)&&!U[O]){var j={_template:J,name:O,_input:{_templateitemname:O}};j[v]=J[v],$.push(j),U[O]=1}}return $}return{newItem:Q,defaultItems:Z}};function P(F){return F&&typeof F=="string"}function R(F){var I=F.length-1;return F.charAt(I)!=="s"&&In.warn("bad argument to arrayDefaultKey: "+F),F.substr(0,F.length-1)+"defaults"}rl.arrayDefaultKey=R,rl.arrayEditor=function(F,I,B){var x=(In.nestedProperty(F,I).get()||[]).length,W=B._index,z=W>=x&&(B._input||{})._templateitemname;z&&(W=x);var U=I+"["+W+"]",Q;function Z(){Q={},z&&(Q[U]={},Q[U][v]=z)}Z();function $(j,Y){Q[j]=Y}function q(j,Y){z?In.nestedProperty(Q[U],j).set(Y):Q[U+"."+j]=Y}function J(){var j=Q;return Z(),j}function O(j,Y){j&&q(j,Y);var se=J();for(var nt in se)In.nestedProperty(F,nt).set(se[nt])}return{modifyBase:$,modifyItem:q,getUpdateObj:J,applyUpdate:O}}}),vp=o((rl,In)=>{var A=Wl().counter;In.exports={idRegex:{x:A("x","( domain)?"),y:A("y","( domain)?")},attrRegex:A("[xy]axis"),xAxisMatch:A("xaxis"),yAxisMatch:A("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"},zindexSeparator:"z"}}),Nh=o(rl=>{var In=Ep(),A=vp();rl.id2name=function(C){if(!(typeof C!="string"||!C.match(A.AX_ID_PATTERN))){var P=C.split(" ")[0].substr(1);return P==="1"&&(P=""),C.charAt(0)+"axis"+P}},rl.name2id=function(C){if(C.match(A.AX_NAME_PATTERN)){var P=C.substr(5);return P==="1"&&(P=""),C.charAt(0)+P}},rl.cleanId=function(C,P,R){var F=/( domain)$/.test(C);if(!(typeof C!="string"||!C.match(A.AX_ID_PATTERN))&&!(P&&C.charAt(0)!==P)&&!(F&&!R)){var I=C.split(" ")[0].substr(1).replace(/^0+/,"");return I==="1"&&(I=""),C.charAt(0)+I+(F&&R?" domain":"")}},rl.list=function(C,P,R){var F=C._fullLayout;if(!F)return[];var I=rl.listIds(C,P),B=new Array(I.length),x;for(x=0;x<I.length;x++){var W=I[x];B[x]=F[W.charAt(0)+"axis"+W.substr(1)]}if(!R){var z=F._subplots.gl3d||[];for(x=0;x<z.length;x++){var U=F[z[x]];P?B.push(U[P+"axis"]):B.push(U.xaxis,U.yaxis,U.zaxis)}}return B},rl.listIds=function(C,P){var R=C._fullLayout;if(!R)return[];var F=R._subplots;return P?F[P+"axis"]:F.xaxis.concat(F.yaxis)},rl.getFromId=function(C,P,R){var F=C._fullLayout;return P=P===void 0||typeof P!="string"?P:P.replace(" domain",""),R==="x"?P=P.replace(/y[0-9]*/,""):R==="y"&&(P=P.replace(/x[0-9]*/,"")),F[rl.id2name(P)]},rl.getFromTrace=function(C,P,R){var F=C._fullLayout,I=null;if(In.traceIs(P,"gl3d")){var B=P.scene;B.substr(0,5)==="scene"&&(I=F[B][R+"axis"])}else I=rl.getFromId(C,P[R+"axis"]||R);return I},rl.idSort=function(C,P){var R=C.charAt(0),F=P.charAt(0);return R!==F?R>F?1:-1:+(C.substr(1)||1)-+(P.substr(1)||1)},rl.ref2id=function(C){return/^[xyz]/.test(C)?C.split(" ")[0]:!1};function v(C,P){if(P&&P.length){for(var R=0;R<P.length;R++)if(P[R][C])return!0}return!1}rl.isLinked=function(C,P){return v(P,C._axisMatchGroups)||v(P,C._axisConstraintGroups)}}),Rp=o((rl,In)=>{function A(C){var P=C._fullLayout._zoomlayer;P&&P.selectAll(".outline-controllers").remove()}function v(C){var P=C._fullLayout._zoomlayer;P&&P.selectAll(".select-outline").remove(),C._fullLayout._outlining=!1}In.exports={clearOutlineControllers:A,clearOutline:v}}),Q0=o((rl,In)=>{In.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}}),dg=o(rl=>{var In=Ep();vp().SUBPLOT_PATTERN,rl.getSubplotCalcData=function(A,v,C){var P=In.subplotsRegistry[v];if(!P)return[];for(var R=P.attr,F=[],I=0;I<A.length;I++){var B=A[I],x=B[0].trace;x[R]===C&&F.push(B)}return F},rl.getModuleCalcData=function(A,v,C){var P=[],R=[],F;if(typeof v=="string"?F=In.getModule(v).plot:typeof v=="function"?F=v:F=v.plot,!F)return[P,A];for(var I=C,B=0;B<A.length;B++){var x=A[B],W=x[0].trace,z=W.zorder!==void 0;W.visible!==!0||W._length===0||(W._module&&W._module.plot===F&&(!z||W.zorder===I)?P.push(x):R.push(x))}return[P,R]},rl.getSubplotData=function(A,v,C){if(!In.subplotsRegistry[v])return[];for(var P=In.subplotsRegistry[v].attr,R=[],F,I,B,x=0;x<A.length;x++)F=A[x],F[P]===C&&R.push(F);return R}}),jg=o(rl=>{var In=Ep(),A=ls();rl.manageCommandObserver=function(I,B,x,W){var z={},U=!0;B&&B._commandObserver&&(z=B._commandObserver),z.cache||(z.cache={}),z.lookupTable={};var Q=rl.hasSimpleAPICommandBindings(I,x,z.lookupTable);if(B&&B._commandObserver){if(Q)return z;if(B._commandObserver.remove)return B._commandObserver.remove(),B._commandObserver=null,z}if(Q){v(I,Q,z.cache),z.check=function(){if(U){var q=v(I,Q,z.cache);return q.changed&&W&&z.lookupTable[q.value]!==void 0&&(z.disable(),Promise.resolve(W({value:q.value,type:Q.type,prop:Q.prop,traces:Q.traces,index:z.lookupTable[q.value]})).then(z.enable,z.enable)),q.changed}};for(var Z=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],$=0;$<Z.length;$++)I._internalOn(Z[$],z.check);z.remove=function(){for(var q=0;q<Z.length;q++)I._removeInternalListener(Z[q],z.check)}}else A.log("Unable to automatically bind plot updates to API command"),z.lookupTable={},z.remove=function(){};return z.disable=function(){U=!1},z.enable=function(){U=!0},B&&(B._commandObserver=z),z},rl.hasSimpleAPICommandBindings=function(I,B,x){var W,z=B.length,U;for(W=0;W<z;W++){var Q,Z=B[W],$=Z.method,q=Z.args;if(Array.isArray(q)||(q=[]),!$)return!1;var J=rl.computeAPICommandBindings(I,$,q);if(J.length!==1)return!1;if(!U)U=J[0],Array.isArray(U.traces)&&U.traces.sort();else{if(Q=J[0],Q.type!==U.type||Q.prop!==U.prop)return!1;if(Array.isArray(U.traces))if(Array.isArray(Q.traces)){Q.traces.sort();for(var O=0;O<U.traces.length;O++)if(U.traces[O]!==Q.traces[O])return!1}else return!1;else if(Q.prop!==U.prop)return!1}Q=J[0];var j=Q.value;if(Array.isArray(j))if(j.length===1)j=j[0];else return!1;x&&(x[j]=W)}return U};function v(I,B,x){var W,z,U,Q=!1;if(B.type==="data")W=I._fullData[B.traces!==null?B.traces[0]:0];else if(B.type==="layout")W=I._fullLayout;else return!1;return z=A.nestedProperty(W,B.prop).get(),U=x[B.type]=x[B.type]||{},U.hasOwnProperty(B.prop)&&U[B.prop]!==z&&(Q=!0),U[B.prop]=z,{changed:Q,value:z}}rl.executeAPICommand=function(I,B,x){if(B==="skip")return Promise.resolve();var W=In.apiMethodRegistry[B],z=[I];Array.isArray(x)||(x=[]);for(var U=0;U<x.length;U++)z.push(x[U]);return W.apply(null,z).catch(function(Q){return A.warn("API call to Plotly."+B+" rejected.",Q),Promise.reject(Q)})},rl.computeAPICommandBindings=function(I,B,x){var W;switch(Array.isArray(x)||(x=[]),B){case"restyle":W=R(I,x);break;case"relayout":W=P(I,x);break;case"update":W=R(I,[x[0],x[2]]).concat(P(I,[x[1]]));break;case"animate":W=C(I,x);break;default:W=[]}return W};function C(I,B){return Array.isArray(B[0])&&B[0].length===1&&["string","number"].indexOf(typeof B[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:B[0][0].toString()}]:[]}function P(I,B){var x=[],W=B[0],z={};if(typeof W=="string")z[W]=B[1];else if(A.isPlainObject(W))z=W;else return x;return F(z,function(U,Q,Z){x.push({type:"layout",prop:U,value:Z})},"",0),x}function R(I,B){var x,W,z,U,Q=[];if(W=B[0],z=B[1],x=B[2],U={},typeof W=="string")U[W]=z;else if(A.isPlainObject(W))U=W,x===void 0&&(x=z);else return Q;return x===void 0&&(x=null),F(U,function(Z,$,q){var J,O;if(Array.isArray(q)){O=q.slice();var j=Math.min(O.length,I.data.length);x&&(j=Math.min(j,x.length)),J=[];for(var Y=0;Y<j;Y++)J[Y]=x?x[Y]:Y}else O=q,J=x?x.slice():null;if(J===null)Array.isArray(O)&&(O=O[0]);else if(Array.isArray(J)){if(!Array.isArray(O)){var se=O;O=[];for(var nt=0;nt<J.length;nt++)O[nt]=se}O.length=Math.min(J.length,O.length)}Q.push({type:"data",prop:Z,traces:J,value:O})},"",0),Q}function F(I,B,x,W){Object.keys(I).forEach(function(z){var U=I[z];if(z[0]!=="_"){var Q=x+(W>0?".":"")+z;A.isPlainObject(U)?F(U,B,Q,W+1):B(Q,z,U)}})}}),Jp=o((rl,In)=>{var A=f(),v=w().timeFormatLocale,C=y().formatLocale,P=G(),R=ce(),F=Ep(),I=xp(),B=Zf(),x=ls(),W=Bd(),z=H().BADNUM,U=Nh(),Q=Rp().clearOutline,Z=Q0(),$=Cp(),q=Qf(),J=dg().getModuleCalcData,O=x.relinkPrivateKeys,j=x._,Y=In.exports={};x.extendFlat(Y,F),Y.attributes=Zu(),Y.attributes.type.values=Y.allTypes,Y.fontAttrs=vu(),Y.layoutAttributes=cg();var se=jg();Y.executeAPICommand=se.executeAPICommand,Y.computeAPICommandBindings=se.computeAPICommandBindings,Y.manageCommandObserver=se.manageCommandObserver,Y.hasSimpleAPICommandBindings=se.hasSimpleAPICommandBindings,Y.redrawText=function(cl){return cl=x.getGraphDiv(cl),new Promise(function(pl){setTimeout(function(){cl._fullLayout&&(F.getComponentMethod("annotations","draw")(cl),F.getComponentMethod("legend","draw")(cl),F.getComponentMethod("colorbar","draw")(cl),pl(Y.previousPromises(cl)))},300)})},Y.resize=function(cl){cl=x.getGraphDiv(cl);var pl,it=new Promise(function(bl,Ll){(!cl||x.isHidden(cl))&&Ll(new Error("Resize must be passed a displayed plot div element.")),cl._redrawTimer&&clearTimeout(cl._redrawTimer),cl._resolveResize&&(pl=cl._resolveResize),cl._resolveResize=bl,cl._redrawTimer=setTimeout(function(){if(!cl.layout||cl.layout.width&&cl.layout.height||x.isHidden(cl)){bl(cl);return}delete cl.layout.width,delete cl.layout.height;var nl=cl.changed;cl.autoplay=!0,F.call("relayout",cl,{autosize:!0}).then(function(){cl.changed=nl,cl._resolveResize===bl&&(delete cl._resolveResize,bl(cl))})},100)});return pl&&pl(it),it},Y.previousPromises=function(cl){if((cl._promises||[]).length)return Promise.all(cl._promises).then(function(){cl._promises=[]})},Y.addLinks=function(cl){if(!(!cl._context.showLink&&!cl._context.showSources)){var pl=cl._fullLayout,it=x.ensureSingle(pl._paper,"text","js-plot-link-container",function(ol){ol.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:W.defaultLine,"pointer-events":"all"}).each(function(){var dl=A.select(this);dl.append("tspan").classed("js-link-to-tool",!0),dl.append("tspan").classed("js-link-spacer",!0),dl.append("tspan").classed("js-sourcelinks",!0)})}),bl=it.node(),Ll={y:pl._paper.attr("height")-9};document.body.contains(bl)&&bl.getComputedTextLength()>=pl.width-20?(Ll["text-anchor"]="start",Ll.x=5):(Ll["text-anchor"]="end",Ll.x=pl._paper.attr("width")-7),it.attr(Ll);var nl=it.select(".js-link-to-tool"),ve=it.select(".js-link-spacer"),_t=it.select(".js-sourcelinks");cl._context.showSources&&cl._context.showSources(cl),cl._context.showLink&&nt(cl,nl),ve.text(nl.text()&&_t.text()?" - ":"")}};function nt(cl,pl){pl.text("");var it=pl.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(cl._context.linkText+" ");if(cl._context.sendData)it.on("click",function(){Y.sendDataToCloud(cl)});else{var bl=window.location.pathname.split("/"),Ll=window.location.search;it.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+bl[2].split(".")[0]+"/"+bl[1]+Ll})}}Y.sendDataToCloud=function(cl){var pl=(window.PLOTLYENV||{}).BASE_URL||cl._context.plotlyServerURL;if(pl){cl.emit("plotly_beforeexport");var it=A.select(cl).append("div").attr("id","hiddenform").style("display","none"),bl=it.append("form").attr({action:pl+"/external",method:"post",target:"_blank"}),Ll=bl.append("input").attr({type:"text",name:"data"});return Ll.node().value=Y.graphJson(cl,!1,"keepdata"),bl.node().submit(),it.remove(),cl.emit("plotly_afterexport"),!1}};var gl=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],Bn=["year","month","dayMonth","dayMonthYear"];Y.supplyDefaults=function(cl,pl){var it=pl&&pl.skipUpdateCalc,bl=cl._fullLayout||{};if(bl._skipDefaults){delete bl._skipDefaults;return}var Ll=cl._fullLayout={},nl=cl.layout||{},ve=cl._fullData||[],_t=cl._fullData=[],ol=cl.data||[],dl=cl.calcdata||[],Il=cl._context||{},ql;cl._transitionData||Y.createTransitionData(cl),Ll._dfltTitle={plot:j(cl,"Click to enter Plot title"),subtitle:j(cl,"Click to enter Plot subtitle"),x:j(cl,"Click to enter X axis title"),y:j(cl,"Click to enter Y axis title"),colorbar:j(cl,"Click to enter Colorscale title"),annotation:j(cl,"new text")},Ll._traceWord=j(cl,"trace");var Zl=ml(cl,gl);if(Ll._mapboxAccessToken=Il.mapboxAccessToken,bl._initialAutoSizeIsDone){var Bu=bl.width,Ju=bl.height;Y.supplyLayoutGlobalDefaults(nl,Ll,Zl),nl.width||(Ll.width=Bu),nl.height||(Ll.height=Ju),Y.sanitizeMargins(Ll)}else{Y.supplyLayoutGlobalDefaults(nl,Ll,Zl);var yd=!nl.width||!nl.height,Hd=Ll.autosize,Rd=Il.autosizable,Ed=yd&&(Hd||Rd);Ed?Y.plotAutoSize(cl,nl,Ll):yd&&Y.sanitizeMargins(Ll),!Hd&&yd&&(nl.width=Ll.width,nl.height=Ll.height)}Ll._d3locale=tl(Zl,Ll.separators),Ll._extraFormat=ml(cl,Bn),Ll._initialAutoSizeIsDone=!0,Ll._dataLength=ol.length,Ll._modules=[],Ll._visibleModules=[],Ll._basePlotModules=[];var _u=Ll._subplots=Pe(),Nu=Ll._splomAxes={x:{},y:{}},Gl=Ll._splomSubplots={};Ll._splomGridDflt={},Ll._scatterStackOpts={},Ll._firstScatter={},Ll._alignmentOpts={},Ll._colorAxes={},Ll._requestRangeslider={},Ll._traceUids=jt(ve,ol),Y.supplyDataDefaults(ol,_t,nl,Ll);var rd=Object.keys(Nu.x),Sd=Object.keys(Nu.y);if(rd.length>1&&Sd.length>1){for(F.getComponentMethod("grid","sizeDefaults")(nl,Ll),ql=0;ql<rd.length;ql++)x.pushUnique(_u.xaxis,rd[ql]);for(ql=0;ql<Sd.length;ql++)x.pushUnique(_u.yaxis,Sd[ql]);for(var Pd in Gl)x.pushUnique(_u.cartesian,Pd)}if(Ll._has=Y._hasPlotType.bind(Ll),ve.length===_t.length)for(ql=0;ql<_t.length;ql++)O(_t[ql],ve[ql]);Y.supplyLayoutModuleDefaults(nl,Ll,_t,cl._transitionData);var Ud=Ll._visibleModules,$d=[];for(ql=0;ql<Ud.length;ql++){var th=Ud[ql].crossTraceDefaults;th&&x.pushUnique($d,th)}for(ql=0;ql<$d.length;ql++)$d[ql](_t,Ll);Ll._hasOnlyLargeSploms=Ll._basePlotModules.length===1&&Ll._basePlotModules[0].name==="splom"&&rd.length>15&&Sd.length>15&&Ll.shapes.length===0&&Ll.images.length===0,Y.linkSubplots(_t,Ll,ve,bl),Y.cleanPlot(_t,Ll,ve,bl);var sh=!!(bl._has&&bl._has("cartesian")),ah=!!(Ll._has&&Ll._has("cartesian")),Ah=sh,Yd=ah;Ah&&!Yd?bl._bgLayer.remove():Yd&&!Ah&&(Ll._shouldCreateBgLayer=!0),bl._zoomlayer&&!cl._dragging&&Q({_fullLayout:bl}),ul(_t,Ll),O(Ll,bl),F.getComponentMethod("colorscale","crossTraceDefaults")(_t,Ll),Ll._preGUI||(Ll._preGUI={}),Ll._tracePreGUI||(Ll._tracePreGUI={});var Ph=Ll._tracePreGUI,jh={},Th;for(Th in Ph)jh[Th]="old";for(ql=0;ql<_t.length;ql++)Th=_t[ql]._fullInput.uid,jh[Th]||(Ph[Th]={}),jh[Th]="new";for(Th in jh)jh[Th]==="old"&&delete Ph[Th];vl(Ll),F.getComponentMethod("rangeslider","makeData")(Ll),!it&&dl.length===_t.length&&Y.supplyDefaultsUpdateCalc(dl,_t)},Y.supplyDefaultsUpdateCalc=function(cl,pl){for(var it=0;it<pl.length;it++){var bl=pl[it],Ll=(cl[it]||[])[0];if(Ll&&Ll.trace){var nl=Ll.trace;if(nl._hasCalcTransform){var ve=nl._arrayAttrs,_t,ol,dl;for(_t=0;_t<ve.length;_t++)ol=ve[_t],dl=x.nestedProperty(nl,ol).get().slice(),x.nestedProperty(bl,ol).set(dl)}Ll.trace=bl}}};function jt(cl,pl){var it=pl.length,bl=[],Ll,nl;for(Ll=0;Ll<cl.length;Ll++){var ve=cl[Ll]._fullInput;ve!==nl&&bl.push(ve),nl=ve}var _t=bl.length,ol=new Array(it),dl={};function Il(Bu,Ju){ol[Ju]=Bu,dl[Bu]=1}function ql(Bu,Ju){if(Bu&&typeof Bu=="string"&&!dl[Bu])return Il(Bu,Ju),!0}for(Ll=0;Ll<it;Ll++){var Zl=pl[Ll].uid;typeof Zl=="number"&&(Zl=String(Zl)),!ql(Zl,Ll)&&(Ll<_t&&ql(bl[Ll].uid,Ll)||Il(x.randstr(dl),Ll))}return ol}function Pe(){var cl=F.collectableSubplotTypes,pl={},it,bl;if(!cl){cl=[];var Ll=F.subplotsRegistry;for(var nl in Ll){var ve=Ll[nl],_t=ve.attr;if(_t&&(cl.push(nl),Array.isArray(_t)))for(bl=0;bl<_t.length;bl++)x.pushUnique(cl,_t[bl])}}for(it=0;it<cl.length;it++)pl[cl[it]]=[];return pl}function ml(cl,pl){var it=cl._context.locale;it||(it="en-US");var bl=!1,Ll={};function nl(ql){for(var Zl=!0,Bu=0;Bu<pl.length;Bu++){var Ju=pl[Bu];Ll[Ju]||(ql[Ju]?Ll[Ju]=ql[Ju]:Zl=!1)}Zl&&(bl=!0)}for(var ve=0;ve<2;ve++){for(var _t=cl._context.locales,ol=0;ol<2;ol++){var dl=(_t[it]||{}).format;if(dl&&(nl(dl),bl))break;_t=F.localeRegistry}var Il=it.split("-")[0];if(bl||Il===it)break;it=Il}return bl||nl(F.localeRegistry.en.format),Ll}function tl(cl,pl){return cl.decimal=pl.charAt(0),cl.thousands=pl.charAt(1),{numberFormat:function(it){try{it=C(cl).format(x.adjustFormat(it))}catch{return x.warnBadFormat(it),x.noFormat}return it},timeFormat:v(cl).utcFormat}}function ul(cl,pl){var it,bl=[];pl.meta&&(it=pl._meta={meta:pl.meta,layout:{meta:pl.meta}});for(var Ll=0;Ll<cl.length;Ll++){var nl=cl[Ll];nl.meta?bl[nl.index]=nl._meta={meta:nl.meta}:pl.meta&&(nl._meta={meta:pl.meta}),pl.meta&&(nl._meta.layout={meta:pl.meta})}bl.length&&(it||(it=pl._meta={}),it.data=bl)}Y.createTransitionData=function(cl){cl._transitionData||(cl._transitionData={}),cl._transitionData._frames||(cl._transitionData._frames=[]),cl._transitionData._frameHash||(cl._transitionData._frameHash={}),cl._transitionData._counter||(cl._transitionData._counter=0),cl._transitionData._interruptCallbacks||(cl._transitionData._interruptCallbacks=[])},Y._hasPlotType=function(cl){var pl,it=this._basePlotModules||[];for(pl=0;pl<it.length;pl++)if(it[pl].name===cl)return!0;var bl=this._modules||[];for(pl=0;pl<bl.length;pl++){var Ll=bl[pl].name;if(Ll===cl)return!0;var nl=F.modules[Ll];if(nl&&nl.categories[cl])return!0}return!1},Y.cleanPlot=function(cl,pl,it,bl){var Ll,nl,ve=bl._basePlotModules||[];for(Ll=0;Ll<ve.length;Ll++){var _t=ve[Ll];_t.clean&&_t.clean(cl,pl,it,bl)}var ol=bl._has&&bl._has("gl"),dl=pl._has&&pl._has("gl");ol&&!dl&&bl._glcontainer!==void 0&&(bl._glcontainer.selectAll(".gl-canvas").remove(),bl._glcontainer.selectAll(".no-webgl").remove(),bl._glcanvas=null);var Il=!!bl._infolayer;e:for(Ll=0;Ll<it.length;Ll++){var ql=it[Ll],Zl=ql.uid;for(nl=0;nl<cl.length;nl++){var Bu=cl[nl];if(Zl===Bu.uid)continue e}Il&&bl._infolayer.select(".cb"+Zl).remove()}},Y.linkSubplots=function(cl,pl,it,bl){var Ll,nl,ve=bl._plots||{},_t=pl._plots={},ol=pl._subplots,dl={_fullData:cl,_fullLayout:pl},Il=ol.cartesian||[];for(Ll=0;Ll<Il.length;Ll++){var ql=Il[Ll],Zl=ve[ql],Bu=U.getFromId(dl,ql,"x"),Ju=U.getFromId(dl,ql,"y"),yd;for(Zl?yd=_t[ql]=Zl:(yd=_t[ql]={},yd.id=ql),Bu._counterAxes.push(Ju._id),Ju._counterAxes.push(Bu._id),Bu._subplotsWith.push(ql),Ju._subplotsWith.push(ql),yd.xaxis=Bu,yd.yaxis=Ju,yd._hasClipOnAxisFalse=!1,nl=0;nl<cl.length;nl++){var Hd=cl[nl];if(Hd.xaxis===yd.xaxis._id&&Hd.yaxis===yd.yaxis._id&&Hd.cliponaxis===!1){yd._hasClipOnAxisFalse=!0;break}}}var Rd=U.list(dl,null,!0),Ed;for(Ll=0;Ll<Rd.length;Ll++){Ed=Rd[Ll];var _u=null;Ed.overlaying&&(_u=U.getFromId(dl,Ed.overlaying),_u&&_u.overlaying&&(Ed.overlaying=!1,_u=null)),Ed._mainAxis=_u||Ed,_u&&(Ed.domain=_u.domain.slice()),Ed._anchorAxis=Ed.anchor==="free"?null:U.getFromId(dl,Ed.anchor)}for(Ll=0;Ll<Rd.length;Ll++)if(Ed=Rd[Ll],Ed._counterAxes.sort(U.idSort),Ed._subplotsWith.sort(x.subplotSort),Ed._mainSubplot=il(Ed,pl),Ed._counterAxes.length&&(Ed.spikemode&&Ed.spikemode.indexOf("across")!==-1||Ed.automargin&&Ed.mirror&&Ed.anchor!=="free"||F.getComponentMethod("rangeslider","isVisible")(Ed))){var Nu=1,Gl=0;for(nl=0;nl<Ed._counterAxes.length;nl++){var rd=U.getFromId(dl,Ed._counterAxes[nl]);Nu=Math.min(Nu,rd.domain[0]),Gl=Math.max(Gl,rd.domain[1])}Nu<Gl&&(Ed._counterDomainMin=Nu,Ed._counterDomainMax=Gl)}};function il(cl,pl){var it={_fullLayout:pl},bl=cl._id.charAt(0)==="x",Ll=cl._mainAxis._anchorAxis,nl="",ve="",_t="";if(Ll&&(_t=Ll._mainAxis._id,nl=bl?cl._id+_t:_t+cl._id),!nl||!pl._plots[nl]){nl="";for(var ol=cl._counterAxes,dl=0;dl<ol.length;dl++){var Il=ol[dl],ql=bl?cl._id+Il:Il+cl._id;ve||(ve=ql);var Zl=U.getFromId(it,Il);if(_t&&Zl.overlaying===_t){nl=ql;break}}}return nl||ve}Y.clearExpandedTraceDefaultColors=function(cl){var pl,it,bl;function Ll(ve,_t,ol,dl){it[dl]=_t,it.length=dl+1,ve.valType==="color"&&ve.dflt===void 0&&pl.push(it.join("."))}for(it=[],pl=cl._module._colorAttrs,pl||(cl._module._colorAttrs=pl=[],I.crawl(cl._module.attributes,Ll)),bl=0;bl<pl.length;bl++){var nl=x.nestedProperty(cl,"_input."+pl[bl]);nl.get()||x.nestedProperty(cl,pl[bl]).set(null)}},Y.supplyDataDefaults=function(cl,pl,it,bl){var Ll=bl._modules,nl=bl._visibleModules,ve=bl._basePlotModules,_t=0,ol,dl,Il;bl._transformModules=[];function ql(Rd){pl.push(Rd);var Ed=Rd._module;Ed&&(x.pushUnique(Ll,Ed),Rd.visible===!0&&x.pushUnique(nl,Ed),x.pushUnique(ve,Rd._module.basePlotModule),Rd._input.visible!==!1&&_t++)}var Zl={},Bu=[],Ju=(it.template||{}).data||{},yd=B.traceTemplater(Ju);for(ol=0;ol<cl.length;ol++)Il=cl[ol],dl=yd.newTrace(Il),dl.uid=bl._traceUids[ol],Y.supplyTraceDefaults(Il,dl,_t,bl,ol),dl.index=ol,dl._input=Il,dl._fullInput=dl,ql(dl),F.traceIs(dl,"carpetAxis")&&(Zl[dl.carpet]=dl),F.traceIs(dl,"carpetDependent")&&Bu.push(ol);for(ol=0;ol<Bu.length;ol++)if(dl=pl[Bu[ol]],!!dl.visible){var Hd=Zl[dl.carpet];if(dl._carpet=Hd,!Hd||!Hd.visible){dl.visible=!1;continue}dl.xaxis=Hd.xaxis,dl.yaxis=Hd.yaxis}},Y.supplyAnimationDefaults=function(cl){cl=cl||{};var pl,it={};function bl(Ll,nl){return x.coerce(cl||{},it,$,Ll,nl)}if(bl("mode"),bl("direction"),bl("fromcurrent"),Array.isArray(cl.frame))for(it.frame=[],pl=0;pl<cl.frame.length;pl++)it.frame[pl]=Y.supplyAnimationFrameDefaults(cl.frame[pl]||{});else it.frame=Y.supplyAnimationFrameDefaults(cl.frame||{});if(Array.isArray(cl.transition))for(it.transition=[],pl=0;pl<cl.transition.length;pl++)it.transition[pl]=Y.supplyAnimationTransitionDefaults(cl.transition[pl]||{});else it.transition=Y.supplyAnimationTransitionDefaults(cl.transition||{});return it},Y.supplyAnimationFrameDefaults=function(cl){var pl={};function it(bl,Ll){return x.coerce(cl||{},pl,$.frame,bl,Ll)}return it("duration"),it("redraw"),pl},Y.supplyAnimationTransitionDefaults=function(cl){var pl={};function it(bl,Ll){return x.coerce(cl||{},pl,$.transition,bl,Ll)}return it("duration"),it("easing"),pl},Y.supplyFrameDefaults=function(cl){var pl={};function it(bl,Ll){return x.coerce(cl,pl,q,bl,Ll)}return it("group"),it("name"),it("traces"),it("baseframe"),it("data"),it("layout"),pl},Y.supplyTraceDefaults=function(cl,pl,it,bl,Ll){var nl=bl.colorway||W.defaults,ve=nl[it%nl.length],_t;function ol(_u,Nu){return x.coerce(cl,pl,Y.attributes,_u,Nu)}var dl=ol("visible");ol("type"),ol("name",bl._traceWord+" "+Ll),ol("uirevision",bl.uirevision);var Il=Y.getModule(pl);if(pl._module=Il,Il){var ql=Il.basePlotModule,Zl=ql.attr,Bu=ql.attributes;if(Zl&&Bu){var Ju=bl._subplots,yd="";if(Array.isArray(Zl))for(_t=0;_t<Zl.length;_t++){var Hd=Zl[_t],Rd=x.coerce(cl,pl,Bu,Hd);Ju[Hd]&&x.pushUnique(Ju[Hd],Rd),yd+=Rd}else yd=x.coerce(cl,pl,Bu,Zl);Ju[ql.name]&&x.pushUnique(Ju[ql.name],yd)}}if(dl&&(ol("customdata"),ol("ids"),ol("meta"),F.traceIs(pl,"showLegend")?(x.coerce(cl,pl,Il.attributes.showlegend?Il.attributes:Y.attributes,"showlegend"),ol("legend"),ol("legendwidth"),ol("legendgroup"),ol("legendgrouptitle.text"),ol("legendrank"),pl._dfltShowLegend=!0):pl._dfltShowLegend=!1,Il&&Il.supplyDefaults(cl,pl,ve,bl),F.traceIs(pl,"noOpacity")||ol("opacity"),F.traceIs(pl,"notLegendIsolatable")&&(pl.visible=!!pl.visible),F.traceIs(pl,"noHover")||(pl.hovertemplate||x.coerceHoverinfo(cl,pl,bl),pl.type!=="parcats"&&F.getComponentMethod("fx","supplyDefaults")(cl,pl,ve,bl)),Il&&Il.selectPoints)){var Ed=ol("selectedpoints");x.isTypedArray(Ed)&&(pl.selectedpoints=Array.from(Ed))}return pl},Y.supplyLayoutGlobalDefaults=function(cl,pl,it){function bl(ql,Zl){return x.coerce(cl,pl,Y.layoutAttributes,ql,Zl)}var Ll=cl.template;x.isPlainObject(Ll)&&(pl.template=Ll,pl._template=Ll.layout,pl._dataTemplate=Ll.data),bl("autotypenumbers");var nl=x.coerceFont(bl,"font"),ve=nl.size;x.coerceFont(bl,"title.font",nl,{overrideDflt:{size:Math.round(ve*1.4)}}),bl("title.text",pl._dfltTitle.plot),bl("title.xref");var _t=bl("title.yref");bl("title.pad.t"),bl("title.pad.r"),bl("title.pad.b"),bl("title.pad.l");var ol=bl("title.automargin");bl("title.x"),bl("title.xanchor"),bl("title.y"),bl("title.yanchor"),bl("title.subtitle.text",pl._dfltTitle.subtitle),x.coerceFont(bl,"title.subtitle.font",nl,{overrideDflt:{size:Math.round(pl.title.font.size*.7)}}),ol&&(_t==="paper"&&(pl.title.y!==0&&(pl.title.y=1),pl.title.yanchor==="auto"&&(pl.title.yanchor=pl.title.y===0?"top":"bottom")),_t==="container"&&(pl.title.y==="auto"&&(pl.title.y=1),pl.title.yanchor==="auto"&&(pl.title.yanchor=pl.title.y<.5?"bottom":"top")));var dl=bl("uniformtext.mode");dl&&bl("uniformtext.minsize"),bl("autosize",!(cl.width&&cl.height)),bl("width"),bl("height"),bl("minreducedwidth"),bl("minreducedheight"),bl("margin.l"),bl("margin.r"),bl("margin.t"),bl("margin.b"),bl("margin.pad"),bl("margin.autoexpand"),cl.width&&cl.height&&Y.sanitizeMargins(pl),F.getComponentMethod("grid","sizeDefaults")(cl,pl),bl("paper_bgcolor"),bl("separators",it.decimal+it.thousands),bl("hidesources"),bl("colorway"),bl("datarevision");var Il=bl("uirevision");bl("editrevision",Il),bl("selectionrevision",Il),F.getComponentMethod("modebar","supplyLayoutDefaults")(cl,pl),F.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(cl,pl,bl),F.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(cl,pl,bl),bl("meta"),x.isPlainObject(cl.transition)&&(bl("transition.duration"),bl("transition.easing"),bl("transition.ordering")),F.getComponentMethod("calendars","handleDefaults")(cl,pl,"calendar"),F.getComponentMethod("fx","supplyLayoutGlobalDefaults")(cl,pl,bl),x.coerce(cl,pl,Z,"scattermode")};function sl(cl){return typeof cl=="string"&&cl.substr(cl.length-2)==="px"&&parseFloat(cl)}Y.plotAutoSize=function(cl,pl,it){var bl=cl._context||{},Ll=bl.frameMargins,nl,ve,_t=x.isPlotDiv(cl);if(_t&&cl.emit("plotly_autosize"),bl.fillFrame)nl=window.innerWidth,ve=window.innerHeight,document.body.style.overflow="hidden";else{var ol=_t?window.getComputedStyle(cl):{};if(nl=sl(ol.width)||sl(ol.maxWidth)||it.width,ve=sl(ol.height)||sl(ol.maxHeight)||it.height,P(Ll)&&Ll>0){var dl=1-2*Ll;nl=Math.round(dl*nl),ve=Math.round(dl*ve)}}var Il=Y.layoutAttributes.width.min,ql=Y.layoutAttributes.height.min;nl<Il&&(nl=Il),ve<ql&&(ve=ql);var Zl=!pl.width&&Math.abs(it.width-nl)>1,Bu=!pl.height&&Math.abs(it.height-ve)>1;(Bu||Zl)&&(Zl&&(it.width=nl),Bu&&(it.height=ve)),cl._initialAutoSize||(cl._initialAutoSize={width:nl,height:ve}),Y.sanitizeMargins(it)},Y.supplyLayoutModuleDefaults=function(cl,pl,it,bl){var Ll=F.componentsRegistry,nl=pl._basePlotModules,ve,_t,ol,dl=F.subplotsRegistry.cartesian;for(ve in Ll)ol=Ll[ve],ol.includeBasePlot&&ol.includeBasePlot(cl,pl);nl.length||nl.push(dl),pl._has("cartesian")&&(F.getComponentMethod("grid","contentDefaults")(cl,pl),dl.finalizeSubplots(cl,pl));for(var Il in pl._subplots)pl._subplots[Il].sort(x.subplotSort);for(_t=0;_t<nl.length;_t++)ol=nl[_t],ol.supplyLayoutDefaults&&ol.supplyLayoutDefaults(cl,pl,it);var ql=pl._modules;for(_t=0;_t<ql.length;_t++)ol=ql[_t],ol.supplyLayoutDefaults&&ol.supplyLayoutDefaults(cl,pl,it);var Zl=pl._transformModules;for(_t=0;_t<Zl.length;_t++)ol=Zl[_t],ol.supplyLayoutDefaults&&ol.supplyLayoutDefaults(cl,pl,it,bl);for(ve in Ll)ol=Ll[ve],ol.supplyLayoutDefaults&&ol.supplyLayoutDefaults(cl,pl,it)},Y.purge=function(cl){var pl=cl._fullLayout||{};pl._glcontainer!==void 0&&(pl._glcontainer.selectAll(".gl-canvas").remove(),pl._glcontainer.remove(),pl._glcanvas=null),pl._modeBar&&pl._modeBar.destroy(),cl._transitionData&&(cl._transitionData._interruptCallbacks&&(cl._transitionData._interruptCallbacks.length=0),cl._transitionData._animationRaf&&window.cancelAnimationFrame(cl._transitionData._animationRaf)),x.clearThrottle(),x.clearResponsive(cl),delete cl.data,delete cl.layout,delete cl._fullData,delete cl._fullLayout,delete cl.calcdata,delete cl.empty,delete cl.fid,delete cl.undoqueue,delete cl.undonum,delete cl.autoplay,delete cl.changed,delete cl._promises,delete cl._redrawTimer,delete cl._hmlumcount,delete cl._hmpixcount,delete cl._transitionData,delete cl._transitioning,delete cl._initialAutoSize,delete cl._transitioningWithDuration,delete cl._dragging,delete cl._dragged,delete cl._dragdata,delete cl._hoverdata,delete cl._snapshotInProgress,delete cl._editing,delete cl._mouseDownTime,delete cl._legendMouseDownTime,cl.removeAllListeners&&cl.removeAllListeners()},Y.style=function(cl){var pl=cl._fullLayout._visibleModules,it=[],bl;for(bl=0;bl<pl.length;bl++){var Ll=pl[bl];Ll.style&&x.pushUnique(it,Ll.style)}for(bl=0;bl<it.length;bl++)it[bl](cl)},Y.sanitizeMargins=function(cl){if(!(!cl||!cl.margin)){var pl=cl.width,it=cl.height,bl=cl.margin,Ll=pl-(bl.l+bl.r),nl=it-(bl.t+bl.b),ve;Ll<0&&(ve=(pl-1)/(bl.l+bl.r),bl.l=Math.floor(ve*bl.l),bl.r=Math.floor(ve*bl.r)),nl<0&&(ve=(it-1)/(bl.t+bl.b),bl.t=Math.floor(ve*bl.t),bl.b=Math.floor(ve*bl.b))}},Y.clearAutoMarginIds=function(cl){cl._fullLayout._pushmarginIds={}},Y.allowAutoMargin=function(cl,pl){cl._fullLayout._pushmarginIds[pl]=1};function vl(cl){var pl=cl.margin;if(!cl._size){var it=cl._size={l:Math.round(pl.l),r:Math.round(pl.r),t:Math.round(pl.t),b:Math.round(pl.b),p:Math.round(pl.pad)};it.w=Math.round(cl.width)-it.l-it.r,it.h=Math.round(cl.height)-it.t-it.b}cl._pushmargin||(cl._pushmargin={}),cl._pushmarginIds||(cl._pushmarginIds={}),cl._reservedMargin||(cl._reservedMargin={})}var yl=2,Fn=2;Y.autoMargin=function(cl,pl,it){var bl=cl._fullLayout,Ll=bl.width,nl=bl.height,ve=bl.margin,_t=bl.minreducedwidth,ol=bl.minreducedheight,dl=x.constrain(Ll-ve.l-ve.r,yl,_t),Il=x.constrain(nl-ve.t-ve.b,Fn,ol),ql=Math.max(0,Ll-dl),Zl=Math.max(0,nl-Il),Bu=bl._pushmargin,Ju=bl._pushmarginIds;if(ve.autoexpand!==!1){if(!it)delete Bu[pl],delete Ju[pl];else{var yd=it.pad;if(yd===void 0&&(yd=Math.min(12,ve.l,ve.r,ve.t,ve.b)),ql){var Hd=(it.l+it.r)/ql;Hd>1&&(it.l/=Hd,it.r/=Hd)}if(Zl){var Rd=(it.t+it.b)/Zl;Rd>1&&(it.t/=Rd,it.b/=Rd)}var Ed=it.xl!==void 0?it.xl:it.x,_u=it.xr!==void 0?it.xr:it.x,Nu=it.yt!==void 0?it.yt:it.y,Gl=it.yb!==void 0?it.yb:it.y;Bu[pl]={l:{val:Ed,size:it.l+yd},r:{val:_u,size:it.r+yd},b:{val:Gl,size:it.b+yd},t:{val:Nu,size:it.t+yd}},Ju[pl]=1}if(!bl._replotting)return Y.doAutoMargin(cl)}};function xl(cl){if("_redrawFromAutoMarginCount"in cl._fullLayout)return!1;var pl=U.list(cl,"",!0);for(var it in pl)if(pl[it].autoshift||pl[it].shift)return!0;return!1}Y.doAutoMargin=function(cl){var pl=cl._fullLayout,it=pl.width,bl=pl.height;pl._size||(pl._size={}),vl(pl);var Ll=pl._size,nl=pl.margin,ve={t:0,b:0,l:0,r:0},_t=x.extendFlat({},Ll),ol=nl.l,dl=nl.r,Il=nl.t,ql=nl.b,Zl=pl._pushmargin,Bu=pl._pushmarginIds,Ju=pl.minreducedwidth,yd=pl.minreducedheight;if(nl.autoexpand!==!1){for(var Hd in Zl)Bu[Hd]||delete Zl[Hd];var Rd=cl._fullLayout._reservedMargin;for(var Ed in Rd)for(var _u in Rd[Ed]){var Nu=Rd[Ed][_u];ve[_u]=Math.max(ve[_u],Nu)}Zl.base={l:{val:0,size:ol},r:{val:1,size:dl},t:{val:1,size:Il},b:{val:0,size:ql}};for(var Gl in ve){var rd=0;for(var Sd in Zl)Sd!=="base"&&P(Zl[Sd][Gl].size)&&(rd=Zl[Sd][Gl].size>rd?Zl[Sd][Gl].size:rd);var Pd=Math.max(0,nl[Gl]-rd);ve[Gl]=Math.max(0,ve[Gl]-Pd)}for(var Ud in Zl){var $d=Zl[Ud].l||{},th=Zl[Ud].b||{},sh=$d.val,ah=$d.size,Ah=th.val,Yd=th.size,Ph=it-ve.r-ve.l,jh=bl-ve.t-ve.b;for(var Th in Zl){if(P(ah)&&Zl[Th].r){var Xh=Zl[Th].r.val,Pu=Zl[Th].r.size;if(Xh>sh){var sd=(ah*Xh+(Pu-Ph)*sh)/(Xh-sh),_l=(Pu*(1-sh)+(ah-Ph)*(1-Xh))/(Xh-sh);sd+_l>ol+dl&&(ol=sd,dl=_l)}}if(P(Yd)&&Zl[Th].t){var Ul=Zl[Th].t.val,Jl=Zl[Th].t.size;if(Ul>Ah){var Hu=(Yd*Ul+(Jl-jh)*Ah)/(Ul-Ah),Ku=(Jl*(1-Ah)+(Yd-jh)*(1-Ul))/(Ul-Ah);Hu+Ku>ql+Il&&(ql=Hu,Il=Ku)}}}}}var fd=x.constrain(it-nl.l-nl.r,yl,Ju),bd=x.constrain(bl-nl.t-nl.b,Fn,yd),Nd=Math.max(0,it-fd),Fd=Math.max(0,bl-bd);if(Nd){var zd=(ol+dl)/Nd;zd>1&&(ol/=zd,dl/=zd)}if(Fd){var lh=(ql+Il)/Fd;lh>1&&(ql/=lh,Il/=lh)}if(Ll.l=Math.round(ol)+ve.l,Ll.r=Math.round(dl)+ve.r,Ll.t=Math.round(Il)+ve.t,Ll.b=Math.round(ql)+ve.b,Ll.p=Math.round(nl.pad),Ll.w=Math.round(it)-Ll.l-Ll.r,Ll.h=Math.round(bl)-Ll.t-Ll.b,!pl._replotting&&(Y.didMarginChange(_t,Ll)||xl(cl))){"_redrawFromAutoMarginCount"in pl?pl._redrawFromAutoMarginCount++:pl._redrawFromAutoMarginCount=1;var hh=3*(1+Object.keys(Bu).length);if(pl._redrawFromAutoMarginCount<hh)return F.call("_doPlot",cl);pl._size=_t,x.warn("Too many auto-margin redraws.")}wl(cl)};function wl(cl){var pl=U.list(cl,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(it){for(var bl=0;bl<pl.length;bl++){var Ll=pl[bl][it];Ll&&Ll()}})}var kl=["l","r","t","b","p","w","h"];Y.didMarginChange=function(cl,pl){for(var it=0;it<kl.length;it++){var bl=kl[it],Ll=cl[bl],nl=pl[bl];if(!P(Ll)||Math.abs(nl-Ll)>1)return!0}return!1},Y.graphJson=function(cl,pl,it,bl,Ll,nl){(Ll&&pl&&!cl._fullData||Ll&&!pl&&!cl._fullLayout)&&Y.supplyDefaults(cl);var ve=Ll?cl._fullData:cl.data,_t=Ll?cl._fullLayout:cl.layout,ol=(cl._transitionData||{})._frames;function dl(Zl,Bu){if(typeof Zl=="function")return Bu?"_function_":null;if(x.isPlainObject(Zl)){var Ju={},yd;return Object.keys(Zl).sort().forEach(function(_u){if(["_","["].indexOf(_u.charAt(0))===-1){if(typeof Zl[_u]=="function"){Bu&&(Ju[_u]="_function");return}if(it==="keepdata"){if(_u.substr(_u.length-3)==="src")return}else if(it==="keepstream"){if(yd=Zl[_u+"src"],typeof yd=="string"&&yd.indexOf(":")>0&&!x.isPlainObject(Zl.stream))return}else if(it!=="keepall"&&(yd=Zl[_u+"src"],typeof yd=="string"&&yd.indexOf(":")>0))return;Ju[_u]=dl(Zl[_u],Bu)}}),Ju}var Hd=Array.isArray(Zl),Rd=x.isTypedArray(Zl);if((Hd||Rd)&&Zl.dtype&&Zl.shape){var Ed=Zl.bdata;return dl({dtype:Zl.dtype,shape:Zl.shape,bdata:x.isArrayBuffer(Ed)?R.encode(Ed):Ed},Bu)}return Hd?Zl.map(function(_u){return dl(_u,Bu)}):Rd?x.simpleMap(Zl,x.identity):x.isJSDate(Zl)?x.ms2DateTimeLocal(+Zl):Zl}var Il={data:(ve||[]).map(function(Zl){var Bu=dl(Zl);return pl&&delete Bu.fit,Bu})};if(!pl&&(Il.layout=dl(_t),Ll)){var ql=_t._size;Il.layout.computed={margin:{b:ql.b,l:ql.l,r:ql.r,t:ql.t}}}return ol&&(Il.frames=dl(ol)),nl&&(Il.config=dl(cl._context,!0)),bl==="object"?Il:JSON.stringify(Il)},Y.modifyFrames=function(cl,pl){var it,bl,Ll,nl=cl._transitionData._frames,ve=cl._transitionData._frameHash;for(it=0;it<pl.length;it++)switch(bl=pl[it],bl.type){case"replace":Ll=bl.value;var _t=(nl[bl.index]||{}).name,ol=Ll.name;nl[bl.index]=ve[ol]=Ll,ol!==_t&&(delete ve[_t],ve[ol]=Ll);break;case"insert":Ll=bl.value,ve[Ll.name]=Ll,nl.splice(bl.index,0,Ll);break;case"delete":Ll=nl[bl.index],delete ve[Ll.name],nl.splice(bl.index,1);break}return Promise.resolve()},Y.computeFrame=function(cl,pl){var it=cl._transitionData._frameHash,bl,Ll,nl,ve;if(!pl)throw new Error("computeFrame must be given a string frame name");var _t=it[pl.toString()];if(!_t)return!1;for(var ol=[_t],dl=[_t.name];_t.baseframe&&(_t=it[_t.baseframe.toString()])&&dl.indexOf(_t.name)===-1;)ol.push(_t),dl.push(_t.name);for(var Il={};_t=ol.pop();)if(_t.layout&&(Il.layout=Y.extendLayout(Il.layout,_t.layout)),_t.data){if(Il.data||(Il.data=[]),Ll=_t.traces,!Ll)for(Ll=[],bl=0;bl<_t.data.length;bl++)Ll[bl]=bl;for(Il.traces||(Il.traces=[]),bl=0;bl<_t.data.length;bl++)nl=Ll[bl],nl!=null&&(ve=Il.traces.indexOf(nl),ve===-1&&(ve=Il.data.length,Il.traces[ve]=nl),Il.data[ve]=Y.extendTrace(Il.data[ve],_t.data[bl]))}return Il},Y.recomputeFrameHash=function(cl){for(var pl=cl._transitionData._frameHash={},it=cl._transitionData._frames,bl=0;bl<it.length;bl++){var Ll=it[bl];Ll&&Ll.name&&(pl[Ll.name]=Ll)}},Y.extendObjectWithContainers=function(cl,pl,it){var bl,Ll,nl,ve,_t,ol,dl,Il,ql=x.extendDeepNoArrays({},pl||{}),Zl=x.expandObjectPaths(ql),Bu={};if(it&&it.length)for(nl=0;nl<it.length;nl++)bl=x.nestedProperty(Zl,it[nl]),Ll=bl.get(),Ll===void 0?x.nestedProperty(Bu,it[nl]).set(null):(bl.set(null),x.nestedProperty(Bu,it[nl]).set(Ll));if(cl=x.extendDeepNoArrays(cl||{},Zl),it&&it.length){for(nl=0;nl<it.length;nl++)if(_t=x.nestedProperty(Bu,it[nl]),dl=_t.get(),!!dl){for(ol=x.nestedProperty(cl,it[nl]),Il=ol.get(),Array.isArray(Il)||(Il=[],ol.set(Il)),ve=0;ve<dl.length;ve++){var Ju=dl[ve];Ju===null?Il[ve]=null:Il[ve]=Y.extendObjectWithContainers(Il[ve],Ju)}ol.set(Il)}}return cl},Y.dataArrayContainers=["transforms","dimensions"],Y.layoutArrayContainers=F.layoutArrayContainers,Y.extendTrace=function(cl,pl){return Y.extendObjectWithContainers(cl,pl,Y.dataArrayContainers)},Y.extendLayout=function(cl,pl){return Y.extendObjectWithContainers(cl,pl,Y.layoutArrayContainers)},Y.transition=function(cl,pl,it,bl,Ll,nl){var ve={redraw:Ll.redraw},_t={},ol=[];return ve.prepareFn=function(){for(var dl=Array.isArray(pl)?pl.length:0,Il=bl.slice(0,dl),ql=0;ql<Il.length;ql++){var Zl=Il[ql],Bu=cl._fullData[Zl],Ju=Bu._module;if(Ju){if(Ju.animatable){var yd=Ju.basePlotModule.name;_t[yd]||(_t[yd]=[]),_t[yd].push(Zl)}cl.data[Il[ql]]=Y.extendTrace(cl.data[Il[ql]],pl[ql])}}var Hd=x.expandObjectPaths(x.extendDeepNoArrays({},it)),Rd=/^[xy]axis[0-9]*$/;for(var Ed in Hd)Rd.test(Ed)&&delete Hd[Ed].range;Y.extendLayout(cl.layout,Hd),delete cl.calcdata,Y.supplyDefaults(cl),Y.doCalcdata(cl);var _u=x.expandObjectPaths(it);if(_u){var Nu=cl._fullLayout._plots;for(var Gl in Nu){var rd=Nu[Gl],Sd=rd.xaxis,Pd=rd.yaxis,Ud=Sd.range.slice(),$d=Pd.range.slice(),th=null,sh=null,ah=null,Ah=null;Array.isArray(_u[Sd._name+".range"])?th=_u[Sd._name+".range"].slice():Array.isArray((_u[Sd._name]||{}).range)&&(th=_u[Sd._name].range.slice()),Array.isArray(_u[Pd._name+".range"])?sh=_u[Pd._name+".range"].slice():Array.isArray((_u[Pd._name]||{}).range)&&(sh=_u[Pd._name].range.slice()),Ud&&th&&(Sd.r2l(Ud[0])!==Sd.r2l(th[0])||Sd.r2l(Ud[1])!==Sd.r2l(th[1]))&&(ah={xr0:Ud,xr1:th}),$d&&sh&&(Pd.r2l($d[0])!==Pd.r2l(sh[0])||Pd.r2l($d[1])!==Pd.r2l(sh[1]))&&(Ah={yr0:$d,yr1:sh}),(ah||Ah)&&ol.push(x.extendFlat({plotinfo:rd},ah,Ah))}}return Promise.resolve()},ve.runFn=function(dl){var Il,ql=cl._fullLayout._basePlotModules,Zl=ol.length,Bu;if(it)for(Bu=0;Bu<ql.length;Bu++)ql[Bu].transitionAxes&&ql[Bu].transitionAxes(cl,ol,nl,dl);Zl?(Il=x.extendFlat({},nl),Il.duration=0,delete _t.cartesian):Il=nl;for(var Ju in _t){var yd=_t[Ju],Hd=cl._fullData[yd[0]]._module;Hd.basePlotModule.plot(cl,yd,Il,dl)}},Dl(cl,nl,ve)},Y.transitionFromReact=function(cl,pl,it,bl){var Ll=cl._fullLayout,nl=Ll.transition,ve={},_t=[];return ve.prepareFn=function(){var ol=Ll._plots;ve.redraw=!1,pl.anim==="some"&&(ve.redraw=!0),it.anim==="some"&&(ve.redraw=!0);for(var dl in ol){var Il=ol[dl],ql=Il.xaxis,Zl=Il.yaxis,Bu=bl[ql._name].range.slice(),Ju=bl[Zl._name].range.slice(),yd=ql.range.slice(),Hd=Zl.range.slice();ql.setScale(),Zl.setScale();var Rd=null,Ed=null;(ql.r2l(Bu[0])!==ql.r2l(yd[0])||ql.r2l(Bu[1])!==ql.r2l(yd[1]))&&(Rd={xr0:Bu,xr1:yd}),(Zl.r2l(Ju[0])!==Zl.r2l(Hd[0])||Zl.r2l(Ju[1])!==Zl.r2l(Hd[1]))&&(Ed={yr0:Ju,yr1:Hd}),(Rd||Ed)&&_t.push(x.extendFlat({plotinfo:Il},Rd,Ed))}return Promise.resolve()},ve.runFn=function(ol){for(var dl=cl._fullData,Il=cl._fullLayout,ql=Il._basePlotModules,Zl,Bu,Ju,yd=[],Hd=0;Hd<dl.length;Hd++)yd.push(Hd);function Rd(){if(cl._fullLayout)for(var _u=0;_u<ql.length;_u++)ql[_u].transitionAxes&&ql[_u].transitionAxes(cl,_t,Zl,ol)}function Ed(){if(cl._fullLayout)for(var _u=0;_u<ql.length;_u++)ql[_u].plot(cl,Ju,Bu,ol)}_t.length&&pl.anim?nl.ordering==="traces first"?(Zl=x.extendFlat({},nl,{duration:0}),Ju=yd,Bu=nl,setTimeout(Rd,nl.duration),Ed()):(Zl=nl,Ju=null,Bu=x.extendFlat({},nl,{duration:0}),setTimeout(Ed,Zl.duration),Rd()):_t.length?(Zl=nl,Rd()):pl.anim&&(Ju=yd,Bu=nl,Ed())},Dl(cl,nl,ve)};function Dl(cl,pl,it){var bl=!1;function Ll(ql){var Zl=Promise.resolve();if(!ql)return Zl;for(;ql.length;)Zl=Zl.then(ql.shift());return Zl}function nl(ql){if(ql)for(;ql.length;)ql.shift()}function ve(){return cl.emit("plotly_transitioning",[]),new Promise(function(ql){cl._transitioning=!0,pl.duration>0&&(cl._transitioningWithDuration=!0),cl._transitionData._interruptCallbacks.push(function(){bl=!0}),it.redraw&&cl._transitionData._interruptCallbacks.push(function(){return F.call("redraw",cl)}),cl._transitionData._interruptCallbacks.push(function(){cl.emit("plotly_transitioninterrupted",[])});var Zl=0,Bu=0;function Ju(){return Zl++,function(){Bu++,!bl&&Bu===Zl&&_t(ql)}}it.runFn(Ju),setTimeout(Ju())})}function _t(ql){if(cl._transitionData)return nl(cl._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(it.redraw)return F.call("redraw",cl)}).then(function(){cl._transitioning=!1,cl._transitioningWithDuration=!1,cl.emit("plotly_transitioned",[])}).then(ql)}function ol(){if(cl._transitionData)return cl._transitioning=!1,Ll(cl._transitionData._interruptCallbacks)}var dl=[Y.previousPromises,ol,it.prepareFn,Y.rehover,Y.reselect,ve],Il=x.syncOrAsync(dl,cl);return(!Il||!Il.then)&&(Il=Promise.resolve()),Il.then(function(){return cl})}Y.doCalcdata=function(cl,pl){var it=U.list(cl),bl=cl._fullData,Ll=cl._fullLayout,nl,ve,_t,ol,dl=new Array(bl.length),Il=(cl.calcdata||[]).slice();for(cl.calcdata=dl,Ll._numBoxes=0,Ll._numViolins=0,Ll._violinScaleGroupStats={},cl._hmpixcount=0,cl._hmlumcount=0,Ll._piecolormap={},Ll._sunburstcolormap={},Ll._treemapcolormap={},Ll._iciclecolormap={},Ll._funnelareacolormap={},_t=0;_t<bl.length;_t++)if(Array.isArray(pl)&&pl.indexOf(_t)===-1){dl[_t]=Il[_t];continue}for(_t=0;_t<bl.length;_t++)nl=bl[_t],nl._arrayAttrs=I.findArrayAttributes(nl),nl._extremes={};var ql=Ll._subplots.polar||[];for(_t=0;_t<ql.length;_t++)it.push(Ll[ql[_t]].radialaxis,Ll[ql[_t]].angularaxis);for(var Zl in Ll._colorAxes){var Bu=Ll[Zl];Bu.cauto!==!1&&(delete Bu.cmin,delete Bu.cmax)}var Ju=!1;function yd(Ed){if(nl=bl[Ed],ve=nl._module,nl.visible===!0&&nl.transforms){if(ve&&ve.calc){var _u=ve.calc(cl,nl);_u[0]&&_u[0].t&&_u[0].t._scene&&delete _u[0].t._scene.dirty}for(ol=0;ol<nl.transforms.length;ol++){var Nu=nl.transforms[ol];ve=transformsRegistry[Nu.type],ve&&ve.calcTransform&&(nl._hasCalcTransform=!0,Ju=!0,ve.calcTransform(cl,nl,Nu))}}}function Hd(Ed,_u){if(nl=bl[Ed],ve=nl._module,!!ve.isContainer===_u){var Nu=[];if(nl.visible===!0&&nl._length!==0){delete nl._indexToPoints;var Gl=nl.transforms||[];for(ol=Gl.length-1;ol>=0;ol--)if(Gl[ol].enabled){nl._indexToPoints=Gl[ol]._indexToPoints;break}ve&&ve.calc&&(Nu=ve.calc(cl,nl))}(!Array.isArray(Nu)||!Nu[0])&&(Nu=[{x:z,y:z}]),Nu[0].t||(Nu[0].t={}),Nu[0].trace=nl,dl[Ed]=Nu}}for(yu(it,bl,Ll),_t=0;_t<bl.length;_t++)Hd(_t,!0);for(_t=0;_t<bl.length;_t++)yd(_t);for(Ju&&yu(it,bl,Ll),_t=0;_t<bl.length;_t++)Hd(_t,!0);for(_t=0;_t<bl.length;_t++)Hd(_t,!1);Iu(cl);var Rd=gu(it,cl);if(Rd.length){for(Ll._numBoxes=0,Ll._numViolins=0,_t=0;_t<Rd.length;_t++)Hd(Rd[_t],!0);for(_t=0;_t<Rd.length;_t++)Hd(Rd[_t],!1);Iu(cl)}F.getComponentMethod("fx","calc")(cl),F.getComponentMethod("errorbars","calc")(cl)};var Ol=/(total|sum|min|max|mean|geometric mean|median) (ascending|descending)/;function gu(cl,pl){var it=[],bl,Ll,nl,ve,_t;function ol(Th,Xh,Pu){var sd=Xh._id.charAt(0);if(Th==="histogram2dcontour"){var _l=Xh._counterAxes[0],Ul=U.getFromId(pl,_l),Jl=sd==="x"||_l==="x"&&Ul.type==="category",Hu=sd==="y"||_l==="y"&&Ul.type==="category";return function(Ku,fd){return Ku===0||fd===0||Jl&&Ku===Pu[fd].length-1||Hu&&fd===Pu.length-1?-1:(sd==="y"?fd:Ku)-1}}else return function(Ku,fd){return sd==="y"?fd:Ku}}var dl={min:function(Th){return x.aggNums(Math.min,null,Th)},max:function(Th){return x.aggNums(Math.max,null,Th)},sum:function(Th){return x.aggNums(function(Xh,Pu){return Xh+Pu},null,Th)},total:function(Th){return x.aggNums(function(Xh,Pu){return Xh+Pu},null,Th)},mean:function(Th){return x.mean(Th)},"geometric mean":function(Th){return x.geometricMean(Th)},median:function(Th){return x.median(Th)}};function Il(Th,Xh){return Th[1]-Xh[1]}function ql(Th,Xh){return Xh[1]-Th[1]}for(bl=0;bl<cl.length;bl++){var Zl=cl[bl];if(Zl.type==="category"){var Bu=Zl.categoryorder.match(Ol);if(Bu){var Ju=Bu[1],yd=Bu[2],Hd=Zl._id.charAt(0),Rd=Hd==="x",Ed=[];for(Ll=0;Ll<Zl._categories.length;Ll++)Ed.push([Zl._categories[Ll],[]]);for(Ll=0;Ll<Zl._traceIndices.length;Ll++){var _u=Zl._traceIndices[Ll],Nu=pl._fullData[_u];if(Nu.visible===!0){var Gl=Nu.type;F.traceIs(Nu,"histogram")&&(delete Nu._xautoBinFinished,delete Nu._yautoBinFinished);var rd=Gl==="splom",Sd=Gl==="scattergl",Pd=pl.calcdata[_u];for(nl=0;nl<Pd.length;nl++){var Ud=Pd[nl],$d,th;if(rd){var sh=Nu._axesDim[Zl._id];if(!Rd){var ah=Nu._diag[sh][0];ah&&(Zl=pl._fullLayout[U.id2name(ah)])}var Ah=Ud.trace.dimensions[sh].values;for(ve=0;ve<Ah.length;ve++)for($d=Zl._categoriesMap[Ah[ve]],_t=0;_t<Ud.trace.dimensions.length;_t++)if(_t!==sh){var Yd=Ud.trace.dimensions[_t];Ed[$d][1].push(Yd.values[ve])}}else if(Sd){for(ve=0;ve<Ud.t.x.length;ve++)Rd?($d=Ud.t.x[ve],th=Ud.t.y[ve]):($d=Ud.t.y[ve],th=Ud.t.x[ve]),Ed[$d][1].push(th);Ud.t&&Ud.t._scene&&delete Ud.t._scene.dirty}else if(Ud.hasOwnProperty("z")){th=Ud.z;var Ph=ol(Nu.type,Zl,th);for(ve=0;ve<th.length;ve++)for(_t=0;_t<th[ve].length;_t++)$d=Ph(_t,ve),$d+1&&Ed[$d][1].push(th[ve][_t])}else for($d=Ud.p,$d===void 0&&($d=Ud[Hd]),th=Ud.s,th===void 0&&(th=Ud.v),th===void 0&&(th=Rd?Ud.y:Ud.x),Array.isArray(th)||(th===void 0?th=[]:th=[th]),ve=0;ve<th.length;ve++)Ed[$d][1].push(th[ve])}}}Zl._categoriesValue=Ed;var jh=[];for(Ll=0;Ll<Ed.length;Ll++)jh.push([Ed[Ll][0],dl[Ju](Ed[Ll][1])]);jh.sort(yd==="descending"?ql:Il),Zl._categoriesAggregatedValue=jh,Zl._initialCategories=jh.map(function(Th){return Th[0]}),it=it.concat(Zl.sortByInitialCategories())}}}return it}function yu(cl,pl,it){var bl={};function Ll(ol){ol.clearCalc(),ol.type==="multicategory"&&ol.setupMultiCategory(pl),bl[ol._id]=1}x.simpleMap(cl,Ll);for(var nl=it._axisMatchGroups||[],ve=0;ve<nl.length;ve++)for(var _t in nl[ve])bl[_t]||Ll(it[U.id2name(_t)])}function Iu(cl){var pl=cl._fullLayout,it=pl._visibleModules,bl={},Ll,nl,ve;for(nl=0;nl<it.length;nl++){var _t=it[nl],ol=_t.crossTraceCalc;if(ol){var dl=_t.basePlotModule.name;bl[dl]?x.pushUnique(bl[dl],ol):bl[dl]=[ol]}}for(ve in bl){var Il=bl[ve],ql=pl._subplots[ve];if(Array.isArray(ql))for(Ll=0;Ll<ql.length;Ll++){var Zl=ql[Ll],Bu=ve==="cartesian"?pl._plots[Zl]:pl[Zl];for(nl=0;nl<Il.length;nl++)Il[nl](cl,Bu,Zl)}else for(nl=0;nl<Il.length;nl++)Il[nl](cl)}}Y.rehover=function(cl){cl._fullLayout._rehover&&cl._fullLayout._rehover()},Y.redrag=function(cl){cl._fullLayout._redrag&&cl._fullLayout._redrag()},Y.reselect=function(cl){var pl=cl._fullLayout,it=(cl.layout||{}).selections,bl=pl._previousSelections;pl._previousSelections=it;var Ll=pl._reselect||JSON.stringify(it)!==JSON.stringify(bl);F.getComponentMethod("selections","reselect")(cl,Ll)},Y.generalUpdatePerTraceModule=function(cl,pl,it,bl){var Ll=pl.traceHash,nl={},ve;for(ve=0;ve<it.length;ve++){var _t=it[ve],ol=_t[0].trace;ol.visible&&(nl[ol.type]=nl[ol.type]||[],nl[ol.type].push(_t))}for(var dl in Ll)if(!nl[dl]){var Il=Ll[dl][0],ql=Il[0].trace;ql.visible=!1,nl[dl]=[Il]}for(var Zl in nl){var Bu=nl[Zl],Ju=Bu[0][0].trace._module;Ju.plot(cl,pl,x.filterVisible(Bu),bl)}pl.traceHash=nl},Y.plotBasePlot=function(cl,pl,it,bl,Ll){var nl=F.getModule(cl),ve=J(pl.calcdata,nl)[0];nl.plot(pl,ve,bl,Ll)},Y.cleanBasePlot=function(cl,pl,it,bl,Ll){var nl=Ll._has&&Ll._has(cl),ve=it._has&&it._has(cl);nl&&!ve&&Ll["_"+cl+"layer"].selectAll("g.trace").remove()}}),og=o(rl=>{rl.xmlns="http://www.w3.org/2000/xmlns/",rl.svg="http://www.w3.org/2000/svg",rl.xlink="http://www.w3.org/1999/xlink",rl.svgAttrs={xmlns:rl.svg,"xmlns:xlink":rl.xlink}}),i0=o((rl,In)=>{In.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}}),ag=o(rl=>{var In=f(),A=ls(),v=A.strTranslate,C=og(),P=i0().LINE_SPACING,R=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;rl.convertToTspans=function(Fn,xl,wl){var kl=Fn.text(),Dl=!Fn.attr("data-notex")&&xl&&xl._context.typesetMath&&typeof MathJax<"u"&&kl.match(R),Ol=In.select(Fn.node().parentNode);if(Ol.empty())return;var gu=Fn.attr("class")?Fn.attr("class").split(" ")[0]:"text";gu+="-math",Ol.selectAll("svg."+gu).remove(),Ol.selectAll("g."+gu+"-group").remove(),Fn.style("display",null).attr({"data-unformatted":kl,"data-math":"N"});function yu(){Ol.empty()||(gu=Fn.attr("class")+"-math",Ol.select("svg."+gu).remove()),Fn.text("").style("white-space","pre");var Iu=il(Fn.node(),kl);Iu&&Fn.style("pointer-events","all"),rl.positionText(Fn),wl&&wl.call(Fn)}return Dl?(xl&&xl._promises||[]).push(new Promise(function(Iu){Fn.style("display","none");var cl=parseInt(Fn.node().style.fontSize,10),pl={fontSize:cl};W(Dl[2],pl,function(it,bl,Ll){Ol.selectAll("svg."+gu).remove(),Ol.selectAll("g."+gu+"-group").remove();var nl=it&&it.select("svg");if(!nl||!nl.node()){yu(),Iu();return}var ve=Ol.append("g").classed(gu+"-group",!0).attr({"pointer-events":"none","data-unformatted":kl,"data-math":"Y"});ve.node().appendChild(nl.node()),bl&&bl.node()&&nl.node().insertBefore(bl.node().cloneNode(!0),nl.node().firstChild);var _t=Ll.width,ol=Ll.height;nl.attr({class:gu,height:ol,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var dl=Fn.node().style.fill||"black",Il=nl.select("g");Il.attr({fill:dl,stroke:dl});var ql=Il.node().getBoundingClientRect(),Zl=ql.width,Bu=ql.height;(Zl>_t||Bu>ol)&&(nl.style("overflow","hidden"),ql=nl.node().getBoundingClientRect(),Zl=ql.width,Bu=ql.height);var Ju=+Fn.attr("x"),yd=+Fn.attr("y"),Hd=cl||Fn.node().getBoundingClientRect().height,Rd=-Hd/4;if(gu[0]==="y")ve.attr({transform:"rotate("+[-90,Ju,yd]+")"+v(-Zl/2,Rd-Bu/2)});else if(gu[0]==="l")yd=Rd-Bu/2;else if(gu[0]==="a"&&gu.indexOf("atitle")!==0)Ju=0,yd=Rd;else{var Ed=Fn.attr("text-anchor");Ju=Ju-Zl*(Ed==="middle"?.5:Ed==="end"?1:0),yd=yd+Rd-Bu/2}nl.attr({x:Ju,y:yd}),wl&&wl.call(Fn,ve),Iu(ve)})})):yu(),Fn};var F=/(<|&lt;|&#60;)/g,I=/(>|&gt;|&#62;)/g;function B(Fn){return Fn.replace(F,"\\lt ").replace(I,"\\gt ")}var x=[["$","$"],["\\(","\\)"]];function W(Fn,xl,wl){var kl=parseInt((MathJax.version||"").split(".")[0]);if(kl!==2&&kl!==3){A.warn("No MathJax version:",MathJax.version);return}var Dl,Ol,gu,yu,Iu=function(){return Ol=A.extendDeepAll({},MathJax.Hub.config),gu=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:x},displayAlign:"left"})},cl=function(){Ol=A.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=x},pl=function(){if(Dl=MathJax.Hub.config.menuSettings.renderer,Dl!=="SVG")return MathJax.Hub.setRenderer("SVG")},it=function(){Dl=MathJax.config.startup.output,Dl!=="svg"&&(MathJax.config.startup.output="svg")},bl=function(){var dl="math-output-"+A.randstr({},64);yu=In.select("body").append("div").attr({id:dl}).style({visibility:"hidden",position:"absolute","font-size":xl.fontSize+"px"}).text(B(Fn));var Il=yu.node();return kl===2?MathJax.Hub.Typeset(Il):MathJax.typeset([Il])},Ll=function(){var dl=yu.select(kl===2?".MathJax_SVG":".MathJax"),Il=!dl.empty()&&yu.select("svg").node();if(!Il)A.log("There was an error in the tex syntax.",Fn),wl();else{var ql=Il.getBoundingClientRect(),Zl;kl===2?Zl=In.select("body").select("#MathJax_SVG_glyphs"):Zl=dl.select("defs"),wl(dl,Zl,ql)}yu.remove()},nl=function(){if(Dl!=="SVG")return MathJax.Hub.setRenderer(Dl)},ve=function(){Dl!=="svg"&&(MathJax.config.startup.output=Dl)},_t=function(){return gu!==void 0&&(MathJax.Hub.processSectionDelay=gu),MathJax.Hub.Config(Ol)},ol=function(){MathJax.config=Ol};kl===2?MathJax.Hub.Queue(Iu,pl,bl,Ll,nl,_t):kl===3&&(cl(),it(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){bl(),Ll(),ve(),ol()}))}var z={sup:"font-size:70%",sub:"font-size:70%",s:"text-decoration:line-through",u:"text-decoration:underline",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},U={sub:"0.3em",sup:"-0.6em"},Q={sub:"-0.21em",sup:"0.42em"},Z="",$=["http:","https:","mailto:","",void 0,":"],q=rl.NEWLINES=/(\r\n?|\n)/g,J=/(<[^<>]*>)/,O=/<(\/?)([^ >]*)(\s+(.*))?>/i,j=/<br(\s+.*)?>/i;rl.BR_TAG_ALL=/<br(\s+.*)?>/gi;var Y=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,se=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,nt=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,gl=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function Bn(Fn,xl){if(!Fn)return null;var wl=Fn.match(xl),kl=wl&&(wl[3]||wl[4]);return kl&&tl(kl)}var jt=/(^|;)\s*color:/;rl.plainText=function(Fn,xl){xl=xl||{};for(var wl=xl.len!==void 0&&xl.len!==-1?xl.len:1/0,kl=xl.allowedTags!==void 0?xl.allowedTags:["br"],Dl="...",Ol=Dl.length,gu=Fn.split(J),yu=[],Iu="",cl=0,pl=0;pl<gu.length;pl++){var it=gu[pl],bl=it.match(O),Ll=bl&&bl[2].toLowerCase();if(Ll)kl.indexOf(Ll)!==-1&&(yu.push(it),Iu=Ll);else{var nl=it.length;if(cl+nl<wl)yu.push(it),cl+=nl;else if(cl<wl){var ve=wl-cl;Iu&&(Iu!=="br"||ve<=Ol||nl<=Ol)&&yu.pop(),wl>Ol?yu.push(it.substr(0,ve-Ol)+Dl):yu.push(it.substr(0,ve));break}Iu=""}}return yu.join("")};var Pe={mu:"",amp:"&",lt:"<",gt:">",nbsp:"",times:"",plusmn:"",deg:""},ml=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function tl(Fn){return Fn.replace(ml,function(xl,wl){var kl;return wl.charAt(0)==="#"?kl=ul(wl.charAt(1)==="x"?parseInt(wl.substr(2),16):parseInt(wl.substr(1),10)):kl=Pe[wl],kl||xl})}rl.convertEntities=tl;function ul(Fn){if(!(Fn>1114111)){var xl=String.fromCodePoint;if(xl)return xl(Fn);var wl=String.fromCharCode;return Fn<=65535?wl(Fn):wl((Fn>>10)+55232,Fn%1024+56320)}}function il(Fn,xl){xl=xl.replace(q," ");var wl=!1,kl=[],Dl,Ol=-1;function gu(){Ol++;var Bu=document.createElementNS(C.svg,"tspan");In.select(Bu).attr({class:"line",dy:Ol*P+"em"}),Fn.appendChild(Bu),Dl=Bu;var Ju=kl;if(kl=[{node:Bu}],Ju.length>1)for(var yd=1;yd<Ju.length;yd++)yu(Ju[yd])}function yu(Bu){var Ju=Bu.type,yd={},Hd;if(Ju==="a"){Hd="a";var Rd=Bu.target,Ed=Bu.href,_u=Bu.popup;Ed&&(yd={"xlink:xlink:show":Rd==="_blank"||Rd.charAt(0)!=="_"?"new":"replace",target:Rd,"xlink:xlink:href":Ed},_u&&(yd.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+_u+'");return false;'))}else Hd="tspan";Bu.style&&(yd.style=Bu.style);var Nu=document.createElementNS(C.svg,Hd);if(Ju==="sup"||Ju==="sub"){Iu(Dl,Z),Dl.appendChild(Nu);var Gl=document.createElementNS(C.svg,"tspan");Iu(Gl,Z),In.select(Gl).attr("dy",Q[Ju]),yd.dy=U[Ju],Dl.appendChild(Nu),Dl.appendChild(Gl)}else Dl.appendChild(Nu);In.select(Nu).attr(yd),Dl=Bu.node=Nu,kl.push(Bu)}function Iu(Bu,Ju){Bu.appendChild(document.createTextNode(Ju))}function cl(Bu){if(kl.length===1){A.log("Ignoring unexpected end tag </"+Bu+">.",xl);return}var Ju=kl.pop();Bu!==Ju.type&&A.log("Start tag <"+Ju.type+"> doesnt match end tag <"+Bu+">. Pretending it did match.",xl),Dl=kl[kl.length-1].node}var pl=j.test(xl);pl?gu():(Dl=Fn,kl=[{node:Fn}]);for(var it=xl.split(J),bl=0;bl<it.length;bl++){var Ll=it[bl],nl=Ll.match(O),ve=nl&&nl[2].toLowerCase(),_t=z[ve];if(ve==="br")gu();else if(_t===void 0)Iu(Dl,tl(Ll));else if(nl[1])cl(ve);else{var ol=nl[4],dl={type:ve},Il=Bn(ol,Y);if(Il?(Il=Il.replace(jt,"$1 fill:"),_t&&(Il+=";"+_t)):_t&&(Il=_t),Il&&(dl.style=Il),ve==="a"){wl=!0;var ql=Bn(ol,se);if(ql){var Zl=sl(ql);Zl&&(dl.href=Zl,dl.target=Bn(ol,nt)||"_blank",dl.popup=Bn(ol,gl))}}yu(dl)}}return wl}function sl(Fn){var xl=encodeURI(decodeURI(Fn)),wl=document.createElement("a"),kl=document.createElement("a");wl.href=Fn,kl.href=xl;var Dl=wl.protocol,Ol=kl.protocol;return $.indexOf(Dl)!==-1&&$.indexOf(Ol)!==-1?xl:""}rl.sanitizeHTML=function(Fn){Fn=Fn.replace(q," ");for(var xl=document.createElement("p"),wl=xl,kl=[],Dl=Fn.split(J),Ol=0;Ol<Dl.length;Ol++){var gu=Dl[Ol],yu=gu.match(O),Iu=yu&&yu[2].toLowerCase();if(Iu in z)if(yu[1])kl.length&&(wl=kl.pop());else{var cl=yu[4],pl=Bn(cl,Y),it=pl?{style:pl}:{};if(Iu==="a"){var bl=Bn(cl,se);if(bl){var Ll=sl(bl);if(Ll){it.href=Ll;var nl=Bn(cl,nt);nl&&(it.target=nl)}}}var ve=document.createElement(Iu);wl.appendChild(ve),In.select(ve).attr(it),wl=ve,kl.push(ve)}else wl.appendChild(document.createTextNode(tl(gu)))}var _t="innerHTML";return xl[_t]},rl.lineCount=function(Fn){return Fn.selectAll("tspan.line").size()||1},rl.positionText=function(Fn,xl,wl){return Fn.each(function(){var kl=In.select(this);function Dl(yu,Iu){return Iu===void 0?(Iu=kl.attr(yu),Iu===null&&(kl.attr(yu,0),Iu=0)):kl.attr(yu,Iu),Iu}var Ol=Dl("x",xl),gu=Dl("y",wl);this.nodeName==="text"&&kl.selectAll("tspan.line").attr({x:Ol,y:gu})})};function vl(Fn,xl,wl){var kl=wl.horizontalAlign,Dl=wl.verticalAlign||"top",Ol=Fn.node().getBoundingClientRect(),gu=xl.node().getBoundingClientRect(),yu,Iu,cl;return Dl==="bottom"?Iu=function(){return Ol.bottom-yu.height}:Dl==="middle"?Iu=function(){return Ol.top+(Ol.height-yu.height)/2}:Iu=function(){return Ol.top},kl==="right"?cl=function(){return Ol.right-yu.width}:kl==="center"?cl=function(){return Ol.left+(Ol.width-yu.width)/2}:cl=function(){return Ol.left},function(){yu=this.node().getBoundingClientRect();var pl=cl()-gu.left,it=Iu()-gu.top,bl=wl.gd||{};if(wl.gd){bl._fullLayout._calcInverseTransform(bl);var Ll=A.apply3DTransform(bl._fullLayout._invTransform)(pl,it);pl=Ll[0],it=Ll[1]}return this.style({top:it+"px",left:pl+"px","z-index":1e3}),this}}var yl="1px ";rl.makeTextShadow=function(Fn){var xl=yl,wl=yl,kl=yl;return xl+wl+kl+Fn+", -"+xl+"-"+wl+kl+Fn+", "+xl+"-"+wl+kl+Fn+", -"+xl+wl+kl+Fn},rl.makeEditable=function(Fn,xl){var wl=xl.gd,kl=xl.delegate,Dl=In.dispatch("edit","input","cancel"),Ol=kl||Fn;if(Fn.style({"pointer-events":kl?"none":"all"}),Fn.size()!==1)throw new Error("boo");function gu(){Iu(),Fn.style({opacity:0});var cl=Ol.attr("class"),pl;cl?pl="."+cl.split(" ")[0]+"-math-group":pl="[class*=-math-group]",pl&&In.select(Fn.node().parentNode).select(pl).style({opacity:0})}function yu(cl){var pl=cl.node(),it=document.createRange();it.selectNodeContents(pl);var bl=window.getSelection();bl.removeAllRanges(),bl.addRange(it),pl.focus()}function Iu(){var cl=In.select(wl),pl=cl.select(".svg-container"),it=pl.append("div"),bl=Fn.node().style,Ll=parseFloat(bl.fontSize||12),nl=xl.text;nl===void 0&&(nl=Fn.attr("data-unformatted")),it.classed("plugin-editable editable",!0).style({position:"absolute","font-family":bl.fontFamily||"Arial","font-size":Ll,color:xl.fill||bl.fill||"black",opacity:1,"background-color":xl.background||"transparent",outline:"#ffffff33 1px solid",margin:[-Ll/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(nl).call(vl(Fn,pl,xl)).on("blur",function(){wl._editing=!1,Fn.text(this.textContent).style({opacity:1});var ve=In.select(this).attr("class"),_t;ve?_t="."+ve.split(" ")[0]+"-math-group":_t="[class*=-math-group]",_t&&In.select(Fn.node().parentNode).select(_t).style({opacity:0});var ol=this.textContent;In.select(this).transition().duration(0).remove(),In.select(document).on("mouseup",null),Dl.edit.call(Fn,ol)}).on("focus",function(){var ve=this;wl._editing=!0,In.select(document).on("mouseup",function(){if(In.event.target===ve)return!1;document.activeElement===it.node()&&it.node().blur()})}).on("keyup",function(){In.event.which===27?(wl._editing=!1,Fn.style({opacity:1}),In.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),Dl.cancel.call(Fn,this.textContent)):(Dl.input.call(Fn,this.textContent),In.select(this).call(vl(Fn,pl,xl)))}).on("keydown",function(){In.event.which===13&&this.blur()}).call(yu)}return xl.immediate?gu():Ol.on("click",gu),In.rebind(Fn,Dl,"on")}}),Yp=o((rl,In)=>{var A=f(),v=Kl(),C=G(),P=ls(),R=Bd(),F=Od().isValid;function I(q,J,O){var j=J?P.nestedProperty(q,J).get()||{}:q,Y=j[O||"color"];Y&&Y._inputArray&&(Y=Y._inputArray);var se=!1;if(P.isArrayOrTypedArray(Y)){for(var nt=0;nt<Y.length;nt++)if(C(Y[nt])){se=!0;break}}return P.isPlainObject(j)&&(se||j.showscale===!0||C(j.cmin)&&C(j.cmax)||F(j.colorscale)||P.isPlainObject(j.colorbar))}var B=["showscale","autocolorscale","colorscale","reversescale","colorbar"],x=["min","max","mid","auto"];function W(q){var J=q._colorAx,O=J||q,j={},Y,se,nt;for(se=0;se<B.length;se++)nt=B[se],j[nt]=O[nt];if(J)for(Y="c",se=0;se<x.length;se++)nt=x[se],j[nt]=O["c"+nt];else{var gl;for(se=0;se<x.length;se++){if(nt=x[se],gl="c"+nt,gl in O){j[nt]=O[gl];continue}gl="z"+nt,gl in O&&(j[nt]=O[gl])}Y=gl.charAt(0)}return j._sync=function(Bn,jt){var Pe=x.indexOf(Bn)!==-1?Y+Bn:Bn;O[Pe]=O["_"+Pe]=jt},j}function z(q){for(var J=W(q),O=J.min,j=J.max,Y=J.reversescale?U(J.colorscale):J.colorscale,se=Y.length,nt=new Array(se),gl=new Array(se),Bn=0;Bn<se;Bn++){var jt=Y[Bn];nt[Bn]=O+jt[0]*(j-O),gl[Bn]=jt[1]}return{domain:nt,range:gl}}function U(q){for(var J=q.length,O=new Array(J),j=J-1,Y=0;j>=0;j--,Y++){var se=q[j];O[Y]=[1-se[0],se[1]]}return O}function Q(q,J){J=J||{};for(var O=q.domain,j=q.range,Y=j.length,se=new Array(Y),nt=0;nt<Y;nt++){var gl=v(j[nt]).toRgb();se[nt]=[gl.r,gl.g,gl.b,gl.a]}var Bn=A.scale.linear().domain(O).range(se).clamp(!0),jt=J.noNumericCheck,Pe=J.returnArray,ml;return jt&&Pe?ml=Bn:jt?ml=function(tl){return $(Bn(tl))}:Pe?ml=function(tl){return C(tl)?Bn(tl):v(tl).isValid()?tl:R.defaultLine}:ml=function(tl){return C(tl)?$(Bn(tl)):v(tl).isValid()?tl:R.defaultLine},ml.domain=Bn.domain,ml.range=function(){return j},ml}function Z(q,J){return Q(z(q),J)}function $(q){var J={r:q[0],g:q[1],b:q[2],a:q[3]};return v(J).toRgbString()}In.exports={hasColorscale:I,extractOpts:W,extractScale:z,flipScale:U,makeColorScaleFunc:Q,makeColorScaleFuncFromTrace:Z}}),Ng=o((rl,In)=>{var A=Cg(),v=A.FORMAT_LINK,C=A.DATE_FORMAT_LINK;function P(I,B){return{valType:"string",dflt:"",editType:"none",description:(B?R:F)("hover text",I)+["By default the values are formatted using "+(B?"generic number format":"`"+I+"axis.hoverformat`")+"."].join(" ")}}function R(I,B){return["Sets the "+I+" formatting rule"+(B?"for `"+B+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+v+"."].join(" ")}function F(I,B){return R(I,B)+[" And for dates see: "+C+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}In.exports={axisHoverFormat:P,descriptionOnlyNumbers:R,descriptionWithDates:F}}),kd=o((rl,In)=>{var A=vu(),v=Id(),C=jp().dash,P=Al().extendFlat,R=Zf().templatedArray;tg().templateFormatStringDescription;var F=Ng().descriptionWithDates,I=H().ONEDAY,B=vp(),x=B.HOUR_PATTERN,W=B.WEEKDAY_PATTERN,z={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},U=P({},z,{values:z.values.slice().concat(["sync"])});function Q(jt){return{valType:"integer",min:0,dflt:jt?5:0,editType:"ticks"}}var Z={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},$={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},q={valType:"data_array",editType:"ticks"},J={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function O(jt){var Pe={valType:"number",min:0,editType:"ticks"};return jt||(Pe.dflt=5),Pe}function j(jt){var Pe={valType:"number",min:0,editType:"ticks"};return jt||(Pe.dflt=1),Pe}var Y={valType:"color",dflt:v.defaultLine,editType:"ticks"},se={valType:"color",dflt:v.lightLine,editType:"ticks"};function nt(jt){var Pe={valType:"number",min:0,editType:"ticks"};return jt||(Pe.dflt=1),Pe}var gl=P({},C,{editType:"ticks"}),Bn={valType:"boolean",editType:"ticks"};In.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:v.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:A({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},modebardisable:{valType:"flaglist",flags:["autoscale","zoominout"],extras:["none"],dflt:"none",editType:"modebar"},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},scaleanchor:{valType:"enumerated",values:[B.idRegex.x.toString(),B.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[B.idRegex.x.toString(),B.idRegex.y.toString()],editType:"calc"},rangebreaks:R("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[W,x,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:I},editType:"calc"}),tickmode:U,nticks:Q(),tick0:Z,dtick:$,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:q,ticktext:{valType:"data_array",editType:"ticks"},ticks:J,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},ticklabelshift:{valType:"integer",dflt:0,editType:"ticks"},ticklabelstandoff:{valType:"integer",dflt:0,editType:"ticks"},ticklabelindex:{valType:"integer",arrayOk:!0,editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:O(),tickwidth:j(),tickcolor:Y,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:P({},C,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:A({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},autotickangles:{valType:"info_array",freeLength:!0,items:{valType:"angle"},dflt:[0,30,90],editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B","SI extended"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:F("tick label")},tickformatstops:R("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:F("hover text")},unifiedhovertitle:{text:{valType:"string",dflt:"",editType:"none"},editType:"none"},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:v.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:Bn,gridcolor:se,gridwidth:nt(),griddash:gl,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:v.defaultLine,editType:"ticks"},zerolinelayer:{valType:"enumerated",values:["above traces","below traces"],dflt:"below traces",editType:"plot"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:v.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",B.idRegex.x.toString(),B.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",B.idRegex.x.toString(),B.idRegex.y.toString()],editType:"plot"},minor:{tickmode:z,nticks:Q("minor"),tick0:Z,dtick:$,tickvals:q,ticks:J,ticklen:O("minor"),tickwidth:j("minor"),tickcolor:Y,gridcolor:se,gridwidth:nt("minor"),griddash:gl,showgrid:Bn,editType:"ticks"},minorloglabels:{valType:"enumerated",values:["small digits","complete","none"],dflt:"small digits",editType:"calc"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","geometric mean ascending","geometric mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc"}}),E=o((rl,In)=>{var A=kd(),v=vu(),C=Al().extendFlat,P=sp().overrideAll;In.exports=P({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:A.linecolor,outlinewidth:A.linewidth,bordercolor:A.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:A.minor.tickmode,nticks:A.nticks,tick0:A.tick0,dtick:A.dtick,tickvals:A.tickvals,ticktext:A.ticktext,ticks:C({},A.ticks,{dflt:""}),ticklabeloverflow:C({},A.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:A.ticklen,tickwidth:A.tickwidth,tickcolor:A.tickcolor,ticklabelstep:A.ticklabelstep,showticklabels:A.showticklabels,labelalias:A.labelalias,tickfont:v({}),tickangle:A.tickangle,tickformat:A.tickformat,tickformatstops:A.tickformatstops,tickprefix:A.tickprefix,showtickprefix:A.showtickprefix,ticksuffix:A.ticksuffix,showticksuffix:A.showticksuffix,separatethousands:A.separatethousands,exponentformat:A.exponentformat,minexponent:A.minexponent,showexponent:A.showexponent,title:{text:{valType:"string"},font:v({}),side:{valType:"enumerated",values:["right","top","bottom"]}}},"colorbars","from-root")}),V=o((rl,In)=>{var A=E(),v=Wl().counter,C=Xg(),P=Od().scales;C(P);function R(F){return"`"+F+"`"}In.exports=function(F,I){F=F||"",I=I||{};var B=I.cLetter||"c";"onlyIfNumerical"in I&&I.onlyIfNumerical;var x="noScale"in I?I.noScale:F==="marker.line",W="showScaleDflt"in I?I.showScaleDflt:B==="z",z=typeof I.colorscaleDflt=="string"?P[I.colorscaleDflt]:null,U=I.editTypeOverride||"",Q=F?F+".":"",Z;"colorAttr"in I?(Z=I.colorAttr,I.colorAttr):(Z={z:"z",c:"color"}[B],""+R(Q+Z));var $=B+"auto",q=B+"min",J=B+"max",O=B+"mid",j={};j[q]=j[J]=void 0;var Y={};Y[$]=!1;var se={};return Z==="color"&&(se.color={valType:"color",arrayOk:!0,editType:U||"style"},I.anim&&(se.color.anim=!0)),se[$]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:j},se[q]={valType:"number",dflt:null,editType:U||"plot",impliedEdits:Y},se[J]={valType:"number",dflt:null,editType:U||"plot",impliedEdits:Y},se[O]={valType:"number",dflt:null,editType:"calc",impliedEdits:j},se.colorscale={valType:"colorscale",editType:"calc",dflt:z,impliedEdits:{autocolorscale:!1}},se.autocolorscale={valType:"boolean",dflt:I.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},se.reversescale={valType:"boolean",dflt:!1,editType:"plot"},x||(se.showscale={valType:"boolean",dflt:W,editType:"calc"},se.colorbar=A),I.noColorAxis||(se.coloraxis={valType:"subplotid",regex:v("coloraxis"),dflt:null,editType:"calc"}),se}}),Me=o((rl,In)=>{var A=Al().extendFlat,v=V(),C=Od().scales;In.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:C.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:C.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:C.RdBu,editType:"calc"}},coloraxis:A({_isSubplotObj:!0,editType:"calc"},v("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}}),ot=o((rl,In)=>{var A=ls();In.exports=function(v){return A.isPlainObject(v.colorbar)}}),Tl=o(rl=>{var In=G(),A=ls(),v=H(),C=v.ONEDAY,P=v.ONEWEEK;rl.dtick=function(R,F){var I=F==="log",B=F==="date",x=F==="category",W=B?C:1;if(!R)return W;if(In(R))return R=Number(R),R<=0?W:x?Math.max(1,Math.round(R)):B?Math.max(.1,R):R;if(typeof R!="string"||!(B||I))return W;var z=R.charAt(0),U=R.substr(1);return U=In(U)?Number(U):0,U<=0||!(B&&z==="M"&&U===Math.round(U)||I&&z==="L"||I&&z==="D"&&(U===1||U===2))?W:R},rl.tick0=function(R,F,I,B){if(F==="date")return A.cleanDate(R,A.dateTick0(I,B%P===0?1:0));if(!(B==="D1"||B==="D2"))return In(R)?Number(R):0}}),ll=o((rl,In)=>{var A=Tl(),v=ls().isArrayOrTypedArray,C=Et().isTypedArraySpec,P=Et().decodeTypedArraySpec;In.exports=function(R,F,I,B,x){x||(x={});var W=x.isMinor,z=W?R.minor||{}:R,U=W?F.minor:F,Q=W?"minor.":"";function Z(nt){var gl=z[nt];return C(gl)&&(gl=P(gl)),gl!==void 0?gl:(U._template||{})[nt]}var $=Z("tick0"),q=Z("dtick"),J=Z("tickvals"),O=v(J)?"array":q?"linear":"auto",j=I(Q+"tickmode",O);if(j==="auto"||j==="sync")I(Q+"nticks");else if(j==="linear"){var Y=U.dtick=A.dtick(q,B);U.tick0=A.tick0($,B,F.calendar,Y)}else if(B!=="multicategory"){var se=I(Q+"tickvals");se===void 0?U.tickmode="auto":W||I("ticktext")}}}),Pl=o((rl,In)=>{var A=ls(),v=kd();In.exports=function(C,P,R,F){var I=F.isMinor,B=I?C.minor||{}:C,x=I?P.minor:P,W=I?v.minor:v,z=I?"minor.":"",U=A.coerce2(B,x,W,"ticklen",I?(P.ticklen||5)*.6:void 0),Q=A.coerce2(B,x,W,"tickwidth",I?P.tickwidth||1:void 0),Z=A.coerce2(B,x,W,"tickcolor",(I?P.tickcolor:void 0)||x.color),$=R(z+"ticks",!I&&F.outerTicks||U||Q||Z?"outside":"");$||(delete x.ticklen,delete x.tickwidth,delete x.tickcolor)}}),Bl=o((rl,In)=>{In.exports=function(A){var v=["showexponent","showtickprefix","showticksuffix"],C=v.filter(function(R){return A[R]!==void 0}),P=function(R){return A[R]===A[C[0]]};if(C.every(P)||C.length===1)return A[C[0]]}}),Ml=o((rl,In)=>{var A=ls(),v=Zf();In.exports=function(C,P,R){var F=R.name,I=R.inclusionAttr||"visible",B=P[F],x=A.isArrayOrTypedArray(C[F])?C[F]:[],W=P[F]=[],z=v.arrayTemplater(P,F,I),U,Q;for(U=0;U<x.length;U++){var Z=x[U];A.isPlainObject(Z)?Q=z.newItem(Z):(Q=z.newItem({}),Q[I]=!1),Q._index=U,Q[I]!==!1&&R.handleItemDefaults(Z,Q,P,R),W.push(Q)}var $=z.defaultItems();for(U=0;U<$.length;U++)Q=$[U],Q._index=W.length,R.handleItemDefaults({},Q,P,R,{}),W.push(Q);if(A.isArrayOrTypedArray(B)){var q=Math.min(B.length,W.length);for(U=0;U<q;U++)A.relinkPrivateKeys(W[U],B[U])}return W}}),Vl=o((rl,In)=>{var A=ls(),v=Bd().contrast,C=kd(),P=Bl(),R=Ml();In.exports=function(I,B,x,W,z){z||(z={});var U=x("labelalias");A.isPlainObject(U)||delete B.labelalias;var Q=P(I),Z=x("showticklabels");if(Z){z.noTicklabelshift||x("ticklabelshift"),z.noTicklabelstandoff||x("ticklabelstandoff");var $=z.font||{},q=B.color,J=B.ticklabelposition||"",O=J.indexOf("inside")!==-1?v(z.bgColor):q&&q!==C.color.dflt?q:$.color;if(A.coerceFont(x,"tickfont",$,{overrideDflt:{color:O}}),!z.noTicklabelstep&&W!=="multicategory"&&W!=="log"&&x("ticklabelstep"),!z.noAng){var j=x("tickangle");!z.noAutotickangles&&j==="auto"&&x("autotickangles")}if(W!=="category"){var Y=x("tickformat");R(I,B,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:F}),B.tickformatstops.length||delete B.tickformatstops,!z.noExp&&!Y&&W!=="date"&&(x("showexponent",Q),x("exponentformat"),x("minexponent"),x("separatethousands"))}!z.noMinorloglabels&&W==="log"&&x("minorloglabels")}};function F(I,B){function x(z,U){return A.coerce(I,B,C.tickformatstops,z,U)}var W=x("enabled");W&&(x("dtickrange"),x("value"))}}),Yl=o((rl,In)=>{var A=Bl();In.exports=function(v,C,P,R,F){F||(F={});var I=F.tickSuffixDflt,B=A(v),x=P("tickprefix");x&&P("showtickprefix",B);var W=P("ticksuffix",I);W&&P("showticksuffix",B)}}),zu=o((rl,In)=>{var A=ls(),v=Zf(),C=ll(),P=Pl(),R=Vl(),F=Yl(),I=E();In.exports=function(B,x,W){var z=v.newContainer(x,"colorbar"),U=B.colorbar||{};function Q(Fn,xl){return A.coerce(U,z,I,Fn,xl)}var Z=W.margin||{t:0,b:0,l:0,r:0},$=W.width-Z.l-Z.r,q=W.height-Z.t-Z.b,J=Q("orientation"),O=J==="v",j=Q("thicknessmode");Q("thickness",j==="fraction"?30/(O?$:q):30);var Y=Q("lenmode");Q("len",Y==="fraction"?1:O?q:$);var se=Q("yref"),nt=Q("xref"),gl=se==="paper",Bn=nt==="paper",jt,Pe,ml,tl="left";O?(ml="middle",tl=Bn?"left":"right",jt=Bn?1.02:1,Pe=.5):(ml=gl?"bottom":"top",tl="center",jt=.5,Pe=gl?1.02:1),A.coerce(U,z,{x:{valType:"number",min:Bn?-2:0,max:Bn?3:1,dflt:jt}},"x"),A.coerce(U,z,{y:{valType:"number",min:gl?-2:0,max:gl?3:1,dflt:Pe}},"y"),Q("xanchor",tl),Q("xpad"),Q("yanchor",ml),Q("ypad"),A.noneOrAll(U,z,["x","y"]),Q("outlinecolor"),Q("outlinewidth"),Q("bordercolor"),Q("borderwidth"),Q("bgcolor");var ul=A.coerce(U,z,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:O?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");Q("ticklabeloverflow",ul.indexOf("inside")!==-1?"hide past domain":"hide past div"),C(U,z,Q,"linear");var il=W.font,sl={noAutotickangles:!0,noTicklabelshift:!0,noTicklabelstandoff:!0,outerTicks:!1,font:il};ul.indexOf("inside")!==-1&&(sl.bgColor="black"),F(U,z,Q,"linear",sl),R(U,z,Q,"linear",sl),P(U,z,Q,"linear",sl),Q("title.text",W._dfltTitle.colorbar);var vl=z.showticklabels?z.tickfont:il,yl=A.extendFlat({},il,{family:vl.family,size:A.bigFont(vl.size)});A.coerceFont(Q,"title.font",yl),Q("title.side",O?"top":"right")}}),Fu=o((rl,In)=>{var A=G(),v=ls(),C=ot(),P=zu(),R=Od().isValid,F=Ep().traceIs;function I(B,x){var W=x.slice(0,x.length-1);return x?v.nestedProperty(B,W).get()||{}:B}In.exports=function B(x,W,z,U,Q){var Z=Q.prefix,$=Q.cLetter,q="_module"in W,J=I(x,Z),O=I(W,Z),j=I(W._template||{},Z)||{},Y=function(){return delete x.coloraxis,delete W.coloraxis,B(x,W,z,U,Q)};if(q){var se=z._colorAxes||{},nt=U(Z+"coloraxis");if(nt){var gl=F(W,"contour")&&v.nestedProperty(W,"contours.coloring").get()||"heatmap",Bn=se[nt];Bn?(Bn[2].push(Y),Bn[0]!==gl&&(Bn[0]=!1,v.warn(["Ignoring coloraxis:",nt,"setting","as it is linked to incompatible colorscales."].join(" ")))):se[nt]=[gl,W,[Y]];return}}var jt=J[$+"min"],Pe=J[$+"max"],ml=A(jt)&&A(Pe)&&jt<Pe,tl=U(Z+$+"auto",!ml);tl?U(Z+$+"mid"):(U(Z+$+"min"),U(Z+$+"max"));var ul=J.colorscale,il=j.colorscale,sl;if(ul!==void 0&&(sl=!R(ul)),il!==void 0&&(sl=!R(il)),U(Z+"autocolorscale",sl),U(Z+"colorscale"),U(Z+"reversescale"),Z!=="marker.line."){var vl;Z&&q&&(vl=C(J));var yl=U(Z+"showscale",vl);yl&&(Z&&j&&(O._template=j),P(J,O,z))}}}),mu=o((rl,In)=>{var A=ls(),v=Zf(),C=Me(),P=Fu();In.exports=function(R,F){function I($,q){return A.coerce(R,F,C,$,q)}I("colorscale.sequential"),I("colorscale.sequentialminus"),I("colorscale.diverging");var B=F._colorAxes,x,W;function z($,q){return A.coerce(x,W,C.coloraxis,$,q)}for(var U in B){var Q=B[U];if(Q[0])x=R[U]||{},W=v.newContainer(F,U,"coloraxis"),W._name=U,P(x,W,F,z,{prefix:"",cLetter:"c"});else{for(var Z=0;Z<Q[2].length;Z++)Q[2][Z]();delete F._colorAxes[U]}}}}),Lu=o((rl,In)=>{var A=ls(),v=Yp().hasColorscale,C=Yp().extractOpts;In.exports=function(P,R){function F(Q,Z){var $=Q["_"+Z];$!==void 0&&(Q[Z]=$)}function I(Q,Z){var $=Z.container?A.nestedProperty(Q,Z.container).get():Q;if($)if($.coloraxis)$._colorAx=R[$.coloraxis];else{var q=C($),J=q.auto;(J||q.min===void 0)&&F($,Z.min),(J||q.max===void 0)&&F($,Z.max),q.autocolorscale&&F($,"colorscale")}}for(var B=0;B<P.length;B++){var x=P[B],W=x._module.colorbar;if(W)if(Array.isArray(W))for(var z=0;z<W.length;z++)I(x,W[z]);else I(x,W);v(x,"marker.line")&&I(x,{container:"marker.line",min:"cmin",max:"cmax"})}for(var U in R._colorAxes)I(R[U],{min:"cmin",max:"cmax"})}}),Du=o((rl,In)=>{var A=G(),v=ls(),C=Yp().extractOpts;In.exports=function(P,R,F){var I=P._fullLayout,B=F.vals,x=F.containerStr,W=x?v.nestedProperty(R,x).get():R,z=C(W),U=z.auto!==!1,Q=z.min,Z=z.max,$=z.mid,q=function(){return v.aggNums(Math.min,null,B)},J=function(){return v.aggNums(Math.max,null,B)};if(Q===void 0?Q=q():U&&(W._colorAx&&A(Q)?Q=Math.min(Q,q()):Q=q()),Z===void 0?Z=J():U&&(W._colorAx&&A(Z)?Z=Math.max(Z,J()):Z=J()),U&&$!==void 0&&(Z-$>$-Q?Q=$-(Z-$):Z-$<$-Q&&(Z=$+($-Q))),Q===Z&&(Q-=.5,Z+=.5),z._sync("min",Q),z._sync("max",Z),z.autocolorscale){var O;Q*Z<0?O=I.colorscale.diverging:Q>=0?O=I.colorscale.sequential:O=I.colorscale.sequentialminus,z._sync("colorscale",O)}}}),Qu=o((rl,In)=>{var A=Od(),v=Yp();In.exports={moduleType:"component",name:"colorscale",attributes:V(),layoutAttributes:Me(),supplyLayoutDefaults:mu(),handleDefaults:Fu(),crossTraceDefaults:Lu(),calc:Du(),scales:A.scales,defaultScale:A.defaultScale,getScale:A.get,isValidScale:A.isValid,hasColorscale:v.hasColorscale,extractOpts:v.extractOpts,extractScale:v.extractScale,flipScale:v.flipScale,makeColorScaleFunc:v.makeColorScaleFunc,makeColorScaleFuncFromTrace:v.makeColorScaleFuncFromTrace}}),ld=o((rl,In)=>{var A=ls(),v=Et().isTypedArraySpec;In.exports={hasLines:function(C){return C.visible&&C.mode&&C.mode.indexOf("lines")!==-1},hasMarkers:function(C){return C.visible&&(C.mode&&C.mode.indexOf("markers")!==-1||C.type==="splom")},hasText:function(C){return C.visible&&C.mode&&C.mode.indexOf("text")!==-1},isBubble:function(C){var P=C.marker;return A.isPlainObject(P)&&(A.isArrayOrTypedArray(P.size)||v(P.size))}}}),vd=o((rl,In)=>{var A=G();In.exports=function(v,C){C||(C=2);var P=v.marker,R=P.sizeref||1,F=P.sizemin||0,I=P.sizemode==="area"?function(B){return Math.sqrt(B/R)}:function(B){return B/R};return function(B){var x=I(B/C);return A(x)&&x>0?Math.max(x,F):0}}}),Ld=o(rl=>{var In=ls();rl.getSubplot=function(F){return F.subplot||F.xaxis+F.yaxis||F.geo},rl.isTraceInSubplots=function(F,I){if(F.type==="splom"){for(var B=F.xaxes||[],x=F.yaxes||[],W=0;W<B.length;W++)for(var z=0;z<x.length;z++)if(I.indexOf(B[W]+x[z])!==-1)return!0;return!1}return I.indexOf(rl.getSubplot(F))!==-1},rl.flat=function(F,I){for(var B=new Array(F.length),x=0;x<F.length;x++)B[x]=I;return B},rl.p2c=function(F,I){for(var B=new Array(F.length),x=0;x<F.length;x++)B[x]=F[x].p2c(I);return B},rl.getDistanceFunction=function(F,I,B,x){return F==="closest"?x||rl.quadrature(I,B):F.charAt(0)==="x"?I:B},rl.getClosest=function(F,I,B){if(B.index!==!1)B.index>=0&&B.index<F.length?B.distance=0:B.index=!1;else for(var x=1/0,W=F.length,z=0;z<W;z++)x=I(F[z]),x<=B.distance&&(B.index=z,B.distance=x);return B},rl.inbox=function(F,I,B){return F*I<0||F===0?B:1/0},rl.quadrature=function(F,I){return function(B){var x=F(B),W=I(B);return Math.sqrt(x*x+W*W)}},rl.makeEventData=function(F,I,B){var x="index"in F?F.index:F.pointNumber,W={data:I._input,fullData:I,curveNumber:I.index,pointNumber:x};if(I._indexToPoints){var z=I._indexToPoints[x];z.length===1?W.pointIndex=z[0]:W.pointIndices=z}else W.pointIndex=x;return I._module.eventData?W=I._module.eventData(W,F,I,B,x):("xVal"in F?W.x=F.xVal:"x"in F&&(W.x=F.x),"yVal"in F?W.y=F.yVal:"y"in F&&(W.y=F.y),F.xa&&(W.xaxis=F.xa),F.ya&&(W.yaxis=F.ya),F.zLabelVal!==void 0&&(W.z=F.zLabelVal)),rl.appendArrayPointValue(W,I,x),W},rl.appendArrayPointValue=function(F,I,B){var x=I._arrayAttrs;if(x)for(var W=0;W<x.length;W++){var z=x[W],U=v(z);if(F[U]===void 0){var Q=In.nestedProperty(I,z).get(),Z=C(Q,B);Z!==void 0&&(F[U]=Z)}}},rl.appendArrayMultiPointValues=function(F,I,B){var x=I._arrayAttrs;if(x)for(var W=0;W<x.length;W++){var z=x[W],U=v(z);if(F[U]===void 0){for(var Q=In.nestedProperty(I,z).get(),Z=new Array(B.length),$=0;$<B.length;$++)Z[$]=C(Q,B[$]);F[U]=Z}}};var A={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function v(F){return A[F]||F}function C(F,I){if(Array.isArray(I)){if(Array.isArray(F)&&Array.isArray(F[I[0]]))return F[I[0]][I[1]]}else return F[I]}var P={x:!0,y:!0},R={"x unified":!0,"y unified":!0};rl.isUnifiedHover=function(F){return typeof F!="string"?!1:!!R[F]},rl.isXYhover=function(F){return typeof F!="string"?!1:!!P[F]}}),Ad=o((rl,In)=>{In.exports=C;var A={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},v=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function C(F){var I=[];return F.replace(v,function(B,x,W){var z=x.toLowerCase();for(W=R(W),z=="m"&&W.length>2&&(I.push([x].concat(W.splice(0,2))),z="l",x=x=="m"?"l":"L");;){if(W.length==A[z])return W.unshift(x),I.push(W);if(W.length<A[z])throw new Error("malformed path data");I.push([x].concat(W.splice(0,A[z])))}}),I}var P=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function R(F){var I=F.match(P);return I?I.map(Number):[]}}),nh=o((rl,In)=>{var A=Ad(),v=function($,q){return q?Math.round($*(q=Math.pow(10,q)))/q:Math.round($)},C="M0,0Z",P=Math.sqrt(2),R=Math.sqrt(3),F=Math.PI,I=Math.cos,B=Math.sin;In.exports={circle:{n:0,f:function($,q,J){if(x(q))return C;var O=v($,2),j="M"+O+",0A"+O+","+O+" 0 1,1 0,-"+O+"A"+O+","+O+" 0 0,1 "+O+",0Z";return J?Z(q,J,j):j}},square:{n:1,f:function($,q,J){if(x(q))return C;var O=v($,2);return Z(q,J,"M"+O+","+O+"H-"+O+"V-"+O+"H"+O+"Z")}},diamond:{n:2,f:function($,q,J){if(x(q))return C;var O=v($*1.3,2);return Z(q,J,"M"+O+",0L0,"+O+"L-"+O+",0L0,-"+O+"Z")}},cross:{n:3,f:function($,q,J){if(x(q))return C;var O=v($*.4,2),j=v($*1.2,2);return Z(q,J,"M"+j+","+O+"H"+O+"V"+j+"H-"+O+"V"+O+"H-"+j+"V-"+O+"H-"+O+"V-"+j+"H"+O+"V-"+O+"H"+j+"Z")}},x:{n:4,f:function($,q,J){if(x(q))return C;var O=v($*.8/P,2),j="l"+O+","+O,Y="l"+O+",-"+O,se="l-"+O+",-"+O,nt="l-"+O+","+O;return Z(q,J,"M0,"+O+j+Y+se+Y+se+nt+se+nt+j+nt+j+"Z")}},"triangle-up":{n:5,f:function($,q,J){if(x(q))return C;var O=v($*2/R,2),j=v($/2,2),Y=v($,2);return Z(q,J,"M-"+O+","+j+"H"+O+"L0,-"+Y+"Z")}},"triangle-down":{n:6,f:function($,q,J){if(x(q))return C;var O=v($*2/R,2),j=v($/2,2),Y=v($,2);return Z(q,J,"M-"+O+",-"+j+"H"+O+"L0,"+Y+"Z")}},"triangle-left":{n:7,f:function($,q,J){if(x(q))return C;var O=v($*2/R,2),j=v($/2,2),Y=v($,2);return Z(q,J,"M"+j+",-"+O+"V"+O+"L-"+Y+",0Z")}},"triangle-right":{n:8,f:function($,q,J){if(x(q))return C;var O=v($*2/R,2),j=v($/2,2),Y=v($,2);return Z(q,J,"M-"+j+",-"+O+"V"+O+"L"+Y+",0Z")}},"triangle-ne":{n:9,f:function($,q,J){if(x(q))return C;var O=v($*.6,2),j=v($*1.2,2);return Z(q,J,"M-"+j+",-"+O+"H"+O+"V"+j+"Z")}},"triangle-se":{n:10,f:function($,q,J){if(x(q))return C;var O=v($*.6,2),j=v($*1.2,2);return Z(q,J,"M"+O+",-"+j+"V"+O+"H-"+j+"Z")}},"triangle-sw":{n:11,f:function($,q,J){if(x(q))return C;var O=v($*.6,2),j=v($*1.2,2);return Z(q,J,"M"+j+","+O+"H-"+O+"V-"+j+"Z")}},"triangle-nw":{n:12,f:function($,q,J){if(x(q))return C;var O=v($*.6,2),j=v($*1.2,2);return Z(q,J,"M-"+O+","+j+"V-"+O+"H"+j+"Z")}},pentagon:{n:13,f:function($,q,J){if(x(q))return C;var O=v($*.951,2),j=v($*.588,2),Y=v(-$,2),se=v($*-.309,2),nt=v($*.809,2);return Z(q,J,"M"+O+","+se+"L"+j+","+nt+"H-"+j+"L-"+O+","+se+"L0,"+Y+"Z")}},hexagon:{n:14,f:function($,q,J){if(x(q))return C;var O=v($,2),j=v($/2,2),Y=v($*R/2,2);return Z(q,J,"M"+Y+",-"+j+"V"+j+"L0,"+O+"L-"+Y+","+j+"V-"+j+"L0,-"+O+"Z")}},hexagon2:{n:15,f:function($,q,J){if(x(q))return C;var O=v($,2),j=v($/2,2),Y=v($*R/2,2);return Z(q,J,"M-"+j+","+Y+"H"+j+"L"+O+",0L"+j+",-"+Y+"H-"+j+"L-"+O+",0Z")}},octagon:{n:16,f:function($,q,J){if(x(q))return C;var O=v($*.924,2),j=v($*.383,2);return Z(q,J,"M-"+j+",-"+O+"H"+j+"L"+O+",-"+j+"V"+j+"L"+j+","+O+"H-"+j+"L-"+O+","+j+"V-"+j+"Z")}},star:{n:17,f:function($,q,J){if(x(q))return C;var O=$*1.4,j=v(O*.225,2),Y=v(O*.951,2),se=v(O*.363,2),nt=v(O*.588,2),gl=v(-O,2),Bn=v(O*-.309,2),jt=v(O*.118,2),Pe=v(O*.809,2),ml=v(O*.382,2);return Z(q,J,"M"+j+","+Bn+"H"+Y+"L"+se+","+jt+"L"+nt+","+Pe+"L0,"+ml+"L-"+nt+","+Pe+"L-"+se+","+jt+"L-"+Y+","+Bn+"H-"+j+"L0,"+gl+"Z")}},hexagram:{n:18,f:function($,q,J){if(x(q))return C;var O=v($*.66,2),j=v($*.38,2),Y=v($*.76,2);return Z(q,J,"M-"+Y+",0l-"+j+",-"+O+"h"+Y+"l"+j+",-"+O+"l"+j+","+O+"h"+Y+"l-"+j+","+O+"l"+j+","+O+"h-"+Y+"l-"+j+","+O+"l-"+j+",-"+O+"h-"+Y+"Z")}},"star-triangle-up":{n:19,f:function($,q,J){if(x(q))return C;var O=v($*R*.8,2),j=v($*.8,2),Y=v($*1.6,2),se=v($*4,2),nt="A "+se+","+se+" 0 0 1 ";return Z(q,J,"M-"+O+","+j+nt+O+","+j+nt+"0,-"+Y+nt+"-"+O+","+j+"Z")}},"star-triangle-down":{n:20,f:function($,q,J){if(x(q))return C;var O=v($*R*.8,2),j=v($*.8,2),Y=v($*1.6,2),se=v($*4,2),nt="A "+se+","+se+" 0 0 1 ";return Z(q,J,"M"+O+",-"+j+nt+"-"+O+",-"+j+nt+"0,"+Y+nt+O+",-"+j+"Z")}},"star-square":{n:21,f:function($,q,J){if(x(q))return C;var O=v($*1.1,2),j=v($*2,2),Y="A "+j+","+j+" 0 0 1 ";return Z(q,J,"M-"+O+",-"+O+Y+"-"+O+","+O+Y+O+","+O+Y+O+",-"+O+Y+"-"+O+",-"+O+"Z")}},"star-diamond":{n:22,f:function($,q,J){if(x(q))return C;var O=v($*1.4,2),j=v($*1.9,2),Y="A "+j+","+j+" 0 0 1 ";return Z(q,J,"M-"+O+",0"+Y+"0,"+O+Y+O+",0"+Y+"0,-"+O+Y+"-"+O+",0Z")}},"diamond-tall":{n:23,f:function($,q,J){if(x(q))return C;var O=v($*.7,2),j=v($*1.4,2);return Z(q,J,"M0,"+j+"L"+O+",0L0,-"+j+"L-"+O+",0Z")}},"diamond-wide":{n:24,f:function($,q,J){if(x(q))return C;var O=v($*1.4,2),j=v($*.7,2);return Z(q,J,"M0,"+j+"L"+O+",0L0,-"+j+"L-"+O+",0Z")}},hourglass:{n:25,f:function($,q,J){if(x(q))return C;var O=v($,2);return Z(q,J,"M"+O+","+O+"H-"+O+"L"+O+",-"+O+"H-"+O+"Z")},noDot:!0},bowtie:{n:26,f:function($,q,J){if(x(q))return C;var O=v($,2);return Z(q,J,"M"+O+","+O+"V-"+O+"L-"+O+","+O+"V-"+O+"Z")},noDot:!0},"circle-cross":{n:27,f:function($,q,J){if(x(q))return C;var O=v($,2);return Z(q,J,"M0,"+O+"V-"+O+"M"+O+",0H-"+O+"M"+O+",0A"+O+","+O+" 0 1,1 0,-"+O+"A"+O+","+O+" 0 0,1 "+O+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function($,q,J){if(x(q))return C;var O=v($,2),j=v($/P,2);return Z(q,J,"M"+j+","+j+"L-"+j+",-"+j+"M"+j+",-"+j+"L-"+j+","+j+"M"+O+",0A"+O+","+O+" 0 1,1 0,-"+O+"A"+O+","+O+" 0 0,1 "+O+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function($,q,J){if(x(q))return C;var O=v($,2);return Z(q,J,"M0,"+O+"V-"+O+"M"+O+",0H-"+O+"M"+O+","+O+"H-"+O+"V-"+O+"H"+O+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function($,q,J){if(x(q))return C;var O=v($,2);return Z(q,J,"M"+O+","+O+"L-"+O+",-"+O+"M"+O+",-"+O+"L-"+O+","+O+"M"+O+","+O+"H-"+O+"V-"+O+"H"+O+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function($,q,J){if(x(q))return C;var O=v($*1.3,2);return Z(q,J,"M"+O+",0L0,"+O+"L-"+O+",0L0,-"+O+"ZM0,-"+O+"V"+O+"M-"+O+",0H"+O)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function($,q,J){if(x(q))return C;var O=v($*1.3,2),j=v($*.65,2);return Z(q,J,"M"+O+",0L0,"+O+"L-"+O+",0L0,-"+O+"ZM-"+j+",-"+j+"L"+j+","+j+"M-"+j+","+j+"L"+j+",-"+j)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function($,q,J){if(x(q))return C;var O=v($*1.4,2);return Z(q,J,"M0,"+O+"V-"+O+"M"+O+",0H-"+O)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function($,q,J){if(x(q))return C;var O=v($,2);return Z(q,J,"M"+O+","+O+"L-"+O+",-"+O+"M"+O+",-"+O+"L-"+O+","+O)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function($,q,J){if(x(q))return C;var O=v($*1.2,2),j=v($*.85,2);return Z(q,J,"M0,"+O+"V-"+O+"M"+O+",0H-"+O+"M"+j+","+j+"L-"+j+",-"+j+"M"+j+",-"+j+"L-"+j+","+j)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function($,q,J){if(x(q))return C;var O=v($/2,2),j=v($,2);return Z(q,J,"M"+O+","+j+"V-"+j+"M"+(O-j)+",-"+j+"V"+j+"M"+j+","+O+"H-"+j+"M-"+j+","+(O-j)+"H"+j)},needLine:!0,noFill:!0},"y-up":{n:37,f:function($,q,J){if(x(q))return C;var O=v($*1.2,2),j=v($*1.6,2),Y=v($*.8,2);return Z(q,J,"M-"+O+","+Y+"L0,0M"+O+","+Y+"L0,0M0,-"+j+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function($,q,J){if(x(q))return C;var O=v($*1.2,2),j=v($*1.6,2),Y=v($*.8,2);return Z(q,J,"M-"+O+",-"+Y+"L0,0M"+O+",-"+Y+"L0,0M0,"+j+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function($,q,J){if(x(q))return C;var O=v($*1.2,2),j=v($*1.6,2),Y=v($*.8,2);return Z(q,J,"M"+Y+","+O+"L0,0M"+Y+",-"+O+"L0,0M-"+j+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function($,q,J){if(x(q))return C;var O=v($*1.2,2),j=v($*1.6,2),Y=v($*.8,2);return Z(q,J,"M-"+Y+","+O+"L0,0M-"+Y+",-"+O+"L0,0M"+j+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function($,q,J){if(x(q))return C;var O=v($*1.4,2);return Z(q,J,"M"+O+",0H-"+O)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function($,q,J){if(x(q))return C;var O=v($*1.4,2);return Z(q,J,"M0,"+O+"V-"+O)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function($,q,J){if(x(q))return C;var O=v($,2);return Z(q,J,"M"+O+",-"+O+"L-"+O+","+O)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function($,q,J){if(x(q))return C;var O=v($,2);return Z(q,J,"M"+O+","+O+"L-"+O+",-"+O)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function($,q,J){if(x(q))return C;var O=v($,2),j=v($*2,2);return Z(q,J,"M0,0L-"+O+","+j+"H"+O+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function($,q,J){if(x(q))return C;var O=v($,2),j=v($*2,2);return Z(q,J,"M0,0L-"+O+",-"+j+"H"+O+"Z")},noDot:!0},"arrow-left":{n:47,f:function($,q,J){if(x(q))return C;var O=v($*2,2),j=v($,2);return Z(q,J,"M0,0L"+O+",-"+j+"V"+j+"Z")},noDot:!0},"arrow-right":{n:48,f:function($,q,J){if(x(q))return C;var O=v($*2,2),j=v($,2);return Z(q,J,"M0,0L-"+O+",-"+j+"V"+j+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function($,q,J){if(x(q))return C;var O=v($,2),j=v($*2,2);return Z(q,J,"M-"+O+",0H"+O+"M0,0L-"+O+","+j+"H"+O+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function($,q,J){if(x(q))return C;var O=v($,2),j=v($*2,2);return Z(q,J,"M-"+O+",0H"+O+"M0,0L-"+O+",-"+j+"H"+O+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function($,q,J){if(x(q))return C;var O=v($*2,2),j=v($,2);return Z(q,J,"M0,-"+j+"V"+j+"M0,0L"+O+",-"+j+"V"+j+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function($,q,J){if(x(q))return C;var O=v($*2,2),j=v($,2);return Z(q,J,"M0,-"+j+"V"+j+"M0,0L-"+O+",-"+j+"V"+j+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function($,q,J){if(x(q))return C;var O=F/2.5,j=2*$*I(O),Y=2*$*B(O);return Z(q,J,"M0,0L"+-j+","+Y+"L"+j+","+Y+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function($,q,J){if(x(q))return C;var O=F/4,j=2*$*I(O),Y=2*$*B(O);return Z(q,J,"M0,0L"+-j+","+Y+"A "+2*$+","+2*$+" 0 0 1 "+j+","+Y+"Z")},backoff:.4,noDot:!0}};function x($){return $===null}var W,z,U,Q;function Z($,q,J){if((!$||$%360===0)&&!q)return J;if(U===$&&Q===q&&W===J)return z;U=$,Q=q,W=J;function O(sl,vl){var yl=I(sl),Fn=B(sl),xl=vl[0],wl=vl[1]+(q||0);return[xl*yl-wl*Fn,xl*Fn+wl*yl]}for(var j=$/180*F,Y=0,se=0,nt=A(J),gl="",Bn=0;Bn<nt.length;Bn++){var jt=nt[Bn],Pe=jt[0],ml=Y,tl=se;if(Pe==="M"||Pe==="L")Y=+jt[1],se=+jt[2];else if(Pe==="m"||Pe==="l")Y+=+jt[1],se+=+jt[2];else if(Pe==="H")Y=+jt[1];else if(Pe==="h")Y+=+jt[1];else if(Pe==="V")se=+jt[1];else if(Pe==="v")se+=+jt[1];else if(Pe==="A"){Y=+jt[1],se=+jt[2];var ul=O(j,[+jt[6],+jt[7]]);jt[6]=ul[0],jt[7]=ul[1],jt[3]=+jt[3]+$}(Pe==="H"||Pe==="V")&&(Pe="L"),(Pe==="h"||Pe==="v")&&(Pe="l"),(Pe==="m"||Pe==="l")&&(Y-=ml,se-=tl);var il=O(j,[Y,se]);(Pe==="H"||Pe==="V")&&(Pe="L"),(Pe==="M"||Pe==="L"||Pe==="m"||Pe==="l")&&(jt[1]=il[0],jt[2]=il[1]),jt[0]=Pe,gl+=jt[0]+jt.slice(1).join(",")}return z=gl,gl}}),dh=o((rl,In)=>{var A=f(),v=ls(),C=v.numberFormat,P=G(),R=Kl(),F=Ep(),I=Bd(),B=Qu(),x=v.strTranslate,W=ag(),z=og(),U=i0(),Q=U.LINE_SPACING,Z=Cd().DESELECTDIM,$=ld(),q=vd(),J=Ld().appendArrayPointValue,O=In.exports={};O.font=function(_u,Nu){var Gl=Nu.variant,rd=Nu.style,Sd=Nu.weight,Pd=Nu.color,Ud=Nu.size,$d=Nu.family,th=Nu.shadow,sh=Nu.lineposition,ah=Nu.textcase;$d&&_u.style("font-family",$d),Ud+1&&_u.style("font-size",Ud+"px"),Pd&&_u.call(I.fill,Pd),Sd&&_u.style("font-weight",Sd),rd&&_u.style("font-style",rd),Gl&&_u.style("font-variant",Gl),ah&&_u.style("text-transform",j(se(ah))),th&&_u.style("text-shadow",th==="auto"?W.makeTextShadow(I.contrast(Pd)):j(th)),sh&&_u.style("text-decoration-line",j(nt(sh)))};function j(_u){return _u==="none"?void 0:_u}var Y={normal:"none",lower:"lowercase",upper:"uppercase","word caps":"capitalize"};function se(_u){return Y[_u]}function nt(_u){return _u.replace("under","underline").replace("over","overline").replace("through","line-through").split("+").join(" ")}O.setPosition=function(_u,Nu,Gl){_u.attr("x",Nu).attr("y",Gl)},O.setSize=function(_u,Nu,Gl){_u.attr("width",Nu).attr("height",Gl)},O.setRect=function(_u,Nu,Gl,rd,Sd){_u.call(O.setPosition,Nu,Gl).call(O.setSize,rd,Sd)},O.translatePoint=function(_u,Nu,Gl,rd){var Sd=Gl.c2p(_u.x),Pd=rd.c2p(_u.y);if(P(Sd)&&P(Pd)&&Nu.node())Nu.node().nodeName==="text"?Nu.attr("x",Sd).attr("y",Pd):Nu.attr("transform",x(Sd,Pd));else return!1;return!0},O.translatePoints=function(_u,Nu,Gl){_u.each(function(rd){var Sd=A.select(this);O.translatePoint(rd,Sd,Nu,Gl)})},O.hideOutsideRangePoint=function(_u,Nu,Gl,rd,Sd,Pd){Nu.attr("display",Gl.isPtWithinRange(_u,Sd)&&rd.isPtWithinRange(_u,Pd)?null:"none")},O.hideOutsideRangePoints=function(_u,Nu){if(Nu._hasClipOnAxisFalse){var Gl=Nu.xaxis,rd=Nu.yaxis;_u.each(function(Sd){var Pd=Sd[0].trace,Ud=Pd.xcalendar,$d=Pd.ycalendar,th=F.traceIs(Pd,"bar-like")?".bartext":".point,.textpoint";_u.selectAll(th).each(function(sh){O.hideOutsideRangePoint(sh,A.select(this),Gl,rd,Ud,$d)})})}},O.crispRound=function(_u,Nu,Gl){return!Nu||!P(Nu)?Gl||0:_u._context.staticPlot?Nu:Nu<1?1:Math.round(Nu)},O.singleLineStyle=function(_u,Nu,Gl,rd,Sd){Nu.style("fill","none");var Pd=(((_u||[])[0]||{}).trace||{}).line||{},Ud=Gl||Pd.width||0,$d=Sd||Pd.dash||"";I.stroke(Nu,rd||Pd.color),O.dashLine(Nu,$d,Ud)},O.lineGroupStyle=function(_u,Nu,Gl,rd){_u.style("fill","none").each(function(Sd){var Pd=(((Sd||[])[0]||{}).trace||{}).line||{},Ud=Nu||Pd.width||0,$d=rd||Pd.dash||"";A.select(this).call(I.stroke,Gl||Pd.color).call(O.dashLine,$d,Ud)})},O.dashLine=function(_u,Nu,Gl){Gl=+Gl||0,Nu=O.dashStyle(Nu,Gl),_u.style({"stroke-dasharray":Nu,"stroke-width":Gl+"px"})},O.dashStyle=function(_u,Nu){Nu=+Nu||1;var Gl=Math.max(Nu,3);return _u==="solid"?_u="":_u==="dot"?_u=Gl+"px,"+Gl+"px":_u==="dash"?_u=3*Gl+"px,"+3*Gl+"px":_u==="longdash"?_u=5*Gl+"px,"+5*Gl+"px":_u==="dashdot"?_u=3*Gl+"px,"+Gl+"px,"+Gl+"px,"+Gl+"px":_u==="longdashdot"&&(_u=5*Gl+"px,"+2*Gl+"px,"+Gl+"px,"+2*Gl+"px"),_u};function gl(_u,Nu,Gl,rd){var Sd=Nu.fillpattern,Pd=Nu.fillgradient,Ud=O.getPatternAttr,$d=Sd&&(Ud(Sd.shape,0,"")||Ud(Sd.path,0,""));if($d){var th=Ud(Sd.bgcolor,0,null),sh=Ud(Sd.fgcolor,0,null),ah=Sd.fgopacity,Ah=Ud(Sd.size,0,8),Yd=Ud(Sd.solidity,0,.3),Ph=Nu.uid;O.pattern(_u,"point",Gl,Ph,$d,Ah,Yd,void 0,Sd.fillmode,th,sh,ah)}else if(Pd&&Pd.type!=="none"){var jh=Pd.type,Th="scatterfill-"+Nu.uid;if(rd&&(Th="legendfill-"+Nu.uid),!rd&&(Pd.start!==void 0||Pd.stop!==void 0)){var Xh,Pu;jh==="horizontal"?(Xh={x:Pd.start,y:0},Pu={x:Pd.stop,y:0}):jh==="vertical"&&(Xh={x:0,y:Pd.start},Pu={x:0,y:Pd.stop}),Xh.x=Nu._xA.c2p(Xh.x===void 0?Nu._extremes.x.min[0].val:Xh.x,!0),Xh.y=Nu._yA.c2p(Xh.y===void 0?Nu._extremes.y.min[0].val:Xh.y,!0),Pu.x=Nu._xA.c2p(Pu.x===void 0?Nu._extremes.x.max[0].val:Pu.x,!0),Pu.y=Nu._yA.c2p(Pu.y===void 0?Nu._extremes.y.max[0].val:Pu.y,!0),_u.call(il,Gl,Th,"linear",Pd.colorscale,"fill",Xh,Pu,!0,!1)}else jh==="horizontal"&&(jh=jh+"reversed"),_u.call(O.gradient,Gl,Th,jh,Pd.colorscale,"fill")}else Nu.fillcolor&&_u.call(I.fill,Nu.fillcolor)}O.singleFillStyle=function(_u,Nu){var Gl=A.select(_u.node()),rd=Gl.data(),Sd=((rd[0]||[])[0]||{}).trace||{};gl(_u,Sd,Nu,!1)},O.fillGroupStyle=function(_u,Nu,Gl){_u.style("stroke-width",0).each(function(rd){var Sd=A.select(this);rd[0].trace&&gl(Sd,rd[0].trace,Nu,Gl)})};var Bn=nh();O.symbolNames=[],O.symbolFuncs=[],O.symbolBackOffs=[],O.symbolNeedLines={},O.symbolNoDot={},O.symbolNoFill={},O.symbolList=[],Object.keys(Bn).forEach(function(_u){var Nu=Bn[_u],Gl=Nu.n;O.symbolList.push(Gl,String(Gl),_u,Gl+100,String(Gl+100),_u+"-open"),O.symbolNames[Gl]=_u,O.symbolFuncs[Gl]=Nu.f,O.symbolBackOffs[Gl]=Nu.backoff||0,Nu.needLine&&(O.symbolNeedLines[Gl]=!0),Nu.noDot?O.symbolNoDot[Gl]=!0:O.symbolList.push(Gl+200,String(Gl+200),_u+"-dot",Gl+300,String(Gl+300),_u+"-open-dot"),Nu.noFill&&(O.symbolNoFill[Gl]=!0)});var jt=O.symbolNames.length,Pe="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";O.symbolNumber=function(_u){if(P(_u))_u=+_u;else if(typeof _u=="string"){var Nu=0;_u.indexOf("-open")>0&&(Nu=100,_u=_u.replace("-open","")),_u.indexOf("-dot")>0&&(Nu+=200,_u=_u.replace("-dot","")),_u=O.symbolNames.indexOf(_u),_u>=0&&(_u+=Nu)}return _u%100>=jt||_u>=400?0:Math.floor(Math.max(_u,0))};function ml(_u,Nu,Gl,rd){var Sd=_u%100;return O.symbolFuncs[Sd](Nu,Gl,rd)+(_u>=200?Pe:"")}var tl=C("~f"),ul={radial:{type:"radial"},radialreversed:{type:"radial",reversed:!0},horizontal:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0}},horizontalreversed:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0},reversed:!0},vertical:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0}},verticalreversed:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0},reversed:!0}};O.gradient=function(_u,Nu,Gl,rd,Sd,Pd){var Ud=ul[rd];return il(_u,Nu,Gl,Ud.type,Sd,Pd,Ud.start,Ud.stop,!1,Ud.reversed)};function il(_u,Nu,Gl,rd,Sd,Pd,Ud,$d,th,sh){var ah=Sd.length,Ah;rd==="linear"?Ah={node:"linearGradient",attrs:{x1:Ud.x,y1:Ud.y,x2:$d.x,y2:$d.y,gradientUnits:th?"userSpaceOnUse":"objectBoundingBox"},reversed:sh}:rd==="radial"&&(Ah={node:"radialGradient",reversed:sh});for(var Yd=new Array(ah),Ph=0;Ph<ah;Ph++)Ah.reversed?Yd[ah-1-Ph]=[tl((1-Sd[Ph][0])*100),Sd[Ph][1]]:Yd[Ph]=[tl(Sd[Ph][0]*100),Sd[Ph][1]];var jh=Nu._fullLayout,Th="g"+jh._uid+"-"+Gl,Xh=jh._defs.select(".gradients").selectAll("#"+Th).data([rd+Yd.join(";")],v.identity);Xh.exit().remove(),Xh.enter().append(Ah.node).each(function(){var Pu=A.select(this);Ah.attrs&&Pu.attr(Ah.attrs),Pu.attr("id",Th);var sd=Pu.selectAll("stop").data(Yd);sd.exit().remove(),sd.enter().append("stop"),sd.each(function(_l){var Ul=R(_l[1]);A.select(this).attr({offset:_l[0]+"%","stop-color":I.tinyRGB(Ul),"stop-opacity":Ul.getAlpha()})})}),_u.style(Pd,Ll(Th,Nu)).style(Pd+"-opacity",null),_u.classed("gradient_filled",!0)}O.pattern=function(_u,Nu,Gl,rd,Sd,Pd,Ud,$d,th,sh,ah,Ah){var Yd=Nu==="legend";$d&&(th==="overlay"?(sh=$d,ah=I.contrast(sh)):(sh=void 0,ah=$d));var Ph=Gl._fullLayout,jh="p"+Ph._uid+"-"+rd,Th,Xh,Pu=function(lh,hh,gh,Zh,yf){return Zh+(yf-Zh)*(lh-hh)/(gh-hh)},sd,_l,Ul,Jl,Hu={},Ku=R(ah),fd=I.tinyRGB(Ku),bd=Ku.getAlpha(),Nd=Ah*bd;switch(Sd){case"/":Th=Pd*Math.sqrt(2),Xh=Pd*Math.sqrt(2),sd="M-"+Th/4+","+Xh/4+"l"+Th/2+",-"+Xh/2+"M0,"+Xh+"L"+Th+",0M"+Th/4*3+","+Xh/4*5+"l"+Th/2+",-"+Xh/2,_l=Ud*Pd,Jl="path",Hu={d:sd,opacity:Nd,stroke:fd,"stroke-width":_l+"px"};break;case"\\":Th=Pd*Math.sqrt(2),Xh=Pd*Math.sqrt(2),sd="M"+Th/4*3+",-"+Xh/4+"l"+Th/2+","+Xh/2+"M0,0L"+Th+","+Xh+"M-"+Th/4+","+Xh/4*3+"l"+Th/2+","+Xh/2,_l=Ud*Pd,Jl="path",Hu={d:sd,opacity:Nd,stroke:fd,"stroke-width":_l+"px"};break;case"x":Th=Pd*Math.sqrt(2),Xh=Pd*Math.sqrt(2),sd="M-"+Th/4+","+Xh/4+"l"+Th/2+",-"+Xh/2+"M0,"+Xh+"L"+Th+",0M"+Th/4*3+","+Xh/4*5+"l"+Th/2+",-"+Xh/2+"M"+Th/4*3+",-"+Xh/4+"l"+Th/2+","+Xh/2+"M0,0L"+Th+","+Xh+"M-"+Th/4+","+Xh/4*3+"l"+Th/2+","+Xh/2,_l=Pd-Pd*Math.sqrt(1-Ud),Jl="path",Hu={d:sd,opacity:Nd,stroke:fd,"stroke-width":_l+"px"};break;case"|":Th=Pd,Xh=Pd,Jl="path",sd="M"+Th/2+",0L"+Th/2+","+Xh,_l=Ud*Pd,Jl="path",Hu={d:sd,opacity:Nd,stroke:fd,"stroke-width":_l+"px"};break;case"-":Th=Pd,Xh=Pd,Jl="path",sd="M0,"+Xh/2+"L"+Th+","+Xh/2,_l=Ud*Pd,Jl="path",Hu={d:sd,opacity:Nd,stroke:fd,"stroke-width":_l+"px"};break;case"+":Th=Pd,Xh=Pd,Jl="path",sd="M"+Th/2+",0L"+Th/2+","+Xh+"M0,"+Xh/2+"L"+Th+","+Xh/2,_l=Pd-Pd*Math.sqrt(1-Ud),Jl="path",Hu={d:sd,opacity:Nd,stroke:fd,"stroke-width":_l+"px"};break;case".":Th=Pd,Xh=Pd,Ud<Math.PI/4?Ul=Math.sqrt(Ud*Pd*Pd/Math.PI):Ul=Pu(Ud,Math.PI/4,1,Pd/2,Pd/Math.sqrt(2)),Jl="circle",Hu={cx:Th/2,cy:Xh/2,r:Ul,opacity:Nd,fill:fd};break;default:Th=Pd,Xh=Pd,Jl="path",Hu={d:Sd,opacity:Nd,fill:fd};break}var Fd=[Sd||"noSh",sh||"noBg",ah||"noFg",Pd,Ud].join(";"),zd=Ph._defs.select(".patterns").selectAll("#"+jh).data([Fd],v.identity);zd.exit().remove(),zd.enter().append("pattern").each(function(){var lh=A.select(this);if(lh.attr({id:jh,width:Th+"px",height:Xh+"px",patternUnits:"userSpaceOnUse",patternTransform:Yd?"scale(0.8)":""}),sh){var hh=R(sh),gh=I.tinyRGB(hh),Zh=hh.getAlpha(),yf=lh.selectAll("rect").data([0]);yf.exit().remove(),yf.enter().append("rect").attr({width:Th+"px",height:Xh+"px",fill:gh,"fill-opacity":Zh})}var Pf=lh.selectAll(Jl).data([0]);Pf.exit().remove(),Pf.enter().append(Jl).attr(Hu)}),_u.style("fill",Ll(jh,Gl)).style("fill-opacity",null),_u.classed("pattern_filled",!0)},O.initGradients=function(_u){var Nu=_u._fullLayout,Gl=v.ensureSingle(Nu._defs,"g","gradients");Gl.selectAll("linearGradient,radialGradient").remove(),A.select(_u).selectAll(".gradient_filled").classed("gradient_filled",!1)},O.initPatterns=function(_u){var Nu=_u._fullLayout,Gl=v.ensureSingle(Nu._defs,"g","patterns");Gl.selectAll("pattern").remove(),A.select(_u).selectAll(".pattern_filled").classed("pattern_filled",!1)},O.getPatternAttr=function(_u,Nu,Gl){return _u&&v.isArrayOrTypedArray(_u)?Nu<_u.length?_u[Nu]:Gl:_u},O.pointStyle=function(_u,Nu,Gl,rd){if(_u.size()){var Sd=O.makePointStyleFns(Nu);_u.each(function(Pd){O.singlePointStyle(Pd,A.select(this),Nu,Sd,Gl,rd)})}},O.singlePointStyle=function(_u,Nu,Gl,rd,Sd,Pd){var Ud=Gl.marker,$d=Ud.line;if(Pd&&Pd.i>=0&&_u.i===void 0&&(_u.i=Pd.i),Nu.style("opacity",rd.selectedOpacityFn?rd.selectedOpacityFn(_u):_u.mo===void 0?Ud.opacity:_u.mo),rd.ms2mrc){var th;_u.ms==="various"||Ud.size==="various"?th=3:th=rd.ms2mrc(_u.ms),_u.mrc=th,rd.selectedSizeFn&&(th=_u.mrc=rd.selectedSizeFn(_u));var sh=O.symbolNumber(_u.mx||Ud.symbol)||0;_u.om=sh%200>=100;var ah=Ed(_u,Gl),Ah=_t(_u,Gl);Nu.attr("d",ml(sh,th,ah,Ah))}var Yd=!1,Ph,jh,Th;if(_u.so)Th=$d.outlierwidth,jh=$d.outliercolor,Ph=Ud.outliercolor;else{var Xh=($d||{}).width;Th=(_u.mlw+1||Xh+1||(_u.trace?(_u.trace.marker.line||{}).width:0)+1)-1||0,"mlc"in _u?jh=_u.mlcc=rd.lineScale(_u.mlc):v.isArrayOrTypedArray($d.color)?jh=I.defaultLine:jh=$d.color,v.isArrayOrTypedArray(Ud.color)&&(Ph=I.defaultLine,Yd=!0),"mc"in _u?Ph=_u.mcc=rd.markerScale(_u.mc):Ph=Ud.color||Ud.colors||"rgba(0,0,0,0)",rd.selectedColorFn&&(Ph=rd.selectedColorFn(_u))}if(_u.om)Nu.call(I.stroke,Ph).style({"stroke-width":(Th||1)+"px",fill:"none"});else{Nu.style("stroke-width",(_u.isBlank?0:Th)+"px");var Pu=Ud.gradient,sd=_u.mgt;sd?Yd=!0:sd=Pu&&Pu.type,v.isArrayOrTypedArray(sd)&&(sd=sd[0],ul[sd]||(sd=0));var _l=Ud.pattern,Ul=O.getPatternAttr,Jl=_l&&(Ul(_l.shape,_u.i,"")||Ul(_l.path,_u.i,""));if(sd&&sd!=="none"){var Hu=_u.mgc;Hu?Yd=!0:Hu=Pu.color;var Ku=Gl.uid;Yd&&(Ku+="-"+_u.i),O.gradient(Nu,Sd,Ku,sd,[[0,Hu],[1,Ph]],"fill")}else if(Jl){var fd=!1,bd=_l.fgcolor;!bd&&Pd&&Pd.color&&(bd=Pd.color,fd=!0);var Nd=Ul(bd,_u.i,Pd&&Pd.color||null),Fd=Ul(_l.bgcolor,_u.i,null),zd=_l.fgopacity,lh=Ul(_l.size,_u.i,8),hh=Ul(_l.solidity,_u.i,.3);fd=fd||_u.mcc||v.isArrayOrTypedArray(_l.shape)||v.isArrayOrTypedArray(_l.path)||v.isArrayOrTypedArray(_l.bgcolor)||v.isArrayOrTypedArray(_l.fgcolor)||v.isArrayOrTypedArray(_l.size)||v.isArrayOrTypedArray(_l.solidity);var gh=Gl.uid;fd&&(gh+="-"+_u.i),O.pattern(Nu,"point",Sd,gh,Jl,lh,hh,_u.mcc,_l.fillmode,Fd,Nd,zd)}else v.isArrayOrTypedArray(Ph)?I.fill(Nu,Ph[_u.i]):I.fill(Nu,Ph);Th&&I.stroke(Nu,jh)}},O.makePointStyleFns=function(_u){var Nu={},Gl=_u.marker;return Nu.markerScale=O.tryColorscale(Gl,""),Nu.lineScale=O.tryColorscale(Gl,"line"),F.traceIs(_u,"symbols")&&(Nu.ms2mrc=$.isBubble(_u)?q(_u):function(){return(Gl.size||6)/2}),_u.selectedpoints&&v.extendFlat(Nu,O.makeSelectedPointStyleFns(_u)),Nu},O.makeSelectedPointStyleFns=function(_u){var Nu={},Gl=_u.selected||{},rd=_u.unselected||{},Sd=_u.marker||{},Pd=Gl.marker||{},Ud=rd.marker||{},$d=Sd.opacity,th=Pd.opacity,sh=Ud.opacity,ah=th!==void 0,Ah=sh!==void 0;(v.isArrayOrTypedArray($d)||ah||Ah)&&(Nu.selectedOpacityFn=function(Ul){var Jl=Ul.mo===void 0?Sd.opacity:Ul.mo;return Ul.selected?ah?th:Jl:Ah?sh:Z*Jl});var Yd=Sd.color,Ph=Pd.color,jh=Ud.color;(Ph||jh)&&(Nu.selectedColorFn=function(Ul){var Jl=Ul.mcc||Yd;return Ul.selected?Ph||Jl:jh||Jl});var Th=Sd.size,Xh=Pd.size,Pu=Ud.size,sd=Xh!==void 0,_l=Pu!==void 0;return F.traceIs(_u,"symbols")&&(sd||_l)&&(Nu.selectedSizeFn=function(Ul){var Jl=Ul.mrc||Th/2;return Ul.selected?sd?Xh/2:Jl:_l?Pu/2:Jl}),Nu},O.makeSelectedTextStyleFns=function(_u){var Nu={},Gl=_u.selected||{},rd=_u.unselected||{},Sd=_u.textfont||{},Pd=Gl.textfont||{},Ud=rd.textfont||{},$d=Sd.color,th=Pd.color,sh=Ud.color;return Nu.selectedTextColorFn=function(ah){var Ah=ah.tc||$d;return ah.selected?th||Ah:sh||(th?Ah:I.addOpacity(Ah,Z))},Nu},O.selectedPointStyle=function(_u,Nu){if(!(!_u.size()||!Nu.selectedpoints)){var Gl=O.makeSelectedPointStyleFns(Nu),rd=Nu.marker||{},Sd=[];Gl.selectedOpacityFn&&Sd.push(function(Pd,Ud){Pd.style("opacity",Gl.selectedOpacityFn(Ud))}),Gl.selectedColorFn&&Sd.push(function(Pd,Ud){I.fill(Pd,Gl.selectedColorFn(Ud))}),Gl.selectedSizeFn&&Sd.push(function(Pd,Ud){var $d=Ud.mx||rd.symbol||0,th=Gl.selectedSizeFn(Ud);Pd.attr("d",ml(O.symbolNumber($d),th,Ed(Ud,Nu),_t(Ud,Nu))),Ud.mrc2=th}),Sd.length&&_u.each(function(Pd){for(var Ud=A.select(this),$d=0;$d<Sd.length;$d++)Sd[$d](Ud,Pd)})}},O.tryColorscale=function(_u,Nu){var Gl=Nu?v.nestedProperty(_u,Nu).get():_u;if(Gl){var rd=Gl.color;if((Gl.colorscale||Gl._colorAx)&&v.isArrayOrTypedArray(rd))return B.makeColorScaleFuncFromTrace(Gl)}return v.identity};var sl={start:1,end:-1,middle:0,bottom:1,top:-1};function vl(_u,Nu,Gl,rd,Sd){var Pd=A.select(_u.node().parentNode),Ud=Nu.indexOf("top")!==-1?"top":Nu.indexOf("bottom")!==-1?"bottom":"middle",$d=Nu.indexOf("left")!==-1?"end":Nu.indexOf("right")!==-1?"start":"middle",th=rd?rd/.8+1:0,sh=(W.lineCount(_u)-1)*Q+1,ah=sl[$d]*th,Ah=Gl*.75+sl[Ud]*th+(sl[Ud]-1)*sh*Gl/2;_u.attr("text-anchor",$d),Sd||Pd.attr("transform",x(ah,Ah))}function yl(_u,Nu){var Gl=_u.ts||Nu.textfont.size;return P(Gl)&&Gl>0?Gl:0}O.textPointStyle=function(_u,Nu,Gl){if(_u.size()){var rd;if(Nu.selectedpoints){var Sd=O.makeSelectedTextStyleFns(Nu);rd=Sd.selectedTextColorFn}var Pd=Nu.texttemplate,Ud=Gl._fullLayout;_u.each(function($d){var th=A.select(this),sh=Pd?v.extractOption($d,Nu,"txt","texttemplate"):v.extractOption($d,Nu,"tx","text");if(!sh&&sh!==0){th.remove();return}if(Pd){var ah=Nu._module.formatLabels,Ah=ah?ah($d,Nu,Ud):{},Yd={};J(Yd,Nu,$d.i);var Ph=Nu._meta||{};sh=v.texttemplateString(sh,Ah,Ud._d3locale,Yd,$d,Ph)}var jh=$d.tp||Nu.textposition,Th=yl($d,Nu),Xh=rd?rd($d):$d.tc||Nu.textfont.color;th.call(O.font,{family:$d.tf||Nu.textfont.family,weight:$d.tw||Nu.textfont.weight,style:$d.ty||Nu.textfont.style,variant:$d.tv||Nu.textfont.variant,textcase:$d.tC||Nu.textfont.textcase,lineposition:$d.tE||Nu.textfont.lineposition,shadow:$d.tS||Nu.textfont.shadow,size:Th,color:Xh}).text(sh).call(W.convertToTspans,Gl).call(vl,jh,Th,$d.mrc)})}},O.selectedTextStyle=function(_u,Nu){if(!(!_u.size()||!Nu.selectedpoints)){var Gl=O.makeSelectedTextStyleFns(Nu);_u.each(function(rd){var Sd=A.select(this),Pd=Gl.selectedTextColorFn(rd),Ud=rd.tp||Nu.textposition,$d=yl(rd,Nu);I.fill(Sd,Pd);var th=F.traceIs(Nu,"bar-like");vl(Sd,Ud,$d,rd.mrc2||rd.mrc,th)})}};var Fn=.5;O.smoothopen=function(_u,Nu){if(_u.length<3)return"M"+_u.join("L");var Gl="M"+_u[0],rd=[],Sd;for(Sd=1;Sd<_u.length-1;Sd++)rd.push(gu(_u[Sd-1],_u[Sd],_u[Sd+1],Nu));for(Gl+="Q"+rd[0][0]+" "+_u[1],Sd=2;Sd<_u.length-1;Sd++)Gl+="C"+rd[Sd-2][1]+" "+rd[Sd-1][0]+" "+_u[Sd];return Gl+="Q"+rd[_u.length-3][1]+" "+_u[_u.length-1],Gl},O.smoothclosed=function(_u,Nu){if(_u.length<3)return"M"+_u.join("L")+"Z";var Gl="M"+_u[0],rd=_u.length-1,Sd=[gu(_u[rd],_u[0],_u[1],Nu)],Pd;for(Pd=1;Pd<rd;Pd++)Sd.push(gu(_u[Pd-1],_u[Pd],_u[Pd+1],Nu));for(Sd.push(gu(_u[rd-1],_u[rd],_u[0],Nu)),Pd=1;Pd<=rd;Pd++)Gl+="C"+Sd[Pd-1][1]+" "+Sd[Pd][0]+" "+_u[Pd];return Gl+="C"+Sd[rd][1]+" "+Sd[0][0]+" "+_u[0]+"Z",Gl};var xl,wl;function kl(_u,Nu,Gl){return Gl&&(_u=cl(_u)),Nu?Ol(_u[1]):Dl(_u[0])}function Dl(_u){var Nu=A.round(_u,2);return xl=Nu,Nu}function Ol(_u){var Nu=A.round(_u,2);return wl=Nu,Nu}function gu(_u,Nu,Gl,rd){var Sd=_u[0]-Nu[0],Pd=_u[1]-Nu[1],Ud=Gl[0]-Nu[0],$d=Gl[1]-Nu[1],th=Math.pow(Sd*Sd+Pd*Pd,Fn/2),sh=Math.pow(Ud*Ud+$d*$d,Fn/2),ah=(sh*sh*Sd-th*th*Ud)*rd,Ah=(sh*sh*Pd-th*th*$d)*rd,Yd=3*sh*(th+sh),Ph=3*th*(th+sh);return[[Dl(Nu[0]+(Yd&&ah/Yd)),Ol(Nu[1]+(Yd&&Ah/Yd))],[Dl(Nu[0]-(Ph&&ah/Ph)),Ol(Nu[1]-(Ph&&Ah/Ph))]]}var yu={hv:function(_u,Nu,Gl){return"H"+Dl(Nu[0])+"V"+kl(Nu,1,Gl)},vh:function(_u,Nu,Gl){return"V"+Ol(Nu[1])+"H"+kl(Nu,0,Gl)},hvh:function(_u,Nu,Gl){return"H"+Dl((_u[0]+Nu[0])/2)+"V"+Ol(Nu[1])+"H"+kl(Nu,0,Gl)},vhv:function(_u,Nu,Gl){return"V"+Ol((_u[1]+Nu[1])/2)+"H"+Dl(Nu[0])+"V"+kl(Nu,1,Gl)}},Iu=function(_u,Nu,Gl){return"L"+kl(Nu,0,Gl)+","+kl(Nu,1,Gl)};O.steps=function(_u){var Nu=yu[_u]||Iu;return function(Gl){for(var rd="M"+Dl(Gl[0][0])+","+Ol(Gl[0][1]),Sd=Gl.length,Pd=1;Pd<Sd;Pd++)rd+=Nu(Gl[Pd-1],Gl[Pd],Pd===Sd-1);return rd}};function cl(_u,Nu){var Gl=_u.backoff,rd=_u.trace,Sd=_u.d,Pd=_u.i;if(Gl&&rd&&rd.marker&&rd.marker.angle%360===0&&rd.line&&rd.line.shape!=="spline"){var Ud=v.isArrayOrTypedArray(Gl),$d=_u,th=Nu?Nu[0]:xl||0,sh=Nu?Nu[1]:wl||0,ah=$d[0],Ah=$d[1],Yd=ah-th,Ph=Ah-sh,jh=Math.atan2(Ph,Yd),Th=Ud?Gl[Pd]:Gl;if(Th==="auto"){var Xh=$d.i;rd.type==="scatter"&&Xh--;var Pu=$d.marker,sd=Pu.symbol;v.isArrayOrTypedArray(sd)&&(sd=sd[Xh]);var _l=Pu.size;v.isArrayOrTypedArray(_l)&&(_l=_l[Xh]),Th=Pu?O.symbolBackOffs[O.symbolNumber(sd)]*_l:0,Th+=O.getMarkerStandoff(Sd[Xh],rd)||0}var Ul=ah-Th*Math.cos(jh),Jl=Ah-Th*Math.sin(jh);(Ul<=ah&&Ul>=th||Ul>=ah&&Ul<=th)&&(Jl<=Ah&&Jl>=sh||Jl>=Ah&&Jl<=sh)&&(_u=[Ul,Jl])}return _u}O.applyBackoff=cl,O.makeTester=function(){var _u=v.ensureSingleById(A.select("body"),"svg","js-plotly-tester",function(Gl){Gl.attr(z.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),Nu=v.ensureSingle(_u,"path","js-reference-point",function(Gl){Gl.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});O.tester=_u,O.testref=Nu},O.savedBBoxes={};var pl=0,it=1e4;O.bBox=function(_u,Nu,Gl){Gl||(Gl=bl(_u));var rd;if(Gl){if(rd=O.savedBBoxes[Gl],rd)return v.extendFlat({},rd)}else if(_u.childNodes.length===1){var Sd=_u.childNodes[0];if(Gl=bl(Sd),Gl){var Pd=+Sd.getAttribute("x")||0,Ud=+Sd.getAttribute("y")||0,$d=Sd.getAttribute("transform");if(!$d){var th=O.bBox(Sd,!1,Gl);return Pd&&(th.left+=Pd,th.right+=Pd),Ud&&(th.top+=Ud,th.bottom+=Ud),th}if(Gl+="~"+Pd+"~"+Ud+"~"+$d,rd=O.savedBBoxes[Gl],rd)return v.extendFlat({},rd)}}var sh,ah;Nu?sh=_u:(ah=O.tester.node(),sh=_u.cloneNode(!0),ah.appendChild(sh)),A.select(sh).attr("transform",null).call(W.positionText,0,0);var Ah=sh.getBoundingClientRect(),Yd=O.testref.node().getBoundingClientRect();Nu||ah.removeChild(sh);var Ph={height:Ah.height,width:Ah.width,left:Ah.left-Yd.left,top:Ah.top-Yd.top,right:Ah.right-Yd.left,bottom:Ah.bottom-Yd.top};return pl>=it&&(O.savedBBoxes={},pl=0),Gl&&(O.savedBBoxes[Gl]=Ph),pl++,v.extendFlat({},Ph)};function bl(_u){var Nu=_u.getAttribute("data-unformatted");if(Nu!==null)return Nu+_u.getAttribute("data-math")+_u.getAttribute("text-anchor")+_u.getAttribute("style")}O.setClipUrl=function(_u,Nu,Gl){_u.attr("clip-path",Ll(Nu,Gl))};function Ll(_u,Nu){if(!_u)return null;var Gl=Nu._context,rd=Gl._exportedPlot?"":Gl._baseUrl||"";return rd?"url('"+rd+"#"+_u+"')":"url(#"+_u+")"}O.getTranslate=function(_u){var Nu=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,Gl=_u.attr?"attr":"getAttribute",rd=_u[Gl]("transform")||"",Sd=rd.replace(Nu,function(Pd,Ud,$d){return[Ud,$d].join(" ")}).split(" ");return{x:+Sd[0]||0,y:+Sd[1]||0}},O.setTranslate=function(_u,Nu,Gl){var rd=/(\btranslate\(.*?\);?)/,Sd=_u.attr?"attr":"getAttribute",Pd=_u.attr?"attr":"setAttribute",Ud=_u[Sd]("transform")||"";return Nu=Nu||0,Gl=Gl||0,Ud=Ud.replace(rd,"").trim(),Ud+=x(Nu,Gl),Ud=Ud.trim(),_u[Pd]("transform",Ud),Ud},O.getScale=function(_u){var Nu=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,Gl=_u.attr?"attr":"getAttribute",rd=_u[Gl]("transform")||"",Sd=rd.replace(Nu,function(Pd,Ud,$d){return[Ud,$d].join(" ")}).split(" ");return{x:+Sd[0]||1,y:+Sd[1]||1}},O.setScale=function(_u,Nu,Gl){var rd=/(\bscale\(.*?\);?)/,Sd=_u.attr?"attr":"getAttribute",Pd=_u.attr?"attr":"setAttribute",Ud=_u[Sd]("transform")||"";return Nu=Nu||1,Gl=Gl||1,Ud=Ud.replace(rd,"").trim(),Ud+="scale("+Nu+","+Gl+")",Ud=Ud.trim(),_u[Pd]("transform",Ud),Ud};var nl=/\s*sc.*/;O.setPointGroupScale=function(_u,Nu,Gl){if(Nu=Nu||1,Gl=Gl||1,!!_u){var rd=Nu===1&&Gl===1?"":"scale("+Nu+","+Gl+")";_u.each(function(){var Sd=(this.getAttribute("transform")||"").replace(nl,"");Sd+=rd,Sd=Sd.trim(),this.setAttribute("transform",Sd)})}};var ve=/translate\([^)]*\)\s*$/;O.setTextPointsScale=function(_u,Nu,Gl){_u&&_u.each(function(){var rd,Sd=A.select(this),Pd=Sd.select("text");if(Pd.node()){var Ud=parseFloat(Pd.attr("x")||0),$d=parseFloat(Pd.attr("y")||0),th=(Sd.attr("transform")||"").match(ve);Nu===1&&Gl===1?rd=[]:rd=[x(Ud,$d),"scale("+Nu+","+Gl+")",x(-Ud,-$d)],th&&rd.push(th),Sd.attr("transform",rd.join(""))}})};function _t(_u,Nu){var Gl;return _u&&(Gl=_u.mf),Gl===void 0&&(Gl=Nu.marker&&Nu.marker.standoff||0),!Nu._geo&&!Nu._xA?-Gl:Gl}O.getMarkerStandoff=_t;var ol=Math.atan2,dl=Math.cos,Il=Math.sin;function ql(_u,Nu){var Gl=Nu[0],rd=Nu[1];return[Gl*dl(_u)-rd*Il(_u),Gl*Il(_u)+rd*dl(_u)]}var Zl,Bu,Ju,yd,Hd,Rd;function Ed(_u,Nu){var Gl=_u.ma;Gl===void 0&&(Gl=Nu.marker.angle,(!Gl||v.isArrayOrTypedArray(Gl))&&(Gl=0));var rd,Sd,Pd=Nu.marker.angleref;if(Pd==="previous"||Pd==="north"){if(Nu._geo){var Ud=Nu._geo.project(_u.lonlat);rd=Ud[0],Sd=Ud[1]}else{var $d=Nu._xA,th=Nu._yA;if($d&&th)rd=$d.c2p(_u.x),Sd=th.c2p(_u.y);else return 90}if(Nu._geo){var sh=_u.lonlat[0],ah=_u.lonlat[1],Ah=Nu._geo.project([sh,ah+1e-5]),Yd=Nu._geo.project([sh+1e-5,ah]),Ph=ol(Yd[1]-Sd,Yd[0]-rd),jh=ol(Ah[1]-Sd,Ah[0]-rd),Th;if(Pd==="north")Th=Gl/180*Math.PI;else if(Pd==="previous"){var Xh=sh/180*Math.PI,Pu=ah/180*Math.PI,sd=Zl/180*Math.PI,_l=Bu/180*Math.PI,Ul=sd-Xh,Jl=dl(_l)*Il(Ul),Hu=Il(_l)*dl(Pu)-dl(_l)*Il(Pu)*dl(Ul);Th=-ol(Jl,Hu)-Math.PI,Zl=sh,Bu=ah}var Ku=ql(Ph,[dl(Th),0]),fd=ql(jh,[Il(Th),0]);Gl=ol(Ku[1]+fd[1],Ku[0]+fd[0])/Math.PI*180,Pd==="previous"&&!(Rd===Nu.uid&&_u.i===Hd+1)&&(Gl=null)}if(Pd==="previous"&&!Nu._geo)if(Rd===Nu.uid&&_u.i===Hd+1&&P(rd)&&P(Sd)){var bd=rd-Ju,Nd=Sd-yd,Fd=Nu.line&&Nu.line.shape||"",zd=Fd.slice(Fd.length-1);zd==="h"&&(Nd=0),zd==="v"&&(bd=0),Gl+=ol(Nd,bd)/Math.PI*180+90}else Gl=null}return Ju=rd,yd=Sd,Hd=_u.i,Rd=Nu.uid,Gl}O.getMarkerAngle=Ed}),vh=o((rl,In)=>{var A=f(),v=G(),C=Jp(),P=Ep(),R=ls(),F=R.strTranslate,I=dh(),B=Bd(),x=ag(),W=Cd(),z=i0().OPPOSITE_SIDE,U=/ [XY][0-9]* /,Q=1.6,Z=1.6;function $(q,J,O){var j=q._fullLayout,Y=O.propContainer,se=O.propName,nt=O.placeholder,gl=O.traceIndex,Bn=O.avoid||{},jt=O.attributes,Pe=O.transform,ml=O.containerGroup,tl=1,ul=Y.title,il=(ul&&ul.text?ul.text:"").trim(),sl=!1,vl=ul&&ul.font?ul.font:{},yl=vl.family,Fn=vl.size,xl=vl.color,wl=vl.weight,kl=vl.style,Dl=vl.variant,Ol=vl.textcase,gu=vl.lineposition,yu=vl.shadow,Iu=O.subtitlePropName,cl=!!Iu,pl=O.subtitlePlaceholder,it=(Y.title||{}).subtitle||{text:"",font:{}},bl=(it.text||"").trim(),Ll=!1,nl=1,ve=it.font,_t=ve.family,ol=ve.size,dl=ve.color,Il=ve.weight,ql=ve.style,Zl=ve.variant,Bu=ve.textcase,Ju=ve.lineposition,yd=ve.shadow,Hd;se==="title.text"?Hd="titleText":se.indexOf("axis")!==-1?Hd="axisTitleText":se.indexOf("colorbar")!==-1&&(Hd="colorbarTitleText");var Rd=q._context.edits[Hd];function Ed(Yd,Ph){return Yd===void 0||Ph===void 0?!1:Yd.replace(U," % ")===Ph.replace(U," % ")}il===""?tl=0:Ed(il,nt)&&(Rd||(il=""),tl=.2,sl=!0),cl&&(bl===""?nl=0:Ed(bl,pl)&&(Rd||(bl=""),nl=.2,Ll=!0)),O._meta?il=R.templateString(il,O._meta):j._meta&&(il=R.templateString(il,j._meta));var _u=il||bl||Rd,Nu;ml||(ml=R.ensureSingle(j._infolayer,"g","g-"+J),Nu=j._hColorbarMoveTitle);var Gl=ml.selectAll("text."+J).data(_u?[0]:[]);Gl.enter().append("text"),Gl.text(il).attr("class",J),Gl.exit().remove();var rd=null,Sd=J+"-subtitle",Pd=bl||Rd;if(cl&&(rd=ml.selectAll("text."+Sd).data(Pd?[0]:[]),rd.enter().append("text"),rd.text(bl).attr("class",Sd),rd.exit().remove()),!_u)return ml;function Ud(Yd,Ph){R.syncOrAsync([$d,th],{title:Yd,subtitle:Ph})}function $d(Yd){var Ph=Yd.title,jh=Yd.subtitle,Th;!Pe&&Nu&&(Pe={}),Pe?(Th="",Pe.rotate&&(Th+="rotate("+[Pe.rotate,jt.x,jt.y]+")"),(Pe.offset||Nu)&&(Th+=F(0,(Pe.offset||0)-(Nu||0)))):Th=null,Ph.attr("transform",Th);function Xh(Hu){if(Hu){var Ku=A.select(Hu.node().parentNode).select("."+Sd);if(!Ku.empty()){var fd=Hu.node().getBBox();if(fd.height){var bd=fd.y+fd.height+Q*ol;Ku.attr("y",bd)}}}}if(Ph.style("opacity",tl*B.opacity(xl)).call(I.font,{color:B.rgb(xl),size:A.round(Fn,2),family:yl,weight:wl,style:kl,variant:Dl,textcase:Ol,shadow:yu,lineposition:gu}).attr(jt).call(x.convertToTspans,q,Xh),jh&&!jh.empty()){var Pu=ml.select("."+J+"-math-group"),sd=Ph.node().getBBox(),_l=Pu.node()?Pu.node().getBBox():void 0,Ul=_l?_l.y+_l.height+Q*ol:sd.y+sd.height+Z*ol,Jl=R.extendFlat({},jt,{y:Ul});jh.attr("transform",Th),jh.style("opacity",nl*B.opacity(dl)).call(I.font,{color:B.rgb(dl),size:A.round(ol,2),family:_t,weight:Il,style:ql,variant:Zl,textcase:Bu,shadow:yd,lineposition:Ju}).attr(Jl).call(x.convertToTspans,q)}return C.previousPromises(q)}function th(Yd){var Ph=Yd.title,jh=A.select(Ph.node().parentNode);if(Bn&&Bn.selection&&Bn.side&&il){jh.attr("transform",null);var Th=z[Bn.side],Xh=Bn.side==="left"||Bn.side==="top"?-1:1,Pu=v(Bn.pad)?Bn.pad:2,sd=I.bBox(jh.node()),_l={t:0,b:0,l:0,r:0},Ul=q._fullLayout._reservedMargin;for(var Jl in Ul)for(var Hu in Ul[Jl]){var Ku=Ul[Jl][Hu];_l[Hu]=Math.max(_l[Hu],Ku)}var fd={left:_l.l,top:_l.t,right:j.width-_l.r,bottom:j.height-_l.b},bd=Bn.maxShift||Xh*(fd[Bn.side]-sd[Bn.side]),Nd=0;if(bd<0)Nd=bd;else{var Fd=Bn.offsetLeft||0,zd=Bn.offsetTop||0;sd.left-=Fd,sd.right-=Fd,sd.top-=zd,sd.bottom-=zd,Bn.selection.each(function(){var hh=I.bBox(this);R.bBoxIntersect(sd,hh,Pu)&&(Nd=Math.max(Nd,Xh*(hh[Bn.side]-sd[Th])+Pu))}),Nd=Math.min(bd,Nd),Y._titleScoot=Math.abs(Nd)}if(Nd>0||bd<0){var lh={left:[-Nd,0],right:[Nd,0],top:[0,-Nd],bottom:[0,Nd]}[Bn.side];jh.attr("transform",F(lh[0],lh[1]))}}}Gl.call(Ud,rd);function sh(Yd,Ph){Yd.text(Ph).on("mouseover.opacity",function(){A.select(this).transition().duration(W.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){A.select(this).transition().duration(W.HIDE_PLACEHOLDER).style("opacity",0)})}if(Rd&&(il?Gl.on(".opacity",null):(sh(Gl,nt),sl=!0),Gl.call(x.makeEditable,{gd:q}).on("edit",function(Yd){gl!==void 0?P.call("_guiRestyle",q,se,Yd,gl):P.call("_guiRelayout",q,se,Yd)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(Ud)}).on("input",function(Yd){this.text(Yd||" ").call(x.positionText,jt.x,jt.y)}),cl)){if(cl&&!il){var ah=Gl.node().getBBox(),Ah=ah.y+ah.height+Z*ol;rd.attr("y",Ah)}bl?rd.on(".opacity",null):(sh(rd,pl),Ll=!0),rd.call(x.makeEditable,{gd:q}).on("edit",function(Yd){P.call("_guiRelayout",q,"title.subtitle.text",Yd)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(Ud)}).on("input",function(Yd){this.text(Yd||" ").call(x.positionText,rd.attr("x"),rd.attr("y"))})}return Gl.classed("js-placeholder",sl),rd&&!rd.empty()&&rd.classed("js-placeholder",Ll),ml}In.exports={draw:$,SUBTITLE_PADDING_EM:Z,SUBTITLE_PADDING_MATHJAX_EM:Q}}),Xl=o((rl,In)=>{var A=f(),v=w().utcFormat,C=ls(),P=C.numberFormat,R=G(),F=C.cleanNumber,I=C.ms2DateTime,B=C.dateTime2ms,x=C.ensureNumber,W=C.isArrayOrTypedArray,z=H(),U=z.FP_SAFE,Q=z.BADNUM,Z=z.LOG_CLIP,$=z.ONEWEEK,q=z.ONEDAY,J=z.ONEHOUR,O=z.ONEMIN,j=z.ONESEC,Y=Nh(),se=vp(),nt=se.HOUR_PATTERN,gl=se.WEEKDAY_PATTERN;function Bn(Pe){return Math.pow(10,Pe)}function jt(Pe){return Pe!=null}In.exports=function(Pe,ml){ml=ml||{};var tl=Pe._id||"x",ul=tl.charAt(0);function il(it,bl){if(it>0)return Math.log(it)/Math.LN10;if(it<=0&&bl&&Pe.range&&Pe.range.length===2){var Ll=Pe.range[0],nl=Pe.range[1];return .5*(Ll+nl-2*Z*Math.abs(Ll-nl))}else return Q}function sl(it,bl,Ll,nl){if((nl||{}).msUTC&&R(it))return+it;var ve=B(it,Ll||Pe.calendar);if(ve===Q)if(R(it)){it=+it;var _t=Math.floor(C.mod(it+.05,1)*10),ol=Math.round(it-_t/10);ve=B(new Date(ol))+_t/10}else return Q;return ve}function vl(it,bl,Ll){return I(it,bl,Ll||Pe.calendar)}function yl(it){return Pe._categories[Math.round(it)]}function Fn(it){if(jt(it)){if(Pe._categoriesMap===void 0&&(Pe._categoriesMap={}),Pe._categoriesMap[it]!==void 0)return Pe._categoriesMap[it];Pe._categories.push(typeof it=="number"?String(it):it);var bl=Pe._categories.length-1;return Pe._categoriesMap[it]=bl,bl}return Q}function xl(it,bl){for(var Ll=new Array(bl),nl=0;nl<bl;nl++){var ve=(it[0]||[])[nl],_t=(it[1]||[])[nl];Ll[nl]=wl([ve,_t])}return Ll}function wl(it){if(Pe._categoriesMap)return Pe._categoriesMap[it]}function kl(it){var bl=wl(it);if(bl!==void 0)return bl;if(R(it))return+it}function Dl(it){return R(it)?+it:wl(it)}function Ol(it,bl,Ll){return A.round(Ll+bl*it,2)}function gu(it,bl,Ll){return(it-Ll)/bl}var yu=function(it){return R(it)?Ol(it,Pe._m,Pe._b):Q},Iu=function(it){return gu(it,Pe._m,Pe._b)};if(Pe.rangebreaks){var cl=ul==="y";yu=function(it){if(!R(it))return Q;var bl=Pe._rangebreaks.length;if(!bl)return Ol(it,Pe._m,Pe._b);var Ll=cl;Pe.range[0]>Pe.range[1]&&(Ll=!Ll);for(var nl=Ll?-1:1,ve=nl*it,_t=0,ol=0;ol<bl;ol++){var dl=nl*Pe._rangebreaks[ol].min,Il=nl*Pe._rangebreaks[ol].max;if(ve<dl)break;if(ve>Il)_t=ol+1;else{_t=ve<(dl+Il)/2?ol:ol+1;break}}var ql=Pe._B[_t]||0;return isFinite(ql)?Ol(it,Pe._m2,ql):0},Iu=function(it){var bl=Pe._rangebreaks.length;if(!bl)return gu(it,Pe._m,Pe._b);for(var Ll=0,nl=0;nl<bl&&!(it<Pe._rangebreaks[nl].pmin);nl++)it>Pe._rangebreaks[nl].pmax&&(Ll=nl+1);return gu(it,Pe._m2,Pe._B[Ll])}}Pe.c2l=Pe.type==="log"?il:x,Pe.l2c=Pe.type==="log"?Bn:x,Pe.l2p=yu,Pe.p2l=Iu,Pe.c2p=Pe.type==="log"?function(it,bl){return yu(il(it,bl))}:yu,Pe.p2c=Pe.type==="log"?function(it){return Bn(Iu(it))}:Iu,["linear","-"].indexOf(Pe.type)!==-1?(Pe.d2r=Pe.r2d=Pe.d2c=Pe.r2c=Pe.d2l=Pe.r2l=F,Pe.c2d=Pe.c2r=Pe.l2d=Pe.l2r=x,Pe.d2p=Pe.r2p=function(it){return Pe.l2p(F(it))},Pe.p2d=Pe.p2r=Iu,Pe.cleanPos=x):Pe.type==="log"?(Pe.d2r=Pe.d2l=function(it,bl){return il(F(it),bl)},Pe.r2d=Pe.r2c=function(it){return Bn(F(it))},Pe.d2c=Pe.r2l=F,Pe.c2d=Pe.l2r=x,Pe.c2r=il,Pe.l2d=Bn,Pe.d2p=function(it,bl){return Pe.l2p(Pe.d2r(it,bl))},Pe.p2d=function(it){return Bn(Iu(it))},Pe.r2p=function(it){return Pe.l2p(F(it))},Pe.p2r=Iu,Pe.cleanPos=x):Pe.type==="date"?(Pe.d2r=Pe.r2d=C.identity,Pe.d2c=Pe.r2c=Pe.d2l=Pe.r2l=sl,Pe.c2d=Pe.c2r=Pe.l2d=Pe.l2r=vl,Pe.d2p=Pe.r2p=function(it,bl,Ll){return Pe.l2p(sl(it,0,Ll))},Pe.p2d=Pe.p2r=function(it,bl,Ll){return vl(Iu(it),bl,Ll)},Pe.cleanPos=function(it){return C.cleanDate(it,Q,Pe.calendar)}):Pe.type==="category"?(Pe.d2c=Pe.d2l=Fn,Pe.r2d=Pe.c2d=Pe.l2d=yl,Pe.d2r=Pe.d2l_noadd=kl,Pe.r2c=function(it){var bl=Dl(it);return bl!==void 0?bl:Pe.fraction2r(.5)},Pe.l2r=Pe.c2r=x,Pe.r2l=Dl,Pe.d2p=function(it){return Pe.l2p(Pe.r2c(it))},Pe.p2d=function(it){return yl(Iu(it))},Pe.r2p=Pe.d2p,Pe.p2r=Iu,Pe.cleanPos=function(it){return typeof it=="string"&&it!==""?it:x(it)}):Pe.type==="multicategory"&&(Pe.r2d=Pe.c2d=Pe.l2d=yl,Pe.d2r=Pe.d2l_noadd=kl,Pe.r2c=function(it){var bl=kl(it);return bl!==void 0?bl:Pe.fraction2r(.5)},Pe.r2c_just_indices=wl,Pe.l2r=Pe.c2r=x,Pe.r2l=kl,Pe.d2p=function(it){return Pe.l2p(Pe.r2c(it))},Pe.p2d=function(it){return yl(Iu(it))},Pe.r2p=Pe.d2p,Pe.p2r=Iu,Pe.cleanPos=function(it){return Array.isArray(it)||typeof it=="string"&&it!==""?it:x(it)},Pe.setupMultiCategory=function(it){var bl=Pe._traceIndices,Ll,nl,ve=Pe._matchGroup;if(ve&&Pe._categories.length===0){for(var _t in ve)if(_t!==tl){var ol=ml[Y.id2name(_t)];bl=bl.concat(ol._traceIndices)}}var dl=[[0,{}],[0,{}]],Il=[];for(Ll=0;Ll<bl.length;Ll++){var ql=it[bl[Ll]];if(ul in ql){var Zl=ql[ul],Bu=ql._length||C.minRowLength(Zl);if(W(Zl[0])&&W(Zl[1]))for(nl=0;nl<Bu;nl++){var Ju=Zl[0][nl],yd=Zl[1][nl];jt(Ju)&&jt(yd)&&(Il.push([Ju,yd]),Ju in dl[0][1]||(dl[0][1][Ju]=dl[0][0]++),yd in dl[1][1]||(dl[1][1][yd]=dl[1][0]++))}}}for(Il.sort(function(Hd,Rd){var Ed=dl[0][1],_u=Ed[Hd[0]]-Ed[Rd[0]];if(_u)return _u;var Nu=dl[1][1];return Nu[Hd[1]]-Nu[Rd[1]]}),Ll=0;Ll<Il.length;Ll++)Fn(Il[Ll])}),Pe.fraction2r=function(it){var bl=Pe.r2l(Pe.range[0]),Ll=Pe.r2l(Pe.range[1]);return Pe.l2r(bl+it*(Ll-bl))},Pe.r2fraction=function(it){var bl=Pe.r2l(Pe.range[0]),Ll=Pe.r2l(Pe.range[1]);return(Pe.r2l(it)-bl)/(Ll-bl)},Pe.limitRange=function(it){var bl=Pe.minallowed,Ll=Pe.maxallowed;if(!(bl===void 0&&Ll===void 0)){it||(it="range");var nl=C.nestedProperty(Pe,it).get(),ve=C.simpleMap(nl,Pe.r2l),_t=ve[1]<ve[0];_t&&ve.reverse();var ol=C.simpleMap([bl,Ll],Pe.r2l);if(bl!==void 0&&ve[0]<ol[0]&&(nl[_t?1:0]=bl),Ll!==void 0&&ve[1]>ol[1]&&(nl[_t?0:1]=Ll),nl[0]===nl[1]){var dl=Pe.l2r(bl),Il=Pe.l2r(Ll);if(bl!==void 0){var ql=dl+1;Ll!==void 0&&(ql=Math.min(ql,Il)),nl[_t?1:0]=ql}if(Ll!==void 0){var Zl=Il+1;bl!==void 0&&(Zl=Math.max(Zl,dl)),nl[_t?0:1]=Zl}}}},Pe.cleanRange=function(it,bl){Pe._cleanRange(it,bl),Pe.limitRange(it)},Pe._cleanRange=function(it,bl){bl||(bl={}),it||(it="range");var Ll=C.nestedProperty(Pe,it).get(),nl,ve;if(Pe.type==="date"?ve=C.dfltRange(Pe.calendar):ul==="y"?ve=se.DFLTRANGEY:Pe._name==="realaxis"?ve=[0,1]:ve=bl.dfltRange||se.DFLTRANGEX,ve=ve.slice(),(Pe.rangemode==="tozero"||Pe.rangemode==="nonnegative")&&(ve[0]=0),!Ll||Ll.length!==2){C.nestedProperty(Pe,it).set(ve);return}var _t=Ll[0]===null,ol=Ll[1]===null;for(Pe.type==="date"&&!Pe.autorange&&(Ll[0]=C.cleanDate(Ll[0],Q,Pe.calendar),Ll[1]=C.cleanDate(Ll[1],Q,Pe.calendar)),nl=0;nl<2;nl++)if(Pe.type==="date"){if(!C.isDateTime(Ll[nl],Pe.calendar)){Pe[it]=ve;break}if(Pe.r2l(Ll[0])===Pe.r2l(Ll[1])){var dl=C.constrain(Pe.r2l(Ll[0]),C.MIN_MS+1e3,C.MAX_MS-1e3);Ll[0]=Pe.l2r(dl-1e3),Ll[1]=Pe.l2r(dl+1e3);break}}else{if(!R(Ll[nl]))if(!(_t||ol)&&R(Ll[1-nl]))Ll[nl]=Ll[1-nl]*(nl?10:.1);else{Pe[it]=ve;break}if(Ll[nl]<-U?Ll[nl]=-U:Ll[nl]>U&&(Ll[nl]=U),Ll[0]===Ll[1]){var Il=Math.max(1,Math.abs(Ll[0]*1e-6));Ll[0]-=Il,Ll[1]+=Il}}},Pe.setScale=function(it){var bl=ml._size;if(Pe.overlaying){var Ll=Y.getFromId({_fullLayout:ml},Pe.overlaying);Pe.domain=Ll.domain}var nl=it&&Pe._r?"_r":"range",ve=Pe.calendar;Pe.cleanRange(nl);var _t=Pe.r2l(Pe[nl][0],ve),ol=Pe.r2l(Pe[nl][1],ve),dl=ul==="y";if(dl?(Pe._offset=bl.t+(1-Pe.domain[1])*bl.h,Pe._length=bl.h*(Pe.domain[1]-Pe.domain[0]),Pe._m=Pe._length/(_t-ol),Pe._b=-Pe._m*ol):(Pe._offset=bl.l+Pe.domain[0]*bl.w,Pe._length=bl.w*(Pe.domain[1]-Pe.domain[0]),Pe._m=Pe._length/(ol-_t),Pe._b=-Pe._m*_t),Pe._rangebreaks=[],Pe._lBreaks=0,Pe._m2=0,Pe._B=[],Pe.rangebreaks){var Il,ql;if(Pe._rangebreaks=Pe.locateBreaks(Math.min(_t,ol),Math.max(_t,ol)),Pe._rangebreaks.length){for(Il=0;Il<Pe._rangebreaks.length;Il++)ql=Pe._rangebreaks[Il],Pe._lBreaks+=Math.abs(ql.max-ql.min);var Zl=dl;_t>ol&&(Zl=!Zl),Zl&&Pe._rangebreaks.reverse();var Bu=Zl?-1:1;for(Pe._m2=Bu*Pe._length/(Math.abs(ol-_t)-Pe._lBreaks),Pe._B.push(-Pe._m2*(dl?ol:_t)),Il=0;Il<Pe._rangebreaks.length;Il++)ql=Pe._rangebreaks[Il],Pe._B.push(Pe._B[Pe._B.length-1]-Bu*Pe._m2*(ql.max-ql.min));for(Il=0;Il<Pe._rangebreaks.length;Il++)ql=Pe._rangebreaks[Il],ql.pmin=yu(ql.min),ql.pmax=yu(ql.max)}}if(!isFinite(Pe._m)||!isFinite(Pe._b)||Pe._length<0)throw ml._replotting=!1,new Error("Something went wrong with axis scaling")},Pe.maskBreaks=function(it){var bl=Pe.rangebreaks||[],Ll,nl,ve,_t,ol;bl._cachedPatterns||(bl._cachedPatterns=bl.map(function(Ed){return Ed.enabled&&Ed.bounds?C.simpleMap(Ed.bounds,Ed.pattern?F:Pe.d2c):null})),bl._cachedValues||(bl._cachedValues=bl.map(function(Ed){return Ed.enabled&&Ed.values?C.simpleMap(Ed.values,Pe.d2c).sort(C.sorterAsc):null}));for(var dl=0;dl<bl.length;dl++){var Il=bl[dl];if(Il.enabled){if(Il.bounds){var ql=Il.pattern;switch(Ll=bl._cachedPatterns[dl],nl=Ll[0],ve=Ll[1],ql){case gl:ol=new Date(it),_t=ol.getUTCDay(),nl>ve&&(ve+=7,_t<nl&&(_t+=7));break;case nt:ol=new Date(it);var Zl=ol.getUTCHours(),Bu=ol.getUTCMinutes(),Ju=ol.getUTCSeconds(),yd=ol.getUTCMilliseconds();_t=Zl+(Bu/60+Ju/3600+yd/36e5),nl>ve&&(ve+=24,_t<nl&&(_t+=24));break;case"":_t=it;break}if(_t>=nl&&_t<ve)return Q}else for(var Hd=bl._cachedValues[dl],Rd=0;Rd<Hd.length;Rd++)if(nl=Hd[Rd],ve=nl+Il.dvalue,it>=nl&&it<ve)return Q}}return it},Pe.locateBreaks=function(it,bl){var Ll,nl,ve,_t,ol=[];if(!Pe.rangebreaks)return ol;var dl=Pe.rangebreaks.slice().sort(function(Nu,Gl){return Nu.pattern===gl&&Gl.pattern===nt?-1:Gl.pattern===gl&&Nu.pattern===nt?1:0}),Il=function(Nu,Gl){if(Nu=C.constrain(Nu,it,bl),Gl=C.constrain(Gl,it,bl),Nu!==Gl){for(var rd=!0,Sd=0;Sd<ol.length;Sd++){var Pd=ol[Sd];Nu<Pd.max&&Gl>=Pd.min&&(Nu<Pd.min&&(Pd.min=Nu),Gl>Pd.max&&(Pd.max=Gl),rd=!1)}rd&&ol.push({min:Nu,max:Gl})}};for(Ll=0;Ll<dl.length;Ll++){var ql=dl[Ll];if(ql.enabled)if(ql.bounds){var Zl=it,Bu=bl;ql.pattern&&(Zl=Math.floor(Zl)),nl=C.simpleMap(ql.bounds,ql.pattern?F:Pe.r2l),ve=nl[0],_t=nl[1];var Ju=new Date(Zl),yd,Hd;switch(ql.pattern){case gl:Hd=$,yd=((_t<ve?7:0)+(_t-ve))*q,Zl+=ve*q-(Ju.getUTCDay()*q+Ju.getUTCHours()*J+Ju.getUTCMinutes()*O+Ju.getUTCSeconds()*j+Ju.getUTCMilliseconds());break;case nt:Hd=q,yd=((_t<ve?24:0)+(_t-ve))*J,Zl+=ve*J-(Ju.getUTCHours()*J+Ju.getUTCMinutes()*O+Ju.getUTCSeconds()*j+Ju.getUTCMilliseconds());break;default:Zl=Math.min(nl[0],nl[1]),Bu=Math.max(nl[0],nl[1]),Hd=Bu-Zl,yd=Hd}for(var Rd=Zl;Rd<Bu;Rd+=Hd)Il(Rd,Rd+yd)}else for(var Ed=C.simpleMap(ql.values,Pe.d2c),_u=0;_u<Ed.length;_u++)ve=Ed[_u],_t=ve+ql.dvalue,Il(ve,_t)}return ol.sort(function(Nu,Gl){return Nu.min-Gl.min}),ol},Pe.makeCalcdata=function(it,bl,Ll){var nl,ve,_t,ol,dl=Pe.type,Il=dl==="date"&&it[bl+"calendar"];if(bl in it){if(nl=it[bl],ol=it._length||C.minRowLength(nl),C.isTypedArray(nl)&&(dl==="linear"||dl==="log")){if(ol===nl.length)return nl;if(nl.subarray)return nl.subarray(0,ol)}if(dl==="multicategory")return xl(nl,ol);for(ve=new Array(ol),_t=0;_t<ol;_t++)ve[_t]=Pe.d2c(nl[_t],0,Il,Ll)}else{var ql=bl+"0"in it?Pe.d2c(it[bl+"0"],0,Il):0,Zl=it["d"+bl]?Number(it["d"+bl]):1;for(nl=it[{x:"y",y:"x"}[bl]],ol=it._length||nl.length,ve=new Array(ol),_t=0;_t<ol;_t++)ve[_t]=ql+_t*Zl}if(Pe.rangebreaks)for(_t=0;_t<ol;_t++)ve[_t]=Pe.maskBreaks(ve[_t]);return ve},Pe.isValidRange=function(it,bl){return Array.isArray(it)&&it.length===2&&(bl&&it[0]===null||R(Pe.r2l(it[0])))&&(bl&&it[1]===null||R(Pe.r2l(it[1])))},Pe.getAutorangeDflt=function(it,bl){var Ll=!Pe.isValidRange(it,"nullOk");return Ll&&bl&&bl.reverseDflt?Ll="reversed":it&&(it[0]===null&&it[1]===null?Ll=!0:it[0]===null&&it[1]!==null?Ll="min":it[0]!==null&&it[1]===null&&(Ll="max")),Ll},Pe.isReversed=function(){var it=Pe.autorange;return it==="reversed"||it==="min reversed"||it==="max reversed"},Pe.isPtWithinRange=function(it,bl){var Ll=Pe.c2l(it[ul],null,bl),nl=Pe.r2l(Pe.range[0]),ve=Pe.r2l(Pe.range[1]);return nl<ve?nl<=Ll&&Ll<=ve:ve<=Ll&&Ll<=nl},Pe._emptyCategories=function(){Pe._categories=[],Pe._categoriesMap={}},Pe.clearCalc=function(){var it=Pe._matchGroup;if(it){var bl=null,Ll=null;for(var nl in it){var ve=ml[Y.id2name(nl)];if(ve._categories){bl=ve._categories,Ll=ve._categoriesMap;break}}bl&&Ll?(Pe._categories=bl,Pe._categoriesMap=Ll):Pe._emptyCategories()}else Pe._emptyCategories();if(Pe._initialCategories)for(var _t=0;_t<Pe._initialCategories.length;_t++)Fn(Pe._initialCategories[_t])},Pe.sortByInitialCategories=function(){var it=[];if(Pe._emptyCategories(),Pe._initialCategories)for(var bl=0;bl<Pe._initialCategories.length;bl++)Fn(Pe._initialCategories[bl]);it=it.concat(Pe._traceIndices);var Ll=Pe._matchGroup;for(var nl in Ll)if(tl!==nl){var ve=ml[Y.id2name(nl)];ve._categories=Pe._categories,ve._categoriesMap=Pe._categoriesMap,it=it.concat(ve._traceIndices)}return it};var pl=ml._d3locale;Pe.type==="date"&&(Pe._dateFormat=pl?pl.timeFormat:v,Pe._extraFormat=ml._extraFormat),Pe._separators=ml.separators,Pe._numFormat=pl?pl.numberFormat:P,delete Pe._minDtick,delete Pe._forceTick0}}),$u=o((rl,In)=>{var A=G(),v=ls(),C=H().BADNUM,P=v.isArrayOrTypedArray,R=v.isDateTime,F=v.cleanNumber,I=Math.round;In.exports=function(Z,$,q){var J=Z,O=q.noMultiCategory;if(P(J)&&!J.length)return"-";if(!O&&Q(J))return"multicategory";if(O&&Array.isArray(J[0])){for(var j=[],Y=0;Y<J.length;Y++)if(P(J[Y]))for(var se=0;se<J[Y].length;se++)j.push(J[Y][se]);J=j}if(W(J,$))return"date";var nt=q.autotypenumbers!=="strict";return U(J,nt)?"category":x(J,nt)?"linear":"-"};function B(Z,$){return $?A(Z):typeof Z=="number"}function x(Z,$){for(var q=Z.length,J=0;J<q;J++)if(B(Z[J],$))return!0;return!1}function W(Z,$){for(var q=Z.length,J=z(q),O=0,j=0,Y={},se=0;se<q;se+=J){var nt=I(se),gl=Z[nt],Bn=String(gl);Y[Bn]||(Y[Bn]=1,R(gl,$)&&O++,A(gl)&&j++)}return O>j*2}function z(Z){return Math.max(1,(Z-1)/1e3)}function U(Z,$){for(var q=Z.length,J=z(q),O=0,j=0,Y={},se=0;se<q;se+=J){var nt=I(se),gl=Z[nt],Bn=String(gl);if(!Y[Bn]){Y[Bn]=1;var jt=typeof gl;jt==="boolean"?j++:($?F(gl)!==C:jt==="number")?O++:jt==="string"&&j++}}return j>O*2}function Q(Z){return P(Z[0])&&P(Z[1])}}),Wd=o((rl,In)=>{var A=f(),v=G(),C=ls(),P=H().FP_SAFE,R=Ep(),F=dh(),I=Nh(),B=I.getFromId,x=I.isLinked;In.exports={applyAutorangeOptions:ml,getAutoRange:W,makePadFn:U,doAutoRange:q,findExtremes:J,concatExtremes:$};function W(tl,ul){var il,sl,vl=[],yl=tl._fullLayout,Fn=U(yl,ul,0),xl=U(yl,ul,1),wl=$(tl,ul),kl=wl.min,Dl=wl.max;if(kl.length===0||Dl.length===0)return C.simpleMap(ul.range,ul.r2l);var Ol=kl[0].val,gu=Dl[0].val;for(il=1;il<kl.length&&Ol===gu;il++)Ol=Math.min(Ol,kl[il].val);for(il=1;il<Dl.length&&Ol===gu;il++)gu=Math.max(gu,Dl[il].val);var yu=ul.autorange,Iu=yu==="reversed"||yu==="min reversed"||yu==="max reversed";if(!Iu&&ul.range){var cl=C.simpleMap(ul.range,ul.r2l);Iu=cl[1]<cl[0]}ul.autorange==="reversed"&&(ul.autorange=!0);var pl=ul.rangemode,it=pl==="tozero",bl=pl==="nonnegative",Ll=ul._length,nl=Ll/10,ve=0,_t,ol,dl,Il,ql,Zl;for(il=0;il<kl.length;il++)for(_t=kl[il],sl=0;sl<Dl.length;sl++)ol=Dl[sl],Zl=ol.val-_t.val-z(ul,_t.val,ol.val),Zl>0&&(ql=Ll-Fn(_t)-xl(ol),ql>nl?Zl/ql>ve&&(dl=_t,Il=ol,ve=Zl/ql):Zl/Ll>ve&&(dl={val:_t.val,nopad:1},Il={val:ol.val,nopad:1},ve=Zl/Ll));function Bu(Ed,_u){return Math.max(Ed,xl(_u))}if(Ol===gu){var Ju=Ol-1,yd=Ol+1;if(it)if(Ol===0)vl=[0,1];else{var Hd=(Ol>0?Dl:kl).reduce(Bu,0),Rd=Ol/(1-Math.min(.5,Hd/Ll));vl=Ol>0?[0,Rd]:[Rd,0]}else bl?vl=[Math.max(0,Ju),Math.max(1,yd)]:vl=[Ju,yd]}else it?(dl.val>=0&&(dl={val:0,nopad:1}),Il.val<=0&&(Il={val:0,nopad:1})):bl&&(dl.val-ve*Fn(dl)<0&&(dl={val:0,nopad:1}),Il.val<=0&&(Il={val:1,nopad:1})),ve=(Il.val-dl.val-z(ul,_t.val,ol.val))/(Ll-Fn(dl)-xl(Il)),vl=[dl.val-ve*Fn(dl),Il.val+ve*xl(Il)];return vl=ml(vl,ul),ul.limitRange&&ul.limitRange(),Iu&&vl.reverse(),C.simpleMap(vl,ul.l2r||Number)}function z(tl,ul,il){var sl=0;if(tl.rangebreaks)for(var vl=tl.locateBreaks(ul,il),yl=0;yl<vl.length;yl++){var Fn=vl[yl];sl+=Fn.max-Fn.min}return sl}function U(tl,ul,il){var sl=.05*ul._length,vl=ul._anchorAxis||{};if((ul.ticklabelposition||"").indexOf("inside")!==-1||(vl.ticklabelposition||"").indexOf("inside")!==-1){var yl=ul.isReversed();if(!yl){var Fn=C.simpleMap(ul.range,ul.r2l);yl=Fn[1]<Fn[0]}yl&&(il=!il)}var xl=0;return x(tl,ul._id)||(xl=Z(tl,ul,il)),sl=Math.max(xl,sl),ul.constrain==="domain"&&ul._inputDomain&&(sl*=(ul._inputDomain[1]-ul._inputDomain[0])/(ul.domain[1]-ul.domain[0])),function(wl){return wl.nopad?0:wl.pad+(wl.extrapad?sl:xl)}}var Q=3;function Z(tl,ul,il){var sl=0,vl=ul._id.charAt(0)==="x";for(var yl in tl._plots){var Fn=tl._plots[yl];if(!(ul._id!==Fn.xaxis._id&&ul._id!==Fn.yaxis._id)){var xl=(vl?Fn.yaxis:Fn.xaxis)||{};if((xl.ticklabelposition||"").indexOf("inside")!==-1&&(!il&&(xl.side==="left"||xl.side==="bottom")||il&&(xl.side==="top"||xl.side==="right"))){if(xl._vals){var wl=C.deg2rad(xl._tickAngles[xl._id+"tick"]||0),kl=Math.abs(Math.cos(wl)),Dl=Math.abs(Math.sin(wl));if(!xl._vals[0].bb){var Ol=xl._id+"tick",gu=xl._selections[Ol];gu.each(function(bl){var Ll=A.select(this),nl=Ll.select(".text-math-group");nl.empty()&&(bl.bb=F.bBox(Ll.node()))})}for(var yu=0;yu<xl._vals.length;yu++){var Iu=xl._vals[yu],cl=Iu.bb;if(cl){var pl=2*Q+cl.width,it=2*Q+cl.height;sl=Math.max(sl,vl?Math.max(pl*kl,it*Dl):Math.max(it*kl,pl*Dl))}}}xl.ticks==="inside"&&xl.ticklabelposition==="inside"&&(sl+=xl.ticklen||0)}}}return sl}function $(tl,ul,il){var sl=ul._id,vl=tl._fullData,yl=tl._fullLayout,Fn=[],xl=[],wl,kl,Dl;function Ol(pl,it){for(wl=0;wl<it.length;wl++){var bl=pl[it[wl]],Ll=(bl._extremes||{})[sl];if(bl.visible===!0&&Ll){for(kl=0;kl<Ll.min.length;kl++)Dl=Ll.min[kl],O(Fn,Dl.val,Dl.pad,{extrapad:Dl.extrapad});for(kl=0;kl<Ll.max.length;kl++)Dl=Ll.max[kl],j(xl,Dl.val,Dl.pad,{extrapad:Dl.extrapad})}}}if(Ol(vl,ul._traceIndices),Ol(yl.annotations||[],ul._annIndices||[]),Ol(yl.shapes||[],ul._shapeIndices||[]),ul._matchGroup&&!il){for(var gu in ul._matchGroup)if(gu!==ul._id){var yu=B(tl,gu),Iu=$(tl,yu,!0),cl=ul._length/yu._length;for(kl=0;kl<Iu.min.length;kl++)Dl=Iu.min[kl],O(Fn,Dl.val,Dl.pad*cl,{extrapad:Dl.extrapad});for(kl=0;kl<Iu.max.length;kl++)Dl=Iu.max[kl],j(xl,Dl.val,Dl.pad*cl,{extrapad:Dl.extrapad})}}return{min:Fn,max:xl}}function q(tl,ul,il){if(ul.setScale(),ul.autorange){ul.range=il?il.slice():W(tl,ul),ul._r=ul.range.slice(),ul._rl=C.simpleMap(ul._r,ul.r2l);var sl=ul._input,vl={};vl[ul._attr+".range"]=ul.range,vl[ul._attr+".autorange"]=ul.autorange,R.call("_storeDirectGUIEdit",tl.layout,tl._fullLayout._preGUI,vl),sl.range=ul.range.slice(),sl.autorange=ul.autorange}var yl=ul._anchorAxis;if(yl&&yl.rangeslider){var Fn=yl.rangeslider[ul._name];Fn&&Fn.rangemode==="auto"&&(Fn.range=W(tl,ul)),yl._input.rangeslider[ul._name]=C.extendFlat({},Fn)}}function J(tl,ul,il){il||(il={}),tl._m||tl.setScale();var sl=[],vl=[],yl=ul.length,Fn=il.padded||!1,xl=il.tozero&&(tl.type==="linear"||tl.type==="-"),wl=tl.type==="log",kl=!1,Dl=il.vpadLinearized||!1,Ol,gu,yu,Iu,cl,pl,it,bl,Ll;function nl(Bu){if(Array.isArray(Bu))return kl=!0,function(yd){return Math.max(Number(Bu[yd]||0),0)};var Ju=Math.max(Number(Bu||0),0);return function(){return Ju}}var ve=nl((tl._m>0?il.ppadplus:il.ppadminus)||il.ppad||0),_t=nl((tl._m>0?il.ppadminus:il.ppadplus)||il.ppad||0),ol=nl(il.vpadplus||il.vpad),dl=nl(il.vpadminus||il.vpad);if(!kl){if(bl=1/0,Ll=-1/0,wl)for(Ol=0;Ol<yl;Ol++)gu=ul[Ol],gu<bl&&gu>0&&(bl=gu),gu>Ll&&gu<P&&(Ll=gu);else for(Ol=0;Ol<yl;Ol++)gu=ul[Ol],gu<bl&&gu>-P&&(bl=gu),gu>Ll&&gu<P&&(Ll=gu);ul=[bl,Ll],yl=2}var Il={tozero:xl,extrapad:Fn};function ql(Bu){yu=ul[Bu],v(yu)&&(pl=ve(Bu),it=_t(Bu),Dl?(Iu=tl.c2l(yu)-dl(Bu),cl=tl.c2l(yu)+ol(Bu)):(bl=yu-dl(Bu),Ll=yu+ol(Bu),wl&&bl<Ll/10&&(bl=Ll/10),Iu=tl.c2l(bl),cl=tl.c2l(Ll)),xl&&(Iu=Math.min(0,Iu),cl=Math.max(0,cl)),se(Iu)&&O(sl,Iu,it,Il),se(cl)&&j(vl,cl,pl,Il))}var Zl=Math.min(6,yl);for(Ol=0;Ol<Zl;Ol++)ql(Ol);for(Ol=yl-1;Ol>=Zl;Ol--)ql(Ol);return{min:sl,max:vl,opts:il}}function O(tl,ul,il,sl){Y(tl,ul,il,sl,nt)}function j(tl,ul,il,sl){Y(tl,ul,il,sl,gl)}function Y(tl,ul,il,sl,vl){for(var yl=sl.tozero,Fn=sl.extrapad,xl=!0,wl=0;wl<tl.length&&xl;wl++){var kl=tl[wl];if(vl(kl.val,ul)&&kl.pad>=il&&(kl.extrapad||!Fn)){xl=!1;break}else vl(ul,kl.val)&&kl.pad<=il&&(Fn||!kl.extrapad)&&(tl.splice(wl,1),wl--)}if(xl){var Dl=yl&&ul===0;tl.push({val:ul,pad:Dl?0:il,extrapad:Dl?!1:Fn})}}function se(tl){return v(tl)&&Math.abs(tl)<P}function nt(tl,ul){return tl<=ul}function gl(tl,ul){return tl>=ul}function Bn(tl,ul){var il=ul.autorangeoptions;return il&&il.minallowed!==void 0&&Pe(ul,il.minallowed,il.maxallowed)?il.minallowed:il&&il.clipmin!==void 0&&Pe(ul,il.clipmin,il.clipmax)?Math.max(tl,ul.d2l(il.clipmin)):tl}function jt(tl,ul){var il=ul.autorangeoptions;return il&&il.maxallowed!==void 0&&Pe(ul,il.minallowed,il.maxallowed)?il.maxallowed:il&&il.clipmax!==void 0&&Pe(ul,il.clipmin,il.clipmax)?Math.min(tl,ul.d2l(il.clipmax)):tl}function Pe(tl,ul,il){return ul!==void 0&&il!==void 0?(ul=tl.d2l(ul),il=tl.d2l(il),ul<il):!0}function ml(tl,ul){if(!ul||!ul.autorangeoptions)return tl;var il=tl[0],sl=tl[1],vl=ul.autorangeoptions.include;if(vl!==void 0){var yl=ul.d2l(il),Fn=ul.d2l(sl);C.isArrayOrTypedArray(vl)||(vl=[vl]);for(var xl=0;xl<vl.length;xl++){var wl=ul.d2l(vl[xl]);yl>=wl&&(yl=wl,il=wl),Fn<=wl&&(Fn=wl,sl=wl)}}return il=Bn(il,ul),sl=jt(sl,ul),[il,sl]}}),ih=o((rl,In)=>{var A=f(),v=G(),C=Jp(),P=Ep(),R=ls(),F=R.strTranslate,I=ag(),B=vh(),x=Bd(),W=dh(),z=kd(),U=Tl(),Q=H(),Z=Q.ONEMAXYEAR,$=Q.ONEAVGYEAR,q=Q.ONEMINYEAR,J=Q.ONEMAXQUARTER,O=Q.ONEAVGQUARTER,j=Q.ONEMINQUARTER,Y=Q.ONEMAXMONTH,se=Q.ONEAVGMONTH,nt=Q.ONEMINMONTH,gl=Q.ONEWEEK,Bn=Q.ONEDAY,jt=Bn/2,Pe=Q.ONEHOUR,ml=Q.ONEMIN,tl=Q.ONESEC,ul=Q.ONEMILLI,il=Q.ONEMICROSEC,sl=Q.MINUS_SIGN,vl=Q.BADNUM,yl={K:"zeroline"},Fn={K:"gridline",L:"path"},xl={K:"minor-gridline",L:"path"},wl={K:"tick",L:"path"},kl={K:"tick",L:"text"},Dl={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},Ol=i0(),gu=Ol.MID_SHIFT,yu=Ol.CAP_SHIFT,Iu=Ol.LINE_SPACING,cl=Ol.OPPOSITE_SIDE,pl=3,it=In.exports={};it.setConvert=Xl();var bl=$u(),Ll=Nh(),nl=Ll.idSort,ve=Ll.isLinked;it.id2name=Ll.id2name,it.name2id=Ll.name2id,it.cleanId=Ll.cleanId,it.list=Ll.list,it.listIds=Ll.listIds,it.getFromId=Ll.getFromId,it.getFromTrace=Ll.getFromTrace;var _t=Wd();it.getAutoRange=_t.getAutoRange,it.findExtremes=_t.findExtremes;var ol=1e-4;function dl(Fl){var Sl=(Fl[1]-Fl[0])*ol;return[Fl[0]-Sl,Fl[1]+Sl]}it.coerceRef=function(Fl,Sl,od,dd,_d,nd){var ud=dd.charAt(dd.length-1),Td=od._fullLayout._subplots[ud+"axis"],wd=dd+"ref",Kd={};return _d||(_d=Td[0]||(typeof nd=="string"?nd:nd[0])),nd||(nd=_d),Td=Td.concat(Td.map(function(Qd){return Qd+" domain"})),Kd[wd]={valType:"enumerated",values:Td.concat(nd?typeof nd=="string"?[nd]:nd:[]),dflt:_d},R.coerce(Fl,Sl,Kd,wd)},it.getRefType=function(Fl){return Fl===void 0?Fl:Fl==="paper"?"paper":Fl==="pixel"?"pixel":/( domain)$/.test(Fl)?"domain":"range"},it.coercePosition=function(Fl,Sl,od,dd,_d,nd){var ud,Td,wd=it.getRefType(dd);if(wd!=="range")ud=R.ensureNumber,Td=od(_d,nd);else{var Kd=it.getFromId(Sl,dd);nd=Kd.fraction2r(nd),Td=od(_d,nd),ud=Kd.cleanPos}Fl[_d]=ud(Td)},it.cleanPosition=function(Fl,Sl,od){var dd=od==="paper"||od==="pixel"?R.ensureNumber:it.getFromId(Sl,od).cleanPos;return dd(Fl)},it.redrawComponents=function(Fl,Sl){Sl=Sl||it.listIds(Fl);var od=Fl._fullLayout;function dd(_d,nd,ud,Td){for(var wd=P.getComponentMethod(_d,nd),Kd={},Qd=0;Qd<Sl.length;Qd++)for(var Mh=od[it.id2name(Sl[Qd])],hf=Mh[ud],Kh=0;Kh<hf.length;Kh++){var wf=hf[Kh];if(!Kd[wf]&&(wd(Fl,wf),Kd[wf]=1,Td))return}}dd("annotations","drawOne","_annIndices"),dd("shapes","drawOne","_shapeIndices"),dd("images","draw","_imgIndices",!0),dd("selections","drawOne","_selectionIndices")};var Il=it.getDataConversions=function(Fl,Sl,od,dd){var _d,nd=od==="x"||od==="y"||od==="z"?od:dd;if(R.isArrayOrTypedArray(nd)){if(_d={type:bl(dd,void 0,{autotypenumbers:Fl._fullLayout.autotypenumbers}),_categories:[]},it.setConvert(_d),_d.type==="category")for(var ud=0;ud<dd.length;ud++)_d.d2c(dd[ud])}else _d=it.getFromTrace(Fl,Sl,nd);return _d?{d2c:_d.d2c,c2d:_d.c2d}:nd==="ids"?{d2c:Zl,c2d:Zl}:{d2c:ql,c2d:ql}};function ql(Fl){return+Fl}function Zl(Fl){return String(Fl)}it.getDataToCoordFunc=function(Fl,Sl,od,dd){return Il(Fl,Sl,od,dd).d2c},it.counterLetter=function(Fl){var Sl=Fl.charAt(0);if(Sl==="x")return"y";if(Sl==="y")return"x"},it.minDtick=function(Fl,Sl,od,dd){["log","category","multicategory"].indexOf(Fl.type)!==-1||!dd?Fl._minDtick=0:Fl._minDtick===void 0?(Fl._minDtick=Sl,Fl._forceTick0=od):Fl._minDtick&&((Fl._minDtick/Sl+1e-6)%1<2e-6&&((od-Fl._forceTick0)/Sl%1+1.000001)%1<2e-6?(Fl._minDtick=Sl,Fl._forceTick0=od):((Sl/Fl._minDtick+1e-6)%1>2e-6||((od-Fl._forceTick0)/Fl._minDtick%1+1.000001)%1>2e-6)&&(Fl._minDtick=0))},it.saveRangeInitial=function(Fl,Sl){for(var od=it.list(Fl,"",!0),dd=!1,_d=0;_d<od.length;_d++){var nd=od[_d],ud=nd._rangeInitial0===void 0&&nd._rangeInitial1===void 0,Td=ud||nd.range[0]!==nd._rangeInitial0||nd.range[1]!==nd._rangeInitial1,wd=nd.autorange;(ud&&wd!==!0||Sl&&Td)&&(nd._rangeInitial0=wd==="min"||wd==="max reversed"?void 0:nd.range[0],nd._rangeInitial1=wd==="max"||wd==="min reversed"?void 0:nd.range[1],nd._autorangeInitial=wd,dd=!0)}return dd},it.saveShowSpikeInitial=function(Fl,Sl){for(var od=it.list(Fl,"",!0),dd=!1,_d="on",nd=0;nd<od.length;nd++){var ud=od[nd],Td=ud._showSpikeInitial===void 0,wd=Td||ud.showspikes!==ud._showspikes;(Td||Sl&&wd)&&(ud._showSpikeInitial=ud.showspikes,dd=!0),_d==="on"&&!ud.showspikes&&(_d="off")}return Fl._fullLayout._cartesianSpikesEnabled=_d,dd},it.autoBin=function(Fl,Sl,od,dd,_d,nd){var ud=R.aggNums(Math.min,null,Fl),Td=R.aggNums(Math.max,null,Fl);if(Sl.type==="category"||Sl.type==="multicategory")return{start:ud-.5,end:Td+.5,size:Math.max(1,Math.round(nd)||1),_dataSpan:Td-ud};_d||(_d=Sl.calendar);var wd;if(Sl.type==="log"?wd={type:"linear",range:[ud,Td]}:wd={type:Sl.type,range:R.simpleMap([ud,Td],Sl.c2r,0,_d),calendar:_d},it.setConvert(wd),nd=nd&&U.dtick(nd,wd.type),nd)wd.dtick=nd,wd.tick0=U.tick0(void 0,wd.type,_d);else{var Kd;if(od)Kd=(Td-ud)/od;else{var Qd=R.distinctVals(Fl),Mh=Math.pow(10,Math.floor(Math.log(Qd.minDiff)/Math.LN10)),hf=Mh*R.roundUp(Qd.minDiff/Mh,[.9,1.9,4.9,9.9],!0);Kd=Math.max(hf,2*R.stdev(Fl)/Math.pow(Fl.length,dd?.25:.4)),v(Kd)||(Kd=1)}it.autoTicks(wd,Kd)}var Kh=wd.dtick,wf=it.tickIncrement(it.tickFirst(wd),Kh,"reverse",_d),ef,Sf;if(typeof Kh=="number")wf=Bu(wf,Fl,wd,ud,Td),Sf=1+Math.floor((Td-wf)/Kh),ef=wf+Sf*Kh;else for(wd.dtick.charAt(0)==="M"&&(wf=Ju(wf,Fl,Kh,ud,_d)),ef=wf,Sf=0;ef<=Td;)ef=it.tickIncrement(ef,Kh,!1,_d),Sf++;return{start:Sl.c2r(wf,0,_d),end:Sl.c2r(ef,0,_d),size:Kh,_dataSpan:Td-ud}};function Bu(Fl,Sl,od,dd,_d){var nd=0,ud=0,Td=0,wd=0;function Kd(Kh){return(1+(Kh-Fl)*100/od.dtick)%100<2}for(var Qd=0;Qd<Sl.length;Qd++)Sl[Qd]%1===0?Td++:v(Sl[Qd])||wd++,Kd(Sl[Qd])&&nd++,Kd(Sl[Qd]+od.dtick/2)&&ud++;var Mh=Sl.length-wd;if(Td===Mh&&od.type!=="date")od.dtick<1?Fl=dd-.5*od.dtick:(Fl-=.5,Fl+od.dtick<dd&&(Fl+=od.dtick));else if(ud<Mh*.1&&(nd>Mh*.3||Kd(dd)||Kd(_d))){var hf=od.dtick/2;Fl+=Fl+hf<dd?hf:-hf}return Fl}function Ju(Fl,Sl,od,dd,_d){var nd=R.findExactDates(Sl,_d),ud=.8;if(nd.exactDays>ud){var Td=Number(od.substr(1));nd.exactYears>ud&&Td%12===0?Fl=it.tickIncrement(Fl,"M6","reverse")+Bn*1.5:nd.exactMonths>ud?Fl=it.tickIncrement(Fl,"M1","reverse")+Bn*15.5:Fl-=jt;var wd=it.tickIncrement(Fl,od);if(wd<=dd)return wd}return Fl}it.prepMinorTicks=function(Fl,Sl,od){if(!Sl.minor.dtick){delete Fl.dtick;var dd=Sl.dtick&&v(Sl._tmin),_d;if(dd){var nd=it.tickIncrement(Sl._tmin,Sl.dtick,!0);_d=[Sl._tmin,nd*.99+Sl._tmin*.01]}else{var ud=R.simpleMap(Sl.range,Sl.r2l);_d=[ud[0],.8*ud[0]+.2*ud[1]]}if(Fl.range=R.simpleMap(_d,Sl.l2r),Fl._isMinor=!0,it.prepTicks(Fl,od),dd){var Td=v(Sl.dtick),wd=v(Fl.dtick),Kd=Td?Sl.dtick:+Sl.dtick.substring(1),Qd=wd?Fl.dtick:+Fl.dtick.substring(1);Td&&wd?yd(Kd,Qd)?Kd===2*gl&&Qd===2*Bn&&(Fl.dtick=gl):Kd===2*gl&&Qd===3*Bn?Fl.dtick=gl:Kd===gl&&!(Sl._input.minor||{}).nticks?Fl.dtick=Bn:Hd(Kd/Qd,2.5)?Fl.dtick=Kd/2:Fl.dtick=Kd:String(Sl.dtick).charAt(0)==="M"?wd?Fl.dtick="M1":yd(Kd,Qd)?Kd>=12&&Qd===2&&(Fl.dtick="M3"):Fl.dtick=Sl.dtick:String(Fl.dtick).charAt(0)==="L"?String(Sl.dtick).charAt(0)==="L"?yd(Kd,Qd)||(Fl.dtick=Hd(Kd/Qd,2.5)?Sl.dtick/2:Sl.dtick):Fl.dtick="D1":Fl.dtick==="D2"&&+Sl.dtick>1&&(Fl.dtick=1)}Fl.range=Sl.range}Sl.minor._tick0Init===void 0&&(Fl.tick0=Sl.tick0)};function yd(Fl,Sl){return Math.abs((Fl/Sl+.5)%1-.5)<.001}function Hd(Fl,Sl){return Math.abs(Fl/Sl-1)<.001}it.prepTicks=function(Fl,Sl){var od=R.simpleMap(Fl.range,Fl.r2l,void 0,void 0,Sl);if(Fl.tickmode==="auto"||!Fl.dtick){var dd=Fl.nticks,_d;dd||(Fl.type==="category"||Fl.type==="multicategory"?(_d=Fl.tickfont?R.bigFont(Fl.tickfont.size||12):15,dd=Fl._length/_d):(_d=Fl._id.charAt(0)==="y"?40:80,dd=R.constrain(Fl._length/_d,4,9)+1),Fl._name==="radialaxis"&&(dd*=2)),Fl.minor&&Fl.minor.tickmode!=="array"||Fl.tickmode==="array"&&(dd*=100),Fl._roughDTick=Math.abs(od[1]-od[0])/dd,it.autoTicks(Fl,Fl._roughDTick),Fl._minDtick>0&&Fl.dtick<Fl._minDtick*2&&(Fl.dtick=Fl._minDtick,Fl.tick0=Fl.l2r(Fl._forceTick0))}Fl.ticklabelmode==="period"&&Ed(Fl),Fl.tick0||(Fl.tick0=Fl.type==="date"?"2000-01-01":0),Fl.type==="date"&&Fl.dtick<.1&&(Fl.dtick=.1),Yd(Fl)};function Rd(Fl){return+Fl.substring(1)}function Ed(Fl){var Sl;function od(){return!(v(Fl.dtick)||Fl.dtick.charAt(0)!=="M")}var dd=od(),_d=it.getTickFormat(Fl);if(_d){var nd=Fl._dtickInit!==Fl.dtick;/%[fLQsSMX]/.test(_d)||(/%[HI]/.test(_d)?(Sl=Pe,nd&&!dd&&Fl.dtick<Pe&&(Fl.dtick=Pe)):/%p/.test(_d)?(Sl=jt,nd&&!dd&&Fl.dtick<jt&&(Fl.dtick=jt)):/%[Aadejuwx]/.test(_d)?(Sl=Bn,nd&&!dd&&Fl.dtick<Bn&&(Fl.dtick=Bn)):/%[UVW]/.test(_d)?(Sl=gl,nd&&!dd&&Fl.dtick<gl&&(Fl.dtick=gl)):/%[Bbm]/.test(_d)?(Sl=se,nd&&(dd?Rd(Fl.dtick)<1:Fl.dtick<nt)&&(Fl.dtick="M1")):/%[q]/.test(_d)?(Sl=O,nd&&(dd?Rd(Fl.dtick)<3:Fl.dtick<j)&&(Fl.dtick="M3")):/%[Yy]/.test(_d)&&(Sl=$,nd&&(dd?Rd(Fl.dtick)<12:Fl.dtick<q)&&(Fl.dtick="M12")))}dd=od(),dd&&Fl.tick0===Fl._dowTick0&&(Fl.tick0=Fl._rawTick0),Fl._definedDelta=Sl}function _u(Fl,Sl,od){for(var dd=0;dd<Fl.length;dd++){var _d=Fl[dd].value,nd=dd,ud=dd+1;dd<Fl.length-1?(nd=dd,ud=dd+1):dd>0?(nd=dd-1,ud=dd):(nd=dd,ud=dd);var Td=Fl[nd].value,wd=Fl[ud].value,Kd=Math.abs(wd-Td),Qd=od||Kd,Mh=0;Qd>=q?Kd>=q&&Kd<=Z?Mh=Kd:Mh=$:od===O&&Qd>=j?Kd>=j&&Kd<=J?Mh=Kd:Mh=O:Qd>=nt?Kd>=nt&&Kd<=Y?Mh=Kd:Mh=se:od===gl&&Qd>=gl?Mh=gl:Qd>=Bn?Mh=Bn:od===jt&&Qd>=jt?Mh=jt:od===Pe&&Qd>=Pe&&(Mh=Pe);var hf;Mh>=Kd&&(Mh=Kd,hf=!0);var Kh=_d+Mh;if(Sl.rangebreaks&&Mh>0){for(var wf=84,ef=0,Sf=0;Sf<wf;Sf++){var zf=(Sf+.5)/wf;Sl.maskBreaks(_d*(1-zf)+zf*Kh)!==vl&&ef++}Mh*=ef/wf,Mh||(Fl[dd].drop=!0),hf&&Kd>gl&&(Mh=Kd)}(Mh>0||dd===0)&&(Fl[dd].periodX=_d+Mh/2)}}it.calcTicks=function(Fl,Sl){for(var od=Fl.type,dd=Fl.calendar,_d=Fl.ticklabelstep,nd=Fl.ticklabelmode==="period",ud=Fl.range[0]>Fl.range[1],Td=!Fl.ticklabelindex||R.isArrayOrTypedArray(Fl.ticklabelindex)?Fl.ticklabelindex:[Fl.ticklabelindex],wd=R.simpleMap(Fl.range,Fl.r2l,void 0,void 0,Sl),Kd=wd[1]<wd[0],Qd=Math.min(wd[0],wd[1]),Mh=Math.max(wd[0],wd[1]),hf=Math.max(1e3,Fl._length||0),Kh=[],wf=[],ef=[],Sf=[],zf=[],t0=Fl.minor&&(Fl.minor.ticks||Fl.minor.showgrid),ap=1;ap>=(t0?0:1);ap--){var B0=!ap;ap?(Fl._dtickInit=Fl.dtick,Fl._tick0Init=Fl.tick0):(Fl.minor._dtickInit=Fl.minor.dtick,Fl.minor._tick0Init=Fl.minor.tick0);var Lp=ap?Fl:R.extendFlat({},Fl,Fl.minor);if(B0?it.prepMinorTicks(Lp,Fl,Sl):it.prepTicks(Lp,Sl),Lp.tickmode==="array"){ap?(ef=[],Kh=rd(Fl,!B0)):(Sf=[],wf=rd(Fl,!B0));continue}if(Lp.tickmode==="sync"){ef=[],Kh=Gl(Fl);continue}var q0=dl(wd),F0=q0[0],kg=q0[1],H0=v(Lp.dtick),Vp=od==="log"&&!(H0||Lp.dtick.charAt(0)==="L"),Rg=it.tickFirst(Lp,Sl);if(ap){if(Fl._tmin=Rg,Rg<F0!==Kd)break;(od==="category"||od==="multicategory")&&(kg=Kd?Math.max(-.5,kg):Math.min(Fl._categories.length-.5,kg))}var rg=null,r0=Rg,Fg;if(ap){var pg;H0?pg=Fl.dtick:od==="date"?typeof Fl.dtick=="string"&&Fl.dtick.charAt(0)==="M"&&(pg=se*Fl.dtick.substring(1)):pg=Fl._roughDTick,Fg=Math.round((Fl.r2l(r0)-Fl.r2l(Fl.tick0))/pg)-1}var _g=Lp.dtick;for(Lp.rangebreaks&&Lp._tick0Init!==Lp.tick0&&(r0=m0(r0,Fl),Kd||(r0=it.tickIncrement(r0,_g,!Kd,dd))),ap&&nd&&(r0=it.tickIncrement(r0,_g,!Kd,dd),Fg--);Kd?r0>=kg:r0<=kg;r0=it.tickIncrement(r0,_g,Kd,dd)){if(ap&&Fg++,Lp.rangebreaks&&!Kd){if(r0<F0)continue;if(Lp.maskBreaks(r0)===vl&&m0(r0,Lp)>=Mh)break}if(ef.length>hf||r0===rg)break;rg=r0;var Bg={value:r0};ap?(Vp&&r0!==(r0|0)&&(Bg.simpleLabel=!0),_d>1&&Fg%_d&&(Bg.skipLabel=!0),ef.push(Bg)):(Bg.minor=!0,Sf.push(Bg))}}if(!Sf||Sf.length<2)Td=!1;else{var fm=(Sf[1].value-Sf[0].value)*(ud?-1:1);N0(fm,Fl.tickformat)||(Td=!1)}if(!Td)zf=ef;else{var C0=ef.concat(Sf);nd&&ef.length&&(C0=C0.slice(1)),C0=C0.sort(function(ug,Lg){return ug.value-Lg.value}).filter(function(ug,Lg,cm){return Lg===0||ug.value!==cm[Lg-1].value});var gg=C0.map(function(ug,Lg){return ug.minor===void 0&&!ug.skipLabel?Lg:null}).filter(function(ug){return ug!==null});gg.forEach(function(ug){Td.map(function(Lg){var cm=ug+Lg;cm>=0&&cm<C0.length&&R.pushUnique(zf,C0[cm])})})}if(t0){var Y0=Fl.minor.ticks==="inside"&&Fl.ticks==="outside"||Fl.minor.ticks==="outside"&&Fl.ticks==="inside";if(!Y0){for(var lg=ef.map(function(ug){return ug.value}),ng=[],Hg=0;Hg<Sf.length;Hg++){var zg=Sf[Hg],wg=zg.value;if(lg.indexOf(wg)===-1){for(var pm=!1,Dg=0;!pm&&Dg<ef.length;Dg++)1e7+ef[Dg].value===1e7+wg&&(pm=!0);pm||ng.push(zg)}}Sf=ng}}nd&&_u(zf,Fl,Fl._definedDelta);var eg;if(Fl.rangebreaks){var Gm=Fl._id.charAt(0)==="y",Eg=1;Fl.tickmode==="auto"&&(Eg=Fl.tickfont?Fl.tickfont.size:12);var km=NaN;for(eg=ef.length-1;eg>-1;eg--){if(ef[eg].drop){ef.splice(eg,1);continue}ef[eg].value=m0(ef[eg].value,Fl);var gm=Fl.c2p(ef[eg].value);(Gm?km>gm-Eg:km<gm+Eg)?ef.splice(Kd?eg+1:eg,1):km=gm}}p0(Fl)&&Math.abs(wd[1]-wd[0])===360&&ef.pop(),Fl._tmax=(ef[ef.length-1]||{}).value,Fl._prevDateHead="",Fl._inCalcTicks=!0;var Zg,Mm=function(ug){ug.text="",Fl._prevDateHead=Zg};ef=ef.concat(Sf);function am(ug,Lg){var cm=it.tickText(ug,Lg.value,!1,Lg.simpleLabel),_m=Lg.periodX;return _m!==void 0&&(cm.periodX=_m,(_m>Mh||_m<Qd)&&(_m>Mh&&(cm.periodX=Mh),_m<Qd&&(cm.periodX=Qd),Mm(cm))),cm}var nm;for(eg=0;eg<ef.length;eg++){var Am=ef[eg].minor,Lm=ef[eg].value;Am?(Td&&zf.indexOf(ef[eg])!==-1?nm=am(Fl,ef[eg]):nm={x:Lm},nm.minor=!0,wf.push(nm)):(Zg=Fl._prevDateHead,nm=am(Fl,ef[eg]),(ef[eg].skipLabel||Td&&zf.indexOf(ef[eg])===-1)&&Mm(nm),Kh.push(nm))}return Kh=Kh.concat(wf),Fl._inCalcTicks=!1,nd&&Kh.length&&(Kh[0].noTick=!0),Kh};function Nu(Fl,Sl){return Fl.rangebreaks&&(Sl=Sl.filter(function(od){return Fl.maskBreaks(od.x)!==vl})),Sl}function Gl(Fl){var Sl=Fl._mainAxis,od=[];if(Sl._vals){for(var dd=0;dd<Sl._vals.length;dd++)if(!Sl._vals[dd].noTick){var _d=Sl.l2p(Sl._vals[dd].x),nd=Fl.p2l(_d),ud=it.tickText(Fl,nd);Sl._vals[dd].minor&&(ud.minor=!0,ud.text=""),od.push(ud)}}return od=Nu(Fl,od),od}function rd(Fl,Sl){var od=R.simpleMap(Fl.range,Fl.r2l),dd=dl(od),_d=Math.min(dd[0],dd[1]),nd=Math.max(dd[0],dd[1]),ud=Fl.type==="category"?Fl.d2l_noadd:Fl.d2l;Fl.type==="log"&&String(Fl.dtick).charAt(0)!=="L"&&(Fl.dtick="L"+Math.pow(10,Math.floor(Math.min(Fl.range[0],Fl.range[1]))-1));for(var Td=[],wd=0;wd<=1;wd++)if(!(Sl!==void 0&&(Sl&&wd||Sl===!1&&!wd))&&!(wd&&!Fl.minor)){var Kd=wd?Fl.minor.tickvals:Fl.tickvals,Qd=wd?[]:Fl.ticktext;if(Kd){R.isArrayOrTypedArray(Qd)||(Qd=[]);for(var Mh=0;Mh<Kd.length;Mh++){var hf=ud(Kd[Mh]);if(hf>_d&&hf<nd){var Kh=it.tickText(Fl,hf,!1,String(Qd[Mh]));wd&&(Kh.minor=!0,Kh.text=""),Td.push(Kh)}}}}return Td=Nu(Fl,Td),Td}var Sd=[2,5,10],Pd=[1,2,3,6,12],Ud=[1,2,5,10,15,30],$d=[1,2,3,7,14],th=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],sh=[-.301,0,.301,.699,1],ah=[15,30,45,90,180];function Ah(Fl,Sl,od){return Sl*R.roundUp(Fl/Sl,od)}it.autoTicks=function(Fl,Sl,od){var dd;function _d(Mh){return Math.pow(Mh,Math.floor(Math.log(Sl)/Math.LN10))}if(Fl.type==="date"){Fl.tick0=R.dateTick0(Fl.calendar,0);var nd=2*Sl;if(nd>$)Sl/=$,dd=_d(10),Fl.dtick="M"+12*Ah(Sl,dd,Sd);else if(nd>se)Sl/=se,Fl.dtick="M"+Ah(Sl,1,Pd);else if(nd>Bn){if(Fl.dtick=Ah(Sl,Bn,Fl._hasDayOfWeekBreaks?[1,2,7,14]:$d),!od){var ud=it.getTickFormat(Fl),Td=Fl.ticklabelmode==="period";Td&&(Fl._rawTick0=Fl.tick0),/%[uVW]/.test(ud)?Fl.tick0=R.dateTick0(Fl.calendar,2):Fl.tick0=R.dateTick0(Fl.calendar,1),Td&&(Fl._dowTick0=Fl.tick0)}}else nd>Pe?Fl.dtick=Ah(Sl,Pe,Pd):nd>ml?Fl.dtick=Ah(Sl,ml,Ud):nd>tl?Fl.dtick=Ah(Sl,tl,Ud):(dd=_d(10),Fl.dtick=Ah(Sl,dd,Sd))}else if(Fl.type==="log"){Fl.tick0=0;var wd=R.simpleMap(Fl.range,Fl.r2l);if(Fl._isMinor&&(Sl*=1.5),Sl>.7)Fl.dtick=Math.ceil(Sl);else if(Math.abs(wd[1]-wd[0])<1){var Kd=1.5*Math.abs((wd[1]-wd[0])/Sl);Sl=Math.abs(Math.pow(10,wd[1])-Math.pow(10,wd[0]))/Kd,dd=_d(10),Fl.dtick="L"+Ah(Sl,dd,Sd)}else Fl.dtick=Sl>.3?"D2":"D1"}else Fl.type==="category"||Fl.type==="multicategory"?(Fl.tick0=0,Fl.dtick=Math.ceil(Math.max(Sl,1))):p0(Fl)?(Fl.tick0=0,dd=1,Fl.dtick=Ah(Sl,dd,ah)):(Fl.tick0=0,dd=_d(10),Fl.dtick=Ah(Sl,dd,Sd));if(Fl.dtick===0&&(Fl.dtick=1),!v(Fl.dtick)&&typeof Fl.dtick!="string"){var Qd=Fl.dtick;throw Fl.dtick=1,"ax.dtick error: "+String(Qd)}};function Yd(Fl){var Sl=Fl.dtick;if(Fl._tickexponent=0,!v(Sl)&&typeof Sl!="string"&&(Sl=1),(Fl.type==="category"||Fl.type==="multicategory")&&(Fl._tickround=null),Fl.type==="date"){var od=Fl.r2l(Fl.tick0),dd=Fl.l2r(od).replace(/(^-|i)/g,""),_d=dd.length;if(String(Sl).charAt(0)==="M")_d>10||dd.substr(5)!=="01-01"?Fl._tickround="d":Fl._tickround=+Sl.substr(1)%12===0?"y":"m";else if(Sl>=Bn&&_d<=10||Sl>=Bn*15)Fl._tickround="d";else if(Sl>=ml&&_d<=16||Sl>=Pe)Fl._tickround="M";else if(Sl>=tl&&_d<=19||Sl>=ml)Fl._tickround="S";else{var nd=Fl.l2r(od+Sl).replace(/^-/,"").length;Fl._tickround=Math.max(_d,nd)-20,Fl._tickround<0&&(Fl._tickround=4)}}else if(v(Sl)||Sl.charAt(0)==="L"){var ud=Fl.range.map(Fl.r2d||Number);v(Sl)||(Sl=Number(Sl.substr(1))),Fl._tickround=2-Math.floor(Math.log(Sl)/Math.LN10+.01);var Td=Math.max(Math.abs(ud[0]),Math.abs(ud[1])),wd=Math.floor(Math.log(Td)/Math.LN10+.01),Kd=Fl.minexponent===void 0?3:Fl.minexponent;Math.abs(wd)>Kd&&(Ku(Fl.exponentformat)&&Fl.exponentformat!=="SI extended"&&!fd(wd)||Ku(Fl.exponentformat)&&Fl.exponentformat==="SI extended"&&!bd(wd)?Fl._tickexponent=3*Math.round((wd-1)/3):Fl._tickexponent=wd)}else Fl._tickround=null}it.tickIncrement=function(Fl,Sl,od,dd){var _d=od?-1:1;if(v(Sl))return R.increment(Fl,_d*Sl);var nd=Sl.charAt(0),ud=_d*Number(Sl.substr(1));if(nd==="M")return R.incrementMonth(Fl,ud,dd);if(nd==="L")return Math.log(Math.pow(10,Fl)+ud)/Math.LN10;if(nd==="D"){var Td=Sl==="D2"?sh:th,wd=Fl+_d*.01,Kd=R.roundUp(R.mod(wd,1),Td,od);return Math.floor(wd)+Math.log(A.round(Math.pow(10,Kd),1))/Math.LN10}throw"unrecognized dtick "+String(Sl)},it.tickFirst=function(Fl,Sl){var od=Fl.r2l||Number,dd=R.simpleMap(Fl.range,od,void 0,void 0,Sl),_d=dd[1]<dd[0],nd=_d?Math.floor:Math.ceil,ud=dl(dd)[0],Td=Fl.dtick,wd=od(Fl.tick0);if(v(Td)){var Kd=nd((ud-wd)/Td)*Td+wd;return(Fl.type==="category"||Fl.type==="multicategory")&&(Kd=R.constrain(Kd,0,Fl._categories.length-1)),Kd}var Qd=Td.charAt(0),Mh=Number(Td.substr(1));if(Qd==="M"){for(var hf=0,Kh=wd,wf,ef,Sf;hf<10;){if(wf=it.tickIncrement(Kh,Td,_d,Fl.calendar),(wf-ud)*(Kh-ud)<=0)return _d?Math.min(Kh,wf):Math.max(Kh,wf);ef=(ud-(Kh+wf)/2)/(wf-Kh),Sf=Qd+(Math.abs(Math.round(ef))||1)*Mh,Kh=it.tickIncrement(Kh,Sf,ef<0?!_d:_d,Fl.calendar),hf++}return R.error("tickFirst did not converge",Fl),Kh}else{if(Qd==="L")return Math.log(nd((Math.pow(10,ud)-wd)/Mh)*Mh+wd)/Math.LN10;if(Qd==="D"){var zf=Td==="D2"?sh:th,t0=R.roundUp(R.mod(ud,1),zf,_d);return Math.floor(ud)+Math.log(A.round(Math.pow(10,t0),1))/Math.LN10}else throw"unrecognized dtick "+String(Td)}},it.tickText=function(Fl,Sl,od,dd){var _d=Ph(Fl,Sl),nd=Fl.tickmode==="array",ud=od||nd,Td=Fl.type,wd=Td==="category"?Fl.d2l_noadd:Fl.d2l,Kd,Qd=function(Sf){var zf=Fl.l2p(Sf);return zf>=0&&zf<=Fl._length?Sf:null};if(nd&&R.isArrayOrTypedArray(Fl.ticktext)){var Mh=R.simpleMap(Fl.range,Fl.r2l),hf=(Math.abs(Mh[1]-Mh[0])-(Fl._lBreaks||0))/1e4;for(Kd=0;Kd<Fl.ticktext.length&&!(Math.abs(Sl-wd(Fl.tickvals[Kd]))<hf);Kd++);if(Kd<Fl.ticktext.length)return _d.text=String(Fl.ticktext[Kd]),_d.xbnd=[Qd(_d.x-.5),Qd(_d.x+Fl.dtick-.5)],_d}function Kh(Sf){if(Sf===void 0)return!0;if(od)return Sf==="none";var zf={first:Fl._tmin,last:Fl._tmax}[Sf];return Sf!=="all"&&Sl!==zf}var wf=od?"never":Fl.exponentformat!=="none"&&Kh(Fl.showexponent)?"hide":"";if(Td==="date"?jh(Fl,_d,od,ud):Td==="log"?Th(Fl,_d,od,ud,wf):Td==="category"?Xh(Fl,_d):Td==="multicategory"?Pu(Fl,_d,od):p0(Fl)?_l(Fl,_d,od,ud,wf):sd(Fl,_d,od,ud,wf),dd||(Fl.tickprefix&&!Kh(Fl.showtickprefix)&&(_d.text=Fl.tickprefix+_d.text),Fl.ticksuffix&&!Kh(Fl.showticksuffix)&&(_d.text+=Fl.ticksuffix)),Fl.labelalias&&Fl.labelalias.hasOwnProperty(_d.text)){var ef=Fl.labelalias[_d.text];typeof ef=="string"&&(_d.text=ef)}return(Fl.tickson==="boundaries"||Fl.showdividers)&&(_d.xbnd=[Qd(_d.x-.5),Qd(_d.x+Fl.dtick-.5)]),_d},it.hoverLabelText=function(Fl,Sl,od){od&&(Fl=R.extendFlat({},Fl,{hoverformat:od}));var dd=R.isArrayOrTypedArray(Sl)?Sl[0]:Sl,_d=R.isArrayOrTypedArray(Sl)?Sl[1]:void 0;if(_d!==void 0&&_d!==dd)return it.hoverLabelText(Fl,dd,od)+" - "+it.hoverLabelText(Fl,_d,od);var nd=Fl.type==="log"&&dd<=0,ud=it.tickText(Fl,Fl.c2l(nd?-dd:dd),"hover").text;return nd?dd===0?"0":sl+ud:ud};function Ph(Fl,Sl,od){var dd=Fl.tickfont||{};return{x:Sl,dx:0,dy:0,text:od||"",fontSize:dd.size,font:dd.family,fontWeight:dd.weight,fontStyle:dd.style,fontVariant:dd.variant,fontTextcase:dd.textcase,fontLineposition:dd.lineposition,fontShadow:dd.shadow,fontColor:dd.color}}function jh(Fl,Sl,od,dd){var _d=Fl._tickround,nd=od&&Fl.hoverformat||it.getTickFormat(Fl);dd=!nd&&dd,dd&&(v(_d)?_d=4:_d={y:"m",m:"d",d:"M",M:"S",S:4}[_d]);var ud=R.formatDate(Sl.x,nd,_d,Fl._dateFormat,Fl.calendar,Fl._extraFormat),Td,wd=ud.indexOf(`
`);if(wd!==-1&&(Td=ud.substr(wd+1),ud=ud.substr(0,wd)),dd&&(Td!==void 0&&(ud==="00:00:00"||ud==="00:00")?(ud=Td,Td=""):ud.length===8&&(ud=ud.replace(/:00$/,""))),Td)if(od)_d==="d"?ud+=", "+Td:ud=Td+(ud?", "+ud:"");else if(!Fl._inCalcTicks||Fl._prevDateHead!==Td)Fl._prevDateHead=Td,ud+="<br>"+Td;else{var Kd=Ap(Fl),Qd=Fl._trueSide||Fl.side;(!Kd&&Qd==="top"||Kd&&Qd==="bottom")&&(ud+="<br> ")}Sl.text=ud}function Th(Fl,Sl,od,dd,_d){var nd=Fl.dtick,ud=Sl.x,Td=Fl.tickformat,wd=typeof nd=="string"&&nd.charAt(0);if(_d==="never"&&(_d=""),dd&&wd!=="L"&&(nd="L3",wd="L"),Td||wd==="L")Sl.text=Fd(Math.pow(10,ud),Fl,_d,dd);else if(v(nd)||wd==="D"&&(Fl.minorloglabels==="complete"||R.mod(ud+.01,1)<.1)){Fl.minorloglabels==="complete"&&!(R.mod(ud+.01,1)<.1)&&(Sl.fontSize*=.75);var Kd=Math.pow(10,ud).toExponential(0),Qd=Kd.split("e"),Mh=+Qd[1],hf=Math.abs(Mh),Kh=Fl.exponentformat;Kh==="power"||Ku(Kh)&&Kh!=="SI extended"&&fd(Mh)||Ku(Kh)&&Kh==="SI extended"&&bd(Mh)?(Sl.text=Qd[0],hf>0&&(Sl.text+="x10"),Sl.text==="1x10"&&(Sl.text="10"),Mh!==0&&Mh!==1&&(Sl.text+="<sup>"+(Mh>0?"":sl)+hf+"</sup>"),Sl.fontSize*=1.25):(Kh==="e"||Kh==="E")&&hf>2?Sl.text=Qd[0]+Kh+(Mh>0?"+":sl)+hf:(Sl.text=Fd(Math.pow(10,ud),Fl,"","fakehover"),nd==="D1"&&Fl._id.charAt(0)==="y"&&(Sl.dy-=Sl.fontSize/6))}else if(wd==="D")Sl.text=Fl.minorloglabels==="none"?"":String(Math.round(Math.pow(10,R.mod(ud,1)))),Sl.fontSize*=.75;else throw"unrecognized dtick "+String(nd);if(Fl.dtick==="D1"){var wf=String(Sl.text).charAt(0);(wf==="0"||wf==="1")&&(Fl._id.charAt(0)==="y"?Sl.dx-=Sl.fontSize/4:(Sl.dy+=Sl.fontSize/2,Sl.dx+=(Fl.range[1]>Fl.range[0]?1:-1)*Sl.fontSize*(ud<0?.5:.25)))}}function Xh(Fl,Sl){var od=Fl._categories[Math.round(Sl.x)];od===void 0&&(od=""),Sl.text=String(od)}function Pu(Fl,Sl,od){var dd=Math.round(Sl.x),_d=Fl._categories[dd]||[],nd=_d[1]===void 0?"":String(_d[1]),ud=_d[0]===void 0?"":String(_d[0]);od?Sl.text=ud+" - "+nd:(Sl.text=nd,Sl.text2=ud)}function sd(Fl,Sl,od,dd,_d){_d==="never"?_d="":Fl.showexponent==="all"&&Math.abs(Sl.x/Fl.dtick)<1e-6&&(_d="hide"),Sl.text=Fd(Sl.x,Fl,_d,dd)}function _l(Fl,Sl,od,dd,_d){if(Fl.thetaunit==="radians"&&!od){var nd=Sl.x/180;if(nd===0)Sl.text="0";else{var ud=Ul(nd);if(ud[1]>=100)Sl.text=Fd(R.deg2rad(Sl.x),Fl,_d,dd);else{var Td=Sl.x<0;ud[1]===1?ud[0]===1?Sl.text="":Sl.text=ud[0]+"":Sl.text=["<sup>",ud[0],"</sup>","","<sub>",ud[1],"</sub>",""].join(""),Td&&(Sl.text=sl+Sl.text)}}}else Sl.text=Fd(Sl.x,Fl,_d,dd)}function Ul(Fl){function Sl(Td,wd){return Math.abs(Td-wd)<=1e-6}function od(Td,wd){return Sl(wd,0)?Td:od(wd,Td%wd)}function dd(Td){for(var wd=1;!Sl(Math.round(Td*wd)/wd,Td);)wd*=10;return wd}var _d=dd(Fl),nd=Fl*_d,ud=Math.abs(od(nd,_d));return[Math.round(nd/ud),Math.round(_d/ud)]}var Jl=["f","p","n","","m","","k","M","G","T"],Hu=["q","r","y","z","a",...Jl,"P","E","Z","Y","R","Q"],Ku=Fl=>["SI","SI extended","B"].includes(Fl);function fd(Fl){return Fl>14||Fl<-15}function bd(Fl){return Fl>32||Fl<-30}function Nd(Fl,Sl){return Ku(Sl)?!!(Sl==="SI extended"&&bd(Fl)||Sl!=="SI extended"&&fd(Fl)):!1}function Fd(Fl,Sl,od,dd){var _d=Fl<0,nd=Sl._tickround,ud=od||Sl.exponentformat||"B",Td=Sl._tickexponent,wd=it.getTickFormat(Sl),Kd=Sl.separatethousands;if(dd){var Qd={exponentformat:ud,minexponent:Sl.minexponent,dtick:Sl.showexponent==="none"?Sl.dtick:v(Fl)&&Math.abs(Fl)||1,range:Sl.showexponent==="none"?Sl.range.map(Sl.r2d):[0,Fl||1]};Yd(Qd),nd=(Number(Qd._tickround)||0)+4,Td=Qd._tickexponent,Sl.hoverformat&&(wd=Sl.hoverformat)}if(wd)return Sl._numFormat(wd)(Fl).replace(/-/g,sl);var Mh=Math.pow(10,-nd)/2;if(ud==="none"&&(Td=0),Fl=Math.abs(Fl),Fl<Mh)Fl="0",_d=!1;else{if(Fl+=Mh,Td&&(Fl*=Math.pow(10,-Td),nd+=Td),nd===0)Fl=String(Math.floor(Fl));else if(nd<0){Fl=String(Math.round(Fl)),Fl=Fl.substr(0,Fl.length+nd);for(var hf=nd;hf<0;hf++)Fl+="0"}else{Fl=String(Fl);var Kh=Fl.indexOf(".")+1;Kh&&(Fl=Fl.substr(0,Kh+nd).replace(/\.?0+$/,""))}Fl=R.numSeparate(Fl,Sl._separators,Kd)}if(Td&&ud!=="hide"){Nd(Td,ud)&&(ud="power");var wf;Td<0?wf=sl+-Td:ud!=="power"?wf="+"+Td:wf=String(Td),ud==="e"||ud==="E"?Fl+=ud+wf:ud==="power"?Fl+="10<sup>"+wf+"</sup>":ud==="B"&&Td===9?Fl+="B":Ku(ud)&&(Fl+=ud==="SI extended"?Hu[Td/3+10]:Jl[Td/3+5])}return _d?sl+Fl:Fl}it.getTickFormat=function(Fl){var Sl;function od(wd){return typeof wd!="string"?wd:Number(wd.replace("M",""))*se}function dd(wd,Kd){var Qd=["L","D"];if(typeof wd==typeof Kd){if(typeof wd=="number")return wd-Kd;var Mh=Qd.indexOf(wd.charAt(0)),hf=Qd.indexOf(Kd.charAt(0));return Mh===hf?Number(wd.replace(/(L|D)/g,""))-Number(Kd.replace(/(L|D)/g,"")):Mh-hf}else return typeof wd=="number"?1:-1}function _d(wd,Kd,Qd){var Mh=Qd||function(wf){return wf},hf=Kd[0],Kh=Kd[1];return(!hf&&typeof hf!="number"||Mh(hf)<=Mh(wd))&&(!Kh&&typeof Kh!="number"||Mh(Kh)>=Mh(wd))}function nd(wd,Kd){var Qd=Kd[0]===null,Mh=Kd[1]===null,hf=dd(wd,Kd[0])>=0,Kh=dd(wd,Kd[1])<=0;return(Qd||hf)&&(Mh||Kh)}var ud,Td;if(Fl.tickformatstops&&Fl.tickformatstops.length>0)switch(Fl.type){case"date":case"linear":{for(Sl=0;Sl<Fl.tickformatstops.length;Sl++)if(Td=Fl.tickformatstops[Sl],Td.enabled&&_d(Fl.dtick,Td.dtickrange,od)){ud=Td;break}break}case"log":{for(Sl=0;Sl<Fl.tickformatstops.length;Sl++)if(Td=Fl.tickformatstops[Sl],Td.enabled&&nd(Fl.dtick,Td.dtickrange)){ud=Td;break}break}}return ud?ud.value:Fl.tickformat},it.getSubplots=function(Fl,Sl){var od=Fl._fullLayout._subplots,dd=od.cartesian.concat(od.gl2d||[]),_d=Sl?it.findSubplotsWithAxis(dd,Sl):dd;return _d.sort(function(nd,ud){var Td=nd.substr(1).split("y"),wd=ud.substr(1).split("y");return Td[0]===wd[0]?+Td[1]-+wd[1]:+Td[0]-+wd[0]}),_d},it.findSubplotsWithAxis=function(Fl,Sl){for(var od=new RegExp(Sl._id.charAt(0)==="x"?"^"+Sl._id+"y":Sl._id+"$"),dd=[],_d=0;_d<Fl.length;_d++){var nd=Fl[_d];od.test(nd)&&dd.push(nd)}return dd},it.makeClipPaths=function(Fl){var Sl=Fl._fullLayout;if(!Sl._hasOnlyLargeSploms){var od={_offset:0,_length:Sl.width,_id:""},dd={_offset:0,_length:Sl.height,_id:""},_d=it.list(Fl,"x",!0),nd=it.list(Fl,"y",!0),ud=[],Td,wd;for(Td=0;Td<_d.length;Td++)for(ud.push({x:_d[Td],y:dd}),wd=0;wd<nd.length;wd++)Td===0&&ud.push({x:od,y:nd[wd]}),ud.push({x:_d[Td],y:nd[wd]});var Kd=Sl._clips.selectAll(".axesclip").data(ud,function(Qd){return Qd.x._id+Qd.y._id});Kd.enter().append("clipPath").classed("axesclip",!0).attr("id",function(Qd){return"clip"+Sl._uid+Qd.x._id+Qd.y._id}).append("rect"),Kd.exit().remove(),Kd.each(function(Qd){A.select(this).select("rect").attr({x:Qd.x._offset||0,y:Qd.y._offset||0,width:Qd.x._length||1,height:Qd.y._length||1})})}},it.draw=function(Fl,Sl,od){var dd=Fl._fullLayout;Sl==="redraw"&&dd._paper.selectAll("g.subplot").each(function(wd){var Kd=wd[0],Qd=dd._plots[Kd];if(Qd){var Mh=Qd.xaxis,hf=Qd.yaxis;Qd.xaxislayer.selectAll("."+Mh._id+"tick").remove(),Qd.yaxislayer.selectAll("."+hf._id+"tick").remove(),Qd.xaxislayer.selectAll("."+Mh._id+"tick2").remove(),Qd.yaxislayer.selectAll("."+hf._id+"tick2").remove(),Qd.xaxislayer.selectAll("."+Mh._id+"divider").remove(),Qd.yaxislayer.selectAll("."+hf._id+"divider").remove(),Qd.minorGridlayer&&Qd.minorGridlayer.selectAll("path").remove(),Qd.gridlayer&&Qd.gridlayer.selectAll("path").remove(),Qd.zerolinelayer&&Qd.zerolinelayer.selectAll("path").remove(),Qd.zerolinelayerAbove&&Qd.zerolinelayerAbove.selectAll("path").remove(),dd._infolayer.select(".g-"+Mh._id+"title").remove(),dd._infolayer.select(".g-"+hf._id+"title").remove()}});var _d=!Sl||Sl==="redraw"?it.listIds(Fl):Sl,nd=it.list(Fl),ud=nd.filter(function(wd){return wd.autoshift}).map(function(wd){return wd.overlaying});_d.map(function(wd){var Kd=it.getFromId(Fl,wd);if(Kd.tickmode==="sync"&&Kd.overlaying){var Qd=_d.findIndex(function(Mh){return Mh===Kd.overlaying});Qd>=0&&_d.unshift(_d.splice(Qd,1).shift())}});var Td={false:{left:0,right:0}};return R.syncOrAsync(_d.map(function(wd){return function(){if(wd){var Kd=it.getFromId(Fl,wd);od||(od={}),od.axShifts=Td,od.overlayingShiftedAx=ud;var Qd=it.drawOne(Fl,Kd,od);return Kd._shiftPusher&&Tp(Kd,Kd._fullDepth||0,Td,!0),Kd._r=Kd.range.slice(),Kd._rl=R.simpleMap(Kd._r,Kd.r2l),Qd}}}))},it.drawOne=function(Fl,Sl,od){od=od||{};var dd=od.axShifts||{},_d=od.overlayingShiftedAx||[],nd,ud,Td;Sl.setScale();var wd=Fl._fullLayout,Kd=Sl._id,Qd=Kd.charAt(0),Mh=it.counterLetter(Kd),hf=wd._plots[Sl._mainSubplot],Kh=Sl.zerolinelayer==="above traces";if(!hf)return;if(Sl._shiftPusher=Sl.autoshift||_d.indexOf(Sl._id)!==-1||_d.indexOf(Sl.overlaying)!==-1,Sl._shiftPusher&Sl.anchor==="free"){var wf=Sl.linewidth/2||0;Sl.ticks==="inside"&&(wf+=Sl.ticklen),Tp(Sl,wf,dd,!0),Tp(Sl,Sl.shift||0,dd,!1)}(od.skipTitle!==!0||Sl._shift===void 0)&&(Sl._shift=bf(Sl,dd));var ef=hf[Qd+"axislayer"],Sf=Sl._mainLinePosition,zf=Sf+=Sl._shift,t0=Sl._mainMirrorPosition,ap=Sl._vals=it.calcTicks(Sl),B0=[Sl.mirror,zf,t0].join("_");for(nd=0;nd<ap.length;nd++)ap[nd].axInfo=B0;Sl._selections={},Sl._tickAngles&&(Sl._prevTickAngles=Sl._tickAngles),Sl._tickAngles={},Sl._depth=null;var Lp={};function q0(ug){var Lg=Kd+(ug||"tick");return Lp[Lg]||(Lp[Lg]=Zh(Sl,Lg,zf)),Lp[Lg]}if(Sl.visible){var F0=it.makeTransTickFn(Sl),kg=it.makeTransTickLabelFn(Sl),H0,Vp,Rg=Sl.ticks==="inside",rg=Sl.ticks==="outside";if(Sl.tickson==="boundaries"){var r0=lh(Sl,ap);Vp=it.clipEnds(Sl,r0),H0=Rg?Vp:r0}else Vp=it.clipEnds(Sl,ap),H0=Rg&&Sl.ticklabelmode!=="period"?Vp:ap;var Fg=Sl._gridVals=Vp,pg=gh(Sl,ap);if(!wd._hasOnlyLargeSploms){var _g=Sl._subplotsWith,Bg={};for(nd=0;nd<_g.length;nd++){ud=_g[nd],Td=wd._plots[ud];var fm=Td[Mh+"axis"],C0=fm._mainAxis._id;if(!Bg[C0]){Bg[C0]=1;var gg=Qd==="x"?"M0,"+fm._offset+"v"+fm._length:"M"+fm._offset+",0h"+fm._length;it.drawGrid(Fl,Sl,{vals:Fg,counterAxis:fm,layer:Td.gridlayer.select("."+Kd),minorLayer:Td.minorGridlayer.select("."+Kd),path:gg,transFn:F0}),it.drawZeroLine(Fl,Sl,{counterAxis:fm,layer:Kh?Td.zerolinelayerAbove:Td.zerolinelayer,path:gg,transFn:F0})}}}var Y0,lg=it.getTickSigns(Sl),ng=it.getTickSigns(Sl,"minor");if(Sl.ticks||Sl.minor&&Sl.minor.ticks){var Hg=it.makeTickPath(Sl,zf,lg[2]),zg=it.makeTickPath(Sl,zf,ng[2],{minor:!0}),wg,pm,Dg,eg;if(Sl._anchorAxis&&Sl.mirror&&Sl.mirror!==!0?(wg=it.makeTickPath(Sl,t0,lg[3]),pm=it.makeTickPath(Sl,t0,ng[3],{minor:!0}),Dg=Hg+wg,eg=zg+pm):(wg="",pm="",Dg=Hg,eg=zg),Sl.showdividers&&rg&&Sl.tickson==="boundaries"){var Gm={};for(nd=0;nd<pg.length;nd++)Gm[pg[nd].x]=1;Y0=function(ug){return Gm[ug.x]?wg:Dg}}else Y0=function(ug){return ug.minor?eg:Dg}}if(it.drawTicks(Fl,Sl,{vals:H0,layer:ef,path:Y0,transFn:F0}),Sl.mirror==="allticks"){var Eg=Object.keys(Sl._linepositions||{});for(nd=0;nd<Eg.length;nd++){ud=Eg[nd],Td=wd._plots[ud];var km=Sl._linepositions[ud]||[],gm=km[0],Zg=km[1],Mm=km[2],am=it.makeTickPath(Sl,gm,Mm?lg[0]:ng[0],{minor:Mm})+it.makeTickPath(Sl,Zg,Mm?lg[1]:ng[1],{minor:Mm});it.drawTicks(Fl,Sl,{vals:H0,layer:Td[Qd+"axislayer"],path:am,transFn:F0})}}var nm=[];if(nm.push(function(){return it.drawLabels(Fl,Sl,{vals:ap,layer:ef,plotinfo:Td,transFn:kg,labelFns:it.makeLabelFns(Sl,zf)})}),Sl.type==="multicategory"){var Am={x:2,y:10}[Qd];nm.push(function(){var ug={x:"height",y:"width"}[Qd],Lg=q0()[ug]+Am+(Sl._tickAngles[Kd+"tick"]?Sl.tickfont.size*Iu:0);return it.drawLabels(Fl,Sl,{vals:hh(Sl,ap),layer:ef,cls:Kd+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:F0,labelFns:it.makeLabelFns(Sl,zf+Lg*lg[4])})}),nm.push(function(){return Sl._depth=lg[4]*(q0("tick2")[Sl.side]-zf),tp(Fl,Sl,{vals:pg,layer:ef,path:it.makeTickPath(Sl,zf,lg[4],{len:Sl._depth}),transFn:F0})})}else Sl.title.hasOwnProperty("standoff")&&nm.push(function(){Sl._depth=lg[4]*(q0()[Sl.side]-zf)});var Lm=P.getComponentMethod("rangeslider","isVisible")(Sl);return!od.skipTitle&&!(Lm&&Sl.side==="bottom")&&nm.push(function(){return $h(Fl,Sl)}),nm.push(function(){var ug=Sl.side.charAt(0),Lg=cl[Sl.side].charAt(0),cm=it.getPxPosition(Fl,Sl),_m=rg?Sl.ticklen:0,im,mg,Tm,d1;(Sl.automargin||Lm||Sl._shiftPusher)&&(Sl.type==="multicategory"?im=q0("tick2"):(im=q0(),Qd==="x"&&ug==="b"&&(Sl._depth=Math.max(im.width>0?im.bottom-cm:0,_m))));var R1=0,om=0;if(Sl._shiftPusher&&(R1=Math.max(_m,im.height>0?ug==="l"?cm-im.left:im.right-cm:0),Sl.title.text!==wd._dfltTitle[Qd]&&(om=(Sl._titleStandoff||0)+(Sl._titleScoot||0),ug==="l"&&(om+=Tf(Sl))),Sl._fullDepth=Math.max(R1,om)),Sl.automargin){mg={x:0,y:0,r:0,l:0,t:0,b:0};var F1=[0,1],Ty=typeof Sl._shift=="number"?Sl._shift:0;if(Qd==="x"){if(ug==="b"?mg[ug]=Sl._depth:(mg[ug]=Sl._depth=Math.max(im.width>0?cm-im.top:0,_m),F1.reverse()),im.width>0){var u2=im.right-(Sl._offset+Sl._length);u2>0&&(mg.xr=1,mg.r=u2);var Ry=Sl._offset-im.left;Ry>0&&(mg.xl=0,mg.l=Ry)}}else if(ug==="l"?(Sl._depth=Math.max(im.height>0?cm-im.left:0,_m),mg[ug]=Sl._depth-Ty):(Sl._depth=Math.max(im.height>0?im.right-cm:0,_m),mg[ug]=Sl._depth+Ty,F1.reverse()),im.height>0){var Rv=im.bottom-(Sl._offset+Sl._length);Rv>0&&(mg.yb=0,mg.b=Rv);var rv=Sl._offset-im.top;rv>0&&(mg.yt=1,mg.t=rv)}mg[Mh]=Sl.anchor==="free"?Sl.position:Sl._anchorAxis.domain[F1[0]],Sl.title.text!==wd._dfltTitle[Qd]&&(mg[ug]+=Tf(Sl)+(Sl.title.standoff||0)),Sl.mirror&&Sl.anchor!=="free"&&(Tm={x:0,y:0,r:0,l:0,t:0,b:0},Tm[Lg]=Sl.linewidth,Sl.mirror&&Sl.mirror!==!0&&(Tm[Lg]+=_m),Sl.mirror===!0||Sl.mirror==="ticks"?Tm[Mh]=Sl._anchorAxis.domain[F1[1]]:(Sl.mirror==="all"||Sl.mirror==="allticks")&&(Tm[Mh]=[Sl._counterDomainMin,Sl._counterDomainMax][F1[1]]))}Lm&&(d1=P.getComponentMethod("rangeslider","autoMarginOpts")(Fl,Sl)),typeof Sl.automargin=="string"&&(zd(mg,Sl.automargin),zd(Tm,Sl.automargin)),C.autoMargin(Fl,If(Sl),mg),C.autoMargin(Fl,Ff(Sl),Tm),C.autoMargin(Fl,bp(Sl),d1)}),R.syncOrAsync(nm)}};function zd(Fl,Sl){if(Fl){var od=Object.keys(Dl).reduce(function(dd,_d){return Sl.indexOf(_d)!==-1&&Dl[_d].forEach(function(nd){dd[nd]=1}),dd},{});Object.keys(Fl).forEach(function(dd){od[dd]||(dd.length===1?Fl[dd]=0:delete Fl[dd])})}}function lh(Fl,Sl){var od=[],dd,_d=function(nd,ud){var Td=nd.xbnd[ud];Td!==null&&od.push(R.extendFlat({},nd,{x:Td}))};if(Sl.length){for(dd=0;dd<Sl.length;dd++)_d(Sl[dd],0);_d(Sl[dd-1],1)}return od}function hh(Fl,Sl){for(var od=[],dd={},_d=0;_d<Sl.length;_d++){var nd=Sl[_d];dd[nd.text2]?dd[nd.text2].push(nd.x):dd[nd.text2]=[nd.x]}for(var ud in dd)od.push(Ph(Fl,R.interp(dd[ud],.5),ud));return od}function gh(Fl,Sl){var od=[],dd,_d,nd=Sl.length&&Sl[Sl.length-1].x<Sl[0].x,ud=function(wd,Kd){var Qd=wd.xbnd[Kd];Qd!==null&&od.push(R.extendFlat({},wd,{x:Qd}))};if(Fl.showdividers&&Sl.length){for(dd=0;dd<Sl.length;dd++){var Td=Sl[dd];Td.text2!==_d&&ud(Td,nd?1:0),_d=Td.text2}ud(Sl[dd-1],nd?0:1)}return od}function Zh(Fl,Sl,od){var dd,_d,nd,ud;if(Fl._selections[Sl].size())dd=1/0,_d=-1/0,nd=1/0,ud=-1/0,Fl._selections[Sl].each(function(){var wd=Df(this);if(wd.node().style.display!=="none"){var Kd=W.bBox(wd.node().parentNode);dd=Math.min(dd,Kd.top),_d=Math.max(_d,Kd.bottom),nd=Math.min(nd,Kd.left),ud=Math.max(ud,Kd.right)}});else{var Td=it.makeLabelFns(Fl,od);dd=_d=Td.yFn({dx:0,dy:0,fontSize:0}),nd=ud=Td.xFn({dx:0,dy:0,fontSize:0})}return{top:dd,bottom:_d,left:nd,right:ud,height:_d-dd,width:ud-nd}}it.getTickSigns=function(Fl,Sl){var od=Fl._id.charAt(0),dd={x:"top",y:"right"}[od],_d=Fl.side===dd?1:-1,nd=[-1,1,_d,-_d],ud=Sl?(Fl.minor||{}).ticks:Fl.ticks;return ud!=="inside"==(od==="x")&&(nd=nd.map(function(Td){return-Td})),Fl.side&&nd.push({l:-1,t:-1,r:1,b:1}[Fl.side.charAt(0)]),nd},it.makeTransTickFn=function(Fl){return Fl._id.charAt(0)==="x"?function(Sl){return F(Fl._offset+Fl.l2p(Sl.x),0)}:function(Sl){return F(0,Fl._offset+Fl.l2p(Sl.x))}},it.makeTransTickLabelFn=function(Fl){var Sl=Pf(Fl),od=Fl.ticklabelshift||0,dd=Fl.ticklabelstandoff||0,_d=Sl[0],nd=Sl[1],ud=Fl.range[0]>Fl.range[1],Td=Fl.ticklabelposition&&Fl.ticklabelposition.indexOf("inside")!==-1,wd=!Td;if(od){var Kd=ud?-1:1;od=od*Kd}if(dd){var Qd=Fl.side,Mh=Td&&(Qd==="top"||Qd==="left")||wd&&(Qd==="bottom"||Qd==="right")?1:-1;dd=dd*Mh}return Fl._id.charAt(0)==="x"?function(hf){return F(_d+Fl._offset+Fl.l2p(yf(hf))+od,nd+dd)}:function(hf){return F(nd+dd,_d+Fl._offset+Fl.l2p(yf(hf))+od)}};function yf(Fl){return Fl.periodX!==void 0?Fl.periodX:Fl.x}function Pf(Fl){var Sl=Fl.ticklabelposition||"",od=Fl.tickson||"",dd=function(wf){return Sl.indexOf(wf)!==-1},_d=dd("top"),nd=dd("left"),ud=dd("right"),Td=dd("bottom"),wd=dd("inside"),Kd=od!=="boundaries"&&(Td||nd||_d||ud);if(!Kd&&!wd)return[0,0];var Qd=Fl.side,Mh=Kd?(Fl.tickwidth||0)/2:0,hf=pl,Kh=Fl.tickfont?Fl.tickfont.size:12;return(Td||_d)&&(Mh+=Kh*yu,hf+=(Fl.linewidth||0)/2),(nd||ud)&&(Mh+=(Fl.linewidth||0)/2,hf+=pl),wd&&Qd==="top"&&(hf-=Kh*(1-yu)),(nd||_d)&&(Mh=-Mh),(Qd==="bottom"||Qd==="right")&&(hf=-hf),[Kd?Mh:0,wd?hf:0]}it.makeTickPath=function(Fl,Sl,od,dd){dd||(dd={});var _d=dd.minor;if(_d&&!Fl.minor)return"";var nd=dd.len!==void 0?dd.len:_d?Fl.minor.ticklen:Fl.ticklen,ud=Fl._id.charAt(0),Td=(Fl.linewidth||1)/2;return ud==="x"?"M0,"+(Sl+Td*od)+"v"+nd*od:"M"+(Sl+Td*od)+",0h"+nd*od},it.makeLabelFns=function(Fl,Sl,od){var dd=Fl.ticklabelposition||"",_d=Fl.tickson||"",nd=function(r0){return dd.indexOf(r0)!==-1},ud=nd("top"),Td=nd("left"),wd=nd("right"),Kd=nd("bottom"),Qd=_d!=="boundaries"&&(Kd||Td||ud||wd),Mh=nd("inside"),hf=dd==="inside"&&Fl.ticks==="inside"||!Mh&&Fl.ticks==="outside"&&_d!=="boundaries",Kh=0,wf=0,ef=hf?Fl.ticklen:0;if(Mh?ef*=-1:Qd&&(ef=0),hf&&(Kh+=ef,od)){var Sf=R.deg2rad(od);Kh=ef*Math.cos(Sf)+1,wf=ef*Math.sin(Sf)}Fl.showticklabels&&(hf||Fl.showline)&&(Kh+=.2*Fl.tickfont.size),Kh+=(Fl.linewidth||1)/2*(Mh?-1:1);var zf={labelStandoff:Kh,labelShift:wf},t0,ap,B0,Lp,q0=0,F0=Fl.side,kg=Fl._id.charAt(0),H0=Fl.tickangle,Vp;if(kg==="x")Vp=!Mh&&F0==="bottom"||Mh&&F0==="top",Lp=Vp?1:-1,Mh&&(Lp*=-1),t0=wf*Lp,ap=Sl+Kh*Lp,B0=Vp?1:-.2,Math.abs(H0)===90&&(Mh?B0+=gu:H0===-90&&F0==="bottom"?B0=yu:H0===90&&F0==="top"?B0=gu:B0=.5,q0=gu/2*(H0/90)),zf.xFn=function(r0){return r0.dx+t0+q0*r0.fontSize},zf.yFn=function(r0){return r0.dy+ap+r0.fontSize*B0},zf.anchorFn=function(r0,Fg){if(Qd){if(Td)return"end";if(wd)return"start"}return!v(Fg)||Fg===0||Fg===180?"middle":Fg*Lp<0!==Mh?"end":"start"},zf.heightFn=function(r0,Fg,pg){return Fg<-60||Fg>60?-.5*pg:Fl.side==="top"!==Mh?-pg:0};else if(kg==="y"){if(Vp=!Mh&&F0==="left"||Mh&&F0==="right",Lp=Vp?1:-1,Mh&&(Lp*=-1),t0=Kh,ap=wf*Lp,B0=0,!Mh&&Math.abs(H0)===90&&(H0===-90&&F0==="left"||H0===90&&F0==="right"?B0=yu:B0=.5),Mh){var Rg=v(H0)?+H0:0;if(Rg!==0){var rg=R.deg2rad(Rg);q0=Math.abs(Math.sin(rg))*yu*Lp,B0=0}}zf.xFn=function(r0){return r0.dx+Sl-(t0+r0.fontSize*B0)*Lp+q0*r0.fontSize},zf.yFn=function(r0){return r0.dy+ap+r0.fontSize*gu},zf.anchorFn=function(r0,Fg){return v(Fg)&&Math.abs(Fg)===90?"middle":Vp?"end":"start"},zf.heightFn=function(r0,Fg,pg){return Fl.side==="right"&&(Fg*=-1),Fg<-30?-pg:Fg<30?-.5*pg:0}}return zf};function jf(Fl){return[Fl.text,Fl.x,Fl.axInfo,Fl.font,Fl.fontSize,Fl.fontColor].join("_")}it.drawTicks=function(Fl,Sl,od){od=od||{};var dd=Sl._id+"tick",_d=[].concat(Sl.minor&&Sl.minor.ticks?od.vals.filter(function(ud){return ud.minor&&!ud.noTick}):[]).concat(Sl.ticks?od.vals.filter(function(ud){return!ud.minor&&!ud.noTick}):[]),nd=od.layer.selectAll("path."+dd).data(_d,jf);nd.exit().remove(),nd.enter().append("path").classed(dd,1).classed("ticks",1).classed("crisp",od.crisp!==!1).each(function(ud){return x.stroke(A.select(this),ud.minor?Sl.minor.tickcolor:Sl.tickcolor)}).style("stroke-width",function(ud){return W.crispRound(Fl,ud.minor?Sl.minor.tickwidth:Sl.tickwidth,1)+"px"}).attr("d",od.path).style("display",null),Hp(Sl,[wl]),nd.attr("transform",od.transFn)},it.drawGrid=function(Fl,Sl,od){if(od=od||{},Sl.tickmode!=="sync"){var dd=Sl._id+"grid",_d=Sl.minor&&Sl.minor.showgrid,nd=_d?od.vals.filter(function(zf){return zf.minor}):[],ud=Sl.showgrid?od.vals.filter(function(zf){return!zf.minor}):[],Td=od.counterAxis;if(Td&&it.shouldShowZeroLine(Fl,Sl,Td))for(var wd=Sl.tickmode==="array",Kd=0;Kd<ud.length;Kd++){var Qd=ud[Kd].x;if(wd?!Qd:Math.abs(Qd)<Sl.dtick/100)if(ud=ud.slice(0,Kd).concat(ud.slice(Kd+1)),wd)Kd--;else break}Sl._gw=W.crispRound(Fl,Sl.gridwidth,1);for(var Mh=_d?W.crispRound(Fl,Sl.minor.gridwidth,1):0,hf=od.layer,Kh=od.minorLayer,wf=1;wf>=0;wf--){var ef=wf?hf:Kh;if(ef){var Sf=ef.selectAll("path."+dd).data(wf?ud:nd,jf);Sf.exit().remove(),Sf.enter().append("path").classed(dd,1).classed("crisp",od.crisp!==!1),Sf.attr("transform",od.transFn).attr("d",od.path).each(function(zf){return x.stroke(A.select(this),zf.minor?Sl.minor.gridcolor:Sl.gridcolor||"#ddd")}).style("stroke-dasharray",function(zf){return W.dashStyle(zf.minor?Sl.minor.griddash:Sl.griddash,zf.minor?Sl.minor.gridwidth:Sl.gridwidth)}).style("stroke-width",function(zf){return(zf.minor?Mh:Sl._gw)+"px"}).style("display",null),typeof od.path=="function"&&Sf.attr("d",od.path)}}Hp(Sl,[Fn,xl])}},it.drawZeroLine=function(Fl,Sl,od){od=od||od;var dd=Sl._id+"zl",_d=it.shouldShowZeroLine(Fl,Sl,od.counterAxis),nd=od.layer.selectAll("path."+dd).data(_d?[{x:0,id:Sl._id}]:[]);nd.exit().remove(),nd.enter().append("path").classed(dd,1).classed("zl",1).classed("crisp",od.crisp!==!1).each(function(){od.layer.selectAll("path").sort(function(ud,Td){return nl(ud.id,Td.id)})}),nd.attr("transform",od.transFn).attr("d",od.path).call(x.stroke,Sl.zerolinecolor||x.defaultLine).style("stroke-width",W.crispRound(Fl,Sl.zerolinewidth,Sl._gw||1)+"px").style("display",null),Hp(Sl,[yl])},it.drawLabels=function(Fl,Sl,od){od=od||{};var dd=Fl._fullLayout,_d=Sl._id,nd=Sl.zerolinelayer==="above traces",ud=od.cls||_d+"tick",Td=od.vals.filter(function(C0){return C0.text}),wd=od.labelFns,Kd=od.secondary?0:Sl.tickangle,Qd=(Sl._prevTickAngles||{})[ud],Mh=od.layer.selectAll("g."+ud).data(Sl.showticklabels?Td:[],jf),hf=[];Mh.enter().append("g").classed(ud,1).append("text").attr("text-anchor","middle").each(function(C0){var gg=A.select(this),Y0=Fl._promises.length;gg.call(I.positionText,wd.xFn(C0),wd.yFn(C0)).call(W.font,{family:C0.font,size:C0.fontSize,color:C0.fontColor,weight:C0.fontWeight,style:C0.fontStyle,variant:C0.fontVariant,textcase:C0.fontTextcase,lineposition:C0.fontLineposition,shadow:C0.fontShadow}).text(C0.text).call(I.convertToTspans,Fl),Fl._promises[Y0]?hf.push(Fl._promises.pop().then(function(){Kh(gg,Kd)})):Kh(gg,Kd)}),Hp(Sl,[kl]),Mh.exit().remove(),od.repositionOnUpdate&&Mh.each(function(C0){A.select(this).select("text").call(I.positionText,wd.xFn(C0),wd.yFn(C0))});function Kh(C0,gg){C0.each(function(Y0){var lg=A.select(this),ng=lg.select(".text-math-group"),Hg=wd.anchorFn(Y0,gg),zg=od.transFn.call(lg.node(),Y0)+(v(gg)&&+gg!=0?" rotate("+gg+","+wd.xFn(Y0)+","+(wd.yFn(Y0)-Y0.fontSize/2)+")":""),wg=I.lineCount(lg),pm=Iu*Y0.fontSize,Dg=wd.heightFn(Y0,v(gg)?+gg:0,(wg-1)*pm);if(Dg&&(zg+=F(0,Dg)),ng.empty()){var eg=lg.select("text");eg.attr({transform:zg,"text-anchor":Hg}),eg.style("display",null),Sl._adjustTickLabelsOverflow&&Sl._adjustTickLabelsOverflow()}else{var Gm=W.bBox(ng.node()).width,Eg=Gm*{end:-.5,start:.5}[Hg];ng.attr("transform",zg+F(Eg,0))}})}Sl._adjustTickLabelsOverflow=function(){var C0=Sl.ticklabeloverflow;if(!(!C0||C0==="allow")){var gg=C0.indexOf("hide")!==-1,Y0=Sl._id.charAt(0)==="x",lg=0,ng=Y0?Fl._fullLayout.width:Fl._fullLayout.height;if(C0.indexOf("domain")!==-1){var Hg=R.simpleMap(Sl.range,Sl.r2l);lg=Sl.l2p(Hg[0])+Sl._offset,ng=Sl.l2p(Hg[1])+Sl._offset}var zg=Math.min(lg,ng),wg=Math.max(lg,ng),pm=Sl.side,Dg=1/0,eg=-1/0;Mh.each(function(gm){var Zg=A.select(this),Mm=Zg.select(".text-math-group");if(Mm.empty()){var am=W.bBox(Zg.node()),nm=0;Y0?(am.right>wg||am.left<zg)&&(nm=1):(am.bottom>wg||am.top+(Sl.tickangle?0:gm.fontSize/4)<zg)&&(nm=1);var Am=Zg.select("text");nm?gg&&Am.style("display","none"):Am.node().style.display!=="none"&&(Am.style("display",null),pm==="bottom"||pm==="right"?Dg=Math.min(Dg,Y0?am.top:am.left):Dg=-1/0,pm==="top"||pm==="left"?eg=Math.max(eg,Y0?am.bottom:am.right):eg=1/0)}});for(var Gm in dd._plots){var Eg=dd._plots[Gm];if(!(Sl._id!==Eg.xaxis._id&&Sl._id!==Eg.yaxis._id)){var km=Y0?Eg.yaxis:Eg.xaxis;km&&(km["_visibleLabelMin_"+Sl._id]=Dg,km["_visibleLabelMax_"+Sl._id]=eg)}}}},Sl._hideCounterAxisInsideTickLabels=function(C0){var gg=Sl._id.charAt(0)==="x",Y0=[];for(var lg in dd._plots){var ng=dd._plots[lg];Sl._id!==ng.xaxis._id&&Sl._id!==ng.yaxis._id||Y0.push(gg?ng.yaxis:ng.xaxis)}Y0.forEach(function(Hg,zg){Hg&&Ap(Hg)&&(C0||[yl,xl,Fn,wl,kl]).forEach(function(wg){var pm=wg.K==="tick"&&wg.L==="text"&&Sl.ticklabelmode==="period",Dg=dd._plots[Sl._mainSubplot],eg;if(wg.K===yl.K){var Gm=nd?Dg.zerolinelayerAbove:Dg.zerolinelayer;eg=Gm.selectAll("."+Sl._id+"zl")}else wg.K===xl.K?eg=Dg.minorGridlayer.selectAll("."+Sl._id):wg.K===Fn.K?eg=Dg.gridlayer.selectAll("."+Sl._id):eg=Dg[Sl._id.charAt(0)+"axislayer"];eg.each(function(){var Eg=A.select(this);wg.L&&(Eg=Eg.selectAll(wg.L)),Eg.each(function(km){var gm=Sl.l2p(pm?yf(km):km.x)+Sl._offset,Zg=A.select(this);gm<Sl["_visibleLabelMax_"+Hg._id]&&gm>Sl["_visibleLabelMin_"+Hg._id]?Zg.style("display","none"):wg.K==="tick"&&!zg&&Zg.node().style.display!=="none"&&Zg.style("display",null)})})})})},Kh(Mh,Qd+1?Qd:Kd);function wf(){return hf.length&&Promise.all(hf)}var ef=null;function Sf(){if(Kh(Mh,Kd),Td.length&&Sl.autotickangles&&(Sl.type!=="log"||String(Sl.dtick).charAt(0)!=="D")){ef=Sl.autotickangles[0];var C0=0,gg=[],Y0,lg=1;Mh.each(function(mg){C0=Math.max(C0,mg.fontSize);var Tm=Sl.l2p(mg.x),d1=Df(this),R1=W.bBox(d1.node());lg=Math.max(lg,I.lineCount(d1)),gg.push({top:0,bottom:10,height:10,left:Tm-R1.width/2,right:Tm+R1.width/2+2,width:R1.width+2})});var ng=(Sl.tickson==="boundaries"||Sl.showdividers)&&!od.secondary,Hg=Td.length,zg=Math.abs((Td[Hg-1].x-Td[0].x)*Sl._m)/(Hg-1),wg=ng?zg/2:zg,pm=ng?Sl.ticklen:C0*1.25*lg,Dg=Math.sqrt(Math.pow(wg,2)+Math.pow(pm,2)),eg=wg/Dg,Gm=Sl.autotickangles.map(function(mg){return mg*Math.PI/180}),Eg=Gm.find(function(mg){return Math.abs(Math.cos(mg))<=eg});Eg===void 0&&(Eg=Gm.reduce(function(mg,Tm){return Math.abs(Math.cos(mg))<Math.abs(Math.cos(Tm))?mg:Tm},Gm[0]));var km=Eg*(180/Math.PI);if(ng){var gm=2;for(Sl.ticks&&(gm+=Sl.tickwidth/2),Y0=0;Y0<gg.length;Y0++){var Zg=Td[Y0].xbnd,Mm=gg[Y0];if(Zg[0]!==null&&Mm.left-Sl.l2p(Zg[0])<gm||Zg[1]!==null&&Sl.l2p(Zg[1])-Mm.right<gm){ef=km;break}}}else{var am=Sl.ticklabelposition||"",nm=Sl.tickson||"",Am=function(mg){return am.indexOf(mg)!==-1},Lm=Am("top"),ug=Am("left"),Lg=Am("right"),cm=Am("bottom"),_m=nm!=="boundaries"&&(cm||ug||Lm||Lg),im=_m?(Sl.tickwidth||0)+2*pl:0;for(Y0=0;Y0<gg.length-1;Y0++)if(R.bBoxIntersect(gg[Y0],gg[Y0+1],im)){ef=km;break}}ef&&Kh(Mh,ef)}}Sl._selections&&(Sl._selections[ud]=Mh);var zf=[wf];Sl.automargin&&dd._redrawFromAutoMarginCount&&Qd===90?(ef=Qd,zf.push(function(){Kh(Mh,Qd)})):zf.push(Sf),Sl._tickAngles&&zf.push(function(){Sl._tickAngles[ud]=ef===null?v(Kd)?Kd:0:ef});var t0=function(){var C0=0,gg=0;return Mh.each(function(Y0,lg){var ng=Df(this),Hg=ng.select(".text-math-group");if(Hg.empty()){var zg;Sl._vals[lg]&&(zg=Sl._vals[lg].bb||W.bBox(ng.node()),Sl._vals[lg].bb=zg),C0=Math.max(C0,zg.width),gg=Math.max(gg,zg.height)}}),{labelsMaxW:C0,labelsMaxH:gg}},ap=Sl._anchorAxis;if(ap&&(ap.autorange||ap.insiderange)&&Ap(Sl)&&!ve(dd,Sl._id)&&(dd._insideTickLabelsUpdaterange||(dd._insideTickLabelsUpdaterange={}),ap.autorange&&(dd._insideTickLabelsUpdaterange[ap._name+".autorange"]=ap.autorange,zf.push(t0)),ap.insiderange)){var B0=t0(),Lp=Sl._id.charAt(0)==="y"?B0.labelsMaxW:B0.labelsMaxH;Lp+=2*pl,Sl.ticklabelposition==="inside"&&(Lp+=Sl.ticklen||0);var q0=Sl.side==="right"||Sl.side==="top"?1:-1,F0=q0===1?1:0,kg=q0===1?0:1,H0=[];H0[kg]=ap.range[kg];var Vp=ap.range,Rg=ap.r2p(Vp[F0]),rg=ap.r2p(Vp[kg]),r0=dd._insideTickLabelsUpdaterange[ap._name+".range"];if(r0){var Fg=ap.r2p(r0[F0]),pg=ap.r2p(r0[kg]),_g=q0*(Sl._id.charAt(0)==="y"?1:-1);_g*Rg<_g*Fg&&(Rg=Fg,H0[F0]=Vp[F0]=r0[F0]),_g*rg>_g*pg&&(rg=pg,H0[kg]=Vp[kg]=r0[kg])}var Bg=Math.abs(rg-Rg);Bg-Lp>0?(Bg-=Lp,Lp*=1+Lp/Bg):Lp=0,Sl._id.charAt(0)!=="y"&&(Lp=-Lp),H0[F0]=ap.p2r(ap.r2p(Vp[F0])+q0*Lp),ap.autorange==="min"||ap.autorange==="max reversed"?(H0[0]=null,ap._rangeInitial0=void 0,ap._rangeInitial1=void 0):(ap.autorange==="max"||ap.autorange==="min reversed")&&(H0[1]=null,ap._rangeInitial0=void 0,ap._rangeInitial1=void 0),dd._insideTickLabelsUpdaterange[ap._name+".range"]=H0}var fm=R.syncOrAsync(zf);return fm&&fm.then&&Fl._promises.push(fm),fm};function tp(Fl,Sl,od){var dd=Sl._id+"divider",_d=od.vals,nd=od.layer.selectAll("path."+dd).data(_d,jf);nd.exit().remove(),nd.enter().insert("path",":first-child").classed(dd,1).classed("crisp",1).call(x.stroke,Sl.dividercolor).style("stroke-width",W.crispRound(Fl,Sl.dividerwidth,1)+"px"),nd.attr("transform",od.transFn).attr("d",od.path)}it.getPxPosition=function(Fl,Sl){var od=Fl._fullLayout._size,dd=Sl._id.charAt(0),_d=Sl.side,nd;if(Sl.anchor!=="free"?nd=Sl._anchorAxis:dd==="x"?nd={_offset:od.t+(1-(Sl.position||0))*od.h,_length:0}:dd==="y"&&(nd={_offset:od.l+(Sl.position||0)*od.w+Sl._shift,_length:0}),_d==="top"||_d==="left")return nd._offset;if(_d==="bottom"||_d==="right")return nd._offset+nd._length};function Tf(Fl){var Sl=Fl.title.font.size,od=(Fl.title.text.match(I.BR_TAG_ALL)||[]).length;return Fl.title.hasOwnProperty("standoff")?Sl*(yu+od*Iu):od?Sl*(od+1)*Iu:Sl}function $h(Fl,Sl){var od=Fl._fullLayout,dd=Sl._id,_d=dd.charAt(0),nd=Sl.title.font.size,ud,Td=(Sl.title.text.match(I.BR_TAG_ALL)||[]).length;if(Sl.title.hasOwnProperty("standoff"))Sl.side==="bottom"||Sl.side==="right"?ud=Sl._depth+Sl.title.standoff+nd*yu:(Sl.side==="top"||Sl.side==="left")&&(ud=Sl._depth+Sl.title.standoff+nd*(gu+Td*Iu));else{var wd=Ap(Sl);if(Sl.type==="multicategory")ud=Sl._depth;else{var Kd=1.5*nd;wd&&(Kd=.5*nd,Sl.ticks==="outside"&&(Kd+=Sl.ticklen)),ud=10+Kd+(Sl.linewidth?Sl.linewidth-1:0)}wd||(_d==="x"?ud+=Sl.side==="top"?nd*(Sl.showticklabels?1:0):nd*(Sl.showticklabels?1.5:.5):ud+=Sl.side==="right"?nd*(Sl.showticklabels?1:.5):nd*(Sl.showticklabels?.5:0))}var Qd=it.getPxPosition(Fl,Sl),Mh,hf,Kh;_d==="x"?(hf=Sl._offset+Sl._length/2,Kh=Sl.side==="top"?Qd-ud:Qd+ud):(Kh=Sl._offset+Sl._length/2,hf=Sl.side==="right"?Qd+ud:Qd-ud,Mh={rotate:"-90",offset:0});var wf;if(Sl.type!=="multicategory"){var ef=Sl._selections[Sl._id+"tick"];if(wf={selection:ef,side:Sl.side},ef&&ef.node()&&ef.node().parentNode){var Sf=W.getTranslate(ef.node().parentNode);wf.offsetLeft=Sf.x,wf.offsetTop=Sf.y}Sl.title.hasOwnProperty("standoff")&&(wf.pad=0)}return Sl._titleStandoff=ud,B.draw(Fl,dd+"title",{propContainer:Sl,propName:Sl._name+".title.text",placeholder:od._dfltTitle[_d],avoid:wf,transform:Mh,attributes:{x:hf,y:Kh,"text-anchor":"middle"}})}it.shouldShowZeroLine=function(Fl,Sl,od){var dd=R.simpleMap(Sl.range,Sl.r2l);return dd[0]*dd[1]<=0&&Sl.zeroline&&(Sl.type==="linear"||Sl.type==="-")&&!(Sl.rangebreaks&&Sl.maskBreaks(0)===vl)&&(Gf(Sl,0)||!of(Fl,Sl,od,dd)||Lf(Fl,Sl))},it.clipEnds=function(Fl,Sl){return Sl.filter(function(od){return Gf(Fl,od.x)})};function Gf(Fl,Sl){var od=Fl.l2p(Sl);return od>1&&od<Fl._length-1}function of(Fl,Sl,od,dd){var _d=od._mainAxis;if(!_d)return;var nd=Fl._fullLayout,ud=Sl._id.charAt(0),Td=it.counterLetter(Sl._id),wd=Sl._offset+(Math.abs(dd[0])<Math.abs(dd[1])==(ud==="x")?0:Sl._length);function Kd(wf){if(!wf.showline||!wf.linewidth)return!1;var ef=Math.max((wf.linewidth+Sl.zerolinewidth)/2,1);function Sf(ap){return typeof ap=="number"&&Math.abs(ap-wd)<ef}if(Sf(wf._mainLinePosition)||Sf(wf._mainMirrorPosition))return!0;var zf=wf._linepositions||{};for(var t0 in zf)if(Sf(zf[t0][0])||Sf(zf[t0][1]))return!0}var Qd=nd._plots[od._mainSubplot];if(!(Qd.mainplotinfo||Qd).overlays.length)return Kd(od);for(var Mh=it.list(Fl,Td),hf=0;hf<Mh.length;hf++){var Kh=Mh[hf];if(Kh._mainAxis===_d&&Kd(Kh))return!0}}function Lf(Fl,Sl){for(var od=Fl._fullData,dd=Sl._mainSubplot,_d=Sl._id.charAt(0),nd=0;nd<od.length;nd++){var ud=od[nd];if(ud.visible===!0&&ud.xaxis+ud.yaxis===dd&&(P.traceIs(ud,"bar-like")&&ud.orientation==={x:"h",y:"v"}[_d]||ud.fill&&ud.fill.charAt(ud.fill.length-1)===_d))return!0}return!1}function Df(Fl){var Sl=A.select(Fl),od=Sl.select(".text-math-group");return od.empty()?Sl.select("text"):od}it.allowAutoMargin=function(Fl){for(var Sl=it.list(Fl,"",!0),od=0;od<Sl.length;od++){var dd=Sl[od];dd.automargin&&(C.allowAutoMargin(Fl,If(dd)),dd.mirror&&C.allowAutoMargin(Fl,Ff(dd))),P.getComponentMethod("rangeslider","isVisible")(dd)&&C.allowAutoMargin(Fl,bp(dd))}};function If(Fl){return Fl._id+".automargin"}function Ff(Fl){return If(Fl)+".mirror"}function bp(Fl){return Fl._id+".rangeslider"}it.swap=function(Fl,Sl){for(var od=Op(Fl,Sl),dd=0;dd<od.length;dd++)zp(Fl,od[dd].x,od[dd].y)};function Op(Fl,Sl){var od=[],dd,_d;for(dd=0;dd<Sl.length;dd++){var nd=[],ud=Fl._fullData[Sl[dd]].xaxis,Td=Fl._fullData[Sl[dd]].yaxis;if(!(!ud||!Td)){for(_d=0;_d<od.length;_d++)(od[_d].x.indexOf(ud)!==-1||od[_d].y.indexOf(Td)!==-1)&&nd.push(_d);if(!nd.length){od.push({x:[ud],y:[Td]});continue}var wd=od[nd[0]],Kd;if(nd.length>1)for(_d=1;_d<nd.length;_d++)Kd=od[nd[_d]],Wf(wd.x,Kd.x),Wf(wd.y,Kd.y);Wf(wd.x,[ud]),Wf(wd.y,[Td])}}return od}function Wf(Fl,Sl){for(var od=0;od<Sl.length;od++)Fl.indexOf(Sl[od])===-1&&Fl.push(Sl[od])}function zp(Fl,Sl,od){var dd=[],_d=[],nd=Fl.layout,ud,Td;for(ud=0;ud<Sl.length;ud++)dd.push(it.getFromId(Fl,Sl[ud]));for(ud=0;ud<od.length;ud++)_d.push(it.getFromId(Fl,od[ud]));var wd=Object.keys(z),Kd=["anchor","domain","overlaying","position","side","tickangle","editType"],Qd=["linear","log"];for(ud=0;ud<wd.length;ud++){var Mh=wd[ud],hf=dd[0][Mh],Kh=_d[0][Mh],wf=!0,ef=!1,Sf=!1;if(!(Mh.charAt(0)==="_"||typeof hf=="function"||Kd.indexOf(Mh)!==-1)){for(Td=1;Td<dd.length&&wf;Td++){var zf=dd[Td][Mh];Mh==="type"&&Qd.indexOf(hf)!==-1&&Qd.indexOf(zf)!==-1&&hf!==zf?ef=!0:zf!==hf&&(wf=!1)}for(Td=1;Td<_d.length&&wf;Td++){var t0=_d[Td][Mh];Mh==="type"&&Qd.indexOf(Kh)!==-1&&Qd.indexOf(t0)!==-1&&Kh!==t0?Sf=!0:_d[Td][Mh]!==Kh&&(wf=!1)}wf&&(ef&&(nd[dd[0]._name].type="linear"),Sf&&(nd[_d[0]._name].type="linear"),qp(nd,Mh,dd,_d,Fl._fullLayout._dfltTitle))}}for(ud=0;ud<Fl._fullLayout.annotations.length;ud++){var ap=Fl._fullLayout.annotations[ud];Sl.indexOf(ap.xref)!==-1&&od.indexOf(ap.yref)!==-1&&R.swapAttrs(nd.annotations[ud],["?"])}}function qp(Fl,Sl,od,dd,_d){var nd=R.nestedProperty,ud=nd(Fl[od[0]._name],Sl).get(),Td=nd(Fl[dd[0]._name],Sl).get(),wd;for(Sl==="title"&&(ud&&ud.text===_d.x&&(ud.text=_d.y),Td&&Td.text===_d.y&&(Td.text=_d.x)),wd=0;wd<od.length;wd++)nd(Fl,od[wd]._name+"."+Sl).set(Td);for(wd=0;wd<dd.length;wd++)nd(Fl,dd[wd]._name+"."+Sl).set(ud)}function p0(Fl){return Fl._id==="angularaxis"}function m0(Fl,Sl){for(var od=Sl._rangebreaks.length,dd=0;dd<od;dd++){var _d=Sl._rangebreaks[dd];if(Fl>=_d.min&&Fl<_d.max)return _d.max}return Fl}function Ap(Fl){return(Fl.ticklabelposition||"").indexOf("inside")!==-1}function Hp(Fl,Sl){Ap(Fl._anchorAxis||{})&&Fl._hideCounterAxisInsideTickLabels&&Fl._hideCounterAxisInsideTickLabels(Sl)}function Tp(Fl,Sl,od,dd){var _d=Fl.anchor!=="free"&&(Fl.overlaying===void 0||Fl.overlaying===!1)?Fl._id:Fl.overlaying,nd;dd?nd=Fl.side==="right"?Sl:-Sl:nd=Sl,_d in od||(od[_d]={}),Fl.side in od[_d]||(od[_d][Fl.side]=0),od[_d][Fl.side]+=nd}function bf(Fl,Sl){return Fl.autoshift?Sl[Fl.overlaying][Fl.side]:Fl.shift||0}function N0(Fl,Sl){return/%f/.test(Sl)?Fl>=il:/%L/.test(Sl)?Fl>=ul:/%[SX]/.test(Sl)?Fl>=tl:/%M/.test(Sl)?Fl>=ml:/%[HI]/.test(Sl)?Fl>=Pe:/%p/.test(Sl)?Fl>=jt:/%[Aadejuwx]/.test(Sl)?Fl>=Bn:/%[UVW]/.test(Sl)?Fl>=gl:/%[Bbm]/.test(Sl)?Fl>=nt:/%[q]/.test(Sl)?Fl>=j:/%[Yy]/.test(Sl)?Fl>=q:!0}}),ph=o((rl,In)=>{In.exports=function(A,v,C){var P,R;if(C){var F=v==="reversed"||v==="min reversed"||v==="max reversed";P=C[F?1:0],R=C[F?0:1]}var I=A("autorangeoptions.minallowed",R===null?P:void 0),B=A("autorangeoptions.maxallowed",P===null?R:void 0);I===void 0&&A("autorangeoptions.clipmin"),B===void 0&&A("autorangeoptions.clipmax"),A("autorangeoptions.include")}}),Dh=o((rl,In)=>{var A=ph();In.exports=function(v,C,P,R){var F=C._template||{},I=C.type||F.type||"-";P("minallowed"),P("maxallowed");var B=P("range");if(!B){var x;!R.noInsiderange&&I!=="log"&&(x=P("insiderange"),x&&(x[0]===null||x[1]===null)&&(C.insiderange=!1,x=void 0),x&&(B=P("range",x)))}var W=C.getAutorangeDflt(B,R),z=P("autorange",W),U;B&&(B[0]===null&&B[1]===null||(B[0]===null||B[1]===null)&&(z==="reversed"||z===!0)||B[0]!==null&&(z==="min"||z==="max reversed")||B[1]!==null&&(z==="max"||z==="min reversed"))&&(B=void 0,delete C.range,C.autorange=!0,U=!0),U||(W=C.getAutorangeDflt(B,R),z=P("autorange",W)),z&&(A(P,z,B),(I==="linear"||I==="-")&&P("rangemode")),C.cleanRange()}}),Uh=o((rl,In)=>{var A={left:0,top:0};In.exports=v;function v(P,R,F){R=R||P.currentTarget||P.srcElement,Array.isArray(F)||(F=[0,0]);var I=P.clientX||0,B=P.clientY||0,x=C(R);return F[0]=I-x.left,F[1]=B-x.top,F}function C(P){return P===window||P===document||P===document.body?A:P.getBoundingClientRect()}}),Oh=o((rl,In)=>{var A=rh();function v(){var C=!1;try{var P=Object.defineProperty({},"passive",{get:function(){C=!0}});window.addEventListener("test",null,P),window.removeEventListener("test",null,P)}catch{C=!1}return C}In.exports=A&&v()}),Rh=o((rl,In)=>{In.exports=function(A,v,C,P,R){var F=(A-C)/(P-C),I=F+v/(P-C),B=(F+I)/2;return R==="left"||R==="bottom"?F:R==="center"||R==="middle"?B:R==="right"||R==="top"?I:F<2/3-B?F:I>4/3-B?I:B}}),Yh=o((rl,In)=>{var A=ls(),v=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];In.exports=function(C,P,R,F){return R==="left"?C=0:R==="center"?C=1:R==="right"?C=2:C=A.constrain(Math.floor(C*3),0,2),F==="bottom"?P=0:F==="middle"?P=1:F==="top"?P=2:P=A.constrain(Math.floor(P*3),0,2),v[P][C]}}),wh=o((rl,In)=>{var A=ep(),v=Tg(),C=hp().getGraphDiv,P=Nl(),R=In.exports={};R.wrapped=function(F,I,B){F=C(F),F._fullLayout&&v.clear(F._fullLayout._uid+P.HOVERID),R.raw(F,I,B)},R.raw=function(F,I){var B=F._fullLayout,x=F._hoverdata;I||(I={}),!(I.target&&!F._dragged&&A.triggerHandler(F,"plotly_beforehover",I)===!1)&&(B._hoverlayer.selectAll("g").remove(),B._hoverlayer.selectAll("line").remove(),B._hoverlayer.selectAll("circle").remove(),F._hoverdata=void 0,I.target&&x&&F.emit("plotly_unhover",{event:I,points:x}))}}),Hh=o((rl,In)=>{var A=Uh(),v=Ih(),C=Oh(),P=ls().removeElement,R=vp(),F=In.exports={};F.align=Rh(),F.getCursor=Yh();var I=wh();F.unhover=I.wrapped,F.unhoverRaw=I.raw,F.init=function(W){var z=W.gd,U=1,Q=z._context.doubleClickDelay,Z=W.element,$,q,J,O,j,Y,se,nt;z._mouseDownTime||(z._mouseDownTime=0),Z.style.pointerEvents="all",Z.onmousedown=jt,C?(Z._ontouchstart&&Z.removeEventListener("touchstart",Z._ontouchstart),Z._ontouchstart=jt,Z.addEventListener("touchstart",jt,{passive:!1})):Z.ontouchstart=jt;function gl(tl,ul,il){return Math.abs(tl)<il&&(tl=0),Math.abs(ul)<il&&(ul=0),[tl,ul]}var Bn=W.clampFn||gl;function jt(tl){z._dragged=!1,z._dragging=!0;var ul=x(tl);$=ul[0],q=ul[1],se=tl.target,Y=tl,nt=tl.buttons===2||tl.ctrlKey,typeof tl.clientX>"u"&&typeof tl.clientY>"u"&&(tl.clientX=$,tl.clientY=q),J=new Date().getTime(),J-z._mouseDownTime<Q?U+=1:(U=1,z._mouseDownTime=J),W.prepFn&&W.prepFn(tl,$,q),v&&!nt?(j=B(),j.style.cursor=window.getComputedStyle(Z).cursor):v||(j=document,O=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(Z).cursor),document.addEventListener("mouseup",ml),document.addEventListener("touchend",ml),W.dragmode!==!1&&(tl.preventDefault(),document.addEventListener("mousemove",Pe),document.addEventListener("touchmove",Pe,{passive:!1}))}function Pe(tl){tl.preventDefault();var ul=x(tl),il=W.minDrag||R.MINDRAG,sl=Bn(ul[0]-$,ul[1]-q,il),vl=sl[0],yl=sl[1];(vl||yl)&&(z._dragged=!0,F.unhover(z,tl)),z._dragged&&W.moveFn&&!nt&&(z._dragdata={element:Z,dx:vl,dy:yl},W.moveFn(vl,yl))}function ml(tl){if(delete z._dragdata,W.dragmode!==!1&&(tl.preventDefault(),document.removeEventListener("mousemove",Pe),document.removeEventListener("touchmove",Pe)),document.removeEventListener("mouseup",ml),document.removeEventListener("touchend",ml),v?P(j):O&&(j.documentElement.style.cursor=O,O=null),!z._dragging){z._dragged=!1;return}if(z._dragging=!1,new Date().getTime()-z._mouseDownTime>Q&&(U=Math.max(U-1,1)),z._dragged)W.doneFn&&W.doneFn();else{var ul;Y.target===se?ul=Y:(ul={target:se,srcElement:se,toElement:se},Object.keys(Y).concat(Object.keys(Y.__proto__)).forEach(il=>{var sl=Y[il];!ul[il]&&typeof sl!="function"&&(ul[il]=sl)})),W.clickFn&&W.clickFn(U,ul),nt||se.dispatchEvent(new MouseEvent("click",tl))}z._dragging=!1,z._dragged=!1}};function B(){var W=document.createElement("div");W.className="dragcover";var z=W.style;return z.position="fixed",z.left=0,z.right=0,z.top=0,z.bottom=0,z.zIndex=999999999,z.background="none",document.body.appendChild(W),W}F.coverSlip=B;function x(W){return A(W.changedTouches?W.changedTouches[0]:W,document.body)}}),Cf=o((rl,In)=>{In.exports=function(A,v){(A.attr("class")||"").split(" ").forEach(function(C){C.indexOf("cursor-")===0&&A.classed(C,!1)}),v&&A.classed("cursor-"+v,!0)}}),nf=o((rl,In)=>{var A=Cf(),v="data-savedcursor",C="!!";In.exports=function(P,R){var F=P.attr(v);if(R){if(!F){for(var I=(P.attr("class")||"").split(" "),B=0;B<I.length;B++){var x=I[B];x.indexOf("cursor-")===0&&P.attr(v,x.substr(7)).classed(x,!1)}P.attr(v)||P.attr(v,C)}A(P,R)}else F&&(P.attr(v,null),F===C?A(P):A(P,F))}}),mf=o((rl,In)=>{var A=vu(),v=Id();In.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:v.defaultLine,editType:"legend"},maxheight:{valType:"number",min:0,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:A({editType:"legend"}),grouptitlefont:A({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},indentation:{valType:"number",min:-15,dflt:0,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:A({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}}),af=o(rl=>{rl.isGrouped=function(In){return(In.traceorder||"").indexOf("grouped")!==-1},rl.isVertical=function(In){return In.orientation!=="h"},rl.isReversed=function(In){return(In.traceorder||"").indexOf("reversed")!==-1}}),zh=o((rl,In)=>{var A=Ep(),v=ls(),C=Zf(),P=Zu(),R=mf(),F=cg(),I=af();function B(x,W,z,U){var Q=W[x]||{},Z=C.newContainer(z,x);function $(Iu,cl){return v.coerce(Q,Z,R,Iu,cl)}var q=v.coerceFont($,"font",z.font);$("bgcolor",z.paper_bgcolor),$("bordercolor");var J=$("visible");if(J){for(var O,j=function(Iu,cl){var pl=O._input,it=O;return v.coerce(pl,it,P,Iu,cl)},Y=z.font||{},se=v.coerceFont($,"grouptitlefont",Y,{overrideDflt:{size:Math.round(Y.size*1.1)}}),nt=0,gl=!1,Bn="normal",jt=(z.shapes||[]).filter(function(Iu){return Iu.showlegend}),Pe=U.concat(jt).filter(function(Iu){return x===(Iu.legend||"legend")}),ml=0;ml<Pe.length;ml++)if(O=Pe[ml],!!O.visible){var tl=O._isShape;(O.showlegend||O._dfltShowLegend&&!(O._module&&O._module.attributes&&O._module.attributes.showlegend&&O._module.attributes.showlegend.dflt===!1))&&(nt++,O.showlegend&&(gl=!0,(!tl&&A.traceIs(O,"pie-like")||O._input.showlegend===!0)&&nt++),v.coerceFont(j,"legendgrouptitle.font",se)),(!tl&&A.traceIs(O,"bar")&&z.barmode==="stack"||["tonextx","tonexty"].indexOf(O.fill)!==-1)&&(Bn=I.isGrouped({traceorder:Bn})?"grouped+reversed":"reversed"),O.legendgroup!==void 0&&O.legendgroup!==""&&(Bn=I.isReversed({traceorder:Bn})?"reversed+grouped":"grouped")}var ul=v.coerce(W,z,F,"showlegend",gl&&nt>(x==="legend"?1:0));if(ul===!1&&(z[x]=void 0),!(ul===!1&&!Q.uirevision)&&($("uirevision",z.uirevision),ul!==!1)){$("borderwidth");var il=$("orientation"),sl=$("yref"),vl=$("xref"),yl=il==="h",Fn=sl==="paper",xl=vl==="paper",wl,kl,Dl,Ol="left";yl?(wl=0,A.getComponentMethod("rangeslider","isVisible")(W.xaxis)?Fn?(kl=1.1,Dl="bottom"):(kl=1,Dl="top"):Fn?(kl=-.1,Dl="top"):(kl=0,Dl="bottom")):(kl=1,Dl="auto",xl?wl=1.02:(wl=1,Ol="right")),v.coerce(Q,Z,{x:{valType:"number",editType:"legend",min:xl?-2:0,max:xl?3:1,dflt:wl}},"x"),v.coerce(Q,Z,{y:{valType:"number",editType:"legend",min:Fn?-2:0,max:Fn?3:1,dflt:kl}},"y"),$("traceorder",Bn),I.isGrouped(z[x])&&$("tracegroupgap"),$("entrywidth"),$("entrywidthmode"),$("indentation"),$("itemsizing"),$("itemwidth"),$("itemclick"),$("itemdoubleclick"),$("groupclick"),$("xanchor",Ol),$("yanchor",Dl),$("maxheight"),$("valign"),v.noneOrAll(Q,Z,["x","y"]);var gu=$("title.text");if(gu){$("title.side",yl?"left":"top");var yu=v.extendFlat({},q,{size:v.bigFont(q.size)});v.coerceFont($,"title.font",yu)}}}}In.exports=function(x,W,z){var U,Q=z.slice(),Z=W.shapes;if(Z)for(U=0;U<Z.length;U++){var $=Z[U];if($.showlegend){var q={_input:$._input,visible:$.visible,showlegend:$.showlegend,legend:$.legend};Q.push(q)}}var J=["legend"];for(U=0;U<Q.length;U++)v.pushUnique(J,Q[U].legend);for(W._legends=[],U=0;U<J.length;U++){var O=J[U];B(O,x,W,Q),W[O]&&(W[O]._id=O),W._legends.push(O)}}}),Af=o((rl,In)=>{var A=Ep(),v=ls(),C=v.pushUnique,P=!0;In.exports=function(R,F,I){var B=F._fullLayout;if(F._dragged||F._editing)return;var x=B.legend.itemclick,W=B.legend.itemdoubleclick,z=B.legend.groupclick;I===1&&x==="toggle"&&W==="toggleothers"&&P&&F.data&&F._context.showTips&&v.notifier(v._(F,"Double-click on legend to isolate one trace"),"long"),P=!1;var U;if(I===1?U=x:I===2&&(U=W),!U)return;var Q=z==="togglegroup",Z=B.hiddenlabels?B.hiddenlabels.slice():[],$=R.data()[0][0];if($.groupTitle&&$.noClick)return;var q=F._fullData,J=(B.shapes||[]).filter(function(Ed){return Ed.showlegend}),O=q.concat(J),j=$.trace;j._isShape&&(j=j._fullInput);var Y=j.legendgroup,se,nt,gl,Bn,jt,Pe,ml={},tl=[],ul=[],il=[];function sl(Ed,_u){var Nu=tl.indexOf(Ed),Gl=ml.visible;return Gl||(Gl=ml.visible=[]),tl.indexOf(Ed)===-1&&(tl.push(Ed),Nu=tl.length-1),Gl[Nu]=_u,Nu}var vl=(B.shapes||[]).map(function(Ed){return Ed._input}),yl=!1;function Fn(Ed,_u){vl[Ed].visible=_u,yl=!0}function xl(Ed,_u){if(!($.groupTitle&&!Q)){var Nu=Ed._fullInput||Ed,Gl=Nu._isShape,rd=Nu.index;rd===void 0&&(rd=Nu._index);var Sd=Nu.visible===!1?!1:_u;Gl?Fn(rd,Sd):sl(rd,Sd)}}var wl=j.legend,kl=j._fullInput,Dl=kl&&kl._isShape;if(!Dl&&A.traceIs(j,"pie-like")){var Ol=$.label,gu=Z.indexOf(Ol);if(U==="toggle")gu===-1?Z.push(Ol):Z.splice(gu,1);else if(U==="toggleothers"){var yu=gu!==-1,Iu=[];for(se=0;se<F.calcdata.length;se++){var cl=F.calcdata[se];for(nt=0;nt<cl.length;nt++){var pl=cl[nt],it=pl.label;wl===cl[0].trace.legend&&Ol!==it&&(Z.indexOf(it)===-1&&(yu=!0),C(Z,it),Iu.push(it))}}if(!yu)for(var bl=0;bl<Iu.length;bl++){var Ll=Z.indexOf(Iu[bl]);Ll!==-1&&Z.splice(Ll,1)}}A.call("_guiRelayout",F,"hiddenlabels",Z)}else{var nl=Y&&Y.length,ve=[],_t;if(nl)for(se=0;se<O.length;se++)_t=O[se],_t.visible&&_t.legendgroup===Y&&ve.push(se);if(U==="toggle"){var ol;switch(j.visible){case!0:ol="legendonly";break;case!1:ol=!1;break;case"legendonly":ol=!0;break}if(nl)if(Q)for(se=0;se<O.length;se++){var dl=O[se];dl.visible!==!1&&dl.legendgroup===Y&&xl(dl,ol)}else xl(j,ol);else xl(j,ol)}else if(U==="toggleothers"){var Il,ql,Zl,Bu,Ju,yd=!0;for(se=0;se<O.length;se++)if(Ju=O[se],Il=Ju===j,Zl=Ju.showlegend!==!0,!(Il||Zl)&&(ql=nl&&Ju.legendgroup===Y,!ql&&Ju.legend===wl&&Ju.visible===!0&&!A.traceIs(Ju,"notLegendIsolatable"))){yd=!1;break}for(se=0;se<O.length;se++)if(Ju=O[se],!(Ju.visible===!1||Ju.legend!==wl)&&!A.traceIs(Ju,"notLegendIsolatable"))switch(j.visible){case"legendonly":xl(Ju,!0);break;case!0:Bu=yd?!0:"legendonly",Il=Ju===j,Zl=Ju.showlegend!==!0&&!Ju.legendgroup,ql=Il||nl&&Ju.legendgroup===Y,xl(Ju,ql||Zl?!0:Bu);break}}for(se=0;se<ul.length;se++)if(gl=ul[se],!!gl){var Hd=gl.constructUpdate(),Rd=Object.keys(Hd);for(nt=0;nt<Rd.length;nt++)Bn=Rd[nt],Pe=ml[Bn]=ml[Bn]||[],Pe[il[se]]=Hd[Bn]}for(jt=Object.keys(ml),se=0;se<jt.length;se++)for(Bn=jt[se],nt=0;nt<tl.length;nt++)ml[Bn].hasOwnProperty(nt)||(ml[Bn][nt]=void 0);yl?A.call("_guiUpdate",F,ml,{shapes:vl},tl):A.call("_guiRestyle",F,ml,tl)}}}),$f=o((rl,In)=>{In.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}}),Rf=o((rl,In)=>{var A=Ep(),v=af();In.exports=function(C,P,R){var F=P._inHover,I=v.isGrouped(P),B=v.isReversed(P),x={},W=[],z=!1,U={},Q=0,Z=0,$,q;function J(xl,wl,kl){if(P.visible!==!1&&!(R&&xl!==P._id))if(wl===""||!v.isGrouped(P)){var Dl="~~i"+Q;W.push(Dl),x[Dl]=[kl],Q++}else W.indexOf(wl)===-1?(W.push(wl),z=!0,x[wl]=[kl]):x[wl].push(kl)}for($=0;$<C.length;$++){var O=C[$],j=O[0],Y=j.trace,se=Y.legend,nt=Y.legendgroup;if(!(!F&&(!Y.visible||!Y.showlegend)))if(A.traceIs(Y,"pie-like"))for(U[nt]||(U[nt]={}),q=0;q<O.length;q++){var gl=O[q].label;U[nt][gl]||(J(se,nt,{label:gl,color:O[q].color,i:O[q].i,trace:Y,pts:O[q].pts}),U[nt][gl]=!0,Z=Math.max(Z,(gl||"").length))}else J(se,nt,j),Z=Math.max(Z,(Y.name||"").length)}if(!W.length)return[];var Bn=!z||!I,jt=[];for($=0;$<W.length;$++){var Pe=x[W[$]];Bn?jt.push(Pe[0]):jt.push(Pe)}for(Bn&&(jt=[jt]),$=0;$<jt.length;$++){var ml=1/0;for(q=0;q<jt[$].length;q++){var tl=jt[$][q].trace.legendrank;ml>tl&&(ml=tl)}jt[$][0]._groupMinRank=ml,jt[$][0]._preGroupSort=$}var ul=function(xl,wl){return xl[0]._groupMinRank-wl[0]._groupMinRank||xl[0]._preGroupSort-wl[0]._preGroupSort},il=function(xl,wl){return xl.trace.legendrank-wl.trace.legendrank||xl._preSort-wl._preSort};for(jt.forEach(function(xl,wl){xl[0]._preGroupSort=wl}),jt.sort(ul),$=0;$<jt.length;$++){jt[$].forEach(function(xl,wl){xl._preSort=wl}),jt[$].sort(il);var sl=jt[$][0].trace,vl=null;for(q=0;q<jt[$].length;q++){var yl=jt[$][q].trace.legendgrouptitle;if(yl&&yl.text){vl=yl,F&&(yl.font=P._groupTitleFont);break}}if(B&&jt[$].reverse(),vl){var Fn=!1;for(q=0;q<jt[$].length;q++)if(A.traceIs(jt[$][q].trace,"pie-like")){Fn=!0;break}jt[$].unshift({i:-1,groupTitle:vl,noClick:Fn,trace:{showlegend:sl.showlegend,legendgroup:sl.legendgroup,visible:P.groupclick==="toggleitem"?!0:sl.visible}})}for(q=0;q<jt[$].length;q++)jt[$][q]=[jt[$][q]]}return P._lgroupsLength=jt.length,P._maxNameLength=Z,jt}}),cf=o(rl=>{var In=ls();function A(v){return v.indexOf("e")!==-1?v.replace(/[.]?0+e/,"e"):v.indexOf(".")!==-1?v.replace(/[.]?0+$/,""):v}rl.formatPiePercent=function(v,C){var P=A((v*100).toPrecision(3));return In.numSeparate(P,C)+"%"},rl.formatPieValue=function(v,C){var P=A(v.toPrecision(10));return In.numSeparate(P,C)},rl.getFirstFilled=function(v,C){if(In.isArrayOrTypedArray(v))for(var P=0;P<C.length;P++){var R=v[C[P]];if(R||R===0||R==="")return R}},rl.castOption=function(v,C){if(In.isArrayOrTypedArray(v))return rl.getFirstFilled(v,C);if(v)return v},rl.getRotationAngle=function(v){return(v==="auto"?0:v)*Math.PI/180}}),dp=o((rl,In)=>{var A=dh(),v=Bd();In.exports=function(C,P,R,F){var I=R.marker.pattern;I&&I.shape?A.pointStyle(C,R,F,P):v.fill(C,P.color)}}),np=o((rl,In)=>{var A=Bd(),v=cf().castOption,C=dp();In.exports=function(P,R,F,I){var B=F.marker.line,x=v(B.color,R.pts)||A.defaultLine,W=v(B.width,R.pts)||0;P.call(C,R,F,I).style("stroke-width",W).call(A.stroke,x)}}),ip=o((rl,In)=>{var A=f(),v=Ep(),C=ls(),P=C.strTranslate,R=dh(),F=Bd(),I=Yp().extractOpts,B=ld(),x=np(),W=cf().castOption,z=$f(),U=12,Q=5,Z=2,$=10,q=5;In.exports=function(Y,se,nt){var gl=se._fullLayout;nt||(nt=gl.legend);var Bn=nt.itemsizing==="constant",jt=nt.itemwidth,Pe=(jt+z.itemGap*2)/2,ml=P(Pe,0),tl=function(Iu,cl,pl,it){var bl;if(Iu+1)bl=Iu;else if(cl&&cl.width>0)bl=cl.width;else return 0;return Bn?it:Math.min(bl,pl)};Y.each(function(Iu){var cl=A.select(this),pl=C.ensureSingle(cl,"g","layers");pl.style("opacity",Iu[0].trace.opacity);var it=nt.indentation,bl=nt.valign,Ll=Iu[0].lineHeight,nl=Iu[0].height;if(bl==="middle"&&it===0||!Ll||!nl)pl.attr("transform",null);else{var ve={top:1,bottom:-1}[bl],_t=ve*(.5*(Ll-nl+3))||0,ol=nt.indentation;pl.attr("transform",P(ol,_t))}var dl=pl.selectAll("g.legendfill").data([Iu]);dl.enter().append("g").classed("legendfill",!0);var Il=pl.selectAll("g.legendlines").data([Iu]);Il.enter().append("g").classed("legendlines",!0);var ql=pl.selectAll("g.legendsymbols").data([Iu]);ql.enter().append("g").classed("legendsymbols",!0),ql.selectAll("g.legendpoints").data([Iu]).enter().append("g").classed("legendpoints",!0)}).each(yu).each(sl).each(yl).each(vl).each(xl).each(Ol).each(Dl).each(ul).each(il).each(wl).each(kl);function ul(Iu){var cl=O(Iu),pl=cl.showFill,it=cl.showLine,bl=cl.showGradientLine,Ll=cl.showGradientFill,nl=cl.anyFill,ve=cl.anyLine,_t=Iu[0],ol=_t.trace,dl,Il,ql=I(ol),Zl=ql.colorscale,Bu=ql.reversescale,Ju=function(Gl){if(Gl.size())if(pl)R.fillGroupStyle(Gl,se,!0);else{var rd="legendfill-"+ol.uid;R.gradient(Gl,se,rd,J(Bu),Zl,"fill")}},yd=function(Gl){if(Gl.size()){var rd="legendline-"+ol.uid;R.lineGroupStyle(Gl),R.gradient(Gl,se,rd,J(Bu),Zl,"stroke")}},Hd=B.hasMarkers(ol)||!nl?"M5,0":ve?"M5,-2":"M5,-3",Rd=A.select(this),Ed=Rd.select(".legendfill").selectAll("path").data(pl||Ll?[Iu]:[]);if(Ed.enter().append("path").classed("js-fill",!0),Ed.exit().remove(),Ed.attr("d",Hd+"h"+jt+"v6h-"+jt+"z").call(Ju),it||bl){var _u=tl(void 0,ol.line,$,Q);Il=C.minExtend(ol,{line:{width:_u}}),dl=[C.minExtend(_t,{trace:Il})]}var Nu=Rd.select(".legendlines").selectAll("path").data(it||bl?[dl]:[]);Nu.enter().append("path").classed("js-line",!0),Nu.exit().remove(),Nu.attr("d",Hd+(bl?"l"+jt+",0.0001":"h"+jt)).call(it?R.lineGroupStyle:yd)}function il(Iu){var cl=O(Iu),pl=cl.anyFill,it=cl.anyLine,bl=cl.showLine,Ll=cl.showMarker,nl=Iu[0],ve=nl.trace,_t=!Ll&&!it&&!pl&&B.hasText(ve),ol,dl;function Il(Ed,_u,Nu,Gl){var rd=C.nestedProperty(ve,Ed).get(),Sd=C.isArrayOrTypedArray(rd)&&_u?_u(rd):rd;if(Bn&&Sd&&Gl!==void 0&&(Sd=Gl),Nu){if(Sd<Nu[0])return Nu[0];if(Sd>Nu[1])return Nu[1]}return Sd}function ql(Ed){return nl._distinct&&nl.index&&Ed[nl.index]?Ed[nl.index]:Ed[0]}if(Ll||_t||bl){var Zl={},Bu={};if(Ll){Zl.mc=Il("marker.color",ql),Zl.mx=Il("marker.symbol",ql),Zl.mo=Il("marker.opacity",C.mean,[.2,1]),Zl.mlc=Il("marker.line.color",ql),Zl.mlw=Il("marker.line.width",C.mean,[0,5],Z),Bu.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var Ju=Il("marker.size",C.mean,[2,16],U);Zl.ms=Ju,Bu.marker.size=Ju}bl&&(Bu.line={width:Il("line.width",ql,[0,10],Q)}),_t&&(Zl.tx="Aa",Zl.tp=Il("textposition",ql),Zl.ts=10,Zl.tc=Il("textfont.color",ql),Zl.tf=Il("textfont.family",ql),Zl.tw=Il("textfont.weight",ql),Zl.ty=Il("textfont.style",ql),Zl.tv=Il("textfont.variant",ql),Zl.tC=Il("textfont.textcase",ql),Zl.tE=Il("textfont.lineposition",ql),Zl.tS=Il("textfont.shadow",ql)),ol=[C.minExtend(nl,Zl)],dl=C.minExtend(ve,Bu),dl.selectedpoints=null,dl.texttemplate=null}var yd=A.select(this).select("g.legendpoints"),Hd=yd.selectAll("path.scatterpts").data(Ll?ol:[]);Hd.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",ml),Hd.exit().remove(),Hd.call(R.pointStyle,dl,se),Ll&&(ol[0].mrc=3);var Rd=yd.selectAll("g.pointtext").data(_t?ol:[]);Rd.enter().append("g").classed("pointtext",!0).append("text").attr("transform",ml),Rd.exit().remove(),Rd.selectAll("text").call(R.textPointStyle,dl,se)}function sl(Iu){var cl=Iu[0].trace,pl=cl.type==="waterfall";if(Iu[0]._distinct&&pl){var it=Iu[0].trace[Iu[0].dir].marker;return Iu[0].mc=it.color,Iu[0].mlw=it.line.width,Iu[0].mlc=it.line.color,Fn(Iu,this,"waterfall")}var bl=[];cl.visible&&pl&&(bl=Iu[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var Ll=A.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(bl);Ll.enter().append("path").classed("legendwaterfall",!0).attr("transform",ml).style("stroke-miterlimit",1),Ll.exit().remove(),Ll.each(function(nl){var ve=A.select(this),_t=cl[nl[0]].marker,ol=tl(void 0,_t.line,q,Z);ve.attr("d",nl[1]).style("stroke-width",ol+"px").call(F.fill,_t.color),ol&&ve.call(F.stroke,_t.line.color)})}function vl(Iu){Fn(Iu,this)}function yl(Iu){Fn(Iu,this,"funnel")}function Fn(Iu,cl,pl){var it=Iu[0].trace,bl=it.marker||{},Ll=bl.line||{},nl=bl.cornerradius?"M6,3a3,3,0,0,1-3,3H-3a3,3,0,0,1-3-3V-3a3,3,0,0,1,3-3H3a3,3,0,0,1,3,3Z":"M6,6H-6V-6H6Z",ve=pl?it.visible&&it.type===pl:v.traceIs(it,"bar"),_t=A.select(cl).select("g.legendpoints").selectAll("path.legend"+pl).data(ve?[Iu]:[]);_t.enter().append("path").classed("legend"+pl,!0).attr("d",nl).attr("transform",ml),_t.exit().remove(),_t.each(function(ol){var dl=A.select(this),Il=ol[0],ql=tl(Il.mlw,bl.line,q,Z);dl.style("stroke-width",ql+"px");var Zl=Il.mcc;if(!nt._inHover&&"mc"in Il){var Bu=I(bl),Ju=Bu.mid;Ju===void 0&&(Ju=(Bu.max+Bu.min)/2),Zl=R.tryColorscale(bl,"")(Ju)}var yd=Zl||Il.mc||bl.color,Hd=bl.pattern,Rd=R.getPatternAttr,Ed=Hd&&(Rd(Hd.shape,0,"")||Rd(Hd.path,0,""));if(Ed){var _u=Rd(Hd.bgcolor,0,null),Nu=Rd(Hd.fgcolor,0,null),Gl=Hd.fgopacity,rd=j(Hd.size,8,10),Sd=j(Hd.solidity,.5,1),Pd="legend-"+it.uid;dl.call(R.pattern,"legend",se,Pd,Ed,rd,Sd,Zl,Hd.fillmode,_u,Nu,Gl)}else dl.call(F.fill,yd);ql&&F.stroke(dl,Il.mlc||Ll.color)})}function xl(Iu){var cl=Iu[0].trace,pl=A.select(this).select("g.legendpoints").selectAll("path.legendbox").data(cl.visible&&v.traceIs(cl,"box-violin")?[Iu]:[]);pl.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",ml),pl.exit().remove(),pl.each(function(){var it=A.select(this);if((cl.boxpoints==="all"||cl.points==="all")&&F.opacity(cl.fillcolor)===0&&F.opacity((cl.line||{}).color)===0){var bl=C.minExtend(cl,{marker:{size:Bn?U:C.constrain(cl.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});pl.call(R.pointStyle,bl,se)}else{var Ll=tl(void 0,cl.line,q,Z);it.style("stroke-width",Ll+"px").call(F.fill,cl.fillcolor),Ll&&F.stroke(it,cl.line.color)}})}function wl(Iu){var cl=Iu[0].trace,pl=A.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(cl.visible&&cl.type==="candlestick"?[Iu,Iu]:[]);pl.enter().append("path").classed("legendcandle",!0).attr("d",function(it,bl){return bl?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",ml).style("stroke-miterlimit",1),pl.exit().remove(),pl.each(function(it,bl){var Ll=A.select(this),nl=cl[bl?"increasing":"decreasing"],ve=tl(void 0,nl.line,q,Z);Ll.style("stroke-width",ve+"px").call(F.fill,nl.fillcolor),ve&&F.stroke(Ll,nl.line.color)})}function kl(Iu){var cl=Iu[0].trace,pl=A.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(cl.visible&&cl.type==="ohlc"?[Iu,Iu]:[]);pl.enter().append("path").classed("legendohlc",!0).attr("d",function(it,bl){return bl?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",ml).style("stroke-miterlimit",1),pl.exit().remove(),pl.each(function(it,bl){var Ll=A.select(this),nl=cl[bl?"increasing":"decreasing"],ve=tl(void 0,nl.line,q,Z);Ll.style("fill","none").call(R.dashLine,nl.line.dash,ve),ve&&F.stroke(Ll,nl.line.color)})}function Dl(Iu){gu(Iu,this,"pie")}function Ol(Iu){gu(Iu,this,"funnelarea")}function gu(Iu,cl,pl){var it=Iu[0],bl=it.trace,Ll=pl?bl.visible&&bl.type===pl:v.traceIs(bl,pl),nl=A.select(cl).select("g.legendpoints").selectAll("path.legend"+pl).data(Ll?[Iu]:[]);if(nl.enter().append("path").classed("legend"+pl,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",ml),nl.exit().remove(),nl.size()){var ve=bl.marker||{},_t=tl(W(ve.line.width,it.pts),ve.line,q,Z),ol="pieLike",dl=C.minExtend(bl,{marker:{line:{width:_t}}},ol),Il=C.minExtend(it,{trace:dl},ol);x(nl,Il,dl,se)}}function yu(Iu){var cl=Iu[0].trace,pl,it=[];if(cl.visible)switch(cl.type){case"histogram2d":case"heatmap":it=[["M-15,-2V4H15V-2Z"]],pl=!0;break;case"choropleth":case"choroplethmapbox":case"choroplethmap":it=[["M-6,-6V6H6V-6Z"]],pl=!0;break;case"densitymapbox":case"densitymap":it=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],pl="radial";break;case"cone":it=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],pl=!1;break;case"streamtube":it=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],pl=!1;break;case"surface":it=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],pl=!0;break;case"mesh3d":it=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],pl=!1;break;case"volume":it=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],pl=!0;break;case"isosurface":it=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],pl=!1;break}var bl=A.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(it);bl.enter().append("path").classed("legend3dandfriends",!0).attr("transform",ml).style("stroke-miterlimit",1),bl.exit().remove(),bl.each(function(Ll,nl){var ve=A.select(this),_t=I(cl),ol=_t.colorscale,dl=_t.reversescale,Il=function(Ju){if(Ju.size()){var yd="legendfill-"+cl.uid;R.gradient(Ju,se,yd,J(dl,pl==="radial"),ol,"fill")}},ql;if(ol){if(!pl){var Zl=ol.length;ql=nl===0?ol[dl?Zl-1:0][1]:nl===1?ol[dl?0:Zl-1][1]:ol[Math.floor((Zl-1)/2)][1]}}else{var Bu=cl.vertexcolor||cl.facecolor||cl.color;ql=C.isArrayOrTypedArray(Bu)?Bu[nl]||Bu[0]:Bu}ve.attr("d",Ll[0]),ql?ve.call(F.fill,ql):ve.call(Il)})}};function J(Y,se){var nt=se?"radial":"horizontal";return nt+(Y?"":"reversed")}function O(Y){var se=Y[0].trace,nt=se.contours,gl=B.hasLines(se),Bn=B.hasMarkers(se),jt=se.visible&&se.fill&&se.fill!=="none",Pe=!1,ml=!1;if(nt){var tl=nt.coloring;tl==="lines"?Pe=!0:gl=tl==="none"||tl==="heatmap"||nt.showlines,nt.type==="constraint"?jt=nt._operation!=="=":(tl==="fill"||tl==="heatmap")&&(ml=!0)}return{showMarker:Bn,showLine:gl,showFill:jt,showGradientLine:Pe,showGradientFill:ml,anyLine:gl||Pe,anyFill:jt||ml}}function j(Y,se,nt){return Y&&C.isArrayOrTypedArray(Y)?se:Y>nt?nt:Y}}),Xf=o((rl,In)=>{var A=f(),v=ls(),C=Jp(),P=Ep(),R=ep(),F=Hh(),I=dh(),B=Bd(),x=ag(),W=Af(),z=$f(),U=i0(),Q=U.LINE_SPACING,Z=U.FROM_TL,$=U.FROM_BR,q=Rf(),J=ip(),O=af(),j=1,Y=/^legend[0-9]*$/;In.exports=function(wl,kl){if(kl)nt(wl,kl);else{var Dl=wl._fullLayout,Ol=Dl._legends,gu=Dl._infolayer.selectAll('[class^="legend"]');gu.each(function(){var pl=A.select(this),it=pl.attr("class"),bl=it.split(" ")[0];bl.match(Y)&&Ol.indexOf(bl)===-1&&pl.remove()});for(var yu=0;yu<Ol.length;yu++){var Iu=Ol[yu],cl=wl._fullLayout[Iu];nt(wl,cl)}}};function se(wl,kl,Dl){if(!(kl.title.side!=="top center"&&kl.title.side!=="top right")){var Ol=kl.title.font,gu=Ol.size*Q,yu=0,Iu=wl.node(),cl=I.bBox(Iu).width;kl.title.side==="top center"?yu=.5*(kl._width-2*Dl-2*z.titlePad-cl):kl.title.side==="top right"&&(yu=kl._width-2*Dl-2*z.titlePad-cl),x.positionText(wl,Dl+z.titlePad+yu,Dl+gu)}}function nt(wl,kl){var Dl=kl||{},Ol=wl._fullLayout,gu=xl(Dl),yu,Iu,cl=Dl._inHover;if(cl?(Iu=Dl.layer,yu="hover"):(Iu=Ol._infolayer,yu=gu),!!Iu){yu+=Ol._uid,wl._legendMouseDownTime||(wl._legendMouseDownTime=0);var pl;if(cl){if(!Dl.entries)return;pl=q(Dl.entries,Dl)}else{for(var it=(wl.calcdata||[]).slice(),bl=Ol.shapes,Ll=0;Ll<bl.length;Ll++){var nl=bl[Ll];if(nl.showlegend){var ve={_isShape:!0,_fullInput:nl,index:nl._index,name:nl.name||nl.label.text||"shape "+nl._index,legend:nl.legend,legendgroup:nl.legendgroup,legendgrouptitle:nl.legendgrouptitle,legendrank:nl.legendrank,legendwidth:nl.legendwidth,showlegend:nl.showlegend,visible:nl.visible,opacity:nl.opacity,mode:nl.type==="line"?"lines":"markers",line:nl.line,marker:{line:nl.line,color:nl.fillcolor,size:12,symbol:nl.type==="rect"?"square":nl.type==="circle"?"circle":"hexagon2"}};it.push([{trace:ve}])}}pl=Ol.showlegend&&q(it,Dl,Ol._legends.length>1)}var _t=Ol.hiddenlabels||[];if(!cl&&(!Ol.showlegend||!pl.length))return Iu.selectAll("."+gu).remove(),Ol._topdefs.select("#"+yu).remove(),C.autoMargin(wl,gu);var ol=v.ensureSingle(Iu,"g",gu,function(Rd){cl||Rd.attr("pointer-events","all")}),dl=v.ensureSingleById(Ol._topdefs,"clipPath",yu,function(Rd){Rd.append("rect")}),Il=v.ensureSingle(ol,"rect","bg",function(Rd){Rd.attr("shape-rendering","crispEdges")});Il.call(B.stroke,Dl.bordercolor).call(B.fill,Dl.bgcolor).style("stroke-width",Dl.borderwidth+"px");var ql=v.ensureSingle(ol,"g","scrollbox"),Zl=Dl.title;Dl._titleWidth=0,Dl._titleHeight=0;var Bu;Zl.text?(Bu=v.ensureSingle(ql,"text",gu+"titletext"),Bu.attr("text-anchor","start").call(I.font,Zl.font).text(Zl.text),tl(Bu,ql,wl,Dl,j)):ql.selectAll("."+gu+"titletext").remove();var Ju=v.ensureSingle(ol,"rect","scrollbar",function(Rd){Rd.attr(z.scrollBarEnterAttrs).call(B.fill,z.scrollBarColor)}),yd=ql.selectAll("g.groups").data(pl);yd.enter().append("g").attr("class","groups"),yd.exit().remove();var Hd=yd.selectAll("g.traces").data(v.identity);Hd.enter().append("g").attr("class","traces"),Hd.exit().remove(),Hd.style("opacity",function(Rd){var Ed=Rd[0].trace;return P.traceIs(Ed,"pie-like")?_t.indexOf(Rd[0].label)!==-1?.5:1:Ed.visible==="legendonly"?.5:1}).each(function(){A.select(this).call(jt,wl,Dl)}).call(J,wl,Dl).each(function(){cl||A.select(this).call(ml,wl,gu)}),v.syncOrAsync([C.previousPromises,function(){return sl(wl,yd,Hd,Dl)},function(){var Rd=Ol._size,Ed=Dl.borderwidth,_u=Dl.xref==="paper",Nu=Dl.yref==="paper";if(Zl.text&&se(Bu,Dl,Ed),!cl){var Gl,rd;_u?Gl=Rd.l+Rd.w*Dl.x-Z[yl(Dl)]*Dl._width:Gl=Ol.width*Dl.x-Z[yl(Dl)]*Dl._width,Nu?rd=Rd.t+Rd.h*(1-Dl.y)-Z[Fn(Dl)]*Dl._effHeight:rd=Ol.height*(1-Dl.y)-Z[Fn(Dl)]*Dl._effHeight;var Sd=vl(wl,gu,Gl,rd);if(Sd)return;if(Ol.margin.autoexpand){var Pd=Gl,Ud=rd;Gl=_u?v.constrain(Gl,0,Ol.width-Dl._width):Pd,rd=Nu?v.constrain(rd,0,Ol.height-Dl._effHeight):Ud,Gl!==Pd&&v.log("Constrain "+gu+".x to make legend fit inside graph"),rd!==Ud&&v.log("Constrain "+gu+".y to make legend fit inside graph")}I.setTranslate(ol,Gl,rd)}if(Ju.on(".drag",null),ol.on("wheel",null),cl||Dl._height<=Dl._maxHeight||wl._context.staticPlot){var $d=Dl._effHeight;cl&&($d=Dl._height),Il.attr({width:Dl._width-Ed,height:$d-Ed,x:Ed/2,y:Ed/2}),I.setTranslate(ql,0,0),dl.select("rect").attr({width:Dl._width-2*Ed,height:$d-2*Ed,x:Ed,y:Ed}),I.setClipUrl(ql,yu,wl),I.setRect(Ju,0,0,0,0),delete Dl._scrollY}else{var th=Math.max(z.scrollBarMinHeight,Dl._effHeight*Dl._effHeight/Dl._height),sh=Dl._effHeight-th-2*z.scrollBarMargin,ah=Dl._height-Dl._effHeight,Ah=sh/ah,Yd=Math.min(Dl._scrollY||0,ah);Il.attr({width:Dl._width-2*Ed+z.scrollBarWidth+z.scrollBarMargin,height:Dl._effHeight-Ed,x:Ed/2,y:Ed/2}),dl.select("rect").attr({width:Dl._width-2*Ed+z.scrollBarWidth+z.scrollBarMargin,height:Dl._effHeight-2*Ed,x:Ed,y:Ed+Yd}),I.setClipUrl(ql,yu,wl),Ul(Yd,th,Ah),ol.on("wheel",function(){Yd=v.constrain(Dl._scrollY+A.event.deltaY/sh*ah,0,ah),Ul(Yd,th,Ah),Yd!==0&&Yd!==ah&&A.event.preventDefault()});var Ph,jh,Th,Xh=function(bd,Nd,Fd){var zd=(Fd-Nd)/Ah+bd;return v.constrain(zd,0,ah)},Pu=function(bd,Nd,Fd){var zd=(Nd-Fd)/Ah+bd;return v.constrain(zd,0,ah)},sd=A.behavior.drag().on("dragstart",function(){var bd=A.event.sourceEvent;bd.type==="touchstart"?Ph=bd.changedTouches[0].clientY:Ph=bd.clientY,Th=Yd}).on("drag",function(){var bd=A.event.sourceEvent;bd.buttons===2||bd.ctrlKey||(bd.type==="touchmove"?jh=bd.changedTouches[0].clientY:jh=bd.clientY,Yd=Xh(Th,Ph,jh),Ul(Yd,th,Ah))});Ju.call(sd);var _l=A.behavior.drag().on("dragstart",function(){var bd=A.event.sourceEvent;bd.type==="touchstart"&&(Ph=bd.changedTouches[0].clientY,Th=Yd)}).on("drag",function(){var bd=A.event.sourceEvent;bd.type==="touchmove"&&(jh=bd.changedTouches[0].clientY,Yd=Pu(Th,Ph,jh),Ul(Yd,th,Ah))});ql.call(_l)}function Ul(bd,Nd,Fd){Dl._scrollY=wl._fullLayout[gu]._scrollY=bd,I.setTranslate(ql,0,-bd),I.setRect(Ju,Dl._width,z.scrollBarMargin+bd*Fd,z.scrollBarWidth,Nd),dl.select("rect").attr("y",Ed+bd)}if(wl._context.edits.legendPosition){var Jl,Hu,Ku,fd;ol.classed("cursor-move",!0),F.init({element:ol.node(),gd:wl,prepFn:function(bd){if(bd.target!==Ju.node()){var Nd=I.getTranslate(ol);Ku=Nd.x,fd=Nd.y}},moveFn:function(bd,Nd){if(Ku!==void 0&&fd!==void 0){var Fd=Ku+bd,zd=fd+Nd;I.setTranslate(ol,Fd,zd),Jl=F.align(Fd,Dl._width,Rd.l,Rd.l+Rd.w,Dl.xanchor),Hu=F.align(zd+Dl._height,-Dl._height,Rd.t+Rd.h,Rd.t,Dl.yanchor)}},doneFn:function(){if(Jl!==void 0&&Hu!==void 0){var bd={};bd[gu+".x"]=Jl,bd[gu+".y"]=Hu,P.call("_guiRelayout",wl,bd)}},clickFn:function(bd,Nd){var Fd=Iu.selectAll("g.traces").filter(function(){var zd=this.getBoundingClientRect();return Nd.clientX>=zd.left&&Nd.clientX<=zd.right&&Nd.clientY>=zd.top&&Nd.clientY<=zd.bottom});Fd.size()>0&&Bn(wl,ol,Fd,bd,Nd)}})}}],wl)}}function gl(wl,kl,Dl){var Ol=wl[0],gu=Ol.width,yu=kl.entrywidthmode,Iu=Ol.trace.legendwidth||kl.entrywidth;return yu==="fraction"?kl._maxWidth*Iu:Dl+(Iu||gu)}function Bn(wl,kl,Dl,Ol,gu){var yu=Dl.data()[0][0].trace,Iu={event:gu,node:Dl.node(),curveNumber:yu.index,expandedIndex:yu.index,data:wl.data,layout:wl.layout,frames:wl._transitionData._frames,config:wl._context,fullData:wl._fullData,fullLayout:wl._fullLayout};yu._group&&(Iu.group=yu._group),P.traceIs(yu,"pie-like")&&(Iu.label=Dl.datum()[0].label);var cl=R.triggerHandler(wl,"plotly_legendclick",Iu);if(Ol===1){if(cl===!1)return;kl._clickTimeout=setTimeout(function(){wl._fullLayout&&W(Dl,wl,Ol)},wl._context.doubleClickDelay)}else if(Ol===2){kl._clickTimeout&&clearTimeout(kl._clickTimeout),wl._legendMouseDownTime=0;var pl=R.triggerHandler(wl,"plotly_legenddoubleclick",Iu);pl!==!1&&cl!==!1&&W(Dl,wl,Ol)}}function jt(wl,kl,Dl){var Ol=xl(Dl),gu=wl.data()[0][0],yu=gu.trace,Iu=P.traceIs(yu,"pie-like"),cl=!Dl._inHover&&kl._context.edits.legendText&&!Iu,pl=Dl._maxNameLength,it,bl;gu.groupTitle?(it=gu.groupTitle.text,bl=gu.groupTitle.font):(bl=Dl.font,Dl.entries?it=gu.text:(it=Iu?gu.label:yu.name,yu._meta&&(it=v.templateString(it,yu._meta))));var Ll=v.ensureSingle(wl,"text",Ol+"text");Ll.attr("text-anchor","start").call(I.font,bl).text(cl?Pe(it,pl):it);var nl=Dl.indentation+Dl.itemwidth+z.itemGap*2;x.positionText(Ll,nl,0),cl?Ll.call(x.makeEditable,{gd:kl,text:it}).call(tl,wl,kl,Dl).on("edit",function(ve){this.text(Pe(ve,pl)).call(tl,wl,kl,Dl);var _t=gu.trace._fullInput||{},ol={};return ol.name=ve,_t._isShape?P.call("_guiRelayout",kl,"shapes["+yu.index+"].name",ol.name):P.call("_guiRestyle",kl,ol,yu.index)}):tl(Ll,wl,kl,Dl)}function Pe(wl,kl){var Dl=Math.max(4,kl);if(wl&&wl.trim().length>=Dl/2)return wl;wl=wl||"";for(var Ol=Dl-wl.length;Ol>0;Ol--)wl+=" ";return wl}function ml(wl,kl,Dl){var Ol=kl._context.doubleClickDelay,gu,yu=1,Iu=v.ensureSingle(wl,"rect",Dl+"toggle",function(cl){kl._context.staticPlot||cl.style("cursor","pointer").attr("pointer-events","all"),cl.call(B.fill,"rgba(0,0,0,0)")});kl._context.staticPlot||(Iu.on("mousedown",function(){gu=new Date().getTime(),gu-kl._legendMouseDownTime<Ol?yu+=1:(yu=1,kl._legendMouseDownTime=gu)}),Iu.on("mouseup",function(){if(!(kl._dragged||kl._editing)){var cl=kl._fullLayout[Dl];new Date().getTime()-kl._legendMouseDownTime>Ol&&(yu=Math.max(yu-1,1)),Bn(kl,cl,wl,yu,A.event)}}))}function tl(wl,kl,Dl,Ol,gu){Ol._inHover&&wl.attr("data-notex",!0),x.convertToTspans(wl,Dl,function(){ul(kl,Dl,Ol,gu)})}function ul(wl,kl,Dl,Ol){var gu=wl.data()[0][0];if(!Dl._inHover&&gu&&!gu.trace.showlegend){wl.remove();return}var yu=wl.select("g[class*=math-group]"),Iu=yu.node(),cl=xl(Dl);Dl||(Dl=kl._fullLayout[cl]);var pl=Dl.borderwidth,it;Ol===j?it=Dl.title.font:gu.groupTitle?it=gu.groupTitle.font:it=Dl.font;var bl=it.size*Q,Ll,nl;if(Iu){var ve=I.bBox(Iu);Ll=ve.height,nl=ve.width,Ol===j?I.setTranslate(yu,pl,pl+Ll*.75):I.setTranslate(yu,0,Ll*.25)}else{var _t="."+cl+(Ol===j?"title":"")+"text",ol=wl.select(_t),dl=x.lineCount(ol),Il=ol.node();if(Ll=bl*dl,nl=Il?I.bBox(Il).width:0,Ol===j)Dl.title.side==="left"&&(nl+=z.itemGap*2),x.positionText(ol,pl+z.titlePad,pl+bl);else{var ql=z.itemGap*2+Dl.indentation+Dl.itemwidth;gu.groupTitle&&(ql=z.itemGap,nl-=Dl.indentation+Dl.itemwidth),x.positionText(ol,ql,-bl*((dl-1)/2-.3))}}Ol===j?(Dl._titleWidth=nl,Dl._titleHeight=Ll):(gu.lineHeight=bl,gu.height=Math.max(Ll,16)+3,gu.width=nl)}function il(wl){var kl=0,Dl=0,Ol=wl.title.side;return Ol&&(Ol.indexOf("left")!==-1&&(kl=wl._titleWidth),Ol.indexOf("top")!==-1&&(Dl=wl._titleHeight)),[kl,Dl]}function sl(wl,kl,Dl,Ol){var gu=wl._fullLayout,yu=xl(Ol);Ol||(Ol=gu[yu]);var Iu=gu._size,cl=O.isVertical(Ol),pl=O.isGrouped(Ol),it=Ol.entrywidthmode==="fraction",bl=Ol.borderwidth,Ll=2*bl,nl=z.itemGap,ve=Ol.indentation+Ol.itemwidth+nl*2,_t=2*(bl+nl),ol=Fn(Ol),dl=Ol.y<0||Ol.y===0&&ol==="top",Il=Ol.y>1||Ol.y===1&&ol==="bottom",ql=Ol.tracegroupgap,Zl={};let{orientation:Bu,yref:Ju}=Ol,{maxheight:yd}=Ol,Hd=dl||Il||Bu!=="v"||Ju!=="paper";yd||(yd=Hd?.5:1);let Rd=Hd?gu.height:Iu.h;Ol._maxHeight=Math.max(yd>1?yd:yd*Rd,30);var Ed=0;Ol._width=0,Ol._height=0;var _u=il(Ol);if(cl)Dl.each(function(Ul){var Jl=Ul[0].height;I.setTranslate(this,bl+_u[0],bl+_u[1]+Ol._height+Jl/2+nl),Ol._height+=Jl,Ol._width=Math.max(Ol._width,Ul[0].width)}),Ed=ve+Ol._width,Ol._width+=nl+ve+Ll,Ol._height+=_t,pl&&(kl.each(function(Ul,Jl){I.setTranslate(this,0,Jl*Ol.tracegroupgap)}),Ol._height+=(Ol._lgroupsLength-1)*Ol.tracegroupgap);else{var Nu=yl(Ol),Gl=Ol.x<0||Ol.x===0&&Nu==="right",rd=Ol.x>1||Ol.x===1&&Nu==="left",Sd=Il||dl,Pd=gu.width/2;Ol._maxWidth=Math.max(Gl?Sd&&Nu==="left"?Iu.l+Iu.w:Pd:rd?Sd&&Nu==="right"?Iu.r+Iu.w:Pd:Iu.w,2*ve);var Ud=0,$d=0;Dl.each(function(Ul){var Jl=gl(Ul,Ol,ve);Ud=Math.max(Ud,Jl),$d+=Jl}),Ed=null;var th=0;if(pl){var sh=0,ah=0,Ah=0;kl.each(function(){var Ul=0,Jl=0;A.select(this).selectAll("g.traces").each(function(Ku){var fd=gl(Ku,Ol,ve),bd=Ku[0].height;I.setTranslate(this,_u[0],_u[1]+bl+nl+bd/2+Jl),Jl+=bd,Ul=Math.max(Ul,fd),Zl[Ku[0].trace.legendgroup]=Ul});var Hu=Ul+nl;ah>0&&Hu+bl+ah>Ol._maxWidth?(th=Math.max(th,ah),ah=0,Ah+=sh+ql,sh=Jl):sh=Math.max(sh,Jl),I.setTranslate(this,ah,Ah),ah+=Hu}),Ol._width=Math.max(th,ah)+bl,Ol._height=Ah+sh+_t}else{var Yd=Dl.size(),Ph=$d+Ll+(Yd-1)*nl<Ol._maxWidth,jh=0,Th=0,Xh=0,Pu=0;Dl.each(function(Ul){var Jl=Ul[0].height,Hu=gl(Ul,Ol,ve),Ku=Ph?Hu:Ud;it||(Ku+=nl),Ku+bl+Th-nl>=Ol._maxWidth&&(th=Math.max(th,Pu),Th=0,Xh+=jh,Ol._height+=jh,jh=0),I.setTranslate(this,_u[0]+bl+Th,_u[1]+bl+Xh+Jl/2+nl),Pu=Th+Hu+nl,Th+=Ku,jh=Math.max(jh,Jl)}),Ph?(Ol._width=Th+Ll,Ol._height=jh+_t):(Ol._width=Math.max(th,Pu)+Ll,Ol._height+=jh+_t)}}Ol._width=Math.ceil(Math.max(Ol._width+_u[0],Ol._titleWidth+2*(bl+z.titlePad))),Ol._height=Math.ceil(Math.max(Ol._height+_u[1],Ol._titleHeight+2*(bl+z.itemGap))),Ol._effHeight=Math.min(Ol._height,Ol._maxHeight);var sd=wl._context.edits,_l=sd.legendText||sd.legendPosition;Dl.each(function(Ul){var Jl=A.select(this).select("."+yu+"toggle"),Hu=Ul[0].height,Ku=Ul[0].trace.legendgroup,fd=gl(Ul,Ol,ve);pl&&Ku!==""&&(fd=Zl[Ku]);var bd=_l?ve:Ed||fd;!cl&&!it&&(bd+=nl/2),I.setRect(Jl,0,-Hu/2,bd,Hu)})}function vl(wl,kl,Dl,Ol){var gu=wl._fullLayout,yu=gu[kl],Iu=yl(yu),cl=Fn(yu),pl=yu.xref==="paper",it=yu.yref==="paper";wl._fullLayout._reservedMargin[kl]={};var bl=yu.y<.5?"b":"t",Ll=yu.x<.5?"l":"r",nl={r:gu.width-Dl,l:Dl+yu._width,b:gu.height-Ol,t:Ol+yu._effHeight};if(pl&&it)return C.autoMargin(wl,kl,{x:yu.x,y:yu.y,l:yu._width*Z[Iu],r:yu._width*$[Iu],b:yu._effHeight*$[cl],t:yu._effHeight*Z[cl]});pl?wl._fullLayout._reservedMargin[kl][bl]=nl[bl]:it||yu.orientation==="v"?wl._fullLayout._reservedMargin[kl][Ll]=nl[Ll]:wl._fullLayout._reservedMargin[kl][bl]=nl[bl]}function yl(wl){return v.isRightAnchor(wl)?"right":v.isCenterAnchor(wl)?"center":"left"}function Fn(wl){return v.isBottomAnchor(wl)?"bottom":v.isMiddleAnchor(wl)?"middle":"top"}function xl(wl){return wl._id||"legend"}}),Jf=o(rl=>{var In=f(),A=G(),v=Kl(),C=ls(),P=C.pushUnique,R=C.strTranslate,F=C.strRotate,I=ep(),B=ag(),x=nf(),W=dh(),z=Bd(),U=Hh(),Q=ih(),Z=vp().zindexSeparator,$=Ep(),q=Ld(),J=Nl(),O=zh(),j=Xf(),Y=J.YANGLE,se=Math.PI*Y/180,nt=1/Math.sin(se),gl=Math.cos(se),Bn=Math.sin(se),jt=J.HOVERARROWSIZE,Pe=J.HOVERTEXTPAD,ml={box:!0,ohlc:!0,violin:!0,candlestick:!0},tl={scatter:!0,scattergl:!0,splom:!0};function ul(ve,_t){return ve.distance-_t.distance}rl.hover=function(ve,_t,ol,dl){ve=C.getGraphDiv(ve);var Il=_t.target;C.throttle(ve._fullLayout._uid+J.HOVERID,J.HOVERMINTIME,function(){il(ve,_t,ol,dl,Il)})},rl.loneHover=function(ve,_t){var ol=!0;Array.isArray(ve)||(ol=!1,ve=[ve]);var dl=_t.gd,Il=bl(dl),ql=Ll(dl),Zl=ve.map(function(Gl){var rd=Gl._x0||Gl.x0||Gl.x||0,Sd=Gl._x1||Gl.x1||Gl.x||0,Pd=Gl._y0||Gl.y0||Gl.y||0,Ud=Gl._y1||Gl.y1||Gl.y||0,$d=Gl.eventData;if($d){var th=Math.min(rd,Sd),sh=Math.max(rd,Sd),ah=Math.min(Pd,Ud),Ah=Math.max(Pd,Ud),Yd=Gl.trace;if($.traceIs(Yd,"gl3d")){var Ph=dl._fullLayout[Yd.scene]._scene.container,jh=Ph.offsetLeft,Th=Ph.offsetTop;th+=jh,sh+=jh,ah+=Th,Ah+=Th}$d.bbox={x0:th+ql,x1:sh+ql,y0:ah+Il,y1:Ah+Il},_t.inOut_bbox&&_t.inOut_bbox.push($d.bbox)}else $d=!1;return{color:Gl.color||z.defaultLine,x0:Gl.x0||Gl.x||0,x1:Gl.x1||Gl.x||0,y0:Gl.y0||Gl.y||0,y1:Gl.y1||Gl.y||0,xLabel:Gl.xLabel,yLabel:Gl.yLabel,zLabel:Gl.zLabel,text:Gl.text,name:Gl.name,idealAlign:Gl.idealAlign,borderColor:Gl.borderColor,fontFamily:Gl.fontFamily,fontSize:Gl.fontSize,fontColor:Gl.fontColor,fontWeight:Gl.fontWeight,fontStyle:Gl.fontStyle,fontVariant:Gl.fontVariant,nameLength:Gl.nameLength,textAlign:Gl.textAlign,trace:Gl.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:Gl.hovertemplate||!1,hovertemplateLabels:Gl.hovertemplateLabels||!1,eventData:$d}}),Bu=!1,Ju=yl(Zl,{gd:dl,hovermode:"closest",rotateLabels:Bu,bgColor:_t.bgColor||z.background,container:In.select(_t.container),outerContainer:_t.outerContainer||_t.container}),yd=Ju.hoverLabels,Hd=5,Rd=0,Ed=0;yd.sort(function(Gl,rd){return Gl.y0-rd.y0}).each(function(Gl,rd){var Sd=Gl.y0-Gl.by/2;Sd-Hd<Rd?Gl.offset=Rd-Sd+Hd:Gl.offset=0,Rd=Sd+Gl.by+Gl.offset,rd===_t.anchorIndex&&(Ed=Gl.offset)}).each(function(Gl){Gl.offset-=Ed});var _u=dl._fullLayout._invScaleX,Nu=dl._fullLayout._invScaleY;return Dl(yd,Bu,_u,Nu),ol?yd:yd.node()};function il(ve,_t,ol,dl,Il){ol||(ol="xy"),typeof ol=="string"&&(ol=ol.split(Z)[0]);var ql=Array.isArray(ol)?ol:[ol],Zl,Bu=ve._fullLayout,Ju=Bu.hoversubplots,yd=Bu._plots||[],Hd=yd[ol],Rd=Bu._has("cartesian"),Ed=_t.hovermode||Bu.hovermode,_u=(Ed||"").charAt(0)==="x",Nu=(Ed||"").charAt(0)==="y",Gl,rd;if(Rd&&(_u||Nu)&&Ju==="axis"){for(var Sd=ql.length,Pd=0;Pd<Sd;Pd++)if(Zl=ql[Pd],yd[Zl]){Gl=Q.getFromId(ve,Zl,"x"),rd=Q.getFromId(ve,Zl,"y");var Ud=(_u?Gl:rd)._subplotsWith;if(Ud&&Ud.length)for(var $d=0;$d<Ud.length;$d++)P(ql,Ud[$d])}}if(Hd&&Ju!=="single"){var th=Hd.overlays.map(function(Vp){return Vp.id});ql=ql.concat(th)}for(var sh=ql.length,ah=new Array(sh),Ah=new Array(sh),Yd=!1,Ph=0;Ph<sh;Ph++)if(Zl=ql[Ph],yd[Zl])Yd=!0,ah[Ph]=yd[Zl].xaxis,Ah[Ph]=yd[Zl].yaxis;else if(Bu[Zl]&&Bu[Zl]._subplot){var jh=Bu[Zl]._subplot;ah[Ph]=jh.xaxis,Ah[Ph]=jh.yaxis}else{C.warn("Unrecognized subplot: "+Zl);return}if(Ed&&!Yd&&(Ed="closest"),["x","y","closest","x unified","y unified"].indexOf(Ed)===-1||!ve.calcdata||ve.querySelector(".zoombox")||ve._dragging)return U.unhoverRaw(ve,_t);var Th=Bu.hoverdistance;Th===-1&&(Th=1/0);var Xh=Bu.spikedistance;Xh===-1&&(Xh=1/0);var Pu=[],sd=[],_l,Ul,Jl,Hu,Ku,fd,bd,Nd,Fd,zd,lh,hh,gh,Zh={hLinePoint:null,vLinePoint:null},yf=!1;if(Array.isArray(_t))for(Ed="array",Jl=0;Jl<_t.length;Jl++)Ku=ve.calcdata[_t[Jl].curveNumber||0],Ku&&(fd=Ku[0].trace,Ku[0].trace.hoverinfo!=="skip"&&(sd.push(Ku),fd.orientation==="h"&&(yf=!0)));else{var Pf=ve.calcdata.slice();for(Pf.sort(function(Vp,Rg){var rg=Vp[0].trace.zorder||0,r0=Rg[0].trace.zorder||0;return rg-r0}),Hu=0;Hu<Pf.length;Hu++)Ku=Pf[Hu],fd=Ku[0].trace,fd.hoverinfo!=="skip"&&q.isTraceInSubplots(fd,ql)&&(sd.push(Ku),fd.orientation==="h"&&(yf=!0));var jf=!Il,tp,Tf;if(jf)"xpx"in _t?tp=_t.xpx:tp=ah[0]._length/2,"ypx"in _t?Tf=_t.ypx:Tf=Ah[0]._length/2;else{if(I.triggerHandler(ve,"plotly_beforehover",_t)===!1)return;var $h=Il.getBoundingClientRect();tp=_t.clientX-$h.left,Tf=_t.clientY-$h.top,Bu._calcInverseTransform(ve);var Gf=C.apply3DTransform(Bu._invTransform)(tp,Tf);if(tp=Gf[0],Tf=Gf[1],tp<0||tp>ah[0]._length||Tf<0||Tf>Ah[0]._length)return U.unhoverRaw(ve,_t)}if(_t.pointerX=tp+ah[0]._offset,_t.pointerY=Tf+Ah[0]._offset,"xval"in _t?_l=q.flat(ql,_t.xval):_l=q.p2c(ah,tp),"yval"in _t?Ul=q.flat(ql,_t.yval):Ul=q.p2c(Ah,Tf),!A(_l[0])||!A(Ul[0]))return C.warn("Fx.hover failed",_t,ve),U.unhoverRaw(ve,_t)}var of=1/0;function Lf(Vp,Rg){for(Hu=0;Hu<sd.length;Hu++)if(Ku=sd[Hu],!(!Ku||!Ku[0]||!Ku[0].trace)&&(fd=Ku[0].trace,!(fd.visible!==!0||fd._length===0)&&["carpet","contourcarpet"].indexOf(fd._module.name)===-1)){if(Fd=Ed,q.isUnifiedHover(Fd)&&(Fd=Fd.charAt(0)),fd.type==="splom"?(Nd=0,bd=ql[Nd]):(bd=q.getSubplot(fd),Nd=ql.indexOf(bd)),hh={cd:Ku,trace:fd,xa:ah[Nd],ya:Ah[Nd],maxHoverDistance:Th,maxSpikeDistance:Xh,index:!1,distance:Math.min(of,Th),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:z.defaultLine,name:fd.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},Bu[bd]&&(hh.subplot=Bu[bd]._subplot),Bu._splomScenes&&Bu._splomScenes[fd.uid]&&(hh.scene=Bu._splomScenes[fd.uid]),Fd==="array"){var rg=_t[Hu];"pointNumber"in rg?(hh.index=rg.pointNumber,Fd="closest"):(Fd="","xval"in rg&&(zd=rg.xval,Fd="x"),"yval"in rg&&(lh=rg.yval,Fd=Fd?"closest":"y"))}else Vp!==void 0&&Rg!==void 0?(zd=Vp,lh=Rg):(zd=_l[Nd],lh=Ul[Nd]);if(gh=Pu.length,Th!==0)if(fd._module&&fd._module.hoverPoints){var r0=fd._module.hoverPoints(hh,zd,lh,Fd,{finiteRange:!0,hoverLayer:Bu._hoverlayer,hoversubplots:Ju,gd:ve});if(r0)for(var Fg,pg=0;pg<r0.length;pg++)Fg=r0[pg],A(Fg.x0)&&A(Fg.y0)&&Pu.push(Ol(Fg,Ed))}else C.log("Unrecognized trace type in hover:",fd);if(Ed==="closest"&&Pu.length>gh&&(Pu.splice(0,gh),of=Pu[0].distance),Rd&&Xh!==0&&Pu.length===0){hh.distance=Xh,hh.index=!1;var _g=fd._module.hoverPoints(hh,zd,lh,"closest",{hoverLayer:Bu._hoverlayer});if(_g&&(_g=_g.filter(function(lg){return lg.spikeDistance<=Xh})),_g&&_g.length){var Bg,fm=_g.filter(function(lg){return lg.xa.showspikes&&lg.xa.spikesnap!=="hovered data"});if(fm.length){var C0=fm[0];A(C0.x0)&&A(C0.y0)&&(Bg=If(C0),(!Zh.vLinePoint||Zh.vLinePoint.spikeDistance>Bg.spikeDistance)&&(Zh.vLinePoint=Bg))}var gg=_g.filter(function(lg){return lg.ya.showspikes&&lg.ya.spikesnap!=="hovered data"});if(gg.length){var Y0=gg[0];A(Y0.x0)&&A(Y0.y0)&&(Bg=If(Y0),(!Zh.hLinePoint||Zh.hLinePoint.spikeDistance>Bg.spikeDistance)&&(Zh.hLinePoint=Bg))}}}}}Lf();function Df(Vp,Rg,rg){for(var r0=null,Fg=1/0,pg,_g=0;_g<Vp.length;_g++)Gl&&Gl._id!==Vp[_g].xa._id||rd&&rd._id!==Vp[_g].ya._id||(pg=Vp[_g].spikeDistance,rg&&_g===0&&(pg=-1/0),pg<=Fg&&pg<=Rg&&(r0=Vp[_g],Fg=pg));return r0}function If(Vp){return Vp?{xa:Vp.xa,ya:Vp.ya,x:Vp.xSpike!==void 0?Vp.xSpike:(Vp.x0+Vp.x1)/2,y:Vp.ySpike!==void 0?Vp.ySpike:(Vp.y0+Vp.y1)/2,distance:Vp.distance,spikeDistance:Vp.spikeDistance,curveNumber:Vp.trace.index,color:Vp.color,pointNumber:Vp.index}:null}var Ff={fullLayout:Bu,container:Bu._hoverlayer,event:_t};ve._spikepoints;var bp={vLinePoint:Zh.vLinePoint,hLinePoint:Zh.hLinePoint};ve._spikepoints=bp;var Op=function(){var Vp=Pu.filter(function(rg){return Gl&&Gl._id===rg.xa._id&&rd&&rd._id===rg.ya._id}),Rg=Pu.filter(function(rg){return!(Gl&&Gl._id===rg.xa._id&&rd&&rd._id===rg.ya._id)});Vp.sort(ul),Rg.sort(ul),Pu=Vp.concat(Rg),Pu=pl(Pu,Ed)};Op();var Wf=Ed.charAt(0),zp=(Wf==="x"||Wf==="y")&&Pu[0]&&tl[Pu[0].trace.type];if(Rd&&Xh!==0&&Pu.length!==0){var qp=Pu.filter(function(Vp){return Vp.ya.showspikes}),p0=Df(qp,Xh,zp);Zh.hLinePoint=If(p0);var m0=Pu.filter(function(Vp){return Vp.xa.showspikes}),Ap=Df(m0,Xh,zp);Zh.vLinePoint=If(Ap)}if(Pu.length===0){var Hp=U.unhoverRaw(ve,_t);return Rd&&(Zh.hLinePoint!==null||Zh.vLinePoint!==null)&&Iu()&&gu(ve,Zh,Ff),Hp}if(Rd&&Iu()&&gu(ve,Zh,Ff),q.isXYhover(Fd)&&Pu[0].length!==0&&Pu[0].trace.type!=="splom"){var Tp=Pu[0];ml[Tp.trace.type]?Pu=Pu.filter(function(Vp){return Vp.trace.index===Tp.trace.index}):Pu=[Tp];var bf=Pu.length,N0=it("x",Tp,Bu),Fl=it("y",Tp,Bu);Lf(N0,Fl);var Sl=[],od={},dd=0,_d=function(Vp){var Rg=ml[Vp.trace.type]?sl(Vp):Vp.trace.index;if(!od[Rg])dd++,od[Rg]=dd,Sl.push(Vp);else{var rg=od[Rg]-1,r0=Sl[rg];rg>0&&Math.abs(Vp.distance)<Math.abs(r0.distance)&&(Sl[rg]=Vp)}},nd;for(nd=0;nd<bf;nd++)_d(Pu[nd]);for(nd=Pu.length-1;nd>bf-1;nd--)_d(Pu[nd]);Pu=Sl,Op()}var ud=ve._hoverdata,Td=[],wd=bl(ve),Kd=Ll(ve);for(Jl=0;Jl<Pu.length;Jl++){var Qd=Pu[Jl],Mh=q.makeEventData(Qd,Qd.trace,Qd.cd);if(Qd.hovertemplate!==!1){var hf=!1;Qd.cd[Qd.index]&&Qd.cd[Qd.index].ht&&(hf=Qd.cd[Qd.index].ht),Qd.hovertemplate=hf||Qd.trace.hovertemplate||!1}if(Qd.xa&&Qd.ya){var Kh=Qd.x0+Qd.xa._offset,wf=Qd.x1+Qd.xa._offset,ef=Qd.y0+Qd.ya._offset,Sf=Qd.y1+Qd.ya._offset,zf=Math.min(Kh,wf),t0=Math.max(Kh,wf),ap=Math.min(ef,Sf),B0=Math.max(ef,Sf);Mh.bbox={x0:zf+Kd,x1:t0+Kd,y0:ap+wd,y1:B0+wd}}Qd.eventData=[Mh],Td.push(Mh)}ve._hoverdata=Td;var Lp=Ed==="y"&&(sd.length>1||Pu.length>1)||Ed==="closest"&&yf&&Pu.length>1,q0=z.combine(Bu.plot_bgcolor||z.background,Bu.paper_bgcolor),F0=yl(Pu,{gd:ve,hovermode:Ed,rotateLabels:Lp,bgColor:q0,container:Bu._hoverlayer,outerContainer:Bu._paper.node(),commonLabelOpts:Bu.hoverlabel,hoverdistance:Bu.hoverdistance}),kg=F0.hoverLabels;if(q.isUnifiedHover(Ed)||(xl(kg,Lp,Bu,F0.commonLabelBoundingBox),Dl(kg,Lp,Bu._invScaleX,Bu._invScaleY)),Il&&Il.tagName){var H0=$.getComponentMethod("annotations","hasClickToShow")(ve,Td);x(In.select(Il),H0?"pointer":"")}!Il||dl||!yu(ve,_t,ud)||(ud&&ve.emit("plotly_unhover",{event:_t,points:ud}),ve.emit("plotly_hover",{event:_t,points:ve._hoverdata,xaxes:ah,yaxes:Ah,xvals:_l,yvals:Ul}))}function sl(ve){return[ve.trace.index,ve.index,ve.x0,ve.y0,ve.name,ve.attr,ve.xa?ve.xa._id:"",ve.ya?ve.ya._id:""].join(",")}var vl=/<extra>([\s\S]*)<\/extra>/;function yl(ve,_t){var ol=_t.gd,dl=ol._fullLayout,Il=_t.hovermode,ql=_t.rotateLabels,Zl=_t.bgColor,Bu=_t.container,Ju=_t.outerContainer,yd=_t.commonLabelOpts||{};if(ve.length===0)return[[]];var Hd=_t.fontFamily||J.HOVERFONT,Rd=_t.fontSize||J.HOVERFONTSIZE,Ed=_t.fontWeight||dl.font.weight,_u=_t.fontStyle||dl.font.style,Nu=_t.fontVariant||dl.font.variant,Gl=_t.fontTextcase||dl.font.textcase,rd=_t.fontLineposition||dl.font.lineposition,Sd=_t.fontShadow||dl.font.shadow,Pd=ve[0],Ud=Pd.xa,$d=Pd.ya,th=Il.charAt(0),sh=th+"Label",ah=Pd[sh];if(ah===void 0&&Ud.type==="multicategory")for(var Ah=0;Ah<ve.length&&(ah=ve[Ah][sh],ah===void 0);Ah++);var Yd=nl(ol,Ju),Ph=Yd.top,jh=Yd.width,Th=Yd.height,Xh=ah!==void 0&&Pd.distance<=_t.hoverdistance&&(Il==="x"||Il==="y");if(Xh){var Pu=!0,sd,_l;for(sd=0;sd<ve.length;sd++)if(Pu&&ve[sd].zLabel===void 0&&(Pu=!1),_l=ve[sd].hoverinfo||ve[sd].trace.hoverinfo,_l){var Ul=Array.isArray(_l)?_l:_l.split("+");if(Ul.indexOf("all")===-1&&Ul.indexOf(Il)===-1){Xh=!1;break}}Pu&&(Xh=!1)}var Jl=Bu.selectAll("g.axistext").data(Xh?[0]:[]);Jl.enter().append("g").classed("axistext",!0),Jl.exit().remove();var Hu={minX:0,maxX:0,minY:0,maxY:0};if(Jl.each(function(){var bf=In.select(this),N0=C.ensureSingle(bf,"path","",function(Lp){Lp.style({"stroke-width":"1px"})}),Fl=C.ensureSingle(bf,"text","",function(Lp){Lp.attr("data-notex",1)}),Sl=yd.bgcolor||z.defaultLine,od=yd.bordercolor||z.contrast(Sl),dd=z.contrast(Sl),_d=yd.font,nd={weight:_d.weight||Ed,style:_d.style||_u,variant:_d.variant||Nu,textcase:_d.textcase||Gl,lineposition:_d.lineposition||rd,shadow:_d.shadow||Sd,family:_d.family||Hd,size:_d.size||Rd,color:_d.color||dd};N0.style({fill:Sl,stroke:od}),Fl.text(ah).call(W.font,nd).call(B.positionText,0,0).call(B.convertToTspans,ol),bf.attr("transform","");var ud=nl(ol,Fl.node()),Td,wd;if(Il==="x"){var Kd=Ud.side==="top"?"-":"";Fl.attr("text-anchor","middle").call(B.positionText,0,Ud.side==="top"?Ph-ud.bottom-jt-Pe:Ph-ud.top+jt+Pe),Td=Ud._offset+(Pd.x0+Pd.x1)/2,wd=$d._offset+(Ud.side==="top"?0:$d._length);var Qd=ud.width/2+Pe,Mh=Td;Td<Qd?Mh=Qd:Td>dl.width-Qd&&(Mh=dl.width-Qd),N0.attr("d","M"+(Td-Mh)+",0L"+(Td-Mh+jt)+","+Kd+jt+"H"+Qd+"v"+Kd+(Pe*2+ud.height)+"H"+-Qd+"V"+Kd+jt+"H"+(Td-Mh-jt)+"Z"),Td=Mh,Hu.minX=Td-Qd,Hu.maxX=Td+Qd,Ud.side==="top"?(Hu.minY=wd-(Pe*2+ud.height),Hu.maxY=wd-Pe):(Hu.minY=wd+Pe,Hu.maxY=wd+(Pe*2+ud.height))}else{var hf,Kh,wf;$d.side==="right"?(hf="start",Kh=1,wf="",Td=Ud._offset+Ud._length):(hf="end",Kh=-1,wf="-",Td=Ud._offset),wd=$d._offset+(Pd.y0+Pd.y1)/2,Fl.attr("text-anchor",hf),N0.attr("d","M0,0L"+wf+jt+","+jt+"V"+(Pe+ud.height/2)+"h"+wf+(Pe*2+ud.width)+"V-"+(Pe+ud.height/2)+"H"+wf+jt+"V-"+jt+"Z"),Hu.minY=wd-(Pe+ud.height/2),Hu.maxY=wd+(Pe+ud.height/2),$d.side==="right"?(Hu.minX=Td+jt,Hu.maxX=Td+jt+(Pe*2+ud.width)):(Hu.minX=Td-jt-(Pe*2+ud.width),Hu.maxX=Td-jt);var ef=ud.height/2,Sf=Ph-ud.top-ef,zf="clip"+dl._uid+"commonlabel"+$d._id,t0;if(Td<ud.width+2*Pe+jt){t0="M-"+(jt+Pe)+"-"+ef+"h-"+(ud.width-Pe)+"V"+ef+"h"+(ud.width-Pe)+"Z";var ap=ud.width-Td+Pe;B.positionText(Fl,ap,Sf),hf==="end"&&Fl.selectAll("tspan").each(function(){var Lp=In.select(this),q0=W.tester.append("text").text(Lp.text()).call(W.font,nd),F0=nl(ol,q0.node());Math.round(F0.width)<Math.round(ud.width)&&Lp.attr("x",ap-F0.width),q0.remove()})}else B.positionText(Fl,Kh*(Pe+jt),Sf),t0=null;var B0=dl._topclips.selectAll("#"+zf).data(t0?[0]:[]);B0.enter().append("clipPath").attr("id",zf).append("path"),B0.exit().remove(),B0.select("path").attr("d",t0),W.setClipUrl(Fl,t0?zf:null,ol)}bf.attr("transform",R(Td,wd))}),q.isUnifiedHover(Il)){Bu.selectAll("g.hovertext").remove();var Ku=ve.filter(function(bf){return bf.hoverinfo!=="none"});if(Ku.length===0)return[];var fd=dl.hoverlabel,bd=fd.font,Nd=Ku[0],Fd=((Il==="x unified"?Nd.xa:Nd.ya).unifiedhovertitle||{}).text,zd=Fd?C.hovertemplateString(Fd,{},dl._d3locale,Il==="x unified"?{xa:Nd.xa,x:Nd.xVal}:{ya:Nd.ya,y:Nd.yVal}):ah,lh={showlegend:!0,legend:{title:{text:zd,font:bd},font:bd,bgcolor:fd.bgcolor,bordercolor:fd.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:dl.legend?dl.legend.traceorder:void 0,orientation:"v"}},hh={font:bd};O(lh,hh,ol._fullData);var gh=hh.legend;gh.entries=[];for(var Zh=0;Zh<Ku.length;Zh++){var yf=Ku[Zh];if(yf.hoverinfo!=="none"){var Pf=Fn(yf,!0,Il,dl,ah),jf=Pf[0],tp=Pf[1];yf.name=tp,tp!==""?yf.text=tp+" : "+jf:yf.text=jf;var Tf=yf.cd[yf.index];Tf&&(Tf.mc&&(yf.mc=Tf.mc),Tf.mcc&&(yf.mc=Tf.mcc),Tf.mlc&&(yf.mlc=Tf.mlc),Tf.mlcc&&(yf.mlc=Tf.mlcc),Tf.mlw&&(yf.mlw=Tf.mlw),Tf.mrc&&(yf.mrc=Tf.mrc),Tf.dir&&(yf.dir=Tf.dir)),yf._distinct=!0,gh.entries.push([yf])}}gh.entries.sort(function(bf,N0){return bf[0].trace.index-N0[0].trace.index}),gh.layer=Bu,gh._inHover=!0,gh._groupTitleFont=fd.grouptitlefont,j(ol,gh);var $h=Bu.select("g.legend"),Gf=nl(ol,$h.node()),of=Gf.width+2*Pe,Lf=Gf.height+2*Pe,Df=Ku[0],If=(Df.x0+Df.x1)/2,Ff=(Df.y0+Df.y1)/2,bp=!($.traceIs(Df.trace,"bar-like")||$.traceIs(Df.trace,"box-violin")),Op,Wf;th==="y"?bp?(Wf=Ff-Pe,Op=Ff+Pe):(Wf=Math.min.apply(null,Ku.map(function(bf){return Math.min(bf.y0,bf.y1)})),Op=Math.max.apply(null,Ku.map(function(bf){return Math.max(bf.y0,bf.y1)}))):Wf=Op=C.mean(Ku.map(function(bf){return(bf.y0+bf.y1)/2}))-Lf/2;var zp,qp;th==="x"?bp?(zp=If+Pe,qp=If-Pe):(zp=Math.max.apply(null,Ku.map(function(bf){return Math.max(bf.x0,bf.x1)})),qp=Math.min.apply(null,Ku.map(function(bf){return Math.min(bf.x0,bf.x1)}))):zp=qp=C.mean(Ku.map(function(bf){return(bf.x0+bf.x1)/2}))-of/2;var p0=Ud._offset,m0=$d._offset;Op+=m0,zp+=p0,qp+=p0-of,Wf+=m0-Lf;var Ap,Hp;return zp+of<jh&&zp>=0?Ap=zp:qp+of<jh&&qp>=0?Ap=qp:p0+of<jh?Ap=p0:zp-If<If-qp+of?Ap=jh-of:Ap=0,Ap+=Pe,Op+Lf<Th&&Op>=0?Hp=Op:Wf+Lf<Th&&Wf>=0?Hp=Wf:m0+Lf<Th?Hp=m0:Op-Ff<Ff-Wf+Lf?Hp=Th-Lf:Hp=0,Hp+=Pe,$h.attr("transform",R(Ap-1,Hp-1)),$h}var Tp=Bu.selectAll("g.hovertext").data(ve,function(bf){return sl(bf)});return Tp.enter().append("g").classed("hovertext",!0).each(function(){var bf=In.select(this);bf.append("rect").call(z.fill,z.addOpacity(Zl,.8)),bf.append("text").classed("name",!0),bf.append("path").style("stroke-width","1px"),bf.append("text").classed("nums",!0).call(W.font,{weight:Ed,style:_u,variant:Nu,textcase:Gl,lineposition:rd,shadow:Sd,family:Hd,size:Rd})}),Tp.exit().remove(),Tp.each(function(bf){var N0=In.select(this).attr("transform",""),Fl=bf.color;Array.isArray(Fl)&&(Fl=Fl[bf.eventData[0].pointNumber]);var Sl=bf.bgcolor||Fl,od=z.combine(z.opacity(Sl)?Sl:z.defaultLine,Zl),dd=z.combine(z.opacity(Fl)?Fl:z.defaultLine,Zl),_d=bf.borderColor||z.contrast(od),nd=Fn(bf,Xh,Il,dl,ah,N0),ud=nd[0],Td=nd[1],wd=N0.select("text.nums").call(W.font,{family:bf.fontFamily||Hd,size:bf.fontSize||Rd,color:bf.fontColor||_d,weight:bf.fontWeight||Ed,style:bf.fontStyle||_u,variant:bf.fontVariant||Nu,textcase:bf.fontTextcase||Gl,lineposition:bf.fontLineposition||rd,shadow:bf.fontShadow||Sd}).text(ud).attr("data-notex",1).call(B.positionText,0,0).call(B.convertToTspans,ol),Kd=N0.select("text.name"),Qd=0,Mh=0;if(Td&&Td!==ud){Kd.call(W.font,{family:bf.fontFamily||Hd,size:bf.fontSize||Rd,color:dd,weight:bf.fontWeight||Ed,style:bf.fontStyle||_u,variant:bf.fontVariant||Nu,textcase:bf.fontTextcase||Gl,lineposition:bf.fontLineposition||rd,shadow:bf.fontShadow||Sd}).text(Td).attr("data-notex",1).call(B.positionText,0,0).call(B.convertToTspans,ol);var hf=nl(ol,Kd.node());Qd=hf.width+2*Pe,Mh=hf.height+2*Pe}else Kd.remove(),N0.select("rect").remove();N0.select("path").style({fill:od,stroke:_d});var Kh=bf.xa._offset+(bf.x0+bf.x1)/2,wf=bf.ya._offset+(bf.y0+bf.y1)/2,ef=Math.abs(bf.x1-bf.x0),Sf=Math.abs(bf.y1-bf.y0),zf=nl(ol,wd.node()),t0=zf.width/dl._invScaleX,ap=zf.height/dl._invScaleY;bf.ty0=(Ph-zf.top)/dl._invScaleY,bf.bx=t0+2*Pe,bf.by=Math.max(ap+2*Pe,Mh),bf.anchor="start",bf.txwidth=t0,bf.tx2width=Qd,bf.offset=0;var B0=(t0+jt+Pe+Qd)*dl._invScaleX,Lp,q0;if(ql)bf.pos=Kh,Lp=wf+Sf/2+B0<=Th,q0=wf-Sf/2-B0>=0,(bf.idealAlign==="top"||!Lp)&&q0?(wf-=Sf/2,bf.anchor="end"):Lp?(wf+=Sf/2,bf.anchor="start"):bf.anchor="middle",bf.crossPos=wf;else{if(bf.pos=wf,Lp=Kh+ef/2+B0<=jh,q0=Kh-ef/2-B0>=0,(bf.idealAlign==="left"||!Lp)&&q0)Kh-=ef/2,bf.anchor="end";else if(Lp)Kh+=ef/2,bf.anchor="start";else{bf.anchor="middle";var F0=B0/2,kg=Kh+F0-jh,H0=Kh-F0;kg>0&&(Kh-=kg),H0<0&&(Kh+=-H0)}bf.crossPos=Kh}wd.attr("text-anchor",bf.anchor),Qd&&Kd.attr("text-anchor",bf.anchor),N0.attr("transform",R(Kh,wf)+(ql?F(Y):""))}),{hoverLabels:Tp,commonLabelBoundingBox:Hu}}function Fn(ve,_t,ol,dl,Il,ql){var Zl="",Bu="";ve.nameOverride!==void 0&&(ve.name=ve.nameOverride),ve.name&&(ve.trace._meta&&(ve.name=C.templateString(ve.name,ve.trace._meta)),Zl=cl(ve.name,ve.nameLength));var Ju=ol.charAt(0),yd=Ju==="x"?"y":"x";ve.zLabel!==void 0?(ve.xLabel!==void 0&&(Bu+="x: "+ve.xLabel+"<br>"),ve.yLabel!==void 0&&(Bu+="y: "+ve.yLabel+"<br>"),ve.trace.type!=="choropleth"&&ve.trace.type!=="choroplethmapbox"&&ve.trace.type!=="choroplethmap"&&(Bu+=(Bu?"z: ":"")+ve.zLabel)):_t&&ve[Ju+"Label"]===Il?Bu=ve[yd+"Label"]||"":ve.xLabel===void 0?ve.yLabel!==void 0&&ve.trace.type!=="scattercarpet"&&(Bu=ve.yLabel):ve.yLabel===void 0?Bu=ve.xLabel:Bu="("+ve.xLabel+", "+ve.yLabel+")",(ve.text||ve.text===0)&&!Array.isArray(ve.text)&&(Bu+=(Bu?"<br>":"")+ve.text),ve.extraText!==void 0&&(Bu+=(Bu?"<br>":"")+ve.extraText),ql&&Bu===""&&!ve.hovertemplate&&(Zl===""&&ql.remove(),Bu=Zl);var Hd=ve.hovertemplate||!1;if(Hd){var Rd=ve.hovertemplateLabels||ve;ve[Ju+"Label"]!==Il&&(Rd[Ju+"other"]=Rd[Ju+"Val"],Rd[Ju+"otherLabel"]=Rd[Ju+"Label"]),Bu=C.hovertemplateString(Hd,Rd,dl._d3locale,ve.eventData[0]||{},ve.trace._meta),Bu=Bu.replace(vl,function(Ed,_u){return Zl=cl(_u,ve.nameLength),""})}return[Bu,Zl]}function xl(ve,_t,ol,dl){var Il=_t?"xa":"ya",ql=_t?"ya":"xa",Zl=0,Bu=1,Ju=ve.size(),yd=new Array(Ju),Hd=0,Rd=dl.minX,Ed=dl.maxX,_u=dl.minY,Nu=dl.maxY,Gl=function(_l){return _l*ol._invScaleX},rd=function(_l){return _l*ol._invScaleY};ve.each(function(_l){var Ul=_l[Il],Jl=_l[ql],Hu=Ul._id.charAt(0)==="x",Ku=Ul.range;Hd===0&&Ku&&Ku[0]>Ku[1]!==Hu&&(Bu=-1);var fd=0,bd=Hu?ol.width:ol.height;if(ol.hovermode==="x"||ol.hovermode==="y"){var Nd=wl(_l,_t),Fd=_l.anchor,zd=Fd==="end"?-1:1,lh,hh;if(Fd==="middle")lh=_l.crossPos+(Hu?rd(Nd.y-_l.by/2):Gl(_l.bx/2+_l.tx2width/2)),hh=lh+(Hu?rd(_l.by):Gl(_l.bx));else if(Hu)lh=_l.crossPos+rd(jt+Nd.y)-rd(_l.by/2-jt),hh=lh+rd(_l.by);else{var gh=Gl(zd*jt+Nd.x),Zh=gh+Gl(zd*_l.bx);lh=_l.crossPos+Math.min(gh,Zh),hh=_l.crossPos+Math.max(gh,Zh)}Hu?_u!==void 0&&Nu!==void 0&&Math.min(hh,Nu)-Math.max(lh,_u)>1&&(Jl.side==="left"?(fd=Jl._mainLinePosition,bd=ol.width):bd=Jl._mainLinePosition):Rd!==void 0&&Ed!==void 0&&Math.min(hh,Ed)-Math.max(lh,Rd)>1&&(Jl.side==="top"?(fd=Jl._mainLinePosition,bd=ol.height):bd=Jl._mainLinePosition)}yd[Hd++]=[{datum:_l,traceIndex:_l.trace.index,dp:0,pos:_l.pos,posref:_l.posref,size:_l.by*(Hu?nt:1)/2,pmin:fd,pmax:bd}]}),yd.sort(function(_l,Ul){return _l[0].posref-Ul[0].posref||Bu*(Ul[0].traceIndex-_l[0].traceIndex)});var Sd,Pd,Ud,$d,th,sh,ah;function Ah(_l){var Ul=_l[0],Jl=_l[_l.length-1];if(Pd=Ul.pmin-Ul.pos-Ul.dp+Ul.size,Ud=Jl.pos+Jl.dp+Jl.size-Ul.pmax,Pd>.01){for(th=_l.length-1;th>=0;th--)_l[th].dp+=Pd;Sd=!1}if(!(Ud<.01)){if(Pd<-.01){for(th=_l.length-1;th>=0;th--)_l[th].dp-=Ud;Sd=!1}if(Sd){var Hu=0;for($d=0;$d<_l.length;$d++)sh=_l[$d],sh.pos+sh.dp+sh.size>Ul.pmax&&Hu++;for($d=_l.length-1;$d>=0&&!(Hu<=0);$d--)sh=_l[$d],sh.pos>Ul.pmax-1&&(sh.del=!0,Hu--);for($d=0;$d<_l.length&&!(Hu<=0);$d++)if(sh=_l[$d],sh.pos<Ul.pmin+1)for(sh.del=!0,Hu--,Ud=sh.size*2,th=_l.length-1;th>=0;th--)_l[th].dp-=Ud;for($d=_l.length-1;$d>=0&&!(Hu<=0);$d--)sh=_l[$d],sh.pos+sh.dp+sh.size>Ul.pmax&&(sh.del=!0,Hu--)}}}for(;!Sd&&Zl<=Ju;){for(Zl++,Sd=!0,$d=0;$d<yd.length-1;){var Yd=yd[$d],Ph=yd[$d+1],jh=Yd[Yd.length-1],Th=Ph[0];if(Pd=jh.pos+jh.dp+jh.size-Th.pos-Th.dp+Th.size,Pd>.01){for(th=Ph.length-1;th>=0;th--)Ph[th].dp+=Pd;for(Yd.push.apply(Yd,Ph),yd.splice($d+1,1),ah=0,th=Yd.length-1;th>=0;th--)ah+=Yd[th].dp;for(Ud=ah/Yd.length,th=Yd.length-1;th>=0;th--)Yd[th].dp-=Ud;Sd=!1}else $d++}yd.forEach(Ah)}for($d=yd.length-1;$d>=0;$d--){var Xh=yd[$d];for(th=Xh.length-1;th>=0;th--){var Pu=Xh[th],sd=Pu.datum;sd.offset=Pu.dp,sd.del=Pu.del}}}function wl(ve,_t){var ol=0,dl=ve.offset;return _t&&(dl*=-Bn,ol=ve.offset*gl),{x:ol,y:dl}}function kl(ve){var _t={start:1,end:-1,middle:0}[ve.anchor],ol=_t*(jt+Pe),dl=ol+_t*(ve.txwidth+Pe),Il=ve.anchor==="middle";return Il&&(ol-=ve.tx2width/2,dl+=ve.txwidth/2+Pe),{alignShift:_t,textShiftX:ol,text2ShiftX:dl}}function Dl(ve,_t,ol,dl){var Il=function(Zl){return Zl*ol},ql=function(Zl){return Zl*dl};ve.each(function(Zl){var Bu=In.select(this);if(Zl.del)return Bu.remove();var Ju=Bu.select("text.nums"),yd=Zl.anchor,Hd=yd==="end"?-1:1,Rd=kl(Zl),Ed=wl(Zl,_t),_u=Ed.x,Nu=Ed.y,Gl=yd==="middle",rd="hoverlabel"in Zl.trace?Zl.trace.hoverlabel.showarrow:!0,Sd;Gl?Sd="M-"+Il(Zl.bx/2+Zl.tx2width/2)+","+ql(Nu-Zl.by/2)+"h"+Il(Zl.bx)+"v"+ql(Zl.by)+"h-"+Il(Zl.bx)+"Z":rd?Sd="M0,0L"+Il(Hd*jt+_u)+","+ql(jt+Nu)+"v"+ql(Zl.by/2-jt)+"h"+Il(Hd*Zl.bx)+"v-"+ql(Zl.by)+"H"+Il(Hd*jt+_u)+"V"+ql(Nu-jt)+"Z":Sd="M"+Il(Hd*jt+_u)+","+ql(Nu-Zl.by/2)+"h"+Il(Hd*Zl.bx)+"v"+ql(Zl.by)+"h"+Il(-Hd*Zl.bx)+"Z",Bu.select("path").attr("d",Sd);var Pd=_u+Rd.textShiftX,Ud=Nu+Zl.ty0-Zl.by/2+Pe,$d=Zl.textAlign||"auto";$d!=="auto"&&($d==="left"&&yd!=="start"?(Ju.attr("text-anchor","start"),Pd=Gl?-Zl.bx/2-Zl.tx2width/2+Pe:-Zl.bx-Pe):$d==="right"&&yd!=="end"&&(Ju.attr("text-anchor","end"),Pd=Gl?Zl.bx/2-Zl.tx2width/2-Pe:Zl.bx+Pe)),Ju.call(B.positionText,Il(Pd),ql(Ud)),Zl.tx2width&&(Bu.select("text.name").call(B.positionText,Il(Rd.text2ShiftX+Rd.alignShift*Pe+_u),ql(Nu+Zl.ty0-Zl.by/2+Pe)),Bu.select("rect").call(W.setRect,Il(Rd.text2ShiftX+(Rd.alignShift-1)*Zl.tx2width/2+_u),ql(Nu-Zl.by/2-1),Il(Zl.tx2width),ql(Zl.by+2)))})}function Ol(ve,_t){var ol=ve.index,dl=ve.trace||{},Il=ve.cd[0],ql=ve.cd[ol]||{};function Zl(Ed){return Ed||A(Ed)&&Ed===0}var Bu=Array.isArray(ol)?function(Ed,_u){var Nu=C.castOption(Il,ol,Ed);return Zl(Nu)?Nu:C.extractOption({},dl,"",_u)}:function(Ed,_u){return C.extractOption(ql,dl,Ed,_u)};function Ju(Ed,_u,Nu){var Gl=Bu(_u,Nu);Zl(Gl)&&(ve[Ed]=Gl)}if(Ju("hoverinfo","hi","hoverinfo"),Ju("bgcolor","hbg","hoverlabel.bgcolor"),Ju("borderColor","hbc","hoverlabel.bordercolor"),Ju("fontFamily","htf","hoverlabel.font.family"),Ju("fontSize","hts","hoverlabel.font.size"),Ju("fontColor","htc","hoverlabel.font.color"),Ju("fontWeight","htw","hoverlabel.font.weight"),Ju("fontStyle","hty","hoverlabel.font.style"),Ju("fontVariant","htv","hoverlabel.font.variant"),Ju("nameLength","hnl","hoverlabel.namelength"),Ju("textAlign","hta","hoverlabel.align"),ve.posref=_t==="y"||_t==="closest"&&dl.orientation==="h"?ve.xa._offset+(ve.x0+ve.x1)/2:ve.ya._offset+(ve.y0+ve.y1)/2,ve.x0=C.constrain(ve.x0,0,ve.xa._length),ve.x1=C.constrain(ve.x1,0,ve.xa._length),ve.y0=C.constrain(ve.y0,0,ve.ya._length),ve.y1=C.constrain(ve.y1,0,ve.ya._length),ve.xLabelVal!==void 0&&(ve.xLabel="xLabel"in ve?ve.xLabel:Q.hoverLabelText(ve.xa,ve.xLabelVal,dl.xhoverformat),ve.xVal=ve.xa.c2d(ve.xLabelVal)),ve.yLabelVal!==void 0&&(ve.yLabel="yLabel"in ve?ve.yLabel:Q.hoverLabelText(ve.ya,ve.yLabelVal,dl.yhoverformat),ve.yVal=ve.ya.c2d(ve.yLabelVal)),ve.zLabelVal!==void 0&&ve.zLabel===void 0&&(ve.zLabel=String(ve.zLabelVal)),!isNaN(ve.xerr)&&!(ve.xa.type==="log"&&ve.xerr<=0)){var yd=Q.tickText(ve.xa,ve.xa.c2l(ve.xerr),"hover").text;ve.xerrneg!==void 0?ve.xLabel+=" +"+yd+" / -"+Q.tickText(ve.xa,ve.xa.c2l(ve.xerrneg),"hover").text:ve.xLabel+="  "+yd,_t==="x"&&(ve.distance+=1)}if(!isNaN(ve.yerr)&&!(ve.ya.type==="log"&&ve.yerr<=0)){var Hd=Q.tickText(ve.ya,ve.ya.c2l(ve.yerr),"hover").text;ve.yerrneg!==void 0?ve.yLabel+=" +"+Hd+" / -"+Q.tickText(ve.ya,ve.ya.c2l(ve.yerrneg),"hover").text:ve.yLabel+="  "+Hd,_t==="y"&&(ve.distance+=1)}var Rd=ve.hoverinfo||ve.trace.hoverinfo;return Rd&&Rd!=="all"&&(Rd=Array.isArray(Rd)?Rd:Rd.split("+"),Rd.indexOf("x")===-1&&(ve.xLabel=void 0),Rd.indexOf("y")===-1&&(ve.yLabel=void 0),Rd.indexOf("z")===-1&&(ve.zLabel=void 0),Rd.indexOf("text")===-1&&(ve.text=void 0),Rd.indexOf("name")===-1&&(ve.name=void 0)),ve}function gu(ve,_t,ol){var dl=ol.container,Il=ol.fullLayout,ql=Il._size,Zl=ol.event,Bu=!!_t.hLinePoint,Ju=!!_t.vLinePoint,yd,Hd;if(dl.selectAll(".spikeline").remove(),!!(Ju||Bu)){var Rd=z.combine(Il.plot_bgcolor,Il.paper_bgcolor);if(Bu){var Ed=_t.hLinePoint,_u,Nu;yd=Ed&&Ed.xa,Hd=Ed&&Ed.ya;var Gl=Hd.spikesnap;Gl==="cursor"?(_u=Zl.pointerX,Nu=Zl.pointerY):(_u=yd._offset+Ed.x,Nu=Hd._offset+Ed.y);var rd=v.readability(Ed.color,Rd)<1.5?z.contrast(Rd):Ed.color,Sd=Hd.spikemode,Pd=Hd.spikethickness,Ud=Hd.spikecolor||rd,$d=Q.getPxPosition(ve,Hd),th,sh;if(Sd.indexOf("toaxis")!==-1||Sd.indexOf("across")!==-1){if(Sd.indexOf("toaxis")!==-1&&(th=$d,sh=_u),Sd.indexOf("across")!==-1){var ah=Hd._counterDomainMin,Ah=Hd._counterDomainMax;Hd.anchor==="free"&&(ah=Math.min(ah,Hd.position),Ah=Math.max(Ah,Hd.position)),th=ql.l+ah*ql.w,sh=ql.l+Ah*ql.w}dl.insert("line",":first-child").attr({x1:th,x2:sh,y1:Nu,y2:Nu,"stroke-width":Pd,stroke:Ud,"stroke-dasharray":W.dashStyle(Hd.spikedash,Pd)}).classed("spikeline",!0).classed("crisp",!0),dl.insert("line",":first-child").attr({x1:th,x2:sh,y1:Nu,y2:Nu,"stroke-width":Pd+2,stroke:Rd}).classed("spikeline",!0).classed("crisp",!0)}Sd.indexOf("marker")!==-1&&dl.insert("circle",":first-child").attr({cx:$d+(Hd.side!=="right"?Pd:-Pd),cy:Nu,r:Pd,fill:Ud}).classed("spikeline",!0)}if(Ju){var Yd=_t.vLinePoint,Ph,jh;yd=Yd&&Yd.xa,Hd=Yd&&Yd.ya;var Th=yd.spikesnap;Th==="cursor"?(Ph=Zl.pointerX,jh=Zl.pointerY):(Ph=yd._offset+Yd.x,jh=Hd._offset+Yd.y);var Xh=v.readability(Yd.color,Rd)<1.5?z.contrast(Rd):Yd.color,Pu=yd.spikemode,sd=yd.spikethickness,_l=yd.spikecolor||Xh,Ul=Q.getPxPosition(ve,yd),Jl,Hu;if(Pu.indexOf("toaxis")!==-1||Pu.indexOf("across")!==-1){if(Pu.indexOf("toaxis")!==-1&&(Jl=Ul,Hu=jh),Pu.indexOf("across")!==-1){var Ku=yd._counterDomainMin,fd=yd._counterDomainMax;yd.anchor==="free"&&(Ku=Math.min(Ku,yd.position),fd=Math.max(fd,yd.position)),Jl=ql.t+(1-fd)*ql.h,Hu=ql.t+(1-Ku)*ql.h}dl.insert("line",":first-child").attr({x1:Ph,x2:Ph,y1:Jl,y2:Hu,"stroke-width":sd,stroke:_l,"stroke-dasharray":W.dashStyle(yd.spikedash,sd)}).classed("spikeline",!0).classed("crisp",!0),dl.insert("line",":first-child").attr({x1:Ph,x2:Ph,y1:Jl,y2:Hu,"stroke-width":sd+2,stroke:Rd}).classed("spikeline",!0).classed("crisp",!0)}Pu.indexOf("marker")!==-1&&dl.insert("circle",":first-child").attr({cx:Ph,cy:Ul-(yd.side!=="top"?sd:-sd),r:sd,fill:_l}).classed("spikeline",!0)}}}function yu(ve,_t,ol){if(!ol||ol.length!==ve._hoverdata.length)return!0;for(var dl=ol.length-1;dl>=0;dl--){var Il=ol[dl],ql=ve._hoverdata[dl];if(Il.curveNumber!==ql.curveNumber||String(Il.pointNumber)!==String(ql.pointNumber)||String(Il.pointNumbers)!==String(ql.pointNumbers)||Il.binNumber!==ql.binNumber)return!0}return!1}function Iu(ve,_t){return!0}function cl(ve,_t){return B.plainText(ve||"",{len:_t,allowedTags:["br","sub","sup","b","i","em","s","u"]})}function pl(ve,_t){for(var ol=_t.charAt(0),dl=[],Il=[],ql=[],Zl=0;Zl<ve.length;Zl++){var Bu=ve[Zl];$.traceIs(Bu.trace,"bar-like")||$.traceIs(Bu.trace,"box-violin")?ql.push(Bu):Bu.trace[ol+"period"]?Il.push(Bu):dl.push(Bu)}return dl.concat(Il).concat(ql)}function it(ve,_t,ol){var dl=_t[ve+"a"],Il=_t[ve+"Val"],ql=_t.cd[0];if(dl.type==="category"||dl.type==="multicategory")Il=dl._categoriesMap[Il];else if(dl.type==="date"){var Zl=_t.trace[ve+"periodalignment"];if(Zl){var Bu=_t.cd[_t.index],Ju=Bu[ve+"Start"];Ju===void 0&&(Ju=Bu[ve]);var yd=Bu[ve+"End"];yd===void 0&&(yd=Bu[ve]);var Hd=yd-Ju;Zl==="end"?Il+=Hd:Zl==="middle"&&(Il+=Hd/2)}Il=dl.d2c(Il)}return ql&&ql.t&&ql.t.posLetter===dl._id&&(ol.boxmode==="group"||ol.violinmode==="group")&&(Il+=ql.t.dPos),Il}function bl(ve){return ve.offsetTop+ve.clientTop}function Ll(ve){return ve.offsetLeft+ve.clientLeft}function nl(ve,_t){var ol=ve._fullLayout,dl=_t.getBoundingClientRect(),Il=dl.left,ql=dl.top,Zl=Il+dl.width,Bu=ql+dl.height,Ju=C.apply3DTransform(ol._invTransform)(Il,ql),yd=C.apply3DTransform(ol._invTransform)(Zl,Bu),Hd=Ju[0],Rd=Ju[1],Ed=yd[0],_u=yd[1];return{x:Hd,y:Rd,width:Ed-Hd,height:_u-Rd,top:Math.min(Rd,_u),left:Math.min(Hd,Ed),right:Math.max(Hd,Ed),bottom:Math.max(Rd,_u)}}}),qf=o((rl,In)=>{var A=ls(),v=Bd(),C=Ld().isUnifiedHover;In.exports=function(P,R,F,I){I=I||{};var B=R.legend;function x(W){I.font[W]||(I.font[W]=B?R.legend.font[W]:R.font[W])}R&&C(R.hovermode)&&(I.font||(I.font={}),x("size"),x("family"),x("color"),x("weight"),x("style"),x("variant"),B?(I.bgcolor||(I.bgcolor=v.combine(R.legend.bgcolor,R.paper_bgcolor)),I.bordercolor||(I.bordercolor=R.legend.bordercolor)):I.bgcolor||(I.bgcolor=R.paper_bgcolor)),F("hoverlabel.bgcolor",I.bgcolor),F("hoverlabel.bordercolor",I.bordercolor),F("hoverlabel.namelength",I.namelength),F("hoverlabel.showarrow",I.showarrow),A.coerceFont(F,"hoverlabel.font",I.font),F("hoverlabel.align",I.align)}}),fp=o((rl,In)=>{var A=ls(),v=qf(),C=Xu();In.exports=function(P,R){function F(I,B){return A.coerce(P,R,C,I,B)}v(P,R,F)}}),$p=o((rl,In)=>{var A=ls(),v=Vu(),C=qf();In.exports=function(P,R,F,I){function B(W,z){return A.coerce(P,R,v,W,z)}var x=A.extendFlat({},I.hoverlabel);R.hovertemplate&&(x.namelength=-1),C(P,R,B,x)}}),hg=o((rl,In)=>{var A=ls(),v=Xu();In.exports=function(C,P){function R(F,I){return P[F]!==void 0?P[F]:A.coerce(C,P,v,F,I)}return R("clickmode"),R("hoversubplots"),R("hovermode")}}),v0=o((rl,In)=>{var A=ls(),v=Xu(),C=hg(),P=qf();In.exports=function(R,F){function I(Z,$){return A.coerce(R,F,v,Z,$)}var B=C(R,F);B&&(I("hoverdistance"),I("spikedistance"));var x=I("dragmode");x==="select"&&I("selectdirection");var W=F._has("mapbox"),z=F._has("map"),U=F._has("geo"),Q=F._basePlotModules.length;F.dragmode==="zoom"&&((W||z||U)&&Q===1||(W||z)&&U&&Q===2)&&(F.dragmode="pan"),P(R,F,I),A.coerceFont(I,"hoverlabel.grouptitlefont",F.hoverlabel.font)}}),f0=o((rl,In)=>{var A=ls(),v=Ep();In.exports=function(P){var R=P.calcdata,F=P._fullLayout;function I(U){return function(Q){return A.coerceHoverinfo({hoverinfo:Q},{_module:U._module},F)}}for(var B=0;B<R.length;B++){var x=R[B],W=x[0].trace;if(!v.traceIs(W,"pie-like")){var z=v.traceIs(W,"2dMap")?C:A.fillArray;z(W.hoverinfo,x,"hi",I(W)),W.hovertemplate&&z(W.hovertemplate,x,"ht"),W.hoverlabel&&(z(W.hoverlabel.bgcolor,x,"hbg"),z(W.hoverlabel.bordercolor,x,"hbc"),z(W.hoverlabel.font.size,x,"hts"),z(W.hoverlabel.font.color,x,"htc"),z(W.hoverlabel.font.family,x,"htf"),z(W.hoverlabel.font.weight,x,"htw"),z(W.hoverlabel.font.style,x,"hty"),z(W.hoverlabel.font.variant,x,"htv"),z(W.hoverlabel.namelength,x,"hnl"),z(W.hoverlabel.align,x,"hta"),z(W.hoverlabel.showarrow,x,"htsa"))}}};function C(P,R,F,I){I=I||A.identity,Array.isArray(P)&&(R[0][F]=I(P))}}),u0=o((rl,In)=>{var A=Ep(),v=Jf().hover;In.exports=function(C,P,R){var F=A.getComponentMethod("annotations","onClick")(C,C._hoverdata);R!==void 0&&v(C,P,R,!0);function I(){C.emit("plotly_click",{points:C._hoverdata,event:P})}C._hoverdata&&P&&P.target&&(F&&F.then?F.then(I):I(),P.stopImmediatePropagation&&P.stopImmediatePropagation())}}),c0=o((rl,In)=>{var A=f(),v=ls(),C=Hh(),P=Ld(),R=Xu(),F=Jf();In.exports={moduleType:"component",name:"fx",constants:Nl(),schema:{layout:R},attributes:Vu(),layoutAttributes:R,supplyLayoutGlobalDefaults:fp(),supplyDefaults:$p(),supplyLayoutDefaults:v0(),calc:f0(),getDistanceFunction:P.getDistanceFunction,getClosest:P.getClosest,inbox:P.inbox,quadrature:P.quadrature,appendArrayPointValue:P.appendArrayPointValue,castHoverOption:B,castHoverinfo:x,hover:F.hover,unhover:C.unhover,loneHover:F.loneHover,loneUnhover:I,click:u0()};function I(W){var z=v.isD3Selection(W)?W:A.select(W);z.selectAll("g.hovertext").remove(),z.selectAll(".spikeline").remove()}function B(W,z,U){return v.castOption(W,z,"hoverlabel."+U)}function x(W,z,U){function Q(Z){return v.coerceHoverinfo({hoverinfo:Z},{_module:W._module},z)}return v.castOption(W,U,"hoverinfo",Q)}}),Xp=o(rl=>{rl.selectMode=function(In){return In==="lasso"||In==="select"},rl.drawMode=function(In){return In==="drawclosedpath"||In==="drawopenpath"||In==="drawline"||In==="drawrect"||In==="drawcircle"},rl.openMode=function(In){return In==="drawline"||In==="drawopenpath"},rl.rectMode=function(In){return In==="select"||In==="drawline"||In==="drawrect"||In==="drawcircle"},rl.freeMode=function(In){return In==="lasso"||In==="drawclosedpath"||In==="drawopenpath"},rl.selectingOrDrawing=function(In){return rl.freeMode(In)||rl.rectMode(In)}}),y0=o((rl,In)=>{In.exports=function(A){var v=A._fullLayout;v._glcanvas&&v._glcanvas.size()&&v._glcanvas.each(function(C){C.regl&&C.regl.clear({color:!0,depth:!0})})}}),R0=o((rl,In)=>{In.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect fill='#000' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle fill='#9EF' cx='102' cy='30' r='6'/>","  <circle fill='#BAC' cx='78' cy='30' r='6'/>","  <circle fill='#BAC' cx='78' cy='54' r='6'/>","  <circle fill='#D69' cx='54' cy='30' r='6'/>","  <circle fill='#F26' cx='30' cy='30' r='6'/>","  <circle fill='#F26' cx='30' cy='54' r='6'/>","  <path fill='#FFF' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path fill='#FFF' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path fill='#FFF' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path fill='#FFF' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}}),W0=o((rl,In)=>{var A=32;In.exports={CIRCLE_SIDES:A,i000:0,i090:A/4,i180:A/2,i270:A/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}}),w0=o((rl,In)=>{var A=ls().strTranslate;function v(F,I){switch(F.type){case"log":return F.p2d(I);case"date":return F.p2r(I,0,F.calendar);default:return F.p2r(I)}}function C(F,I){switch(F.type){case"log":return F.d2p(I);case"date":return F.r2p(I,0,F.calendar);default:return F.r2p(I)}}function P(F){var I=F._id.charAt(0)==="y"?1:0;return function(B){return v(F,B[I])}}function R(F){return A(F.xaxis._offset,F.yaxis._offset)}In.exports={p2r:v,r2p:C,axValue:P,getTransform:R}}),V0=o(rl=>{var In=Ad(),A=W0(),v=A.CIRCLE_SIDES,C=A.SQRT2,P=w0(),R=P.p2r,F=P.r2p,I=[0,3,4,5,6,1,2],B=[0,3,4,1,2];rl.writePaths=function(z){var U=z.length;if(!U)return"M0,0Z";for(var Q="",Z=0;Z<U;Z++)for(var $=z[Z].length,q=0;q<$;q++){var J=z[Z][q][0];if(J==="Z")Q+="Z";else for(var O=z[Z][q].length,j=0;j<O;j++){var Y=j;J==="Q"||J==="S"?Y=B[j]:J==="C"&&(Y=I[j]),Q+=z[Z][q][Y],j>0&&j<O-1&&(Q+=",")}}return Q},rl.readPaths=function(z,U,Q,Z){var $=In(z),q=[],J=-1,O=function(){J++,q[J]=[]},j,Y=0,se=0,nt,gl,Bn=function(){nt=Y,gl=se};Bn();for(var jt=0;jt<$.length;jt++){var Pe=[],ml,tl,ul,il,sl=$[jt][0],vl=sl;switch(sl){case"M":O(),Y=+$[jt][1],se=+$[jt][2],Pe.push([vl,Y,se]),Bn();break;case"Q":case"S":ml=+$[jt][1],ul=+$[jt][2],Y=+$[jt][3],se=+$[jt][4],Pe.push([vl,Y,se,ml,ul]);break;case"C":ml=+$[jt][1],ul=+$[jt][2],tl=+$[jt][3],il=+$[jt][4],Y=+$[jt][5],se=+$[jt][6],Pe.push([vl,Y,se,ml,ul,tl,il]);break;case"T":case"L":Y=+$[jt][1],se=+$[jt][2],Pe.push([vl,Y,se]);break;case"H":vl="L",Y=+$[jt][1],Pe.push([vl,Y,se]);break;case"V":vl="L",se=+$[jt][1],Pe.push([vl,Y,se]);break;case"A":vl="L";var yl=+$[jt][1],Fn=+$[jt][2];+$[jt][4]||(yl=-yl,Fn=-Fn);var xl=Y-yl,wl=se;for(j=1;j<=v/2;j++){var kl=2*Math.PI*j/v;Pe.push([vl,xl+yl*Math.cos(kl),wl+Fn*Math.sin(kl)])}break;case"Z":(Y!==nt||se!==gl)&&(Y=nt,se=gl,Pe.push([vl,Y,se]));break}for(var Dl=(Q||{}).domain,Ol=U._fullLayout._size,gu=Q&&Q.xsizemode==="pixel",yu=Q&&Q.ysizemode==="pixel",Iu=Z===!1,cl=0;cl<Pe.length;cl++){for(j=0;j+2<7;j+=2){var pl=Pe[cl][j+1],it=Pe[cl][j+2];pl===void 0||it===void 0||(Y=pl,se=it,Q&&(Q.xaxis&&Q.xaxis.p2r?(Iu&&(pl-=Q.xaxis._offset),gu?pl=F(Q.xaxis,Q.xanchor)+pl:pl=R(Q.xaxis,pl)):(Iu&&(pl-=Ol.l),Dl?pl=Dl.x[0]+pl/Ol.w:pl=pl/Ol.w),Q.yaxis&&Q.yaxis.p2r?(Iu&&(it-=Q.yaxis._offset),yu?it=F(Q.yaxis,Q.yanchor)-it:it=R(Q.yaxis,it)):(Iu&&(it-=Ol.t),Dl?it=Dl.y[1]-it/Ol.h:it=1-it/Ol.h)),Pe[cl][j+1]=pl,Pe[cl][j+2]=it)}q[J].push(Pe[cl].slice())}}return q};function x(z,U){return Math.abs(z-U)<=1e-6}function W(z,U){var Q=U[1]-z[1],Z=U[2]-z[2];return Math.sqrt(Q*Q+Z*Z)}rl.pointsOnRectangle=function(z){var U=z.length;if(U!==5)return!1;for(var Q=1;Q<3;Q++){var Z=z[0][Q]-z[1][Q],$=z[3][Q]-z[2][Q];if(!x(Z,$))return!1;var q=z[0][Q]-z[3][Q],J=z[1][Q]-z[2][Q];if(!x(q,J))return!1}return!x(z[0][1],z[1][1])&&!x(z[0][1],z[3][1])?!1:!!(W(z[0],z[1])*W(z[0],z[3]))},rl.pointsOnEllipse=function(z){var U=z.length;if(U!==v+1)return!1;U=v;for(var Q=0;Q<U;Q++){var Z=(U*2-Q)%U,$=(U/2+Z)%U,q=(U/2+Q)%U;if(!x(W(z[Q],z[q]),W(z[Z],z[$])))return!1}return!0},rl.handleEllipse=function(z,U,Q){if(!z)return[U,Q];var Z=rl.ellipseOver({x0:U[0],y0:U[1],x1:Q[0],y1:Q[1]}),$=(Z.x1+Z.x0)/2,q=(Z.y1+Z.y0)/2,J=(Z.x1-Z.x0)/2,O=(Z.y1-Z.y0)/2;J||(J=O=O/C),O||(O=J=J/C);for(var j=[],Y=0;Y<v;Y++){var se=Y*2*Math.PI/v;j.push([$+J*Math.cos(se),q+O*Math.sin(se)])}return j},rl.ellipseOver=function(z){var U=z.x0,Q=z.y0,Z=z.x1,$=z.y1,q=Z-U,J=$-Q;U-=q,Q-=J;var O=(U+Z)/2,j=(Q+$)/2,Y=C;return q*=Y,J*=Y,{x0:O-q,y0:j-J,x1:O+q,y1:j+J}},rl.fixDatesForPaths=function(z,U,Q){var Z=U.type==="date",$=Q.type==="date";if(!Z&&!$)return z;for(var q=0;q<z.length;q++)for(var J=0;J<z[q].length;J++)for(var O=0;O+2<z[q][J].length;O+=2)Z&&(z[q][J][O+1]=z[q][J][O+1].replace(" ","_")),$&&(z[q][J][O+2]=z[q][J][O+2].replace(" ","_"));return z}}),Qp=o((rl,In)=>{var A=Nh(),v=Xp(),C=v.drawMode,P=v.openMode,R=W0(),F=R.i000,I=R.i090,B=R.i180,x=R.i270,W=R.cos45,z=R.sin45,U=w0(),Q=U.p2r,Z=U.r2p,$=Rp(),q=$.clearOutline,J=V0(),O=J.readPaths,j=J.writePaths,Y=J.ellipseOver,se=J.fixDatesForPaths;function nt(Bn,jt){if(Bn.length){var Pe=Bn[0][0];if(Pe){var ml=jt.gd,tl=jt.isActiveShape,ul=jt.dragmode,il=(ml.layout||{}).shapes||[];if(!C(ul)&&tl!==void 0){var sl=ml._fullLayout._activeShapeIndex;if(sl<il.length)switch(ml._fullLayout.shapes[sl].type){case"rect":ul="drawrect";break;case"circle":ul="drawcircle";break;case"line":ul="drawline";break;case"path":var vl=il[sl].path||"";vl[vl.length-1]==="Z"?ul="drawclosedpath":ul="drawopenpath";break}}var yl=gl(Bn,jt,ul);q(ml);for(var Fn=jt.editHelpers,xl=(Fn||{}).modifyItem,wl=[],kl=0;kl<il.length;kl++){var Dl=ml._fullLayout.shapes[kl];if(wl[kl]=Dl._input,tl!==void 0&&kl===ml._fullLayout._activeShapeIndex){var Ol=yl;switch(Dl.type){case"line":case"rect":case"circle":var gu=A.getFromId(ml,Dl.xref);Dl.xref.charAt(0)==="x"&&gu.type.includes("category")?(xl("x0",Ol.x0-(Dl.x0shift||0)),xl("x1",Ol.x1-(Dl.x1shift||0))):(xl("x0",Ol.x0),xl("x1",Ol.x1));var yu=A.getFromId(ml,Dl.yref);Dl.yref.charAt(0)==="y"&&yu.type.includes("category")?(xl("y0",Ol.y0-(Dl.y0shift||0)),xl("y1",Ol.y1-(Dl.y1shift||0))):(xl("y0",Ol.y0),xl("y1",Ol.y1));break;case"path":xl("path",Ol.path);break}}}return tl===void 0?(wl.push(yl),wl):Fn?Fn.getUpdateObj():{}}}}function gl(Bn,jt,Pe){var ml=Bn[0][0],tl=jt.gd,ul=ml.getAttribute("d"),il=tl._fullLayout.newshape,sl=jt.plotinfo,vl=jt.isActiveShape,yl=sl.xaxis,Fn=sl.yaxis,xl=!!sl.domain||!sl.xaxis,wl=!!sl.domain||!sl.yaxis,kl=P(Pe),Dl=O(ul,tl,sl,vl),Ol={editable:!0,visible:il.visible,name:il.name,showlegend:il.showlegend,legend:il.legend,legendwidth:il.legendwidth,legendgroup:il.legendgroup,legendgrouptitle:{text:il.legendgrouptitle.text,font:il.legendgrouptitle.font},legendrank:il.legendrank,label:il.label,xref:xl?"paper":yl._id,yref:wl?"paper":Fn._id,layer:il.layer,opacity:il.opacity,line:{color:il.line.color,width:il.line.width,dash:il.line.dash}};kl||(Ol.fillcolor=il.fillcolor,Ol.fillrule=il.fillrule);var gu;if(Dl.length===1&&(gu=Dl[0]),gu&&gu.length===5&&Pe==="drawrect")Ol.type="rect",Ol.x0=gu[0][1],Ol.y0=gu[0][2],Ol.x1=gu[2][1],Ol.y1=gu[2][2];else if(gu&&Pe==="drawline")Ol.type="line",Ol.x0=gu[0][1],Ol.y0=gu[0][2],Ol.x1=gu[1][1],Ol.y1=gu[1][2];else if(gu&&Pe==="drawcircle"){Ol.type="circle";var yu=gu[F][1],Iu=gu[I][1],cl=gu[B][1],pl=gu[x][1],it=gu[F][2],bl=gu[I][2],Ll=gu[B][2],nl=gu[x][2],ve=sl.xaxis&&(sl.xaxis.type==="date"||sl.xaxis.type==="log"),_t=sl.yaxis&&(sl.yaxis.type==="date"||sl.yaxis.type==="log");ve&&(yu=Z(sl.xaxis,yu),Iu=Z(sl.xaxis,Iu),cl=Z(sl.xaxis,cl),pl=Z(sl.xaxis,pl)),_t&&(it=Z(sl.yaxis,it),bl=Z(sl.yaxis,bl),Ll=Z(sl.yaxis,Ll),nl=Z(sl.yaxis,nl));var ol=(Iu+pl)/2,dl=(it+Ll)/2,Il=(pl-Iu+cl-yu)/2,ql=(nl-bl+Ll-it)/2,Zl=Y({x0:ol,y0:dl,x1:ol+Il*W,y1:dl+ql*z});ve&&(Zl.x0=Q(sl.xaxis,Zl.x0),Zl.x1=Q(sl.xaxis,Zl.x1)),_t&&(Zl.y0=Q(sl.yaxis,Zl.y0),Zl.y1=Q(sl.yaxis,Zl.y1)),Ol.x0=Zl.x0,Ol.y0=Zl.y0,Ol.x1=Zl.x1,Ol.y1=Zl.y1}else Ol.type="path",yl&&Fn&&se(Dl,yl,Fn),Ol.path=j(Dl),gu=null;return Ol}In.exports={newShapes:nt,createShapeObj:gl}}),j0=o((rl,In)=>{var A=Xp(),v=A.selectMode,C=Rp(),P=C.clearOutline,R=V0(),F=R.readPaths,I=R.writePaths,B=R.fixDatesForPaths;In.exports=function(x,W){if(x.length){var z=x[0][0];if(z){var U=z.getAttribute("d"),Q=W.gd,Z=Q._fullLayout.newselection,$=W.plotinfo,q=$.xaxis,J=$.yaxis,O=W.isActiveSelection,j=W.dragmode,Y=(Q.layout||{}).selections||[];if(!v(j)&&O!==void 0){var se=Q._fullLayout._activeSelectionIndex;if(se<Y.length)switch(Q._fullLayout.selections[se].type){case"rect":j="select";break;case"path":j="lasso";break}}var nt=F(U,Q,$,O),gl={xref:q._id,yref:J._id,opacity:Z.opacity,line:{color:Z.line.color,width:Z.line.width,dash:Z.line.dash}},Bn;nt.length===1&&(Bn=nt[0]),Bn&&Bn.length===5&&j==="select"?(gl.type="rect",gl.x0=Bn[0][1],gl.y0=Bn[0][2],gl.x1=Bn[2][1],gl.y1=Bn[2][2]):(gl.type="path",q&&J&&B(nt,q,J),gl.path=I(nt),Bn=null),P(Q);for(var jt=W.editHelpers,Pe=(jt||{}).modifyItem,ml=[],tl=0;tl<Y.length;tl++){var ul=Q._fullLayout.selections[tl];if(!ul){ml[tl]=ul;continue}if(ml[tl]=ul._input,O!==void 0&&tl===Q._fullLayout._activeSelectionIndex){var il=gl;switch(ul.type){case"rect":Pe("x0",il.x0),Pe("x1",il.x1),Pe("y0",il.y0),Pe("y1",il.y1);break;case"path":Pe("path",il.path);break}}}return O===void 0?(ml.push(gl),ml):jt?jt.getUpdateObj():{}}}}}),A0=o((rl,In)=>{In.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}}),Ln=o(rl=>{var In=A0(),A=ls(),v=ih();rl.rangeToShapePosition=function(R){return R.type==="log"?R.r2d:function(F){return F}},rl.shapePositionToRange=function(R){return R.type==="log"?R.d2r:function(F){return F}},rl.decodeDate=function(R){return function(F){return F.replace&&(F=F.replace("_"," ")),R(F)}},rl.encodeDate=function(R){return function(F){return R(F).replace(" ","_")}},rl.extractPathCoords=function(R,F,I){var B=[],x=R.match(In.segmentRE);return x.forEach(function(W){var z=F[W.charAt(0)].drawn;if(z!==void 0){var U=W.substr(1).match(In.paramRE);if(!(!U||U.length<z)){var Q=U[z],Z=I?Q:A.cleanNumber(Q);B.push(Z)}}}),B},rl.getDataToPixel=function(R,F,I,B,x){var W=R._fullLayout._size,z;if(F)if(x==="domain")z=function(Q){return F._length*(B?1-Q:Q)+F._offset};else{var U=rl.shapePositionToRange(F);z=function(Q){var Z=P(F,I);return F._offset+F.r2p(U(Q,!0))+Z},F.type==="date"&&(z=rl.decodeDate(z))}else B?z=function(Q){return W.t+W.h*(1-Q)}:z=function(Q){return W.l+W.w*Q};return z},rl.getPixelToData=function(R,F,I,B){var x=R._fullLayout._size,W;if(F)if(B==="domain")W=function(U){var Q=(U-F._offset)/F._length;return I?1-Q:Q};else{var z=rl.rangeToShapePosition(F);W=function(U){return z(F.p2r(U-F._offset))}}else I?W=function(U){return 1-(U-x.t)/x.h}:W=function(U){return(U-x.l)/x.w};return W},rl.roundPositionForSharpStrokeRendering=function(R,F){var I=Math.round(F%2)===1,B=Math.round(R);return I?B+.5:B},rl.makeShapesOptionsAndPlotinfo=function(R,F){var I=R._fullLayout.shapes[F]||{},B=R._fullLayout._plots[I.xref+I.yref],x=!!B;return x?B._hadPlotinfo=!0:(B={},I.xref&&I.xref!=="paper"&&(B.xaxis=R._fullLayout[I.xref+"axis"]),I.yref&&I.yref!=="paper"&&(B.yaxis=R._fullLayout[I.yref+"axis"])),B.xsizemode=I.xsizemode,B.ysizemode=I.ysizemode,B.xanchor=I.xanchor,B.yanchor=I.yanchor,{options:I,plotinfo:B}},rl.makeSelectionsOptionsAndPlotinfo=function(R,F){var I=R._fullLayout.selections[F]||{},B=R._fullLayout._plots[I.xref+I.yref],x=!!B;return x?B._hadPlotinfo=!0:(B={},I.xref&&(B.xaxis=R._fullLayout[I.xref+"axis"]),I.yref&&(B.yaxis=R._fullLayout[I.yref+"axis"])),{options:I,plotinfo:B}},rl.getPathString=function(R,F){var I=F.type,B=v.getRefType(F.xref),x=v.getRefType(F.yref),W=v.getFromId(R,F.xref),z=v.getFromId(R,F.yref),U=R._fullLayout._size,Q,Z,$,q,J=P(W,F.x0shift),O=P(W,F.x1shift),j=P(z,F.y0shift),Y=P(z,F.y1shift),se,nt,gl,Bn;if(W?B==="domain"?Z=function(Fn){return W._offset+W._length*Fn}:(Q=rl.shapePositionToRange(W),Z=function(Fn){return W._offset+W.r2p(Q(Fn,!0))}):Z=function(Fn){return U.l+U.w*Fn},z?x==="domain"?q=function(Fn){return z._offset+z._length*(1-Fn)}:($=rl.shapePositionToRange(z),q=function(Fn){return z._offset+z.r2p($(Fn,!0))}):q=function(Fn){return U.t+U.h*(1-Fn)},I==="path")return W&&W.type==="date"&&(Z=rl.decodeDate(Z)),z&&z.type==="date"&&(q=rl.decodeDate(q)),C(F,Z,q);if(F.xsizemode==="pixel"){var jt=Z(F.xanchor);se=jt+F.x0+J,nt=jt+F.x1+O}else se=Z(F.x0)+J,nt=Z(F.x1)+O;if(F.ysizemode==="pixel"){var Pe=q(F.yanchor);gl=Pe-F.y0+j,Bn=Pe-F.y1+Y}else gl=q(F.y0)+j,Bn=q(F.y1)+Y;if(I==="line")return"M"+se+","+gl+"L"+nt+","+Bn;if(I==="rect")return"M"+se+","+gl+"H"+nt+"V"+Bn+"H"+se+"Z";var ml=(se+nt)/2,tl=(gl+Bn)/2,ul=Math.abs(ml-se),il=Math.abs(tl-gl),sl="A"+ul+","+il,vl=ml+ul+","+tl,yl=ml+","+(tl-il);return"M"+vl+sl+" 0 1,1 "+yl+sl+" 0 0,1 "+vl+"Z"};function C(R,F,I){var B=R.path,x=R.xsizemode,W=R.ysizemode,z=R.xanchor,U=R.yanchor;return B.replace(In.segmentRE,function(Q){var Z=0,$=Q.charAt(0),q=In.paramIsX[$],J=In.paramIsY[$],O=In.numParams[$],j=Q.substr(1).replace(In.paramRE,function(Y){return q[Z]?x==="pixel"?Y=F(z)+Number(Y):Y=F(Y):J[Z]&&(W==="pixel"?Y=I(U)-Number(Y):Y=I(Y)),Z++,Z>O&&(Y="X"),Y});return Z>O&&(j=j.replace(/[\s,]*X.*/,""),A.log("Ignoring extra params in segment "+Q)),$+j})}function P(R,F){F=F||0;var I=0;return F&&R&&(R.type==="category"||R.type==="multicategory")&&(I=(R.r2p(1)-R.r2p(0))*F),I}}),Yu=o((rl,In)=>{var A=ls(),v=ih(),C=ag(),P=dh(),R=V0().readPaths,F=Ln(),I=F.getPathString,B=qg(),x=i0().FROM_TL;In.exports=function(U,Q,Z,$){if($.selectAll(".shape-label").remove(),!!(Z.label.text||Z.label.texttemplate)){var q;if(Z.label.texttemplate){var J={};if(Z.type!=="path"){var O=v.getFromId(U,Z.xref),j=v.getFromId(U,Z.yref);for(var Y in B){var se=B[Y](Z,O,j);se!==void 0&&(J[Y]=se)}}q=A.texttemplateStringForShapes(Z.label.texttemplate,{},U._fullLayout._d3locale,J)}else q=Z.label.text;var nt={"data-index":Q},gl=Z.label.font,Bn={"data-notex":1},jt=$.append("g").attr(nt).classed("shape-label",!0),Pe=jt.append("text").attr(Bn).classed("shape-label-text",!0).text(q),ml,tl,ul,il;if(Z.path){var sl=I(U,Z),vl=R(sl,U);ml=1/0,ul=1/0,tl=-1/0,il=-1/0;for(var yl=0;yl<vl.length;yl++)for(var Fn=0;Fn<vl[yl].length;Fn++)for(var xl=vl[yl][Fn],wl=1;wl<xl.length;wl+=2){var kl=xl[wl],Dl=xl[wl+1];ml=Math.min(ml,kl),tl=Math.max(tl,kl),ul=Math.min(ul,Dl),il=Math.max(il,Dl)}}else{var Ol=v.getFromId(U,Z.xref),gu=Z.x0shift,yu=Z.x1shift,Iu=v.getRefType(Z.xref),cl=v.getFromId(U,Z.yref),pl=Z.y0shift,it=Z.y1shift,bl=v.getRefType(Z.yref),Ll=function(Zl,Bu){var Ju=F.getDataToPixel(U,Ol,Bu,!1,Iu);return Ju(Zl)},nl=function(Zl,Bu){var Ju=F.getDataToPixel(U,cl,Bu,!0,bl);return Ju(Zl)};ml=Ll(Z.x0,gu),tl=Ll(Z.x1,yu),ul=nl(Z.y0,pl),il=nl(Z.y1,it)}var ve=Z.label.textangle;ve==="auto"&&(Z.type==="line"?ve=W(ml,ul,tl,il):ve=0),Pe.call(function(Zl){return Zl.call(P.font,gl).attr({}),C.convertToTspans(Zl,U),Zl});var _t=P.bBox(Pe.node()),ol=z(ml,ul,tl,il,Z,ve,_t),dl=ol.textx,Il=ol.texty,ql=ol.xanchor;Pe.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[ql],y:Il,x:dl,transform:"rotate("+ve+","+dl+","+Il+")"}).call(C.positionText,dl,Il)}};function W(U,Q,Z,$){var q,J;return J=Math.abs(Z-U),Z>=U?q=Q-$:q=$-Q,-180/Math.PI*Math.atan2(q,J)}function z(U,Q,Z,$,q,J,O){var j=q.label.textposition,Y=q.label.textangle,se=q.label.padding,nt=q.type,gl=Math.PI/180*J,Bn=Math.sin(gl),jt=Math.cos(gl),Pe=q.label.xanchor,ml=q.label.yanchor,tl,ul,il,sl;if(nt==="line"){j==="start"?(tl=U,ul=Q):j==="end"?(tl=Z,ul=$):(tl=(U+Z)/2,ul=(Q+$)/2),Pe==="auto"&&(j==="start"?Y==="auto"?Z>U?Pe="left":Z<U?Pe="right":Pe="center":Z>U?Pe="right":Z<U?Pe="left":Pe="center":j==="end"?Y==="auto"?Z>U?Pe="right":Z<U?Pe="left":Pe="center":Z>U?Pe="left":Z<U?Pe="right":Pe="center":Pe="center");var vl={left:1,center:0,right:-1},yl={bottom:-1,middle:0,top:1};if(Y==="auto"){var Fn=yl[ml];il=-se*Bn*Fn,sl=se*jt*Fn}else{var xl=vl[Pe],wl=yl[ml];il=se*xl,sl=se*wl}tl=tl+il,ul=ul+sl}else il=se+3,j.indexOf("right")!==-1?(tl=Math.max(U,Z)-il,Pe==="auto"&&(Pe="right")):j.indexOf("left")!==-1?(tl=Math.min(U,Z)+il,Pe==="auto"&&(Pe="left")):(tl=(U+Z)/2,Pe==="auto"&&(Pe="center")),j.indexOf("top")!==-1?ul=Math.min(Q,$):j.indexOf("bottom")!==-1?ul=Math.max(Q,$):ul=(Q+$)/2,sl=se,ml==="bottom"?ul=ul-sl:ml==="top"&&(ul=ul+sl);var kl=x[ml],Dl=q.label.font.size,Ol=O.height,gu=(Ol*kl-Dl)*Bn,yu=-(Ol*kl-Dl)*jt;return{textx:tl+gu,texty:ul+yu,xanchor:Pe}}}),hl=o((rl,In)=>{var A=ls(),v=A.strTranslate,C=Hh(),P=Xp(),R=P.drawMode,F=P.selectMode,I=Ep(),B=Bd(),x=W0(),W=x.i000,z=x.i090,U=x.i180,Q=x.i270,Z=Rp(),$=Z.clearOutlineControllers,q=V0(),J=q.pointsOnRectangle,O=q.pointsOnEllipse,j=q.writePaths,Y=Qp().newShapes,se=Qp().createShapeObj,nt=j0(),gl=Yu();In.exports=function ml(tl,ul,il,sl){sl||(sl=0);var vl=il.gd;function yl(){ml(tl,ul,il,sl++),(O(tl[0])||il.hasText)&&Fn({redrawing:!0})}function Fn(Rd){var Ed={};il.isActiveShape!==void 0&&(il.isActiveShape=!1,Ed=Y(ul,il)),il.isActiveSelection!==void 0&&(il.isActiveSelection=!1,Ed=nt(ul,il),vl._fullLayout._reselect=!0),Object.keys(Ed).length&&I.call((Rd||{}).redrawing?"relayout":"_guiRelayout",vl,Ed)}var xl=vl._fullLayout,wl=xl._zoomlayer,kl=il.dragmode,Dl=R(kl),Ol=F(kl);(Dl||Ol)&&(vl._fullLayout._outlining=!0),$(vl),ul.attr("d",j(tl));var gu,yu,Iu,cl,pl;if(!sl&&(il.isActiveShape||il.isActiveSelection)){pl=Bn([],tl);var it=wl.append("g").attr("class","outline-controllers");Il(it),Hd()}if(Dl&&il.hasText){var bl=wl.select(".label-temp"),Ll=se(ul,il,il.dragmode);gl(vl,"label-temp",Ll,bl)}function nl(Rd){Iu=+Rd.srcElement.getAttribute("data-i"),cl=+Rd.srcElement.getAttribute("data-j"),gu[Iu][cl].moveFn=ve}function ve(Rd,Ed){if(tl.length){var _u=pl[Iu][cl][1],Nu=pl[Iu][cl][2],Gl=tl[Iu],rd=Gl.length;if(J(Gl)){var Sd=Rd,Pd=Ed;if(il.isActiveSelection){var Ud=jt(Gl,cl);Ud[1]===Gl[cl][1]?Pd=0:Sd=0}for(var $d=0;$d<rd;$d++)if($d!==cl){var th=Gl[$d];th[1]===Gl[cl][1]&&(th[1]=_u+Sd),th[2]===Gl[cl][2]&&(th[2]=Nu+Pd)}if(Gl[cl][1]=_u+Sd,Gl[cl][2]=Nu+Pd,!J(Gl))for(var sh=0;sh<rd;sh++)for(var ah=0;ah<Gl[sh].length;ah++)Gl[sh][ah]=pl[Iu][sh][ah]}else Gl[cl][1]=_u+Rd,Gl[cl][2]=Nu+Ed;yl()}}function _t(){Fn()}function ol(){if(tl.length&&tl[Iu]&&tl[Iu].length){for(var Rd=[],Ed=0;Ed<tl[Iu].length;Ed++)Ed!==cl&&Rd.push(tl[Iu][Ed]);Rd.length>1&&!(Rd.length===2&&Rd[1][0]==="Z")&&(cl===0&&(Rd[0][0]="M"),tl[Iu]=Rd,yl(),Fn())}}function dl(Rd,Ed){if(Rd===2){Iu=+Ed.srcElement.getAttribute("data-i"),cl=+Ed.srcElement.getAttribute("data-j");var _u=tl[Iu];!J(_u)&&!O(_u)&&ol()}}function Il(Rd){gu=[];for(var Ed=0;Ed<tl.length;Ed++){var _u=tl[Ed],Nu=J(_u),Gl=!Nu&&O(_u);gu[Ed]=[];for(var rd=_u.length,Sd=0;Sd<rd;Sd++)if(_u[Sd][0]!=="Z"&&!(Gl&&Sd!==W&&Sd!==z&&Sd!==U&&Sd!==Q)){var Pd=Nu&&il.isActiveSelection,Ud;Pd&&(Ud=jt(_u,Sd));var $d=_u[Sd][1],th=_u[Sd][2],sh=Rd.append(Pd?"rect":"circle").attr("data-i",Ed).attr("data-j",Sd).style({fill:B.background,stroke:B.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(Pd){var ah=Ud[1]-$d,Ah=Ud[2]-th,Yd=Ah?5:Math.max(Math.min(25,Math.abs(ah)-5),5),Ph=ah?5:Math.max(Math.min(25,Math.abs(Ah)-5),5);sh.classed(Ah?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",Yd).attr("height",Ph).attr("x",$d-Yd/2).attr("y",th-Ph/2).attr("transform",v(ah/2,Ah/2))}else sh.classed("cursor-grab",!0).attr("r",5).attr("cx",$d).attr("cy",th);gu[Ed][Sd]={element:sh.node(),gd:vl,prepFn:nl,doneFn:_t,clickFn:dl},C.init(gu[Ed][Sd])}}}function ql(Rd,Ed){if(tl.length)for(var _u=0;_u<tl.length;_u++)for(var Nu=0;Nu<tl[_u].length;Nu++)for(var Gl=0;Gl+2<tl[_u][Nu].length;Gl+=2)tl[_u][Nu][Gl+1]=pl[_u][Nu][Gl+1]+Rd,tl[_u][Nu][Gl+2]=pl[_u][Nu][Gl+2]+Ed}function Zl(Rd,Ed){ql(Rd,Ed),yl()}function Bu(Rd){Iu=+Rd.srcElement.getAttribute("data-i"),Iu||(Iu=0),yu[Iu].moveFn=Zl}function Ju(){Fn()}function yd(Rd){Rd===2&&Pe(vl)}function Hd(){if(yu=[],!!tl.length){var Rd=0;yu[Rd]={element:ul[0][0],gd:vl,prepFn:Bu,doneFn:Ju,clickFn:yd},C.init(yu[Rd])}}};function Bn(ml,tl){for(var ul=0;ul<tl.length;ul++){var il=tl[ul];ml[ul]=[];for(var sl=0;sl<il.length;sl++){ml[ul][sl]=[];for(var vl=0;vl<il[sl].length;vl++)ml[ul][sl][vl]=il[sl][vl]}}return ml}function jt(ml,tl){var ul=ml[tl][1],il=ml[tl][2],sl=ml.length,vl,yl,Fn;return vl=(tl+1)%sl,yl=ml[vl][1],Fn=ml[vl][2],yl===ul&&Fn===il&&(vl=(tl+2)%sl,yl=ml[vl][1],Fn=ml[vl][2]),[vl,yl,Fn]}function Pe(ml){if(F(ml._fullLayout.dragmode)){$(ml);var tl=ml._fullLayout._activeSelectionIndex,ul=(ml.layout||{}).selections||[];if(tl<ul.length){for(var il=[],sl=0;sl<ul.length;sl++)sl!==tl&&il.push(ul[sl]);delete ml._fullLayout._activeSelectionIndex;var vl=ml._fullLayout.selections[tl];ml._fullLayout._deselect={xref:vl.xref,yref:vl.yref},I.call("_guiRelayout",ml,{selections:il})}}}}),eh=o((rl,In)=>{var A=f(),v=Ep(),C=ls(),P=ih(),R=V0().readPaths,F=hl(),I=Yu(),B=Rp().clearOutlineControllers,x=Bd(),W=dh(),z=Zf().arrayEditor,U=Hh(),Q=Cf(),Z=A0(),$=Ln(),q=$.getPathString;In.exports={draw:J,drawOne:Y,eraseActiveShape:Pe,drawLabel:I};function J(ml){var tl=ml._fullLayout;tl._shapeUpperLayer.selectAll("path").remove(),tl._shapeLowerLayer.selectAll("path").remove(),tl._shapeUpperLayer.selectAll("text").remove(),tl._shapeLowerLayer.selectAll("text").remove();for(var ul in tl._plots){var il=tl._plots[ul].shapelayer;il&&(il.selectAll("path").remove(),il.selectAll("text").remove())}for(var sl=0;sl<tl.shapes.length;sl++)tl.shapes[sl].visible===!0&&Y(ml,sl)}function O(ml){return!!ml._fullLayout._outlining}function j(ml){return!ml._context.edits.shapePosition}function Y(ml,tl){ml._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+tl+'"]').remove();var ul=$.makeShapesOptionsAndPlotinfo(ml,tl),il=ul.options,sl=ul.plotinfo;if(!il._input||il.visible!==!0)return;if(il.layer==="above")yl(ml._fullLayout._shapeUpperLayer);else if(il.xref==="paper"||il.yref==="paper")yl(ml._fullLayout._shapeLowerLayer);else if(il.layer==="between")yl(sl.shapelayerBetween);else if(sl._hadPlotinfo){var vl=sl.mainplotinfo||sl;yl(vl.shapelayer)}else yl(ml._fullLayout._shapeLowerLayer);function yl(Fn){var xl=q(ml,il),wl={"data-index":tl,"fill-rule":il.fillrule,d:xl},kl=il.opacity,Dl=il.fillcolor,Ol=il.line.width?il.line.color:"rgba(0,0,0,0)",gu=il.line.width,yu=il.line.dash;!gu&&il.editable===!0&&(gu=5,yu="solid");var Iu=xl[xl.length-1]!=="Z",cl=j(ml)&&il.editable&&ml._fullLayout._activeShapeIndex===tl;cl&&(Dl=Iu?"rgba(0,0,0,0)":ml._fullLayout.activeshape.fillcolor,kl=ml._fullLayout.activeshape.opacity);var pl=Fn.append("g").classed("shape-group",!0).attr({"data-index":tl}),it=pl.append("path").attr(wl).style("opacity",kl).call(x.stroke,Ol).call(x.fill,Dl).call(W.dashLine,yu,gu);se(pl,ml,il),I(ml,tl,il,pl);var bl;if((cl||ml._context.edits.shapePosition)&&(bl=z(ml.layout,"shapes",il)),cl){it.style({cursor:"move"});var Ll={element:it.node(),plotinfo:sl,gd:ml,editHelpers:bl,hasText:il.label.text||il.label.texttemplate,isActiveShape:!0},nl=R(xl,ml);F(nl,it,Ll)}else ml._context.edits.shapePosition?nt(ml,it,il,tl,Fn,bl):il.editable===!0&&it.style("pointer-events",Iu||x.opacity(Dl)*kl<=.5?"stroke":"all");it.node().addEventListener("click",function(){return Bn(ml,it)})}}function se(ml,tl,ul){var il=(ul.xref+ul.yref).replace(/paper/g,"").replace(/[xyz][0-9]* *domain/g,"");W.setClipUrl(ml,il?"clip"+tl._fullLayout._uid+il:null,tl)}function nt(ml,tl,ul,il,sl,vl){var yl=10,Fn=10,xl=ul.xsizemode==="pixel",wl=ul.ysizemode==="pixel",kl=ul.type==="line",Dl=ul.type==="path",Ol=vl.modifyItem,gu,yu,Iu,cl,pl,it,bl,Ll,nl,ve,_t,ol,dl,Il,ql,Zl=A.select(tl.node().parentNode),Bu=P.getFromId(ml,ul.xref),Ju=P.getRefType(ul.xref),yd=P.getFromId(ml,ul.yref),Hd=P.getRefType(ul.yref),Rd=ul.x0shift,Ed=ul.x1shift,_u=ul.y0shift,Nu=ul.y1shift,Gl=function(Ul,Jl){var Hu=$.getDataToPixel(ml,Bu,Jl,!1,Ju);return Hu(Ul)},rd=function(Ul,Jl){var Hu=$.getDataToPixel(ml,yd,Jl,!0,Hd);return Hu(Ul)},Sd=$.getPixelToData(ml,Bu,!1,Ju),Pd=$.getPixelToData(ml,yd,!0,Hd),Ud=sh(),$d={element:Ud.node(),gd:ml,prepFn:Yd,doneFn:Ph,clickFn:jh},th;U.init($d),Ud.node().onmousemove=Ah;function sh(){return kl?ah():tl}function ah(){var Ul=10,Jl=Math.max(ul.line.width,Ul),Hu=sl.append("g").attr("data-index",il).attr("drag-helper",!0);Hu.append("path").attr("d",tl.attr("d")).style({cursor:"move","stroke-width":Jl,"stroke-opacity":"0"});var Ku={"fill-opacity":"0"},fd=Math.max(Jl/2,Ul);return Hu.append("circle").attr({"data-line-point":"start-point",cx:xl?Gl(ul.xanchor)+ul.x0:Gl(ul.x0,Rd),cy:wl?rd(ul.yanchor)-ul.y0:rd(ul.y0,_u),r:fd}).style(Ku).classed("cursor-grab",!0),Hu.append("circle").attr({"data-line-point":"end-point",cx:xl?Gl(ul.xanchor)+ul.x1:Gl(ul.x1,Ed),cy:wl?rd(ul.yanchor)-ul.y1:rd(ul.y1,Nu),r:fd}).style(Ku).classed("cursor-grab",!0),Hu}function Ah(Ul){if(O(ml)){th=null;return}if(kl)Ul.target.tagName==="path"?th="move":th=Ul.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var Jl=$d.element.getBoundingClientRect(),Hu=Jl.right-Jl.left,Ku=Jl.bottom-Jl.top,fd=Ul.clientX-Jl.left,bd=Ul.clientY-Jl.top,Nd=!Dl&&Hu>yl&&Ku>Fn&&!Ul.shiftKey?U.getCursor(fd/Hu,1-bd/Ku):"move";Q(tl,Nd),th=Nd.split("-")[0]}}function Yd(Ul){O(ml)||(xl&&(pl=Gl(ul.xanchor)),wl&&(it=rd(ul.yanchor)),ul.type==="path"?ql=ul.path:(gu=xl?ul.x0:Gl(ul.x0),yu=wl?ul.y0:rd(ul.y0),Iu=xl?ul.x1:Gl(ul.x1),cl=wl?ul.y1:rd(ul.y1)),gu<Iu?(nl=gu,dl="x0",ve=Iu,Il="x1"):(nl=Iu,dl="x1",ve=gu,Il="x0"),!wl&&yu<cl||wl&&yu>cl?(bl=yu,_t="y0",Ll=cl,ol="y1"):(bl=cl,_t="y1",Ll=yu,ol="y0"),Ah(Ul),Pu(sl,ul),_l(tl,ul,ml),$d.moveFn=th==="move"?Th:Xh,$d.altKey=Ul.altKey)}function Ph(){O(ml)||(Q(tl),sd(sl),se(tl,ml,ul),v.call("_guiRelayout",ml,vl.getUpdateObj()))}function jh(){O(ml)||sd(sl)}function Th(Ul,Jl){if(ul.type==="path"){var Hu=function(bd){return bd},Ku=Hu,fd=Hu;xl?Ol("xanchor",ul.xanchor=Sd(pl+Ul)):(Ku=function(bd){return Sd(Gl(bd)+Ul)},Bu&&Bu.type==="date"&&(Ku=$.encodeDate(Ku))),wl?Ol("yanchor",ul.yanchor=Pd(it+Jl)):(fd=function(bd){return Pd(rd(bd)+Jl)},yd&&yd.type==="date"&&(fd=$.encodeDate(fd))),Ol("path",ul.path=gl(ql,Ku,fd))}else xl?Ol("xanchor",ul.xanchor=Sd(pl+Ul)):(Ol("x0",ul.x0=Sd(gu+Ul)),Ol("x1",ul.x1=Sd(Iu+Ul))),wl?Ol("yanchor",ul.yanchor=Pd(it+Jl)):(Ol("y0",ul.y0=Pd(yu+Jl)),Ol("y1",ul.y1=Pd(cl+Jl)));tl.attr("d",q(ml,ul)),Pu(sl,ul),I(ml,il,ul,Zl)}function Xh(Ul,Jl){if(Dl){var Hu=function($h){return $h},Ku=Hu,fd=Hu;xl?Ol("xanchor",ul.xanchor=Sd(pl+Ul)):(Ku=function($h){return Sd(Gl($h)+Ul)},Bu&&Bu.type==="date"&&(Ku=$.encodeDate(Ku))),wl?Ol("yanchor",ul.yanchor=Pd(it+Jl)):(fd=function($h){return Pd(rd($h)+Jl)},yd&&yd.type==="date"&&(fd=$.encodeDate(fd))),Ol("path",ul.path=gl(ql,Ku,fd))}else if(kl){if(th==="resize-over-start-point"){var bd=gu+Ul,Nd=wl?yu-Jl:yu+Jl;Ol("x0",ul.x0=xl?bd:Sd(bd)),Ol("y0",ul.y0=wl?Nd:Pd(Nd))}else if(th==="resize-over-end-point"){var Fd=Iu+Ul,zd=wl?cl-Jl:cl+Jl;Ol("x1",ul.x1=xl?Fd:Sd(Fd)),Ol("y1",ul.y1=wl?zd:Pd(zd))}}else{var lh=function($h){return th.indexOf($h)!==-1},hh=lh("n"),gh=lh("s"),Zh=lh("w"),yf=lh("e"),Pf=hh?bl+Jl:bl,jf=gh?Ll+Jl:Ll,tp=Zh?nl+Ul:nl,Tf=yf?ve+Ul:ve;wl&&(hh&&(Pf=bl-Jl),gh&&(jf=Ll-Jl)),(!wl&&jf-Pf>Fn||wl&&Pf-jf>Fn)&&(Ol(_t,ul[_t]=wl?Pf:Pd(Pf)),Ol(ol,ul[ol]=wl?jf:Pd(jf))),Tf-tp>yl&&(Ol(dl,ul[dl]=xl?tp:Sd(tp)),Ol(Il,ul[Il]=xl?Tf:Sd(Tf)))}tl.attr("d",q(ml,ul)),Pu(sl,ul),I(ml,il,ul,Zl)}function Pu(Ul,Jl){(xl||wl)&&Hu();function Hu(){var Ku=Jl.type!=="path",fd=Ul.selectAll(".visual-cue").data([0]),bd=1;fd.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":bd}).classed("visual-cue",!0);var Nd=Gl(xl?Jl.xanchor:C.midRange(Ku?[Jl.x0,Jl.x1]:$.extractPathCoords(Jl.path,Z.paramIsX))),Fd=rd(wl?Jl.yanchor:C.midRange(Ku?[Jl.y0,Jl.y1]:$.extractPathCoords(Jl.path,Z.paramIsY)));if(Nd=$.roundPositionForSharpStrokeRendering(Nd,bd),Fd=$.roundPositionForSharpStrokeRendering(Fd,bd),xl&&wl){var zd="M"+(Nd-1-bd)+","+(Fd-1-bd)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";fd.attr("d",zd)}else if(xl){var lh="M"+(Nd-1-bd)+","+(Fd-9-bd)+"v18 h2 v-18 Z";fd.attr("d",lh)}else{var hh="M"+(Nd-9-bd)+","+(Fd-1-bd)+"h18 v2 h-18 Z";fd.attr("d",hh)}}}function sd(Ul){Ul.selectAll(".visual-cue").remove()}function _l(Ul,Jl,Hu){var Ku=Jl.xref,fd=Jl.yref,bd=P.getFromId(Hu,Ku),Nd=P.getFromId(Hu,fd),Fd="";Ku!=="paper"&&!bd.autorange&&(Fd+=Ku),fd!=="paper"&&!Nd.autorange&&(Fd+=fd),W.setClipUrl(Ul,Fd?"clip"+Hu._fullLayout._uid+Fd:null,Hu)}}function gl(ml,tl,ul){return ml.replace(Z.segmentRE,function(il){var sl=0,vl=il.charAt(0),yl=Z.paramIsX[vl],Fn=Z.paramIsY[vl],xl=Z.numParams[vl],wl=il.substr(1).replace(Z.paramRE,function(kl){return sl>=xl||(yl[sl]?kl=tl(kl):Fn[sl]&&(kl=ul(kl)),sl++),kl});return vl+wl})}function Bn(ml,tl){if(j(ml)){var ul=tl.node(),il=+ul.getAttribute("data-index");if(il>=0){if(il===ml._fullLayout._activeShapeIndex){jt(ml);return}ml._fullLayout._activeShapeIndex=il,ml._fullLayout._deactivateShape=jt,J(ml)}}}function jt(ml){if(j(ml)){var tl=ml._fullLayout._activeShapeIndex;tl>=0&&(B(ml),delete ml._fullLayout._activeShapeIndex,J(ml))}}function Pe(ml){if(j(ml)){B(ml);var tl=ml._fullLayout._activeShapeIndex,ul=(ml.layout||{}).shapes||[];if(tl<ul.length){for(var il=[],sl=0;sl<ul.length;sl++)sl!==tl&&il.push(ul[sl]);return delete ml._fullLayout._activeShapeIndex,v.call("_guiRelayout",ml,{shapes:il})}}}}),Xd=o((rl,In)=>{var A=Ep(),v=Jp(),C=Nh(),P=R0(),R=eh().eraseActiveShape,F=ls(),I=F._,B=In.exports={};B.toImage={name:"toImage",title:function(nt){var gl=nt._context.toImageButtonOptions||{},Bn=gl.format||"png";return Bn==="png"?I(nt,"Download plot as a PNG"):I(nt,"Download plot")},icon:P.camera,click:function(nt){var gl=nt._context.toImageButtonOptions,Bn={format:gl.format||"png"};F.notifier(I(nt,"Taking snapshot - this may take a few seconds"),"long"),["filename","width","height","scale"].forEach(function(jt){jt in gl&&(Bn[jt]=gl[jt])}),A.call("downloadImage",nt,Bn).then(function(jt){F.notifier(I(nt,"Snapshot succeeded")+" - "+jt,"long")}).catch(function(){F.notifier(I(nt,"Sorry, there was a problem downloading your snapshot!"),"long")})}},B.sendDataToCloud={name:"sendDataToCloud",title:function(nt){return I(nt,"Edit in Chart Studio")},icon:P.disk,click:function(nt){v.sendDataToCloud(nt)}},B.editInChartStudio={name:"editInChartStudio",title:function(nt){return I(nt,"Edit in Chart Studio")},icon:P.pencil,click:function(nt){v.sendDataToCloud(nt)}},B.zoom2d={name:"zoom2d",_cat:"zoom",title:function(nt){return I(nt,"Zoom")},attr:"dragmode",val:"zoom",icon:P.zoombox,click:x},B.pan2d={name:"pan2d",_cat:"pan",title:function(nt){return I(nt,"Pan")},attr:"dragmode",val:"pan",icon:P.pan,click:x},B.select2d={name:"select2d",_cat:"select",title:function(nt){return I(nt,"Box Select")},attr:"dragmode",val:"select",icon:P.selectbox,click:x},B.lasso2d={name:"lasso2d",_cat:"lasso",title:function(nt){return I(nt,"Lasso Select")},attr:"dragmode",val:"lasso",icon:P.lasso,click:x},B.drawclosedpath={name:"drawclosedpath",title:function(nt){return I(nt,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:P.drawclosedpath,click:x},B.drawopenpath={name:"drawopenpath",title:function(nt){return I(nt,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:P.drawopenpath,click:x},B.drawline={name:"drawline",title:function(nt){return I(nt,"Draw line")},attr:"dragmode",val:"drawline",icon:P.drawline,click:x},B.drawrect={name:"drawrect",title:function(nt){return I(nt,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:P.drawrect,click:x},B.drawcircle={name:"drawcircle",title:function(nt){return I(nt,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:P.drawcircle,click:x},B.eraseshape={name:"eraseshape",title:function(nt){return I(nt,"Erase active shape")},icon:P.eraseshape,click:R},B.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(nt){return I(nt,"Zoom in")},attr:"zoom",val:"in",icon:P.zoom_plus,click:x},B.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(nt){return I(nt,"Zoom out")},attr:"zoom",val:"out",icon:P.zoom_minus,click:x},B.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(nt){return I(nt,"Autoscale")},attr:"zoom",val:"auto",icon:P.autoscale,click:x},B.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(nt){return I(nt,"Reset axes")},attr:"zoom",val:"reset",icon:P.home,click:x},B.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(nt){return I(nt,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:P.tooltip_basic,gravity:"ne",click:x},B.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(nt){return I(nt,"Compare data on hover")},attr:"hovermode",val:function(nt){return nt._fullLayout._isHoriz?"y":"x"},icon:P.tooltip_compare,gravity:"ne",click:x};function x(nt,gl){var Bn=gl.currentTarget,jt=Bn.getAttribute("data-attr"),Pe=Bn.getAttribute("data-val")||!0,ml=nt._fullLayout,tl={},ul=C.list(nt,null,!0),il=ml._cartesianSpikesEnabled,sl,vl;if(jt==="zoom"){var yl=Pe==="in"?.5:2,Fn=(1+yl)/2,xl=(1-yl)/2,wl,kl;for(vl=0;vl<ul.length;vl++)if(sl=ul[vl],kl=sl.modebardisable==="none"||sl.modebardisable.indexOf(Pe==="auto"||Pe==="reset"?"autoscale":"zoominout")===-1,kl&&!sl.fixedrange)if(wl=sl._name,Pe==="auto")tl[wl+".autorange"]=!0;else if(Pe==="reset")sl._rangeInitial0===void 0&&sl._rangeInitial1===void 0?tl[wl+".autorange"]=!0:sl._rangeInitial0===void 0?(tl[wl+".autorange"]=sl._autorangeInitial,tl[wl+".range"]=[null,sl._rangeInitial1]):sl._rangeInitial1===void 0?(tl[wl+".range"]=[sl._rangeInitial0,null],tl[wl+".autorange"]=sl._autorangeInitial):tl[wl+".range"]=[sl._rangeInitial0,sl._rangeInitial1],sl._showSpikeInitial!==void 0&&(tl[wl+".showspikes"]=sl._showSpikeInitial,il==="on"&&!sl._showSpikeInitial&&(il="off"));else{var Dl=[sl.r2l(sl.range[0]),sl.r2l(sl.range[1])],Ol=[Fn*Dl[0]+xl*Dl[1],Fn*Dl[1]+xl*Dl[0]];tl[wl+".range[0]"]=sl.l2r(Ol[0]),tl[wl+".range[1]"]=sl.l2r(Ol[1])}}else jt==="hovermode"&&(Pe==="x"||Pe==="y")&&(Pe=ml._isHoriz?"y":"x",Bn.setAttribute("data-val",Pe)),tl[jt]=Pe;ml._cartesianSpikesEnabled=il,A.call("_guiRelayout",nt,tl)}B.zoom3d={name:"zoom3d",_cat:"zoom",title:function(nt){return I(nt,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:P.zoombox,click:W},B.pan3d={name:"pan3d",_cat:"pan",title:function(nt){return I(nt,"Pan")},attr:"scene.dragmode",val:"pan",icon:P.pan,click:W},B.orbitRotation={name:"orbitRotation",title:function(nt){return I(nt,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:P["3d_rotate"],click:W},B.tableRotation={name:"tableRotation",title:function(nt){return I(nt,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:P["z-axis"],click:W};function W(nt,gl){for(var Bn=gl.currentTarget,jt=Bn.getAttribute("data-attr"),Pe=Bn.getAttribute("data-val")||!0,ml=nt._fullLayout._subplots.gl3d||[],tl={},ul=jt.split("."),il=0;il<ml.length;il++)tl[ml[il]+"."+ul[1]]=Pe;var sl=Pe==="pan"?Pe:"zoom";tl.dragmode=sl,A.call("_guiRelayout",nt,tl)}B.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(nt){return I(nt,"Reset camera to default")},attr:"resetDefault",icon:P.home,click:z},B.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(nt){return I(nt,"Reset camera to last save")},attr:"resetLastSave",icon:P.movie,click:z};function z(nt,gl){for(var Bn=gl.currentTarget,jt=Bn.getAttribute("data-attr"),Pe=jt==="resetLastSave",ml=jt==="resetDefault",tl=nt._fullLayout,ul=tl._subplots.gl3d||[],il={},sl=0;sl<ul.length;sl++){var vl=ul[sl],yl=vl+".camera",Fn=vl+".aspectratio",xl=vl+".aspectmode",wl=tl[vl]._scene,kl;Pe?(il[yl+".up"]=wl.viewInitial.up,il[yl+".eye"]=wl.viewInitial.eye,il[yl+".center"]=wl.viewInitial.center,kl=!0):ml&&(il[yl+".up"]=null,il[yl+".eye"]=null,il[yl+".center"]=null,kl=!0),kl&&(il[Fn+".x"]=wl.viewInitial.aspectratio.x,il[Fn+".y"]=wl.viewInitial.aspectratio.y,il[Fn+".z"]=wl.viewInitial.aspectratio.z,il[xl]=wl.viewInitial.aspectmode)}A.call("_guiRelayout",nt,il)}B.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(nt){return I(nt,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:P.tooltip_basic,gravity:"ne",click:Q};function U(nt,gl){var Bn=gl.currentTarget,jt=Bn._previousVal,Pe=nt._fullLayout,ml=Pe._subplots.gl3d||[],tl=["xaxis","yaxis","zaxis"],ul={},il={};if(jt)il=jt,Bn._previousVal=null;else{for(var sl=0;sl<ml.length;sl++){var vl=ml[sl],yl=Pe[vl],Fn=vl+".hovermode";ul[Fn]=yl.hovermode,il[Fn]=!1;for(var xl=0;xl<3;xl++){var wl=tl[xl],kl=vl+"."+wl+".showspikes";il[kl]=!1,ul[kl]=yl[wl].showspikes}}Bn._previousVal=ul}return il}function Q(nt,gl){var Bn=U(nt,gl);A.call("_guiRelayout",nt,Bn)}B.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(nt){return I(nt,"Zoom in")},attr:"zoom",val:"in",icon:P.zoom_plus,click:Z},B.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(nt){return I(nt,"Zoom out")},attr:"zoom",val:"out",icon:P.zoom_minus,click:Z},B.resetGeo={name:"resetGeo",_cat:"reset",title:function(nt){return I(nt,"Reset")},attr:"reset",val:null,icon:P.autoscale,click:Z},B.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(nt){return I(nt,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:P.tooltip_basic,gravity:"ne",click:q};function Z(nt,gl){for(var Bn=gl.currentTarget,jt=Bn.getAttribute("data-attr"),Pe=Bn.getAttribute("data-val")||!0,ml=nt._fullLayout,tl=ml._subplots.geo||[],ul=0;ul<tl.length;ul++){var il=tl[ul],sl=ml[il];if(jt==="zoom"){var vl=sl.projection.scale,yl=Pe==="in"?2*vl:.5*vl;A.call("_guiRelayout",nt,il+".projection.scale",yl)}}jt==="reset"&&se(nt,"geo")}B.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(nt){return I(nt,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:P.tooltip_basic,gravity:"ne",click:q};function $(nt){var gl=nt._fullLayout;return gl.hovermode?!1:gl._has("cartesian")?gl._isHoriz?"y":"x":"closest"}function q(nt){var gl=$(nt);A.call("_guiRelayout",nt,"hovermode",gl)}B.resetViewSankey={name:"resetSankeyGroup",title:function(nt){return I(nt,"Reset view")},icon:P.home,click:function(nt){for(var gl={"node.groups":[],"node.x":[],"node.y":[]},Bn=0;Bn<nt._fullData.length;Bn++){var jt=nt._fullData[Bn]._viewInitial;gl["node.groups"].push(jt.node.groups.slice()),gl["node.x"].push(jt.node.x.slice()),gl["node.y"].push(jt.node.y.slice())}A.call("restyle",nt,gl)}},B.toggleHover={name:"toggleHover",title:function(nt){return I(nt,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:P.tooltip_basic,gravity:"ne",click:function(nt,gl){var Bn=U(nt,gl);Bn.hovermode=$(nt),A.call("_guiRelayout",nt,Bn)}},B.resetViews={name:"resetViews",title:function(nt){return I(nt,"Reset views")},icon:P.home,click:function(nt,gl){var Bn=gl.currentTarget;Bn.setAttribute("data-attr","zoom"),Bn.setAttribute("data-val","reset"),x(nt,gl),Bn.setAttribute("data-attr","resetLastSave"),z(nt,gl),se(nt,"geo"),se(nt,"mapbox"),se(nt,"map")}},B.toggleSpikelines={name:"toggleSpikelines",title:function(nt){return I(nt,"Toggle Spike Lines")},icon:P.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(nt){var gl=nt._fullLayout,Bn=gl._cartesianSpikesEnabled;gl._cartesianSpikesEnabled=Bn==="on"?"off":"on",A.call("_guiRelayout",nt,J(nt))}};function J(nt){for(var gl=nt._fullLayout,Bn=gl._cartesianSpikesEnabled==="on",jt=C.list(nt,null,!0),Pe={},ml=0;ml<jt.length;ml++){var tl=jt[ml];Pe[tl._name+".showspikes"]=Bn?!0:tl._showSpikeInitial}return Pe}B.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(nt){return I(nt,"Reset view")},attr:"reset",icon:P.home,click:function(nt){se(nt,"mapbox")}},B.resetViewMap={name:"resetViewMap",_cat:"resetView",title:function(nt){return I(nt,"Reset view")},attr:"reset",icon:P.home,click:function(nt){se(nt,"map")}},B.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(nt){return I(nt,"Zoom in")},attr:"zoom",val:"in",icon:P.zoom_plus,click:O},B.zoomInMap={name:"zoomInMap",_cat:"zoomin",title:function(nt){return I(nt,"Zoom in")},attr:"zoom",val:"in",icon:P.zoom_plus,click:j},B.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(nt){return I(nt,"Zoom out")},attr:"zoom",val:"out",icon:P.zoom_minus,click:O},B.zoomOutMap={name:"zoomOutMap",_cat:"zoomout",title:function(nt){return I(nt,"Zoom out")},attr:"zoom",val:"out",icon:P.zoom_minus,click:j};function O(nt,gl){Y(nt,gl,"mapbox")}function j(nt,gl){Y(nt,gl,"map")}function Y(nt,gl,Bn){for(var jt=gl.currentTarget,Pe=jt.getAttribute("data-val"),ml=nt._fullLayout,tl=ml._subplots[Bn]||[],ul=1.05,il={},sl=0;sl<tl.length;sl++){var vl=tl[sl],yl=ml[vl].zoom,Fn=Pe==="in"?ul*yl:yl/ul;il[vl+".zoom"]=Fn}A.call("_guiRelayout",nt,il)}function se(nt,gl){for(var Bn=nt._fullLayout,jt=Bn._subplots[gl]||[],Pe={},ml=0;ml<jt.length;ml++)for(var tl=jt[ml],ul=Bn[tl]._subplot,il=ul.viewInitial,sl=Object.keys(il),vl=0;vl<sl.length;vl++){var yl=sl[vl];Pe[tl+"."+yl]=il[yl]}A.call("_guiRelayout",nt,Pe)}}),Gd=o((rl,In)=>{var A=Xd(),v=Object.keys(A),C=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],P=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(C),R=[],F=function(I){if(P.indexOf(I._cat||I.name)===-1){var B=I.name,x=(I._cat||I.name).toLowerCase();R.indexOf(B)===-1&&R.push(B),R.indexOf(x)===-1&&R.push(x)}};v.forEach(function(I){F(A[I])}),R.sort(),In.exports={DRAW_MODES:C,backButtons:P,foreButtons:R}}),Jh=o((rl,In)=>{Gd(),In.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}}),Ch=o((rl,In)=>{var A=ls(),v=Bd(),C=Zf(),P=Jh();In.exports=function(R,F){var I=R.modebar||{},B=C.newContainer(F,"modebar");function x(z,U){return A.coerce(I,B,P,z,U)}x("orientation"),x("bgcolor",v.addOpacity(F.paper_bgcolor,.5));var W=v.contrast(v.rgb(F.modebar.bgcolor));x("color",v.addOpacity(W,.3)),x("activecolor",v.addOpacity(W,.7)),x("uirevision",F.uirevision),x("add"),x("remove")}}),Uf=o((rl,In)=>{var A=f(),v=G(),C=ls(),P=R0(),R=l().version,F=new DOMParser;function I(z){this.container=z.container,this.element=document.createElement("div"),this.update(z.graphInfo,z.buttons),this.container.appendChild(this.element)}var B=I.prototype;B.update=function(z,U){this.graphInfo=z;var Q=this.graphInfo._context,Z=this.graphInfo._fullLayout,$="modebar-"+Z._uid;this.element.setAttribute("id",$),this.element.setAttribute("role","toolbar"),this._uid=$,this.element.className="modebar modebar--custom",Q.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),Z.modebar.orientation==="v"&&(this.element.className+=" vertical",U=U.reverse());var q=Z.modebar,J="#"+$+" .modebar-group";document.querySelectorAll(J).forEach(function(nt){nt.style.backgroundColor=q.bgcolor});var O=!this.hasButtons(U),j=this.hasLogo!==Q.displaylogo,Y=this.locale!==Q.locale;if(this.locale=Q.locale,(O||j||Y)&&(this.removeAllButtons(),this.updateButtons(U),Q.watermark||Q.displaylogo)){var se=this.getLogo();Q.watermark&&(se.className=se.className+" watermark"),Z.modebar.orientation==="v"?this.element.insertBefore(se,this.element.childNodes[0]):this.element.appendChild(se),this.hasLogo=!0}this.updateActiveButton(),C.setStyleOnHover("#"+$+" .modebar-btn",".active",".icon path","fill: "+q.activecolor,"fill: "+q.color,this.element)},B.updateButtons=function(z){var U=this;this.buttons=z,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(Q){var Z=U.createGroup();Q.forEach(function($){var q=$.name;if(!q)throw new Error("must provide button 'name' in button config");if(U.buttonsNames.indexOf(q)!==-1)throw new Error("button name '"+q+"' is taken");U.buttonsNames.push(q);var J=U.createButton($);U.buttonElements.push(J),Z.appendChild(J)}),U.element.appendChild(Z)})},B.createGroup=function(){var z=document.createElement("div");z.className="modebar-group";var U=this.graphInfo._fullLayout.modebar;return z.style.backgroundColor=U.bgcolor,z},B.createButton=function(z){var U=this,Q=document.createElement("button");Q.setAttribute("type","button"),Q.setAttribute("rel","tooltip"),Q.className="modebar-btn";var Z=z.title;Z===void 0?Z=z.name:typeof Z=="function"&&(Z=Z(this.graphInfo)),(Z||Z===0)&&(Q.setAttribute("data-title",Z),Q.setAttribute("aria-label",Z)),z.attr!==void 0&&Q.setAttribute("data-attr",z.attr);var $=z.val;$!==void 0&&(typeof $=="function"&&($=$(this.graphInfo)),Q.setAttribute("data-val",$));var q=z.click;if(typeof q!="function")throw new Error("must provide button 'click' function in button config");Q.addEventListener("click",function(O){z.click(U.graphInfo,O),U.updateActiveButton(O.currentTarget)}),Q.setAttribute("data-toggle",z.toggle||!1),z.toggle&&A.select(Q).classed("active",!0);var J=z.icon;return typeof J=="function"?Q.appendChild(J()):Q.appendChild(this.createIcon(J||P.question)),Q.setAttribute("data-gravity",z.gravity||"n"),Q},B.createIcon=function(z){var U=v(z.height)?Number(z.height):z.ascent-z.descent,Q="http://www.w3.org/2000/svg",Z;if(z.path){Z=document.createElementNS(Q,"svg"),Z.setAttribute("viewBox",[0,0,z.width,U].join(" ")),Z.setAttribute("class","icon");var $=document.createElementNS(Q,"path");$.setAttribute("d",z.path),z.transform?$.setAttribute("transform",z.transform):z.ascent!==void 0&&$.setAttribute("transform","matrix(1 0 0 -1 0 "+z.ascent+")"),Z.appendChild($)}if(z.svg){var q=F.parseFromString(z.svg,"application/xml");Z=q.childNodes[0]}return Z.setAttribute("height","1em"),Z.setAttribute("width","1em"),Z},B.updateActiveButton=function(z){var U=this.graphInfo._fullLayout,Q=z!==void 0?z.getAttribute("data-attr"):null;this.buttonElements.forEach(function(Z){var $=Z.getAttribute("data-val")||!0,q=Z.getAttribute("data-attr"),J=Z.getAttribute("data-toggle")==="true",O=A.select(Z),j=function(nt,gl){var Bn=U.modebar,jt=nt.querySelector(".icon path");jt&&(gl||nt.matches(":hover")?jt.style.fill=Bn.activecolor:jt.style.fill=Bn.color)};if(J){if(q===Q){var Y=!O.classed("active");O.classed("active",Y),j(Z,Y)}}else{var se=q===null?q:C.nestedProperty(U,q).get();O.classed("active",se===$),j(Z,se===$)}})},B.hasButtons=function(z){var U=this.buttons;if(!U||z.length!==U.length)return!1;for(var Q=0;Q<z.length;++Q){if(z[Q].length!==U[Q].length)return!1;for(var Z=0;Z<z[Q].length;Z++)if(z[Q][Z].name!==U[Q][Z].name)return!1}return!0};function x(z){return z+" (v"+R+")"}B.getLogo=function(){var z=this.createGroup(),U=document.createElement("a");return U.href="https://plotly.com/",U.target="_blank",U.setAttribute("data-title",x(C._(this.graphInfo,"Produced with Plotly.js"))),U.className="modebar-btn plotlyjsicon modebar-btn--logo",U.appendChild(this.createIcon(P.newplotlylogo)),z.appendChild(U),z},B.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},B.destroy=function(){C.removeElement(this.container.querySelector(".modebar"))};function W(z,U){var Q=z._fullLayout,Z=new I({graphInfo:z,container:Q._modebardiv.node(),buttons:U});return Q._privateplot&&A.select(Z.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),Z}In.exports=W}),Fh=o((rl,In)=>{var A=Nh(),v=ld(),C=Ep(),P=Ld().isUnifiedHover,R=Uf(),F=Xd(),I=Gd().DRAW_MODES,B=ls().extendDeep;In.exports=function($){var q=$._fullLayout,J=$._context,O=q._modeBar;if(!J.displayModeBar&&!J.watermark){O&&(O.destroy(),delete q._modeBar);return}if(!Array.isArray(J.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(J.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var j=J.modeBarButtons,Y;Array.isArray(j)&&j.length?Y=Z(j):!J.displayModeBar&&J.watermark?Y=[]:Y=x($),O?O.update($,Y):q._modeBar=R($,Y)};function x($){var q=$._fullLayout,J=$._fullData,O=$._context;function j(ve,_t){if(typeof _t=="string"){if(_t.toLowerCase()===ve.toLowerCase())return!0}else{var ol=_t.name,dl=_t._cat||_t.name;if(ol===ve||dl===ve.toLowerCase())return!0}return!1}var Y=q.modebar.add;typeof Y=="string"&&(Y=[Y]);var se=q.modebar.remove;typeof se=="string"&&(se=[se]);var nt=O.modeBarButtonsToAdd.concat(Y.filter(function(ve){for(var _t=0;_t<O.modeBarButtonsToRemove.length;_t++)if(j(ve,O.modeBarButtonsToRemove[_t]))return!1;return!0})),gl=O.modeBarButtonsToRemove.concat(se.filter(function(ve){for(var _t=0;_t<O.modeBarButtonsToAdd.length;_t++)if(j(ve,O.modeBarButtonsToAdd[_t]))return!1;return!0})),Bn=q._has("cartesian"),jt=q._has("gl3d"),Pe=q._has("geo"),ml=q._has("pie"),tl=q._has("funnelarea"),ul=q._has("ternary"),il=q._has("mapbox"),sl=q._has("map"),vl=q._has("polar"),yl=q._has("smith"),Fn=q._has("sankey"),xl=W(q),wl=P(q.hovermode),kl=[];function Dl(ve){if(ve.length){for(var _t=[],ol=0;ol<ve.length;ol++){for(var dl=ve[ol],Il=F[dl],ql=Il.name.toLowerCase(),Zl=(Il._cat||Il.name).toLowerCase(),Bu=!1,Ju=0;Ju<gl.length;Ju++){var yd=gl[Ju].toLowerCase();if(yd===ql||yd===Zl){Bu=!0;break}}Bu||_t.push(F[dl])}kl.push(_t)}}var Ol=["toImage"];O.showEditInChartStudio?Ol.push("editInChartStudio"):O.showSendToCloud&&Ol.push("sendDataToCloud"),Dl(Ol);var gu=[],yu=[],Iu=[],cl=[];(Bn||ml||tl||ul)+Pe+jt+il+sl+vl+yl>1?(yu=["toggleHover"],Iu=["resetViews"]):Pe?(gu=["zoomInGeo","zoomOutGeo"],yu=["hoverClosestGeo"],Iu=["resetGeo"]):jt?(yu=["hoverClosest3d"],Iu=["resetCameraDefault3d","resetCameraLastSave3d"]):il?(gu=["zoomInMapbox","zoomOutMapbox"],yu=["toggleHover"],Iu=["resetViewMapbox"]):sl?(gu=["zoomInMap","zoomOutMap"],yu=["toggleHover"],Iu=["resetViewMap"]):ml?yu=["hoverClosestPie"]:Fn?(yu=["hoverClosestCartesian","hoverCompareCartesian"],Iu=["resetViewSankey"]):yu=["toggleHover"],Bn&&yu.push("toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"),(U(J)||wl)&&(yu=[]),Bn&&!xl&&(gu=["zoomIn2d","zoomOut2d","autoScale2d"],Iu[0]!=="resetViews"&&(Iu=["resetScale2d"])),jt?cl=["zoom3d","pan3d","orbitRotation","tableRotation"]:Bn&&!xl||ul?cl=["zoom2d","pan2d"]:il||sl||Pe?cl=["pan2d"]:vl&&(cl=["zoom2d"]),z(J)&&cl.push("select2d","lasso2d");var pl=[],it=function(ve){pl.indexOf(ve)===-1&&yu.indexOf(ve)!==-1&&pl.push(ve)};if(Array.isArray(nt)){for(var bl=[],Ll=0;Ll<nt.length;Ll++){var nl=nt[Ll];typeof nl=="string"?(nl=nl.toLowerCase(),I.indexOf(nl)!==-1?(q._has("mapbox")||q._has("map")||q._has("cartesian"))&&cl.push(nl):nl==="togglespikelines"?it("toggleSpikelines"):nl==="togglehover"?it("toggleHover"):nl==="hovercompare"?it("hoverCompareCartesian"):nl==="hoverclosest"?(it("hoverClosestCartesian"),it("hoverClosestGeo"),it("hoverClosest3d"),it("hoverClosestPie")):nl==="v1hovermode"&&(it("hoverClosestCartesian"),it("hoverCompareCartesian"),it("hoverClosestGeo"),it("hoverClosest3d"),it("hoverClosestPie"))):bl.push(nl)}nt=bl}return Dl(cl),Dl(gu.concat(Iu)),Dl(pl),Q(kl,nt)}function W($){for(var q=A.list({_fullLayout:$},null,!0),J=0;J<q.length;J++){var O=q[J].modebardisable;if(!q[J].fixedrange&&O!=="autoscale+zoominout"&&O!=="zoominout+autoscale")return!1}return!0}function z($){for(var q=!1,J=0;J<$.length&&!q;J++){var O=$[J];!O._module||!O._module.selectPoints||(C.traceIs(O,"scatter-like")?(v.hasMarkers(O)||v.hasText(O))&&(q=!0):C.traceIs(O,"box-violin")?(O.boxpoints==="all"||O.points==="all")&&(q=!0):q=!0)}return q}function U($){for(var q=0;q<$.length;q++)if(!C.traceIs($[q],"noHover"))return!1;return!0}function Q($,q){if(q.length)if(Array.isArray(q[0]))for(var J=0;J<q.length;J++)$.push(q[J]);else $.push(q);return $}function Z($){for(var q=B([],$),J=0;J<q.length;J++)for(var O=q[J],j=0;j<O.length;j++){var Y=O[j];if(typeof Y=="string")if(F[Y]!==void 0)q[J][j]=F[Y];else throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "))}return q}}),ff=o((rl,In)=>{In.exports={moduleType:"component",name:"modebar",layoutAttributes:Jh(),supplyLayoutDefaults:Ch(),manage:Fh()}}),O0=o((rl,In)=>{var A=i0().FROM_BL;In.exports=function(v,C,P){P===void 0&&(P=A[v.constraintoward||"center"]);var R=[v.r2l(v.range[0]),v.r2l(v.range[1])],F=R[0]+(R[1]-R[0])*P;v.range=v._input.range=[v.l2r(F+(R[0]-F)*C),v.l2r(F+(R[1]-F)*C)],v.setScale()}}),Up=o(rl=>{var In=ls(),A=Wd(),v=Nh().id2name,C=kd(),P=O0(),R=Xl(),F=H().ALMOST_EQUAL,I=i0().FROM_BL;rl.handleDefaults=function($,q,J){var O=J.axIds,j=J.axHasImage,Y=q._axisConstraintGroups=[],se=q._axisMatchGroups=[],nt,gl,Bn,jt,Pe,ml,tl,ul;for(nt=0;nt<O.length;nt++)jt=v(O[nt]),Pe=$[jt],ml=q[jt],B(Pe,ml,{axIds:O,layoutOut:q,hasImage:j[jt]});function il(Ol,gu){for(nt=0;nt<Ol.length;nt++){gl=Ol[nt];for(Bn in gl)q[v(Bn)][gu]=gl}}for(il(se,"_matchGroup"),nt=0;nt<Y.length;nt++){gl=Y[nt];for(Bn in gl)if(ml=q[v(Bn)],ml.fixedrange){for(var sl in gl){var vl=v(sl);($[vl]||{}).fixedrange===!1&&In.warn("fixedrange was specified as false for axis "+vl+" but was overridden because another axis in its constraint group has fixedrange true"),q[vl].fixedrange=!0}break}}for(nt=0;nt<Y.length;){gl=Y[nt];for(Bn in gl){ml=q[v(Bn)],ml._matchGroup&&Object.keys(ml._matchGroup).length===Object.keys(gl).length&&(Y.splice(nt,1),nt--);break}nt++}il(Y,"_constraintGroup");var yl=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],Fn=!1,xl=!1;function wl(){ul=ml[tl],tl==="rangebreaks"&&(xl=ml._hasDayOfWeekBreaks)}for(nt=0;nt<se.length;nt++){gl=se[nt];for(var kl=0;kl<yl.length;kl++){tl=yl[kl],ul=null;var Dl;for(Bn in gl)if(jt=v(Bn),Pe=$[jt],ml=q[jt],tl in ml){if(!ml.matches&&(Dl=ml,tl in Pe)){wl();break}ul===null&&tl in Pe&&wl()}if(tl==="range"&&ul&&Pe.range&&Pe.range.length===2&&Pe.range[0]!==null&&Pe.range[1]!==null&&(Fn=!0),tl==="autorange"&&ul===null&&Fn&&(ul=!1),ul===null&&tl in Dl&&(ul=Dl[tl]),ul!==null)for(Bn in gl)ml=q[v(Bn)],ml[tl]=tl==="range"?ul.slice():ul,tl==="rangebreaks"&&(ml._hasDayOfWeekBreaks=xl,R(ml,q))}}};function B($,q,J){var O=J.axIds,j=J.layoutOut,Y=J.hasImage,se=j._axisConstraintGroups,nt=j._axisMatchGroups,gl=q._id,Bn=gl.charAt(0),jt=((j._splomAxes||{})[Bn]||{})[gl]||{},Pe=q._id,ml=Pe.charAt(0)==="x";q._matchGroup=null,q._constraintGroup=null;function tl(cl,pl){return In.coerce($,q,C,cl,pl)}tl("constrain",Y?"domain":"range"),In.coerce($,q,{constraintoward:{valType:"enumerated",values:ml?["left","center","right"]:["bottom","middle","top"],dflt:ml?"center":"middle"}},"constraintoward");var ul=q.type,il,sl,vl=[];for(il=0;il<O.length;il++)if(sl=O[il],sl!==Pe){var yl=j[v(sl)];yl.type===ul&&vl.push(sl)}var Fn=W(se,Pe);if(Fn){var xl=[];for(il=0;il<vl.length;il++)sl=vl[il],Fn[sl]||xl.push(sl);vl=xl}var wl=vl.length,kl,Dl;wl&&($.matches||jt.matches)&&(kl=In.coerce($,q,{matches:{valType:"enumerated",values:vl,dflt:vl.indexOf(jt.matches)!==-1?jt.matches:void 0}},"matches"));var Ol=Y&&!ml?q.anchor:void 0;if(wl&&!kl&&($.scaleanchor||Ol)&&(Dl=In.coerce($,q,{scaleanchor:{valType:"enumerated",values:vl.concat([!1])}},"scaleanchor",Ol)),kl){q._matchGroup=z(nt,Pe,kl,1);var gu=j[v(kl)],yu=x(j,q)/x(j,gu);ml!==(kl.charAt(0)==="x")&&(yu=(ml?"x":"y")+yu),z(se,Pe,kl,yu)}else $.matches&&O.indexOf($.matches)!==-1&&In.warn("ignored "+q._name+'.matches: "'+$.matches+'" to avoid an infinite loop');if(Dl){var Iu=tl("scaleratio");Iu||(Iu=q.scaleratio=1),z(se,Pe,Dl,Iu)}else $.scaleanchor&&O.indexOf($.scaleanchor)!==-1&&In.warn("ignored "+q._name+'.scaleanchor: "'+$.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function x($,q){var J=q.domain;return J||(J=$[v(q.overlaying)].domain),J[1]-J[0]}function W($,q){for(var J=0;J<$.length;J++)if($[J][q])return $[J];return null}function z($,q,J,O){var j,Y,se,nt,gl,Bn=W($,q);Bn===null?(Bn={},Bn[q]=1,gl=$.length,$.push(Bn)):gl=$.indexOf(Bn);var jt=Object.keys(Bn);for(j=0;j<$.length;j++)if(se=$[j],j!==gl&&se[J]){var Pe=se[J];for(Y=0;Y<jt.length;Y++)nt=jt[Y],se[nt]=U(Pe,U(O,Bn[nt]));$.splice(gl,1);return}if(O!==1)for(Y=0;Y<jt.length;Y++){var ml=jt[Y];Bn[ml]=U(O,Bn[ml])}Bn[J]=1}function U($,q){var J="",O="",j,Y;typeof $=="string"&&(J=$.match(/^[xy]*/)[0],j=J.length,$=+$.substr(j)),typeof q=="string"&&(O=q.match(/^[xy]*/)[0],Y=O.length,q=+q.substr(Y));var se=$*q;return!j&&!Y?se:!j||!Y||J.charAt(0)===O.charAt(0)?J+O+$*q:j===Y?se:(j>Y?J.substr(Y):O.substr(j))+se}function Q($,q){for(var J=q._size,O=J.h/J.w,j={},Y=Object.keys($),se=0;se<Y.length;se++){var nt=Y[se],gl=$[nt];if(typeof gl=="string"){var Bn=gl.match(/^[xy]*/)[0],jt=Bn.length;gl=+gl.substr(jt);for(var Pe=Bn.charAt(0)==="y"?O:1/O,ml=0;ml<jt;ml++)gl*=Pe}j[nt]=gl}return j}rl.enforce=function($){var q=$._fullLayout,J=q._axisConstraintGroups||[],O,j,Y,se,nt,gl,Bn,jt;for(O=0;O<J.length;O++){Y=Q(J[O],q);var Pe=Object.keys(Y),ml=1/0,tl=0,ul=1/0,il={},sl={},vl=!1;for(j=0;j<Pe.length;j++)se=Pe[j],sl[se]=nt=q[v(se)],nt._inputDomain?nt.domain=nt._inputDomain.slice():nt._inputDomain=nt.domain.slice(),nt._inputRange||(nt._inputRange=nt.range.slice()),nt.setScale(),il[se]=gl=Math.abs(nt._m)/Y[se],ml=Math.min(ml,gl),(nt.constrain==="domain"||!nt._constraintShrinkable)&&(ul=Math.min(ul,gl)),delete nt._constraintShrinkable,tl=Math.max(tl,gl),nt.constrain==="domain"&&(vl=!0);if(!(ml>F*tl&&!vl)){for(j=0;j<Pe.length;j++)if(se=Pe[j],gl=il[se],nt=sl[se],Bn=nt.constrain,gl!==ul||Bn==="domain")if(jt=gl/ul,Bn==="range")P(nt,jt);else{var yl=nt._inputDomain,Fn=(nt.domain[1]-nt.domain[0])/(yl[1]-yl[0]),xl=(nt.r2l(nt.range[1])-nt.r2l(nt.range[0]))/(nt.r2l(nt._inputRange[1])-nt.r2l(nt._inputRange[0]));if(jt/=Fn,jt*xl<1){nt.domain=nt._input.domain=yl.slice(),P(nt,jt);continue}if(xl<1&&(nt.range=nt._input.range=nt._inputRange.slice(),jt*=xl),nt.autorange){var wl=nt.r2l(nt.range[0]),kl=nt.r2l(nt.range[1]),Dl=(wl+kl)/2,Ol=Dl,gu=Dl,yu=Math.abs(kl-Dl),Iu=Dl-yu*jt*1.0001,cl=Dl+yu*jt*1.0001,pl=A.makePadFn(q,nt,0),it=A.makePadFn(q,nt,1);Z(nt,jt);var bl=Math.abs(nt._m),Ll=A.concatExtremes($,nt),nl=Ll.min,ve=Ll.max,_t,ol;for(ol=0;ol<nl.length;ol++)_t=nl[ol].val-pl(nl[ol])/bl,_t>Iu&&_t<Ol&&(Ol=_t);for(ol=0;ol<ve.length;ol++)_t=ve[ol].val+it(ve[ol])/bl,_t<cl&&_t>gu&&(gu=_t);var dl=(gu-Ol)/(2*yu);jt/=dl,Ol=nt.l2r(Ol),gu=nt.l2r(gu),nt.range=nt._input.range=wl<kl?[Ol,gu]:[gu,Ol]}Z(nt,jt)}}}},rl.getAxisGroup=function($,q){for(var J=$._axisMatchGroups,O=0;O<J.length;O++){var j=J[O];if(j[q])return"g"+O}return q},rl.clean=function($,q){if(q._inputDomain){for(var J=!1,O=q._id,j=$._fullLayout._axisConstraintGroups,Y=0;Y<j.length;Y++)if(j[Y][O]){J=!0;break}(!J||q.constrain!=="domain")&&(q._input.domain=q.domain=q._inputDomain,delete q._inputDomain)}};function Z($,q){var J=$._inputDomain,O=I[$.constraintoward],j=J[0]+(J[1]-J[0])*O;$.domain=$._input.domain=[j+(J[0]-j)/q,j+(J[1]-j)/q],$.setScale()}}),Yf=o(rl=>{var In=f(),A=Ep(),v=Jp(),C=ls(),P=ag(),R=y0(),F=Bd(),I=dh(),B=vh(),x=ff(),W=ih(),z=i0(),U=Up(),Q=U.enforce,Z=U.clean,$=Wd().doAutoRange,q="start",J="middle",O="end",j=vp().zindexSeparator;rl.layoutStyles=function(Fn){return C.syncOrAsync([v.doAutoMargin,se],Fn)};function Y(Fn,xl,wl){for(var kl=0;kl<wl.length;kl++){var Dl=wl[kl][0],Ol=wl[kl][1];if(!(Dl[0]>=Fn[1]||Dl[1]<=Fn[0])&&Ol[0]<xl[1]&&Ol[1]>xl[0])return!0}return!1}function se(Fn){var xl=Fn._fullLayout,wl=xl._size,kl=wl.p,Dl=W.list(Fn,"",!0),Ol,gu,yu,Iu,cl,pl;if(xl._paperdiv.style({width:Fn._context.responsive&&xl.autosize&&!Fn._context._hasZeroWidth&&!Fn.layout.width?"100%":xl.width+"px",height:Fn._context.responsive&&xl.autosize&&!Fn._context._hasZeroHeight&&!Fn.layout.height?"100%":xl.height+"px"}).selectAll(".main-svg").call(I.setSize,xl.width,xl.height),Fn._context.setBackground(Fn,xl.paper_bgcolor),rl.drawMainTitle(Fn),x.manage(Fn),!xl._has("cartesian"))return v.previousPromises(Fn);function it(_l,Ul,Jl){var Hu=_l._lw/2;if(_l._id.charAt(0)==="x"){if(Ul){if(Jl==="top")return Ul._offset-kl-Hu}else return wl.t+wl.h*(1-(_l.position||0))+Hu%1;return Ul._offset+Ul._length+kl+Hu}if(Ul){if(Jl==="right")return Ul._offset+Ul._length+kl+Hu}else return wl.l+wl.w*(_l.position||0)+Hu%1;return Ul._offset-kl-Hu}for(Ol=0;Ol<Dl.length;Ol++){Iu=Dl[Ol];var bl=Iu._anchorAxis;Iu._linepositions={},Iu._lw=I.crispRound(Fn,Iu.linewidth,1),Iu._mainLinePosition=it(Iu,bl,Iu.side),Iu._mainMirrorPosition=Iu.mirror&&bl?it(Iu,bl,z.OPPOSITE_SIDE[Iu.side]):null}var Ll=[],nl=[],ve=[],_t=F.opacity(xl.paper_bgcolor)===1&&F.opacity(xl.plot_bgcolor)===1&&xl.paper_bgcolor===xl.plot_bgcolor;for(gu in xl._plots)if(yu=xl._plots[gu],yu.mainplot)yu.bg&&yu.bg.remove(),yu.bg=void 0;else{var ol=yu.xaxis.domain,dl=yu.yaxis.domain,Il=yu.plotgroup;if(Y(ol,dl,ve)&&gu.indexOf(j)===-1){var ql=Il.node(),Zl=yu.bg=C.ensureSingle(Il,"rect","bg");ql.insertBefore(Zl.node(),ql.childNodes[0]),nl.push(gu)}else Il.select("rect.bg").remove(),ve.push([ol,dl]),_t||(Ll.push(gu),nl.push(gu))}var Bu=xl._bgLayer.selectAll(".bg").data(Ll);for(Bu.enter().append("rect").classed("bg",!0),Bu.exit().remove(),Bu.each(function(_l){xl._plots[_l].bg=In.select(this)}),Ol=0;Ol<nl.length;Ol++)yu=xl._plots[nl[Ol]],cl=yu.xaxis,pl=yu.yaxis,yu.bg&&cl._offset!==void 0&&pl._offset!==void 0&&yu.bg.call(I.setRect,cl._offset-kl,pl._offset-kl,cl._length+2*kl,pl._length+2*kl).call(F.fill,xl.plot_bgcolor).style("stroke-width",0);if(!xl._hasOnlyLargeSploms)for(gu in xl._plots){yu=xl._plots[gu],cl=yu.xaxis,pl=yu.yaxis;var Ju=yu.clipId="clip"+xl._uid+gu+"plot",yd=C.ensureSingleById(xl._clips,"clipPath",Ju,function(_l){_l.classed("plotclip",!0).append("rect")});yu.clipRect=yd.select("rect").attr({width:cl._length,height:pl._length}),I.setTranslate(yu.plot,cl._offset,pl._offset);var Hd,Rd;yu._hasClipOnAxisFalse?(Hd=null,Rd=Ju):(Hd=Ju,Rd=null),I.setClipUrl(yu.plot,Hd,Fn),yu.layerClipId=Rd}var Ed,_u,Nu,Gl,rd,Sd,Pd,Ud,$d,th,sh,ah,Ah;function Yd(_l){return"M"+Ed+","+_l+"H"+_u}function Ph(_l){return"M"+cl._offset+","+_l+"h"+cl._length}function jh(_l){return"M"+_l+","+Ud+"V"+Pd}function Th(_l){return pl._shift!==void 0&&(_l+=pl._shift),"M"+_l+","+pl._offset+"v"+pl._length}function Xh(_l,Ul,Jl){if(!_l.showline||gu!==_l._mainSubplot)return"";if(!_l._anchorAxis)return Jl(_l._mainLinePosition);var Hu=Ul(_l._mainLinePosition);return _l.mirror&&(Hu+=Ul(_l._mainMirrorPosition)),Hu}for(gu in xl._plots){yu=xl._plots[gu],cl=yu.xaxis,pl=yu.yaxis;var Pu="M0,0";nt(cl,gu)&&(rd=Bn(cl,"left",pl,Dl),Ed=cl._offset-(rd?kl+rd:0),Sd=Bn(cl,"right",pl,Dl),_u=cl._offset+cl._length+(Sd?kl+Sd:0),Nu=it(cl,pl,"bottom"),Gl=it(cl,pl,"top"),Ah=!cl._anchorAxis||gu!==cl._mainSubplot,Ah&&(cl.mirror==="allticks"||cl.mirror==="all")&&(cl._linepositions[gu]=[Nu,Gl]),Pu=Xh(cl,Yd,Ph),Ah&&cl.showline&&(cl.mirror==="all"||cl.mirror==="allticks")&&(Pu+=Yd(Nu)+Yd(Gl)),yu.xlines.style("stroke-width",cl._lw+"px").call(F.stroke,cl.showline?cl.linecolor:"rgba(0,0,0,0)")),yu.xlines.attr("d",Pu);var sd="M0,0";nt(pl,gu)&&(sh=Bn(pl,"bottom",cl,Dl),Pd=pl._offset+pl._length+(sh?kl:0),ah=Bn(pl,"top",cl,Dl),Ud=pl._offset-(ah?kl:0),$d=it(pl,cl,"left"),th=it(pl,cl,"right"),Ah=!pl._anchorAxis||gu!==pl._mainSubplot,Ah&&(pl.mirror==="allticks"||pl.mirror==="all")&&(pl._linepositions[gu]=[$d,th]),sd=Xh(pl,jh,Th),Ah&&pl.showline&&(pl.mirror==="all"||pl.mirror==="allticks")&&(sd+=jh($d)+jh(th)),yu.ylines.style("stroke-width",pl._lw+"px").call(F.stroke,pl.showline?pl.linecolor:"rgba(0,0,0,0)")),yu.ylines.attr("d",sd)}return W.makeClipPaths(Fn),v.previousPromises(Fn)}function nt(Fn,xl){return(Fn.ticks||Fn.showline)&&(xl===Fn._mainSubplot||Fn.mirror==="all"||Fn.mirror==="allticks")}function gl(Fn,xl,wl){if(!wl.showline||!wl._lw)return!1;if(wl.mirror==="all"||wl.mirror==="allticks")return!0;var kl=wl._anchorAxis;if(!kl)return!1;var Dl=z.FROM_BL[xl];return wl.side===xl?kl.domain[Dl]===Fn.domain[Dl]:wl.mirror&&kl.domain[1-Dl]===Fn.domain[1-Dl]}function Bn(Fn,xl,wl,kl){if(gl(Fn,xl,wl))return wl._lw;for(var Dl=0;Dl<kl.length;Dl++){var Ol=kl[Dl];if(Ol._mainAxis===wl._mainAxis&&gl(Fn,xl,Ol))return Ol._lw}return 0}rl.drawMainTitle=function(Fn){var xl=Fn._fullLayout.title,wl=Fn._fullLayout,kl=vl(wl),Dl=yl(wl),Ol=il(wl,Dl),gu=ul(wl,kl);if(B.draw(Fn,"gtitle",{propContainer:wl,propName:"title.text",subtitlePropName:"title.subtitle.text",placeholder:wl._dfltTitle.plot,subtitlePlaceholder:wl._dfltTitle.subtitle,attributes:{x:gu,y:Ol,"text-anchor":kl,dy:Dl}}),xl.text&&xl.automargin){var yu=In.select(Fn).selectAll(".gtitle"),Iu=I.bBox(In.select(Fn).selectAll(".g-gtitle").node()).height,cl=ml(Fn,xl,Iu);if(cl>0){tl(Fn,Ol,cl,Iu),yu.attr({x:gu,y:Ol,"text-anchor":kl,dy:sl(xl.yanchor)}).call(P.positionText,gu,Ol);var pl=(xl.text.match(P.BR_TAG_ALL)||[]).length;if(pl){var it=z.LINE_SPACING*pl+z.MID_SHIFT;xl.y===0&&(it=-it),yu.selectAll(".line").each(function(){var _t=+this.getAttribute("dy").slice(0,-2)-it+"em";this.setAttribute("dy",_t)})}var bl=In.select(Fn).selectAll(".gtitle-subtitle");if(bl.node()){var Ll=yu.node().getBBox(),nl=Ll.y+Ll.height,ve=nl+B.SUBTITLE_PADDING_EM*xl.subtitle.font.size;bl.attr({x:gu,y:ve,"text-anchor":kl,dy:sl(xl.yanchor)}).call(P.positionText,gu,ve)}}}};function jt(Fn,xl,wl,kl,Dl){var Ol=xl.yref==="paper"?Fn._fullLayout._size.h:Fn._fullLayout.height,gu=C.isTopAnchor(xl)?kl:kl-Dl,yu=wl==="b"?Ol-gu:gu;return C.isTopAnchor(xl)&&wl==="t"||C.isBottomAnchor(xl)&&wl==="b"?!1:yu<Dl}function Pe(Fn,xl,wl,kl,Dl){var Ol=0;return wl==="middle"&&(Ol+=Dl/2),Fn==="t"?(wl==="top"&&(Ol+=Dl),Ol+=kl-xl*kl):(wl==="bottom"&&(Ol+=Dl),Ol+=xl*kl),Ol}function ml(Fn,xl,wl){var kl=xl.y,Dl=xl.yanchor,Ol=kl>.5?"t":"b",gu=Fn._fullLayout.margin[Ol],yu=0;return xl.yref==="paper"?yu=wl+xl.pad.t+xl.pad.b:xl.yref==="container"&&(yu=Pe(Ol,kl,Dl,Fn._fullLayout.height,wl)+xl.pad.t+xl.pad.b),yu>gu?yu:0}function tl(Fn,xl,wl,kl){var Dl="title.automargin",Ol=Fn._fullLayout.title,gu=Ol.y>.5?"t":"b",yu={x:Ol.x,y:Ol.y,t:0,b:0},Iu={};Ol.yref==="paper"&&jt(Fn,Ol,gu,xl,kl)?yu[gu]=wl:Ol.yref==="container"&&(Iu[gu]=wl,Fn._fullLayout._reservedMargin[Dl]=Iu),v.allowAutoMargin(Fn,Dl),v.autoMargin(Fn,Dl,yu)}function ul(Fn,xl){var wl=Fn.title,kl=Fn._size,Dl=0;switch(xl===q?Dl=wl.pad.l:xl===O&&(Dl=-wl.pad.r),wl.xref){case"paper":return kl.l+kl.w*wl.x+Dl;case"container":default:return Fn.width*wl.x+Dl}}function il(Fn,xl){var wl=Fn.title,kl=Fn._size,Dl=0;if(xl==="0em"||!xl?Dl=-wl.pad.b:xl===z.CAP_SHIFT+"em"&&(Dl=wl.pad.t),wl.y==="auto")return kl.t/2;switch(wl.yref){case"paper":return kl.t+kl.h-kl.h*wl.y+Dl;case"container":default:return Fn.height-Fn.height*wl.y+Dl}}function sl(Fn){return Fn==="top"?z.CAP_SHIFT+.3+"em":Fn==="bottom"?"-0.3em":z.MID_SHIFT+"em"}function vl(Fn){var xl=Fn.title,wl=J;return C.isRightAnchor(xl)?wl=O:C.isLeftAnchor(xl)&&(wl=q),wl}function yl(Fn){var xl=Fn.title,wl="0em";return C.isTopAnchor(xl)?wl=z.CAP_SHIFT+"em":C.isMiddleAnchor(xl)&&(wl=z.MID_SHIFT+"em"),wl}rl.doTraceStyle=function(Fn){var xl=Fn.calcdata,wl=[],kl;for(kl=0;kl<xl.length;kl++){var Dl=xl[kl],Ol=Dl[0]||{},gu=Ol.trace||{},yu=gu._module||{},Iu=yu.arraysToCalcdata;Iu&&Iu(Dl,gu);var cl=yu.editStyle;cl&&wl.push({fn:cl,cd0:Ol})}if(wl.length){for(kl=0;kl<wl.length;kl++){var pl=wl[kl];pl.fn(Fn,pl.cd0)}R(Fn),rl.redrawReglTraces(Fn)}return v.style(Fn),A.getComponentMethod("legend","draw")(Fn),v.previousPromises(Fn)},rl.doColorBars=function(Fn){return A.getComponentMethod("colorbar","draw")(Fn),v.previousPromises(Fn)},rl.layoutReplot=function(Fn){var xl=Fn.layout;return Fn.layout=void 0,A.call("_doPlot",Fn,"",xl)},rl.doLegend=function(Fn){return A.getComponentMethod("legend","draw")(Fn),v.previousPromises(Fn)},rl.doTicksRelayout=function(Fn){return W.draw(Fn,"redraw"),Fn._fullLayout._hasOnlyLargeSploms&&(A.subplotsRegistry.splom.updateGrid(Fn),R(Fn),rl.redrawReglTraces(Fn)),rl.drawMainTitle(Fn),v.previousPromises(Fn)},rl.doModeBar=function(Fn){var xl=Fn._fullLayout;x.manage(Fn);for(var wl=0;wl<xl._basePlotModules.length;wl++){var kl=xl._basePlotModules[wl].updateFx;kl&&kl(Fn)}return v.previousPromises(Fn)},rl.doCamera=function(Fn){for(var xl=Fn._fullLayout,wl=xl._subplots.gl3d,kl=0;kl<wl.length;kl++){var Dl=xl[wl[kl]],Ol=Dl._scene;Ol.setViewport(Dl)}},rl.drawData=function(Fn){var xl=Fn._fullLayout;R(Fn);for(var wl=xl._basePlotModules,kl=0;kl<wl.length;kl++)wl[kl].plot(Fn);return rl.redrawReglTraces(Fn),v.style(Fn),A.getComponentMethod("selections","draw")(Fn),A.getComponentMethod("shapes","draw")(Fn),A.getComponentMethod("annotations","draw")(Fn),A.getComponentMethod("images","draw")(Fn),xl._replotting=!1,v.previousPromises(Fn)},rl.redrawReglTraces=function(Fn){var xl=Fn._fullLayout;if(xl._has("regl")){var wl=Fn._fullData,kl=[],Dl=[],Ol,gu;for(xl._hasOnlyLargeSploms&&xl._splomGrid.draw(),Ol=0;Ol<wl.length;Ol++){var yu=wl[Ol];yu.visible===!0&&yu._length!==0&&(yu.type==="splom"?xl._splomScenes[yu.uid].draw():yu.type==="scattergl"?C.pushUnique(kl,yu.xaxis+yu.yaxis):yu.type==="scatterpolargl"&&C.pushUnique(Dl,yu.subplot))}for(Ol=0;Ol<kl.length;Ol++)gu=xl._plots[kl[Ol]],gu._scene&&gu._scene.draw();for(Ol=0;Ol<Dl.length;Ol++)gu=xl[Dl[Ol]]._subplot,gu._scene&&gu._scene.draw()}},rl.doAutoRangeAndConstraints=function(Fn){for(var xl=W.list(Fn,"",!0),wl,kl={},Dl=0;Dl<xl.length;Dl++)if(wl=xl[Dl],!kl[wl._id]){kl[wl._id]=1,Z(Fn,wl),$(Fn,wl);var Ol=wl._matchGroup;if(Ol)for(var gu in Ol){var yu=W.getFromId(Fn,gu);$(Fn,yu,wl.range),kl[gu]=1}}Q(Fn)},rl.finalDraw=function(Fn){A.getComponentMethod("rangeslider","draw")(Fn),A.getComponentMethod("rangeselector","draw")(Fn)},rl.drawMarginPushers=function(Fn){A.getComponentMethod("legend","draw")(Fn),A.getComponentMethod("rangeselector","draw")(Fn),A.getComponentMethod("sliders","draw")(Fn),A.getComponentMethod("updatemenus","draw")(Fn),A.getComponentMethod("colorbar","draw")(Fn)}}),Yg=o((rl,In)=>{var A=V0().readPaths,v=hl(),C=Rp().clearOutlineControllers,P=Bd(),R=dh(),F=Zf().arrayEditor,I=Ln(),B=I.getPathString;In.exports={draw:x,drawOne:z,activateLastSelection:Z};function x(q){var J=q._fullLayout;C(q),J._selectionLayer.selectAll("path").remove();for(var O in J._plots){var j=J._plots[O].selectionLayer;j&&j.selectAll("path").remove()}for(var Y=0;Y<J.selections.length;Y++)z(q,Y)}function W(q){return q._context.editSelection}function z(q,J){q._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+J+'"]').remove();var O=I.makeSelectionsOptionsAndPlotinfo(q,J),j=O.options,Y=O.plotinfo;if(!j._input)return;se(q._fullLayout._selectionLayer);function se(nt){var gl=B(q,j),Bn={"data-index":J,"fill-rule":"evenodd",d:gl},jt=j.opacity,Pe="rgba(0,0,0,0)",ml=j.line.color||P.contrast(q._fullLayout.plot_bgcolor),tl=j.line.width,ul=j.line.dash;tl||(tl=5,ul="solid");var il=W(q)&&q._fullLayout._activeSelectionIndex===J;il&&(Pe=q._fullLayout.activeselection.fillcolor,jt=q._fullLayout.activeselection.opacity);for(var sl=[],vl=1;vl>=0;vl--){var yl=nt.append("path").attr(Bn).style("opacity",vl?.1:jt).call(P.stroke,ml).call(P.fill,Pe).call(R.dashLine,vl?"solid":ul,vl?4+tl:tl);if(U(yl,q,j),il){var Fn=F(q.layout,"selections",j);yl.style({cursor:"move"});var xl={element:yl.node(),plotinfo:Y,gd:q,editHelpers:Fn,isActiveSelection:!0},wl=A(gl,q);v(wl,yl,xl)}else yl.style("pointer-events",vl?"all":"none");sl[vl]=yl}var kl=sl[0],Dl=sl[1];Dl.node().addEventListener("click",function(){return Q(q,kl)})}}function U(q,J,O){var j=O.xref+O.yref;R.setClipUrl(q,"clip"+J._fullLayout._uid+j,J)}function Q(q,J){if(W(q)){var O=J.node(),j=+O.getAttribute("data-index");if(j>=0){if(j===q._fullLayout._activeSelectionIndex){$(q);return}q._fullLayout._activeSelectionIndex=j,q._fullLayout._deactivateSelection=$,x(q)}}}function Z(q){if(W(q)){var J=q._fullLayout.selections.length-1;q._fullLayout._activeSelectionIndex=J,q._fullLayout._deactivateSelection=$,x(q)}}function $(q){if(W(q)){var J=q._fullLayout._activeSelectionIndex;J>=0&&(C(q),delete q._fullLayout._activeSelectionIndex,x(q))}}}),sg=o((rl,In)=>{function A(){var v,C=0,P=!1;function R(F,I){return v.list.push({type:F,data:I?JSON.parse(JSON.stringify(I)):void 0}),v}return v={list:[],segmentId:function(){return C++},checkIntersection:function(F,I){return R("check",{seg1:F,seg2:I})},segmentChop:function(F,I){return R("div_seg",{seg:F,pt:I}),R("chop",{seg:F,pt:I})},statusRemove:function(F){return R("pop_seg",{seg:F})},segmentUpdate:function(F){return R("seg_update",{seg:F})},segmentNew:function(F,I){return R("new_seg",{seg:F,primary:I})},segmentRemove:function(F){return R("rem_seg",{seg:F})},tempStatus:function(F,I,B){return R("temp_status",{seg:F,above:I,below:B})},rewind:function(F){return R("rewind",{seg:F})},status:function(F,I,B){return R("status",{seg:F,above:I,below:B})},vert:function(F){return F===P?v:(P=F,R("vert",{x:F}))},log:function(F){return typeof F!="string"&&(F=JSON.stringify(F,!1,"  ")),R("log",{txt:F})},reset:function(){return R("reset")},selected:function(F){return R("selected",{segs:F})},chainStart:function(F){return R("chain_start",{seg:F})},chainRemoveHead:function(F,I){return R("chain_rem_head",{index:F,pt:I})},chainRemoveTail:function(F,I){return R("chain_rem_tail",{index:F,pt:I})},chainNew:function(F,I){return R("chain_new",{pt1:F,pt2:I})},chainMatch:function(F){return R("chain_match",{index:F})},chainClose:function(F){return R("chain_close",{index:F})},chainAddHead:function(F,I){return R("chain_add_head",{index:F,pt:I})},chainAddTail:function(F,I){return R("chain_add_tail",{index:F,pt:I})},chainConnect:function(F,I){return R("chain_con",{index1:F,index2:I})},chainReverse:function(F){return R("chain_rev",{index:F})},chainJoin:function(F,I){return R("chain_join",{index1:F,index2:I})},done:function(){return R("done")}},v}In.exports=A}),d0=o((rl,In)=>{function A(v){typeof v!="number"&&(v=1e-10);var C={epsilon:function(P){return typeof P=="number"&&(v=P),v},pointAboveOrOnLine:function(P,R,F){var I=R[0],B=R[1],x=F[0],W=F[1],z=P[0],U=P[1];return(x-I)*(U-B)-(W-B)*(z-I)>=-v},pointBetween:function(P,R,F){var I=P[1]-R[1],B=F[0]-R[0],x=P[0]-R[0],W=F[1]-R[1],z=x*B+I*W;if(z<v)return!1;var U=B*B+W*W;return!(z-U>-v)},pointsSameX:function(P,R){return Math.abs(P[0]-R[0])<v},pointsSameY:function(P,R){return Math.abs(P[1]-R[1])<v},pointsSame:function(P,R){return C.pointsSameX(P,R)&&C.pointsSameY(P,R)},pointsCompare:function(P,R){return C.pointsSameX(P,R)?C.pointsSameY(P,R)?0:P[1]<R[1]?-1:1:P[0]<R[0]?-1:1},pointsCollinear:function(P,R,F){var I=P[0]-R[0],B=P[1]-R[1],x=R[0]-F[0],W=R[1]-F[1];return Math.abs(I*W-x*B)<v},linesIntersect:function(P,R,F,I){var B=R[0]-P[0],x=R[1]-P[1],W=I[0]-F[0],z=I[1]-F[1],U=B*z-x*W;if(Math.abs(U)<v)return!1;var Q=P[0]-F[0],Z=P[1]-F[1],$=(W*Z-z*Q)/U,q=(B*Z-x*Q)/U,J={alongA:0,alongB:0,pt:[P[0]+$*B,P[1]+$*x]};return $<=-v?J.alongA=-2:$<v?J.alongA=-1:$-1<=-v?J.alongA=0:$-1<v?J.alongA=1:J.alongA=2,q<=-v?J.alongB=-2:q<v?J.alongB=-1:q-1<=-v?J.alongB=0:q-1<v?J.alongB=1:J.alongB=2,J},pointInsideRegion:function(P,R){for(var F=P[0],I=P[1],B=R[R.length-1][0],x=R[R.length-1][1],W=!1,z=0;z<R.length;z++){var U=R[z][0],Q=R[z][1];Q-I>v!=x-I>v&&(B-U)*(I-Q)/(x-Q)+U-F>v&&(W=!W),B=U,x=Q}return W}};return C}In.exports=A}),Sg=o((rl,In)=>{var A={create:function(){var v={root:{root:!0,next:null},exists:function(C){return!(C===null||C===v.root)},isEmpty:function(){return v.root.next===null},getHead:function(){return v.root.next},insertBefore:function(C,P){for(var R=v.root,F=v.root.next;F!==null;){if(P(F)){C.prev=F.prev,C.next=F,F.prev.next=C,F.prev=C;return}R=F,F=F.next}R.next=C,C.prev=R,C.next=null},findTransition:function(C){for(var P=v.root,R=v.root.next;R!==null&&!C(R);)P=R,R=R.next;return{before:P===v.root?null:P,after:R,insert:function(F){return F.prev=P,F.next=R,P.next=F,R!==null&&(R.prev=F),F}}}};return v},node:function(v){return v.prev=null,v.next=null,v.remove=function(){v.prev.next=v.next,v.next&&(v.next.prev=v.prev),v.prev=null,v.next=null},v}};In.exports=A}),T0=o((rl,In)=>{var A=Sg();function v(C,P,R){function F(J,O){return{id:R?R.segmentId():-1,start:J,end:O,myFill:{above:null,below:null},otherFill:null}}function I(J,O,j){return{id:R?R.segmentId():-1,start:J,end:O,myFill:{above:j.myFill.above,below:j.myFill.below},otherFill:null}}var B=A.create();function x(J,O,j,Y,se,nt){var gl=P.pointsCompare(O,se);return gl!==0?gl:P.pointsSame(j,nt)?0:J!==Y?J?1:-1:P.pointAboveOrOnLine(j,Y?se:nt,Y?nt:se)?1:-1}function W(J,O){B.insertBefore(J,function(j){var Y=x(J.isStart,J.pt,O,j.isStart,j.pt,j.other.pt);return Y<0})}function z(J,O){var j=A.node({isStart:!0,pt:J.start,seg:J,primary:O,other:null,status:null});return W(j,J.end),j}function U(J,O,j){var Y=A.node({isStart:!1,pt:O.end,seg:O,primary:j,other:J,status:null});J.other=Y,W(Y,J.pt)}function Q(J,O){var j=z(J,O);return U(j,J,O),j}function Z(J,O){R&&R.segmentChop(J.seg,O),J.other.remove(),J.seg.end=O,J.other.pt=O,W(J.other,J.pt)}function $(J,O){var j=I(O,J.seg.end,J.seg);return Z(J,O),Q(j,J.primary)}function q(J,O){var j=A.create();function Y(yl,Fn){var xl=yl.seg.start,wl=yl.seg.end,kl=Fn.seg.start,Dl=Fn.seg.end;return P.pointsCollinear(xl,kl,Dl)?P.pointsCollinear(wl,kl,Dl)||P.pointAboveOrOnLine(wl,kl,Dl)?1:-1:P.pointAboveOrOnLine(xl,kl,Dl)?1:-1}function se(yl){return j.findTransition(function(Fn){var xl=Y(yl,Fn.ev);return xl>0})}function nt(yl,Fn){var xl=yl.seg,wl=Fn.seg,kl=xl.start,Dl=xl.end,Ol=wl.start,gu=wl.end;R&&R.checkIntersection(xl,wl);var yu=P.linesIntersect(kl,Dl,Ol,gu);if(yu===!1){if(!P.pointsCollinear(kl,Dl,Ol)||P.pointsSame(kl,gu)||P.pointsSame(Dl,Ol))return!1;var Iu=P.pointsSame(kl,Ol),cl=P.pointsSame(Dl,gu);if(Iu&&cl)return Fn;var pl=!Iu&&P.pointBetween(kl,Ol,gu),it=!cl&&P.pointBetween(Dl,Ol,gu);if(Iu)return it?$(Fn,Dl):$(yl,gu),Fn;pl&&(cl||(it?$(Fn,Dl):$(yl,gu)),$(Fn,kl))}else yu.alongA===0&&(yu.alongB===-1?$(yl,Ol):yu.alongB===0?$(yl,yu.pt):yu.alongB===1&&$(yl,gu)),yu.alongB===0&&(yu.alongA===-1?$(Fn,kl):yu.alongA===0?$(Fn,yu.pt):yu.alongA===1&&$(Fn,Dl));return!1}for(var gl=[];!B.isEmpty();){var Bn=B.getHead();if(R&&R.vert(Bn.pt[0]),Bn.isStart){let yl=function(){if(Pe){var Fn=nt(Bn,Pe);if(Fn)return Fn}return ml?nt(Bn,ml):!1};R&&R.segmentNew(Bn.seg,Bn.primary);var jt=se(Bn),Pe=jt.before?jt.before.ev:null,ml=jt.after?jt.after.ev:null;R&&R.tempStatus(Bn.seg,Pe?Pe.seg:!1,ml?ml.seg:!1);var tl=yl();if(tl){if(C){var ul;Bn.seg.myFill.below===null?ul=!0:ul=Bn.seg.myFill.above!==Bn.seg.myFill.below,ul&&(tl.seg.myFill.above=!tl.seg.myFill.above)}else tl.seg.otherFill=Bn.seg.myFill;R&&R.segmentUpdate(tl.seg),Bn.other.remove(),Bn.remove()}if(B.getHead()!==Bn){R&&R.rewind(Bn.seg);continue}if(C){var ul;Bn.seg.myFill.below===null?ul=!0:ul=Bn.seg.myFill.above!==Bn.seg.myFill.below,ml?Bn.seg.myFill.below=ml.seg.myFill.above:Bn.seg.myFill.below=J,ul?Bn.seg.myFill.above=!Bn.seg.myFill.below:Bn.seg.myFill.above=Bn.seg.myFill.below}else if(Bn.seg.otherFill===null){var il;ml?Bn.primary===ml.primary?il=ml.seg.otherFill.above:il=ml.seg.myFill.above:il=Bn.primary?O:J,Bn.seg.otherFill={above:il,below:il}}R&&R.status(Bn.seg,Pe?Pe.seg:!1,ml?ml.seg:!1),Bn.other.status=jt.insert(A.node({ev:Bn}))}else{var sl=Bn.status;if(sl===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(j.exists(sl.prev)&&j.exists(sl.next)&&nt(sl.prev.ev,sl.next.ev),R&&R.statusRemove(sl.ev.seg),sl.remove(),!Bn.primary){var vl=Bn.seg.myFill;Bn.seg.myFill=Bn.seg.otherFill,Bn.seg.otherFill=vl}gl.push(Bn.seg)}B.getHead().remove()}return R&&R.done(),gl}return C?{addRegion:function(J){for(var O,j=J[J.length-1],Y=0;Y<J.length;Y++){O=j,j=J[Y];var se=P.pointsCompare(O,j);se!==0&&Q(F(se<0?O:j,se<0?j:O),!0)}},calculate:function(J){return q(J,!1)}}:{calculate:function(J,O,j,Y){return J.forEach(function(se){Q(I(se.start,se.end,se),!0)}),j.forEach(function(se){Q(I(se.start,se.end,se),!1)}),q(O,Y)}}}In.exports=v}),Kf=o((rl,In)=>{function A(v,C,P){var R=[],F=[];return v.forEach(function(I){var B=I.start,x=I.end;if(C.pointsSame(B,x)){console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");return}P&&P.chainStart(I);var W={index:0,matches_head:!1,matches_pt1:!1},z={index:0,matches_head:!1,matches_pt1:!1},U=W;function Q(il,sl,vl){return U.index=il,U.matches_head=sl,U.matches_pt1=vl,U===W?(U=z,!1):(U=null,!0)}for(var Z=0;Z<R.length;Z++){var $=R[Z],q=$[0];$[1];var J=$[$.length-1];if($[$.length-2],C.pointsSame(q,B)){if(Q(Z,!0,!0))break}else if(C.pointsSame(q,x)){if(Q(Z,!0,!1))break}else if(C.pointsSame(J,B)){if(Q(Z,!1,!0))break}else if(C.pointsSame(J,x)&&Q(Z,!1,!1))break}if(U===W){R.push([B,x]),P&&P.chainNew(B,x);return}if(U===z){P&&P.chainMatch(W.index);var O=W.index,j=W.matches_pt1?x:B,Y=W.matches_head,$=R[O],se=Y?$[0]:$[$.length-1],nt=Y?$[1]:$[$.length-2],gl=Y?$[$.length-1]:$[0],Bn=Y?$[$.length-2]:$[1];if(C.pointsCollinear(nt,se,j)&&(Y?(P&&P.chainRemoveHead(W.index,j),$.shift()):(P&&P.chainRemoveTail(W.index,j),$.pop()),se=nt),C.pointsSame(gl,j)){R.splice(O,1),C.pointsCollinear(Bn,gl,se)&&(Y?(P&&P.chainRemoveTail(W.index,se),$.pop()):(P&&P.chainRemoveHead(W.index,se),$.shift())),P&&P.chainClose(W.index),F.push($);return}Y?(P&&P.chainAddHead(W.index,j),$.unshift(j)):(P&&P.chainAddTail(W.index,j),$.push(j));return}function jt(il){P&&P.chainReverse(il),R[il].reverse()}function Pe(il,sl){var vl=R[il],yl=R[sl],Fn=vl[vl.length-1],xl=vl[vl.length-2],wl=yl[0],kl=yl[1];C.pointsCollinear(xl,Fn,wl)&&(P&&P.chainRemoveTail(il,Fn),vl.pop(),Fn=xl),C.pointsCollinear(Fn,wl,kl)&&(P&&P.chainRemoveHead(sl,wl),yl.shift()),P&&P.chainJoin(il,sl),R[il]=vl.concat(yl),R.splice(sl,1)}var ml=W.index,tl=z.index;P&&P.chainConnect(ml,tl);var ul=R[ml].length<R[tl].length;W.matches_head?z.matches_head?ul?(jt(ml),Pe(ml,tl)):(jt(tl),Pe(tl,ml)):Pe(tl,ml):z.matches_head?Pe(ml,tl):ul?(jt(ml),Pe(tl,ml)):(jt(tl),Pe(ml,tl))}),F}In.exports=A}),e0=o((rl,In)=>{function A(C,P,R){var F=[];return C.forEach(function(I){var B=(I.myFill.above?8:0)+(I.myFill.below?4:0)+(I.otherFill&&I.otherFill.above?2:0)+(I.otherFill&&I.otherFill.below?1:0);P[B]!==0&&F.push({id:R?R.segmentId():-1,start:I.start,end:I.end,myFill:{above:P[B]===1,below:P[B]===2},otherFill:null})}),R&&R.selected(F),F}var v={union:function(C,P){return A(C,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],P)},intersect:function(C,P){return A(C,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],P)},difference:function(C,P){return A(C,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],P)},differenceRev:function(C,P){return A(C,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],P)},xor:function(C,P){return A(C,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],P)}};In.exports=v}),fg=o((rl,In)=>{var A={toPolygon:function(v,C){function P(I){if(I.length<=0)return v.segments({inverted:!1,regions:[]});function B(z){var U=z.slice(0,z.length-1);return v.segments({inverted:!1,regions:[U]})}for(var x=B(I[0]),W=1;W<I.length;W++)x=v.selectDifference(v.combine(x,B(I[W])));return x}if(C.type==="Polygon")return v.polygon(P(C.coordinates));if(C.type==="MultiPolygon"){for(var R=v.segments({inverted:!1,regions:[]}),F=0;F<C.coordinates.length;F++)R=v.selectUnion(v.combine(R,P(C.coordinates[F])));return v.polygon(R)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(v,C,P){P=v.polygon(v.segments(P));function R($,q){return C.pointInsideRegion([($[0][0]+$[1][0])*.5,($[0][1]+$[1][1])*.5],q)}function F($){return{region:$,children:[]}}var I=F(null);function B($,q){for(var J=0;J<$.children.length;J++){var O=$.children[J];if(R(q,O.region)){B(O,q);return}}for(var j=F(q),J=0;J<$.children.length;J++){var O=$.children[J];R(O.region,q)&&(j.children.push(O),$.children.splice(J,1),J--)}$.children.push(j)}for(var x=0;x<P.regions.length;x++){var W=P.regions[x];W.length<3||B(I,W)}function z($,q){for(var J=0,O=$[$.length-1][0],j=$[$.length-1][1],Y=[],se=0;se<$.length;se++){var nt=$[se][0],gl=$[se][1];Y.push([nt,gl]),J+=gl*O-nt*j,O=nt,j=gl}var Bn=J<0;return Bn!==q&&Y.reverse(),Y.push([Y[0][0],Y[0][1]]),Y}var U=[];function Q($){var q=[z($.region,!1)];U.push(q);for(var J=0;J<$.children.length;J++)q.push(Z($.children[J]))}function Z($){for(var q=0;q<$.children.length;q++)Q($.children[q]);return z($.region,!0)}for(var x=0;x<I.children.length;x++)Q(I.children[x]);return U.length<=0?{type:"Polygon",coordinates:[]}:U.length==1?{type:"Polygon",coordinates:U[0]}:{type:"MultiPolygon",coordinates:U}}};In.exports=A}),Ip=o((rl,In)=>{var A=sg(),v=d0(),C=T0(),P=Kf(),R=e0(),F=fg(),I=!1,B=v(),x;x={buildLog:function(z){return z===!0?I=A():z===!1&&(I=!1),I===!1?!1:I.list},epsilon:function(z){return B.epsilon(z)},segments:function(z){var U=C(!0,B,I);return z.regions.forEach(U.addRegion),{segments:U.calculate(z.inverted),inverted:z.inverted}},combine:function(z,U){var Q=C(!1,B,I);return{combined:Q.calculate(z.segments,z.inverted,U.segments,U.inverted),inverted1:z.inverted,inverted2:U.inverted}},selectUnion:function(z){return{segments:R.union(z.combined,I),inverted:z.inverted1||z.inverted2}},selectIntersect:function(z){return{segments:R.intersect(z.combined,I),inverted:z.inverted1&&z.inverted2}},selectDifference:function(z){return{segments:R.difference(z.combined,I),inverted:z.inverted1&&!z.inverted2}},selectDifferenceRev:function(z){return{segments:R.differenceRev(z.combined,I),inverted:!z.inverted1&&z.inverted2}},selectXor:function(z){return{segments:R.xor(z.combined,I),inverted:z.inverted1!==z.inverted2}},polygon:function(z){return{regions:P(z.segments,B,I),inverted:z.inverted}},polygonFromGeoJSON:function(z){return F.toPolygon(x,z)},polygonToGeoJSON:function(z){return F.fromPolygon(x,B,z)},union:function(z,U){return W(z,U,x.selectUnion)},intersect:function(z,U){return W(z,U,x.selectIntersect)},difference:function(z,U){return W(z,U,x.selectDifference)},differenceRev:function(z,U){return W(z,U,x.selectDifferenceRev)},xor:function(z,U){return W(z,U,x.selectXor)}};function W(z,U,Q){var Z=x.segments(z),$=x.segments(U),q=x.combine(Z,$),J=Q(q);return x.polygon(J)}typeof window=="object"&&(window.PolyBool=x),In.exports=x}),xg=o((rl,In)=>{In.exports=function(A,v,C,P){var R=A[0],F=A[1],I=!1;C===void 0&&(C=0),P===void 0&&(P=v.length);for(var B=P-C,x=0,W=B-1;x<B;W=x++){var z=v[x+C][0],U=v[x+C][1],Q=v[W+C][0],Z=v[W+C][1],$=U>F!=Z>F&&R<(Q-z)*(F-U)/(Z-U)+z;$&&(I=!I)}return I}}),z0=o((rl,In)=>{var A=rf().dot,v=H().BADNUM,C=In.exports={};C.tester=function(P){var R=P.slice(),F=R[0][0],I=F,B=R[0][1],x=B,W;for((R[R.length-1][0]!==R[0][0]||R[R.length-1][1]!==R[0][1])&&R.push(R[0]),W=1;W<R.length;W++)F=Math.min(F,R[W][0]),I=Math.max(I,R[W][0]),B=Math.min(B,R[W][1]),x=Math.max(x,R[W][1]);var z=!1,U;R.length===5&&(R[0][0]===R[1][0]?R[2][0]===R[3][0]&&R[0][1]===R[3][1]&&R[1][1]===R[2][1]&&(z=!0,U=function(J){return J[0]===R[0][0]}):R[0][1]===R[1][1]&&R[2][1]===R[3][1]&&R[0][0]===R[3][0]&&R[1][0]===R[2][0]&&(z=!0,U=function(J){return J[1]===R[0][1]}));function Q(J,O){var j=J[0],Y=J[1];return!(j===v||j<F||j>I||Y===v||Y<B||Y>x||O&&U(J))}function Z(J,O){var j=J[0],Y=J[1];if(j===v||j<F||j>I||Y===v||Y<B||Y>x)return!1;var se=R.length,nt=R[0][0],gl=R[0][1],Bn=0,jt,Pe,ml,tl,ul;for(jt=1;jt<se;jt++)if(Pe=nt,ml=gl,nt=R[jt][0],gl=R[jt][1],tl=Math.min(Pe,nt),!(j<tl||j>Math.max(Pe,nt)||Y>Math.max(ml,gl)))if(Y<Math.min(ml,gl))j!==tl&&Bn++;else{if(nt===Pe?ul=Y:ul=ml+(j-Pe)*(gl-ml)/(nt-Pe),Y===ul)return!(jt===1&&O);Y<=ul&&j!==tl&&Bn++}return Bn%2===1}var $=!0,q=R[0];for(W=1;W<R.length;W++)if(q[0]!==R[W][0]||q[1]!==R[W][1]){$=!1;break}return{xmin:F,xmax:I,ymin:B,ymax:x,pts:R,contains:z?Q:Z,isRect:z,degenerate:$}},C.isSegmentBent=function(P,R,F,I){var B=P[R],x=[P[F][0]-B[0],P[F][1]-B[1]],W=A(x,x),z=Math.sqrt(W),U=[-x[1]/z,x[0]/z],Q,Z,$;for(Q=R+1;Q<F;Q++)if(Z=[P[Q][0]-B[0],P[Q][1]-B[1]],$=A(Z,x),$<0||$>W||Math.abs(A(Z,U))>I)return!0;return!1},C.filter=function(P,R){var F=[P[0]],I=0,B=0;function x(z){P.push(z);var U=F.length,Q=I;F.splice(B+1);for(var Z=Q+1;Z<P.length;Z++)(Z===P.length-1||C.isSegmentBent(P,Q,Z+1,R))&&(F.push(P[Z]),F.length<U-2&&(I=Z,B=F.length-1),Q=Z)}if(P.length>1){var W=P.pop();x(W)}return{addPt:x,raw:P,filtered:F}}}),M0=o((rl,In)=>{In.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}}),J0=o((rl,In)=>{var A=Ip(),v=xg(),C=Ep(),P=dh().dashStyle,R=Bd(),F=c0(),I=Ld().makeEventData,B=Xp(),x=B.freeMode,W=B.rectMode,z=B.drawMode,U=B.openMode,Q=B.selectMode,Z=Ln(),$=A0(),q=hl(),J=Rp().clearOutline,O=V0(),j=O.handleEllipse,Y=O.readPaths,se=Qp().newShapes,nt=j0(),gl=Yg().activateLastSelection,Bn=ls(),jt=Bn.sorterAsc,Pe=z0(),ml=Tg(),tl=Nh().getFromId,ul=y0(),il=Yf().redrawReglTraces,sl=M0(),vl=sl.MINSELECT,yl=Pe.filter,Fn=Pe.tester,xl=w0(),wl=xl.p2r,kl=xl.axValue,Dl=xl.getTransform;function Ol(Pu){return Pu.subplot!==void 0}function gu(Pu,sd,_l,Ul,Jl){var Hu=!Ol(Ul),Ku=x(Jl),fd=W(Jl),bd=U(Jl),Nd=z(Jl),Fd=Q(Jl),zd=Jl==="drawline",lh=Jl==="drawcircle",hh=zd||lh,gh=Ul.gd,Zh=gh._fullLayout,yf=Fd&&Zh.newselection.mode==="immediate"&&Hu,Pf=Zh._zoomlayer,jf=Ul.element.getBoundingClientRect(),tp=Ul.plotinfo,Tf=Dl(tp),$h=sd-jf.left,Gf=_l-jf.top;Zh._calcInverseTransform(gh);var of=Bn.apply3DTransform(Zh._invTransform)($h,Gf);$h=of[0],Gf=of[1];var Lf=Zh._invScaleX,Df=Zh._invScaleY,If=$h,Ff=Gf,bp="M"+$h+","+Gf,Op=Ul.xaxes[0],Wf=Ul.yaxes[0],zp=Op._length,qp=Wf._length,p0=Pu.altKey&&!(z(Jl)&&bd),m0,Ap,Hp,Tp,bf,N0,Fl;bl(Pu,gh,Ul),Ku&&(m0=yl([[$h,Gf]],sl.BENDPX));var Sl=Pf.selectAll("path.select-outline-"+tp.id).data([1]),od=Nd?Zh.newshape:Zh.newselection;Nd&&(Ul.hasText=od.label.text||od.label.texttemplate);var dd=Nd&&!bd?od.fillcolor:"rgba(0,0,0,0)",_d=od.line.color||(Hu?R.contrast(gh._fullLayout.plot_bgcolor):"#7f7f7f");Sl.enter().append("path").attr("class","select-outline select-outline-"+tp.id).style({opacity:Nd?od.opacity/2:1,"stroke-dasharray":P(od.line.dash,od.line.width),"stroke-width":od.line.width+"px","shape-rendering":"crispEdges"}).call(R.stroke,_d).call(R.fill,dd).attr("fill-rule","evenodd").classed("cursor-move",!!Nd).attr("transform",Tf).attr("d",bp+"Z");var nd=Pf.append("path").attr("class","zoombox-corners").style({fill:R.background,stroke:R.defaultLine,"stroke-width":1}).attr("transform",Tf).attr("d","M0,0Z");if(Nd&&Ul.hasText){var ud=Pf.select(".label-temp");ud.empty()&&(ud=Pf.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var Td=Zh._uid+sl.SELECTID,wd=[],Kd=ol(gh,Ul.xaxes,Ul.yaxes,Ul.subplot);yf&&!Pu.shiftKey&&(Ul._clearSubplotSelections=function(){if(Hu){var Mh=Op._id,hf=Wf._id;Pd(gh,Mh,hf,Kd);for(var Kh=(gh.layout||{}).selections||[],wf=[],ef=!1,Sf=0;Sf<Kh.length;Sf++){var zf=Zh.selections[Sf];!zf||zf.xref!==Mh||zf.yref!==hf?wf.push(Kh[Sf]):ef=!0}ef&&(gh._fullLayout._noEmitSelectedAtStart=!0,C.call("_guiRelayout",gh,{selections:wf}))}});var Qd=Ph(Ul);Ul.moveFn=function(Mh,hf){Ul._clearSubplotSelections&&(Ul._clearSubplotSelections(),Ul._clearSubplotSelections=void 0),If=Math.max(0,Math.min(zp,Lf*Mh+$h)),Ff=Math.max(0,Math.min(qp,Df*hf+Gf));var Kh=Math.abs(If-$h),wf=Math.abs(Ff-Gf);if(fd){var ef,Sf,zf;if(Fd){var t0=Zh.selectdirection;switch(t0==="any"?wf<Math.min(Kh*.6,vl)?ef="h":Kh<Math.min(wf*.6,vl)?ef="v":ef="d":ef=t0,ef){case"h":Sf=lh?qp/2:0,zf=qp;break;case"v":Sf=lh?zp/2:0,zf=zp;break}}if(Nd)switch(Zh.newshape.drawdirection){case"vertical":ef="h",Sf=lh?qp/2:0,zf=qp;break;case"horizontal":ef="v",Sf=lh?zp/2:0,zf=zp;break;case"ortho":Kh<wf?(ef="h",Sf=Gf,zf=Ff):(ef="v",Sf=$h,zf=If);break;default:ef="d"}ef==="h"?(Tp=hh?j(lh,[If,Sf],[If,zf]):[[$h,Sf],[$h,zf],[If,zf],[If,Sf]],Tp.xmin=hh?If:Math.min($h,If),Tp.xmax=hh?If:Math.max($h,If),Tp.ymin=Math.min(Sf,zf),Tp.ymax=Math.max(Sf,zf),nd.attr("d","M"+Tp.xmin+","+(Gf-vl)+"h-4v"+2*vl+"h4ZM"+(Tp.xmax-1)+","+(Gf-vl)+"h4v"+2*vl+"h-4Z")):ef==="v"?(Tp=hh?j(lh,[Sf,Ff],[zf,Ff]):[[Sf,Gf],[Sf,Ff],[zf,Ff],[zf,Gf]],Tp.xmin=Math.min(Sf,zf),Tp.xmax=Math.max(Sf,zf),Tp.ymin=hh?Ff:Math.min(Gf,Ff),Tp.ymax=hh?Ff:Math.max(Gf,Ff),nd.attr("d","M"+($h-vl)+","+Tp.ymin+"v-4h"+2*vl+"v4ZM"+($h-vl)+","+(Tp.ymax-1)+"v4h"+2*vl+"v-4Z")):ef==="d"&&(Tp=hh?j(lh,[$h,Gf],[If,Ff]):[[$h,Gf],[$h,Ff],[If,Ff],[If,Gf]],Tp.xmin=Math.min($h,If),Tp.xmax=Math.max($h,If),Tp.ymin=Math.min(Gf,Ff),Tp.ymax=Math.max(Gf,Ff),nd.attr("d","M0,0Z"))}else Ku&&(m0.addPt([If,Ff]),Tp=m0.filtered);if(Ul.selectionDefs&&Ul.selectionDefs.length?(Hp=Rd(Ul.mergedPolygons,Tp,p0),Tp.subtract=p0,Ap=it(Ul.selectionDefs.concat([Tp]))):(Hp=[Tp],Ap=Fn(Tp)),q(_u(Hp,bd),Sl,Ul),Fd){var ap=Gl(gh,!1),B0=ap.eventData?ap.eventData.points.slice():[];ap=Gl(gh,!1,Ap,Kd,Ul),Ap=ap.selectionTesters,Fl=ap.eventData;var Lp;m0?Lp=m0.filtered:Lp=ah(Hp),ml.throttle(Td,sl.SELECTDELAY,function(){wd=Nu(Ap,Kd);for(var q0=wd.slice(),F0=0;F0<B0.length;F0++){for(var kg=B0[F0],H0=!1,Vp=0;Vp<q0.length;Vp++)if(q0[Vp].curveNumber===kg.curveNumber&&q0[Vp].pointNumber===kg.pointNumber){H0=!0;break}H0||q0.push(kg)}q0.length&&(Fl||(Fl={}),Fl.points=q0),Qd(Fl,Lp),jh(gh,Fl)})}},Ul.clickFn=function(Mh,hf){if(nd.remove(),gh._fullLayout._activeShapeIndex>=0){gh._fullLayout._deactivateShape(gh);return}if(!Nd){var Kh=Zh.clickmode;ml.done(Td).then(function(){if(ml.clear(Td),Mh===2){for(Sl.remove(),bf=0;bf<Kd.length;bf++)N0=Kd[bf],N0._module.selectPoints(N0,!1);if(yd(gh,Kd),ve(Ul),Xh(gh),Kd.length){var wf=Kd[0].xaxis,ef=Kd[0].yaxis;if(wf&&ef){for(var Sf=[],zf=gh._fullLayout.selections,t0=0;t0<zf.length;t0++){var ap=zf[t0];ap&&(ap.xref!==wf._id||ap.yref!==ef._id)&&Sf.push(ap)}Sf.length<zf.length&&(gh._fullLayout._noEmitSelectedAtStart=!0,C.call("_guiRelayout",gh,{selections:Sf}))}}}else Kh.indexOf("select")>-1&&yu(hf,gh,Ul.xaxes,Ul.yaxes,Ul.subplot,Ul,Sl),Kh==="event"&&Th(gh,void 0);F.click(gh,hf,tp.id)}).catch(Bn.error)}},Ul.doneFn=function(){nd.remove(),ml.done(Td).then(function(){ml.clear(Td),!yf&&Tp&&Ul.selectionDefs&&(Tp.subtract=p0,Ul.selectionDefs.push(Tp),Ul.mergedPolygons.length=0,[].push.apply(Ul.mergedPolygons,Hp)),(yf||Nd)&&ve(Ul,yf),Ul.doneFnCompleted&&Ul.doneFnCompleted(wd),Fd&&Th(gh,Fl)}).catch(Bn.error)}}function yu(Pu,sd,_l,Ul,Jl,Hu,Ku){var fd=sd._hoverdata,bd=sd._fullLayout,Nd=bd.clickmode,Fd=Nd.indexOf("event")>-1,zd=[],lh,hh,gh,Zh,yf,Pf,jf,tp,Tf,$h;if(Il(fd)){bl(Pu,sd,Hu),lh=ol(sd,_l,Ul,Jl);var Gf=ql(fd,lh),of=Gf.pointNumbers.length>0;if(of?Bu(lh,Gf):Ju(lh)&&(jf=Zl(Gf))){for(Ku&&Ku.remove(),$h=0;$h<lh.length;$h++)hh=lh[$h],hh._module.selectPoints(hh,!1);yd(sd,lh),ve(Hu),Fd&&Xh(sd)}else{tp=Pu.shiftKey&&(jf!==void 0?jf:Zl(Gf)),gh=Iu(Gf.pointNumber,Gf.searchInfo,tp);var Lf=Hu.selectionDefs.concat([gh]);for(Zh=it(Lf),$h=0;$h<lh.length;$h++)if(yf=lh[$h]._module.selectPoints(lh[$h],Zh),Pf=Ed(yf,lh[$h]),zd.length)for(var Df=0;Df<Pf.length;Df++)zd.push(Pf[Df]);else zd=Pf;if(Tf={points:zd},yd(sd,lh,Tf),gh&&Hu&&Hu.selectionDefs.push(gh),Ku){var If=Hu.mergedPolygons,Ff=U(Hu.dragmode);q(_u(If,Ff),Ku,Hu)}Fd&&Th(sd,Tf)}}}function Iu(Pu,sd,_l){return{pointNumber:Pu,searchInfo:sd,subtract:!!_l}}function cl(Pu){return"pointNumber"in Pu&&"searchInfo"in Pu}function pl(Pu){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(sd,_l,Ul,Jl){var Hu=Pu.searchInfo.cd[0].trace.index,Ku=Jl.cd[0].trace.index;return Ku===Hu&&Ul===Pu.pointNumber},isRect:!1,degenerate:!1,subtract:!!Pu.subtract}}function it(Pu){if(!Pu.length)return;for(var sd=[],_l=cl(Pu[0])?0:Pu[0][0][0],Ul=_l,Jl=cl(Pu[0])?0:Pu[0][0][1],Hu=Jl,Ku=0;Ku<Pu.length;Ku++)if(cl(Pu[Ku]))sd.push(pl(Pu[Ku]));else{var fd=Fn(Pu[Ku]);fd.subtract=!!Pu[Ku].subtract,sd.push(fd),_l=Math.min(_l,fd.xmin),Ul=Math.max(Ul,fd.xmax),Jl=Math.min(Jl,fd.ymin),Hu=Math.max(Hu,fd.ymax)}function bd(Nd,Fd,zd,lh){for(var hh=!1,gh=0;gh<sd.length;gh++)sd[gh].contains(Nd,Fd,zd,lh)&&(hh=!sd[gh].subtract);return hh}return{xmin:_l,xmax:Ul,ymin:Jl,ymax:Hu,pts:[],contains:bd,isRect:!1,degenerate:!1}}function bl(Pu,sd,_l){var Ul=sd._fullLayout,Jl=_l.plotinfo,Hu=_l.dragmode,Ku=Ul._lastSelectedSubplot&&Ul._lastSelectedSubplot===Jl.id,fd=(Pu.shiftKey||Pu.altKey)&&!(z(Hu)&&U(Hu));Ku&&fd&&Jl.selection&&Jl.selection.selectionDefs&&!_l.selectionDefs?(_l.selectionDefs=Jl.selection.selectionDefs,_l.mergedPolygons=Jl.selection.mergedPolygons):(!fd||!Jl.selection)&&ve(_l),Ku||(J(sd),Ul._lastSelectedSubplot=Jl.id)}function Ll(Pu){return Pu._fullLayout._activeShapeIndex>=0}function nl(Pu){return Pu._fullLayout._activeSelectionIndex>=0}function ve(Pu,sd){var _l=Pu.dragmode,Ul=Pu.plotinfo,Jl=Pu.gd;Ll(Jl)&&Jl._fullLayout._deactivateShape(Jl),nl(Jl)&&Jl._fullLayout._deactivateSelection(Jl);var Hu=Jl._fullLayout,Ku=Hu._zoomlayer,fd=z(_l),bd=Q(_l);if(fd||bd){var Nd=Ku.selectAll(".select-outline-"+Ul.id);if(Nd&&Jl._fullLayout._outlining){var Fd;fd&&(Fd=se(Nd,Pu)),Fd&&C.call("_guiRelayout",Jl,{shapes:Fd});var zd;bd&&!Ol(Pu)&&(zd=nt(Nd,Pu)),zd&&(Jl._fullLayout._noEmitSelectedAtStart=!0,C.call("_guiRelayout",Jl,{selections:zd}).then(function(){sd&&gl(Jl)})),Jl._fullLayout._outlining=!1}}Ul.selection={},Ul.selection.selectionDefs=Pu.selectionDefs=[],Ul.selection.mergedPolygons=Pu.mergedPolygons=[]}function _t(Pu){return Pu._id}function ol(Pu,sd,_l,Ul){if(!Pu.calcdata)return[];var Jl=[],Hu=sd.map(_t),Ku=_l.map(_t),fd,bd,Nd;for(Nd=0;Nd<Pu.calcdata.length;Nd++)if(fd=Pu.calcdata[Nd],bd=fd[0].trace,!(bd.visible!==!0||!bd._module||!bd._module.selectPoints))if(Ol({subplot:Ul})&&(bd.subplot===Ul||bd.geo===Ul))Jl.push(dl(bd._module,fd,sd[0],_l[0]));else if(bd.type==="splom"){if(bd._xaxes[Hu[0]]&&bd._yaxes[Ku[0]]){var Fd=dl(bd._module,fd,sd[0],_l[0]);Fd.scene=Pu._fullLayout._splomScenes[bd.uid],Jl.push(Fd)}}else if(bd.type==="sankey"){var zd=dl(bd._module,fd,sd[0],_l[0]);Jl.push(zd)}else{if(Hu.indexOf(bd.xaxis)===-1&&(!bd._xA||!bd._xA.overlaying)||Ku.indexOf(bd.yaxis)===-1&&(!bd._yA||!bd._yA.overlaying))continue;Jl.push(dl(bd._module,fd,tl(Pu,bd.xaxis),tl(Pu,bd.yaxis)))}return Jl}function dl(Pu,sd,_l,Ul){return{_module:Pu,cd:sd,xaxis:_l,yaxis:Ul}}function Il(Pu){return Pu&&Array.isArray(Pu)&&Pu[0].hoverOnBox!==!0}function ql(Pu,sd){var _l=Pu[0],Ul=-1,Jl=[],Hu,Ku;for(Ku=0;Ku<sd.length;Ku++)if(Hu=sd[Ku],_l.fullData.index===Hu.cd[0].trace.index){if(_l.hoverOnBox===!0)break;_l.pointNumber!==void 0?Ul=_l.pointNumber:_l.binNumber!==void 0&&(Ul=_l.binNumber,Jl=_l.pointNumbers);break}return{pointNumber:Ul,pointNumbers:Jl,searchInfo:Hu}}function Zl(Pu){var sd=Pu.searchInfo.cd[0].trace,_l=Pu.pointNumber,Ul=Pu.pointNumbers,Jl=Ul.length>0,Hu=Jl?Ul[0]:_l;return sd.selectedpoints?sd.selectedpoints.indexOf(Hu)>-1:!1}function Bu(Pu,sd){var _l=[],Ul,Jl,Hu,Ku;for(Ku=0;Ku<Pu.length;Ku++)Ul=Pu[Ku],Ul.cd[0].trace.selectedpoints&&Ul.cd[0].trace.selectedpoints.length>0&&_l.push(Ul);if(_l.length===1&&(Hu=_l[0]===sd.searchInfo,Hu&&(Jl=sd.searchInfo.cd[0].trace,Jl.selectedpoints.length===sd.pointNumbers.length))){for(Ku=0;Ku<sd.pointNumbers.length;Ku++)if(Jl.selectedpoints.indexOf(sd.pointNumbers[Ku])<0)return!1;return!0}return!1}function Ju(Pu){var sd=0,_l,Ul,Jl;for(Jl=0;Jl<Pu.length;Jl++)if(_l=Pu[Jl],Ul=_l.cd[0].trace,Ul.selectedpoints&&(Ul.selectedpoints.length>1||(sd+=Ul.selectedpoints.length,sd>1)))return!1;return sd===1}function yd(Pu,sd,_l){var Ul;for(Ul=0;Ul<sd.length;Ul++){var Jl=sd[Ul].cd[0].trace._fullInput,Hu=Pu._fullLayout._tracePreGUI[Jl.uid]||{};Hu.selectedpoints===void 0&&(Hu.selectedpoints=Jl._input.selectedpoints||null)}var Ku;if(_l){var fd=_l.points||[];for(Ul=0;Ul<sd.length;Ul++)Ku=sd[Ul].cd[0].trace,Ku._input.selectedpoints=Ku._fullInput.selectedpoints=[],Ku._fullInput!==Ku&&(Ku.selectedpoints=[]);for(var bd=0;bd<fd.length;bd++){var Nd=fd[bd],Fd=Nd.data,zd=Nd.fullData,lh=Nd.pointIndex,hh=Nd.pointIndices;hh?([].push.apply(Fd.selectedpoints,hh),Ku._fullInput!==Ku&&[].push.apply(zd.selectedpoints,hh)):(Fd.selectedpoints.push(lh),Ku._fullInput!==Ku&&zd.selectedpoints.push(lh))}}else for(Ul=0;Ul<sd.length;Ul++)Ku=sd[Ul].cd[0].trace,delete Ku.selectedpoints,delete Ku._input.selectedpoints,Ku._fullInput!==Ku&&delete Ku._fullInput.selectedpoints;Hd(Pu,sd)}function Hd(Pu,sd){for(var _l=!1,Ul=0;Ul<sd.length;Ul++){var Jl=sd[Ul],Hu=Jl.cd;C.traceIs(Hu[0].trace,"regl")&&(_l=!0);var Ku=Jl._module,fd=Ku.styleOnSelect||Ku.style;fd&&(fd(Pu,Hu,Hu[0].node3),Hu[0].nodeRangePlot3&&fd(Pu,Hu,Hu[0].nodeRangePlot3))}_l&&(ul(Pu),il(Pu))}function Rd(Pu,sd,_l){for(var Ul=_l?A.difference:A.union,Jl=Ul({regions:Pu},{regions:[sd]}),Hu=Jl.regions.reverse(),Ku=0;Ku<Hu.length;Ku++){var fd=Hu[Ku];fd.subtract=th(fd,Hu.slice(0,Ku))}return Hu}function Ed(Pu,sd){if(Array.isArray(Pu))for(var _l=sd.cd,Ul=sd.cd[0].trace,Jl=0;Jl<Pu.length;Jl++)Pu[Jl]=I(Pu[Jl],Ul,_l);return Pu}function _u(Pu,sd){for(var _l=[],Ul=0;Ul<Pu.length;Ul++){_l[Ul]=[];for(var Jl=0;Jl<Pu[Ul].length;Jl++){_l[Ul][Jl]=[],_l[Ul][Jl][0]=Jl?"L":"M";for(var Hu=0;Hu<Pu[Ul][Jl].length;Hu++)_l[Ul][Jl].push(Pu[Ul][Jl][Hu])}sd||_l[Ul].push(["Z",_l[Ul][0][1],_l[Ul][0][2]])}return _l}function Nu(Pu,sd){for(var _l=[],Ul,Jl=[],Hu,Ku=0;Ku<sd.length;Ku++){var fd=sd[Ku];Hu=fd._module.selectPoints(fd,Pu),Jl.push(Hu),Ul=Ed(Hu,fd),_l=_l.concat(Ul)}return _l}function Gl(Pu,sd,_l,Ul,Jl){var Hu=!!Ul,Ku,fd,bd;Jl&&(Ku=Jl.plotinfo,fd=Jl.xaxes[0]._id,bd=Jl.yaxes[0]._id);var Nd=[],Fd=[],zd=$d(Pu),lh=Pu._fullLayout;if(Ku){var hh=lh._zoomlayer,gh=lh.dragmode,Zh=z(gh),yf=Q(gh);if(Zh||yf){var Pf=tl(Pu,fd,"x"),jf=tl(Pu,bd,"y");if(Pf&&jf){var tp=hh.selectAll(".select-outline-"+Ku.id);if(tp&&Pu._fullLayout._outlining&&tp.length){for(var Tf=tp[0][0],$h=Tf.getAttribute("d"),Gf=Y($h,Pu,Ku),of=[],Lf=0;Lf<Gf.length;Lf++){for(var Df=Gf[Lf],If=[],Ff=0;Ff<Df.length;Ff++)If.push([sh(Pf,Df[Ff][1]),sh(jf,Df[Ff][2])]);If.xref=fd,If.yref=bd,If.subtract=th(If,of),of.push(If)}zd=zd.concat(of)}}}}var bp=fd&&bd?[fd+bd]:lh._subplots.cartesian;rd(Pu);for(var Op={},Wf=0;Wf<bp.length;Wf++){var zp=bp[Wf],qp=zp.indexOf("y"),p0=zp.slice(0,qp),m0=zp.slice(qp),Ap=fd&&bd?_l:void 0;if(Ap=Ud(zd,p0,m0,Ap),Ap){var Hp=Ul;if(!Hu){var Tp=tl(Pu,p0,"x"),bf=tl(Pu,m0,"y");Hp=ol(Pu,[Tp],[bf],zp);for(var N0=0;N0<Hp.length;N0++){var Fl=Hp[N0],Sl=Fl.cd[0],od=Sl.trace;if(Fl._module.name==="scattergl"&&!Sl.t.xpx){var dd=od.x,_d=od.y,nd=od._length;Sl.t.xpx=[],Sl.t.ypx=[];for(var ud=0;ud<nd;ud++)Sl.t.xpx[ud]=Tp.c2p(dd[ud]),Sl.t.ypx[ud]=bf.c2p(_d[ud])}Fl._module.name==="splom"&&(Op[od.uid]||(Op[od.uid]=!0))}}var Td=Nu(Ap,Hp);Nd=Nd.concat(Td),Fd=Fd.concat(Hp)}}var wd={points:Nd};yd(Pu,Fd,wd);var Kd=lh.clickmode,Qd=Kd.indexOf("event")>-1&&sd;if(!Ku&&sd){var Mh=$d(Pu,!0);if(Mh.length){var hf=Mh[0].xref,Kh=Mh[0].yref;if(hf&&Kh){var wf=ah(Mh),ef=Yd([tl(Pu,hf,"x"),tl(Pu,Kh,"y")]);ef(wd,wf)}}Pu._fullLayout._noEmitSelectedAtStart?Pu._fullLayout._noEmitSelectedAtStart=!1:Qd&&Th(Pu,wd),lh._reselect=!1}if(!Ku&&lh._deselect){var Sf=lh._deselect;fd=Sf.xref,bd=Sf.yref,Sd(fd,bd,Fd)||Pd(Pu,fd,bd,Ul),Qd&&(wd.points.length?Th(Pu,wd):Xh(Pu)),lh._deselect=!1}return{eventData:wd,selectionTesters:_l}}function rd(Pu){var sd=Pu.calcdata;if(sd)for(var _l=0;_l<sd.length;_l++){var Ul=sd[_l][0],Jl=Ul.trace,Hu=Pu._fullLayout._splomScenes;if(Hu){var Ku=Hu[Jl.uid];Ku&&(Ku.selectBatch=[])}}}function Sd(Pu,sd,_l){for(var Ul=0;Ul<_l.length;Ul++){var Jl=_l[Ul];if(Jl.xaxis&&Jl.xaxis._id===Pu&&Jl.yaxis&&Jl.yaxis._id===sd)return!0}return!1}function Pd(Pu,sd,_l,Ul){Ul=ol(Pu,[tl(Pu,sd,"x")],[tl(Pu,_l,"y")],sd+_l);for(var Jl=0;Jl<Ul.length;Jl++){var Hu=Ul[Jl];Hu._module.selectPoints(Hu,!1)}yd(Pu,Ul)}function Ud(Pu,sd,_l,Ul){for(var Jl,Hu=0;Hu<Pu.length;Hu++){var Ku=Pu[Hu];if(!(sd!==Ku.xref||_l!==Ku.yref))if(Jl){var fd=!!Ku.subtract;Jl=Rd(Jl,Ku,fd),Ul=it(Jl)}else Jl=[Ku],Ul=Fn(Ku)}return Ul}function $d(Pu,sd){for(var _l=[],Ul=Pu._fullLayout,Jl=Ul.selections,Hu=Jl.length,Ku=0;Ku<Hu;Ku++)if(!(sd&&Ku!==Ul._activeSelectionIndex)){var fd=Jl[Ku];if(fd){var bd=fd.xref,Nd=fd.yref,Fd=tl(Pu,bd,"x"),zd=tl(Pu,Nd,"y"),lh,hh,gh,Zh,yf;if(fd.type==="rect"){yf=[];var Pf=sh(Fd,fd.x0),jf=sh(Fd,fd.x1),tp=sh(zd,fd.y0),Tf=sh(zd,fd.y1);yf=[[Pf,tp],[Pf,Tf],[jf,Tf],[jf,tp]],lh=Math.min(Pf,jf),hh=Math.max(Pf,jf),gh=Math.min(tp,Tf),Zh=Math.max(tp,Tf),yf.xmin=lh,yf.xmax=hh,yf.ymin=gh,yf.ymax=Zh,yf.xref=bd,yf.yref=Nd,yf.subtract=!1,yf.isRect=!0,_l.push(yf)}else if(fd.type==="path")for(var $h=fd.path.split("Z"),Gf=[],of=0;of<$h.length;of++){var Lf=$h[of];if(Lf){Lf+="Z";var Df=Z.extractPathCoords(Lf,$.paramIsX,"raw"),If=Z.extractPathCoords(Lf,$.paramIsY,"raw");lh=1/0,hh=-1/0,gh=1/0,Zh=-1/0,yf=[];for(var Ff=0;Ff<Df.length;Ff++){var bp=sh(Fd,Df[Ff]),Op=sh(zd,If[Ff]);yf.push([bp,Op]),lh=Math.min(bp,lh),hh=Math.max(bp,hh),gh=Math.min(Op,gh),Zh=Math.max(Op,Zh)}yf.xmin=lh,yf.xmax=hh,yf.ymin=gh,yf.ymax=Zh,yf.xref=bd,yf.yref=Nd,yf.subtract=th(yf,Gf),Gf.push(yf),_l.push(yf)}}}}return _l}function th(Pu,sd){for(var _l=!1,Ul=0;Ul<sd.length;Ul++)for(var Jl=sd[Ul],Hu=0;Hu<Pu.length;Hu++)if(v(Pu[Hu],Jl)){_l=!_l;break}return _l}function sh(Pu,sd){return Pu.type==="date"&&(sd=sd.replace("_"," ")),Pu.type==="log"?Pu.c2p(sd):Pu.r2p(sd,null,Pu.calendar)}function ah(Pu){for(var sd=Pu.length,_l=[],Ul=0;Ul<sd;Ul++){var Jl=Pu[Ul];_l=_l.concat(Jl),_l=_l.concat([Jl[0]])}return Ah(_l)}function Ah(Pu){return Pu.isRect=Pu.length===5&&Pu[0][0]===Pu[4][0]&&Pu[0][1]===Pu[4][1]&&Pu[0][0]===Pu[1][0]&&Pu[2][0]===Pu[3][0]&&Pu[0][1]===Pu[3][1]&&Pu[1][1]===Pu[2][1]||Pu[0][1]===Pu[1][1]&&Pu[2][1]===Pu[3][1]&&Pu[0][0]===Pu[3][0]&&Pu[1][0]===Pu[2][0],Pu.isRect&&(Pu.xmin=Math.min(Pu[0][0],Pu[2][0]),Pu.xmax=Math.max(Pu[0][0],Pu[2][0]),Pu.ymin=Math.min(Pu[0][1],Pu[2][1]),Pu.ymax=Math.max(Pu[0][1],Pu[2][1])),Pu}function Yd(Pu){return function(sd,_l){for(var Ul,Jl,Hu=0;Hu<Pu.length;Hu++){var Ku=Pu[Hu],fd=Ku._id,bd=fd.charAt(0);if(_l.isRect){Ul||(Ul={});var Nd=_l[bd+"min"],Fd=_l[bd+"max"];Nd!==void 0&&Fd!==void 0&&(Ul[fd]=[wl(Ku,Nd),wl(Ku,Fd)].sort(jt))}else Jl||(Jl={}),Jl[fd]=_l.map(kl(Ku))}Ul&&(sd.range=Ul),Jl&&(sd.lassoPoints=Jl)}}function Ph(Pu){var sd=Pu.plotinfo;return sd.fillRangeItems||Yd(Pu.xaxes.concat(Pu.yaxes))}function jh(Pu,sd){Pu.emit("plotly_selecting",sd)}function Th(Pu,sd){sd&&(sd.selections=(Pu.layout||{}).selections||[]),Pu.emit("plotly_selected",sd)}function Xh(Pu){Pu.emit("plotly_deselect",null)}In.exports={reselect:Gl,prepSelect:gu,clearOutline:J,clearSelectionsCache:ve,selectOnClick:yu}}),Em=o((rl,In)=>{In.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]}),f1=o((rl,In)=>{In.exports={axisRefDescription:function(A,v,C){return["If set to a",A,"axis id (e.g. *"+A+"* or","*"+A+"2*), the `"+A+"` position refers to a",A,"coordinate. If set to *paper*, the `"+A+"`","position refers to the distance from the",v,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",v,"("+C+"). If set to a",A,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",v,"of the domain of that axis: e.g.,","*"+A+"2 domain* refers to the domain of the second",A," axis and a",A,"position of 0.5 refers to the","point between the",v,"and the",C,"of the domain of the","second",A,"axis."].join(" ")}}}),Pg=o((rl,In)=>{var A=Em(),v=vu(),C=vp(),P=Zf().templatedArray;f1(),In.exports=P("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:v({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:A.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:A.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",C.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",C.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",C.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",C.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:v({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc"})}),D1=o((rl,In)=>{In.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}}),p1=o((rl,In)=>{In.exports=function(A){return{valType:"color",editType:"style",anim:!0}}}),Km=o((rl,In)=>{var A=Ng().axisHoverFormat,v=tg().texttemplateAttrs,C=tg().hovertemplateAttrs,P=V(),R=vu(),F=jp().dash,I=jp().pattern,B=dh(),x=D1(),W=Al().extendFlat,z=p1();function U($){return{valType:"any",dflt:0,editType:"calc"}}function Q($){return{valType:"any",editType:"calc"}}function Z($){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"}}In.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:U(),yperiod:U(),xperiod0:Q(),yperiod0:Q(),xperiodalignment:Z(),yperiodalignment:Z(),xhoverformat:A("x"),yhoverformat:A("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:v({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:C({},{keys:x.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:W({},F,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:z(!0),fillgradient:W({type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],dflt:"none",editType:"calc"},start:{valType:"number",editType:"calc"},stop:{valType:"number",editType:"calc"},colorscale:{valType:"colorscale",editType:"style"},editType:"calc"}),fillpattern:I,marker:W({symbol:{valType:"enumerated",values:B.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:W({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},P("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},P("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:R({editType:"calc",colorEditType:"style",arrayOk:!0}),zorder:{valType:"integer",dflt:0,editType:"plot"}}}),g1=o((rl,In)=>{var A=Pg(),v=Km().line,C=jp().dash,P=Al().extendFlat,R=sp().overrideAll,F=Zf().templatedArray;f1(),In.exports=R(F("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:P({},A.xref,{}),yref:P({},A.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:v.color,width:P({},v.width,{min:1,dflt:1}),dash:P({},C,{dflt:"dot"})}}),"arraydraw","from-root")}),jy=o((rl,In)=>{var A=ls(),v=ih(),C=Ml(),P=g1(),R=Ln();In.exports=function(I,B){C(I,B,{name:"selections",handleItemDefaults:F});for(var x=B.selections,W=0;W<x.length;W++){var z=x[W];z&&z.path===void 0&&(z.x0===void 0||z.x1===void 0||z.y0===void 0||z.y1===void 0)&&(B.selections[W]=null)}};function F(I,B,x){function W(ul,il){return A.coerce(I,B,P,ul,il)}var z=W("path"),U=z?"path":"rect",Q=W("type",U),Z=Q!=="path";Z&&delete B.path,W("opacity"),W("line.color"),W("line.width"),W("line.dash");for(var $=["x","y"],q=0;q<2;q++){var J=$[q],O={_fullLayout:x},j,Y,se,nt=v.coerceRef(I,B,O,J);if(j=v.getFromId(O,nt),j._selectionIndices.push(B._index),se=R.rangeToShapePosition(j),Y=R.shapePositionToRange(j),Z){var gl=J+"0",Bn=J+"1",jt=I[gl],Pe=I[Bn];I[gl]=Y(I[gl],!0),I[Bn]=Y(I[Bn],!0),v.coercePosition(B,O,W,nt,gl),v.coercePosition(B,O,W,nt,Bn);var ml=B[gl],tl=B[Bn];ml!==void 0&&tl!==void 0&&(B[gl]=se(ml),B[Bn]=se(tl),I[gl]=jt,I[Bn]=Pe)}}Z&&A.noneOrAll(I,B,["x0","x1","y0","y1"])}}),$1=o((rl,In)=>{In.exports=function(A,v,C){C("newselection.mode");var P=C("newselection.line.width");P&&(C("newselection.line.color"),C("newselection.line.dash")),C("activeselection.fillcolor"),C("activeselection.opacity")}}),Pv=o((rl,In)=>{var A=Ep(),v=ls(),C=Nh();In.exports=function(P){return function(R,F){var I=R[P];if(Array.isArray(I))for(var B=A.subplotsRegistry.cartesian,x=B.idRegex,W=F._subplots,z=W.xaxis,U=W.yaxis,Q=W.cartesian,Z=F._has("cartesian"),$=0;$<I.length;$++){var q=I[$];if(v.isPlainObject(q)){var J=C.cleanId(q.xref,"x",!1),O=C.cleanId(q.yref,"y",!1),j=x.x.test(J),Y=x.y.test(O);if(j||Y){Z||v.pushUnique(F._basePlotModules,B);var se=!1;j&&z.indexOf(J)===-1&&(z.push(J),se=!0),Y&&U.indexOf(O)===-1&&(U.push(O),se=!0),se&&j&&Y&&Q.push(J+O)}}}}}}),L1=o((rl,In)=>{var A=Yg(),v=J0();In.exports={moduleType:"component",name:"selections",layoutAttributes:g1(),supplyLayoutDefaults:jy(),supplyDrawNewSelectionDefaults:$1(),includeBasePlot:Pv()("selections"),draw:A.draw,drawOne:A.drawOne,reselect:v.reselect,prepSelect:v.prepSelect,clearOutline:v.clearOutline,clearSelectionsCache:v.clearSelectionsCache,selectOnClick:v.selectOnClick}}),Uy=o((rl,In)=>{var A=f(),v=ls(),C=v.numberFormat,P=Kl(),R=Oh(),F=Ep(),I=v.strTranslate,B=ag(),x=Bd(),W=dh(),z=c0(),U=ih(),Q=Cf(),Z=Hh(),$=Xp(),q=$.selectingOrDrawing,J=$.freeMode,O=i0().FROM_TL,j=y0(),Y=Yf().redrawReglTraces,se=Jp(),nt=Nh().getFromId,gl=L1().prepSelect,Bn=L1().clearOutline,jt=L1().selectOnClick,Pe=O0(),ml=vp(),tl=ml.MINDRAG,ul=ml.MINZOOM,il=!0;function sl(dl,Il,ql,Zl,Bu,Ju,yd,Hd){var Rd=dl._fullLayout._zoomlayer,Ed=yd+Hd==="nsew",_u=(yd+Hd).length===1,Nu,Gl,rd,Sd,Pd,Ud,$d,th,sh,ah,Ah,Yd,Ph,jh,Th,Xh,Pu,sd,_l,Ul,Jl,Hu,Ku;ql+=Il.yaxis._shift;function fd(){if(Nu=Il.xaxis,Gl=Il.yaxis,sh=Nu._length,ah=Gl._length,$d=Nu._offset,th=Gl._offset,rd={},rd[Nu._id]=Nu,Sd={},Sd[Gl._id]=Gl,yd&&Hd)for(var Sl=Il.overlays,od=0;od<Sl.length;od++){var dd=Sl[od].xaxis;rd[dd._id]=dd;var _d=Sl[od].yaxis;Sd[_d._id]=_d}Pd=ol(rd),Ud=ol(Sd),Ph=Fn(Pd,Hd),jh=Fn(Ud,yd),Th=!jh&&!Ph,Yd=ve(dl,dl._fullLayout._axisMatchGroups,rd,Sd),Ah=ve(dl,dl._fullLayout._axisConstraintGroups,rd,Sd,Yd);var nd=Ah.isSubplotConstrained||Yd.isSubplotConstrained;Xh=Hd||nd,Pu=yd||nd;var ud=dl._fullLayout;sd=ud._has("scattergl"),_l=ud._has("splom"),Ul=ud._has("svg")}fd();var bd=Ol(jh+Ph,dl._fullLayout.dragmode,Ed),Nd=yl(Il,yd+Hd+"drag",bd,ql,Zl,Bu,Ju);if(Th&&!Ed)return Nd.onmousedown=null,Nd.style.pointerEvents="none",Nd;var Fd={element:Nd,gd:dl,plotinfo:Il};Fd.prepFn=function(Sl,od,dd){var _d=Fd.dragmode,nd=dl._fullLayout.dragmode;nd!==_d&&(Fd.dragmode=nd),fd(),Hu=dl._fullLayout._invScaleX,Ku=dl._fullLayout._invScaleY,Th||(Ed?Sl.shiftKey?nd==="pan"?nd="zoom":q(nd)||(nd="pan"):Sl.ctrlKey&&(nd="pan"):nd="pan"),J(nd)?Fd.minDrag=1:Fd.minDrag=void 0,q(nd)?(Fd.xaxes=Pd,Fd.yaxes=Ud,gl(Sl,od,dd,Fd,nd)):(Fd.clickFn=lh,q(_d)&&zd(),Th||(nd==="zoom"?(Fd.moveFn=Lf,Fd.doneFn=If,Fd.minDrag=1,of(Sl,od,dd)):nd==="pan"&&(Fd.moveFn=qp,Fd.doneFn=Hp))),dl._fullLayout._redrag=function(){var ud=dl._dragdata;if(ud&&ud.element===Nd){var Td=dl._fullLayout.dragmode;q(Td)||(fd(),Tp([0,0,sh,ah]),Fd.moveFn(ud.dx,ud.dy))}}};function zd(){Fd.plotinfo.selection=!1,Bn(dl)}function lh(Sl,od){var dd=Fd.gd;if(dd._fullLayout._activeShapeIndex>=0){dd._fullLayout._deactivateShape(dd);return}var _d=dd._fullLayout.clickmode;if(pl(dd),Sl===2&&!_u&&Ap(),Ed)_d.indexOf("select")>-1&&jt(od,dd,Pd,Ud,Il.id,Fd),_d.indexOf("event")>-1&&z.click(dd,od,Il.id);else if(Sl===1&&_u){var nd=yd?Gl:Nu,ud=yd==="s"||Hd==="w"?0:1,Td=nd._name+".range["+ud+"]",wd=xl(nd,ud),Kd="left",Qd="middle";if(nd.fixedrange)return;yd?(Qd=yd==="n"?"top":"bottom",nd.side==="right"&&(Kd="right")):Hd==="e"&&(Kd="right"),dd._context.showAxisRangeEntryBoxes&&A.select(Nd).call(B.makeEditable,{gd:dd,immediate:!0,background:dd._fullLayout.paper_bgcolor,text:String(wd),fill:nd.tickfont?nd.tickfont.color:"#444",horizontalAlign:Kd,verticalAlign:Qd}).on("edit",function(Mh){var hf=nd.d2r(Mh);hf!==void 0&&F.call("_guiRelayout",dd,Td,hf)})}}Z.init(Fd);var hh,gh,Zh,yf,Pf,jf,tp,Tf,$h,Gf;function of(Sl,od,dd){var _d=Nd.getBoundingClientRect();hh=od-_d.left,gh=dd-_d.top,dl._fullLayout._calcInverseTransform(dl);var nd=v.apply3DTransform(dl._fullLayout._invTransform)(hh,gh);hh=nd[0],gh=nd[1],Zh={l:hh,r:hh,w:0,t:gh,b:gh,h:0},yf=dl._hmpixcount?dl._hmlumcount/dl._hmpixcount:P(dl._fullLayout.plot_bgcolor).getLuminance(),Pf="M0,0H"+sh+"V"+ah+"H0V0",jf=!1,tp="xy",Gf=!1,Tf=gu(Rd,yf,$d,th,Pf),$h=yu(Rd,$d,th)}function Lf(Sl,od){if(dl._transitioningWithDuration)return!1;var dd=Math.max(0,Math.min(sh,Hu*Sl+hh)),_d=Math.max(0,Math.min(ah,Ku*od+gh)),nd=Math.abs(dd-hh),ud=Math.abs(_d-gh);Zh.l=Math.min(hh,dd),Zh.r=Math.max(hh,dd),Zh.t=Math.min(gh,_d),Zh.b=Math.max(gh,_d);function Td(){tp="",Zh.r=Zh.l,Zh.t=Zh.b,$h.attr("d","M0,0Z")}if(Ah.isSubplotConstrained)nd>ul||ud>ul?(tp="xy",nd/sh>ud/ah?(ud=nd*ah/sh,gh>_d?Zh.t=gh-ud:Zh.b=gh+ud):(nd=ud*sh/ah,hh>dd?Zh.l=hh-nd:Zh.r=hh+nd),$h.attr("d",nl(Zh))):Td();else if(Yd.isSubplotConstrained)if(nd>ul||ud>ul){tp="xy";var wd=Math.min(Zh.l/sh,(ah-Zh.b)/ah),Kd=Math.max(Zh.r/sh,(ah-Zh.t)/ah);Zh.l=wd*sh,Zh.r=Kd*sh,Zh.b=(1-wd)*ah,Zh.t=(1-Kd)*ah,$h.attr("d",nl(Zh))}else Td();else!jh||ud<Math.min(Math.max(nd*.6,tl),ul)?nd<tl||!Ph?Td():(Zh.t=0,Zh.b=ah,tp="x",$h.attr("d",bl(Zh,gh))):!Ph||nd<Math.min(ud*.6,ul)?(Zh.l=0,Zh.r=sh,tp="y",$h.attr("d",Ll(Zh,hh))):(tp="xy",$h.attr("d",nl(Zh)));Zh.w=Zh.r-Zh.l,Zh.h=Zh.b-Zh.t,tp&&(Gf=!0),dl._dragged=Gf,Iu(Tf,$h,Zh,Pf,jf,yf),Df(),dl.emit("plotly_relayouting",Jl),jf=!0}function Df(){Jl={},(tp==="xy"||tp==="x")&&(wl(Pd,Zh.l/sh,Zh.r/sh,Jl,Ah.xaxes),p0("x",Jl)),(tp==="xy"||tp==="y")&&(wl(Ud,(ah-Zh.b)/ah,(ah-Zh.t)/ah,Jl,Ah.yaxes),p0("y",Jl))}function If(){Df(),pl(dl),Hp(),it(dl)}var Ff=[0,0,sh,ah],bp=null,Op=ml.REDRAWDELAY,Wf=Il.mainplot?dl._fullLayout._plots[Il.mainplot]:Il;function zp(Sl){if(!dl._context._scrollZoom.cartesian&&!dl._fullLayout._enablescrollzoom)return;if(zd(),dl._transitioningWithDuration){Sl.preventDefault(),Sl.stopPropagation();return}fd(),clearTimeout(bp);var od=-Sl.deltaY;if(isFinite(od)||(od=Sl.wheelDelta/10),!isFinite(od)){v.log("Did not find wheel motion attributes: ",Sl);return}var dd=Math.exp(-Math.min(Math.max(od,-20),20)/200),_d=Wf.draglayer.select(".nsewdrag").node().getBoundingClientRect(),nd=(Sl.clientX-_d.left)/_d.width,ud=(_d.bottom-Sl.clientY)/_d.height,Td;function wd(Kd,Qd,Mh){if(Kd.fixedrange)return;var hf=v.simpleMap(Kd.range,Kd.r2l),Kh=hf[0]+(hf[1]-hf[0])*Qd;function wf(ef){return Kd.l2r(Kh+(ef-Kh)*Mh)}Kd.range=hf.map(wf)}if(Xh){for(Hd||(nd=.5),Td=0;Td<Pd.length;Td++)wd(Pd[Td],nd,dd);p0("x"),Ff[2]*=dd,Ff[0]+=Ff[2]*nd*(1/dd-1)}if(Pu){for(yd||(ud=.5),Td=0;Td<Ud.length;Td++)wd(Ud[Td],ud,dd);p0("y"),Ff[3]*=dd,Ff[1]+=Ff[3]*(1-ud)*(1/dd-1)}Tp(Ff),m0(),dl.emit("plotly_relayouting",Jl),bp=setTimeout(function(){dl._fullLayout&&(Ff=[0,0,sh,ah],Hp())},Op),Sl.preventDefault()}yd.length*Hd.length!==1&&_t(Nd,zp);function qp(Sl,od){if(Sl=Sl*Hu,od=od*Ku,dl._transitioningWithDuration)return;if(dl._fullLayout._replotting=!0,Ph==="ew"||jh==="ns"){var dd=Ph?-Sl:0,_d=jh?-od:0;if(Yd.isSubplotConstrained){if(Ph&&jh){var nd=(Sl/sh-od/ah)/2;Sl=nd*sh,od=-nd*ah,dd=-Sl,_d=-od}jh?dd=-_d*sh/ah:_d=-dd*ah/sh}Ph&&(kl(Pd,Sl),p0("x")),jh&&(kl(Ud,od),p0("y")),Tp([dd,_d,sh,ah]),m0(),dl.emit("plotly_relayouting",Jl);return}function ud(wf,ef,Sf){for(var zf=1-ef,t0,ap,B0=0;B0<wf.length;B0++){var Lp=wf[B0];if(!Lp.fixedrange){t0=Lp,ap=Lp._rl[zf]+(Lp._rl[ef]-Lp._rl[zf])/Dl(Sf/Lp._length);var q0=Lp.l2r(ap);q0!==!1&&q0!==void 0&&(Lp.range[ef]=q0)}}return t0._length*(t0._rl[ef]-ap)/(t0._rl[ef]-t0._rl[zf])}var Td=Ph==="w"==(jh==="n")?1:-1;if(Ph&&jh&&(Ah.isSubplotConstrained||Yd.isSubplotConstrained)){var wd=(Sl/sh+Td*od/ah)/2;Sl=wd*sh,od=Td*wd*ah}var Kd,Qd;if(Ph==="w"?Sl=ud(Pd,0,Sl):Ph==="e"?Sl=ud(Pd,1,-Sl):Ph||(Sl=0),jh==="n"?od=ud(Ud,1,od):jh==="s"?od=ud(Ud,0,-od):jh||(od=0),Kd=Ph==="w"?Sl:0,Qd=jh==="n"?od:0,Ah.isSubplotConstrained&&!Yd.isSubplotConstrained||Yd.isSubplotConstrained&&Ph&&jh&&Td>0){var Mh;if(Yd.isSubplotConstrained||!Ph&&jh.length===1){for(Mh=0;Mh<Pd.length;Mh++)Pd[Mh].range=Pd[Mh]._r.slice(),Pe(Pd[Mh],1-od/ah);Sl=od*sh/ah,Kd=Sl/2}if(Yd.isSubplotConstrained||!jh&&Ph.length===1){for(Mh=0;Mh<Ud.length;Mh++)Ud[Mh].range=Ud[Mh]._r.slice(),Pe(Ud[Mh],1-Sl/sh);od=Sl*ah/sh,Qd=od/2}}(!Yd.isSubplotConstrained||!jh)&&p0("x"),(!Yd.isSubplotConstrained||!Ph)&&p0("y");var hf=sh-Sl,Kh=ah-od;Yd.isSubplotConstrained&&!(Ph&&jh)&&(Ph?(Qd=Kd?0:Sl*ah/sh,Kh=hf*ah/sh):(Kd=Qd?0:od*sh/ah,hf=Kh*sh/ah)),Tp([Kd,Qd,hf,Kh]),m0(),dl.emit("plotly_relayouting",Jl)}function p0(Sl,od){for(var dd=Yd.isSubplotConstrained?{x:Ud,y:Pd}[Sl]:Yd[Sl+"axes"],_d=Yd.isSubplotConstrained?{x:Pd,y:Ud}[Sl]:[],nd=0;nd<dd.length;nd++){var ud=dd[nd],Td=ud._id,wd=Yd.xLinks[Td]||Yd.yLinks[Td],Kd=_d[0]||rd[wd]||Sd[wd];Kd&&(od?(od[ud._name+".range[0]"]=od[Kd._name+".range[0]"],od[ud._name+".range[1]"]=od[Kd._name+".range[1]"]):ud.range=Kd.range.slice())}}function m0(){var Sl=[],od;function dd(Td){for(od=0;od<Td.length;od++)Td[od].fixedrange||Sl.push(Td[od]._id)}function _d(Td,wd){for(od=0;od<Td.length;od++){var Kd=Td[od],Qd=Kd[wd];!Kd.fixedrange&&Qd.tickmode==="sync"&&Sl.push(Qd._id)}}for(Xh&&(dd(Pd),dd(Ah.xaxes),dd(Yd.xaxes),_d(Il.overlays,"xaxis")),Pu&&(dd(Ud),dd(Ah.yaxes),dd(Yd.yaxes),_d(Il.overlays,"yaxis")),Jl={},od=0;od<Sl.length;od++){var nd=Sl[od],ud=nt(dl,nd);U.drawOne(dl,ud,{skipTitle:!0}),Jl[ud._name+".range[0]"]=ud.range[0],Jl[ud._name+".range[1]"]=ud.range[1]}U.redrawComponents(dl,Sl)}function Ap(){if(!dl._transitioningWithDuration){var Sl=dl._context.doubleClick,od=[];Ph&&(od=od.concat(Pd)),jh&&(od=od.concat(Ud)),Yd.xaxes&&(od=od.concat(Yd.xaxes)),Yd.yaxes&&(od=od.concat(Yd.yaxes));var dd={},_d,nd;if(Sl==="reset+autosize")for(Sl="autosize",nd=0;nd<od.length;nd++){_d=od[nd];var ud=_d._rangeInitial0,Td=_d._rangeInitial1,wd=ud!==void 0||Td!==void 0;if(wd&&(ud!==void 0&&ud!==_d.range[0]||Td!==void 0&&Td!==_d.range[1])||!wd&&_d.autorange!==!0){Sl="reset";break}}if(Sl==="autosize")for(nd=0;nd<od.length;nd++)_d=od[nd],_d.fixedrange||(dd[_d._name+".autorange"]=!0);else if(Sl==="reset"){for((Ph||Ah.isSubplotConstrained)&&(od=od.concat(Ah.xaxes)),jh&&!Ah.isSubplotConstrained&&(od=od.concat(Ah.yaxes)),Ah.isSubplotConstrained&&(Ph?jh||(od=od.concat(Ud)):od=od.concat(Pd)),nd=0;nd<od.length;nd++)if(_d=od[nd],!_d.fixedrange){var Kd=_d._name,Qd=_d._autorangeInitial;_d._rangeInitial0===void 0&&_d._rangeInitial1===void 0?dd[Kd+".autorange"]=!0:_d._rangeInitial0===void 0?(dd[Kd+".autorange"]=Qd,dd[Kd+".range"]=[null,_d._rangeInitial1]):_d._rangeInitial1===void 0?(dd[Kd+".range"]=[_d._rangeInitial0,null],dd[Kd+".autorange"]=Qd):dd[Kd+".range"]=[_d._rangeInitial0,_d._rangeInitial1]}}dl.emit("plotly_doubleclick",null),F.call("_guiRelayout",dl,dd)}}function Hp(){Tp([0,0,sh,ah]),v.syncOrAsync([se.previousPromises,function(){dl._fullLayout._replotting=!1,F.call("_guiRelayout",dl,Jl)}],dl)}function Tp(Sl){var od=dl._fullLayout,dd=od._plots,_d=od._subplots.cartesian,nd,ud,Td,wd;if(_l&&F.subplotsRegistry.splom.drag(dl),sd){for(nd=0;nd<_d.length;nd++)if(ud=dd[_d[nd]],Td=ud.xaxis,wd=ud.yaxis,ud._scene){Td.limitRange&&Td.limitRange(),wd.limitRange&&wd.limitRange();var Kd=v.simpleMap(Td.range,Td.r2l),Qd=v.simpleMap(wd.range,wd.r2l);ud._scene.update({range:[Kd[0],Qd[0],Kd[1],Qd[1]]})}}if((_l||sd)&&(j(dl),Y(dl)),Ul){var Mh=Sl[2]/Nu._length,hf=Sl[3]/Gl._length;for(nd=0;nd<_d.length;nd++){ud=dd[_d[nd]],Td=ud.xaxis,wd=ud.yaxis;var Kh=(Xh||Yd.isSubplotConstrained)&&!Td.fixedrange&&rd[Td._id],wf=(Pu||Yd.isSubplotConstrained)&&!wd.fixedrange&&Sd[wd._id],ef,Sf,zf,t0;if(Kh?(ef=Mh,zf=Hd||Yd.isSubplotConstrained?Sl[0]:Fl(Td,ef)):Yd.xaHash[Td._id]?(ef=Mh,zf=Sl[0]*Td._length/Nu._length):Yd.yaHash[Td._id]?(ef=hf,zf=jh==="ns"?-Sl[1]*Td._length/Gl._length:Fl(Td,ef,{n:"top",s:"bottom"}[jh])):(ef=bf(Td,Mh,hf),zf=N0(Td,ef)),ef>1&&(Td.maxallowed!==void 0&&Xh===(Td.range[0]<Td.range[1]?"e":"w")||Td.minallowed!==void 0&&Xh===(Td.range[0]<Td.range[1]?"w":"e"))&&(ef=1,zf=0),wf?(Sf=hf,t0=yd||Yd.isSubplotConstrained?Sl[1]:Fl(wd,Sf)):Yd.yaHash[wd._id]?(Sf=hf,t0=Sl[1]*wd._length/Gl._length):Yd.xaHash[wd._id]?(Sf=Mh,t0=Ph==="ew"?-Sl[0]*wd._length/Nu._length:Fl(wd,Sf,{e:"right",w:"left"}[Ph])):(Sf=bf(wd,Mh,hf),t0=N0(wd,Sf)),Sf>1&&(wd.maxallowed!==void 0&&Pu===(wd.range[0]<wd.range[1]?"n":"s")||wd.minallowed!==void 0&&Pu===(wd.range[0]<wd.range[1]?"s":"n"))&&(Sf=1,t0=0),!(!ef&&!Sf)){ef||(ef=1),Sf||(Sf=1);var ap=Td._offset-zf/ef,B0=wd._offset-t0/Sf;ud.clipRect.call(W.setTranslate,zf,t0).call(W.setScale,ef,Sf),ud.plot.call(W.setTranslate,ap,B0).call(W.setScale,1/ef,1/Sf),(ef!==ud.xScaleFactor||Sf!==ud.yScaleFactor)&&(W.setPointGroupScale(ud.zoomScalePts,ef,Sf),W.setTextPointsScale(ud.zoomScaleTxt,ef,Sf)),W.hideOutsideRangePoints(ud.clipOnAxisFalseTraces,ud),ud.xScaleFactor=ef,ud.yScaleFactor=Sf}}}}function bf(Sl,od,dd){return Sl.fixedrange?0:Xh&&Ah.xaHash[Sl._id]?od:Pu&&(Ah.isSubplotConstrained?Ah.xaHash:Ah.yaHash)[Sl._id]?dd:0}function N0(Sl,od){return od?(Sl.range=Sl._r.slice(),Pe(Sl,od),Fl(Sl,od)):0}function Fl(Sl,od,dd){return Sl._length*(1-od)*O[dd||Sl.constraintoward||"middle"]}return Nd}function vl(dl,Il,ql,Zl){var Bu=v.ensureSingle(dl.draglayer,Il,ql,function(Ju){Ju.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",dl.id)});return Bu.call(Q,Zl),Bu.node()}function yl(dl,Il,ql,Zl,Bu,Ju,yd){var Hd=vl(dl,"rect",Il,ql);return A.select(Hd).call(W.setRect,Zl,Bu,Ju,yd),Hd}function Fn(dl,Il){for(var ql=0;ql<dl.length;ql++)if(!dl[ql].fixedrange)return Il;return""}function xl(dl,Il){var ql=dl.range[Il],Zl=Math.abs(ql-dl.range[1-Il]),Bu;return dl.type==="date"?ql:dl.type==="log"?(Bu=Math.ceil(Math.max(0,-Math.log(Zl)/Math.LN10))+3,C("."+Bu+"g")(Math.pow(10,ql))):(Bu=Math.floor(Math.log(Math.abs(ql))/Math.LN10)-Math.floor(Math.log(Zl)/Math.LN10)+4,C("."+String(Bu)+"g")(ql))}function wl(dl,Il,ql,Zl,Bu){for(var Ju=0;Ju<dl.length;Ju++){var yd=dl[Ju];if(!yd.fixedrange)if(yd.rangebreaks){var Hd=yd._id.charAt(0)==="y",Rd=Hd?1-Il:Il,Ed=Hd?1-ql:ql;Zl[yd._name+".range[0]"]=yd.l2r(yd.p2l(Rd*yd._length)),Zl[yd._name+".range[1]"]=yd.l2r(yd.p2l(Ed*yd._length))}else{var _u=yd._rl[0],Nu=yd._rl[1]-_u;Zl[yd._name+".range[0]"]=yd.l2r(_u+Nu*Il),Zl[yd._name+".range[1]"]=yd.l2r(_u+Nu*ql)}}if(Bu&&Bu.length){var Gl=(Il+(1-ql))/2;wl(Bu,Gl,1-Gl,Zl,[])}}function kl(dl,Il){for(var ql=0;ql<dl.length;ql++){var Zl=dl[ql];if(!Zl.fixedrange){if(Zl.rangebreaks){var Bu=0,Ju=Zl._length,yd=Zl.p2l(Bu+Il)-Zl.p2l(Bu),Hd=Zl.p2l(Ju+Il)-Zl.p2l(Ju),Rd=(yd+Hd)/2;Zl.range=[Zl.l2r(Zl._rl[0]-Rd),Zl.l2r(Zl._rl[1]-Rd)]}else Zl.range=[Zl.l2r(Zl._rl[0]-Il/Zl._m),Zl.l2r(Zl._rl[1]-Il/Zl._m)];Zl.limitRange&&Zl.limitRange()}}}function Dl(dl){return 1-(dl>=0?Math.min(dl,.9):1/(1/Math.max(dl,-.3)+3.222))}function Ol(dl,Il,ql){return dl?dl==="nsew"?ql?"":Il==="pan"?"move":"crosshair":dl.toLowerCase()+"-resize":"pointer"}function gu(dl,Il,ql,Zl,Bu){return dl.append("path").attr("class","zoombox").style({fill:Il>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",I(ql,Zl)).attr("d",Bu+"Z")}function yu(dl,Il,ql){return dl.append("path").attr("class","zoombox-corners").style({fill:x.background,stroke:x.defaultLine,"stroke-width":1,opacity:0}).attr("transform",I(Il,ql)).attr("d","M0,0Z")}function Iu(dl,Il,ql,Zl,Bu,Ju){dl.attr("d",Zl+"M"+ql.l+","+ql.t+"v"+ql.h+"h"+ql.w+"v-"+ql.h+"h-"+ql.w+"Z"),cl(dl,Il,Bu,Ju)}function cl(dl,Il,ql,Zl){ql||(dl.transition().style("fill",Zl>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),Il.transition().style("opacity",1).duration(200))}function pl(dl){A.select(dl).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function it(dl){il&&dl.data&&dl._context.showTips&&(v.notifier(v._(dl,"Double-click to zoom back out"),"long"),il=!1)}function bl(dl,Il){return"M"+(dl.l-.5)+","+(Il-ul-.5)+"h-3v"+(2*ul+1)+"h3ZM"+(dl.r+.5)+","+(Il-ul-.5)+"h3v"+(2*ul+1)+"h-3Z"}function Ll(dl,Il){return"M"+(Il-ul-.5)+","+(dl.t-.5)+"v-3h"+(2*ul+1)+"v3ZM"+(Il-ul-.5)+","+(dl.b+.5)+"v3h"+(2*ul+1)+"v-3Z"}function nl(dl){var Il=Math.floor(Math.min(dl.b-dl.t,dl.r-dl.l,ul)/2);return"M"+(dl.l-3.5)+","+(dl.t-.5+Il)+"h3v"+-Il+"h"+Il+"v-3h-"+(Il+3)+"ZM"+(dl.r+3.5)+","+(dl.t-.5+Il)+"h-3v"+-Il+"h"+-Il+"v-3h"+(Il+3)+"ZM"+(dl.r+3.5)+","+(dl.b+.5-Il)+"h-3v"+Il+"h"+-Il+"v3h"+(Il+3)+"ZM"+(dl.l-3.5)+","+(dl.b+.5-Il)+"h3v"+Il+"h"+Il+"v3h-"+(Il+3)+"Z"}function ve(dl,Il,ql,Zl,Bu){for(var Ju=!1,yd={},Hd={},Rd,Ed,_u,Nu,Gl=(Bu||{}).xaHash,rd=(Bu||{}).yaHash,Sd=0;Sd<Il.length;Sd++){var Pd=Il[Sd];for(Rd in ql)if(Pd[Rd]){for(_u in Pd)!(Bu&&(Gl[_u]||rd[_u]))&&!(_u.charAt(0)==="x"?ql:Zl)[_u]&&(yd[_u]=Rd);for(Ed in Zl)!(Bu&&(Gl[Ed]||rd[Ed]))&&Pd[Ed]&&(Ju=!0)}for(Ed in Zl)if(Pd[Ed])for(Nu in Pd)!(Bu&&(Gl[Nu]||rd[Nu]))&&!(Nu.charAt(0)==="x"?ql:Zl)[Nu]&&(Hd[Nu]=Ed)}Ju&&(v.extendFlat(yd,Hd),Hd={});var Ud={},$d=[];for(_u in yd){var th=nt(dl,_u);$d.push(th),Ud[th._id]=th}var sh={},ah=[];for(Nu in Hd){var Ah=nt(dl,Nu);ah.push(Ah),sh[Ah._id]=Ah}return{xaHash:Ud,yaHash:sh,xaxes:$d,yaxes:ah,xLinks:yd,yLinks:Hd,isSubplotConstrained:Ju}}function _t(dl,Il){if(!R)dl.onwheel!==void 0?dl.onwheel=Il:dl.onmousewheel!==void 0?dl.onmousewheel=Il:dl.isAddedWheelEvent||(dl.isAddedWheelEvent=!0,dl.addEventListener("wheel",Il,{passive:!1}));else{var ql=dl.onwheel!==void 0?"wheel":"mousewheel";dl._onwheel&&dl.removeEventListener(ql,dl._onwheel),dl._onwheel=Il,dl.addEventListener(ql,Il,{passive:!1})}}function ol(dl){var Il=[];for(var ql in dl)Il.push(dl[ql]);return Il}In.exports={makeDragBox:sl,makeDragger:vl,makeRectDragger:yl,makeZoombox:gu,makeCorners:yu,updateZoombox:Iu,xyCorners:nl,transitionZoombox:cl,removeZoombox:pl,showDoubleClickNotifier:it,attachWheelEventHandler:_t}}),wv=o(rl=>{var In=f(),A=c0(),v=Hh(),C=Cf(),P=Uy().makeDragBox,R=vp().DRAGGERSIZE;rl.initInteractions=function(F){var I=F._fullLayout;if(F._context.staticPlot){In.select(F).selectAll(".drag").remove();return}if(!(!I._has("cartesian")&&!I._has("splom"))){var B=Object.keys(I._plots||{}).sort(function(W,z){if((I._plots[W].mainplot&&!0)===(I._plots[z].mainplot&&!0)){var U=W.split("y"),Q=z.split("y");return U[0]===Q[0]?Number(U[1]||1)-Number(Q[1]||1):Number(U[0]||1)-Number(Q[0]||1)}return I._plots[W].mainplot?1:-1});B.forEach(function(W){var z=I._plots[W],U=z.xaxis,Q=z.yaxis;if(!z.mainplot){var Z=P(F,z,U._offset,Q._offset,U._length,Q._length,"ns","ew");Z.onmousemove=function(J){F._fullLayout._rehover=function(){F._fullLayout._hoversubplot===W&&F._fullLayout._plots[W]&&A.hover(F,J,W)},A.hover(F,J,W),F._fullLayout._lasthover=Z,F._fullLayout._hoversubplot=W},Z.onmouseout=function(J){F._dragging||(F._fullLayout._hoversubplot=null,v.unhover(F,J))},F._context.showAxisDragHandles&&(P(F,z,U._offset-R,Q._offset-R,R,R,"n","w"),P(F,z,U._offset+U._length,Q._offset-R,R,R,"n","e"),P(F,z,U._offset-R,Q._offset+Q._length,R,R,"s","w"),P(F,z,U._offset+U._length,Q._offset+Q._length,R,R,"s","e"))}if(F._context.showAxisDragHandles){if(W===U._mainSubplot){var $=U._mainLinePosition;U.side==="top"&&($-=R),P(F,z,U._offset+U._length*.1,$,U._length*.8,R,"","ew"),P(F,z,U._offset,$,U._length*.1,R,"","w"),P(F,z,U._offset+U._length*.9,$,U._length*.1,R,"","e")}if(W===Q._mainSubplot){var q=Q._mainLinePosition;Q.side!=="right"&&(q-=R),P(F,z,q,Q._offset+Q._length*.1,R,Q._length*.8,"ns",""),P(F,z,q,Q._offset+Q._length*.9,R,Q._length*.1,"s",""),P(F,z,q,Q._offset,R,Q._length*.1,"n","")}}});var x=I._hoverlayer.node();x.onmousemove=function(W){W.target=F._fullLayout._lasthover,A.hover(F,W,I._hoversubplot)},x.onclick=function(W){W.target=F._fullLayout._lasthover,A.click(F,W)},x.onmousedown=function(W){F._fullLayout._lasthover.onmousedown(W)},rl.updateFx(F)}},rl.updateFx=function(F){var I=F._fullLayout,B=I.dragmode==="pan"?"move":"crosshair";C(I._draggers,B)}}),ey=o((rl,In)=>{var A=Ep();In.exports=function(v){for(var C=A.layoutArrayContainers,P=A.layoutArrayRegexes,R=v.split("[")[0],F,I,B=0;B<P.length;B++)if(I=v.match(P[B]),I&&I.index===0){F=I[0];break}if(F||(F=C[C.indexOf(R)]),!F)return!1;var x=v.substr(F.length);return x?(I=x.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/),I?{array:F,index:Number(I[1]),property:I[3]||""}:!1):{array:F,index:"",property:""}}}),Dm=o(rl=>{var In=ie(),A=Dd(),v=ad(),C=Pp().sorterAsc,P=Ep();rl.containerArrayMatch=ey();var R=rl.isAddVal=function(I){return I==="add"||In(I)},F=rl.isRemoveVal=function(I){return I===null||I==="remove"};rl.applyContainerArrayChanges=function(I,B,x,W,z){var U=B.astr,Q=P.getComponentMethod(U,"supplyLayoutDefaults"),Z=P.getComponentMethod(U,"draw"),$=P.getComponentMethod(U,"drawOne"),q=W.replot||W.recalc||Q===A||Z===A,J=I.layout,O=I._fullLayout;if(x[""]){Object.keys(x).length>1&&v.warn("Full array edits are incompatible with other edits",U);var j=x[""][""];if(F(j))B.set(null);else if(Array.isArray(j))B.set(j);else return v.warn("Unrecognized full array edit value",U,j),!0;return q?!1:(Q(J,O),Z(I),!0)}var Y=Object.keys(x).map(Number).sort(C),se=B.get(),nt=se||[],gl=z(O,U).get(),Bn=[],jt=-1,Pe=nt.length,ml,tl,ul,il,sl,vl,yl,Fn;for(ml=0;ml<Y.length;ml++){if(ul=Y[ml],il=x[ul],sl=Object.keys(il),vl=il[""],yl=R(vl),ul<0||ul>nt.length-(yl?0:1)){v.warn("index out of range",U,ul);continue}if(vl!==void 0)sl.length>1&&v.warn("Insertion & removal are incompatible with edits to the same index.",U,ul),F(vl)?Bn.push(ul):yl?(vl==="add"&&(vl={}),nt.splice(ul,0,vl),gl&&gl.splice(ul,0,{})):v.warn("Unrecognized full object edit value",U,ul,vl),jt===-1&&(jt=ul);else for(tl=0;tl<sl.length;tl++)Fn=U+"["+ul+"].",z(nt[ul],sl[tl],Fn).set(il[sl[tl]])}for(ml=Bn.length-1;ml>=0;ml--)nt.splice(Bn[ml],1),gl&&gl.splice(Bn[ml],1);if(nt.length?se||B.set(nt):B.set(null),q)return!1;if(Q(J,O),$!==A){var xl;if(jt===-1)xl=Y;else{for(Pe=Math.max(nt.length,Pe),xl=[],ml=0;ml<Y.length&&(ul=Y[ml],!(ul>=jt));ml++)xl.push(ul);for(ml=jt;ml<Pe;ml++)xl.push(ml)}for(ml=0;ml<xl.length;ml++)$(I,xl[ml])}else Z(I);return!0}}),m1=o(rl=>{var In=G(),A=Ep(),v=ls(),C=Jp(),P=Nh(),R=Bd(),F=P.cleanId,I=P.getFromTrace,B=A.traceIs,x=["x","y","z"];rl.clearPromiseQueue=function(O){Array.isArray(O._promises)&&O._promises.length>0&&v.log("Clearing previous rejected promises from queue."),O._promises=[]},rl.cleanLayout=function(O){var j;O||(O={}),O.xaxis1&&(O.xaxis||(O.xaxis=O.xaxis1),delete O.xaxis1),O.yaxis1&&(O.yaxis||(O.yaxis=O.yaxis1),delete O.yaxis1),O.scene1&&(O.scene||(O.scene=O.scene1),delete O.scene1);var Y=(C.subplotsRegistry.cartesian||{}).attrRegex;(C.subplotsRegistry.polar||{}).attrRegex,(C.subplotsRegistry.ternary||{}).attrRegex,(C.subplotsRegistry.gl3d||{}).attrRegex;var se=Object.keys(O);for(j=0;j<se.length;j++){var nt=se[j];if(Y&&Y.test(nt)){var gl=O[nt];gl.anchor&&gl.anchor!=="free"&&(gl.anchor=F(gl.anchor)),gl.overlaying&&(gl.overlaying=F(gl.overlaying)),gl.type||(gl.isdate?gl.type="date":gl.islog?gl.type="log":gl.isdate===!1&&gl.islog===!1&&(gl.type="linear")),(gl.autorange==="withzero"||gl.autorange==="tozero")&&(gl.autorange=!0,gl.rangemode="tozero"),gl.insiderange&&delete gl.range,delete gl.islog,delete gl.isdate,delete gl.categories,Z(gl,"domain")&&delete gl.domain}}var Bn=Array.isArray(O.annotations)?O.annotations.length:0;for(j=0;j<Bn;j++){var jt=O.annotations[j];v.isPlainObject(jt)&&(W(jt,"xref"),W(jt,"yref"))}var Pe=Array.isArray(O.shapes)?O.shapes.length:0;for(j=0;j<Pe;j++){var ml=O.shapes[j];v.isPlainObject(ml)&&(W(ml,"xref"),W(ml,"yref"))}var tl=Array.isArray(O.images)?O.images.length:0;for(j=0;j<tl;j++){var ul=O.images[j];v.isPlainObject(ul)&&(W(ul,"xref"),W(ul,"yref"))}var il=O.legend;return il&&(il.x>3?(il.x=1.02,il.xanchor="left"):il.x<-2&&(il.x=-.02,il.xanchor="right"),il.y>3?(il.y=1.02,il.yanchor="bottom"):il.y<-2&&(il.y=-.02,il.yanchor="top")),O.dragmode==="rotate"&&(O.dragmode="orbit"),R.clean(O),O.template&&O.template.layout&&rl.cleanLayout(O.template.layout),O};function W(O,j){var Y=O[j],se=j.charAt(0);Y&&Y!=="paper"&&(O[j]=F(Y,se,!0))}rl.cleanData=function(O){for(var j=0;j<O.length;j++){var Y=O[j],se;if(Y.type==="histogramy"&&"xbins"in Y&&!("ybins"in Y)&&(Y.ybins=Y.xbins,delete Y.xbins),Y.type==="histogramy"&&rl.swapXYData(Y),(Y.type==="histogramx"||Y.type==="histogramy")&&(Y.type="histogram"),"scl"in Y&&!("colorscale"in Y)&&(Y.colorscale=Y.scl,delete Y.scl),"reversescl"in Y&&!("reversescale"in Y)&&(Y.reversescale=Y.reversescl,delete Y.reversescl),Y.xaxis&&(Y.xaxis=F(Y.xaxis,"x")),Y.yaxis&&(Y.yaxis=F(Y.yaxis,"y")),B(Y,"gl3d")&&Y.scene&&(Y.scene=C.subplotsRegistry.gl3d.cleanId(Y.scene)),!B(Y,"pie-like")&&!B(Y,"bar-like"))if(Array.isArray(Y.textposition))for(se=0;se<Y.textposition.length;se++)Y.textposition[se]=Q(Y.textposition[se]);else Y.textposition&&(Y.textposition=Q(Y.textposition));var nt=A.getModule(Y);if(nt&&nt.colorbar){var gl=nt.colorbar.container,Bn=gl?Y[gl]:Y;Bn&&Bn.colorscale&&(Bn.colorscale==="YIGnBu"&&(Bn.colorscale="YlGnBu"),Bn.colorscale==="YIOrRd"&&(Bn.colorscale="YlOrRd"))}if(Y.type==="surface"&&v.isPlainObject(Y.contours)){var jt=["x","y","z"];for(se=0;se<jt.length;se++){var Pe=Y.contours[jt[se]];v.isPlainObject(Pe)&&(Pe.highlightColor&&(Pe.highlightcolor=Pe.highlightColor,delete Pe.highlightColor),Pe.highlightWidth&&(Pe.highlightwidth=Pe.highlightWidth,delete Pe.highlightWidth))}}if(Y.type==="candlestick"||Y.type==="ohlc"){var ml=(Y.increasing||{}).showlegend!==!1,tl=(Y.decreasing||{}).showlegend!==!1,ul=z(Y.increasing),il=z(Y.decreasing);if(ul!==!1&&il!==!1){var sl=U(ul,il,ml,tl);sl&&(Y.name=sl)}else(ul||il)&&!Y.name&&(Y.name=ul||il)}Z(Y,"line")&&delete Y.line,"marker"in Y&&(Z(Y.marker,"line")&&delete Y.marker.line,Z(Y,"marker")&&delete Y.marker),R.clean(Y),Y.autobinx&&(delete Y.autobinx,delete Y.xbins),Y.autobiny&&(delete Y.autobiny,delete Y.ybins)}};function z(O){if(!v.isPlainObject(O))return!1;var j=O.name;return delete O.name,delete O.showlegend,(typeof j=="string"||typeof j=="number")&&String(j)}function U(O,j,Y,se){if(Y&&!se)return O;if(se&&!Y||!O.trim())return j;if(!j.trim())return O;var nt=Math.min(O.length,j.length),gl;for(gl=0;gl<nt&&O.charAt(gl)===j.charAt(gl);gl++);var Bn=O.substr(0,gl);return Bn.trim()}function Q(O){var j="middle",Y="center";return typeof O=="string"&&(O.indexOf("top")!==-1?j="top":O.indexOf("bottom")!==-1&&(j="bottom"),O.indexOf("left")!==-1?Y="left":O.indexOf("right")!==-1&&(Y="right")),j+" "+Y}function Z(O,j){return j in O&&typeof O[j]=="object"&&Object.keys(O[j]).length===0}rl.swapXYData=function(O){var j;if(v.swapAttrs(O,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(O.z)&&Array.isArray(O.z[0])&&(O.transpose?delete O.transpose:O.transpose=!0),O.error_x&&O.error_y){var Y=O.error_y,se="copy_ystyle"in Y?Y.copy_ystyle:!(Y.color||Y.thickness||Y.width);v.swapAttrs(O,["error_?.copy_ystyle"]),se&&v.swapAttrs(O,["error_?.color","error_?.thickness","error_?.width"])}if(typeof O.hoverinfo=="string"){var nt=O.hoverinfo.split("+");for(j=0;j<nt.length;j++)nt[j]==="x"?nt[j]="y":nt[j]==="y"&&(nt[j]="x");O.hoverinfo=nt.join("+")}},rl.coerceTraceIndices=function(O,j){if(In(j))return[j];if(!Array.isArray(j)||!j.length)return O.data.map(function(nt,gl){return gl});if(Array.isArray(j)){for(var Y=[],se=0;se<j.length;se++)v.isIndex(j[se],O.data.length)?Y.push(j[se]):v.warn("trace index (",j[se],") is not a number or is out of bounds");return Y}return j},rl.manageArrayContainers=function(O,j,Y){var se=O.obj,nt=O.parts,gl=nt.length,Bn=nt[gl-1],jt=In(Bn);if(jt&&j===null){var Pe=nt.slice(0,gl-1).join("."),ml=v.nestedProperty(se,Pe).get();ml.splice(Bn,1)}else jt&&O.get()===void 0&&O.get()===void 0&&(Y[O.astr]=null),O.set(j)};var $=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function q(O){var j=O.search($);if(j>0)return O.substr(0,j)}rl.hasParent=function(O,j){for(var Y=q(j);Y;){if(Y in O)return!0;Y=q(Y)}return!1},rl.clearAxisTypes=function(O,j,Y){for(var se=0;se<j.length;se++)for(var nt=O._fullData[se],gl=0;gl<3;gl++){var Bn=I(O,nt,x[gl]);if(Bn&&Bn.type!=="log"){var jt=Bn._name,Pe=Bn._id.substr(1);if(Pe.substr(0,5)==="scene"){if(Y[Pe]!==void 0)continue;jt=Pe+"."+jt}var ml=jt+".type";Y[jt]===void 0&&Y[ml]===void 0&&v.nestedProperty(O.layout,ml).set(null)}}};var J=(O,j)=>{let Y=(...se)=>se.every(nt=>v.isPlainObject(nt))||se.every(nt=>Array.isArray(nt));if([O,j].every(se=>Array.isArray(se))){if(O.length!==j.length)return!1;for(let se=0;se<O.length;se++){let nt=O[se],gl=j[se];if(nt!==gl&&!(Y(nt,gl)&&J(nt,gl)))return!1}return!0}else if([O,j].every(se=>v.isPlainObject(se))){if(Object.keys(O).length!==Object.keys(j).length)return!1;for(let se in O){if(se.startsWith("_"))continue;let nt=O[se],gl=j[se];if(nt!==gl&&!(Y(nt,gl)&&J(nt,gl)))return!1}return!0}return!1};rl.collectionsAreEqual=J}),k2=o(rl=>{var In=f(),A=G(),v=Ih(),C=ls(),P=C.nestedProperty,R=ep(),F=Of(),I=Ep(),B=xp(),x=Jp(),W=ih(),z=Dh(),U=kd(),Q=dh(),Z=Bd(),$=wv().initInteractions,q=og(),J=L1().clearOutline,O=Md().dfltConfig,j=Dm(),Y=m1(),se=Yf(),nt=sp(),gl=vp().AX_NAME_PATTERN,Bn=0,jt=5;function Pe(_l,Ul,Jl,Hu){var Ku;if(_l=C.getGraphDiv(_l),R.init(_l),C.isPlainObject(Ul)){var fd=Ul;Ul=fd.data,Jl=fd.layout,Hu=fd.config,Ku=fd.frames}var bd=R.triggerHandler(_l,"plotly_beforeplot",[Ul,Jl,Hu]);if(bd===!1)return Promise.reject();!Ul&&!Jl&&!C.isPlotDiv(_l)&&C.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",_l);function Nd(){if(Ku)return rl.addFrames(_l,Ku)}sl(_l,Hu),Jl||(Jl={}),In.select(_l).classed("js-plotly-plot",!0),Q.makeTester(),Array.isArray(_l._promises)||(_l._promises=[]);var Fd=(_l.data||[]).length===0&&Array.isArray(Ul);Array.isArray(Ul)&&(Y.cleanData(Ul),Fd?_l.data=Ul:_l.data.push.apply(_l.data,Ul),_l.empty=!1),(!_l.layout||Fd)&&(_l.layout=Y.cleanLayout(Jl)),x.supplyDefaults(_l);var zd=_l._fullLayout,lh=zd._has("cartesian");zd._replotting=!0,(Fd||zd._shouldCreateBgLayer)&&(sd(_l),zd._shouldCreateBgLayer&&delete zd._shouldCreateBgLayer),Q.initGradients(_l),Q.initPatterns(_l),Fd&&W.saveShowSpikeInitial(_l);var hh=!_l.calcdata||_l.calcdata.length!==(_l._fullData||[]).length;hh&&x.doCalcdata(_l);for(var gh=0;gh<_l.calcdata.length;gh++)_l.calcdata[gh][0].trace=_l._fullData[gh];_l._context.responsive?_l._responsiveChartHandler||(_l._responsiveChartHandler=function(){C.isHidden(_l)||x.resize(_l)},window.addEventListener("resize",_l._responsiveChartHandler)):C.clearResponsive(_l);var Zh=C.extendFlat({},zd._size),yf=0;function Pf(){for(var Df=zd._basePlotModules,If=0;If<Df.length;If++)Df[If].drawFramework&&Df[If].drawFramework(_l);!zd._glcanvas&&zd._has("gl")&&(zd._glcanvas=zd._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(Wf){return Wf.key}),zd._glcanvas.enter().append("canvas").attr("class",function(Wf){return"gl-canvas gl-canvas-"+Wf.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var Ff=_l._context.plotGlPixelRatio;if(zd._glcanvas){zd._glcanvas.attr("width",zd.width*Ff).attr("height",zd.height*Ff).style("width",zd.width+"px").style("height",zd.height+"px");var bp=zd._glcanvas.data()[0].regl;if(bp&&(Math.floor(zd.width*Ff)!==bp._gl.drawingBufferWidth||Math.floor(zd.height*Ff)!==bp._gl.drawingBufferHeight)){var Op="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(yf)C.error(Op);else return C.log(Op+" Clearing graph and plotting again."),x.cleanPlot([],{},_l._fullData,zd),x.supplyDefaults(_l),zd=_l._fullLayout,x.doCalcdata(_l),yf++,Pf()}}return zd.modebar.orientation==="h"?zd._modebardiv.style("height",null).style("width","100%"):zd._modebardiv.style("width",null).style("height",zd.height+"px"),x.previousPromises(_l)}function jf(){if(x.clearAutoMarginIds(_l),se.drawMarginPushers(_l),W.allowAutoMargin(_l),_l._fullLayout.title.text&&_l._fullLayout.title.automargin&&x.allowAutoMargin(_l,"title.automargin"),zd._has("pie"))for(var Df=_l._fullData,If=0;If<Df.length;If++){var Ff=Df[If];Ff.type==="pie"&&Ff.automargin&&x.allowAutoMargin(_l,"pie."+Ff.uid+".automargin")}return x.doAutoMargin(_l),x.previousPromises(_l)}function tp(){if(x.didMarginChange(Zh,zd._size))return C.syncOrAsync([jf,se.layoutStyles],_l)}function Tf(){if(!hh){$h();return}return C.syncOrAsync([I.getComponentMethod("shapes","calcAutorange"),I.getComponentMethod("annotations","calcAutorange"),$h],_l)}function $h(){_l._transitioning||(se.doAutoRangeAndConstraints(_l),Fd&&W.saveRangeInitial(_l),I.getComponentMethod("rangeslider","calcAutorange")(_l))}function Gf(){return W.draw(_l,Fd?"":"redraw")}var of=[x.previousPromises,Nd,Pf,jf,tp];lh&&of.push(Tf),of.push(se.layoutStyles),lh&&of.push(Gf,function(Df){var If=Df._fullLayout._insideTickLabelsUpdaterange;if(If)return Df._fullLayout._insideTickLabelsUpdaterange=void 0,Il(Df,If).then(function(){W.saveRangeInitial(Df,!0)})}),of.push(se.drawData,se.finalDraw,$,x.addLinks,x.rehover,x.redrag,x.reselect,x.doAutoMargin,x.previousPromises);var Lf=C.syncOrAsync(of,_l);return(!Lf||!Lf.then)&&(Lf=Promise.resolve()),Lf.then(function(){return ml(_l),_l})}function ml(_l){var Ul=_l._fullLayout;Ul._redrawFromAutoMarginCount?Ul._redrawFromAutoMarginCount--:_l.emit("plotly_afterplot")}function tl(_l){return C.extendFlat(O,_l)}function ul(_l,Ul){try{_l._fullLayout._paper.style("background",Ul)}catch(Jl){C.error(Jl)}}function il(_l,Ul){var Jl=Z.combine(Ul,"white");ul(_l,Jl)}function sl(_l,Ul){if(!_l._context){_l._context=C.extendDeep({},O);var Jl=In.select("base");_l._context._baseUrl=Jl.size()&&Jl.attr("href")?window.location.href.split("#")[0]:""}var Hu=_l._context,Ku,fd,bd;if(Ul){for(fd=Object.keys(Ul),Ku=0;Ku<fd.length;Ku++)bd=fd[Ku],!(bd==="editable"||bd==="edits")&&bd in Hu&&(bd==="setBackground"&&Ul[bd]==="opaque"?Hu[bd]=il:Hu[bd]=Ul[bd]);var Nd=Ul.editable;if(Nd!==void 0)for(Hu.editable=Nd,fd=Object.keys(Hu.edits),Ku=0;Ku<fd.length;Ku++)Hu.edits[fd[Ku]]=Nd;if(Ul.edits)for(fd=Object.keys(Ul.edits),Ku=0;Ku<fd.length;Ku++)bd=fd[Ku],bd in Hu.edits&&(Hu.edits[bd]=Ul.edits[bd]);Hu._exportedPlot=Ul._exportedPlot}Hu.staticPlot&&(Hu.editable=!1,Hu.edits={},Hu.autosizable=!1,Hu.scrollZoom=!1,Hu.doubleClick=!1,Hu.showTips=!1,Hu.showLink=!1,Hu.displayModeBar=!1),Hu.displayModeBar==="hover"&&!v&&(Hu.displayModeBar=!0),(Hu.setBackground==="transparent"||typeof Hu.setBackground!="function")&&(Hu.setBackground=ul),Hu._hasZeroHeight=Hu._hasZeroHeight||_l.clientHeight===0,Hu._hasZeroWidth=Hu._hasZeroWidth||_l.clientWidth===0;var Fd=Hu.scrollZoom,zd=Hu._scrollZoom={};if(Fd===!0)zd.cartesian=1,zd.gl3d=1,zd.geo=1,zd.mapbox=1,zd.map=1;else if(typeof Fd=="string"){var lh=Fd.split("+");for(Ku=0;Ku<lh.length;Ku++)zd[lh[Ku]]=1}else Fd!==!1&&(zd.gl3d=1,zd.geo=1,zd.mapbox=1,zd.map=1)}function vl(_l){if(_l=C.getGraphDiv(_l),!C.isPlotDiv(_l))throw new Error("This element is not a Plotly plot: "+_l);return Y.cleanData(_l.data),Y.cleanLayout(_l.layout),_l.calcdata=void 0,rl._doPlot(_l).then(function(){return _l.emit("plotly_redraw"),_l})}function yl(_l,Ul,Jl,Hu){return _l=C.getGraphDiv(_l),x.cleanPlot([],{},_l._fullData||[],_l._fullLayout||{}),x.purge(_l),rl._doPlot(_l,Ul,Jl,Hu)}function Fn(_l,Ul){var Jl=Ul+1,Hu=[],Ku,fd;for(Ku=0;Ku<_l.length;Ku++)fd=_l[Ku],fd<0?Hu.push(Jl+fd):Hu.push(fd);return Hu}function xl(_l,Ul,Jl){var Hu,Ku;for(Hu=0;Hu<Ul.length;Hu++){if(Ku=Ul[Hu],Ku!==parseInt(Ku,10))throw new Error("all values in "+Jl+" must be integers");if(Ku>=_l.data.length||Ku<-_l.data.length)throw new Error(Jl+" must be valid indices for gd.data.");if(Ul.indexOf(Ku,Hu+1)>-1||Ku>=0&&Ul.indexOf(-_l.data.length+Ku)>-1||Ku<0&&Ul.indexOf(_l.data.length+Ku)>-1)throw new Error("each index in "+Jl+" must be unique.")}}function wl(_l,Ul,Jl){if(!Array.isArray(_l.data))throw new Error("gd.data must be an array.");if(typeof Ul>"u")throw new Error("currentIndices is a required argument.");if(Array.isArray(Ul)||(Ul=[Ul]),xl(_l,Ul,"currentIndices"),typeof Jl<"u"&&!Array.isArray(Jl)&&(Jl=[Jl]),typeof Jl<"u"&&xl(_l,Jl,"newIndices"),typeof Jl<"u"&&Ul.length!==Jl.length)throw new Error("current and new indices must be of equal length.")}function kl(_l,Ul,Jl){var Hu,Ku;if(!Array.isArray(_l.data))throw new Error("gd.data must be an array.");if(typeof Ul>"u")throw new Error("traces must be defined.");for(Array.isArray(Ul)||(Ul=[Ul]),Hu=0;Hu<Ul.length;Hu++)if(Ku=Ul[Hu],typeof Ku!="object"||Array.isArray(Ku)||Ku===null)throw new Error("all values in traces array must be non-array objects");if(typeof Jl<"u"&&!Array.isArray(Jl)&&(Jl=[Jl]),typeof Jl<"u"&&Jl.length!==Ul.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function Dl(_l,Ul,Jl,Hu){var Ku=C.isPlainObject(Hu);if(!Array.isArray(_l.data))throw new Error("gd.data must be an array");if(!C.isPlainObject(Ul))throw new Error("update must be a key:value object");if(typeof Jl>"u")throw new Error("indices must be an integer or array of integers");xl(_l,Jl,"indices");for(var fd in Ul){if(!Array.isArray(Ul[fd])||Ul[fd].length!==Jl.length)throw new Error("attribute "+fd+" must be an array of length equal to indices array length");if(Ku&&(!(fd in Hu)||!Array.isArray(Hu[fd])||Hu[fd].length!==Ul[fd].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 correspondence with the keys and number of traces in the update object")}}function Ol(_l,Ul,Jl,Hu){var Ku=C.isPlainObject(Hu),fd=[],bd,Nd,Fd,zd,lh;Array.isArray(Jl)||(Jl=[Jl]),Jl=Fn(Jl,_l.data.length-1);for(var hh in Ul)for(var gh=0;gh<Jl.length;gh++){if(bd=_l.data[Jl[gh]],Fd=P(bd,hh),Nd=Fd.get(),zd=Ul[hh][gh],!C.isArrayOrTypedArray(zd))throw new Error("attribute: "+hh+" index: "+gh+" must be an array");if(!C.isArrayOrTypedArray(Nd))throw new Error("cannot extend missing or non-array attribute: "+hh);if(Nd.constructor!==zd.constructor)throw new Error("cannot extend array with an array of a different type: "+hh);lh=Ku?Hu[hh][gh]:Hu,A(lh)||(lh=-1),fd.push({prop:Fd,target:Nd,insert:zd,maxp:Math.floor(lh)})}return fd}function gu(_l,Ul,Jl,Hu,Ku){Dl(_l,Ul,Jl,Hu);for(var fd=Ol(_l,Ul,Jl,Hu),bd={},Nd={},Fd=0;Fd<fd.length;Fd++){var zd=fd[Fd].prop,lh=fd[Fd].maxp,hh=Ku(fd[Fd].target,fd[Fd].insert,lh);zd.set(hh[0]),Array.isArray(bd[zd.astr])||(bd[zd.astr]=[]),bd[zd.astr].push(hh[1]),Array.isArray(Nd[zd.astr])||(Nd[zd.astr]=[]),Nd[zd.astr].push(fd[Fd].target.length)}return{update:bd,maxPoints:Nd}}function yu(_l,Ul){var Jl=new _l.constructor(_l.length+Ul.length);return Jl.set(_l),Jl.set(Ul,_l.length),Jl}function Iu(_l,Ul,Jl,Hu){_l=C.getGraphDiv(_l);function Ku(Fd,zd,lh){var hh,gh;if(C.isTypedArray(Fd))if(lh<0){var Zh=new Fd.constructor(0),yf=yu(Fd,zd);lh<0?(hh=yf,gh=Zh):(hh=Zh,gh=yf)}else if(hh=new Fd.constructor(lh),gh=new Fd.constructor(Fd.length+zd.length-lh),lh===zd.length)hh.set(zd),gh.set(Fd);else if(lh<zd.length){var Pf=zd.length-lh;hh.set(zd.subarray(Pf)),gh.set(Fd),gh.set(zd.subarray(0,Pf),Fd.length)}else{var jf=lh-zd.length,tp=Fd.length-jf;hh.set(Fd.subarray(tp)),hh.set(zd,jf),gh.set(Fd.subarray(0,tp))}else hh=Fd.concat(zd),gh=lh>=0&&lh<hh.length?hh.splice(0,hh.length-lh):[];return[hh,gh]}var fd=gu(_l,Ul,Jl,Hu,Ku),bd=rl.redraw(_l),Nd=[_l,fd.update,Jl,fd.maxPoints];return F.add(_l,rl.prependTraces,Nd,Iu,arguments),bd}function cl(_l,Ul,Jl,Hu){_l=C.getGraphDiv(_l);function Ku(Fd,zd,lh){var hh,gh;if(C.isTypedArray(Fd))if(lh<=0){var Zh=new Fd.constructor(0),yf=yu(zd,Fd);lh<0?(hh=yf,gh=Zh):(hh=Zh,gh=yf)}else if(hh=new Fd.constructor(lh),gh=new Fd.constructor(Fd.length+zd.length-lh),lh===zd.length)hh.set(zd),gh.set(Fd);else if(lh<zd.length){var Pf=zd.length-lh;hh.set(zd.subarray(0,Pf)),gh.set(zd.subarray(Pf)),gh.set(Fd,Pf)}else{var jf=lh-zd.length;hh.set(zd),hh.set(Fd.subarray(0,jf),zd.length),gh.set(Fd.subarray(jf))}else hh=zd.concat(Fd),gh=lh>=0&&lh<hh.length?hh.splice(lh,hh.length):[];return[hh,gh]}var fd=gu(_l,Ul,Jl,Hu,Ku),bd=rl.redraw(_l),Nd=[_l,fd.update,Jl,fd.maxPoints];return F.add(_l,rl.extendTraces,Nd,cl,arguments),bd}function pl(_l,Ul,Jl){_l=C.getGraphDiv(_l);var Hu=[],Ku=rl.deleteTraces,fd=pl,bd=[_l,Hu],Nd=[_l,Ul],Fd,zd;for(kl(_l,Ul,Jl),Array.isArray(Ul)||(Ul=[Ul]),Ul=Ul.map(function(lh){return C.extendFlat({},lh)}),Y.cleanData(Ul),Fd=0;Fd<Ul.length;Fd++)_l.data.push(Ul[Fd]);for(Fd=0;Fd<Ul.length;Fd++)Hu.push(-Ul.length+Fd);if(typeof Jl>"u")return zd=rl.redraw(_l),F.add(_l,Ku,bd,fd,Nd),zd;Array.isArray(Jl)||(Jl=[Jl]);try{wl(_l,Hu,Jl)}catch(lh){throw _l.data.splice(_l.data.length-Ul.length,Ul.length),lh}return F.startSequence(_l),F.add(_l,Ku,bd,fd,Nd),zd=rl.moveTraces(_l,Hu,Jl),F.stopSequence(_l),zd}function it(_l,Ul){_l=C.getGraphDiv(_l);var Jl=[],Hu=rl.addTraces,Ku=it,fd=[_l,Jl,Ul],bd=[_l,Ul],Nd,Fd;if(typeof Ul>"u")throw new Error("indices must be an integer or array of integers.");for(Array.isArray(Ul)||(Ul=[Ul]),xl(_l,Ul,"indices"),Ul=Fn(Ul,_l.data.length-1),Ul.sort(C.sorterDes),Nd=0;Nd<Ul.length;Nd+=1)Fd=_l.data.splice(Ul[Nd],1)[0],Jl.push(Fd);var zd=rl.redraw(_l);return F.add(_l,Hu,fd,Ku,bd),zd}function bl(_l,Ul,Jl){_l=C.getGraphDiv(_l);var Hu=[],Ku=[],fd=bl,bd=bl,Nd=[_l,Jl,Ul],Fd=[_l,Ul,Jl],zd;if(wl(_l,Ul,Jl),Ul=Array.isArray(Ul)?Ul:[Ul],typeof Jl>"u")for(Jl=[],zd=0;zd<Ul.length;zd++)Jl.push(-Ul.length+zd);for(Jl=Array.isArray(Jl)?Jl:[Jl],Ul=Fn(Ul,_l.data.length-1),Jl=Fn(Jl,_l.data.length-1),zd=0;zd<_l.data.length;zd++)Ul.indexOf(zd)===-1&&Hu.push(_l.data[zd]);for(zd=0;zd<Ul.length;zd++)Ku.push({newIndex:Jl[zd],trace:_l.data[Ul[zd]]});for(Ku.sort(function(hh,gh){return hh.newIndex-gh.newIndex}),zd=0;zd<Ku.length;zd+=1)Hu.splice(Ku[zd].newIndex,0,Ku[zd].trace);_l.data=Hu;var lh=rl.redraw(_l);return F.add(_l,fd,Nd,bd,Fd),lh}function Ll(_l,Ul,Jl,Hu){_l=C.getGraphDiv(_l),Y.clearPromiseQueue(_l);var Ku={};if(typeof Ul=="string")Ku[Ul]=Jl;else if(C.isPlainObject(Ul))Ku=C.extendFlat({},Ul),Hu===void 0&&(Hu=Jl);else return C.warn("Restyle fail.",Ul,Jl,Hu),Promise.reject();Object.keys(Ku).length&&(_l.changed=!0);var fd=Y.coerceTraceIndices(_l,Hu),bd=dl(_l,Ku,fd),Nd=bd.flags;Nd.calc&&(_l.calcdata=void 0),Nd.clearAxisTypes&&Y.clearAxisTypes(_l,fd,{});var Fd=[];Nd.fullReplot?Fd.push(rl._doPlot):(Fd.push(x.previousPromises),x.supplyDefaults(_l),Nd.markerSize&&(x.doCalcdata(_l),Zl(Fd)),Nd.style&&Fd.push(se.doTraceStyle),Nd.colorbars&&Fd.push(se.doColorBars),Fd.push(ml)),Fd.push(x.rehover,x.redrag,x.reselect),F.add(_l,Ll,[_l,bd.undoit,bd.traces],Ll,[_l,bd.redoit,bd.traces]);var zd=C.syncOrAsync(Fd,_l);return(!zd||!zd.then)&&(zd=Promise.resolve()),zd.then(function(){return _l.emit("plotly_restyle",bd.eventData),_l})}function nl(_l){return _l===void 0?null:_l}function ve(_l,Ul){return Ul?function(Jl,Hu,Ku){var fd=P(Jl,Hu),bd=fd.set;return fd.set=function(Nd){var Fd=(Ku||"")+Hu;_t(Fd,fd.get(),Nd,_l),bd(Nd)},fd}:P}function _t(_l,Ul,Jl,Hu){if(Array.isArray(Ul)||Array.isArray(Jl))for(var Ku=Array.isArray(Ul)?Ul:[],fd=Array.isArray(Jl)?Jl:[],bd=Math.max(Ku.length,fd.length),Nd=0;Nd<bd;Nd++)_t(_l+"["+Nd+"]",Ku[Nd],fd[Nd],Hu);else if(C.isPlainObject(Ul)||C.isPlainObject(Jl)){var Fd=C.isPlainObject(Ul)?Ul:{},zd=C.isPlainObject(Jl)?Jl:{},lh=C.extendFlat({},Fd,zd);for(var hh in lh)_t(_l+"."+hh,Fd[hh],zd[hh],Hu)}else Hu[_l]===void 0&&(Hu[_l]=nl(Ul))}function ol(_l,Ul,Jl){for(var Hu in Jl){var Ku=P(_l,Hu);_t(Hu,Ku.get(),Jl[Hu],Ul)}}function dl(_l,Ul,Jl){var Hu=_l._fullLayout,Ku=_l._fullData,fd=_l.data,bd=Hu._guiEditing,Nd=ve(Hu._preGUI,bd),Fd=C.extendDeepAll({},Ul),zd,lh=nt.traceFlags(),hh={},gh={},Zh;function yf(){return Jl.map(function(){})}function Pf(Qd){var Mh=W.id2name(Qd);Zh.indexOf(Mh)===-1&&Zh.push(Mh)}function jf(Qd){return"LAYOUT"+Qd+".autorange"}function tp(Qd){return"LAYOUT"+Qd+".range"}function Tf(Qd){for(var Mh=Qd;Mh<Ku.length;Mh++)if(Ku[Mh]._input===fd[Qd])return Ku[Mh]}function $h(Qd,Mh,hf){if(Array.isArray(Qd)){Qd.forEach(function(Sf){$h(Sf,Mh,hf)});return}if(!(Qd in Ul||Y.hasParent(Ul,Qd))){var Kh;if(Qd.substr(0,6)==="LAYOUT")Kh=Nd(_l.layout,Qd.replace("LAYOUT",""));else{var wf=Jl[hf],ef=Hu._tracePreGUI[Tf(wf)._fullInput.uid];Kh=ve(ef,bd)(fd[wf],Qd)}Qd in gh||(gh[Qd]=yf()),gh[Qd][hf]===void 0&&(gh[Qd][hf]=nl(Kh.get())),Mh!==void 0&&Kh.set(Mh)}}function Gf(Qd){return function(Mh){return Ku[Mh][Qd]}}function of(Qd){return function(Mh,hf){return Mh===!1?Ku[Jl[hf]][Qd]:null}}for(var Lf in Ul){if(Y.hasParent(Ul,Lf))throw new Error("cannot set "+Lf+" and a parent attribute simultaneously");var Df=Ul[Lf],If,Ff,bp,Op,Wf,zp;if((Lf==="autobinx"||Lf==="autobiny")&&(Lf=Lf.charAt(Lf.length-1)+"bins",Array.isArray(Df)?Df=Df.map(of(Lf)):Df===!1?Df=Jl.map(Gf(Lf)):Df=null),hh[Lf]=Df,Lf.substr(0,6)==="LAYOUT"){bp=Nd(_l.layout,Lf.replace("LAYOUT","")),gh[Lf]=[nl(bp.get())],bp.set(Array.isArray(Df)?Df[0]:Df),lh.calc=!0;continue}for(gh[Lf]=yf(),zd=0;zd<Jl.length;zd++){If=fd[Jl[zd]],Ff=Tf(Jl[zd]);var qp=Hu._tracePreGUI[Ff._fullInput.uid];if(bp=ve(qp,bd)(If,Lf),Op=bp.get(),Wf=Array.isArray(Df)?Df[zd%Df.length]:Df,Wf!==void 0){var p0=bp.parts[bp.parts.length-1],m0=Lf.substr(0,Lf.length-p0.length-1),Ap=m0?m0+".":"",Hp=m0?P(Ff,m0).get():Ff;if(zp=B.getTraceValObject(Ff,bp.parts),zp&&zp.impliedEdits&&Wf!==null)for(var Tp in zp.impliedEdits)$h(C.relativeAttr(Lf,Tp),zp.impliedEdits[Tp],zd);else if((p0==="thicknessmode"||p0==="lenmode")&&Op!==Wf&&(Wf==="fraction"||Wf==="pixels")&&Hp){var bf=Hu._size,N0=Hp.orient,Fl=N0==="top"||N0==="bottom";if(p0==="thicknessmode"){var Sl=Fl?bf.h:bf.w;$h(Ap+"thickness",Hp.thickness*(Wf==="fraction"?1/Sl:Sl),zd)}else{var od=Fl?bf.w:bf.h;$h(Ap+"len",Hp.len*(Wf==="fraction"?1/od:od),zd)}}else if(Lf==="type"&&(Wf==="pie"!=(Op==="pie")||Wf==="funnelarea"!=(Op==="funnelarea"))){var dd="x",_d="y";(Wf==="bar"||Op==="bar")&&If.orientation==="h"&&(dd="y",_d="x"),C.swapAttrs(If,["?","?src"],"labels",dd),C.swapAttrs(If,["d?","?0"],"label",dd),C.swapAttrs(If,["?","?src"],"values",_d),Op==="pie"||Op==="funnelarea"?(P(If,"marker.color").set(P(If,"marker.colors").get()),Hu._pielayer.selectAll("g.trace").remove()):I.traceIs(If,"cartesian")&&P(If,"marker.colors").set(P(If,"marker.color").get())}gh[Lf][zd]=nl(Op);var nd=["swapxy","swapxyaxes","orientation","orientationaxes"];if(nd.indexOf(Lf)!==-1){if(Lf==="orientation"){bp.set(Wf);var ud=If.x&&!If.y?"h":"v";if((bp.get()||ud)===Ff.orientation)continue}else Lf==="orientationaxes"&&(If.orientation={v:"h",h:"v"}[Ff.orientation]);Y.swapXYData(If),lh.calc=lh.clearAxisTypes=!0}else x.dataArrayContainers.indexOf(bp.parts[0])!==-1?(Y.manageArrayContainers(bp,Wf,gh),lh.calc=!0):(zp?zp.arrayOk&&!I.traceIs(Ff,"regl")&&(C.isArrayOrTypedArray(Wf)||C.isArrayOrTypedArray(Op))?lh.calc=!0:nt.update(lh,zp):lh.calc=!0,bp.set(Wf))}}if(["swapxyaxes","orientationaxes"].indexOf(Lf)!==-1&&W.swap(_l,Jl),Lf==="orientationaxes"){var Td=P(_l.layout,"hovermode"),wd=Td.get();wd==="x"?Td.set("y"):wd==="y"?Td.set("x"):wd==="x unified"?Td.set("y unified"):wd==="y unified"&&Td.set("x unified")}if(["orientation","type"].indexOf(Lf)!==-1){for(Zh=[],zd=0;zd<Jl.length;zd++){var Kd=fd[Jl[zd]];I.traceIs(Kd,"cartesian")&&(Pf(Kd.xaxis||"x"),Pf(Kd.yaxis||"y"))}$h(Zh.map(jf),!0,0),$h(Zh.map(tp),[0,1],0)}}return(lh.calc||lh.plot)&&(lh.fullReplot=!0),{flags:lh,undoit:gh,redoit:hh,traces:Jl,eventData:C.extendDeepNoArrays([],[Fd,Jl])}}function Il(_l,Ul,Jl){_l=C.getGraphDiv(_l),Y.clearPromiseQueue(_l);var Hu={};if(typeof Ul=="string")Hu[Ul]=Jl;else if(C.isPlainObject(Ul))Hu=C.extendFlat({},Ul);else return C.warn("Relayout fail.",Ul,Jl),Promise.reject();Object.keys(Hu).length&&(_l.changed=!0);var Ku=Hd(_l,Hu),fd=Ku.flags;fd.calc&&(_l.calcdata=void 0);var bd=[x.previousPromises];fd.layoutReplot?bd.push(se.layoutReplot):Object.keys(Hu).length&&(ql(_l,fd,Ku)||x.supplyDefaults(_l),fd.legend&&bd.push(se.doLegend),fd.layoutstyle&&bd.push(se.layoutStyles),fd.axrange&&Zl(bd,Ku.rangesAltered),fd.ticks&&bd.push(se.doTicksRelayout),fd.modebar&&bd.push(se.doModeBar),fd.camera&&bd.push(se.doCamera),fd.colorbars&&bd.push(se.doColorBars),bd.push(ml)),bd.push(x.rehover,x.redrag,x.reselect),F.add(_l,Il,[_l,Ku.undoit],Il,[_l,Ku.redoit]);var Nd=C.syncOrAsync(bd,_l);return(!Nd||!Nd.then)&&(Nd=Promise.resolve(_l)),Nd.then(function(){return _l.emit("plotly_relayout",Ku.eventData),_l})}function ql(_l,Ul,Jl){var Hu=_l._fullLayout;if(!Ul.axrange)return!1;for(var Ku in Ul)if(Ku!=="axrange"&&Ul[Ku])return!1;var fd,bd,Nd=function(Zh,yf){return C.coerce(fd,bd,U,Zh,yf)},Fd={};for(var zd in Jl.rangesAltered){var lh=W.id2name(zd);if(fd=_l.layout[lh],bd=Hu[lh],z(fd,bd,Nd,Fd),bd._matchGroup){for(var hh in bd._matchGroup)if(hh!==zd){var gh=Hu[W.id2name(hh)];gh.autorange=bd.autorange,gh.range=bd.range.slice(),gh._input.range=bd.range.slice()}}}return!0}function Zl(_l,Ul){var Jl=Ul?function(Hu){var Ku=[],fd=!0;for(var bd in Ul){var Nd=W.getFromId(Hu,bd);if(Ku.push(bd),(Nd.ticklabelposition||"").indexOf("inside")!==-1&&Nd._anchorAxis&&Ku.push(Nd._anchorAxis._id),Nd._matchGroup)for(var Fd in Nd._matchGroup)Ul[Fd]||Ku.push(Fd)}return W.draw(Hu,Ku,{skipTitle:fd})}:function(Hu){return W.draw(Hu,"redraw")};_l.push(J,se.doAutoRangeAndConstraints,Jl,se.drawData,se.finalDraw)}var Bu=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,Ju=/^[xyz]axis[0-9]*\.autorange$/,yd=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function Hd(_l,Ul){var Jl=_l.layout,Hu=_l._fullLayout,Ku=Hu._guiEditing,fd=ve(Hu._preGUI,Ku),bd=Object.keys(Ul),Nd=W.list(_l),Fd=C.extendDeepAll({},Ul),zd={},lh,hh,gh;for(bd=Object.keys(Ul),hh=0;hh<bd.length;hh++)if(bd[hh].indexOf("allaxes")===0){for(gh=0;gh<Nd.length;gh++){var Zh=Nd[gh]._id.substr(1),yf=Zh.indexOf("scene")!==-1?Zh+".":"",Pf=bd[hh].replace("allaxes",yf+Nd[gh]._name);Ul[Pf]||(Ul[Pf]=Ul[bd[hh]])}delete Ul[bd[hh]]}var jf=nt.layoutFlags(),tp={},Tf={};function $h(ef,Sf){if(Array.isArray(ef)){ef.forEach(function(t0){$h(t0,Sf)});return}if(!(ef in Ul||Y.hasParent(Ul,ef))){var zf=fd(Jl,ef);ef in Tf||(Tf[ef]=nl(zf.get())),Sf!==void 0&&zf.set(Sf)}}var Gf={},of;function Lf(ef){var Sf=W.name2id(ef.split(".")[0]);return Gf[Sf]=1,Sf}for(var Df in Ul){if(Y.hasParent(Ul,Df))throw new Error("cannot set "+Df+" and a parent attribute simultaneously");for(var If=fd(Jl,Df),Ff=Ul[Df],bp=If.parts.length,Op=bp-1;Op>0&&typeof If.parts[Op]!="string";)Op--;var Wf=If.parts[Op],zp=If.parts[Op-1]+"."+Wf,qp=If.parts.slice(0,Op).join("."),p0=P(_l.layout,qp).get(),m0=P(Hu,qp).get(),Ap=If.get();if(Ff!==void 0){tp[Df]=Ff,Tf[Df]=Wf==="reverse"?Ff:nl(Ap);var Hp=B.getLayoutValObject(Hu,If.parts);if(Hp&&Hp.impliedEdits&&Ff!==null)for(var Tp in Hp.impliedEdits)$h(C.relativeAttr(Df,Tp),Hp.impliedEdits[Tp]);if(["width","height"].indexOf(Df)!==-1)if(Ff){$h("autosize",null);var bf=Df==="height"?"width":"height";$h(bf,Hu[bf])}else Hu[Df]=_l._initialAutoSize[Df];else if(Df==="autosize")$h("width",Ff?null:Hu.width),$h("height",Ff?null:Hu.height);else if(zp.match(Bu))Lf(zp),P(Hu,qp+"._inputRange").set(null);else if(zp.match(Ju)){Lf(zp),P(Hu,qp+"._inputRange").set(null);var N0=P(Hu,qp).get();N0._inputDomain&&(N0._input.domain=N0._inputDomain.slice())}else zp.match(yd)&&P(Hu,qp+"._inputDomain").set(null);if(Wf==="type"){of=p0;var Fl=m0.type==="linear"&&Ff==="log",Sl=m0.type==="log"&&Ff==="linear";if(Fl||Sl){if(!of||!of.range)$h(qp+".autorange",!0);else if(m0.autorange)Fl&&(of.range=of.range[1]>of.range[0]?[1,2]:[2,1]);else{var od=of.range[0],dd=of.range[1];Fl?(od<=0&&dd<=0&&$h(qp+".autorange",!0),od<=0?od=dd/1e6:dd<=0&&(dd=od/1e6),$h(qp+".range[0]",Math.log(od)/Math.LN10),$h(qp+".range[1]",Math.log(dd)/Math.LN10)):($h(qp+".range[0]",Math.pow(10,od)),$h(qp+".range[1]",Math.pow(10,dd)))}Array.isArray(Hu._subplots.polar)&&Hu._subplots.polar.length&&Hu[If.parts[0]]&&If.parts[1]==="radialaxis"&&delete Hu[If.parts[0]]._subplot.viewInitial["radialaxis.range"],I.getComponentMethod("annotations","convertCoords")(_l,m0,Ff,$h),I.getComponentMethod("images","convertCoords")(_l,m0,Ff,$h)}else $h(qp+".autorange",!0),$h(qp+".range",null);P(Hu,qp+"._inputRange").set(null)}else if(Wf.match(gl)){var _d=P(Hu,Df).get(),nd=(Ff||{}).type;(!nd||nd==="-")&&(nd="linear"),I.getComponentMethod("annotations","convertCoords")(_l,_d,nd,$h),I.getComponentMethod("images","convertCoords")(_l,_d,nd,$h)}var ud=j.containerArrayMatch(Df);if(ud){lh=ud.array,hh=ud.index;var Td=ud.property,wd=Hp||{editType:"calc"};hh!==""&&Td===""&&(j.isAddVal(Ff)?Tf[Df]=null:j.isRemoveVal(Ff)?Tf[Df]=(P(Jl,lh).get()||[])[hh]:C.warn("unrecognized full object value",Ul)),nt.update(jf,wd),zd[lh]||(zd[lh]={});var Kd=zd[lh][hh];Kd||(Kd=zd[lh][hh]={}),Kd[Td]=Ff,delete Ul[Df]}else Wf==="reverse"?(p0.range?p0.range.reverse():($h(qp+".autorange",!0),p0.range=[1,0]),m0.autorange?jf.calc=!0:jf.plot=!0):(Df==="dragmode"&&(Ff===!1&&Ap!==!1||Ff!==!1&&Ap===!1)||Hu._has("scatter-like")&&Hu._has("regl")&&Df==="dragmode"&&(Ff==="lasso"||Ff==="select")&&!(Ap==="lasso"||Ap==="select")?jf.plot=!0:Hp?nt.update(jf,Hp):jf.calc=!0,If.set(Ff))}}for(lh in zd){var Qd=j.applyContainerArrayChanges(_l,fd(Jl,lh),zd[lh],jf,fd);Qd||(jf.plot=!0)}for(var Mh in Gf){of=W.getFromId(_l,Mh);var hf=of&&of._constraintGroup;if(hf){jf.calc=!0;for(var Kh in hf)Gf[Kh]||(W.getFromId(_l,Kh)._constraintShrinkable=!0)}}(Rd(_l)||Ul.height||Ul.width)&&(jf.plot=!0);var wf=Hu.shapes;for(hh=0;hh<wf.length;hh++)if(wf[hh].showlegend){jf.calc=!0;break}return(jf.plot||jf.calc)&&(jf.layoutReplot=!0),{flags:jf,rangesAltered:Gf,undoit:Tf,redoit:tp,eventData:Fd}}function Rd(_l){var Ul=_l._fullLayout,Jl=Ul.width,Hu=Ul.height;return _l.layout.autosize&&x.plotAutoSize(_l,_l.layout,Ul),Ul.width!==Jl||Ul.height!==Hu}function Ed(_l,Ul,Jl,Hu){_l=C.getGraphDiv(_l),Y.clearPromiseQueue(_l),C.isPlainObject(Ul)||(Ul={}),C.isPlainObject(Jl)||(Jl={}),Object.keys(Ul).length&&(_l.changed=!0),Object.keys(Jl).length&&(_l.changed=!0);var Ku=Y.coerceTraceIndices(_l,Hu),fd=dl(_l,C.extendFlat({},Ul),Ku),bd=fd.flags,Nd=Hd(_l,C.extendFlat({},Jl)),Fd=Nd.flags;(bd.calc||Fd.calc)&&(_l.calcdata=void 0),bd.clearAxisTypes&&Y.clearAxisTypes(_l,Ku,Jl);var zd=[];Fd.layoutReplot?zd.push(se.layoutReplot):bd.fullReplot?zd.push(rl._doPlot):(zd.push(x.previousPromises),ql(_l,Fd,Nd)||x.supplyDefaults(_l),bd.style&&zd.push(se.doTraceStyle),(bd.colorbars||Fd.colorbars)&&zd.push(se.doColorBars),Fd.legend&&zd.push(se.doLegend),Fd.layoutstyle&&zd.push(se.layoutStyles),Fd.axrange&&Zl(zd,Nd.rangesAltered),Fd.ticks&&zd.push(se.doTicksRelayout),Fd.modebar&&zd.push(se.doModeBar),Fd.camera&&zd.push(se.doCamera),zd.push(ml)),zd.push(x.rehover,x.redrag,x.reselect),F.add(_l,Ed,[_l,fd.undoit,Nd.undoit,fd.traces],Ed,[_l,fd.redoit,Nd.redoit,fd.traces]);var lh=C.syncOrAsync(zd,_l);return(!lh||!lh.then)&&(lh=Promise.resolve(_l)),lh.then(function(){return _l.emit("plotly_update",{data:fd.eventData,layout:Nd.eventData}),_l})}function _u(_l){return function(Ul){Ul._fullLayout._guiEditing=!0;var Jl=_l.apply(null,arguments);return Ul._fullLayout._guiEditing=!1,Jl}}var Nu=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^(map\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],Gl=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function rd(_l,Ul){for(var Jl=0;Jl<Ul.length;Jl++){var Hu=Ul[Jl],Ku=_l.match(Hu.pattern);if(Ku){var fd=Ku[1]||"";return{head:fd,tail:_l.substr(fd.length+1),attr:Hu.attr}}}}function Sd(_l,Ul){var Jl=P(Ul,_l).get();if(Jl!==void 0)return Jl;var Hu=_l.split(".");for(Hu.pop();Hu.length>1;)if(Hu.pop(),Jl=P(Ul,Hu.join(".")+".uirevision").get(),Jl!==void 0)return Jl;return Ul.uirevision}function Pd(_l,Ul){for(var Jl=0;Jl<Ul.length;Jl++)if(Ul[Jl]._fullInput.uid===_l)return Jl;return-1}function Ud(_l,Ul,Jl){for(var Hu=0;Hu<Ul.length;Hu++)if(Ul[Hu].uid===_l)return Hu;return!Ul[Jl]||Ul[Jl].uid?-1:Jl}function $d(_l,Ul){var Jl=C.isPlainObject(_l),Hu=Array.isArray(_l);return Jl||Hu?(Jl&&C.isPlainObject(Ul)||Hu&&Array.isArray(Ul))&&JSON.stringify(_l)===JSON.stringify(Ul):_l===Ul}function th(_l,Ul,Jl,Hu){var Ku=Hu._preGUI,fd,bd,Nd,Fd,zd,lh,hh,gh,Zh,yf,Pf=[],jf={},tp={};for(fd in Ku){if(zd=rd(fd,Nu),zd){if(Zh=zd.head,yf=zd.tail,bd=zd.attr||Zh+".uirevision",Nd=P(Hu,bd).get(),Fd=Nd&&Sd(bd,Ul),Fd&&Fd===Nd){if(lh=Ku[fd],lh===null&&(lh=void 0),hh=P(Ul,fd),gh=hh.get(),$d(gh,lh)){gh===void 0&&yf==="autorange"&&Pf.push(Zh),hh.set(nl(P(Hu,fd).get()));continue}else if(yf==="autorange"||yf.substr(0,6)==="range["){var Tf=Ku[Zh+".range[0]"],$h=Ku[Zh+".range[1]"],Gf=Ku[Zh+".autorange"];if(Gf||Gf===null&&Tf===null&&$h===null){if(!(Zh in jf)){var of=P(Ul,Zh).get();jf[Zh]=of&&(of.autorange||of.autorange!==!1&&(!of.range||of.range.length!==2))}if(jf[Zh]){hh.set(nl(P(Hu,fd).get()));continue}}}}}else C.warn("unrecognized GUI edit: "+fd);delete Ku[fd],zd&&zd.tail.substr(0,6)==="range["&&(tp[zd.head]=1)}for(var Lf=0;Lf<Pf.length;Lf++){var Df=Pf[Lf];if(tp[Df]){var If=P(Ul,Df).get();If&&delete If.autorange}}var Ff=Hu._tracePreGUI;for(var bp in Ff){var Op=Ff[bp],Wf=null,zp;for(fd in Op){if(!Wf){var qp=Pd(bp,Jl);if(qp<0){delete Ff[bp];break}var p0=Jl[qp];zp=p0._fullInput;var m0=Ud(bp,_l,zp.index);if(m0<0){delete Ff[bp];break}Wf=_l[m0]}if(zd=rd(fd,Gl),zd){if(zd.attr?(Nd=P(Hu,zd.attr).get(),Fd=Nd&&Sd(zd.attr,Ul)):(Nd=zp.uirevision,Fd=Wf.uirevision,Fd===void 0&&(Fd=Ul.uirevision)),Fd&&Fd===Nd&&(lh=Op[fd],lh===null&&(lh=void 0),hh=P(Wf,fd),gh=hh.get(),$d(gh,lh))){hh.set(nl(P(zp,fd).get()));continue}}else C.warn("unrecognized GUI edit: "+fd+" in trace uid "+bp);delete Op[fd]}}}function sh(_l,Ul,Jl,Hu){var Ku,fd;function bd(){return rl.addFrames(_l,Ku)}_l=C.getGraphDiv(_l),Y.clearPromiseQueue(_l);var Nd=_l._fullData,Fd=_l._fullLayout;if(!C.isPlotDiv(_l)||!Nd||!Fd)fd=rl.newPlot(_l,Ul,Jl,Hu);else{if(C.isPlainObject(Ul)){var zd=Ul;Ul=zd.data,Jl=zd.layout,Hu=zd.config,Ku=zd.frames}var lh=!1;if(Hu){let zp=C.extendDeepAll({},_l._context);_l._context=void 0,sl(_l,Hu),lh=!Y.collectionsAreEqual(zp,_l._context)}if(lh){let zp=_l._ev.eventNames().map(qp=>[qp,_l._ev.listeners(qp)]);fd=rl.newPlot(_l,Ul,Jl,Hu).then(()=>{for(let[qp,p0]of zp)p0.forEach(m0=>_l.on(qp,m0));return rl.react(_l,Ul,Jl,Hu)})}else{_l.data=Ul||[],Y.cleanData(_l.data),_l.layout=Jl||{},Y.cleanLayout(_l.layout),th(_l.data,_l.layout,Nd,Fd),x.supplyDefaults(_l,{skipUpdateCalc:!0});var hh=_l._fullData,gh=_l._fullLayout,Zh=gh.datarevision===void 0,yf=gh.transition,Pf=Ah(_l,Fd,gh,Zh,yf),jf=Pf.newDataRevision,tp=ah(_l,Nd,hh,Zh,yf,jf);if(Rd(_l)&&(Pf.layoutReplot=!0),tp.calc||Pf.calc){_l.calcdata=void 0;for(var Tf=Object.getOwnPropertyNames(gh),$h=0;$h<Tf.length;$h++){var Gf=Tf[$h],of=Gf.substring(0,5);if(of==="xaxis"||of==="yaxis"){var Lf=gh[Gf]._emptyCategories;Lf&&Lf()}}}else x.supplyDefaultsUpdateCalc(_l.calcdata,hh);var Df=[];if(Ku&&(_l._transitionData={},x.createTransitionData(_l),Df.push(bd)),gh.transition&&(tp.anim||Pf.anim))Pf.ticks&&Df.push(se.doTicksRelayout),x.doCalcdata(_l),se.doAutoRangeAndConstraints(_l),Df.push(function(){return x.transitionFromReact(_l,tp,Pf,Fd)});else if(tp.fullReplot||Pf.layoutReplot)_l._fullLayout._skipDefaults=!0,Df.push(rl._doPlot);else{for(var If in Pf.arrays){var Ff=Pf.arrays[If];if(Ff.length){var bp=I.getComponentMethod(If,"drawOne");if(bp!==C.noop)for(var Op=0;Op<Ff.length;Op++)bp(_l,Ff[Op]);else{var Wf=I.getComponentMethod(If,"draw");if(Wf===C.noop)throw new Error("cannot draw components: "+If);Wf(_l)}}}Df.push(x.previousPromises),tp.style&&Df.push(se.doTraceStyle),(tp.colorbars||Pf.colorbars)&&Df.push(se.doColorBars),Pf.legend&&Df.push(se.doLegend),Pf.layoutstyle&&Df.push(se.layoutStyles),Pf.axrange&&Zl(Df),Pf.ticks&&Df.push(se.doTicksRelayout),Pf.modebar&&Df.push(se.doModeBar),Pf.camera&&Df.push(se.doCamera),Df.push(ml)}Df.push(x.rehover,x.redrag,x.reselect),fd=C.syncOrAsync(Df,_l),(!fd||!fd.then)&&(fd=Promise.resolve(_l))}}return fd.then(()=>(lh||_l.emit("plotly_react",{config:Hu,data:Ul,layout:Jl}),_l))}function ah(_l,Ul,Jl,Hu,Ku,fd){var bd=Ul.length===Jl.length;if(!Ku&&!bd)return{fullReplot:!0,calc:!0};var Nd=nt.traceFlags();Nd.arrays={},Nd.nChanges=0,Nd.nChangesAnim=0;var Fd,zd;function lh(Zh){var yf=B.getTraceValObject(zd,Zh);return!zd._module.animatable&&yf.anim&&(yf.anim=!1),yf}var hh={getValObject:lh,flags:Nd,immutable:Hu,transition:Ku,newDataRevision:fd,gd:_l},gh={};for(Fd=0;Fd<Ul.length;Fd++)if(Jl[Fd]){if(zd=Jl[Fd]._fullInput,gh[zd.uid])continue;gh[zd.uid]=1,Yd(Ul[Fd]._fullInput,zd,[],hh)}return(Nd.calc||Nd.plot)&&(Nd.fullReplot=!0),Ku&&Nd.nChanges&&Nd.nChangesAnim&&(Nd.anim=Nd.nChanges===Nd.nChangesAnim&&bd?"all":"some"),Nd}function Ah(_l,Ul,Jl,Hu,Ku){var fd=nt.layoutFlags();fd.arrays={},fd.rangesAltered={},fd.nChanges=0,fd.nChangesAnim=0;function bd(gh){return B.getLayoutValObject(Jl,gh)}for(var Nd in Jl)if(!(!Nd.startsWith("xaxis")&&!Nd.startsWith("yaxis"))&&Ul[Nd]){var Fd=Jl[Nd].domain,zd=Ul[Nd].domain,lh=Ul[Nd]._inputDomain;Ul[Nd]._inputDomain&&(Fd[0]===lh[0]&&Fd[1]===lh[1]?Jl[Nd].domain=Ul[Nd].domain:(Fd[0]!==zd[0]||Fd[1]!==zd[1])&&(Jl[Nd]._inputDomain=null))}var hh={getValObject:bd,flags:fd,immutable:Hu,transition:Ku,gd:_l};return Yd(Ul,Jl,[],hh),(fd.plot||fd.calc)&&(fd.layoutReplot=!0),Ku&&fd.nChanges&&fd.nChangesAnim&&(fd.anim=fd.nChanges===fd.nChangesAnim?"all":"some"),fd}function Yd(_l,Ul,Jl,Hu){var Ku,fd,bd,Nd=Hu.getValObject,Fd=Hu.flags,zd=Hu.immutable,lh=Hu.inArray,hh=Hu.arrayIndex;function gh(){var qp=Ku.editType;if(lh&&qp.indexOf("arraydraw")!==-1){C.pushUnique(Fd.arrays[lh],hh);return}nt.update(Fd,Ku),qp!=="none"&&Fd.nChanges++,Hu.transition&&Ku.anim&&Fd.nChangesAnim++,(Bu.test(bd)||Ju.test(bd))&&(Fd.rangesAltered[Jl[0]]=1),fd==="datarevision"&&(Fd.newDataRevision=1)}function Zh(qp){return qp.valType==="data_array"||qp.arrayOk}for(fd in _l){if(Fd.calc&&!Hu.transition)return;var yf=_l[fd],Pf=Ul[fd],jf=Jl.concat(fd);if(bd=jf.join("."),!(fd.charAt(0)==="_"||typeof yf=="function"||yf===Pf)){if((fd==="tick0"||fd==="dtick")&&Jl[0]!=="geo"){var tp=Ul.tickmode;if(tp==="auto"||tp==="array"||!tp)continue}if(!(fd==="range"&&Ul.autorange)&&!((fd==="zmin"||fd==="zmax")&&Ul.type==="contourcarpet")&&(Ku=Nd(jf),!!Ku&&!(Ku._compareAsJSON&&JSON.stringify(yf)===JSON.stringify(Pf)))){var Tf=Ku.valType,$h,Gf=Zh(Ku),of=Array.isArray(yf),Lf=Array.isArray(Pf);if(of&&Lf){var Df="_input_"+fd,If=_l[Df],Ff=Ul[Df];if(Array.isArray(If)&&If===Ff)continue}if(Pf===void 0)Gf&&of?Fd.calc=!0:gh();else if(Ku._isLinkedToArray){var bp=[],Op=!1;lh||(Fd.arrays[fd]=bp);var Wf=Math.min(yf.length,Pf.length),zp=Math.max(yf.length,Pf.length);if(Wf!==zp)if(Ku.editType==="arraydraw")Op=!0;else{gh();continue}for($h=0;$h<Wf;$h++)Yd(yf[$h],Pf[$h],jf.concat($h),C.extendFlat({inArray:fd,arrayIndex:$h},Hu));if(Op)for($h=Wf;$h<zp;$h++)bp.push($h)}else!Tf&&C.isPlainObject(yf)?Yd(yf,Pf,jf,Hu):Gf?of&&Lf?(zd&&(Fd.calc=!0),(zd||Hu.newDataRevision)&&gh()):of!==Lf?Fd.calc=!0:gh():of&&Lf?(yf.length!==Pf.length||String(yf)!==String(Pf))&&gh():gh()}}}for(fd in Ul)if(!(fd in _l||fd.charAt(0)==="_"||typeof Ul[fd]=="function"))if(Ku=Nd(Jl.concat(fd)),Zh(Ku)&&Array.isArray(Ul[fd])){Fd.calc=!0;return}else gh()}function Ph(_l,Ul,Jl){if(_l=C.getGraphDiv(_l),!C.isPlotDiv(_l))throw new Error("This element is not a Plotly plot: "+_l+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var Hu=_l._transitionData;Hu._frameQueue||(Hu._frameQueue=[]),Jl=x.supplyAnimationDefaults(Jl);var Ku=Jl.transition,fd=Jl.frame;Hu._frameWaitingCnt===void 0&&(Hu._frameWaitingCnt=0);function bd(zd){return Array.isArray(Ku)?zd>=Ku.length?Ku[0]:Ku[zd]:Ku}function Nd(zd){return Array.isArray(fd)?zd>=fd.length?fd[0]:fd[zd]:fd}function Fd(zd,lh){var hh=0;return function(){if(zd&&++hh===lh)return zd()}}return new Promise(function(zd,lh){function hh(){if(Hu._frameQueue.length!==0){for(;Hu._frameQueue.length;){var Wf=Hu._frameQueue.pop();Wf.onInterrupt&&Wf.onInterrupt()}_l.emit("plotly_animationinterrupted",[])}}function gh(Wf){if(Wf.length!==0){for(var zp=0;zp<Wf.length;zp++){var qp;Wf[zp].type==="byname"?qp=x.computeFrame(_l,Wf[zp].name):qp=Wf[zp].data;var p0=Nd(zp),m0=bd(zp);m0.duration=Math.min(m0.duration,p0.duration);var Ap={frame:qp,name:Wf[zp].name,frameOpts:p0,transitionOpts:m0};zp===Wf.length-1&&(Ap.onComplete=Fd(zd,2),Ap.onInterrupt=lh),Hu._frameQueue.push(Ap)}Jl.mode==="immediate"&&(Hu._lastFrameAt=-1/0),Hu._animationRaf||Pf()}}function Zh(){_l.emit("plotly_animated"),window.cancelAnimationFrame(Hu._animationRaf),Hu._animationRaf=null}function yf(){Hu._currentFrame&&Hu._currentFrame.onComplete&&Hu._currentFrame.onComplete();var Wf=Hu._currentFrame=Hu._frameQueue.shift();if(Wf){var zp=Wf.name?Wf.name.toString():null;_l._fullLayout._currentFrame=zp,Hu._lastFrameAt=Date.now(),Hu._timeToNext=Wf.frameOpts.duration,x.transition(_l,Wf.frame.data,Wf.frame.layout,Y.coerceTraceIndices(_l,Wf.frame.traces),Wf.frameOpts,Wf.transitionOpts).then(function(){Wf.onComplete&&Wf.onComplete()}),_l.emit("plotly_animatingframe",{name:zp,frame:Wf.frame,animation:{frame:Wf.frameOpts,transition:Wf.transitionOpts}})}else Zh()}function Pf(){_l.emit("plotly_animating"),Hu._lastFrameAt=-1/0,Hu._timeToNext=0,Hu._runningTransitions=0,Hu._currentFrame=null;var Wf=function(){Hu._animationRaf=window.requestAnimationFrame(Wf),Date.now()-Hu._lastFrameAt>Hu._timeToNext&&yf()};Wf()}var jf=0;function tp(Wf){return Array.isArray(Ku)?jf>=Ku.length?Wf.transitionOpts=Ku[jf]:Wf.transitionOpts=Ku[0]:Wf.transitionOpts=Ku,jf++,Wf}var Tf,$h,Gf=[],of=Ul==null,Lf=Array.isArray(Ul),Df=!of&&!Lf&&C.isPlainObject(Ul);if(Df)Gf.push({type:"object",data:tp(C.extendFlat({},Ul))});else if(of||["string","number"].indexOf(typeof Ul)!==-1)for(Tf=0;Tf<Hu._frames.length;Tf++)$h=Hu._frames[Tf],$h&&(of||String($h.group)===String(Ul))&&Gf.push({type:"byname",name:String($h.name),data:tp({name:$h.name})});else if(Lf)for(Tf=0;Tf<Ul.length;Tf++){var If=Ul[Tf];["number","string"].indexOf(typeof If)!==-1?(If=String(If),Gf.push({type:"byname",name:If,data:tp({name:If})})):C.isPlainObject(If)&&Gf.push({type:"object",data:tp(C.extendFlat({},If))})}for(Tf=0;Tf<Gf.length;Tf++)if($h=Gf[Tf],$h.type==="byname"&&!Hu._frameHash[$h.data.name]){C.warn('animate failure: frame not found: "'+$h.data.name+'"'),lh();return}["next","immediate"].indexOf(Jl.mode)!==-1&&hh(),Jl.direction==="reverse"&&Gf.reverse();var Ff=_l._fullLayout._currentFrame;if(Ff&&Jl.fromcurrent){var bp=-1;for(Tf=0;Tf<Gf.length;Tf++)if($h=Gf[Tf],$h.type==="byname"&&$h.name===Ff){bp=Tf;break}if(bp>0&&bp<Gf.length-1){var Op=[];for(Tf=0;Tf<Gf.length;Tf++)$h=Gf[Tf],(Gf[Tf].type!=="byname"||Tf>bp)&&Op.push($h);Gf=Op}}Gf.length>0?gh(Gf):(_l.emit("plotly_animated"),zd())})}function jh(_l,Ul,Jl){if(_l=C.getGraphDiv(_l),Ul==null)return Promise.resolve();if(!C.isPlotDiv(_l))throw new Error("This element is not a Plotly plot: "+_l+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var Hu,Ku,fd,bd,Nd=_l._transitionData._frames,Fd=_l._transitionData._frameHash;if(!Array.isArray(Ul))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+Ul);var zd=Nd.length+Ul.length*2,lh=[],hh={};for(Hu=Ul.length-1;Hu>=0;Hu--)if(C.isPlainObject(Ul[Hu])){var gh=Ul[Hu].name,Zh=(Fd[gh]||hh[gh]||{}).name,yf=Ul[Hu].name,Pf=Fd[Zh]||hh[Zh];Zh&&yf&&typeof yf=="number"&&Pf&&Bn<jt&&(Bn++,C.warn('addFrames: overwriting frame "'+(Fd[Zh]||hh[Zh]).name+'" with a frame whose name of type "number" also equates to "'+Zh+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),Bn===jt&&C.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),hh[gh]={name:gh},lh.push({frame:x.supplyFrameDefaults(Ul[Hu]),index:Jl&&Jl[Hu]!==void 0&&Jl[Hu]!==null?Jl[Hu]:zd+Hu})}lh.sort(function(Df,If){return Df.index>If.index?-1:Df.index<If.index?1:0});var jf=[],tp=[],Tf=Nd.length;for(Hu=lh.length-1;Hu>=0;Hu--){if(Ku=lh[Hu].frame,typeof Ku.name=="number"&&C.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!Ku.name)for(;Fd[Ku.name="frame "+_l._transitionData._counter++];);if(Fd[Ku.name]){for(fd=0;fd<Nd.length&&(Nd[fd]||{}).name!==Ku.name;fd++);jf.push({type:"replace",index:fd,value:Ku}),tp.unshift({type:"replace",index:fd,value:Nd[fd]})}else bd=Math.max(0,Math.min(lh[Hu].index,Tf)),jf.push({type:"insert",index:bd,value:Ku}),tp.unshift({type:"delete",index:bd}),Tf++}var $h=x.modifyFrames,Gf=x.modifyFrames,of=[_l,tp],Lf=[_l,jf];return F&&F.add(_l,$h,of,Gf,Lf),x.modifyFrames(_l,jf)}function Th(_l,Ul){if(_l=C.getGraphDiv(_l),!C.isPlotDiv(_l))throw new Error("This element is not a Plotly plot: "+_l);var Jl,Hu,Ku=_l._transitionData._frames,fd=[],bd=[];if(!Ul)for(Ul=[],Jl=0;Jl<Ku.length;Jl++)Ul.push(Jl);for(Ul=Ul.slice(),Ul.sort(),Jl=Ul.length-1;Jl>=0;Jl--)Hu=Ul[Jl],fd.push({type:"delete",index:Hu}),bd.unshift({type:"insert",index:Hu,value:Ku[Hu]});var Nd=x.modifyFrames,Fd=x.modifyFrames,zd=[_l,bd],lh=[_l,fd];return F&&F.add(_l,Nd,zd,Fd,lh),x.modifyFrames(_l,fd)}function Xh(_l){_l=C.getGraphDiv(_l);var Ul=_l._fullLayout||{},Jl=_l._fullData||[];return x.cleanPlot([],{},Jl,Ul),x.purge(_l),R.purge(_l),Ul._container&&Ul._container.remove(),delete _l._context,_l}function Pu(_l){var Ul=_l._fullLayout,Jl=_l.getBoundingClientRect();if(!C.equalDomRects(Jl,Ul._lastBBox)){var Hu=Ul._invTransform=C.inverseTransformMatrix(C.getFullTransformMatrix(_l));Ul._invScaleX=Math.sqrt(Hu[0][0]*Hu[0][0]+Hu[0][1]*Hu[0][1]+Hu[0][2]*Hu[0][2]),Ul._invScaleY=Math.sqrt(Hu[1][0]*Hu[1][0]+Hu[1][1]*Hu[1][1]+Hu[1][2]*Hu[1][2]),Ul._lastBBox=Jl}}function sd(_l){var Ul=In.select(_l),Jl=_l._fullLayout;if(Jl._calcInverseTransform=Pu,Jl._calcInverseTransform(_l),Jl._container=Ul.selectAll(".plot-container").data([0]),Jl._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0).style({width:"100%",height:"100%"}),Jl._paperdiv=Jl._container.selectAll(".svg-container").data([0]),Jl._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),Jl._glcontainer=Jl._paperdiv.selectAll(".gl-container").data([{}]),Jl._glcontainer.enter().append("div").classed("gl-container",!0),Jl._paperdiv.selectAll(".main-svg").remove(),Jl._paperdiv.select(".modebar-container").remove(),Jl._paper=Jl._paperdiv.insert("svg",":first-child").classed("main-svg",!0),Jl._toppaper=Jl._paperdiv.append("svg").classed("main-svg",!0),Jl._modebardiv=Jl._paperdiv.append("div"),delete Jl._modeBar,Jl._hoverpaper=Jl._paperdiv.append("svg").classed("main-svg",!0),!Jl._uid){var Hu={};In.selectAll("defs").each(function(){this.id&&(Hu[this.id.split("-")[1]]=1)}),Jl._uid=C.randstr(Hu)}Jl._paperdiv.selectAll(".main-svg").attr(q.svgAttrs),Jl._defs=Jl._paper.append("defs").attr("id","defs-"+Jl._uid),Jl._clips=Jl._defs.append("g").classed("clips",!0),Jl._topdefs=Jl._toppaper.append("defs").attr("id","topdefs-"+Jl._uid),Jl._topclips=Jl._topdefs.append("g").classed("clips",!0),Jl._bgLayer=Jl._paper.append("g").classed("bglayer",!0),Jl._draggers=Jl._paper.append("g").classed("draglayer",!0);var Ku=Jl._paper.append("g").classed("layer-below",!0);Jl._imageLowerLayer=Ku.append("g").classed("imagelayer",!0),Jl._shapeLowerLayer=Ku.append("g").classed("shapelayer",!0),Jl._cartesianlayer=Jl._paper.append("g").classed("cartesianlayer",!0),Jl._polarlayer=Jl._paper.append("g").classed("polarlayer",!0),Jl._smithlayer=Jl._paper.append("g").classed("smithlayer",!0),Jl._ternarylayer=Jl._paper.append("g").classed("ternarylayer",!0),Jl._geolayer=Jl._paper.append("g").classed("geolayer",!0),Jl._funnelarealayer=Jl._paper.append("g").classed("funnelarealayer",!0),Jl._pielayer=Jl._paper.append("g").classed("pielayer",!0),Jl._iciclelayer=Jl._paper.append("g").classed("iciclelayer",!0),Jl._treemaplayer=Jl._paper.append("g").classed("treemaplayer",!0),Jl._sunburstlayer=Jl._paper.append("g").classed("sunburstlayer",!0),Jl._indicatorlayer=Jl._toppaper.append("g").classed("indicatorlayer",!0),Jl._glimages=Jl._paper.append("g").classed("glimages",!0);var fd=Jl._toppaper.append("g").classed("layer-above",!0);Jl._imageUpperLayer=fd.append("g").classed("imagelayer",!0),Jl._shapeUpperLayer=fd.append("g").classed("shapelayer",!0),Jl._selectionLayer=Jl._toppaper.append("g").classed("selectionlayer",!0),Jl._infolayer=Jl._toppaper.append("g").classed("infolayer",!0),Jl._menulayer=Jl._toppaper.append("g").classed("menulayer",!0),Jl._zoomlayer=Jl._toppaper.append("g").classed("zoomlayer",!0),Jl._hoverlayer=Jl._hoverpaper.append("g").classed("hoverlayer",!0),Jl._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),_l.emit("plotly_framework")}rl.animate=Ph,rl.addFrames=jh,rl.deleteFrames=Th,rl.addTraces=pl,rl.deleteTraces=it,rl.extendTraces=Iu,rl.moveTraces=bl,rl.prependTraces=cl,rl.newPlot=yl,rl._doPlot=Pe,rl.purge=Xh,rl.react=sh,rl.redraw=vl,rl.relayout=Il,rl.restyle=Ll,rl.setPlotConfig=tl,rl.update=Ed,rl._guiRelayout=_u(Il),rl._guiRestyle=_u(Ll),rl._guiUpdate=_u(Ed),rl._storeDirectGUIEdit=ol}),Nm=o(rl=>{var In=Ep();rl.getDelay=function(C){return C._has&&(C._has("gl3d")||C._has("mapbox")||C._has("map"))?500:0},rl.getRedrawFunc=function(C){return function(){In.getComponentMethod("colorbar","draw")(C)}},rl.encodeSVG=function(C){return"data:image/svg+xml,"+encodeURIComponent(C)},rl.encodeJSON=function(C){return"data:application/json,"+encodeURIComponent(C)};var A=window.URL||window.webkitURL;rl.createObjectURL=function(C){return A.createObjectURL(C)},rl.revokeObjectURL=function(C){return A.revokeObjectURL(C)},rl.createBlob=function(C,P){if(P==="svg")return new window.Blob([C],{type:"image/svg+xml;charset=utf-8"});if(P==="full-json")return new window.Blob([C],{type:"application/json;charset=utf-8"});var R=v(window.atob(C));return new window.Blob([R],{type:"image/"+P})},rl.octetStream=function(C){document.location.href="data:application/octet-stream"+C};function v(C){for(var P=C.length,R=new ArrayBuffer(P),F=new Uint8Array(R),I=0;I<P;I++)F[I]=C.charCodeAt(I);return R}rl.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/}),uv=o((rl,In)=>{var A=f();ls();var v=dh(),C=Bd();og();var P=/"/g,R="TOBESTRIPPED",F=new RegExp('("'+R+")|("+R+'")',"g");function I(x){var W=A.select("body").append("div").style({display:"none"}).html(""),z=x.replace(/(&[^;]*;)/gi,function(U){return U==="&lt;"?"&#60;":U==="&rt;"?"&#62;":U.indexOf("<")!==-1||U.indexOf(">")!==-1?"":W.html(U).text()});return W.remove(),z}function B(x){return x.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}In.exports=function(x,W,z){var U=x._fullLayout,Q=U._paper,Z=U._toppaper,$=U.width,q=U.height,J;Q.insert("rect",":first-child").call(v.setRect,0,0,$,q).call(C.fill,U.paper_bgcolor);var O=U._basePlotModules||[];for(J=0;J<O.length;J++){var j=O[J];j.toSVG&&j.toSVG(x)}if(Z){var Y=Z.node().childNodes,se=Array.prototype.slice.call(Y);for(J=0;J<se.length;J++){var nt=se[J];nt.childNodes.length&&Q.node().appendChild(nt)}}U._draggers&&U._draggers.remove(),Q.node().style.background="",Q.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var Bn=A.select(this);if(this.style.visibility==="hidden"||this.style.display==="none"){Bn.remove();return}else Bn.style({visibility:null,display:null});var jt=this.style.fontFamily;jt&&jt.indexOf('"')!==-1&&Bn.style("font-family",jt.replace(P,R));var Pe=this.style.fontWeight;Pe&&(Pe==="normal"||Pe==="400")&&Bn.style("font-weight",void 0);var ml=this.style.fontStyle;ml&&ml==="normal"&&Bn.style("font-style",void 0);var tl=this.style.fontVariant;tl&&tl==="normal"&&Bn.style("font-variant",void 0)}),Q.selectAll(".gradient_filled,.pattern_filled").each(function(){var Bn=A.select(this),jt=this.style.fill;jt&&jt.indexOf("url(")!==-1&&Bn.style("fill",jt.replace(P,R));var Pe=this.style.stroke;Pe&&Pe.indexOf("url(")!==-1&&Bn.style("stroke",Pe.replace(P,R))}),(W==="pdf"||W==="eps")&&Q.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),W==="svg"&&z&&(Q.attr("width",z*$),Q.attr("height",z*q),Q.attr("viewBox","0 0 "+$+" "+q));var gl=new window.XMLSerializer().serializeToString(Q.node());return gl=I(gl),gl=B(gl),gl=gl.replace(F,"'"),gl}}),Wy=o((rl,In)=>{var A=ls(),v=_h().EventEmitter,C=Nm();function P(R){var F=R.emitter||new v,I=new Promise(function(B,x){var W=window.Image,z=R.svg,U=R.format||"png",Q=R.canvas,Z=R.scale||1,$=R.width||300,q=R.height||150,J=Z*$,O=Z*q,j=Q.getContext("2d",{willReadFrequently:!0}),Y=new W,se,nt;U==="svg"||A.isSafari()?nt=C.encodeSVG(z):(se=C.createBlob(z,"svg"),nt=C.createObjectURL(se)),Q.width=J,Q.height=O,Y.onload=function(){var gl;switch(se=null,C.revokeObjectURL(nt),U!=="svg"&&j.drawImage(Y,0,0,J,O),U){case"jpeg":gl=Q.toDataURL("image/jpeg");break;case"png":gl=Q.toDataURL("image/png");break;case"webp":gl=Q.toDataURL("image/webp");break;case"svg":gl=nt;break;default:var Bn="Image format is not jpeg, png, svg or webp.";if(x(new Error(Bn)),!R.promise)return F.emit("error",Bn)}B(gl),R.promise||F.emit("success",gl)},Y.onerror=function(gl){if(se=null,C.revokeObjectURL(nt),x(gl),!R.promise)return F.emit("error",gl)},Y.src=nt});return R.promise?I:F}In.exports=P}),_2=o((rl,In)=>{var A=G(),v=k2(),C=Jp(),P=ls(),R=Nm(),F=uv(),I=Wy(),B=l().version,x={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};function W(z,U){U=U||{};var Q,Z,$,q;P.isPlainObject(z)?(Q=z.data||[],Z=z.layout||{},$=z.config||{},q={}):(z=P.getGraphDiv(z),Q=P.extendDeep([],z.data),Z=P.extendDeep({},z.layout),$=z._context,q=z._fullLayout||{});function J(yl){return!(yl in U)||P.validate(U[yl],x[yl])}if(!J("width")&&U.width!==null||!J("height")&&U.height!==null)throw new Error("Height and width should be pixel values.");if(!J("format"))throw new Error("Export format is not "+P.join2(x.format.values,", "," or ")+".");var O={};function j(yl,Fn){return P.coerce(U,O,x,yl,Fn)}var Y=j("format"),se=j("width"),nt=j("height"),gl=j("scale"),Bn=j("setBackground"),jt=j("imageDataOnly"),Pe=document.createElement("div");Pe.style.position="absolute",Pe.style.left="-5000px",document.body.appendChild(Pe);var ml=P.extendFlat({},Z);se?ml.width=se:U.width===null&&A(q.width)&&(ml.width=q.width),nt?ml.height=nt:U.height===null&&A(q.height)&&(ml.height=q.height);var tl=P.extendFlat({},$,{_exportedPlot:!0,staticPlot:!0,setBackground:Bn}),ul=R.getRedrawFunc(Pe);function il(){return new Promise(function(yl){setTimeout(yl,R.getDelay(Pe._fullLayout))})}function sl(){return new Promise(function(yl,Fn){var xl=F(Pe,Y,gl),wl=Pe._fullLayout.width,kl=Pe._fullLayout.height;function Dl(){v.purge(Pe),document.body.removeChild(Pe)}if(Y==="full-json"){var Ol=C.graphJson(Pe,!1,"keepdata","object",!0,!0);return Ol.version=B,Ol=JSON.stringify(Ol),Dl(),yl(jt?Ol:R.encodeJSON(Ol))}if(Dl(),Y==="svg")return yl(jt?xl:R.encodeSVG(xl));var gu=document.createElement("canvas");gu.id=P.randstr(),I({format:Y,width:wl,height:kl,scale:gl,canvas:gu,svg:xl,promise:!0}).then(yl).catch(Fn)})}function vl(yl){return jt?yl.replace(R.IMAGE_URL_PREFIX,""):yl}return new Promise(function(yl,Fn){v.newPlot(Pe,Q,ml,tl).then(ul).then(il).then(sl).then(function(xl){yl(vl(xl))}).catch(function(xl){Fn(xl)})})}In.exports=W}),v1=o((rl,In)=>{var A=ls(),v=Jp(),C=xp(),P=Md().dfltConfig,R=A.isPlainObject,F=Array.isArray,I=A.isArrayOrTypedArray;In.exports=function(O,j){O===void 0&&(O=[]),j===void 0&&(j={});var Y=C.get(),se=[],nt={_context:A.extendFlat({},P)},gl,Bn;F(O)?(nt.data=A.extendDeep([],O),gl=O):(nt.data=[],gl=[],se.push(U("array","data"))),R(j)?(nt.layout=A.extendDeep({},j),Bn=j):(nt.layout={},Bn={},arguments.length>1&&se.push(U("object","layout"))),v.supplyDefaults(nt);for(var jt=nt._fullData,Pe=gl.length,ml=0;ml<Pe;ml++){var tl=gl[ml],ul=["data",ml];if(!R(tl)){se.push(U("object",ul));continue}var il=jt[ml],sl=il.type,vl=Y.traces[sl].attributes;vl.type={valType:"enumerated",values:[sl]},il.visible===!1&&tl.visible!==!1&&se.push(U("invisible",ul)),B(tl,il,vl,se,ul)}var yl=nt._fullLayout,Fn=x(Y,jt);return B(Bn,yl,Fn,se,"layout"),se.length===0?void 0:se};function B(O,j,Y,se,nt,gl){gl=gl||[];for(var Bn=Object.keys(O),jt=0;jt<Bn.length;jt++){var Pe=Bn[jt],ml=gl.slice();ml.push(Pe);var tl=O[Pe],ul=j[Pe],il=Z(Y,Pe),sl=(il||{}).valType,vl=sl==="info_array",yl=sl==="colorscale",Fn=(il||{}).items;if(!Q(Y,Pe))se.push(U("schema",nt,ml));else if(R(tl)&&R(ul)&&sl!=="any")B(tl,ul,il,se,nt,ml);else if(vl&&F(tl)){tl.length>ul.length&&se.push(U("unused",nt,ml.concat(ul.length)));var xl=ul.length,wl=Array.isArray(Fn);wl&&(xl=Math.min(xl,Fn.length));var kl,Dl,Ol,gu,yu;if(il.dimensions===2)for(Dl=0;Dl<xl;Dl++)if(F(tl[Dl])){tl[Dl].length>ul[Dl].length&&se.push(U("unused",nt,ml.concat(Dl,ul[Dl].length)));var Iu=ul[Dl].length;for(kl=0;kl<(wl?Math.min(Iu,Fn[Dl].length):Iu);kl++)Ol=wl?Fn[Dl][kl]:Fn,gu=tl[Dl][kl],yu=ul[Dl][kl],A.validate(gu,Ol)?yu!==gu&&yu!==+gu&&se.push(U("dynamic",nt,ml.concat(Dl,kl),gu,yu)):se.push(U("value",nt,ml.concat(Dl,kl),gu))}else se.push(U("array",nt,ml.concat(Dl),tl[Dl]));else for(Dl=0;Dl<xl;Dl++)Ol=wl?Fn[Dl]:Fn,gu=tl[Dl],yu=ul[Dl],A.validate(gu,Ol)?yu!==gu&&yu!==+gu&&se.push(U("dynamic",nt,ml.concat(Dl),gu,yu)):se.push(U("value",nt,ml.concat(Dl),gu))}else if(il.items&&!vl&&F(tl)){var cl=Fn[Object.keys(Fn)[0]],pl=[],it,bl;for(it=0;it<ul.length;it++){var Ll=ul[it]._index||it;if(bl=ml.slice(),bl.push(Ll),R(tl[Ll])&&R(ul[it])){pl.push(Ll);var nl=tl[Ll],ve=ul[it];R(nl)&&nl.visible!==!1&&ve.visible===!1?se.push(U("invisible",nt,bl)):B(nl,ve,cl,se,nt,bl)}}for(it=0;it<tl.length;it++)bl=ml.slice(),bl.push(it),R(tl[it])?pl.indexOf(it)===-1&&se.push(U("unused",nt,bl)):se.push(U("object",nt,bl,tl[it]))}else!R(tl)&&R(ul)?se.push(U("object",nt,ml,tl)):!I(tl)&&I(ul)&&!vl&&!yl?se.push(U("array",nt,ml,tl)):Pe in j?A.validate(tl,il)?il.valType==="enumerated"&&(il.coerceNumber&&tl!==+ul||!I(tl)&&tl!==ul||String(tl)!==String(ul))&&se.push(U("dynamic",nt,ml,tl,ul)):se.push(U("value",nt,ml,tl)):se.push(U("unused",nt,ml,tl))}return se}function x(O,j){for(var Y=O.layout.layoutAttributes,se=0;se<j.length;se++){var nt=j[se],gl=O.traces[nt.type],Bn=gl.layoutAttributes;Bn&&(nt.subplot?A.extendFlat(Y[gl.attributes.subplot.dflt],Bn):A.extendFlat(Y,Bn))}return Y}var W={object:function(O,j){var Y;return O==="layout"&&j===""?Y="The layout argument":O[0]==="data"&&j===""?Y="Trace "+O[1]+" in the data argument":Y=z(O)+"key "+j,Y+" must be linked to an object container"},array:function(O,j){var Y;return O==="data"?Y="The data argument":Y=z(O)+"key "+j,Y+" must be linked to an array container"},schema:function(O,j){return z(O)+"key "+j+" is not part of the schema"},unused:function(O,j,Y){var se=R(Y)?"container":"key";return z(O)+se+" "+j+" did not get coerced"},dynamic:function(O,j,Y,se){return[z(O)+"key",j,"(set to '"+Y+"')","got reset to","'"+se+"'","during defaults."].join(" ")},invisible:function(O,j){return(j?z(O)+"item "+j:"Trace "+O[1])+" got defaulted to be not visible"},value:function(O,j,Y){return[z(O)+"key "+j,"is set to an invalid value ("+Y+")"].join(" ")}};function z(O){return F(O)?"In data trace "+O[1]+", ":"In "+O+", "}function U(O,j,Y,se,nt){Y=Y||"";var gl,Bn;F(j)?(gl=j[0],Bn=j[1]):(gl=j,Bn=null);var jt=J(Y),Pe=W[O](j,jt,se,nt);return A.log(Pe),{code:O,container:gl,trace:Bn,path:Y,astr:jt,msg:Pe}}function Q(O,j){var Y=q(j),se=Y.keyMinusId,nt=Y.id;return se in O&&O[se]._isSubplotObj&&nt?!0:j in O}function Z(O,j){if(j in O)return O[j];var Y=q(j);return O[Y.keyMinusId]}var $=A.counterRegex("([a-z]+)");function q(O){var j=O.match($);return{keyMinusId:j&&j[1],id:j&&j[2]}}function J(O){if(!F(O))return String(O);for(var j="",Y=0;Y<O.length;Y++){var se=O[Y];typeof se=="number"?j=j.substr(0,j.length-1)+"["+se+"]":j+=se,Y<O.length-1&&(j+=".")}return j}}),ty=o((rl,In)=>{var A=ls(),v=Nm();function C(P,R,F){var I=document.createElement("a"),B="download"in I,x=new Promise(function(W,z){var U,Q;if(B)return U=v.createBlob(P,F),Q=v.createObjectURL(U),I.href=Q,I.download=R,document.body.appendChild(I),I.click(),document.body.removeChild(I),v.revokeObjectURL(Q),U=null,W(R);if(A.isSafari()){var Z=F==="svg"?",":";base64,";return v.octetStream(Z+encodeURIComponent(P)),W(R)}z(new Error("download error"))});return x}In.exports=C}),E2=o((rl,In)=>{var A=ls(),v=_2(),C=ty();Nm();function P(R,F){var I;return A.isPlainObject(R)||(I=A.getGraphDiv(R)),F=F||{},F.format=F.format||"png",F.width=F.width||null,F.height=F.height||null,F.imageDataOnly=!0,new Promise(function(B,x){I&&I._snapshotInProgress&&x(new Error("Snapshotting already in progress.")),I&&(I._snapshotInProgress=!0);var W=v(R,F),z=F.filename||R.fn||"newplot";z+="."+F.format.replace("-","."),W.then(function(U){return I&&(I._snapshotInProgress=!1),C(U,z,F.format)}).then(function(U){B(U)}).catch(function(U){I&&(I._snapshotInProgress=!1),x(U)})})}In.exports=P}),ry=o(rl=>{var In=ls(),A=In.isPlainObject,v=xp(),C=Jp(),P=Zu(),R=Zf(),F=Md().dfltConfig;rl.makeTemplate=function($){$=In.isPlainObject($)?$:In.getGraphDiv($),$=In.extendDeep({_context:F},{data:$.data,layout:$.layout}),C.supplyDefaults($);var q=$.data||[],J=$.layout||{};J._basePlotModules=$._fullLayout._basePlotModules,J._modules=$._fullLayout._modules;var O={data:{},layout:{}};q.forEach(function(tl){var ul={};x(tl,ul,z.bind(null,tl));var il=In.coerce(tl,{},P,"type"),sl=O.data[il];sl||(sl=O.data[il]=[]),sl.push(ul)}),x(J,O.layout,W.bind(null,J)),delete O.layout.template;var j=J.template;if(A(j)){var Y=j.layout,se,nt,gl,Bn,jt,Pe;A(Y)&&I(Y,O.layout);var ml=j.data;if(A(ml)){for(nt in O.data)if(gl=ml[nt],Array.isArray(gl)){for(jt=O.data[nt],Pe=jt.length,Bn=gl.length,se=0;se<Pe;se++)I(gl[se%Bn],jt[se]);for(se=Pe;se<Bn;se++)jt.push(In.extendDeep({},gl[se]))}for(nt in ml)nt in O.data||(O.data[nt]=In.extendDeep([],ml[nt]))}}return O};function I($,q){$=In.extendDeep({},$);var J=Object.keys($).sort(),O,j;function Y(jt,Pe,ml){if(A(Pe)&&A(jt))I(jt,Pe);else if(Array.isArray(Pe)&&Array.isArray(jt)){var tl=R.arrayTemplater({_template:$},ml);for(j=0;j<Pe.length;j++){var ul=Pe[j],il=tl.newItem(ul)._template;il&&I(il,ul)}var sl=tl.defaultItems();for(j=0;j<sl.length;j++)Pe.push(sl[j]._template);for(j=0;j<Pe.length;j++)delete Pe[j].templateitemname}}for(O=0;O<J.length;O++){var se=J[O],nt=$[se];if(se in q?Y(nt,q[se],se):q[se]=nt,B(se)===se)for(var gl in q){var Bn=B(gl);gl!==Bn&&Bn===se&&!(gl in $)&&Y(nt,q[gl],se)}}}function B($){return $.replace(/[0-9]+$/,"")}function x($,q,J,O,j){var Y=j&&J(j);for(var se in $){var nt=$[se],gl=U($,se,O),Bn=U($,se,j),jt=J(Bn);if(!jt){var Pe=B(se);Pe!==se&&(Bn=U($,Pe,j),jt=J(Bn))}if(!(Y&&Y===jt)&&!(!jt||jt._noTemplating||jt.valType==="data_array"||jt.arrayOk&&Array.isArray(nt)))if(!jt.valType&&A(nt))x(nt,q,J,gl,Bn);else if(jt._isLinkedToArray&&Array.isArray(nt))for(var ml=!1,tl=0,ul={},il=0;il<nt.length;il++){var sl=nt[il];if(A(sl)){var vl=sl.name;if(vl)ul[vl]||(x(sl,q,J,U(nt,tl,gl),U(nt,tl,Bn)),tl++,ul[vl]=1);else if(!ml){var yl=R.arrayDefaultKey(se),Fn=U($,yl,O),xl=U(nt,tl,gl);x(sl,q,J,xl,U(nt,tl,Bn));var wl=In.nestedProperty(q,xl),kl=In.nestedProperty(q,Fn);kl.set(wl.get()),wl.set(null),ml=!0}}}else{var Dl=In.nestedProperty(q,gl);Dl.set(nt)}}}function W($,q){return v.getLayoutValObject($,In.nestedProperty({},q).parts)}function z($,q){return v.getTraceValObject($,In.nestedProperty({},q).parts)}function U($,q,J){var O;return J?Array.isArray($)?O=J+"["+q+"]":O=J+"."+q:O=q,O}rl.validateTemplate=function($,q){var J=In.extendDeep({},{_context:F,data:$.data,layout:$.layout}),O=J.layout||{};A(q)||(q=O.template||{});var j=q.layout,Y=q.data,se=[];J.layout=O,J.layout.template=q,C.supplyDefaults(J);var nt=J._fullLayout,gl=J._fullData,Bn={};function jt(Fn,xl){for(var wl in Fn)if(wl.charAt(0)!=="_"&&A(Fn[wl])){var kl=B(wl),Dl=[],Ol;for(Ol=0;Ol<xl.length;Ol++)Dl.push(U(Fn,wl,xl[Ol])),kl!==wl&&Dl.push(U(Fn,kl,xl[Ol]));for(Ol=0;Ol<Dl.length;Ol++)Bn[Dl[Ol]]=1;jt(Fn[wl],Dl)}}function Pe(Fn,xl){for(var wl in Fn)if(wl.indexOf("defaults")===-1&&A(Fn[wl])){var kl=U(Fn,wl,xl);Bn[kl]?Pe(Fn[wl],kl):se.push({code:"unused",path:kl})}}if(A(j)?(jt(nt,["layout"]),Pe(j,"layout")):se.push({code:"layout"}),!A(Y))se.push({code:"data"});else{for(var ml={},tl,ul=0;ul<gl.length;ul++){var il=gl[ul];tl=il.type,ml[tl]=(ml[tl]||0)+1,il._fullInput._template||se.push({code:"missing",index:il.index,traceType:tl})}for(tl in Y){var sl=Y[tl].length,vl=ml[tl]||0;sl>vl?se.push({code:"unused",traceType:tl,templateCount:sl,dataCount:vl}):vl>sl&&se.push({code:"reused",traceType:tl,templateCount:sl,dataCount:vl})}}function yl(Fn,xl){for(var wl in Fn)if(wl.charAt(0)!=="_"){var kl=Fn[wl],Dl=U(Fn,wl,xl);A(kl)?(Array.isArray(Fn)&&kl._template===!1&&kl.templateitemname&&se.push({code:"missing",path:Dl,templateitemname:kl.templateitemname}),yl(kl,Dl)):Array.isArray(kl)&&Q(kl)&&yl(kl,Dl)}}if(yl({data:gl,layout:nt},""),se.length)return se.map(Z)};function Q($){for(var q=0;q<$.length;q++)if(A($[q]))return!0}function Z($){var q;switch($.code){case"data":q="The template has no key data.";break;case"layout":q="The template has no key layout.";break;case"missing":$.path?q="There are no templates for item "+$.path+" with name "+$.templateitemname:q="There are no templates for trace "+$.index+", of type "+$.traceType+".";break;case"unused":$.path?q="The template item at "+$.path+" was not used in constructing the plot.":$.dataCount?q="Some of the templates of type "+$.traceType+" were not used. The template has "+$.templateCount+" traces, the data only has "+$.dataCount+" of this type.":q="The template has "+$.templateCount+" traces of type "+$.traceType+" but there are none in the data.";break;case"reused":q="Some of the templates of type "+$.traceType+" were used more than once. The template has "+$.templateCount+" traces, the data has "+$.dataCount+" of this type.";break}return $.msg=q,$}}),s1=o(rl=>{var In=k2();rl._doPlot=In._doPlot,rl.newPlot=In.newPlot,rl.restyle=In.restyle,rl.relayout=In.relayout,rl.redraw=In.redraw,rl.update=In.update,rl._guiRestyle=In._guiRestyle,rl._guiRelayout=In._guiRelayout,rl._guiUpdate=In._guiUpdate,rl._storeDirectGUIEdit=In._storeDirectGUIEdit,rl.react=In.react,rl.extendTraces=In.extendTraces,rl.prependTraces=In.prependTraces,rl.addTraces=In.addTraces,rl.deleteTraces=In.deleteTraces,rl.moveTraces=In.moveTraces,rl.purge=In.purge,rl.addFrames=In.addFrames,rl.deleteFrames=In.deleteFrames,rl.animate=In.animate,rl.setPlotConfig=In.setPlotConfig;var A=hp().getGraphDiv,v=eh().eraseActiveShape;rl.deleteActiveShape=function(P){return v(A(P))},rl.toImage=_2(),rl.validate=v1(),rl.downloadImage=E2();var C=ry();rl.makeTemplate=C.makeTemplate,rl.validateTemplate=C.validateTemplate}),Cv=o((rl,In)=>{var A=ls(),v=Ep();In.exports=function(C,P,R,F){var I=F("x"),B=F("y"),x,W=v.getComponentMethod("calendars","handleTraceDefaults");if(W(C,P,["x","y"],R),I){var z=A.minRowLength(I);B?x=Math.min(z,A.minRowLength(B)):(x=z,F("y0"),F("dy"))}else{if(!B)return 0;x=A.minRowLength(B),F("x0"),F("dx")}return P._length=x,x}}),Dv=o((rl,In)=>{var A=ls().dateTick0,v=H(),C=v.ONEWEEK;function P(R,F){return R%C===0?A(F,1):A(F,0)}In.exports=function(R,F,I,B,x){if(x||(x={x:!0,y:!0}),x.x){var W=B("xperiod");W&&(B("xperiod0",P(W,F.xcalendar)),B("xperiodalignment"))}if(x.y){var z=B("yperiod");z&&(B("yperiod0",P(z,F.ycalendar)),B("yperiodalignment"))}}}),$y=o((rl,In)=>{var A=["orientation","groupnorm","stackgaps"];In.exports=function(v,C,P,R){var F=P._scatterStackOpts,I=R("stackgroup");if(I){var B=C.xaxis+C.yaxis,x=F[B];x||(x=F[B]={});var W=x[I],z=!1;W?W.traces.push(C):(W=x[I]={traceIndices:[],traces:[C]},z=!0);for(var U={orientation:C.x&&!C.y?"h":"v"},Q=0;Q<A.length;Q++){var Z=A[Q],$=Z+"Found";if(!W[$]){var q=v[Z]!==void 0,J=Z==="orientation";if((q||z)&&(W[Z]=R(Z,U[Z]),J&&(W.fillDflt=W[Z]==="h"?"tonextx":"tonexty"),q&&(W[$]=!0,!z&&(delete W.traces[0][Z],J))))for(var O=0;O<W.traces.length-1;O++){var j=W.traces[O];j._input.fill!==j.fill&&(j.fill=W.fillDflt)}}}return W}}}),L3=o((rl,In)=>{var A=Bd(),v=Yp().hasColorscale,C=Fu(),P=ld();In.exports=function(R,F,I,B,x,W){var z=P.isBubble(R),U=(R.line||{}).color,Q;if(W=W||{},U&&(I=U),x("marker.symbol"),x("marker.opacity",z?.7:1),x("marker.size"),W.noAngle||(x("marker.angle"),W.noAngleRef||x("marker.angleref"),W.noStandOff||x("marker.standoff")),x("marker.color",I),v(R,"marker")&&C(R,F,B,x,{prefix:"marker.",cLetter:"c"}),W.noSelect||(x("selected.marker.color"),x("unselected.marker.color"),x("selected.marker.size"),x("unselected.marker.size")),W.noLine||(U&&!Array.isArray(U)&&F.marker.color!==U?Q=U:z?Q=A.background:Q=A.defaultLine,x("marker.line.color",Q),v(R,"marker.line")&&C(R,F,B,x,{prefix:"marker.line.",cLetter:"c"}),x("marker.line.width",z?1:0)),z&&(x("marker.sizeref"),x("marker.sizemin"),x("marker.sizemode")),W.gradient){var Z=x("marker.gradient.type");Z!=="none"&&x("marker.gradient.color")}}}),Lv=o((rl,In)=>{var A=ls().isArrayOrTypedArray,v=Yp().hasColorscale,C=Fu();In.exports=function(P,R,F,I,B,x){x||(x={});var W=(P.marker||{}).color;if(W&&W._inputArray&&(W=W._inputArray),B("line.color",F),v(P,"line"))C(P,R,I,B,{prefix:"line.",cLetter:"c"});else{var z=(A(W)?!1:W)||F;B("line.color",z)}B("line.width"),x.noDash||B("line.dash"),x.backoff&&B("line.backoff")}}),Jm=o((rl,In)=>{In.exports=function(A,v,C){var P=C("line.shape");P==="spline"&&C("line.smoothing")}}),Iv=o((rl,In)=>{var A=ls();In.exports=function(v,C,P,R,F){F=F||{},R("textposition"),A.coerceFont(R,"textfont",F.font||P.font,F),F.noSelect||(R("selected.textfont.color"),R("unselected.textfont.color"))}}),M2=o((rl,In)=>{var A=Bd(),v=ls().isArrayOrTypedArray;function C(P){for(var R=A.interpolate(P[0][1],P[1][1],.5),F=2;F<P.length;F++){var I=A.interpolate(P[F-1][1],P[F][1],.5);R=A.interpolate(R,I,P[F-1][0]/P[F][0])}return R}In.exports=function(P,R,F,I,B){B||(B={});var x=!1;if(R.marker){var W=R.marker.color,z=(R.marker.line||{}).color;W&&!v(W)?x=W:z&&!v(z)&&(x=z)}var U;if(B.moduleHasFillgradient){var Q=I("fillgradient.type");if(Q!=="none"){I("fillgradient.start"),I("fillgradient.stop");var Z=I("fillgradient.colorscale");Z&&(U=C(Z))}}I("fillcolor",A.addOpacity((R.line||{}).color||x||U||F,.5))}}),cv=o((rl,In)=>{var A=ls(),v=Ep(),C=Km(),P=D1(),R=ld(),F=Cv(),I=Dv(),B=$y(),x=L3(),W=Lv(),z=Jm(),U=Iv(),Q=M2(),Z=ls().coercePattern;In.exports=function($,q,J,O){function j(ml,tl){return A.coerce($,q,C,ml,tl)}var Y=F($,q,O,j);if(Y||(q.visible=!1),!!q.visible){I($,q,O,j),j("xhoverformat"),j("yhoverformat"),j("zorder");var se=B($,q,O,j);O.scattermode==="group"&&q.orientation===void 0&&j("orientation","v");var nt=!se&&Y<P.PTS_LINESONLY?"lines+markers":"lines";j("text"),j("hovertext"),j("mode",nt),R.hasMarkers(q)&&x($,q,J,O,j,{gradient:!0}),R.hasLines(q)&&(W($,q,J,O,j,{backoff:!0}),z($,q,j),j("connectgaps"),j("line.simplify")),R.hasText(q)&&(j("texttemplate"),U($,q,O,j));var gl=[];(R.hasMarkers(q)||R.hasText(q))&&(j("cliponaxis"),j("marker.maxdisplayed"),gl.push("points")),j("fill",se?se.fillDflt:"none"),q.fill!=="none"&&(Q($,q,J,j,{moduleHasFillgradient:!0}),R.hasLines(q)||z($,q,j),Z(j,"fillpattern",q.fillcolor,!1));var Bn=(q.line||{}).color,jt=(q.marker||{}).color;(q.fill==="tonext"||q.fill==="toself")&&gl.push("fills"),j("hoveron",gl.join("+")||"points"),q.hoveron!=="fills"&&j("hovertemplate");var Pe=v.getComponentMethod("errorbars","supplyDefaults");Pe($,q,Bn||jt||J,{axis:"y"}),Pe($,q,Bn||jt||J,{axis:"x",inherit:"y"}),A.coerceSelectionMarkerOpacity(q,j)}}}),Sv=o((rl,In)=>{var A=Up().getAxisGroup;In.exports=function(v,C,P,R,F){var I=C.orientation,B=C[{v:"x",h:"y"}[I]+"axis"],x=A(P,B)+I,W=P._alignmentOpts||{},z=R("alignmentgroup"),U=W[x];U||(U=W[x]={});var Q=U[z];Q?Q.traces.push(C):Q=U[z]={traces:[C],alignmentIndex:Object.keys(U).length,offsetGroups:{}};var Z=R("offsetgroup")||"",$=Q.offsetGroups,q=$[Z];C._offsetIndex=0,(F!=="group"||Z)&&(q||(q=$[Z]={offsetIndex:Object.keys($).length}),C._offsetIndex=q.offsetIndex)}}),q1=o((rl,In)=>{var A=ls(),v=Sv(),C=Km();In.exports=function(P,R){var F,I,B,x=R.scattermode;function W($){return A.coerce(I._input,I,C,$)}if(R.scattermode==="group")for(B=0;B<P.length;B++)I=P[B],I.type==="scatter"&&(F=I._input,v(F,I,R,W,x));for(B=0;B<P.length;B++){var z=P[B];if(z.type==="scatter"){var U=z.fill;if(!(U==="none"||U==="toself")&&(z.opacity=void 0,U==="tonexty"||U==="tonextx"))for(var Q=B-1;Q>=0;Q--){var Z=P[Q];if(Z.type==="scatter"&&Z.xaxis===z.xaxis&&Z.yaxis===z.yaxis){Z.opacity=void 0;break}}}}}}),ny=o((rl,In)=>{var A=ls(),v=Q0();In.exports=function(C,P){function R(I,B){return A.coerce(C,P,v,I,B)}var F=P.barmode==="group";P.scattermode==="group"&&R("scattergap",F?P.bargap:.2)}}),iy=o((rl,In)=>{var A=G(),v=ls(),C=v.dateTime2ms,P=v.incrementMonth,R=H(),F=R.ONEAVGMONTH;In.exports=function(I,B,x,W){if(B.type!=="date")return{vals:W};var z=I[x+"periodalignment"];if(!z)return{vals:W};var U=I[x+"period"],Q;if(A(U)){if(U=+U,U<=0)return{vals:W}}else if(typeof U=="string"&&U.charAt(0)==="M"){var Z=+U.substring(1);if(Z>0&&Math.round(Z)===Z)Q=Z;else return{vals:W}}for(var $=B.calendar,q=z==="start",J=z==="end",O=I[x+"period0"],j=C(O,$)||0,Y=[],se=[],nt=[],gl=W.length,Bn=0;Bn<gl;Bn++){var jt=W[Bn],Pe,ml,tl;if(Q){for(Pe=Math.round((jt-j)/(Q*F)),tl=P(j,Q*Pe,$);tl>jt;)tl=P(tl,-Q,$);for(;tl<=jt;)tl=P(tl,Q,$);ml=P(tl,-Q,$)}else{for(Pe=Math.round((jt-j)/U),tl=j+Pe*U;tl>jt;)tl-=U;for(;tl<=jt;)tl+=U;ml=tl-U}Y[Bn]=q?ml:J?tl:(ml+tl)/2,se[Bn]=ml,nt[Bn]=tl}return{vals:Y,starts:se,ends:nt}}}),Ov=o((rl,In)=>{var A=Yp().hasColorscale,v=Du(),C=ld();In.exports=function(P,R){C.hasLines(R)&&A(R,"line")&&v(P,R,{vals:R.line.color,containerStr:"line",cLetter:"c"}),C.hasMarkers(R)&&(A(R,"marker")&&v(P,R,{vals:R.marker.color,containerStr:"marker",cLetter:"c"}),A(R,"marker.line")&&v(P,R,{vals:R.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}}),oy=o((rl,In)=>{var A=ls();In.exports=function(v,C){for(var P=0;P<v.length;P++)v[P].i=P;A.mergeArray(C.text,v,"tx"),A.mergeArray(C.texttemplate,v,"txt"),A.mergeArray(C.hovertext,v,"htx"),A.mergeArray(C.customdata,v,"data"),A.mergeArray(C.textposition,v,"tp"),C.textfont&&(A.mergeArrayCastPositive(C.textfont.size,v,"ts"),A.mergeArray(C.textfont.color,v,"tc"),A.mergeArray(C.textfont.family,v,"tf"),A.mergeArray(C.textfont.weight,v,"tw"),A.mergeArray(C.textfont.style,v,"ty"),A.mergeArray(C.textfont.variant,v,"tv"),A.mergeArray(C.textfont.textcase,v,"tC"),A.mergeArray(C.textfont.lineposition,v,"tE"),A.mergeArray(C.textfont.shadow,v,"tS"));var R=C.marker;if(R){A.mergeArrayCastPositive(R.size,v,"ms"),A.mergeArrayCastPositive(R.opacity,v,"mo"),A.mergeArray(R.symbol,v,"mx"),A.mergeArray(R.angle,v,"ma"),A.mergeArray(R.standoff,v,"mf"),A.mergeArray(R.color,v,"mc");var F=R.line;R.line&&(A.mergeArray(F.color,v,"mlc"),A.mergeArrayCastPositive(F.width,v,"mlw"));var I=R.gradient;I&&I.type!=="none"&&(A.mergeArray(I.type,v,"mgt"),A.mergeArray(I.color,v,"mgc"))}}}),ay=o((rl,In)=>{var A=ls();In.exports=function(v,C){A.isArrayOrTypedArray(C.selectedpoints)&&A.tagSelected(v,C)}}),sy=o((rl,In)=>{var A=G(),v=ls(),C=ih(),P=iy(),R=H().BADNUM,F=ld(),I=Ov(),B=oy(),x=ay();function W(q,J){var O=q._fullLayout,j=J._xA=C.getFromId(q,J.xaxis||"x","x"),Y=J._yA=C.getFromId(q,J.yaxis||"y","y"),se=j.makeCalcdata(J,"x"),nt=Y.makeCalcdata(J,"y"),gl=P(J,j,"x",se),Bn=P(J,Y,"y",nt),jt=gl.vals,Pe=Bn.vals,ml=J._length,tl=new Array(ml),ul=J.ids,il=$(J,O,j,Y),sl=!1,vl,yl,Fn,xl,wl,kl;Q(O,J);var Dl="x",Ol="y",gu;if(il)v.pushUnique(il.traceIndices,J.index),vl=il.orientation==="v",vl?(Ol="s",gu="x"):(Dl="s",gu="y"),wl=il.stackgaps==="interpolate";else{var yu=U(J,ml);z(q,J,j,Y,jt,Pe,yu)}var Iu=!!J.xperiodalignment,cl=!!J.yperiodalignment;for(yl=0;yl<ml;yl++){var pl=tl[yl]={},it=A(jt[yl]),bl=A(Pe[yl]);it&&bl?(pl[Dl]=jt[yl],pl[Ol]=Pe[yl],Iu&&(pl.orig_x=se[yl],pl.xEnd=gl.ends[yl],pl.xStart=gl.starts[yl]),cl&&(pl.orig_y=nt[yl],pl.yEnd=Bn.ends[yl],pl.yStart=Bn.starts[yl])):il&&(vl?it:bl)?(pl[gu]=vl?jt[yl]:Pe[yl],pl.gap=!0,wl?(pl.s=R,sl=!0):pl.s=0):pl[Dl]=pl[Ol]=R,ul&&(pl.id=String(ul[yl]))}if(B(tl,J),I(q,J),x(tl,J),il){for(yl=0;yl<tl.length;)tl[yl][gu]===R?tl.splice(yl,1):yl++;if(v.sort(tl,function(_t,ol){return _t[gu]-ol[gu]||_t.i-ol.i}),sl){for(yl=0;yl<tl.length-1&&tl[yl].gap;)yl++;for(kl=tl[yl].s,kl||(kl=tl[yl].s=0),Fn=0;Fn<yl;Fn++)tl[Fn].s=kl;for(xl=tl.length-1;xl>yl&&tl[xl].gap;)xl--;for(kl=tl[xl].s,Fn=tl.length-1;Fn>xl;Fn--)tl[Fn].s=kl;for(;yl<xl;)if(yl++,tl[yl].gap){for(Fn=yl+1;tl[Fn].gap;)Fn++;for(var Ll=tl[yl-1][gu],nl=tl[yl-1].s,ve=(tl[Fn].s-nl)/(tl[Fn][gu]-Ll);yl<Fn;)tl[yl].s=nl+(tl[yl][gu]-Ll)*ve,yl++}}}return tl}function z(q,J,O,j,Y,se,nt){var gl=J._length,Bn=q._fullLayout,jt=O._id,Pe=j._id,ml=Bn._firstScatter[Z(J)]===J.uid,tl=($(J,Bn,O,j)||{}).orientation,ul=J.fill;O._minDtick=0,j._minDtick=0;var il={padded:!0},sl={padded:!0};nt&&(il.ppad=sl.ppad=nt);var vl=gl<2||Y[0]!==Y[gl-1]||se[0]!==se[gl-1];vl&&(ul==="tozerox"||ul==="tonextx"&&(ml||tl==="h"))?il.tozero=!0:!(J.error_y||{}).visible&&(ul==="tonexty"||ul==="tozeroy"||!F.hasMarkers(J)&&!F.hasText(J))&&(il.padded=!1,il.ppad=0),vl&&(ul==="tozeroy"||ul==="tonexty"&&(ml||tl==="v"))?sl.tozero=!0:(ul==="tonextx"||ul==="tozerox")&&(sl.padded=!1),jt&&(J._extremes[jt]=C.findExtremes(O,Y,il)),Pe&&(J._extremes[Pe]=C.findExtremes(j,se,sl))}function U(q,J){if(F.hasMarkers(q)){var O=q.marker,j=1.6*(q.marker.sizeref||1),Y;if(q.marker.sizemode==="area"?Y=function(jt){return Math.max(Math.sqrt((jt||0)/j),3)}:Y=function(jt){return Math.max((jt||0)/j,3)},v.isArrayOrTypedArray(O.size)){var se={type:"linear"};C.setConvert(se);for(var nt=se.makeCalcdata(q.marker,"size"),gl=new Array(J),Bn=0;Bn<J;Bn++)gl[Bn]=Y(nt[Bn]);return gl}else return Y(O.size)}}function Q(q,J){var O=Z(J),j=q._firstScatter;j[O]||(j[O]=J.uid)}function Z(q){var J=q.stackgroup;return q.xaxis+q.yaxis+q.type+(J?"-"+J:"")}function $(q,J,O,j){var Y=q.stackgroup;if(Y){var se=J._scatterStackOpts[O._id+j._id][Y],nt=se.orientation==="v"?j:O;if(nt.type==="linear"||nt.type==="log")return se}}In.exports={calc:W,calcMarkerSize:U,calcAxisExpansion:z,setFirstScatter:Q,getStackOpts:$}}),qy=o((rl,In)=>{In.exports=v;var A=ls().distinctVals;function v(C,P){this.traces=C,this.sepNegVal=P.sepNegVal,this.overlapNoMerge=P.overlapNoMerge;for(var R=1/0,F=P.posAxis._id.charAt(0),I=[],B=0;B<C.length;B++){for(var x=C[B],W=0;W<x.length;W++){var z=x[W],U=z.p;U===void 0&&(U=z[F]),U!==void 0&&I.push(U)}x[0]&&x[0].width1&&(R=Math.min(x[0].width1,R))}this.positions=I;var Q=A(I);this.distinctPositions=Q.vals,Q.vals.length===1&&R!==1/0?this.minDiff=R:this.minDiff=Math.min(Q.minDiff,R);var Z=(P.posAxis||{}).type;(Z==="category"||Z==="multicategory")&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}v.prototype.put=function(C,P,R){var F=this.getLabel(C,P,R),I=this.bins[F]||0;return this.bins[F]=I+R,I},v.prototype.get=function(C,P,R){var F=this.getLabel(C,P,R);return this.bins[F]||0},v.prototype.getLabel=function(C,P,R){var F=R<0&&this.sepNegVal?"v":"^",I=this.overlapNoMerge?C:Math.round(C/this.binWidth);return F+I+"g"+P}}),_1=o((rl,In)=>{var A=G(),v=ls().isArrayOrTypedArray,C=H().BADNUM,P=Ep(),R=ih(),F=Up().getAxisGroup,I=qy();function B(tl,ul){for(var il=ul.xaxis,sl=ul.yaxis,vl=tl._fullLayout,yl=tl._fullData,Fn=tl.calcdata,xl=[],wl=[],kl=0;kl<yl.length;kl++){var Dl=yl[kl];if(Dl.visible===!0&&P.traceIs(Dl,"bar")&&Dl.xaxis===il._id&&Dl.yaxis===sl._id&&(Dl.orientation==="h"?xl.push(Fn[kl]):wl.push(Fn[kl]),Dl._computePh))for(var Ol=tl.calcdata[kl],gu=0;gu<Ol.length;gu++)typeof Ol[gu].ph0=="function"&&(Ol[gu].ph0=Ol[gu].ph0()),typeof Ol[gu].ph1=="function"&&(Ol[gu].ph1=Ol[gu].ph1())}var yu={xCat:il.type==="category"||il.type==="multicategory",yCat:sl.type==="category"||sl.type==="multicategory",mode:vl.barmode,norm:vl.barnorm,gap:vl.bargap,groupgap:vl.bargroupgap};x(tl,il,sl,wl,yu),x(tl,sl,il,xl,yu)}function x(tl,ul,il,sl,vl){if(sl.length){var yl,Fn,xl,wl,kl;switch(U(il,sl),vl.mode){case"overlay":Q(tl,ul,il,sl,vl);break;case"group":for(yl=[],Fn=[],xl=0;xl<sl.length;xl++)wl=sl[xl],kl=wl[0].trace,kl.offset===void 0?Fn.push(wl):yl.push(wl);Fn.length&&Z(tl,ul,il,Fn,vl),yl.length&&Q(tl,ul,il,yl,vl);break;case"stack":case"relative":for(yl=[],Fn=[],xl=0;xl<sl.length;xl++)wl=sl[xl],kl=wl[0].trace,kl.base===void 0?Fn.push(wl):yl.push(wl);z(Fn),Fn.length&&$(tl,ul,il,Fn,vl),yl.length&&Q(tl,ul,il,yl,vl);break}W(sl),Pe(sl,ul)}}function W(tl){var ul,il,sl,vl,yl,Fn,xl;for(ul=0;ul<tl.length;ul++)il=tl[ul],sl=il[0].trace,vl=il[0].t,vl.cornerradiusvalue===void 0&&(yl=sl.marker?sl.marker.cornerradius:void 0,yl!==void 0&&(Fn=A(yl)?+yl:+yl.slice(0,-1),xl=A(yl)?"px":"%",vl.cornerradiusvalue=Fn,vl.cornerradiusform=xl))}function z(tl){if(!(tl.length<2)){var ul,il,sl,vl,yl,Fn,xl;for(ul=0;ul<tl.length&&(il=tl[ul],sl=il[0].trace,yl=sl.marker?sl.marker.cornerradius:void 0,yl===void 0);ul++);if(yl!==void 0)for(Fn=A(yl)?+yl:+yl.slice(0,-1),xl=A(yl)?"px":"%",ul=0;ul<tl.length;ul++)il=tl[ul],vl=il[0].t,vl.cornerradiusvalue=Fn,vl.cornerradiusform=xl}}function U(tl,ul){var il,sl;for(il=0;il<ul.length;il++){var vl=ul[il],yl=vl[0].trace,Fn=yl.type==="funnel"?yl._base:yl.base,xl,wl=yl.orientation==="h"?yl.xcalendar:yl.ycalendar,kl=tl.type==="category"||tl.type==="multicategory"?function(){return null}:tl.d2c;if(v(Fn)){for(sl=0;sl<Math.min(Fn.length,vl.length);sl++)xl=kl(Fn[sl],0,wl),A(xl)?(vl[sl].b=+xl,vl[sl].hasB=1):vl[sl].b=0;for(;sl<vl.length;sl++)vl[sl].b=0}else{xl=kl(Fn,0,wl);var Dl=A(xl);for(xl=Dl?xl:0,sl=0;sl<vl.length;sl++)vl[sl].b=xl,Dl&&(vl[sl].hasB=1)}}}function Q(tl,ul,il,sl,vl){for(var yl=0;yl<sl.length;yl++){var Fn=sl[yl],xl=new I([Fn],{posAxis:ul,sepNegVal:!1,overlapNoMerge:!vl.norm});q(tl,ul,xl,vl),vl.norm?(nt(xl),Bn(il,xl,vl)):Y(il,xl)}}function Z(tl,ul,il,sl,vl){var yl=new I(sl,{posAxis:ul,sepNegVal:!1,overlapNoMerge:!vl.norm});q(tl,ul,yl,vl),gl(yl,ul),vl.norm?(nt(yl),Bn(il,yl,vl)):Y(il,yl)}function $(tl,ul,il,sl,vl){var yl=new I(sl,{posAxis:ul,sepNegVal:vl.mode==="relative",overlapNoMerge:!(vl.norm||vl.mode==="stack"||vl.mode==="relative")});q(tl,ul,yl,vl),se(il,yl,vl);for(var Fn=0;Fn<sl.length;Fn++)for(var xl=sl[Fn],wl=xl[0].t.offsetindex,kl=0;kl<xl.length;kl++){var Dl=xl[kl];if(Dl.s!==C){var Ol=Dl.b+Dl.s===yl.get(Dl.p,wl,Dl.s);Ol&&(Dl._outmost=!0)}}vl.norm&&Bn(il,yl,vl)}function q(tl,ul,il,sl){var vl=tl._fullLayout,yl=il.positions,Fn=il.distinctPositions,xl=il.minDiff,wl=il.traces,kl=wl.length,Dl=yl.length!==Fn.length,Ol=xl*(1-sl.gap),gu,yu,Iu,cl;if(ul._id==="angularaxis")gu=Ol,yu=gu*(1-(sl.groupgap||0)),Iu=-yu/2;else{var pl=F(vl,ul._id)+wl[0][0].trace.orientation;cl=vl._alignmentOpts[pl]||{}}for(var it=0;it<kl;it++){var bl=wl[it],Ll=bl[0].trace;if(ul._id!=="angularaxis"){var nl=cl[Ll.alignmentgroup]||{},ve=Object.keys(nl.offsetGroups||{}).length;ve?gu=Ol/ve:gu=Dl?Ol/kl:Ol,yu=gu*(1-(sl.groupgap||0)),ve?Iu=((2*Ll._offsetIndex+1-ve)*gu-yu)/2:Iu=Dl?((2*it+1-kl)*gu-yu)/2:-yu/2}var _t=bl[0].t;_t.barwidth=yu,_t.offsetindex=Ll._offsetIndex||0,_t.poffset=Iu,_t.bargroupwidth=Ol,_t.bardelta=xl}il.binWidth=wl[0][0].t.barwidth/100,J(il),O(ul,il),ul._id==="angularaxis"?j(ul,il):j(ul,il,Dl)}function J(tl){var ul=tl.traces,il,sl;for(il=0;il<ul.length;il++){var vl=ul[il],yl=vl[0],Fn=yl.trace,xl=yl.t,wl=Fn._offset||Fn.offset,kl=xl.poffset,Dl;if(v(wl)){for(Dl=Array.prototype.slice.call(wl,0,vl.length),sl=0;sl<Dl.length;sl++)A(Dl[sl])||(Dl[sl]=kl);for(sl=Dl.length;sl<vl.length;sl++)Dl.push(kl);xl.poffset=Dl}else wl!==void 0&&(xl.poffset=wl);var Ol=Fn._width||Fn.width,gu=xl.barwidth;if(v(Ol)){var yu=Array.prototype.slice.call(Ol,0,vl.length);for(sl=0;sl<yu.length;sl++)A(yu[sl])||(yu[sl]=gu);for(sl=yu.length;sl<vl.length;sl++)yu.push(gu);if(xl.barwidth=yu,wl===void 0){for(Dl=[],sl=0;sl<vl.length;sl++)Dl.push(kl+(gu-yu[sl])/2);xl.poffset=Dl}}else Ol!==void 0&&(xl.barwidth=Ol,wl===void 0&&(xl.poffset=kl+(gu-Ol)/2))}}function O(tl,ul){for(var il=ul.traces,sl=ml(tl),vl=0;vl<il.length;vl++)for(var yl=il[vl],Fn=yl[0].t,xl=Fn.poffset,wl=v(xl),kl=Fn.barwidth,Dl=v(kl),Ol=0;Ol<yl.length;Ol++){var gu=yl[Ol],yu=gu.w=Dl?kl[Ol]:kl;gu.p===void 0&&(gu.p=gu[sl],gu["orig_"+sl]=gu[sl]);var Iu=(wl?xl[Ol]:xl)+yu/2;gu[sl]=gu.p+Iu}}function j(tl,ul,il){var sl=ul.traces,vl=ul.minDiff,yl=vl/2;R.minDtick(tl,ul.minDiff,ul.distinctPositions[0],il);for(var Fn=0;Fn<sl.length;Fn++){var xl=sl[Fn],wl=xl[0],kl=wl.trace,Dl=[],Ol,gu,yu,Iu;for(Iu=0;Iu<xl.length;Iu++)Ol=xl[Iu],gu=Ol.p-yl,yu=Ol.p+yl,Dl.push(gu,yu);if(kl.width||kl.offset){var cl=wl.t,pl=cl.poffset,it=cl.barwidth,bl=v(pl),Ll=v(it);for(Iu=0;Iu<xl.length;Iu++){Ol=xl[Iu];var nl=bl?pl[Iu]:pl,ve=Ll?it[Iu]:it;gu=Ol.p+nl,yu=gu+ve,Dl.push(gu,yu)}}kl._extremes[tl._id]=R.findExtremes(tl,Dl,{padded:!1})}}function Y(tl,ul){for(var il=ul.traces,sl=ml(tl),vl=0;vl<il.length;vl++){for(var yl=il[vl],Fn=yl[0].trace,xl=Fn.type==="scatter",wl=Fn.orientation==="v",kl=[],Dl=!1,Ol=0;Ol<yl.length;Ol++){var gu=yl[Ol],yu=xl?0:gu.b,Iu=xl?wl?gu.y:gu.x:yu+gu.s;gu[sl]=Iu,kl.push(Iu),gu.hasB&&kl.push(yu),(!gu.hasB||!gu.b)&&(Dl=!0)}Fn._extremes[tl._id]=R.findExtremes(tl,kl,{tozero:Dl,padded:!0})}}function se(tl,ul,il){var sl=ml(tl),vl=ul.traces,yl,Fn,xl,wl,kl,Dl,Ol;for(wl=0;wl<vl.length;wl++)if(yl=vl[wl],Fn=yl[0].trace,Fn.type==="funnel")for(Ol=yl[0].t.offsetindex,kl=0;kl<yl.length;kl++)Dl=yl[kl],Dl.s!==C&&ul.put(Dl.p,Ol,-.5*Dl.s);for(wl=0;wl<vl.length;wl++){yl=vl[wl],Fn=yl[0].trace,xl=Fn.type==="funnel",Ol=Fn.type==="barpolar"?0:yl[0].t.offsetindex;var gu=[];for(kl=0;kl<yl.length;kl++)if(Dl=yl[kl],Dl.s!==C){var yu;xl?yu=Dl.s:yu=Dl.s+Dl.b;var Iu=ul.put(Dl.p,Ol,yu),cl=Iu+yu;Dl.b=Iu,Dl[sl]=cl,il.norm||(gu.push(cl),Dl.hasB&&gu.push(Iu))}il.norm||(Fn._extremes[tl._id]=R.findExtremes(tl,gu,{tozero:!0,padded:!0}))}}function nt(tl){for(var ul=tl.traces,il=0;il<ul.length;il++)for(var sl=ul[il],vl=sl[0].t.offsetindex,yl=0;yl<sl.length;yl++){var Fn=sl[yl];Fn.s!==C&&tl.put(Fn.p,vl,Fn.b+Fn.s)}}function gl(tl,ul){for(var il=tl.traces,sl=0;sl<il.length;sl++){var vl=il[sl],yl=vl[0].trace,Fn=vl[0].t.offsetindex;if(yl.base===void 0)for(var xl=new I([vl],{posAxis:ul,sepNegVal:!0,overlapNoMerge:!0}),wl=0;wl<vl.length;wl++){var kl=vl[wl];if(kl.p!==C){var Dl=xl.put(kl.p,Fn,kl.b+kl.s);Dl&&(kl.b=Dl)}}}}function Bn(tl,ul,il){var sl=ul.traces,vl=ml(tl),yl=il.norm==="fraction"?1:100,Fn=yl/1e9,xl=tl.l2c(tl.c2l(0)),wl=il.mode==="stack"?yl:xl;function kl(_t){return A(tl.c2l(_t))&&(_t<xl-Fn||_t>wl+Fn||!A(xl))}for(var Dl=0;Dl<sl.length;Dl++){for(var Ol=sl[Dl],gu=Ol[0].t.offsetindex,yu=Ol[0].trace,Iu=[],cl=!1,pl=!1,it=0;it<Ol.length;it++){var bl=Ol[it];if(bl.s!==C){var Ll=Math.abs(yl/ul.get(bl.p,gu,bl.s));bl.b*=Ll,bl.s*=Ll;var nl=bl.b,ve=nl+bl.s;bl[vl]=ve,Iu.push(ve),pl=pl||kl(ve),bl.hasB&&(Iu.push(nl),pl=pl||kl(nl)),(!bl.hasB||!bl.b)&&(cl=!0)}}yu._extremes[tl._id]=R.findExtremes(tl,Iu,{tozero:cl,padded:pl})}}function jt(tl,ul,il,sl){for(var vl=ml(sl),yl=0;yl<tl.length;yl++)for(var Fn=tl[yl],xl=0;xl<Fn.length;xl++){var wl=Fn[xl],kl=wl[vl];wl._sMin=ul[kl],wl._sMax=il[kl]}}function Pe(tl,ul){var il=ml(ul),sl={},vl,yl,Fn,xl=1/0,wl=-1/0;for(vl=0;vl<tl.length;vl++)for(Fn=tl[vl],yl=0;yl<Fn.length;yl++){var kl=Fn[yl].p;A(kl)&&(xl=Math.min(xl,kl),wl=Math.max(wl,kl))}var Dl=1e4/(wl-xl),Ol=sl.round=function(dl){return String(Math.round(Dl*(dl-xl)))},gu={},yu={},Iu=tl.some(function(dl){var Il=dl[0].trace;return"marker"in Il&&Il.marker.cornerradius});for(vl=0;vl<tl.length;vl++){Fn=tl[vl],Fn[0].t.extents=sl;var cl=Fn[0].t.poffset,pl=v(cl);for(yl=0;yl<Fn.length;yl++){var it=Fn[yl],bl=it[il]-it.w/2;if(A(bl)){var Ll=it[il]+it.w/2,nl=Ol(it.p);sl[nl]?sl[nl]=[Math.min(bl,sl[nl][0]),Math.max(Ll,sl[nl][1])]:sl[nl]=[bl,Ll]}if(it.p0=it.p+(pl?cl[yl]:cl),it.p1=it.p0+it.w,it.s0=it.b,it.s1=it.s0+it.s,Iu){var ve=Math.min(it.s0,it.s1)||0,_t=Math.max(it.s0,it.s1)||0,ol=it[il];gu[ol]=ol in gu?Math.min(gu[ol],ve):ve,yu[ol]=ol in yu?Math.max(yu[ol],_t):_t}}}Iu&&jt(tl,gu,yu,ul)}function ml(tl){return tl._id.charAt(0)}In.exports={crossTraceCalc:B,setGroupPositions:x}}),A2=o((rl,In)=>{var A=sy(),v=_1().setGroupPositions;function C(F,I){for(var B=I.xaxis,x=I.yaxis,W=F._fullLayout,z=F._fullData,U=F.calcdata,Q=[],Z=[],$=0;$<z.length;$++){var q=z[$];q.visible===!0&&q.type==="scatter"&&q.xaxis===B._id&&q.yaxis===x._id&&(q.orientation==="h"?Q.push(U[$]):q.orientation==="v"&&Z.push(U[$]))}var J={mode:W.scattermode,gap:W.scattergap};v(F,B,x,Z,J),v(F,x,B,Q,J)}In.exports=function(F,I){F._fullLayout.scattermode==="group"&&C(F,I);var B=I.xaxis,x=I.yaxis,W=B._id+x._id,z=F._fullLayout._scatterStackOpts[W];if(z){var U=F.calcdata,Q,Z,$,q,J,O,j,Y,se,nt,gl,Bn,jt,Pe,ml;for(var tl in z){nt=z[tl];var ul=nt.traceIndices;if(ul.length){for(gl=nt.stackgaps==="interpolate",Bn=nt.groupnorm,nt.orientation==="v"?(jt="x",Pe="y"):(jt="y",Pe="x"),ml=new Array(ul.length),Q=0;Q<ml.length;Q++)ml[Q]=!1;O=U[ul[0]];var il=new Array(O.length);for(Q=0;Q<O.length;Q++)il[Q]=O[Q][jt];for(Q=1;Q<ul.length;Q++){for(J=U[ul[Q]],Z=$=0;Z<J.length;Z++){for(j=J[Z][jt];j>il[$]&&$<il.length;$++)P(J,Z,il[$],Q,ml,gl,jt),Z++;if(j!==il[$]){for(q=0;q<Q;q++)P(U[ul[q]],$,j,q,ml,gl,jt);il.splice($,0,j)}$++}for(;$<il.length;$++)P(J,Z,il[$],Q,ml,gl,jt),Z++}var sl=il.length;for(Z=0;Z<O.length;Z++){for(Y=O[Z][Pe]=O[Z].s,Q=1;Q<ul.length;Q++)J=U[ul[Q]],J[0].trace._rawLength=J[0].trace._length,J[0].trace._length=sl,Y+=J[Z].s,J[Z][Pe]=Y;if(Bn)for(se=(Bn==="fraction"?Y:Y/100)||1,Q=0;Q<ul.length;Q++){var vl=U[ul[Q]][Z];vl[Pe]/=se,vl.sNorm=vl.s/se}}for(Q=0;Q<ul.length;Q++){J=U[ul[Q]];var yl=J[0].trace,Fn=A.calcMarkerSize(yl,yl._rawLength),xl=Array.isArray(Fn);if(Fn&&ml[Q]||xl){var wl=Fn;for(Fn=new Array(sl),Z=0;Z<sl;Z++)Fn[Z]=J[Z].gap?0:xl?wl[J[Z].i]:wl}var kl=new Array(sl),Dl=new Array(sl);for(Z=0;Z<sl;Z++)kl[Z]=J[Z].x,Dl[Z]=J[Z].y;A.calcAxisExpansion(F,yl,B,x,kl,Dl,Fn),J[0].t.orientation=nt.orientation}}}}};function P(F,I,B,x,W,z,U){W[x]=!0;var Q={i:null,gap:!0,s:0};if(Q[U]=B,F.splice(I,0,Q),I&&B===F[I-1][U]){var Z=F[I-1];Q.s=Z.s,Q.i=Z.i,Q.gap=Z.gap}else z&&(Q.s=R(F,I,B,U));I||(F[0].t=F[1].t,F[0].trace=F[1].trace,delete F[1].t,delete F[1].trace)}function R(F,I,B,x){var W=F[I-1],z=F[I+1];return z?W?W.s+(z.s-W.s)*(B-W[x])/(z[x]-W[x]):z.s:W.s}}),dv=o((rl,In)=>{var A=dh(),v=H(),C=v.BADNUM,P=v.LOG_CLIP,R=P+.5,F=P-.5,I=ls(),B=I.segmentsIntersect,x=I.constrain,W=D1();In.exports=function(z,U){var Q=U.trace||{},Z=U.xaxis,$=U.yaxis,q=Z.type==="log",J=$.type==="log",O=Z._length,j=$._length,Y=U.backoff,se=Q.marker,nt=U.connectGaps,gl=U.baseTolerance,Bn=U.shape,jt=Bn==="linear",Pe=Q.fill&&Q.fill!=="none",ml=[],tl=W.minTolerance,ul=z.length,il=new Array(ul),sl=0,vl,yl,Fn,xl,wl,kl,Dl,Ol,gu,yu,Iu,cl,pl,it,bl,Ll;function nl(bd){var Nd=z[bd];if(!Nd)return!1;var Fd=U.linearized?Z.l2p(Nd.x):Z.c2p(Nd.x),zd=U.linearized?$.l2p(Nd.y):$.c2p(Nd.y);if(Fd===C){if(q&&(Fd=Z.c2p(Nd.x,!0)),Fd===C)return!1;J&&zd===C&&(Fd*=Math.abs(Z._m*j*(Z._m>0?R:F)/($._m*O*($._m>0?R:F)))),Fd*=1e3}if(zd===C){if(J&&(zd=$.c2p(Nd.y,!0)),zd===C)return!1;zd*=1e3}return[Fd,zd]}function ve(bd,Nd,Fd,zd){var lh=Fd-bd,hh=zd-Nd,gh=.5-bd,Zh=.5-Nd,yf=lh*lh+hh*hh,Pf=lh*gh+hh*Zh;if(Pf>0&&Pf<yf){var jf=gh*hh-Zh*lh;if(jf*jf<yf)return!0}}var _t,ol;function dl(bd,Nd){var Fd=bd[0]/O,zd=bd[1]/j,lh=Math.max(0,-Fd,Fd-1,-zd,zd-1);return lh&&_t!==void 0&&ve(Fd,zd,_t,ol)&&(lh=0),lh&&Nd&&ve(Fd,zd,Nd[0]/O,Nd[1]/j)&&(lh=0),(1+W.toleranceGrowth*lh)*gl}function Il(bd,Nd){var Fd=bd[0]-Nd[0],zd=bd[1]-Nd[1];return Math.sqrt(Fd*Fd+zd*zd)}var ql=W.maxScreensAway,Zl=-O*ql,Bu=O*(1+ql),Ju=-j*ql,yd=j*(1+ql),Hd=[[Zl,Ju,Bu,Ju],[Bu,Ju,Bu,yd],[Bu,yd,Zl,yd],[Zl,yd,Zl,Ju]],Rd,Ed,_u,Nu,Gl,rd;function Sd(bd,Nd){for(var Fd=[],zd=0,lh=0;lh<4;lh++){var hh=Hd[lh],gh=B(bd[0],bd[1],Nd[0],Nd[1],hh[0],hh[1],hh[2],hh[3]);gh&&(!zd||Math.abs(gh.x-Fd[0][0])>1||Math.abs(gh.y-Fd[0][1])>1)&&(gh=[gh.x,gh.y],zd&&Il(gh,bd)<Il(Fd[0],bd)?Fd.unshift(gh):Fd.push(gh),zd++)}return Fd}function Pd(bd){if(bd[0]<Zl||bd[0]>Bu||bd[1]<Ju||bd[1]>yd)return[x(bd[0],Zl,Bu),x(bd[1],Ju,yd)]}function Ud(bd,Nd){if(bd[0]===Nd[0]&&(bd[0]===Zl||bd[0]===Bu)||bd[1]===Nd[1]&&(bd[1]===Ju||bd[1]===yd))return!0}function $d(bd,Nd){var Fd=[],zd=Pd(bd),lh=Pd(Nd);return zd&&lh&&Ud(zd,lh)||(zd&&Fd.push(zd),lh&&Fd.push(lh)),Fd}function th(bd,Nd,Fd){return function(zd,lh){var hh=Pd(zd),gh=Pd(lh),Zh=[];if(hh&&gh&&Ud(hh,gh))return Zh;hh&&Zh.push(hh),gh&&Zh.push(gh);var yf=2*I.constrain((zd[bd]+lh[bd])/2,Nd,Fd)-((hh||zd)[bd]+(gh||lh)[bd]);if(yf){var Pf;hh&&gh?Pf=yf>0==hh[bd]>gh[bd]?hh:gh:Pf=hh||gh,Pf[bd]+=yf}return Zh}}var sh;Bn==="linear"||Bn==="spline"?sh=Sd:Bn==="hv"||Bn==="vh"?sh=$d:Bn==="hvh"?sh=th(0,Zl,Bu):Bn==="vhv"&&(sh=th(1,Ju,yd));function ah(bd,Nd){var Fd=Nd[0]-bd[0],zd=(Nd[1]-bd[1])/Fd,lh=(bd[1]*Nd[0]-Nd[1]*bd[0])/Fd;return lh>0?[zd>0?Zl:Bu,yd]:[zd>0?Bu:Zl,Ju]}function Ah(bd){var Nd=bd[0],Fd=bd[1],zd=Nd===il[sl-1][0],lh=Fd===il[sl-1][1];if(!(zd&&lh))if(sl>1){var hh=Nd===il[sl-2][0],gh=Fd===il[sl-2][1];zd&&(Nd===Zl||Nd===Bu)&&hh?gh?sl--:il[sl-1]=bd:lh&&(Fd===Ju||Fd===yd)&&gh?hh?sl--:il[sl-1]=bd:il[sl++]=bd}else il[sl++]=bd}function Yd(bd){il[sl-1][0]!==bd[0]&&il[sl-1][1]!==bd[1]&&Ah([_u,Nu]),Ah(bd),Gl=null,_u=Nu=0}var Ph=I.isArrayOrTypedArray(se);function jh(bd){if(bd&&Y&&(bd.i=vl,bd.d=z,bd.trace=Q,bd.marker=Ph?se[bd.i]:se,bd.backoff=Y),_t=bd[0]/O,ol=bd[1]/j,Rd=bd[0]<Zl?Zl:bd[0]>Bu?Bu:0,Ed=bd[1]<Ju?Ju:bd[1]>yd?yd:0,Rd||Ed){if(!sl)il[sl++]=[Rd||bd[0],Ed||bd[1]];else if(Gl){var Nd=sh(Gl,bd);Nd.length>1&&(Yd(Nd[0]),il[sl++]=Nd[1])}else rd=sh(il[sl-1],bd)[0],il[sl++]=rd;var Fd=il[sl-1];Rd&&Ed&&(Fd[0]!==Rd||Fd[1]!==Ed)?(Gl&&(_u!==Rd&&Nu!==Ed?Ah(_u&&Nu?ah(Gl,bd):[_u||Rd,Nu||Ed]):_u&&Nu&&Ah([_u,Nu])),Ah([Rd,Ed])):_u-Rd&&Nu-Ed&&Ah([Rd||_u,Ed||Nu]),Gl=bd,_u=Rd,Nu=Ed}else Gl&&Yd(sh(Gl,bd)[0]),il[sl++]=bd}for(vl=0;vl<ul;vl++)if(yl=nl(vl),!!yl){for(sl=0,Gl=null,jh(yl),vl++;vl<ul;vl++){if(xl=nl(vl),!xl){if(nt)continue;break}if(!jt||!U.simplify){jh(xl);continue}var Th=nl(vl+1);if(yu=Il(xl,yl),!(!(Pe&&(sl===0||sl===ul-1))&&yu<dl(xl,Th)*tl)){for(Ol=[(xl[0]-yl[0])/yu,(xl[1]-yl[1])/yu],wl=yl,Iu=yu,cl=it=bl=0,Dl=!1,Fn=xl,vl++;vl<z.length;vl++){if(kl=Th,Th=nl(vl+1),!kl){if(nt)continue;break}if(gu=[kl[0]-yl[0],kl[1]-yl[1]],Ll=gu[0]*Ol[1]-gu[1]*Ol[0],it=Math.min(it,Ll),bl=Math.max(bl,Ll),bl-it>dl(kl,Th))break;Fn=kl,pl=gu[0]*Ol[0]+gu[1]*Ol[1],pl>Iu?(Iu=pl,xl=kl,Dl=!1):pl<cl&&(cl=pl,wl=kl,Dl=!0)}if(Dl?(jh(xl),Fn!==wl&&jh(wl)):(wl!==yl&&jh(wl),Fn!==xl&&jh(xl)),jh(Fn),vl>=z.length||!kl)break;jh(kl),yl=kl}}Gl&&Ah([_u||Gl[0],Nu||Gl[1]]),ml.push(il.slice(0,sl))}var Xh=Bn.slice(Bn.length-1);if(Y&&Xh!=="h"&&Xh!=="v"){for(var Pu=!1,sd=-1,_l=[],Ul=0;Ul<ml.length;Ul++)for(var Jl=0;Jl<ml[Ul].length-1;Jl++){var Hu=ml[Ul][Jl],Ku=ml[Ul][Jl+1],fd=A.applyBackoff(Ku,Hu);(fd[0]!==Ku[0]||fd[1]!==Ku[1])&&(Pu=!0),_l[sd+1]||(sd++,_l[sd]=[Hu,[fd[0],fd[1]]])}return Pu?_l:ml}return ml}}),ly=o((rl,In)=>{var A={tonextx:1,tonexty:1,tonext:1};In.exports=function(v,C,P){var R,F,I,B,x,W={},z=!1,U=-1,Q=0,Z=-1;for(F=0;F<P.length;F++)R=P[F][0].trace,I=R.stackgroup||"",I?I in W?x=W[I]:(x=W[I]=Q,Q++):R.fill in A&&Z>=0?x=Z:(x=Z=Q,Q++),x<U&&(z=!0),R._groupIndex=U=x;var $=P.slice();z&&$.sort(function(J,O){var j=J[0].trace,Y=O[0].trace;return j._groupIndex-Y._groupIndex||j.index-Y.index});var q={};for(F=0;F<$.length;F++)R=$[F][0].trace,I=R.stackgroup||"",R.visible===!0?(R._nexttrace=null,R.fill in A&&(B=q[I],R._prevtrace=B||null,B&&(B._nexttrace=R)),R._ownfill=R.fill&&(R.fill.substr(0,6)==="tozero"||R.fill==="toself"||R.fill.substr(0,2)==="to"&&!R._prevtrace),q[I]=R):R._prevtrace=R._nexttrace=R._ownfill=null;return $}}),Yy=o((rl,In)=>{var A=f(),v=Ep(),C=ls(),P=C.ensureSingle,R=C.identity,F=dh(),I=ld(),B=dv(),x=ly(),W=z0().tester;In.exports=function(Z,$,q,J,O,j){var Y,se,nt=!O,gl=!!O&&O.duration>0,Bn=x(Z,$,q);if(Y=J.selectAll("g.trace").data(Bn,function(Pe){return Pe[0].trace.uid}),Y.enter().append("g").attr("class",function(Pe){return"trace scatter trace"+Pe[0].trace.uid}).style("stroke-miterlimit",2),Y.order(),z(Z,Y,$),gl){j&&(se=j());var jt=A.transition().duration(O.duration).ease(O.easing).each("end",function(){se&&se()}).each("interrupt",function(){se&&se()});jt.each(function(){J.selectAll("g.trace").each(function(Pe,ml){U(Z,ml,$,Pe,Bn,this,O)})})}else Y.each(function(Pe,ml){U(Z,ml,$,Pe,Bn,this,O)});nt&&Y.exit().remove(),J.selectAll("path:not([d])").remove()};function z(Z,$,q){$.each(function(J){var O=P(A.select(this),"g","fills");F.setClipUrl(O,q.layerClipId,Z);var j=J[0].trace,Y=[];j._ownfill&&Y.push("_ownFill"),j._nexttrace&&Y.push("_nextFill");var se=O.selectAll("g").data(Y,R);se.enter().append("g"),se.exit().each(function(nt){j[nt]=null}).remove(),se.order().each(function(nt){j[nt]=P(A.select(this),"path","js-fill")})})}function U(Z,$,q,J,O,j,Y){var se=Z._context.staticPlot,nt;Q(Z,$,q,J,O);var gl=!!Y&&Y.duration>0;function Bn(Yd){return gl?Yd.transition():Yd}var jt=q.xaxis,Pe=q.yaxis,ml=J[0].trace,tl=ml.line,ul=A.select(j),il=P(ul,"g","errorbars"),sl=P(ul,"g","lines"),vl=P(ul,"g","points"),yl=P(ul,"g","text");if(v.getComponentMethod("errorbars","plot")(Z,il,q,Y),ml.visible!==!0)return;Bn(ul).style("opacity",ml.opacity);var Fn,xl,wl=ml.fill.charAt(ml.fill.length-1);wl!=="x"&&wl!=="y"&&(wl="");var kl,Dl;wl==="y"?(kl=1,Dl=Pe.c2p(0,!0)):wl==="x"&&(kl=0,Dl=jt.c2p(0,!0)),J[0][q.isRangePlot?"nodeRangePlot3":"node3"]=ul;var Ol="",gu=[],yu=ml._prevtrace,Iu=null,cl=null;yu&&(Ol=yu._prevRevpath||"",xl=yu._nextFill,gu=yu._ownPolygons,Iu=yu._fillsegments,cl=yu._fillElement);var pl,it,bl="",Ll="",nl,ve,_t,ol,dl,Il,ql=[];ml._polygons=[];var Zl=[],Bu=[],Ju=C.noop;if(Fn=ml._ownFill,I.hasLines(ml)||ml.fill!=="none"){xl&&xl.datum(J),["hv","vh","hvh","vhv"].indexOf(tl.shape)!==-1?(nl=F.steps(tl.shape),ve=F.steps(tl.shape.split("").reverse().join(""))):tl.shape==="spline"?nl=ve=function(Yd){var Ph=Yd[Yd.length-1];return Yd.length>1&&Yd[0][0]===Ph[0]&&Yd[0][1]===Ph[1]?F.smoothclosed(Yd.slice(1),tl.smoothing):F.smoothopen(Yd,tl.smoothing)}:nl=ve=function(Yd){return"M"+Yd.join("L")},_t=function(Yd){return ve(Yd.reverse())},Bu=B(J,{xaxis:jt,yaxis:Pe,trace:ml,connectGaps:ml.connectgaps,baseTolerance:Math.max(tl.width||1,3)/4,shape:tl.shape,backoff:tl.backoff,simplify:tl.simplify,fill:ml.fill}),Zl=new Array(Bu.length);var yd=0;for(nt=0;nt<Bu.length;nt++){var Hd,Rd=Bu[nt];!Hd||!wl?(Hd=Rd.slice(),Zl[yd]=Hd,yd++):Hd.push.apply(Hd,Rd)}ml._fillElement=null,ml._fillExclusionElement=cl,ml._fillsegments=Zl.slice(0,yd),Zl=ml._fillsegments,Bu.length&&(ol=Bu[0][0].slice(),dl=Bu[Bu.length-1],Il=dl[dl.length-1].slice()),Ju=function(Yd){return function(Ph){if(pl=nl(Ph),it=_t(Ph),bl?wl?(bl+="L"+pl.substr(1),Ll=it+("L"+Ll.substr(1))):(bl+="Z"+pl,Ll=it+"Z"+Ll):(bl=pl,Ll=it),I.hasLines(ml)){var jh=A.select(this);if(jh.datum(J),Yd)Bn(jh.style("opacity",0).attr("d",pl).call(F.lineGroupStyle)).style("opacity",1);else{var Th=Bn(jh);Th.attr("d",pl),F.singleLineStyle(J,Th)}}}}}var Ed=sl.selectAll(".js-line").data(Bu);Bn(Ed.exit()).style("opacity",0).remove(),Ed.each(Ju(!1)),Ed.enter().append("path").classed("js-line",!0).style("vector-effect",se?"none":"non-scaling-stroke").call(F.lineGroupStyle).each(Ju(!0)),F.setClipUrl(Ed,q.layerClipId,Z);function _u(Yd){Bn(Yd).attr("d","M0,0Z")}var Nu=function(){var Yd=new Array(Zl.length);for(nt=0;nt<Zl.length;nt++)Yd[nt]=W(Zl[nt]);return Yd},Gl=function(Yd){var Ph,jh;if(!Yd||Yd.length===0)for(Ph=new Array(Zl.length),jh=0;jh<Zl.length;jh++){var Th=Zl[jh][0].slice(),Xh=Zl[jh][Zl[jh].length-1].slice();Th[kl]=Xh[kl]=Dl;var Pu=[Xh,Th],sd=Pu.concat(Zl[jh]);Ph[jh]=W(sd)}else{for(Ph=new Array(Yd.length-1+Zl.length),jh=0;jh<Yd.length-1;jh++)Ph[jh]=W(Yd[jh]);var _l=Yd[Yd.length-1].slice();for(_l.reverse(),jh=0;jh<Zl.length;jh++)Ph[Yd.length-1+jh]=W(Zl[jh].concat(_l))}return Ph};Bu.length?(Fn?(Fn.datum(J),ol&&Il&&(wl?(ol[kl]=Il[kl]=Dl,Bn(Fn).attr("d","M"+Il+"L"+ol+"L"+bl.substr(1)).call(F.singleFillStyle,Z),ql=Gl(null)):(Bn(Fn).attr("d",bl+"Z").call(F.singleFillStyle,Z),ql=Nu())),ml._polygons=ql,ml._fillElement=Fn):xl&&(ml.fill.substr(0,6)==="tonext"&&bl&&Ol?(ml.fill==="tonext"?(Bn(xl).attr("d",bl+"Z"+Ol+"Z").call(F.singleFillStyle,Z),ql=Nu(),ml._polygons=ql.concat(gu)):(Bn(xl).attr("d",bl+"L"+Ol.substr(1)+"Z").call(F.singleFillStyle,Z),ql=Gl(Iu),ml._polygons=ql),ml._fillElement=xl):_u(xl)),ml._prevRevpath=Ll):(Fn?_u(Fn):xl&&_u(xl),ml._prevRevpath=null),ml._ownPolygons=ql;function rd(Yd){return Yd.filter(function(Ph){return!Ph.gap&&Ph.vis})}function Sd(Yd){return Yd.filter(function(Ph){return Ph.vis})}function Pd(Yd){return Yd.filter(function(Ph){return!Ph.gap})}function Ud(Yd){return Yd.id}function $d(Yd){if(Yd.ids)return Ud}function th(){return!1}function sh(Yd,Ph,jh){var Th,Xh,Pu,sd=jh[0].trace,_l=I.hasMarkers(sd),Ul=I.hasText(sd),Jl=$d(sd),Hu=th,Ku=th;if(_l||Ul){var fd=R,bd=sd.stackgroup,Nd=bd&&Z._fullLayout._scatterStackOpts[jt._id+Pe._id][bd].stackgaps==="infer zero";sd.marker.maxdisplayed||sd._needsCull?fd=Nd?Sd:rd:bd&&!Nd&&(fd=Pd),_l&&(Hu=fd),Ul&&(Ku=fd)}Xh=Yd.selectAll("path.point"),Th=Xh.data(Hu,Jl);var Fd=Th.enter().append("path").classed("point",!0);gl&&Fd.call(F.pointStyle,sd,Z).call(F.translatePoints,jt,Pe).style("opacity",0).transition().style("opacity",1),Th.order();var zd;_l&&(zd=F.makePointStyleFns(sd)),Th.each(function(lh){var hh=A.select(this),gh=Bn(hh);Pu=F.translatePoint(lh,gh,jt,Pe),Pu?(F.singlePointStyle(lh,gh,sd,zd,Z),q.layerClipId&&F.hideOutsideRangePoint(lh,gh,jt,Pe,sd.xcalendar,sd.ycalendar),sd.customdata&&hh.classed("plotly-customdata",lh.data!==null&&lh.data!==void 0)):gh.remove()}),gl?Th.exit().transition().style("opacity",0).remove():Th.exit().remove(),Xh=Ph.selectAll("g"),Th=Xh.data(Ku,Jl),Th.enter().append("g").classed("textpoint",!0).append("text"),Th.order(),Th.each(function(lh){var hh=A.select(this),gh=Bn(hh.select("text"));Pu=F.translatePoint(lh,gh,jt,Pe),Pu?q.layerClipId&&F.hideOutsideRangePoint(lh,hh,jt,Pe,sd.xcalendar,sd.ycalendar):hh.remove()}),Th.selectAll("text").call(F.textPointStyle,sd,Z).each(function(lh){var hh=jt.c2p(lh.x),gh=Pe.c2p(lh.y);A.select(this).selectAll("tspan.line").each(function(){Bn(A.select(this)).attr({x:hh,y:gh})})}),Th.exit().remove()}vl.datum(J),yl.datum(J),sh(vl,yl,J);var ah=ml.cliponaxis===!1,Ah=ah?null:q.layerClipId;F.setClipUrl(vl,Ah,Z),F.setClipUrl(yl,Ah,Z)}function Q(Z,$,q,J,O){var j=q.xaxis,Y=q.yaxis,se=A.extent(C.simpleMap(j.range,j.r2c)),nt=A.extent(C.simpleMap(Y.range,Y.r2c)),gl=J[0].trace;if(I.hasMarkers(gl)){var Bn=gl.marker.maxdisplayed;if(Bn!==0){var jt=J.filter(function(ul){return ul.x>=se[0]&&ul.x<=se[1]&&ul.y>=nt[0]&&ul.y<=nt[1]}),Pe=Math.ceil(jt.length/Bn),ml=0;O.forEach(function(ul,il){var sl=ul[0].trace;I.hasMarkers(sl)&&sl.marker.maxdisplayed>0&&il<$&&ml++});var tl=Math.round(ml*Pe/3+Math.floor(ml/3)*Pe/7.1);J.forEach(function(ul){delete ul.vis}),jt.forEach(function(ul,il){Math.round((il+tl)%Pe)===0&&(ul.vis=!0)})}}}}),I1=o((rl,In)=>{In.exports={container:"marker",min:"cmin",max:"cmax"}}),T2=o((rl,In)=>{var A=ih();In.exports=function(v,C,P){var R={},F={_fullLayout:P},I=A.getFromTrace(F,C,"x"),B=A.getFromTrace(F,C,"y"),x=v.orig_x;x===void 0&&(x=v.x);var W=v.orig_y;return W===void 0&&(W=v.y),R.xLabel=A.tickText(I,I.c2l(x),!0).text,R.yLabel=A.tickText(B,B.c2l(W),!0).text,R}}),hv=o((rl,In)=>{var A=f(),v=dh(),C=Ep();function P(B){var x=A.select(B).selectAll("g.trace.scatter");x.style("opacity",function(W){return W[0].trace.opacity}),x.selectAll("g.points").each(function(W){var z=A.select(this),U=W.trace||W[0].trace;R(z,U,B)}),x.selectAll("g.text").each(function(W){var z=A.select(this),U=W.trace||W[0].trace;F(z,U,B)}),x.selectAll("g.trace path.js-line").call(v.lineGroupStyle),x.selectAll("g.trace path.js-fill").call(v.fillGroupStyle,B,!1),C.getComponentMethod("errorbars","style")(x)}function R(B,x,W){v.pointStyle(B.selectAll("path.point"),x,W)}function F(B,x,W){v.textPointStyle(B.selectAll("text"),x,W)}function I(B,x,W){var z=x[0].trace;z.selectedpoints?(v.selectedPointStyle(W.selectAll("path.point"),z),v.selectedTextStyle(W.selectAll("text"),z)):(R(W,z,B),F(W,z,B))}In.exports={style:P,stylePoints:R,styleText:F,styleOnSelect:I}}),I3=o((rl,In)=>{var A=Bd(),v=ld();In.exports=function(C,P){var R,F;if(C.mode==="lines")return R=C.line.color,R&&A.opacity(R)?R:C.fillcolor;if(C.mode==="none")return C.fill?C.fillcolor:"";var I=P.mcc||(C.marker||{}).color,B=P.mlcc||((C.marker||{}).line||{}).color;return F=I&&A.opacity(I)?I:B&&A.opacity(B)&&(P.mlw||((C.marker||{}).line||{}).width)?B:"",F?A.opacity(F)<.3?A.addOpacity(F,.3):F:(R=(C.line||{}).color,R&&A.opacity(R)&&v.hasLines(C)&&C.line.width?R:C.fillcolor)}}),X2=o((rl,In)=>{var A=ls(),v=c0(),C=Ep(),P=I3(),R=Bd(),F=A.fillText;In.exports=function(I,B,x,W){var z=I.cd,U=z[0].trace,Q=I.xa,Z=I.ya,$=Q.c2p(B),q=Z.c2p(x),J=[$,q],O=U.hoveron||"",j=U.mode.indexOf("markers")!==-1?3:.5,Y=!!U.xperiodalignment,se=!!U.yperiodalignment;if(O.indexOf("points")!==-1){var nt=function(Ol){if(Y){var gu=Q.c2p(Ol.xStart),yu=Q.c2p(Ol.xEnd);return $>=Math.min(gu,yu)&&$<=Math.max(gu,yu)?0:1/0}var Iu=Math.max(3,Ol.mrc||0),cl=1-1/Iu,pl=Math.abs(Q.c2p(Ol.x)-$);return pl<Iu?cl*pl/Iu:pl-Iu+cl},gl=function(Ol){if(se){var gu=Z.c2p(Ol.yStart),yu=Z.c2p(Ol.yEnd);return q>=Math.min(gu,yu)&&q<=Math.max(gu,yu)?0:1/0}var Iu=Math.max(3,Ol.mrc||0),cl=1-1/Iu,pl=Math.abs(Z.c2p(Ol.y)-q);return pl<Iu?cl*pl/Iu:pl-Iu+cl},Bn=function(Ol){var gu=Math.max(j,Ol.mrc||0),yu=Q.c2p(Ol.x)-$,Iu=Z.c2p(Ol.y)-q;return Math.max(Math.sqrt(yu*yu+Iu*Iu)-gu,1-j/gu)},jt=v.getDistanceFunction(W,nt,gl,Bn);if(v.getClosest(z,jt,I),I.index!==!1){var Pe=z[I.index],ml=Q.c2p(Pe.x,!0),tl=Z.c2p(Pe.y,!0),ul=Pe.mrc||1;I.index=Pe.i;var il=z[0].t.orientation,sl=il&&(Pe.sNorm||Pe.s),vl=il==="h"?sl:Pe.orig_x!==void 0?Pe.orig_x:Pe.x,yl=il==="v"?sl:Pe.orig_y!==void 0?Pe.orig_y:Pe.y;return A.extendFlat(I,{color:P(U,Pe),x0:ml-ul,x1:ml+ul,xLabelVal:vl,y0:tl-ul,y1:tl+ul,yLabelVal:yl,spikeDistance:Bn(Pe),hovertemplate:U.hovertemplate}),F(Pe,U,I),C.getComponentMethod("errorbars","hoverInfo")(Pe,U,I),[I]}}function Fn(Ol){if(!Ol)return!1;var gu=Ol.node();try{var yu=new DOMPoint(J[0],J[1]);return gu.isPointInFill(yu)}catch{var Iu=gu.ownerSVGElement.createSVGPoint();return Iu.x=J[0],Iu.y=J[1],gu.isPointInFill(Iu)}}function xl(Ol){var gu,yu=[],Iu=1/0,cl=-1/0,pl=1/0,it=-1/0,bl;for(gu=0;gu<Ol.length;gu++){var Ll=Ol[gu];Ll.contains(J)&&(yu.push(Ll),pl=Math.min(pl,Ll.ymin),it=Math.max(it,Ll.ymax))}if(yu.length===0)return null;pl=Math.max(pl,0),it=Math.min(it,Z._length),bl=(pl+it)/2;var nl,ve,_t,ol,dl,Il,ql;for(gu=0;gu<yu.length;gu++)for(ve=yu[gu].pts,nl=1;nl<ve.length;nl++)Il=ve[nl-1][1],ql=ve[nl][1],Il>bl!=ql>=bl&&(ol=ve[nl-1][0],dl=ve[nl][0],ql-Il&&(_t=ol+(dl-ol)*(bl-Il)/(ql-Il),Iu=Math.min(Iu,_t),cl=Math.max(cl,_t)));return Iu=Math.max(Iu,0),cl=Math.min(cl,Q._length),{x0:Iu,x1:cl,y0:bl,y1:bl}}if(O.indexOf("fills")!==-1&&U._fillElement){var wl=Fn(U._fillElement)&&!Fn(U._fillExclusionElement);if(wl){var kl=xl(U._polygons);kl===null&&(kl={x0:J[0],x1:J[0],y0:J[1],y1:J[1]});var Dl=R.defaultLine;return R.opacity(U.fillcolor)?Dl=U.fillcolor:R.opacity((U.line||{}).color)&&(Dl=U.line.color),A.extendFlat(I,{distance:I.maxHoverDistance,x0:kl.x0,x1:kl.x1,y0:kl.y0,y1:kl.y1,color:Dl,hovertemplate:!1}),delete I.index,U.text&&!A.isArrayOrTypedArray(U.text)?I.text=String(U.text):I.text=U.name,[I]}}}}),Q2=o((rl,In)=>{var A=ld();In.exports=function(v,C){var P=v.cd,R=v.xaxis,F=v.yaxis,I=[],B=P[0].trace,x,W,z,U,Q=!A.hasMarkers(B)&&!A.hasText(B);if(Q)return[];if(C===!1)for(x=0;x<P.length;x++)P[x].selected=0;else for(x=0;x<P.length;x++)W=P[x],z=R.c2p(W.x),U=F.c2p(W.y),W.i!==null&&C.contains([z,U],!1,x,v)?(I.push({pointNumber:W.i,x:R.c2d(W.x),y:F.c2d(W.y)}),W.selected=1):W.selected=0;return I}}),sm=o((rl,In)=>{In.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}}),Ky=o((rl,In)=>{var A=Ep().traceIs,v=$u();In.exports=function(I,B,x,W){x("autotypenumbers",W.autotypenumbersDflt);var z=x("type",(W.splomStash||{}).type);z==="-"&&(C(B,W.data),B.type==="-"?B.type="linear":I.type=B.type)};function C(I,B){if(I.type==="-"){var x=I._id,W=x.charAt(0),z;x.indexOf("scene")!==-1&&(x=W);var U=P(B,x,W);if(U){if(U.type==="histogram"&&W==={v:"y",h:"x"}[U.orientation||"v"]){I.type="linear";return}var Q=W+"calendar",Z=U[Q],$={noMultiCategory:!A(U,"cartesian")||A(U,"noMultiCategory")};if(U.type==="box"&&U._hasPreCompStats&&W==={h:"x",v:"y"}[U.orientation||"v"]&&($.noMultiCategory=!0),$.autotypenumbers=I.autotypenumbers,F(U,W)){var q=R(U),J=[];for(z=0;z<B.length;z++){var O=B[z];!A(O,"box-violin")||(O[W+"axis"]||W)!==x||(O[q]!==void 0?J.push(O[q][0]):O.name!==void 0?J.push(O.name):J.push("text"),O[Q]!==Z&&(Z=void 0))}I.type=v(J,Z,$)}else if(U.type==="splom"){var j=U.dimensions,Y=j[U._axesDim[x]];Y.visible&&(I.type=v(Y.values,Z,$))}else I.type=v(U[W]||[U[W+"0"]],Z,$)}}}function P(I,B,x){for(var W=0;W<I.length;W++){var z=I[W];if(z.type==="splom"&&z._length>0&&(z["_"+x+"axes"]||{})[B]||(z[x+"axis"]||x)===B&&(F(z,x)||(z[x]||[]).length||z[x+"0"]))return z}}function R(I){return{v:"x",h:"y"}[I.orientation||"v"]}function F(I,B){var x=R(I),W=A(I,"box-violin"),z=A(I._fullInput||{},"candlestick");return W&&!z&&B===x&&I[x]===void 0&&I[x+"0"]===void 0}}),uy=o((rl,In)=>{var A=Et().isTypedArraySpec;function v(C,P){var R=P.dataAttr||C._id.charAt(0),F={},I,B,x;if(P.axData)I=P.axData;else for(I=[],B=0;B<P.data.length;B++){var W=P.data[B];W[R+"axis"]===C._id&&I.push(W)}for(B=0;B<I.length;B++){var z=I[B][R];for(x=0;x<z.length;x++){var U=z[x];U!=null&&(F[U]=1)}}return Object.keys(F)}In.exports=function(C,P,R,F){if(P.type==="category"){var I=C.categoryarray,B=Array.isArray(I)&&I.length>0||A(I),x;B&&(x="array");var W=R("categoryorder",x),z;W==="array"&&(z=R("categoryarray")),!B&&W==="array"&&(W=P.categoryorder="trace"),W==="trace"?P._initialCategories=[]:W==="array"?P._initialCategories=z.slice():(z=v(P,F).sort(),W==="category ascending"?P._initialCategories=z:W==="category descending"&&(P._initialCategories=z.reverse()))}}}),cy=o((rl,In)=>{var A=Kl().mix,v=Id(),C=ls();In.exports=function(P,R,F,I){I=I||{};var B=I.dfltColor;function x(Pe,ml){return C.coerce2(P,R,I.attributes,Pe,ml)}var W=x("linecolor",B),z=x("linewidth"),U=F("showline",I.showLine||!!W||!!z);U||(delete R.linecolor,delete R.linewidth);var Q=A(B,I.bgColor,I.blend||v.lightFraction).toRgbString(),Z=x("gridcolor",Q),$=x("gridwidth"),q=x("griddash"),J=F("showgrid",I.showGrid||!!Z||!!$||!!q);if(J||(delete R.gridcolor,delete R.gridwidth,delete R.griddash),I.hasMinor){var O=A(R.gridcolor,I.bgColor,67).toRgbString(),j=x("minor.gridcolor",O),Y=x("minor.gridwidth",R.gridwidth||1),se=x("minor.griddash",R.griddash||"solid"),nt=F("minor.showgrid",!!j||!!Y||!!se);nt||(delete R.minor.gridcolor,delete R.minor.gridwidth,delete R.minor.griddash)}if(!I.noZeroLine){x("zerolinelayer");var gl=x("zerolinecolor",B),Bn=x("zerolinewidth"),jt=F("zeroline",I.showGrid||!!gl||!!Bn);jt||(delete R.zerolinelayer,delete R.zerolinecolor,delete R.zerolinewidth)}}}),R2=o((rl,In)=>{var A=G(),v=Ep(),C=ls(),P=Zf(),R=Ml(),F=kd(),I=ll(),B=Pl(),x=Vl(),W=Yl(),z=uy(),U=cy(),Q=Dh(),Z=Xl(),$=vp().WEEKDAY_PATTERN,q=vp().HOUR_PATTERN;In.exports=function(Y,se,nt,gl,Bn){var jt=gl.letter,Pe=gl.font||{},ml=gl.splomStash||{},tl=nt("visible",!gl.visibleDflt),ul=se._template||{},il=se.type||ul.type||"-",sl;if(il==="date"){var vl=v.getComponentMethod("calendars","handleDefaults");vl(Y,se,"calendar",gl.calendar),gl.noTicklabelmode||(sl=nt("ticklabelmode"))}!gl.noTicklabelindex&&(il==="date"||il==="linear")&&nt("ticklabelindex");var yl="";(!gl.noTicklabelposition||il==="multicategory")&&(yl=C.coerce(Y,se,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:sl==="period"?["outside","inside"]:jt==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),gl.noTicklabeloverflow||nt("ticklabeloverflow",yl.indexOf("inside")!==-1?"hide past domain":il==="category"||il==="multicategory"?"allow":"hide past div"),Z(se,Bn),Q(Y,se,nt,gl),z(Y,se,nt,gl),gl.noHover||(il!=="category"&&nt("hoverformat"),gl.noUnifiedhovertitle||nt("unifiedhovertitle.text"));var Fn=nt("color"),xl=Fn!==F.color.dflt?Fn:Pe.color,wl=ml.label||Bn._dfltTitle[jt];if(W(Y,se,nt,il,gl),!tl)return se;nt("title.text",wl),C.coerceFont(nt,"title.font",Pe,{overrideDflt:{size:C.bigFont(Pe.size),color:xl}}),I(Y,se,nt,il);var kl=gl.hasMinor;if(kl&&(P.newContainer(se,"minor"),I(Y,se,nt,il,{isMinor:!0})),x(Y,se,nt,il,gl),B(Y,se,nt,gl),kl){var Dl=gl.isMinor;gl.isMinor=!0,B(Y,se,nt,gl),gl.isMinor=Dl}U(Y,se,nt,{dfltColor:Fn,bgColor:gl.bgColor,showGrid:gl.showGrid,hasMinor:kl,attributes:F}),kl&&!se.minor.ticks&&!se.minor.showgrid&&delete se.minor,(se.showline||se.ticks)&&nt("mirror");var Ol=il==="multicategory";if(!gl.noTickson&&(il==="category"||Ol)&&(se.ticks||se.showgrid)&&(Ol?(nt("tickson","boundaries"),delete se.ticklabelposition):nt("tickson")),Ol){var gu=nt("showdividers");gu&&(nt("dividercolor"),nt("dividerwidth"))}if(il==="date")if(R(Y,se,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:J}),!se.rangebreaks.length)delete se.rangebreaks;else{for(var yu=0;yu<se.rangebreaks.length;yu++)if(se.rangebreaks[yu].pattern===$){se._hasDayOfWeekBreaks=!0;break}if(Z(se,Bn),Bn._has("scattergl")||Bn._has("splom"))for(var Iu=0;Iu<gl.data.length;Iu++){var cl=gl.data[Iu];(cl.type==="scattergl"||cl.type==="splom")&&(cl.visible=!1,C.warn(cl.type+" traces do not work on axes with rangebreaks. Setting trace "+cl.index+" to `visible: false`."))}}return se};function J(Y,se,nt){function gl(vl,yl){return C.coerce(Y,se,F.rangebreaks,vl,yl)}var Bn=gl("enabled");if(Bn){var jt=gl("bounds");if(jt&&jt.length>=2){var Pe="",ml,tl;if(jt.length===2){for(ml=0;ml<2;ml++)if(tl=j(jt[ml]),tl){Pe=$;break}}var ul=gl("pattern",Pe);if(ul===$)for(ml=0;ml<2;ml++)tl=j(jt[ml]),tl&&(se.bounds[ml]=jt[ml]=tl-1);if(ul)for(ml=0;ml<2;ml++)switch(tl=jt[ml],ul){case $:if(!A(tl)){se.enabled=!1;return}if(tl=+tl,tl!==Math.floor(tl)||tl<0||tl>=7){se.enabled=!1;return}se.bounds[ml]=jt[ml]=tl;break;case q:if(!A(tl)){se.enabled=!1;return}if(tl=+tl,tl<0||tl>24){se.enabled=!1;return}se.bounds[ml]=jt[ml]=tl;break}if(nt.autorange===!1){var il=nt.range;if(il[0]<il[1]){if(jt[0]<il[0]&&jt[1]>il[1]){se.enabled=!1;return}}else if(jt[0]>il[0]&&jt[1]<il[1]){se.enabled=!1;return}}}else{var sl=gl("values");if(sl&&sl.length)gl("dvalue");else{se.enabled=!1;return}}}}var O={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function j(Y){if(typeof Y=="string")return O[Y.substr(0,3).toLowerCase()]}}),dy=o((rl,In)=>{var A=G(),v=ls();In.exports=function(C,P,R,F){var I=F.counterAxes||[],B=F.overlayableAxes||[],x=F.letter,W=F.grid,z=F.overlayingDomain,U,Q,Z,$,q,J;W&&(Q=W._domains[x][W._axisMap[P._id]],U=W._anchors[P._id],Q&&(Z=W[x+"side"].split(" ")[0],$=W.domain[x][Z==="right"||Z==="top"?1:0])),Q=Q||[0,1],U=U||(A(C.position)?"free":I[0]||"free"),Z=Z||(x==="x"?"bottom":"left"),$=$||0,q=0,J=!1;var O=v.coerce(C,P,{anchor:{valType:"enumerated",values:["free"].concat(I),dflt:U}},"anchor"),j=v.coerce(C,P,{side:{valType:"enumerated",values:x==="x"?["bottom","top"]:["left","right"],dflt:Z}},"side");if(O==="free"){if(x==="y"){var Y=R("autoshift");Y&&($=j==="left"?z[0]:z[1],J=P.automargin?P.automargin:!0,q=j==="left"?-3:3),R("shift",q)}R("position",$)}R("automargin",J);var se=!1;if(B.length&&(se=v.coerce(C,P,{overlaying:{valType:"enumerated",values:[!1].concat(B),dflt:!1}},"overlaying")),!se){var nt=R("domain",Q);nt[0]>nt[1]-1/4096&&(P.domain=Q),v.noneOrAll(C.domain,P.domain,Q),P.tickmode==="sync"&&(P.tickmode="auto")}return R("layer"),P}}),zv=o((rl,In)=>{var A=ls(),v=Bd(),C=Ld().isUnifiedHover,P=hg(),R=Zf(),F=cg(),I=kd(),B=Ky(),x=R2(),W=Up(),z=dy(),U=Nh(),Q=U.id2name,Z=U.name2id,$=vp().AX_ID_PATTERN,q=Ep(),J=q.traceIs,O=q.getComponentMethod;function j(Y,se,nt){Array.isArray(Y[se])?Y[se].push(nt):Y[se]=[nt]}In.exports=function(Y,se,nt){var gl=se.autotypenumbers,Bn={},jt={},Pe={},ml={},tl={},ul={},il={},sl={},vl={},yl={},Fn,xl;for(Fn=0;Fn<nt.length;Fn++){var wl=nt[Fn];if(J(wl,"cartesian")){var kl;if(wl.xaxis)kl=Q(wl.xaxis),j(Bn,kl,wl);else if(wl.xaxes)for(xl=0;xl<wl.xaxes.length;xl++)j(Bn,Q(wl.xaxes[xl]),wl);var Dl;if(wl.yaxis)Dl=Q(wl.yaxis),j(Bn,Dl,wl);else if(wl.yaxes)for(xl=0;xl<wl.yaxes.length;xl++)j(Bn,Q(wl.yaxes[xl]),wl);if(wl.type==="funnel"?wl.orientation==="h"?(kl&&(jt[kl]=!0),Dl&&(il[Dl]=!0)):Dl&&(Pe[Dl]=!0):wl.type==="image"?(Dl&&(sl[Dl]=!0),kl&&(sl[kl]=!0)):(Dl&&(tl[Dl]=!0,ul[Dl]=!0),(!J(wl,"carpet")||wl.type==="carpet"&&!wl._cheater)&&kl&&(ml[kl]=!0)),wl.type==="carpet"&&wl._cheater&&kl&&(jt[kl]=!0),J(wl,"2dMap")&&(vl[kl]=!0,vl[Dl]=!0),J(wl,"oriented")){var Ol=wl.orientation==="h"?Dl:kl;yl[Ol]=!0}}}var gu=se._subplots,yu=gu.xaxis,Iu=gu.yaxis,cl=A.simpleMap(yu,Q),pl=A.simpleMap(Iu,Q),it=cl.concat(pl),bl=v.background;yu.length&&Iu.length&&(bl=A.coerce(Y,se,F,"plot_bgcolor"));var Ll=v.combine(bl,se.paper_bgcolor),nl,ve,_t,ol,dl;function Il(){var Jl=Bn[nl]||[];dl._traceIndices=Jl.map(function(Hu){return Hu.index}),dl._annIndices=[],dl._shapeIndices=[],dl._selectionIndices=[],dl._imgIndices=[],dl._subplotsWith=[],dl._counterAxes=[],dl._name=dl._attr=nl,dl._id=ve}function ql(Jl,Hu){return A.coerce(ol,dl,I,Jl,Hu)}function Zl(Jl,Hu){return A.coerce2(ol,dl,I,Jl,Hu)}function Bu(Jl){return Jl==="x"?Iu:yu}function Ju(Jl,Hu){for(var Ku=Jl==="x"?cl:pl,fd=[],bd=0;bd<Ku.length;bd++){var Nd=Ku[bd];Nd!==Hu&&!(Y[Nd]||{}).overlaying&&fd.push(Z(Nd))}return fd}var yd={x:Bu("x"),y:Bu("y")},Hd=yd.x.concat(yd.y),Rd={},Ed=[];function _u(){var Jl=ol.matches;$.test(Jl)&&Hd.indexOf(Jl)===-1&&(Rd[Jl]=ol.type,Ed=Object.keys(Rd))}var Nu=P(Y,se),Gl=C(Nu);for(Fn=0;Fn<it.length;Fn++){nl=it[Fn],ve=Z(nl),_t=nl.charAt(0),A.isPlainObject(Y[nl])||(Y[nl]={}),ol=Y[nl],dl=R.newContainer(se,nl,_t+"axis"),Il();var rd=_t==="x"&&!ml[nl]&&jt[nl]||_t==="y"&&!tl[nl]&&Pe[nl],Sd=_t==="y"&&(!ul[nl]&&il[nl]||sl[nl]),Pd={hasMinor:!0,letter:_t,font:se.font,outerTicks:vl[nl],showGrid:!yl[nl],data:Bn[nl]||[],bgColor:Ll,calendar:se.calendar,automargin:!0,visibleDflt:rd,reverseDflt:Sd,autotypenumbersDflt:gl,splomStash:((se._splomAxes||{})[_t]||{})[ve],noAutotickangles:_t==="y"};ql("uirevision",se.uirevision),B(ol,dl,ql,Pd),x(ol,dl,ql,Pd,se);var Ud=Gl&&_t===Nu.charAt(0),$d=Zl("spikecolor",Gl?dl.color:void 0),th=Zl("spikethickness",Gl?1.5:void 0),sh=Zl("spikedash",Gl?"dot":void 0),ah=Zl("spikemode",Gl?"across":void 0),Ah=Zl("spikesnap"),Yd=ql("showspikes",!!Ud||!!$d||!!th||!!sh||!!ah||!!Ah);Yd||(delete dl.spikecolor,delete dl.spikethickness,delete dl.spikedash,delete dl.spikemode,delete dl.spikesnap);var Ph=Q(ol.overlaying),jh=[0,1];if(se[Ph]!==void 0){var Th=Q(se[Ph].anchor);se[Th]!==void 0&&(jh=se[Th].domain)}z(ol,dl,ql,{letter:_t,counterAxes:yd[_t],overlayableAxes:Ju(_t,nl),grid:se.grid,overlayingDomain:jh}),ql("title.standoff"),_u(),dl._input=ol}for(Fn=0;Fn<Ed.length;){ve=Ed[Fn++],nl=Q(ve),_t=nl.charAt(0),A.isPlainObject(Y[nl])||(Y[nl]={}),ol=Y[nl],dl=R.newContainer(se,nl,_t+"axis"),Il();var Xh={letter:_t,font:se.font,outerTicks:vl[nl],showGrid:!yl[nl],data:[],bgColor:Ll,calendar:se.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:gl,splomStash:((se._splomAxes||{})[_t]||{})[ve]};ql("uirevision",se.uirevision),dl.type=Rd[ve]||"linear",x(ol,dl,ql,Xh,se),z(ol,dl,ql,{letter:_t,counterAxes:yd[_t],overlayableAxes:Ju(_t,nl),grid:se.grid}),ql("fixedrange"),ql("modebardisable"),_u(),dl._input=ol}var Pu=O("rangeslider","handleDefaults"),sd=O("rangeselector","handleDefaults");for(Fn=0;Fn<cl.length;Fn++)nl=cl[Fn],ol=Y[nl],dl=se[nl],Pu(Y,se,nl),dl.type==="date"&&sd(ol,dl,se,pl,dl.calendar),ql("fixedrange"),ql("modebardisable");for(Fn=0;Fn<pl.length;Fn++){nl=pl[Fn],ol=Y[nl],dl=se[nl];var _l=se[Q(dl.anchor)],Ul=O("rangeslider","isVisible")(_l);ql("fixedrange",Ul),ql("modebardisable")}W.handleDefaults(Y,se,{axIds:Hd.concat(Ed).sort(U.idSort),axHasImage:sl})}}),hy=o((rl,In)=>{var A=f(),v=Ep(),C=ls(),P=dh(),R=ih();In.exports=function(F,I,B,x){var W=F._fullLayout;if(I.length===0){R.redrawComponents(F);return}function z(se){var nt=se.xaxis,gl=se.yaxis;W._defs.select("#"+se.clipId+"> rect").call(P.setTranslate,0,0).call(P.setScale,1,1),se.plot.call(P.setTranslate,nt._offset,gl._offset).call(P.setScale,1,1);var Bn=se.plot.selectAll(".scatterlayer .trace");Bn.selectAll(".point").call(P.setPointGroupScale,1,1),Bn.selectAll(".textpoint").call(P.setTextPointsScale,1,1),Bn.call(P.hideOutsideRangePoints,se)}function U(se,nt){var gl=se.plotinfo,Bn=gl.xaxis,jt=gl.yaxis,Pe=Bn._length,ml=jt._length,tl=!!se.xr1,ul=!!se.yr1,il=[];if(tl){var sl=C.simpleMap(se.xr0,Bn.r2l),vl=C.simpleMap(se.xr1,Bn.r2l),yl=sl[1]-sl[0],Fn=vl[1]-vl[0];il[0]=(sl[0]*(1-nt)+nt*vl[0]-sl[0])/(sl[1]-sl[0])*Pe,il[2]=Pe*(1-nt+nt*Fn/yl),Bn.range[0]=Bn.l2r(sl[0]*(1-nt)+nt*vl[0]),Bn.range[1]=Bn.l2r(sl[1]*(1-nt)+nt*vl[1])}else il[0]=0,il[2]=Pe;if(ul){var xl=C.simpleMap(se.yr0,jt.r2l),wl=C.simpleMap(se.yr1,jt.r2l),kl=xl[1]-xl[0],Dl=wl[1]-wl[0];il[1]=(xl[1]*(1-nt)+nt*wl[1]-xl[1])/(xl[0]-xl[1])*ml,il[3]=ml*(1-nt+nt*Dl/kl),jt.range[0]=Bn.l2r(xl[0]*(1-nt)+nt*wl[0]),jt.range[1]=jt.l2r(xl[1]*(1-nt)+nt*wl[1])}else il[1]=0,il[3]=ml;R.drawOne(F,Bn,{skipTitle:!0}),R.drawOne(F,jt,{skipTitle:!0}),R.redrawComponents(F,[Bn._id,jt._id]);var Ol=tl?Pe/il[2]:1,gu=ul?ml/il[3]:1,yu=tl?il[0]:0,Iu=ul?il[1]:0,cl=tl?il[0]/il[2]*Pe:0,pl=ul?il[1]/il[3]*ml:0,it=Bn._offset-cl,bl=jt._offset-pl;gl.clipRect.call(P.setTranslate,yu,Iu).call(P.setScale,1/Ol,1/gu),gl.plot.call(P.setTranslate,it,bl).call(P.setScale,Ol,gu),P.setPointGroupScale(gl.zoomScalePts,1/Ol,1/gu),P.setTextPointsScale(gl.zoomScaleTxt,1/Ol,1/gu)}var Q;x&&(Q=x());function Z(){for(var se={},nt=0;nt<I.length;nt++){var gl=I[nt],Bn=gl.plotinfo.xaxis,jt=gl.plotinfo.yaxis;gl.xr1&&(se[Bn._name+".range"]=gl.xr1.slice()),gl.yr1&&(se[jt._name+".range"]=gl.yr1.slice())}return Q&&Q(),v.call("relayout",F,se).then(function(){for(var Pe=0;Pe<I.length;Pe++)z(I[Pe].plotinfo)})}function $(){for(var se={},nt=0;nt<I.length;nt++){var gl=I[nt],Bn=gl.plotinfo.xaxis,jt=gl.plotinfo.yaxis;gl.xr0&&(se[Bn._name+".range"]=gl.xr0.slice()),gl.yr0&&(se[jt._name+".range"]=gl.yr0.slice())}return v.call("relayout",F,se).then(function(){for(var Pe=0;Pe<I.length;Pe++)z(I[Pe].plotinfo)})}var q,J,O,j=A.ease(B.easing);F._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(O),O=null,$()});function Y(){J=Date.now();for(var se=Math.min(1,(J-q)/B.duration),nt=j(se),gl=0;gl<I.length;gl++)U(I[gl],nt);J-q>B.duration?(Z(),O=window.cancelAnimationFrame(Y)):O=window.requestAnimationFrame(Y)}return q=Date.now(),O=window.requestAnimationFrame(Y),Promise.resolve()}}),e1=o(rl=>{var In=f(),A=Ep(),v=ls(),C=Jp(),P=dh(),R=dg().getModuleCalcData,F=Nh(),I=vp(),B=og(),x=v.ensureSingle;function W(J,O,j){return v.ensureSingle(J,O,j,function(Y){Y.datum(j)})}var z=I.zindexSeparator;rl.name="cartesian",rl.attr=["xaxis","yaxis"],rl.idRoot=["x","y"],rl.idRegex=I.idRegex,rl.attrRegex=I.attrRegex,rl.attributes=sm(),rl.layoutAttributes=kd(),rl.supplyLayoutDefaults=zv(),rl.transitionAxes=hy(),rl.finalizeSubplots=function(J,O){var j=O._subplots,Y=j.xaxis,se=j.yaxis,nt=j.cartesian,gl=nt,Bn={},jt={},Pe,ml,tl;for(Pe=0;Pe<gl.length;Pe++){var ul=gl[Pe].split("y");Bn[ul[0]]=1,jt["y"+ul[1]]=1}for(Pe=0;Pe<Y.length;Pe++)ml=Y[Pe],Bn[ml]||(tl=(J[F.id2name(ml)]||{}).anchor,I.idRegex.y.test(tl)||(tl="y"),nt.push(ml+tl),gl.push(ml+tl),jt[tl]||(jt[tl]=1,v.pushUnique(se,tl)));for(Pe=0;Pe<se.length;Pe++)tl=se[Pe],jt[tl]||(ml=(J[F.id2name(tl)]||{}).anchor,I.idRegex.x.test(ml)||(ml="x"),nt.push(ml+tl),gl.push(ml+tl),Bn[ml]||(Bn[ml]=1,v.pushUnique(Y,ml)));if(!gl.length){ml="",tl="";for(var il in J)if(I.attrRegex.test(il)){var sl=il.charAt(0);sl==="x"?(!ml||+il.substr(5)<+ml.substr(5))&&(ml=il):(!tl||+il.substr(5)<+tl.substr(5))&&(tl=il)}ml=ml?F.name2id(ml):"x",tl=tl?F.name2id(tl):"y",Y.push(ml),se.push(tl),nt.push(ml+tl)}},rl.plot=function(J,O,j,Y){var se=J._fullLayout,nt=se._subplots.cartesian,gl=J.calcdata,Bn;if(!Array.isArray(O))for(O=[],Bn=0;Bn<gl.length;Bn++)O.push(Bn);for(var jt=se._zindices,Pe=0;Pe<jt.length;Pe++){var ml=jt[Pe];for(Bn=0;Bn<nt.length;Bn++){var tl=nt[Bn],ul=se._plots[tl];if(Pe>0){var il=ul.id;if(il.indexOf(z)!==-1)continue;il+=z+(Pe+1),ul=v.extendFlat({},ul,{id:il,plot:se._cartesianlayer.selectAll(".subplot").select("."+il)})}for(var sl=[],vl,yl=0;yl<gl.length;yl++){var Fn=gl[yl],xl=Fn[0].trace;ml===(xl.zorder||0)&&xl.xaxis+xl.yaxis===tl&&((O.indexOf(xl.index)!==-1||xl.carpet)&&(vl&&vl[0].trace.xaxis+vl[0].trace.yaxis===tl&&["tonextx","tonexty","tonext"].indexOf(xl.fill)!==-1&&sl.indexOf(vl)===-1&&sl.push(vl),sl.push(Fn)),vl=Fn)}U(J,ul,sl,j,Y)}}};function U(J,O,j,Y,se){for(var nt=I.traceLayerClasses,gl=J._fullLayout,Bn=gl._zindices,jt=gl._modules,Pe,ml,tl,ul=[],il=[],sl=0;sl<Bn.length;sl++)for(var vl=Bn[sl],yl=0;yl<jt.length;yl++){Pe=jt[yl];var Fn=Pe.name,xl=A.modules[Fn].categories;if(xl.svg){var wl=Pe.layerName||Fn+"layer",kl=wl+(sl?Number(sl)+1:""),Dl=Pe.plot;ml=R(j,Dl,vl),tl=ml[0],j=ml[1],tl.length&&ul.push({i:nt.indexOf(wl),zindex:sl,className:kl,plotMethod:Dl,cdModule:tl}),xl.zoomScale&&il.push("."+kl)}}ul.sort(function(yu,Iu){return(yu.zindex||0)-(Iu.zindex||0)||yu.i-Iu.i});var Ol=O.plot.selectAll("g.mlayer").data(ul,function(yu){return yu.className});if(Ol.enter().append("g").attr("class",function(yu){return yu.className}).classed("mlayer",!0).classed("rangeplot",O.isRangePlot),Ol.exit().remove(),Ol.order(),Ol.each(function(yu){var Iu=In.select(this),cl=yu.className;yu.plotMethod(J,O,yu.cdModule,Iu,Y,se),I.clipOnAxisFalseQuery.indexOf("."+cl)===-1&&P.setClipUrl(Iu,O.layerClipId,J)}),gl._has("scattergl")&&(Pe=A.getModule("scattergl"),tl=R(j,Pe)[0],Pe.plot(J,O,tl)),!J._context.staticPlot&&(O._hasClipOnAxisFalse&&(O.clipOnAxisFalseTraces=O.plot.selectAll(I.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),il.length)){var gu=O.plot.selectAll(il.join(",")).selectAll(".trace");O.zoomScalePts=gu.selectAll("path.point"),O.zoomScaleTxt=gu.selectAll(".textpoint")}}rl.clean=function(J,O,j,Y){var se=Y._plots||{},nt=O._plots||{},gl=Y._subplots||{},Bn,jt,Pe;if(Y._hasOnlyLargeSploms&&!O._hasOnlyLargeSploms)for(Pe in se)Bn=se[Pe],Bn.plotgroup&&Bn.plotgroup.remove();var ml=Y._has&&Y._has("gl"),tl=O._has&&O._has("gl");if(ml&&!tl)for(Pe in se)Bn=se[Pe],Bn._scene&&Bn._scene.destroy();if(gl.xaxis&&gl.yaxis){var ul=F.listIds({_fullLayout:Y});for(jt=0;jt<ul.length;jt++){var il=ul[jt];O[F.id2name(il)]||Y._infolayer.selectAll(".g-"+il+"title").remove()}}var sl=Y._has&&Y._has("cartesian"),vl=O._has&&O._has("cartesian");if(sl&&!vl)$(Y._cartesianlayer.selectAll(".subplot"),Y),Y._defs.selectAll(".axesclip").remove(),delete Y._axisConstraintGroups,delete Y._axisMatchGroups;else if(gl.cartesian)for(jt=0;jt<gl.cartesian.length;jt++){var yl=gl.cartesian[jt];if(yl.indexOf(z)===-1&&!nt[yl]){var Fn="."+yl+",."+yl+"-x,."+yl+"-y";Y._cartesianlayer.selectAll(Fn).remove(),q(yl,Y)}}},rl.drawFramework=function(J){var O=J._fullLayout,j=J.calcdata,Y,se={};for(Y=0;Y<j.length;Y++){var nt=j[Y][0],gl=nt.trace,Bn=gl.zorder||0;se[Bn]||(se[Bn]=[]),se[Bn].push(nt)}var jt=Object.keys(se).map(Number).sort(v.sorterAsc);jt.length||(jt=[0]),O._zindices=jt;var Pe=Q(J),ml=Pe.length,tl=[];for(Y=0;Y<ml;Y++)tl[Y]=Pe[Y].slice();for(var ul=1;ul<jt.length;ul++){var il=[];for(Y=0;Y<ml;Y++)il[Y]=Pe[Y].slice(),il[Y][0]+=z+(ul+1);tl=tl.concat(il)}var sl=O._cartesianlayer.selectAll(".subplot").data(tl,String);sl.enter().append("g").attr("class",function(vl){return"subplot "+vl[0]}),sl.order(),sl.exit().call($,O),sl.each(function(vl){var yl=vl[0],Fn=yl.indexOf(z),xl=Fn!==-1,wl=xl?yl.slice(0,Fn):yl,kl=O._plots[yl];kl||(kl=v.extendFlat({},O._plots[wl]),kl&&(kl.id=yl,O._plots[yl]=kl,O._subplots.cartesian.push(yl))),kl&&(kl.plotgroup=In.select(this),Z(J,kl),xl||(kl.draglayer=x(O._draggers,"g",yl)))})},rl.rangePlot=function(J,O,j){Z(J,O),U(J,O,j),C.style(J)};function Q(J){var O=J._fullLayout,j=O._zindices.length,Y=O._subplots.cartesian,se=Y.length,nt,gl,Bn,jt,Pe,ml,tl=[],ul=[];for(nt=0;nt<se;nt++){Bn=Y[nt],jt=O._plots[Bn],Pe=jt.xaxis,ml=jt.yaxis;var il=Pe._mainAxis,sl=ml._mainAxis,vl=il._id+sl._id,yl=O._plots[vl];jt.overlays=[],vl!==Bn&&yl?(jt.mainplot=vl,jt.mainplotinfo=yl,ul.push(Bn)):(jt.mainplot=void 0,jt.mainplotinfo=void 0,tl.push(Bn))}for(nt=0;nt<ul.length;nt++)Bn=ul[nt],jt=O._plots[Bn],jt.mainplotinfo.overlays.push(jt);var Fn=tl.concat(ul),xl=[];for(nt=0;nt<se;nt++){Bn=Fn[nt],jt=O._plots[Bn],Pe=jt.xaxis,ml=jt.yaxis;for(var wl=[],kl=1;kl<=j;kl++){var Dl="";for(kl>1&&(Dl+=z+kl),wl.push(Bn+Dl),gl=0;gl<jt.overlays.length;gl++)wl.push(jt.overlays[gl].id+Dl)}wl=wl.concat([Pe.layer,ml.layer,Pe.overlaying||"",ml.overlaying||""]),xl.push(wl)}return xl}function Z(J,O){var j=J._fullLayout,Y=O.plotgroup,se=O.id,nt=se.indexOf(z),gl=nt!==-1,Bn=I.layerValue2layerClass[O.xaxis.layer],jt=I.layerValue2layerClass[O.yaxis.layer],Pe=j._hasOnlyLargeSploms,ml=j._zindices.length>1,tl=O.mainplotinfo;if(!O.mainplot||ml)if(Pe)O.xlines=x(Y,"path","xlines-above"),O.ylines=x(Y,"path","ylines-above"),O.xaxislayer=x(Y,"g","xaxislayer-above"),O.yaxislayer=x(Y,"g","yaxislayer-above");else{if(!gl){var ul=x(Y,"g","layer-subplot");O.shapelayer=x(ul,"g","shapelayer"),O.imagelayer=x(ul,"g","imagelayer"),tl&&ml?(O.minorGridlayer=tl.minorGridlayer,O.gridlayer=tl.gridlayer,O.zerolinelayer=tl.zerolinelayer):(O.minorGridlayer=x(Y,"g","minor-gridlayer"),O.gridlayer=x(Y,"g","gridlayer"),O.zerolinelayer=x(Y,"g","zerolinelayer"));var il=x(Y,"g","layer-between");O.shapelayerBetween=x(il,"g","shapelayer"),O.imagelayerBetween=x(il,"g","imagelayer"),x(Y,"path","xlines-below"),x(Y,"path","ylines-below"),O.overlinesBelow=x(Y,"g","overlines-below"),x(Y,"g","xaxislayer-below"),x(Y,"g","yaxislayer-below"),O.overaxesBelow=x(Y,"g","overaxes-below")}O.overplot=x(Y,"g","overplot"),O.plot=x(O.overplot,"g",se),tl&&ml?O.zerolinelayerAbove=tl.zerolinelayerAbove:O.zerolinelayerAbove=x(Y,"g","zerolinelayer-above"),gl||(O.xlines=x(Y,"path","xlines-above"),O.ylines=x(Y,"path","ylines-above"),O.overlinesAbove=x(Y,"g","overlines-above"),x(Y,"g","xaxislayer-above"),x(Y,"g","yaxislayer-above"),O.overaxesAbove=x(Y,"g","overaxes-above"),O.xlines=Y.select(".xlines-"+Bn),O.ylines=Y.select(".ylines-"+jt),O.xaxislayer=Y.select(".xaxislayer-"+Bn),O.yaxislayer=Y.select(".yaxislayer-"+jt))}else{var sl=tl.plotgroup,vl=se+"-x",yl=se+"-y";O.minorGridlayer=tl.minorGridlayer,O.gridlayer=tl.gridlayer,O.zerolinelayer=tl.zerolinelayer,O.zerolinelayerAbove=tl.zerolinelayerAbove,x(tl.overlinesBelow,"path",vl),x(tl.overlinesBelow,"path",yl),x(tl.overaxesBelow,"g",vl),x(tl.overaxesBelow,"g",yl),O.plot=x(tl.overplot,"g",se),x(tl.overlinesAbove,"path",vl),x(tl.overlinesAbove,"path",yl),x(tl.overaxesAbove,"g",vl),x(tl.overaxesAbove,"g",yl),O.xlines=sl.select(".overlines-"+Bn).select("."+vl),O.ylines=sl.select(".overlines-"+jt).select("."+yl),O.xaxislayer=sl.select(".overaxes-"+Bn).select("."+vl),O.yaxislayer=sl.select(".overaxes-"+jt).select("."+yl)}gl||(Pe||(W(O.minorGridlayer,"g",O.xaxis._id),W(O.minorGridlayer,"g",O.yaxis._id),O.minorGridlayer.selectAll("g").map(function(Fn){return Fn[0]}).sort(F.idSort),W(O.gridlayer,"g",O.xaxis._id),W(O.gridlayer,"g",O.yaxis._id),O.gridlayer.selectAll("g").map(function(Fn){return Fn[0]}).sort(F.idSort)),O.xlines.style("fill","none").classed("crisp",!0),O.ylines.style("fill","none").classed("crisp",!0))}function $(J,O){if(J){var j={};J.each(function(jt){var Pe=jt[0],ml=In.select(this);ml.remove(),q(Pe,O),j[Pe]=!0});for(var Y in O._plots)for(var se=O._plots[Y],nt=se.overlays||[],gl=0;gl<nt.length;gl++){var Bn=nt[gl];j[Bn.id]&&Bn.plot.selectAll(".trace").remove()}}}function q(J,O){O._draggers.selectAll("g."+J).remove(),O._defs.select("#clip"+O._uid+J+"plot").remove()}rl.toSVG=function(J){var O=J._fullLayout._glimages,j=In.select(J).selectAll(".svg-container"),Y=j.filter(function(nt,gl){return gl===j.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function se(){var nt=this,gl=nt.toDataURL("image/png"),Bn=O.append("svg:image");Bn.attr({xmlns:B.svg,"xlink:href":gl,preserveAspectRatio:"none",x:0,y:0,width:nt.style.width,height:nt.style.height})}Y.each(se)},rl.updateFx=wv().updateFx}),J2=o((rl,In)=>{var A=ld();In.exports={hasLines:A.hasLines,hasMarkers:A.hasMarkers,hasText:A.hasText,isBubble:A.isBubble,attributes:Km(),layoutAttributes:Q0(),supplyDefaults:cv(),crossTraceDefaults:q1(),supplyLayoutDefaults:ny(),calc:sy().calc,crossTraceCalc:A2(),arraysToCalcdata:oy(),plot:Yy(),colorbar:I1(),formatLabels:T2(),style:hv().style,styleOnSelect:hv().styleOnSelect,hoverPoints:X2(),selectPoints:Q2(),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:e1(),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}}),Dp=o((rl,In)=>{var A=f(),v=Bd(),C=Em(),P=ls(),R=P.strScale,F=P.strRotate,I=P.strTranslate;In.exports=function(B,x,W){var z=B.node(),U=C[W.arrowhead||0],Q=C[W.startarrowhead||0],Z=(W.arrowwidth||1)*(W.arrowsize||1),$=(W.arrowwidth||1)*(W.startarrowsize||1),q=x.indexOf("start")>=0,J=x.indexOf("end")>=0,O=U.backoff*Z+W.standoff,j=Q.backoff*$+W.startstandoff,Y,se,nt,gl;if(z.nodeName==="line"){Y={x:+B.attr("x1"),y:+B.attr("y1")},se={x:+B.attr("x2"),y:+B.attr("y2")};var Bn=Y.x-se.x,jt=Y.y-se.y;if(nt=Math.atan2(jt,Bn),gl=nt+Math.PI,O&&j&&O+j>Math.sqrt(Bn*Bn+jt*jt)){kl();return}if(O){if(O*O>Bn*Bn+jt*jt){kl();return}var Pe=O*Math.cos(nt),ml=O*Math.sin(nt);se.x+=Pe,se.y+=ml,B.attr({x2:se.x,y2:se.y})}if(j){if(j*j>Bn*Bn+jt*jt){kl();return}var tl=j*Math.cos(nt),ul=j*Math.sin(nt);Y.x-=tl,Y.y-=ul,B.attr({x1:Y.x,y1:Y.y})}}else if(z.nodeName==="path"){var il=z.getTotalLength(),sl="";if(il<O+j){kl();return}var vl=z.getPointAtLength(0),yl=z.getPointAtLength(.1);nt=Math.atan2(vl.y-yl.y,vl.x-yl.x),Y=z.getPointAtLength(Math.min(j,il)),sl="0px,"+j+"px,";var Fn=z.getPointAtLength(il),xl=z.getPointAtLength(il-.1);gl=Math.atan2(Fn.y-xl.y,Fn.x-xl.x),se=z.getPointAtLength(Math.max(0,il-O));var wl=sl?j+O:O;sl+=il-wl+"px,"+il+"px",B.style("stroke-dasharray",sl)}function kl(){B.style("stroke-dasharray","0px,100px")}function Dl(Ol,gu,yu,Iu){Ol.path&&(Ol.noRotate&&(yu=0),A.select(z.parentNode).append("path").attr({class:B.attr("class"),d:Ol.path,transform:I(gu.x,gu.y)+F(yu*180/Math.PI)+R(Iu)}).style({fill:v.rgb(W.arrowcolor),"stroke-width":0}))}q&&Dl(Q,Y,nt,$),J&&Dl(U,se,gl,Z)}}),bg=o((rl,In)=>{var A=f(),v=Ep(),C=Jp(),P=ls(),R=P.strTranslate,F=ih(),I=Bd(),B=dh(),x=c0(),W=ag(),z=Cf(),U=Hh(),Q=Zf().arrayEditor,Z=Dp();In.exports={draw:$,drawOne:q,drawRaw:O};function $(j){var Y=j._fullLayout;Y._infolayer.selectAll(".annotation").remove();for(var se=0;se<Y.annotations.length;se++)Y.annotations[se].visible&&q(j,se);return C.previousPromises(j)}function q(j,Y){var se=j._fullLayout,nt=se.annotations[Y]||{},gl=F.getFromId(j,nt.xref),Bn=F.getFromId(j,nt.yref);gl&&gl.setScale(),Bn&&Bn.setScale(),O(j,nt,Y,!1,gl,Bn)}function J(j,Y,se,nt,gl){var Bn=gl[se],jt=gl[se+"ref"],Pe=se.indexOf("y")!==-1,ml=F.getRefType(jt)==="domain",tl=Pe?nt.h:nt.w;return j?ml?Bn+(Pe?-Y:Y)/j._length:j.p2r(j.r2p(Bn)+Y):Bn+(Pe?-Y:Y)/tl}function O(j,Y,se,nt,gl,Bn){var jt=j._fullLayout,Pe=j._fullLayout._size,ml=j._context.edits,tl,ul;nt?(tl="annotation-"+nt,ul=nt+".annotations"):(tl="annotation",ul="annotations");var il=Q(j.layout,ul,Y),sl=il.modifyBase,vl=il.modifyItem,yl=il.getUpdateObj;jt._infolayer.selectAll("."+tl+'[data-index="'+se+'"]').remove();var Fn="clip"+jt._uid+"_ann"+se;if(!Y._input||Y.visible===!1){A.selectAll("#"+Fn).remove();return}var xl={x:{},y:{}},wl=+Y.textangle||0,kl=jt._infolayer.append("g").classed(tl,!0).attr("data-index",String(se)).style("opacity",Y.opacity),Dl=kl.append("g").classed("annotation-text-g",!0),Ol=ml[Y.showarrow?"annotationTail":"annotationPosition"],gu=Y.captureevents||ml.annotationText||Ol;function yu(ql){var Zl={index:se,annotation:Y._input,fullAnnotation:Y,event:ql};return nt&&(Zl.subplotId=nt),Zl}var Iu=Dl.append("g").style("pointer-events",gu?"all":null).call(z,"pointer").on("click",function(){j._dragging=!1,j.emit("plotly_clickannotation",yu(A.event))});Y.hovertext&&Iu.on("mouseover",function(){var ql=Y.hoverlabel,Zl=ql.font,Bu=this.getBoundingClientRect(),Ju=j.getBoundingClientRect();x.loneHover({x0:Bu.left-Ju.left,x1:Bu.right-Ju.left,y:(Bu.top+Bu.bottom)/2-Ju.top,text:Y.hovertext,color:ql.bgcolor,borderColor:ql.bordercolor,fontFamily:Zl.family,fontSize:Zl.size,fontColor:Zl.color,fontWeight:Zl.weight,fontStyle:Zl.style,fontVariant:Zl.variant,fontShadow:Zl.fontShadow,fontLineposition:Zl.fontLineposition,fontTextcase:Zl.fontTextcase},{container:jt._hoverlayer.node(),outerContainer:jt._paper.node(),gd:j})}).on("mouseout",function(){x.loneUnhover(jt._hoverlayer.node())});var cl=Y.borderwidth,pl=Y.borderpad,it=cl+pl,bl=Iu.append("rect").attr("class","bg").style("stroke-width",cl+"px").call(I.stroke,Y.bordercolor).call(I.fill,Y.bgcolor),Ll=Y.width||Y.height,nl=jt._topclips.selectAll("#"+Fn).data(Ll?[0]:[]);nl.enter().append("clipPath").classed("annclip",!0).attr("id",Fn).append("rect"),nl.exit().remove();var ve=Y.font,_t=jt._meta?P.templateString(Y.text,jt._meta):Y.text,ol=Iu.append("text").classed("annotation-text",!0).text(_t);function dl(ql){return ql.call(B.font,ve).attr({"text-anchor":{left:"start",right:"end"}[Y.align]||"middle"}),W.convertToTspans(ql,j,Il),ql}function Il(){var ql=ol.selectAll("a");if(ql.size()===1&&ql.text()===ol.text()){var Zl=Iu.insert("a",":first-child").attr({"xlink:xlink:href":ql.attr("xlink:href"),"xlink:xlink:show":ql.attr("xlink:show")}).style({cursor:"pointer"});Zl.node().appendChild(bl.node())}var Bu=Iu.select(".annotation-text-math-group"),Ju=!Bu.empty(),yd=B.bBox((Ju?Bu:ol).node()),Hd=yd.width,Rd=yd.height,Ed=Y.width||Hd,_u=Y.height||Rd,Nu=Math.round(Ed+2*it),Gl=Math.round(_u+2*it);function rd(Tf,$h){return $h==="auto"&&(Tf<1/3?$h="left":Tf>2/3?$h="right":$h="center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[$h]}for(var Sd=!1,Pd=["x","y"],Ud=0;Ud<Pd.length;Ud++){var $d=Pd[Ud],th=Y[$d+"ref"]||$d,sh=Y["a"+$d+"ref"],ah={x:gl,y:Bn}[$d],Ah=(wl+($d==="x"?0:-90))*Math.PI/180,Yd=Nu*Math.cos(Ah),Ph=Gl*Math.sin(Ah),jh=Math.abs(Yd)+Math.abs(Ph),Th=Y[$d+"anchor"],Xh=Y[$d+"shift"]*($d==="x"?1:-1),Pu=xl[$d],sd,_l,Ul,Jl,Hu,Ku=F.getRefType(th);if(ah&&Ku!=="domain"){var fd=ah.r2fraction(Y[$d]);(fd<0||fd>1)&&(sh===th?(fd=ah.r2fraction(Y["a"+$d]),(fd<0||fd>1)&&(Sd=!0)):Sd=!0),sd=ah._offset+ah.r2p(Y[$d]),Jl=.5}else{var bd=Ku==="domain";$d==="x"?(Ul=Y[$d],sd=bd?ah._offset+ah._length*Ul:sd=Pe.l+Pe.w*Ul):(Ul=1-Y[$d],sd=bd?ah._offset+ah._length*Ul:sd=Pe.t+Pe.h*Ul),Jl=Y.showarrow?.5:Ul}if(Y.showarrow){Pu.head=sd;var Nd=Y["a"+$d];if(Hu=Yd*rd(.5,Y.xanchor)-Ph*rd(.5,Y.yanchor),sh===th){var Fd=F.getRefType(sh);Fd==="domain"?($d==="y"&&(Nd=1-Nd),Pu.tail=ah._offset+ah._length*Nd):Fd==="paper"?$d==="y"?(Nd=1-Nd,Pu.tail=Pe.t+Pe.h*Nd):Pu.tail=Pe.l+Pe.w*Nd:Pu.tail=ah._offset+ah.r2p(Nd),_l=Hu}else Pu.tail=sd+Nd,_l=Hu+Nd;Pu.text=Pu.tail+Hu;var zd=jt[$d==="x"?"width":"height"];if(th==="paper"&&(Pu.head=P.constrain(Pu.head,1,zd-1)),sh==="pixel"){var lh=-Math.max(Pu.tail-3,Pu.text),hh=Math.min(Pu.tail+3,Pu.text)-zd;lh>0?(Pu.tail+=lh,Pu.text+=lh):hh>0&&(Pu.tail-=hh,Pu.text-=hh)}Pu.tail+=Xh,Pu.head+=Xh}else Hu=jh*rd(Jl,Th),_l=Hu,Pu.text=sd+Hu;Pu.text+=Xh,Hu+=Xh,_l+=Xh,Y["_"+$d+"padplus"]=jh/2+_l,Y["_"+$d+"padminus"]=jh/2-_l,Y["_"+$d+"size"]=jh,Y["_"+$d+"shift"]=Hu}if(Sd){Iu.remove();return}var gh=0,Zh=0;if(Y.align!=="left"&&(gh=(Ed-Hd)*(Y.align==="center"?.5:1)),Y.valign!=="top"&&(Zh=(_u-Rd)*(Y.valign==="middle"?.5:1)),Ju)Bu.select("svg").attr({x:it+gh-1,y:it+Zh}).call(B.setClipUrl,Ll?Fn:null,j);else{var yf=it+Zh-yd.top,Pf=it+gh-yd.left;ol.call(W.positionText,Pf,yf).call(B.setClipUrl,Ll?Fn:null,j)}nl.select("rect").call(B.setRect,it,it,Ed,_u),bl.call(B.setRect,cl/2,cl/2,Nu-cl,Gl-cl),Iu.call(B.setTranslate,Math.round(xl.x.text-Nu/2),Math.round(xl.y.text-Gl/2)),Dl.attr({transform:"rotate("+wl+","+xl.x.text+","+xl.y.text+")"});var jf=function(Tf,$h){kl.selectAll(".annotation-arrow-g").remove();var Gf=xl.x.head,of=xl.y.head,Lf=xl.x.tail+Tf,Df=xl.y.tail+$h,If=xl.x.text+Tf,Ff=xl.y.text+$h,bp=P.rotationXYMatrix(wl,If,Ff),Op=P.apply2DTransform(bp),Wf=P.apply2DTransform2(bp),zp=+bl.attr("width"),qp=+bl.attr("height"),p0=If-.5*zp,m0=p0+zp,Ap=Ff-.5*qp,Hp=Ap+qp,Tp=[[p0,Ap,p0,Hp],[p0,Hp,m0,Hp],[m0,Hp,m0,Ap],[m0,Ap,p0,Ap]].map(Wf);if(!Tp.reduce(function(Kd,Qd){return Kd^!!P.segmentsIntersect(Gf,of,Gf+1e6,of+1e6,Qd[0],Qd[1],Qd[2],Qd[3])},!1)){Tp.forEach(function(Kd){var Qd=P.segmentsIntersect(Lf,Df,Gf,of,Kd[0],Kd[1],Kd[2],Kd[3]);Qd&&(Lf=Qd.x,Df=Qd.y)});var bf=Y.arrowwidth,N0=Y.arrowcolor,Fl=Y.arrowside,Sl=kl.append("g").style({opacity:I.opacity(N0)}).classed("annotation-arrow-g",!0),od=Sl.append("path").attr("d","M"+Lf+","+Df+"L"+Gf+","+of).style("stroke-width",bf+"px").call(I.stroke,I.rgb(N0));if(Z(od,Fl,Y),ml.annotationPosition&&od.node().parentNode&&!nt){var dd=Gf,_d=of;if(Y.standoff){var nd=Math.sqrt(Math.pow(Gf-Lf,2)+Math.pow(of-Df,2));dd+=Y.standoff*(Lf-Gf)/nd,_d+=Y.standoff*(Df-of)/nd}var ud=Sl.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(Lf-dd)+","+(Df-_d),transform:R(dd,_d)}).style("stroke-width",bf+6+"px").call(I.stroke,"rgba(0,0,0,0)").call(I.fill,"rgba(0,0,0,0)"),Td,wd;U.init({element:ud.node(),gd:j,prepFn:function(){var Kd=B.getTranslate(Iu);Td=Kd.x,wd=Kd.y,gl&&gl.autorange&&sl(gl._name+".autorange",!0),Bn&&Bn.autorange&&sl(Bn._name+".autorange",!0)},moveFn:function(Kd,Qd){var Mh=Op(Td,wd),hf=Mh[0]+Kd,Kh=Mh[1]+Qd;Iu.call(B.setTranslate,hf,Kh),vl("x",J(gl,Kd,"x",Pe,Y)),vl("y",J(Bn,Qd,"y",Pe,Y)),Y.axref===Y.xref&&vl("ax",J(gl,Kd,"ax",Pe,Y)),Y.ayref===Y.yref&&vl("ay",J(Bn,Qd,"ay",Pe,Y)),Sl.attr("transform",R(Kd,Qd)),Dl.attr({transform:"rotate("+wl+","+hf+","+Kh+")"})},doneFn:function(){v.call("_guiRelayout",j,yl());var Kd=document.querySelector(".js-notes-box-panel");Kd&&Kd.redraw(Kd.selectedObj)}})}}};if(Y.showarrow&&jf(0,0),Ol){var tp;U.init({element:Iu.node(),gd:j,prepFn:function(){tp=Dl.attr("transform")},moveFn:function(Tf,$h){var Gf="pointer";if(Y.showarrow)Y.axref===Y.xref?vl("ax",J(gl,Tf,"ax",Pe,Y)):vl("ax",Y.ax+Tf),Y.ayref===Y.yref?vl("ay",J(Bn,$h,"ay",Pe.w,Y)):vl("ay",Y.ay+$h),jf(Tf,$h);else{if(nt)return;var of,Lf;if(gl)of=J(gl,Tf,"x",Pe,Y);else{var Df=Y._xsize/Pe.w,If=Y.x+(Y._xshift-Y.xshift)/Pe.w-Df/2;of=U.align(If+Tf/Pe.w,Df,0,1,Y.xanchor)}if(Bn)Lf=J(Bn,$h,"y",Pe,Y);else{var Ff=Y._ysize/Pe.h,bp=Y.y-(Y._yshift+Y.yshift)/Pe.h-Ff/2;Lf=U.align(bp-$h/Pe.h,Ff,0,1,Y.yanchor)}vl("x",of),vl("y",Lf),(!gl||!Bn)&&(Gf=U.getCursor(gl?.5:of,Bn?.5:Lf,Y.xanchor,Y.yanchor))}Dl.attr({transform:R(Tf,$h)+tp}),z(Iu,Gf)},clickFn:function(Tf,$h){Y.captureevents&&j.emit("plotly_clickannotation",yu($h))},doneFn:function(){z(Iu),v.call("_guiRelayout",j,yl());var Tf=document.querySelector(".js-notes-box-panel");Tf&&Tf.redraw(Tf.selectedObj)}})}}ml.annotationText?ol.call(W.makeEditable,{delegate:Iu,gd:j}).call(dl).on("edit",function(ql){Y.text=ql,this.call(dl),vl("text",ql),gl&&gl.autorange&&sl(gl._name+".autorange",!0),Bn&&Bn.autorange&&sl(Bn._name+".autorange",!0),v.call("_guiRelayout",j,yl())}):ol.call(dl)}}),F2=o((rl,In)=>{var A=ls(),v=Ep(),C=Zf().arrayEditor;In.exports={hasClickToShow:P,onClick:R};function P(B,x){var W=F(B,x);return W.on.length>0||W.explicitOff.length>0}function R(B,x){var W=F(B,x),z=W.on,U=W.off.concat(W.explicitOff),Q={},Z=B._fullLayout.annotations,$,q;if(z.length||U.length){for($=0;$<z.length;$++)q=C(B.layout,"annotations",Z[z[$]]),q.modifyItem("visible",!0),A.extendFlat(Q,q.getUpdateObj());for($=0;$<U.length;$++)q=C(B.layout,"annotations",Z[U[$]]),q.modifyItem("visible",!1),A.extendFlat(Q,q.getUpdateObj());return v.call("update",B,{},Q)}}function F(B,x){var W=B._fullLayout.annotations,z=[],U=[],Q=[],Z=(x||[]).length,$,q,J,O,j,Y,se,nt;for($=0;$<W.length;$++)if(J=W[$],O=J.clicktoshow,O){for(q=0;q<Z;q++)if(j=x[q],Y=j.xaxis,se=j.yaxis,Y._id===J.xref&&se._id===J.yref&&Y.d2r(j.x)===I(J._xclick,Y)&&se.d2r(j.y)===I(J._yclick,se)){J.visible?O==="onout"?nt=U:nt=Q:nt=z,nt.push($);break}q===Z&&J.visible&&O==="onout"&&U.push($)}return{on:z,off:U,explicitOff:Q}}function I(B,x){return x.type==="log"?x.l2r(B):x.d2r(B)}}),fy=o((rl,In)=>{var A=ls(),v=Bd();In.exports=function(C,P,R,F){F("opacity");var I=F("bgcolor"),B=F("bordercolor"),x=v.opacity(B);F("borderpad");var W=F("borderwidth"),z=F("showarrow");F("text",z?" ":R._dfltTitle.annotation),F("textangle"),A.coerceFont(F,"font",R.font),F("width"),F("align");var U=F("height");if(U&&F("valign"),z){var Q=F("arrowside"),Z,$;Q.indexOf("end")!==-1&&(Z=F("arrowhead"),$=F("arrowsize")),Q.indexOf("start")!==-1&&(F("startarrowhead",Z),F("startarrowsize",$)),F("arrowcolor",x?P.bordercolor:v.defaultLine),F("arrowwidth",(x&&W||1)*2),F("standoff"),F("startstandoff")}var q=F("hovertext"),J=R.hoverlabel||{};if(q){var O=F("hoverlabel.bgcolor",J.bgcolor||(v.opacity(I)?v.rgb(I):v.defaultLine)),j=F("hoverlabel.bordercolor",J.bordercolor||v.contrast(O)),Y=A.extendFlat({},J.font);Y.color||(Y.color=j),A.coerceFont(F,"hoverlabel.font",Y)}F("captureevents",!!q)}}),py=o((rl,In)=>{var A=ls(),v=ih(),C=Ml(),P=fy(),R=Pg();In.exports=function(I,B){C(I,B,{name:"annotations",handleItemDefaults:F})};function F(I,B,x){function W(Pe,ml){return A.coerce(I,B,R,Pe,ml)}var z=W("visible"),U=W("clicktoshow");if(z||U){P(I,B,x,W);for(var Q=B.showarrow,Z=["x","y"],$=[-10,-30],q={_fullLayout:x},J=0;J<2;J++){var O=Z[J],j=v.coerceRef(I,B,q,O,"","paper");if(j!=="paper"){var Y=v.getFromId(q,j);Y._annIndices.push(B._index)}if(v.coercePosition(B,q,W,j,O,.5),Q){var se="a"+O,nt=v.coerceRef(I,B,q,se,"pixel",["pixel","paper"]);nt!=="pixel"&&nt!==j&&(nt=B[se]="pixel");var gl=nt==="pixel"?$[J]:.4;v.coercePosition(B,q,W,nt,se,gl)}W(O+"anchor"),W(O+"shift")}if(A.noneOrAll(I,B,["x","y"]),Q&&A.noneOrAll(I,B,["ax","ay"]),U){var Bn=W("xclick"),jt=W("yclick");B._xclick=Bn===void 0?B.x:v.cleanPosition(Bn,q,B.xref),B._yclick=jt===void 0?B.y:v.cleanPosition(jt,q,B.yref)}}}}),Vm=o((rl,In)=>{var A=ls(),v=ih(),C=bg().draw;In.exports=function(F){var I=F._fullLayout,B=A.filterVisible(I.annotations);if(B.length&&F._fullData.length)return A.syncOrAsync([C,P],F)};function P(F){var I=F._fullLayout;A.filterVisible(I.annotations).forEach(function(B){var x=v.getFromId(F,B.xref),W=v.getFromId(F,B.yref),z=v.getRefType(B.xref),U=v.getRefType(B.yref);B._extremes={},z==="range"&&R(B,x),U==="range"&&R(B,W)})}function R(F,I){var B=I._id,x=B.charAt(0),W=F[x],z=F["a"+x],U=F[x+"ref"],Q=F["a"+x+"ref"],Z=F["_"+x+"padplus"],$=F["_"+x+"padminus"],q={x:1,y:-1}[x]*F[x+"shift"],J=3*F.arrowsize*F.arrowwidth||0,O=J+q,j=J-q,Y=3*F.startarrowsize*F.arrowwidth||0,se=Y+q,nt=Y-q,gl;if(Q===U){var Bn=v.findExtremes(I,[I.r2c(W)],{ppadplus:O,ppadminus:j}),jt=v.findExtremes(I,[I.r2c(z)],{ppadplus:Math.max(Z,se),ppadminus:Math.max($,nt)});gl={min:[Bn.min[0],jt.min[0]],max:[Bn.max[0],jt.max[0]]}}else se=z?se+z:se,nt=z?nt-z:nt,gl=v.findExtremes(I,[I.r2c(W)],{ppadplus:Math.max(Z,O,se),ppadminus:Math.max($,j,nt)});F._extremes[B]=gl}}),P2=o((rl,In)=>{var A=G(),v=Hl();In.exports=function(C,P,R,F){P=P||{};var I=R==="log"&&P.type==="linear",B=R==="linear"&&P.type==="log";if(!(I||B))return;var x=C._fullLayout.annotations,W=P._id.charAt(0),z,U;function Q($){var q=z[$],J=null;I?J=v(q,P.range):J=Math.pow(10,q),A(J)||(J=null),F(U+$,J)}for(var Z=0;Z<x.length;Z++)z=x[Z],U="annotations["+Z+"].",z[W+"ref"]===P._id&&Q(W),z["a"+W+"ref"]===P._id&&Q("a"+W)}}),Zy=o((rl,In)=>{var A=bg(),v=F2();In.exports={moduleType:"component",name:"annotations",layoutAttributes:Pg(),supplyLayoutDefaults:py(),includeBasePlot:Pv()("annotations"),calcAutorange:Vm(),draw:A.draw,drawOne:A.drawOne,drawRaw:A.drawRaw,hasClickToShow:v.hasClickToShow,onClick:v.onClick,convertCoords:P2()}}),l1=o((rl,In)=>{var A=Pg(),v=sp().overrideAll,C=Zf().templatedArray;In.exports=v(C("annotation",{visible:A.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:A.xanchor,xshift:A.xshift,yanchor:A.yanchor,yshift:A.yshift,text:A.text,textangle:A.textangle,font:A.font,width:A.width,height:A.height,opacity:A.opacity,align:A.align,valign:A.valign,bgcolor:A.bgcolor,bordercolor:A.bordercolor,borderpad:A.borderpad,borderwidth:A.borderwidth,showarrow:A.showarrow,arrowcolor:A.arrowcolor,arrowhead:A.arrowhead,startarrowhead:A.startarrowhead,arrowside:A.arrowside,arrowsize:A.arrowsize,startarrowsize:A.startarrowsize,arrowwidth:A.arrowwidth,standoff:A.standoff,startstandoff:A.startstandoff,hovertext:A.hovertext,hoverlabel:A.hoverlabel,captureevents:A.captureevents}),"calc","from-root")}),gy=o((rl,In)=>{var A=ls(),v=ih(),C=Ml(),P=fy(),R=l1();In.exports=function(I,B,x){C(I,B,{name:"annotations",handleItemDefaults:F,fullLayout:x.fullLayout})};function F(I,B,x,W){function z(Z,$){return A.coerce(I,B,R,Z,$)}function U(Z){var $=Z+"axis",q={_fullLayout:{}};return q._fullLayout[$]=x[$],v.coercePosition(B,q,z,Z,Z,.5)}var Q=z("visible");Q&&(P(I,B,W.fullLayout,z),U("x"),U("y"),U("z"),A.noneOrAll(I,B,["x","y","z"]),B.xref="x",B.yref="y",B.zref="z",z("xanchor"),z("yanchor"),z("xshift"),z("yshift"),B.showarrow&&(B.axref="pixel",B.ayref="pixel",z("ax",-10),z("ay",-30),A.noneOrAll(I,B,["ax","ay"])))}}),e3=o((rl,In)=>{var A=ls(),v=ih();In.exports=function(P){for(var R=P.fullSceneLayout,F=R.annotations,I=0;I<F.length;I++)C(F[I],P);P.fullLayout._infolayer.selectAll(".annotation-"+P.id).remove()};function C(P,R){var F=R.fullSceneLayout,I=F.domain,B=R.fullLayout._size,x={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};P._xa={},A.extendFlat(P._xa,x),v.setConvert(P._xa),P._xa._offset=B.l+I.x[0]*B.w,P._xa.l2p=function(){return .5*(1+P._pdata[0]/P._pdata[3])*B.w*(I.x[1]-I.x[0])},P._ya={},A.extendFlat(P._ya,x),v.setConvert(P._ya),P._ya._offset=B.t+(1-I.y[1])*B.h,P._ya.l2p=function(){return .5*(1-P._pdata[1]/P._pdata[3])*B.h*(I.y[1]-I.y[0])}}}),Xy=o((rl,In)=>{function A(C,P){var R=[0,0,0,0],F,I;for(F=0;F<4;++F)for(I=0;I<4;++I)R[I]+=C[4*F+I]*P[F];return R}function v(C,P){var R=A(C.projection,A(C.view,A(C.model,[P[0],P[1],P[2],1])));return R}In.exports=v}),t3=o((rl,In)=>{var A=bg().drawRaw,v=Xy(),C=["x","y","z"];In.exports=function(P){for(var R=P.fullSceneLayout,F=P.dataScale,I=R.annotations,B=0;B<I.length;B++){for(var x=I[B],W=!1,z=0;z<3;z++){var U=C[z],Q=x[U],Z=R[U+"axis"],$=Z.r2fraction(Q);if($<0||$>1){W=!0;break}}W?P.fullLayout._infolayer.select(".annotation-"+P.id+'[data-index="'+B+'"]').remove():(x._pdata=v(P.glplot.cameraParams,[R.xaxis.r2l(x.x)*F[0],R.yaxis.r2l(x.y)*F[1],R.zaxis.r2l(x.z)*F[2]]),A(P.graphDiv,x,B,P.id,x._xa,x._ya))}}}),D2=o((rl,In)=>{var A=Ep(),v=ls();In.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:l1()}}},layoutAttributes:l1(),handleDefaults:gy(),includeBasePlot:C,convert:e3(),draw:t3()};function C(P,R){var F=A.subplotsRegistry.gl3d;if(F)for(var I=F.attrRegex,B=Object.keys(P),x=0;x<B.length;x++){var W=B[x];I.test(W)&&(P[W].annotations||[]).length&&(v.pushUnique(R._basePlotModules,F),v.pushUnique(R._subplots.gl3d,W))}}}),E1=o((rl,In)=>{var A=Pg(),v=vu(),C=Km().line,P=jp().dash,R=Al().extendFlat,F=Zf().templatedArray;f1();var I=Zu(),B=tg().shapeTexttemplateAttrs,x=qg();In.exports=F("shape",{visible:R({},I.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:R({},I.legend,{editType:"calc+arraydraw"}),legendgroup:R({},I.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:R({},I.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:v({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:R({},I.legendrank,{editType:"calc+arraydraw"}),legendwidth:R({},I.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above",editType:"arraydraw"},xref:R({},A.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},x0shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},x1shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},yref:R({},A.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},y0shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},y1shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:R({},C.color,{editType:"arraydraw"}),width:R({},C.width,{editType:"calc+arraydraw"}),dash:R({},P,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:B({},{keys:Object.keys(x)}),font:v({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})}),r3=o((rl,In)=>{var A=ls(),v=ih(),C=Ml(),P=E1(),R=Ln();In.exports=function(B,x){C(B,x,{name:"shapes",handleItemDefaults:I})};function F(B,x){return B?"bottom":x.indexOf("top")!==-1?"top":x.indexOf("bottom")!==-1?"bottom":"middle"}function I(B,x,W){function z(cl,pl){return A.coerce(B,x,P,cl,pl)}x._isShape=!0;var U=z("visible");if(U){var Q=z("showlegend");Q&&(z("legend"),z("legendwidth"),z("legendgroup"),z("legendgrouptitle.text"),A.coerceFont(z,"legendgrouptitle.font"),z("legendrank"));var Z=z("path"),$=Z?"path":"rect",q=z("type",$),J=q!=="path";J&&delete x.path,z("editable"),z("layer"),z("opacity"),z("fillcolor"),z("fillrule");var O=z("line.width");O&&(z("line.color"),z("line.dash"));for(var j=z("xsizemode"),Y=z("ysizemode"),se=["x","y"],nt=0;nt<2;nt++){var gl=se[nt],Bn=gl+"anchor",jt=gl==="x"?j:Y,Pe={_fullLayout:W},ml,tl,ul,il=v.coerceRef(B,x,Pe,gl,void 0,"paper"),sl=v.getRefType(il);if(sl==="range"?(ml=v.getFromId(Pe,il),ml._shapeIndices.push(x._index),ul=R.rangeToShapePosition(ml),tl=R.shapePositionToRange(ml),(ml.type==="category"||ml.type==="multicategory")&&(z(gl+"0shift"),z(gl+"1shift"))):tl=ul=A.identity,J){var vl=.25,yl=.75,Fn=gl+"0",xl=gl+"1",wl=B[Fn],kl=B[xl];B[Fn]=tl(B[Fn],!0),B[xl]=tl(B[xl],!0),jt==="pixel"?(z(Fn,0),z(xl,10)):(v.coercePosition(x,Pe,z,il,Fn,vl),v.coercePosition(x,Pe,z,il,xl,yl)),x[Fn]=ul(x[Fn]),x[xl]=ul(x[xl]),B[Fn]=wl,B[xl]=kl}if(jt==="pixel"){var Dl=B[Bn];B[Bn]=tl(B[Bn],!0),v.coercePosition(x,Pe,z,il,Bn,.25),x[Bn]=ul(x[Bn]),B[Bn]=Dl}}J&&A.noneOrAll(B,x,["x0","x1","y0","y1"]);var Ol=q==="line",gu,yu;if(J&&(gu=z("label.texttemplate")),gu||(yu=z("label.text")),yu||gu){z("label.textangle");var Iu=z("label.textposition",Ol?"middle":"middle center");z("label.xanchor"),z("label.yanchor",F(Ol,Iu)),z("label.padding"),A.coerceFont(z,"label.font",W.font)}}}}),Nv=o((rl,In)=>{var A=Bd(),v=ls();function C(P,R){return P?"bottom":R.indexOf("top")!==-1?"top":R.indexOf("bottom")!==-1?"bottom":"middle"}In.exports=function(P,R,F){F("newshape.visible"),F("newshape.name"),F("newshape.showlegend"),F("newshape.legend"),F("newshape.legendwidth"),F("newshape.legendgroup"),F("newshape.legendgrouptitle.text"),v.coerceFont(F,"newshape.legendgrouptitle.font"),F("newshape.legendrank"),F("newshape.drawdirection"),F("newshape.layer"),F("newshape.fillcolor"),F("newshape.fillrule"),F("newshape.opacity");var I=F("newshape.line.width");if(I){var B=(P||{}).plot_bgcolor||"#FFF";F("newshape.line.color",A.contrast(B)),F("newshape.line.dash")}var x=P.dragmode==="drawline",W=F("newshape.label.text"),z=F("newshape.label.texttemplate");if(W||z){F("newshape.label.textangle");var U=F("newshape.label.textposition",x?"middle":"middle center");F("newshape.label.xanchor"),F("newshape.label.yanchor",C(x,U)),F("newshape.label.padding"),v.coerceFont(F,"newshape.label.font",R.font)}F("activeshape.fillcolor"),F("activeshape.opacity")}}),O1=o((rl,In)=>{var A=ls(),v=ih(),C=A0(),P=Ln();In.exports=function(x){var W=x._fullLayout,z=A.filterVisible(W.shapes);if(!(!z.length||!x._fullData.length))for(var U=0;U<z.length;U++){var Q=z[U];Q._extremes={};var Z,$,q=v.getRefType(Q.xref),J=v.getRefType(Q.yref);Q.xref!=="paper"&&q!=="domain"&&(Z=v.getFromId(x,Q.xref),$=B(Z,Q,C.paramIsX),$&&(Q._extremes[Z._id]=v.findExtremes(Z,$,R(Q)))),Q.yref!=="paper"&&J!=="domain"&&(Z=v.getFromId(x,Q.yref),$=B(Z,Q,C.paramIsY),$&&(Q._extremes[Z._id]=v.findExtremes(Z,$,F(Q))))}};function R(x){return I(x.line.width,x.xsizemode,x.x0,x.x1,x.path,!1)}function F(x){return I(x.line.width,x.ysizemode,x.y0,x.y1,x.path,!0)}function I(x,W,z,U,Q,Z){var $=x/2,q=Z;if(W==="pixel"){var J=Q?P.extractPathCoords(Q,Z?C.paramIsY:C.paramIsX):[z,U],O=A.aggNums(Math.max,null,J),j=A.aggNums(Math.min,null,J),Y=j<0?Math.abs(j)+$:$,se=O>0?O+$:$;return{ppad:$,ppadplus:q?Y:se,ppadminus:q?se:Y}}else return{ppad:$}}function B(x,W,z){var U=x._id.charAt(0)==="x"?"x":"y",Q=x.type==="category"||x.type==="multicategory",Z,$,q=0,J=0,O=Q?x.r2c:x.d2c,j=W[U+"sizemode"]==="scaled";if(j?(Z=W[U+"0"],$=W[U+"1"],Q&&(q=W[U+"0shift"],J=W[U+"1shift"])):(Z=W[U+"anchor"],$=W[U+"anchor"]),Z!==void 0)return[O(Z)+q,O($)+J];if(W.path){var Y=1/0,se=-1/0,nt=W.path.match(C.segmentRE),gl,Bn,jt,Pe,ml;for(x.type==="date"&&(O=P.decodeDate(O)),gl=0;gl<nt.length;gl++)Bn=nt[gl],jt=z[Bn.charAt(0)].drawn,jt!==void 0&&(Pe=nt[gl].substr(1).match(C.paramRE),!(!Pe||Pe.length<jt)&&(ml=O(Pe[jt]),ml<Y&&(Y=ml),ml>se&&(se=ml)));if(se>=Y)return[Y,se]}}}),Bv=o((rl,In)=>{var A=eh();In.exports={moduleType:"component",name:"shapes",layoutAttributes:E1(),supplyLayoutDefaults:r3(),supplyDrawNewShapeDefaults:Nv(),includeBasePlot:Pv()("shapes"),calcAutorange:O1(),draw:A.draw,drawOne:A.drawOne}}),M1=o((rl,In)=>{var A=vp(),v=Zf().templatedArray;f1(),In.exports=v("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",A.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",A.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})}),pf=o((rl,In)=>{var A=ls(),v=ih(),C=Ml(),P=M1(),R="images";In.exports=function(I,B){var x={name:R,handleItemDefaults:F};C(I,B,x)};function F(I,B,x){function W(j,Y){return A.coerce(I,B,P,j,Y)}var z=W("source"),U=W("visible",!!z);if(!U)return B;W("layer"),W("xanchor"),W("yanchor"),W("sizex"),W("sizey"),W("sizing"),W("opacity");for(var Q={_fullLayout:x},Z=["x","y"],$=0;$<2;$++){var q=Z[$],J=v.coerceRef(I,B,Q,q,"paper",void 0);if(J!=="paper"){var O=v.getFromId(Q,J);O._imgIndices.push(B._index)}v.coercePosition(B,Q,W,J,q,0)}return B}}),n3=o((rl,In)=>{var A=f(),v=dh(),C=ih(),P=Nh(),R=og();In.exports=function(F){var I=F._fullLayout,B=[],x={},W=[],z,U;for(U=0;U<I.images.length;U++){var Q=I.images[U];if(Q.visible)if(Q.layer==="below"&&Q.xref!=="paper"&&Q.yref!=="paper"){z=P.ref2id(Q.xref)+P.ref2id(Q.yref);var Z=I._plots[z];if(!Z){W.push(Q);continue}Z.mainplot&&(z=Z.mainplot.id),x[z]||(x[z]=[]),x[z].push(Q)}else Q.layer==="above"?B.push(Q):W.push(Q)}var $={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-1/2},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-1/2},bottom:{sizing:"YMax",offset:-1}}};function q(jt){var Pe=A.select(this);if(this._imgSrc!==jt.source)if(Pe.attr("xmlns",R.svg),!F._context.staticPlot||jt.source&&jt.source.slice(0,5)==="data:")Pe.attr("xlink:href",jt.source),this._imgSrc=jt.source;else{var ml=new Promise((function(tl){var ul=new Image;this.img=ul,ul.setAttribute("crossOrigin","anonymous"),ul.onerror=il,ul.onload=function(){var sl=document.createElement("canvas");sl.width=this.width,sl.height=this.height;var vl=sl.getContext("2d",{willReadFrequently:!0});vl.drawImage(this,0,0);var yl=sl.toDataURL("image/png");Pe.attr("xlink:href",yl),tl()},Pe.on("error",il),ul.src=jt.source,this._imgSrc=jt.source;function il(){Pe.remove(),tl()}}).bind(this));F._promises.push(ml)}}function J(jt){var Pe=A.select(this),ml=C.getFromId(F,jt.xref),tl=C.getFromId(F,jt.yref),ul=C.getRefType(jt.xref)==="domain",il=C.getRefType(jt.yref)==="domain",sl=I._size,vl,yl;ml!==void 0?vl=typeof jt.xref=="string"&&ul?ml._length*jt.sizex:Math.abs(ml.l2p(jt.sizex)-ml.l2p(0)):vl=jt.sizex*sl.w,tl!==void 0?yl=typeof jt.yref=="string"&&il?tl._length*jt.sizey:Math.abs(tl.l2p(jt.sizey)-tl.l2p(0)):yl=jt.sizey*sl.h;var Fn=vl*$.x[jt.xanchor].offset,xl=yl*$.y[jt.yanchor].offset,wl=$.x[jt.xanchor].sizing+$.y[jt.yanchor].sizing,kl,Dl;switch(ml!==void 0?kl=typeof jt.xref=="string"&&ul?ml._length*jt.x+ml._offset:ml.r2p(jt.x)+ml._offset:kl=jt.x*sl.w+sl.l,kl+=Fn,tl!==void 0?Dl=typeof jt.yref=="string"&&il?tl._length*(1-jt.y)+tl._offset:tl.r2p(jt.y)+tl._offset:Dl=sl.h-jt.y*sl.h+sl.t,Dl+=xl,jt.sizing){case"fill":wl+=" slice";break;case"stretch":wl="none";break}Pe.attr({x:kl,y:Dl,width:vl,height:yl,preserveAspectRatio:wl,opacity:jt.opacity});var Ol=ml&&C.getRefType(jt.xref)!=="domain"?ml._id:"",gu=tl&&C.getRefType(jt.yref)!=="domain"?tl._id:"",yu=Ol+gu;v.setClipUrl(Pe,yu?"clip"+I._uid+yu:null,F)}function O(jt){return[jt.xref,jt.x,jt.sizex,jt.yref,jt.y,jt.sizey].join("_")}function j(jt,Pe){return jt._index-Pe._index}var Y=I._imageLowerLayer.selectAll("image").data(W,O),se=I._imageUpperLayer.selectAll("image").data(B,O);Y.enter().append("image"),se.enter().append("image"),Y.exit().remove(),se.exit().remove(),Y.each(function(jt){q.bind(this)(jt),J.bind(this)(jt)}),se.each(function(jt){q.bind(this)(jt),J.bind(this)(jt)}),Y.sort(j),se.sort(j);var nt=Object.keys(I._plots);for(U=0;U<nt.length;U++){z=nt[U];var gl=I._plots[z];if(gl.imagelayer){var Bn=gl.imagelayer.selectAll("image").data(x[z]||[],O);Bn.enter().append("image"),Bn.exit().remove(),Bn.each(function(jt){q.bind(this)(jt),J.bind(this)(jt)}),Bn.sort(j)}}}}),L2=o((rl,In)=>{var A=G(),v=Hl();In.exports=function(C,P,R,F){P=P||{};var I=R==="log"&&P.type==="linear",B=R==="linear"&&P.type==="log";if(I||B){for(var x=C._fullLayout.images,W=P._id.charAt(0),z,U,Q=0;Q<x.length;Q++)if(z=x[Q],U="images["+Q+"].",z[W+"ref"]===P._id){var Z=z[W],$=z["size"+W],q=null,J=null;if(I){q=v(Z,P.range);var O=$/Math.pow(10,q)/2;J=2*Math.log(O+Math.sqrt(1+O*O))/Math.LN10}else q=Math.pow(10,Z),J=q*(Math.pow(10,$/2)-Math.pow(10,-$/2));A(q)?A(J)||(J=null):(q=null,J=null),F(U+W,q),F(U+"size"+W,J)}}}}),t1=o((rl,In)=>{In.exports={moduleType:"component",name:"images",layoutAttributes:M1(),supplyLayoutDefaults:pf(),includeBasePlot:Pv()("images"),draw:n3(),convertCoords:L2()}}),A1=o((rl,In)=>{In.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"",right:"",up:"",down:""}}}),z1=o((rl,In)=>{var A=vu(),v=Id(),C=Al().extendFlat,P=sp().overrideAll,R=vg(),F=Zf().templatedArray,I=F("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});In.exports=P(F("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:I,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:C(R({editType:"arraydraw"}),{}),font:A({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:v.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")}),my=o((rl,In)=>{var A=ls(),v=Ml(),C=z1(),P=A1(),R=P.name,F=C.buttons;In.exports=function(x,W){var z={name:R,handleItemDefaults:I};v(x,W,z)};function I(x,W,z){function U($,q){return A.coerce(x,W,C,$,q)}var Q=v(x,W,{name:"buttons",handleItemDefaults:B}),Z=U("visible",Q.length>0);Z&&(U("active"),U("direction"),U("type"),U("showactive"),U("x"),U("y"),A.noneOrAll(x,W,["x","y"]),U("xanchor"),U("yanchor"),U("pad.t"),U("pad.r"),U("pad.b"),U("pad.l"),A.coerceFont(U,"font",z.font),U("bgcolor",z.paper_bgcolor),U("bordercolor"),U("borderwidth"))}function B(x,W){function z(Q,Z){return A.coerce(x,W,F,Q,Z)}var U=z("visible",x.method==="skip"||Array.isArray(x.args));U&&(z("method"),z("args"),z("args2"),z("label"),z("execute"))}}),I2=o((rl,In)=>{In.exports=R;var A=f(),v=Bd(),C=dh(),P=ls();function R(F,I,B){this.gd=F,this.container=I,this.id=B,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}R.barWidth=2,R.barLength=20,R.barRadius=2,R.barPad=1,R.barColor="#808BA4",R.prototype.enable=function(F,I,B){var x=this.gd._fullLayout,W=x.width,z=x.height;this.position=F;var U=this.position.l,Q=this.position.w,Z=this.position.t,$=this.position.h,q=this.position.direction,J=q==="down",O=q==="left",j=q==="right",Y=q==="up",se=Q,nt=$,gl,Bn,jt,Pe;!J&&!O&&!j&&!Y&&(this.position.direction="down",J=!0);var ml=J||Y;ml?(gl=U,Bn=gl+se,J?(jt=Z,Pe=Math.min(jt+nt,z),nt=Pe-jt):(Pe=Z+nt,jt=Math.max(Pe-nt,0),nt=Pe-jt)):(jt=Z,Pe=jt+nt,O?(Bn=U+se,gl=Math.max(Bn-se,0),se=Bn-gl):(gl=U,Bn=Math.min(gl+se,W),se=Bn-gl)),this._box={l:gl,t:jt,w:se,h:nt};var tl=Q>se,ul=R.barLength+2*R.barPad,il=R.barWidth+2*R.barPad,sl=U,vl=Z+$;vl+il>z&&(vl=z-il);var yl=this.container.selectAll("rect.scrollbar-horizontal").data(tl?[0]:[]);yl.exit().on(".drag",null).remove(),yl.enter().append("rect").classed("scrollbar-horizontal",!0).call(v.fill,R.barColor),tl?(this.hbar=yl.attr({rx:R.barRadius,ry:R.barRadius,x:sl,y:vl,width:ul,height:il}),this._hbarXMin=sl+ul/2,this._hbarTranslateMax=se-ul):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var Fn=$>nt,xl=R.barWidth+2*R.barPad,wl=R.barLength+2*R.barPad,kl=U+Q,Dl=Z;kl+xl>W&&(kl=W-xl);var Ol=this.container.selectAll("rect.scrollbar-vertical").data(Fn?[0]:[]);Ol.exit().on(".drag",null).remove(),Ol.enter().append("rect").classed("scrollbar-vertical",!0).call(v.fill,R.barColor),Fn?(this.vbar=Ol.attr({rx:R.barRadius,ry:R.barRadius,x:kl,y:Dl,width:xl,height:wl}),this._vbarYMin=Dl+wl/2,this._vbarTranslateMax=nt-wl):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var gu=this.id,yu=gl-.5,Iu=Fn?Bn+xl+.5:Bn+.5,cl=jt-.5,pl=tl?Pe+il+.5:Pe+.5,it=x._topdefs.selectAll("#"+gu).data(tl||Fn?[0]:[]);if(it.exit().remove(),it.enter().append("clipPath").attr("id",gu).append("rect"),tl||Fn?(this._clipRect=it.select("rect").attr({x:Math.floor(yu),y:Math.floor(cl),width:Math.ceil(Iu)-Math.floor(yu),height:Math.ceil(pl)-Math.floor(cl)}),this.container.call(C.setClipUrl,gu,this.gd),this.bg.attr({x:U,y:Z,width:Q,height:$})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(C.setClipUrl,null),delete this._clipRect),tl||Fn){var bl=A.behavior.drag().on("dragstart",function(){A.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(bl);var Ll=A.behavior.drag().on("dragstart",function(){A.event.sourceEvent.preventDefault(),A.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));tl&&this.hbar.on(".drag",null).call(Ll),Fn&&this.vbar.on(".drag",null).call(Ll)}this.setTranslate(I,B)},R.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(C.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},R.prototype._onBoxDrag=function(){var F=this.translateX,I=this.translateY;this.hbar&&(F-=A.event.dx),this.vbar&&(I-=A.event.dy),this.setTranslate(F,I)},R.prototype._onBoxWheel=function(){var F=this.translateX,I=this.translateY;this.hbar&&(F+=A.event.deltaY),this.vbar&&(I+=A.event.deltaY),this.setTranslate(F,I)},R.prototype._onBarDrag=function(){var F=this.translateX,I=this.translateY;if(this.hbar){var B=F+this._hbarXMin,x=B+this._hbarTranslateMax,W=P.constrain(A.event.x,B,x),z=(W-B)/(x-B),U=this.position.w-this._box.w;F=z*U}if(this.vbar){var Q=I+this._vbarYMin,Z=Q+this._vbarTranslateMax,$=P.constrain(A.event.y,Q,Z),q=($-Q)/(Z-Q),J=this.position.h-this._box.h;I=q*J}this.setTranslate(F,I)},R.prototype.setTranslate=function(F,I){var B=this.position.w-this._box.w,x=this.position.h-this._box.h;if(F=P.constrain(F||0,0,B),I=P.constrain(I||0,0,x),this.translateX=F,this.translateY=I,this.container.call(C.setTranslate,this._box.l-this.position.l-F,this._box.t-this.position.t-I),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+F-.5),y:Math.floor(this.position.t+I-.5)}),this.hbar){var W=F/B;this.hbar.call(C.setTranslate,F+W*this._hbarTranslateMax,I)}if(this.vbar){var z=I/x;this.vbar.call(C.setTranslate,F,I+z*this._vbarTranslateMax)}}}),Hv=o((rl,In)=>{var A=f(),v=Jp(),C=Bd(),P=dh(),R=ls(),F=ag(),I=Zf().arrayEditor,B=i0().LINE_SPACING,x=A1(),W=I2();In.exports=function(ul){var il=ul._fullLayout,sl=R.filterVisible(il[x.name]);function vl(gu){v.autoMargin(ul,Pe(gu))}var yl=il._menulayer.selectAll("g."+x.containerClassName).data(sl.length>0?[0]:[]);if(yl.enter().append("g").classed(x.containerClassName,!0).style("cursor","pointer"),yl.exit().each(function(){A.select(this).selectAll("g."+x.headerGroupClassName).each(vl)}).remove(),sl.length!==0){var Fn=yl.selectAll("g."+x.headerGroupClassName).data(sl,z);Fn.enter().append("g").classed(x.headerGroupClassName,!0);for(var xl=R.ensureSingle(yl,"g",x.dropdownButtonGroupClassName,function(gu){gu.style("pointer-events","all")}),wl=0;wl<sl.length;wl++){var kl=sl[wl];jt(ul,kl)}var Dl="updatemenus"+il._uid,Ol=new W(ul,xl,Dl);Fn.enter().size()&&(xl.node().parentNode.appendChild(xl.node()),xl.call(tl)),Fn.exit().each(function(gu){xl.call(tl),vl(gu)}).remove(),Fn.each(function(gu){var yu=A.select(this),Iu=gu.type==="dropdown"?xl:null;v.manageCommandObserver(ul,gu,gu.buttons,function(cl){Z(ul,gu,gu.buttons[cl.index],yu,Iu,Ol,cl.index,!0)}),gu.type==="dropdown"?($(ul,yu,xl,Ol,gu),Q(xl,gu)&&q(ul,yu,xl,Ol,gu)):q(ul,yu,null,null,gu)})}};function z(ul){return ul._index}function U(ul){return+ul.attr(x.menuIndexAttrName)==-1}function Q(ul,il){return+ul.attr(x.menuIndexAttrName)===il._index}function Z(ul,il,sl,vl,yl,Fn,xl,wl){il.active=xl,I(ul.layout,x.name,il).applyUpdate("active",xl),il.type==="buttons"?q(ul,vl,null,null,il):il.type==="dropdown"&&(yl.attr(x.menuIndexAttrName,"-1"),$(ul,vl,yl,Fn,il),wl||q(ul,vl,yl,Fn,il))}function $(ul,il,sl,vl,yl){var Fn=R.ensureSingle(il,"g",x.headerClassName,function(yu){yu.style("pointer-events","all")}),xl=yl._dims,wl=yl.active,kl=yl.buttons[wl]||x.blankHeaderOpts,Dl={y:yl.pad.t,yPad:0,x:yl.pad.l,xPad:0,index:0},Ol={width:xl.headerWidth,height:xl.headerHeight};Fn.call(j,yl,kl,ul).call(ml,yl,Dl,Ol);var gu=R.ensureSingle(il,"text",x.headerArrowClassName,function(yu){yu.attr("text-anchor","end").call(P.font,yl.font).text(x.arrowSymbol[yl.direction])});gu.attr({x:xl.headerWidth-x.arrowOffsetX+yl.pad.l,y:xl.headerHeight/2+x.textOffsetY+yl.pad.t}),Fn.on("click",function(){sl.call(tl,String(Q(sl,yl)?-1:yl._index)),q(ul,il,sl,vl,yl)}),Fn.on("mouseover",function(){Fn.call(gl)}),Fn.on("mouseout",function(){Fn.call(Bn,yl)}),P.setTranslate(il,xl.lx,xl.ly)}function q(ul,il,sl,vl,yl){sl||(sl=il,sl.attr("pointer-events","all"));var Fn=!U(sl)||yl.type==="buttons"?yl.buttons:[],xl=yl.type==="dropdown"?x.dropdownButtonClassName:x.buttonClassName,wl=sl.selectAll("g."+xl).data(R.filterVisible(Fn)),kl=wl.enter().append("g").classed(xl,!0),Dl=wl.exit();yl.type==="dropdown"?(kl.attr("opacity","0").transition().attr("opacity","1"),Dl.transition().attr("opacity","0").remove()):Dl.remove();var Ol=0,gu=0,yu=yl._dims,Iu=["up","down"].indexOf(yl.direction)!==-1;yl.type==="dropdown"&&(Iu?gu=yu.headerHeight+x.gapButtonHeader:Ol=yu.headerWidth+x.gapButtonHeader),yl.type==="dropdown"&&yl.direction==="up"&&(gu=-x.gapButtonHeader+x.gapButton-yu.openHeight),yl.type==="dropdown"&&yl.direction==="left"&&(Ol=-x.gapButtonHeader+x.gapButton-yu.openWidth);var cl={x:yu.lx+Ol+yl.pad.l,y:yu.ly+gu+yl.pad.t,yPad:x.gapButton,xPad:x.gapButton,index:0},pl={l:cl.x+yl.borderwidth,t:cl.y+yl.borderwidth};wl.each(function(it,bl){var Ll=A.select(this);Ll.call(j,yl,it,ul).call(ml,yl,cl),Ll.on("click",function(){A.event.defaultPrevented||(it.execute&&(it.args2&&yl.active===bl?(Z(ul,yl,it,il,sl,vl,-1),v.executeAPICommand(ul,it.method,it.args2)):(Z(ul,yl,it,il,sl,vl,bl),v.executeAPICommand(ul,it.method,it.args))),ul.emit("plotly_buttonclicked",{menu:yl,button:it,active:yl.active}))}),Ll.on("mouseover",function(){Ll.call(gl)}),Ll.on("mouseout",function(){Ll.call(Bn,yl),wl.call(nt,yl)})}),wl.call(nt,yl),Iu?(pl.w=Math.max(yu.openWidth,yu.headerWidth),pl.h=cl.y-pl.t):(pl.w=cl.x-pl.l,pl.h=Math.max(yu.openHeight,yu.headerHeight)),pl.direction=yl.direction,vl&&(wl.size()?J(ul,il,sl,vl,yl,pl):O(vl))}function J(ul,il,sl,vl,yl,Fn){var xl=yl.direction,wl=xl==="up"||xl==="down",kl=yl._dims,Dl=yl.active,Ol,gu,yu;if(wl)for(gu=0,yu=0;yu<Dl;yu++)gu+=kl.heights[yu]+x.gapButton;else for(Ol=0,yu=0;yu<Dl;yu++)Ol+=kl.widths[yu]+x.gapButton;vl.enable(Fn,Ol,gu),vl.hbar&&vl.hbar.attr("opacity","0").transition().attr("opacity","1"),vl.vbar&&vl.vbar.attr("opacity","0").transition().attr("opacity","1")}function O(ul){var il=!!ul.hbar,sl=!!ul.vbar;il&&ul.hbar.transition().attr("opacity","0").each("end",function(){il=!1,sl||ul.disable()}),sl&&ul.vbar.transition().attr("opacity","0").each("end",function(){sl=!1,il||ul.disable()})}function j(ul,il,sl,vl){ul.call(Y,il).call(se,il,sl,vl)}function Y(ul,il){var sl=R.ensureSingle(ul,"rect",x.itemRectClassName,function(vl){vl.attr({rx:x.rx,ry:x.ry,"shape-rendering":"crispEdges"})});sl.call(C.stroke,il.bordercolor).call(C.fill,il.bgcolor).style("stroke-width",il.borderwidth+"px")}function se(ul,il,sl,vl){var yl=R.ensureSingle(ul,"text",x.itemTextClassName,function(wl){wl.attr({"text-anchor":"start","data-notex":1})}),Fn=sl.label,xl=vl._fullLayout._meta;xl&&(Fn=R.templateString(Fn,xl)),yl.call(P.font,il.font).text(Fn).call(F.convertToTspans,vl)}function nt(ul,il){var sl=il.active;ul.each(function(vl,yl){var Fn=A.select(this);yl===sl&&il.showactive&&Fn.select("rect."+x.itemRectClassName).call(C.fill,x.activeColor)})}function gl(ul){ul.select("rect."+x.itemRectClassName).call(C.fill,x.hoverColor)}function Bn(ul,il){ul.select("rect."+x.itemRectClassName).call(C.fill,il.bgcolor)}function jt(ul,il){var sl=il._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},vl=P.tester.selectAll("g."+x.dropdownButtonClassName).data(R.filterVisible(il.buttons));vl.enter().append("g").classed(x.dropdownButtonClassName,!0);var yl=["up","down"].indexOf(il.direction)!==-1;vl.each(function(Ol,gu){var yu=A.select(this);yu.call(j,il,Ol,ul);var Iu=yu.select("."+x.itemTextClassName),cl=Iu.node()&&P.bBox(Iu.node()).width,pl=Math.max(cl+x.textPadX,x.minWidth),it=il.font.size*B,bl=F.lineCount(Iu),Ll=Math.max(it*bl,x.minHeight)+x.textOffsetY;Ll=Math.ceil(Ll),pl=Math.ceil(pl),sl.widths[gu]=pl,sl.heights[gu]=Ll,sl.height1=Math.max(sl.height1,Ll),sl.width1=Math.max(sl.width1,pl),yl?(sl.totalWidth=Math.max(sl.totalWidth,pl),sl.openWidth=sl.totalWidth,sl.totalHeight+=Ll+x.gapButton,sl.openHeight+=Ll+x.gapButton):(sl.totalWidth+=pl+x.gapButton,sl.openWidth+=pl+x.gapButton,sl.totalHeight=Math.max(sl.totalHeight,Ll),sl.openHeight=sl.totalHeight)}),yl?sl.totalHeight-=x.gapButton:sl.totalWidth-=x.gapButton,sl.headerWidth=sl.width1+x.arrowPadX,sl.headerHeight=sl.height1,il.type==="dropdown"&&(yl?(sl.width1+=x.arrowPadX,sl.totalHeight=sl.height1):sl.totalWidth=sl.width1,sl.totalWidth+=x.arrowPadX),vl.remove();var Fn=sl.totalWidth+il.pad.l+il.pad.r,xl=sl.totalHeight+il.pad.t+il.pad.b,wl=ul._fullLayout._size;sl.lx=wl.l+wl.w*il.x,sl.ly=wl.t+wl.h*(1-il.y);var kl="left";R.isRightAnchor(il)&&(sl.lx-=Fn,kl="right"),R.isCenterAnchor(il)&&(sl.lx-=Fn/2,kl="center");var Dl="top";R.isBottomAnchor(il)&&(sl.ly-=xl,Dl="bottom"),R.isMiddleAnchor(il)&&(sl.ly-=xl/2,Dl="middle"),sl.totalWidth=Math.ceil(sl.totalWidth),sl.totalHeight=Math.ceil(sl.totalHeight),sl.lx=Math.round(sl.lx),sl.ly=Math.round(sl.ly),v.autoMargin(ul,Pe(il),{x:il.x,y:il.y,l:Fn*({right:1,center:.5}[kl]||0),r:Fn*({left:1,center:.5}[kl]||0),b:xl*({top:1,middle:.5}[Dl]||0),t:xl*({bottom:1,middle:.5}[Dl]||0)})}function Pe(ul){return x.autoMarginIdRoot+ul._index}function ml(ul,il,sl,vl){vl=vl||{};var yl=ul.select("."+x.itemRectClassName),Fn=ul.select("."+x.itemTextClassName),xl=il.borderwidth,wl=sl.index,kl=il._dims;P.setTranslate(ul,xl+sl.x,xl+sl.y);var Dl=["up","down"].indexOf(il.direction)!==-1,Ol=vl.height||(Dl?kl.heights[wl]:kl.height1);yl.attr({x:0,y:0,width:vl.width||(Dl?kl.width1:kl.widths[wl]),height:Ol});var gu=il.font.size*B,yu=F.lineCount(Fn),Iu=(yu-1)*gu/2;F.positionText(Fn,x.textOffsetX,Ol/2-Iu+x.textOffsetY),Dl?sl.y+=kl.heights[wl]+sl.yPad:sl.x+=kl.widths[wl]+sl.xPad,sl.index++}function tl(ul,il){ul.attr(x.menuIndexAttrName,il||"-1").selectAll("g."+x.dropdownButtonClassName).remove()}}),Y1=o((rl,In)=>{var A=A1();In.exports={moduleType:"component",name:A.name,layoutAttributes:z1(),supplyLayoutDefaults:my(),draw:Hv()}}),Jg=o((rl,In)=>{In.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}}),rm=o((rl,In)=>{var A=vu(),v=vg(),C=Al().extendDeepAll,P=sp().overrideAll,R=Cp(),F=Zf().templatedArray,I=Jg(),B=F("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});In.exports=P(F("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:B,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:C(v({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:R.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:A({})},font:A({}),activebgcolor:{valType:"color",dflt:I.gripBgActiveColor},bgcolor:{valType:"color",dflt:I.railBgColor},bordercolor:{valType:"color",dflt:I.railBorderColor},borderwidth:{valType:"number",min:0,dflt:I.railBorderWidth},ticklen:{valType:"number",min:0,dflt:I.tickLength},tickcolor:{valType:"color",dflt:I.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:I.minorTickLength}}),"arraydraw","from-root")}),r1=o((rl,In)=>{var A=ls(),v=Ml(),C=rm(),P=Jg(),R=P.name,F=C.steps;In.exports=function(x,W){v(x,W,{name:R,handleItemDefaults:I})};function I(x,W,z){function U(Y,se){return A.coerce(x,W,C,Y,se)}for(var Q=v(x,W,{name:"steps",handleItemDefaults:B}),Z=0,$=0;$<Q.length;$++)Q[$].visible&&Z++;var q;if(Z<2?q=W.visible=!1:q=U("visible"),!!q){W._stepCount=Z;var J=W._visibleSteps=A.filterVisible(Q),O=U("active");(Q[O]||{}).visible||(W.active=J[0]._index),U("x"),U("y"),A.noneOrAll(x,W,["x","y"]),U("xanchor"),U("yanchor"),U("len"),U("lenmode"),U("pad.t"),U("pad.r"),U("pad.b"),U("pad.l"),A.coerceFont(U,"font",z.font);var j=U("currentvalue.visible");j&&(U("currentvalue.xanchor"),U("currentvalue.prefix"),U("currentvalue.suffix"),U("currentvalue.offset"),A.coerceFont(U,"currentvalue.font",W.font)),U("transition.duration"),U("transition.easing"),U("bgcolor"),U("activebgcolor"),U("bordercolor"),U("borderwidth"),U("ticklen"),U("tickwidth"),U("tickcolor"),U("minorticklen")}}function B(x,W){function z(Z,$){return A.coerce(x,W,F,Z,$)}var U;if(x.method!=="skip"&&!Array.isArray(x.args)?U=W.visible=!1:U=z("visible"),U){z("method"),z("args");var Q=z("label","step-"+W._index);z("value",Q),z("execute")}}}),jm=o((rl,In)=>{var A=f(),v=Jp(),C=Bd(),P=dh(),R=ls(),F=R.strTranslate,I=ag(),B=Zf().arrayEditor,x=Jg(),W=i0(),z=W.LINE_SPACING,U=W.FROM_TL,Q=W.FROM_BR;In.exports=function(yl){var Fn=yl._context.staticPlot,xl=yl._fullLayout,wl=$(xl,yl),kl=xl._infolayer.selectAll("g."+x.containerClassName).data(wl.length>0?[0]:[]);kl.enter().append("g").classed(x.containerClassName,!0).style("cursor",Fn?null:"ew-resize");function Dl(Iu){Iu._commandObserver&&(Iu._commandObserver.remove(),delete Iu._commandObserver),v.autoMargin(yl,Z(Iu))}if(kl.exit().each(function(){A.select(this).selectAll("g."+x.groupClassName).each(Dl)}).remove(),wl.length!==0){var Ol=kl.selectAll("g."+x.groupClassName).data(wl,q);Ol.enter().append("g").classed(x.groupClassName,!0),Ol.exit().each(Dl).remove();for(var gu=0;gu<wl.length;gu++){var yu=wl[gu];J(yl,yu)}Ol.each(function(Iu){var cl=A.select(this);ml(Iu),v.manageCommandObserver(yl,Iu,Iu._visibleSteps,function(pl){var it=cl.data()[0];it.active!==pl.index&&(it._dragging||Bn(yl,cl,it,pl.index,!1,!0))}),O(yl,A.select(this),Iu)})}};function Z(yl){return x.autoMarginIdRoot+yl._index}function $(yl,Fn){for(var xl=yl[x.name],wl=[],kl=0;kl<xl.length;kl++){var Dl=xl[kl];Dl.visible&&(Dl._gd=Fn,wl.push(Dl))}return wl}function q(yl){return yl._index}function J(yl,Fn){var xl=P.tester.selectAll("g."+x.labelGroupClass).data(Fn._visibleSteps);xl.enter().append("g").classed(x.labelGroupClass,!0);var wl=0,kl=0;xl.each(function(Ll){var nl=A.select(this),ve=se(nl,{step:Ll},Fn),_t=ve.node();if(_t){var ol=P.bBox(_t);kl=Math.max(kl,ol.height),wl=Math.max(wl,ol.width)}}),xl.remove();var Dl=Fn._dims={};Dl.inputAreaWidth=Math.max(x.railWidth,x.gripHeight);var Ol=yl._fullLayout._size;Dl.lx=Ol.l+Ol.w*Fn.x,Dl.ly=Ol.t+Ol.h*(1-Fn.y),Fn.lenmode==="fraction"?Dl.outerLength=Math.round(Ol.w*Fn.len):Dl.outerLength=Fn.len,Dl.inputAreaStart=0,Dl.inputAreaLength=Math.round(Dl.outerLength-Fn.pad.l-Fn.pad.r);var gu=Dl.inputAreaLength-2*x.stepInset,yu=gu/(Fn._stepCount-1),Iu=wl+x.labelPadding;if(Dl.labelStride=Math.max(1,Math.ceil(Iu/yu)),Dl.labelHeight=kl,Dl.currentValueMaxWidth=0,Dl.currentValueHeight=0,Dl.currentValueTotalHeight=0,Dl.currentValueMaxLines=1,Fn.currentvalue.visible){var cl=P.tester.append("g");xl.each(function(Ll){var nl=j(cl,Fn,Ll.label),ve=nl.node()&&P.bBox(nl.node())||{width:0,height:0},_t=I.lineCount(nl);Dl.currentValueMaxWidth=Math.max(Dl.currentValueMaxWidth,Math.ceil(ve.width)),Dl.currentValueHeight=Math.max(Dl.currentValueHeight,Math.ceil(ve.height)),Dl.currentValueMaxLines=Math.max(Dl.currentValueMaxLines,_t)}),Dl.currentValueTotalHeight=Dl.currentValueHeight+Fn.currentvalue.offset,cl.remove()}Dl.height=Dl.currentValueTotalHeight+x.tickOffset+Fn.ticklen+x.labelOffset+Dl.labelHeight+Fn.pad.t+Fn.pad.b;var pl="left";R.isRightAnchor(Fn)&&(Dl.lx-=Dl.outerLength,pl="right"),R.isCenterAnchor(Fn)&&(Dl.lx-=Dl.outerLength/2,pl="center");var it="top";R.isBottomAnchor(Fn)&&(Dl.ly-=Dl.height,it="bottom"),R.isMiddleAnchor(Fn)&&(Dl.ly-=Dl.height/2,it="middle"),Dl.outerLength=Math.ceil(Dl.outerLength),Dl.height=Math.ceil(Dl.height),Dl.lx=Math.round(Dl.lx),Dl.ly=Math.round(Dl.ly);var bl={y:Fn.y,b:Dl.height*Q[it],t:Dl.height*U[it]};Fn.lenmode==="fraction"?(bl.l=0,bl.xl=Fn.x-Fn.len*U[pl],bl.r=0,bl.xr=Fn.x+Fn.len*Q[pl]):(bl.x=Fn.x,bl.l=Dl.outerLength*U[pl],bl.r=Dl.outerLength*Q[pl]),v.autoMargin(yl,Z(Fn),bl)}function O(yl,Fn,xl){(xl.steps[xl.active]||{}).visible||(xl.active=xl._visibleSteps[0]._index),Fn.call(j,xl).call(vl,xl).call(nt,xl).call(Pe,xl).call(sl,yl,xl).call(Y,yl,xl);var wl=xl._dims;P.setTranslate(Fn,wl.lx+xl.pad.l,wl.ly+xl.pad.t),Fn.call(tl,xl,!1),Fn.call(j,xl)}function j(yl,Fn,xl){if(Fn.currentvalue.visible){var wl=Fn._dims,kl,Dl;switch(Fn.currentvalue.xanchor){case"right":kl=wl.inputAreaLength-x.currentValueInset-wl.currentValueMaxWidth,Dl="left";break;case"center":kl=wl.inputAreaLength*.5,Dl="middle";break;default:kl=x.currentValueInset,Dl="left"}var Ol=R.ensureSingle(yl,"text",x.labelClass,function(it){it.attr({"text-anchor":Dl,"data-notex":1})}),gu=Fn.currentvalue.prefix?Fn.currentvalue.prefix:"";if(typeof xl=="string")gu+=xl;else{var yu=Fn.steps[Fn.active].label,Iu=Fn._gd._fullLayout._meta;Iu&&(yu=R.templateString(yu,Iu)),gu+=yu}Fn.currentvalue.suffix&&(gu+=Fn.currentvalue.suffix),Ol.call(P.font,Fn.currentvalue.font).text(gu).call(I.convertToTspans,Fn._gd);var cl=I.lineCount(Ol),pl=(wl.currentValueMaxLines+1-cl)*Fn.currentvalue.font.size*z;return I.positionText(Ol,kl,pl),Ol}}function Y(yl,Fn,xl){var wl=R.ensureSingle(yl,"rect",x.gripRectClass,function(kl){kl.call(jt,Fn,yl,xl).style("pointer-events","all")});wl.attr({width:x.gripWidth,height:x.gripHeight,rx:x.gripRadius,ry:x.gripRadius}).call(C.stroke,xl.bordercolor).call(C.fill,xl.bgcolor).style("stroke-width",xl.borderwidth+"px")}function se(yl,Fn,xl){var wl=R.ensureSingle(yl,"text",x.labelClass,function(Ol){Ol.attr({"text-anchor":"middle","data-notex":1})}),kl=Fn.step.label,Dl=xl._gd._fullLayout._meta;return Dl&&(kl=R.templateString(kl,Dl)),wl.call(P.font,xl.font).text(kl).call(I.convertToTspans,xl._gd),wl}function nt(yl,Fn){var xl=R.ensureSingle(yl,"g",x.labelsClass),wl=Fn._dims,kl=xl.selectAll("g."+x.labelGroupClass).data(wl.labelSteps);kl.enter().append("g").classed(x.labelGroupClass,!0),kl.exit().remove(),kl.each(function(Dl){var Ol=A.select(this);Ol.call(se,Dl,Fn),P.setTranslate(Ol,ul(Fn,Dl.fraction),x.tickOffset+Fn.ticklen+Fn.font.size*z+x.labelOffset+wl.currentValueTotalHeight)})}function gl(yl,Fn,xl,wl,kl){var Dl=Math.round(wl*(xl._stepCount-1)),Ol=xl._visibleSteps[Dl]._index;Ol!==xl.active&&Bn(yl,Fn,xl,Ol,!0,kl)}function Bn(yl,Fn,xl,wl,kl,Dl){var Ol=xl.active;xl.active=wl,B(yl.layout,x.name,xl).applyUpdate("active",wl);var gu=xl.steps[xl.active];Fn.call(tl,xl,Dl),Fn.call(j,xl),yl.emit("plotly_sliderchange",{slider:xl,step:xl.steps[xl.active],interaction:kl,previousActive:Ol}),gu&&gu.method&&kl&&(Fn._nextMethod?(Fn._nextMethod.step=gu,Fn._nextMethod.doCallback=kl,Fn._nextMethod.doTransition=Dl):(Fn._nextMethod={step:gu,doCallback:kl,doTransition:Dl},Fn._nextMethodRaf=window.requestAnimationFrame(function(){var yu=Fn._nextMethod.step;yu.method&&(yu.execute&&v.executeAPICommand(yl,yu.method,yu.args),Fn._nextMethod=null,Fn._nextMethodRaf=null)})))}function jt(yl,Fn,xl){if(Fn._context.staticPlot)return;var wl=xl.node(),kl=A.select(Fn);function Dl(){return xl.data()[0]}function Ol(){var gu=Dl();Fn.emit("plotly_sliderstart",{slider:gu});var yu=xl.select("."+x.gripRectClass);A.event.stopPropagation(),A.event.preventDefault(),yu.call(C.fill,gu.activebgcolor);var Iu=il(gu,A.mouse(wl)[0]);gl(Fn,xl,gu,Iu,!0),gu._dragging=!0;function cl(){var it=Dl(),bl=il(it,A.mouse(wl)[0]);gl(Fn,xl,it,bl,!1)}kl.on("mousemove",cl),kl.on("touchmove",cl);function pl(){var it=Dl();it._dragging=!1,yu.call(C.fill,it.bgcolor),kl.on("mouseup",null),kl.on("mousemove",null),kl.on("touchend",null),kl.on("touchmove",null),Fn.emit("plotly_sliderend",{slider:it,step:it.steps[it.active]})}kl.on("mouseup",pl),kl.on("touchend",pl)}yl.on("mousedown",Ol),yl.on("touchstart",Ol)}function Pe(yl,Fn){var xl=yl.selectAll("rect."+x.tickRectClass).data(Fn._visibleSteps),wl=Fn._dims;xl.enter().append("rect").classed(x.tickRectClass,!0),xl.exit().remove(),xl.attr({width:Fn.tickwidth+"px","shape-rendering":"crispEdges"}),xl.each(function(kl,Dl){var Ol=Dl%wl.labelStride===0,gu=A.select(this);gu.attr({height:Ol?Fn.ticklen:Fn.minorticklen}).call(C.fill,Fn.tickcolor),P.setTranslate(gu,ul(Fn,Dl/(Fn._stepCount-1))-.5*Fn.tickwidth,(Ol?x.tickOffset:x.minorTickOffset)+wl.currentValueTotalHeight)})}function ml(yl){var Fn=yl._dims;Fn.labelSteps=[];for(var xl=yl._stepCount,wl=0;wl<xl;wl+=Fn.labelStride)Fn.labelSteps.push({fraction:wl/(xl-1),step:yl._visibleSteps[wl]})}function tl(yl,Fn,xl){for(var wl=yl.select("rect."+x.gripRectClass),kl=0,Dl=0;Dl<Fn._stepCount;Dl++)if(Fn._visibleSteps[Dl]._index===Fn.active){kl=Dl;break}var Ol=ul(Fn,kl/(Fn._stepCount-1));if(!Fn._invokingCommand){var gu=wl;xl&&Fn.transition.duration>0&&(gu=gu.transition().duration(Fn.transition.duration).ease(Fn.transition.easing)),gu.attr("transform",F(Ol-x.gripWidth*.5,Fn._dims.currentValueTotalHeight))}}function ul(yl,Fn){var xl=yl._dims;return xl.inputAreaStart+x.stepInset+(xl.inputAreaLength-2*x.stepInset)*Math.min(1,Math.max(0,Fn))}function il(yl,Fn){var xl=yl._dims;return Math.min(1,Math.max(0,(Fn-x.stepInset-xl.inputAreaStart)/(xl.inputAreaLength-2*x.stepInset-2*xl.inputAreaStart)))}function sl(yl,Fn,xl){var wl=xl._dims,kl=R.ensureSingle(yl,"rect",x.railTouchRectClass,function(Dl){Dl.call(jt,Fn,yl,xl).style("pointer-events","all")});kl.attr({width:wl.inputAreaLength,height:Math.max(wl.inputAreaWidth,x.tickOffset+xl.ticklen+wl.labelHeight)}).call(C.fill,xl.bgcolor).attr("opacity",0),P.setTranslate(kl,0,wl.currentValueTotalHeight)}function vl(yl,Fn){var xl=Fn._dims,wl=xl.inputAreaLength-x.railInset*2,kl=R.ensureSingle(yl,"rect",x.railRectClass);kl.attr({width:wl,height:x.railWidth,rx:x.railRadius,ry:x.railRadius,"shape-rendering":"crispEdges"}).call(C.stroke,Fn.bordercolor).call(C.fill,Fn.bgcolor).style("stroke-width",Fn.borderwidth+"px"),P.setTranslate(kl,x.railInset,(xl.inputAreaWidth-x.railWidth)*.5+xl.currentValueTotalHeight)}}),Um=o((rl,In)=>{var A=Jg();In.exports={moduleType:"component",name:A.name,layoutAttributes:rm(),supplyLayoutDefaults:r1(),draw:jm()}}),K1=o((rl,In)=>{var A=Id();In.exports={bgcolor:{valType:"color",dflt:A.background,editType:"plot"},bordercolor:{valType:"color",dflt:A.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}}),kv=o((rl,In)=>{In.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}}),Bm=o((rl,In)=>{In.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}}),Hm=o(rl=>{var In=Nh(),A=ag(),v=Bm(),C=i0().LINE_SPACING,P=v.name;function R(F){var I=F&&F[P];return I&&I.visible}rl.isVisible=R,rl.makeData=function(F){for(var I=In.list({_fullLayout:F},"x",!0),B=F.margin,x=[],W=0;W<I.length;W++){var z=I[W];if(R(z)){x.push(z);var U=z[P];U._id=P+z._id,U._height=(F.height-B.b-B.t)*U.thickness,U._offsetShift=Math.floor(U.borderwidth/2)}}F._rangeSliderData=x},rl.autoMarginOpts=function(F,I){var B=F._fullLayout,x=I[P],W=I._id.charAt(0),z=0,U=0;if(I.side==="bottom"&&(z=I._depth,I.title.text!==B._dfltTitle[W])){U=1.5*I.title.font.size+10+x._offsetShift;var Q=(I.title.text.match(A.BR_TAG_ALL)||[]).length;U+=Q*I.title.font.size*C}return{x:0,y:I._counterDomainMin,l:0,r:0,t:0,b:x._height+z+Math.max(B.margin.b,U),pad:v.extraPad+x._offsetShift*2}}}),i3=o((rl,In)=>{var A=ls(),v=Zf(),C=Nh(),P=K1(),R=kv();In.exports=function(F,I,B){var x=F[B],W=I[B];if(!(x.rangeslider||I._requestRangeslider[W._id]))return;A.isPlainObject(x.rangeslider)||(x.rangeslider={});var z=x.rangeslider,U=v.newContainer(W,"rangeslider");function Q(Pe,ml){return A.coerce(z,U,P,Pe,ml)}var Z,$;function q(Pe,ml){return A.coerce(Z,$,R,Pe,ml)}var J=Q("visible");if(J){Q("bgcolor",I.plot_bgcolor),Q("bordercolor"),Q("borderwidth"),Q("thickness"),Q("autorange",!W.isValidRange(z.range)),Q("range");var O=I._subplots;if(O)for(var j=O.cartesian.filter(function(Pe){return Pe.substr(0,Pe.indexOf("y"))===C.name2id(B)}).map(function(Pe){return Pe.substr(Pe.indexOf("y"),Pe.length)}),Y=A.simpleMap(j,C.id2name),se=0;se<Y.length;se++){var nt=Y[se];Z=z[nt]||{},$=v.newContainer(U,nt,"yaxis");var gl=I[nt],Bn;Z.range&&gl.isValidRange(Z.range)&&(Bn="fixed");var jt=q("rangemode",Bn);jt!=="match"&&q("range",gl.range.slice())}U._input=z}}}),o3=o((rl,In)=>{var A=Nh().list,v=Wd().getAutoRange,C=Bm();In.exports=function(P){for(var R=A(P,"x",!0),F=0;F<R.length;F++){var I=R[F],B=I[C.name];B&&B.visible&&B.autorange&&(B._input.autorange=!0,B._input.range=B.range=v(P,I))}}}),Qy=o((rl,In)=>{var A=f(),v=Ep(),C=Jp(),P=ls(),R=P.strTranslate,F=dh(),I=Bd(),B=vh(),x=e1(),W=Nh(),z=Hh(),U=Cf(),Q=Bm();In.exports=function(jt){for(var Pe=jt._fullLayout,ml=Pe._rangeSliderData,tl=0;tl<ml.length;tl++){var ul=ml[tl][Q.name];ul._clipId=ul._id+"-"+Pe._uid}function il(vl){return vl._name}var sl=Pe._infolayer.selectAll("g."+Q.containerClassName).data(ml,il);sl.exit().each(function(vl){var yl=vl[Q.name];Pe._topdefs.select("#"+yl._clipId).remove()}).remove(),ml.length!==0&&(sl.enter().append("g").classed(Q.containerClassName,!0).attr("pointer-events","all"),sl.each(function(vl){var yl=A.select(this),Fn=vl[Q.name],xl=Pe[W.id2name(vl.anchor)],wl=Fn[W.id2name(vl.anchor)];if(Fn.range){var kl=P.simpleMap(Fn.range,vl.r2l),Dl=P.simpleMap(vl.range,vl.r2l),Ol;Dl[0]<Dl[1]?Ol=[Math.min(kl[0],Dl[0]),Math.max(kl[1],Dl[1])]:Ol=[Math.max(kl[0],Dl[0]),Math.min(kl[1],Dl[1])],Fn.range=Fn._input.range=P.simpleMap(Ol,vl.l2r)}vl.cleanRange("rangeslider.range");var gu=Pe._size,yu=vl.domain;Fn._width=gu.w*(yu[1]-yu[0]);var Iu=Math.round(gu.l+gu.w*yu[0]),cl=Math.round(gu.t+gu.h*(1-vl._counterDomainMin)+(vl.side==="bottom"?vl._depth:0)+Fn._offsetShift+Q.extraPad);yl.attr("transform",R(Iu,cl)),Fn._rl=P.simpleMap(Fn.range,vl.r2l);var pl=Fn._rl[0],it=Fn._rl[1],bl=it-pl;if(Fn.p2d=function(Bu){return Bu/Fn._width*bl+pl},Fn.d2p=function(Bu){return(Bu-pl)/bl*Fn._width},vl.rangebreaks){var Ll=vl.locateBreaks(pl,it);if(Ll.length){var nl,ve,_t=0;for(nl=0;nl<Ll.length;nl++)ve=Ll[nl],_t+=ve.max-ve.min;var ol=Fn._width/(it-pl-_t),dl=[-ol*pl];for(nl=0;nl<Ll.length;nl++)ve=Ll[nl],dl.push(dl[dl.length-1]-ol*(ve.max-ve.min));for(Fn.d2p=function(Bu){for(var Ju=dl[0],yd=0;yd<Ll.length;yd++){var Hd=Ll[yd];if(Bu>=Hd.max)Ju=dl[yd+1];else if(Bu<Hd.min)break}return Ju+ol*Bu},nl=0;nl<Ll.length;nl++)ve=Ll[nl],ve.pmin=Fn.d2p(ve.min),ve.pmax=Fn.d2p(ve.max);Fn.p2d=function(Bu){for(var Ju=dl[0],yd=0;yd<Ll.length;yd++){var Hd=Ll[yd];if(Bu>=Hd.pmax)Ju=dl[yd+1];else if(Bu<Hd.pmin)break}return(Bu-Ju)/ol}}}if(wl.rangemode!=="match"){var Il=xl.r2l(wl.range[0]),ql=xl.r2l(wl.range[1]),Zl=ql-Il;Fn.d2pOppAxis=function(Bu){return(Bu-Il)/Zl*Fn._height}}yl.call(O,jt,vl,Fn).call(j,jt,vl,Fn).call(Y,jt,vl,Fn).call(nt,jt,vl,Fn,wl).call(gl,jt,vl,Fn).call(Bn,jt,vl,Fn),$(yl,jt,vl,Fn),J(yl,jt,vl,Fn,xl,wl),vl.side==="bottom"&&B.draw(jt,vl._id+"title",{propContainer:vl,propName:vl._name+".title.text",placeholder:Pe._dfltTitle.x,attributes:{x:vl._offset+vl._length/2,y:cl+Fn._height+Fn._offsetShift+10+1.5*vl.title.font.size,"text-anchor":"middle"}})}))};function Z(jt){return typeof jt.clientX=="number"?jt.clientX:jt.touches&&jt.touches.length>0?jt.touches[0].clientX:0}function $(jt,Pe,ml,tl){if(Pe._context.staticPlot)return;var ul=jt.select("rect."+Q.slideBoxClassName).node(),il=jt.select("rect."+Q.grabAreaMinClassName).node(),sl=jt.select("rect."+Q.grabAreaMaxClassName).node();function vl(){var yl=A.event,Fn=yl.target,xl=Z(yl),wl=xl-jt.node().getBoundingClientRect().left,kl=tl.d2p(ml._rl[0]),Dl=tl.d2p(ml._rl[1]),Ol=z.coverSlip();this.addEventListener("touchmove",gu),this.addEventListener("touchend",yu),Ol.addEventListener("mousemove",gu),Ol.addEventListener("mouseup",yu);function gu(Iu){var cl=Z(Iu),pl=+cl-xl,it,bl,Ll;switch(Fn){case ul:if(Ll="ew-resize",kl+pl>ml._length||Dl+pl<0)return;it=kl+pl,bl=Dl+pl;break;case il:if(Ll="col-resize",kl+pl>ml._length)return;it=kl+pl,bl=Dl;break;case sl:if(Ll="col-resize",Dl+pl<0)return;it=kl,bl=Dl+pl;break;default:Ll="ew-resize",it=wl,bl=wl+pl;break}if(bl<it){var nl=bl;bl=it,it=nl}tl._pixelMin=it,tl._pixelMax=bl,U(A.select(Ol),Ll),q(jt,Pe,ml,tl)}function yu(){Ol.removeEventListener("mousemove",gu),Ol.removeEventListener("mouseup",yu),this.removeEventListener("touchmove",gu),this.removeEventListener("touchend",yu),P.removeElement(Ol)}}jt.on("mousedown",vl),jt.on("touchstart",vl)}function q(jt,Pe,ml,tl){function ul(vl){return ml.l2r(P.constrain(vl,tl._rl[0],tl._rl[1]))}var il=ul(tl.p2d(tl._pixelMin)),sl=ul(tl.p2d(tl._pixelMax));window.requestAnimationFrame(function(){v.call("_guiRelayout",Pe,ml._name+".range",[il,sl])})}function J(jt,Pe,ml,tl,ul,il){var sl=Q.handleWidth/2;function vl(Iu){return P.constrain(Iu,0,tl._width)}function yl(Iu){return P.constrain(Iu,0,tl._height)}function Fn(Iu){return P.constrain(Iu,-sl,tl._width+sl)}var xl=vl(tl.d2p(ml._rl[0])),wl=vl(tl.d2p(ml._rl[1]));if(jt.select("rect."+Q.slideBoxClassName).attr("x",xl).attr("width",wl-xl),jt.select("rect."+Q.maskMinClassName).attr("width",xl),jt.select("rect."+Q.maskMaxClassName).attr("x",wl).attr("width",tl._width-wl),il.rangemode!=="match"){var kl=tl._height-yl(tl.d2pOppAxis(ul._rl[1])),Dl=tl._height-yl(tl.d2pOppAxis(ul._rl[0]));jt.select("rect."+Q.maskMinOppAxisClassName).attr("x",xl).attr("height",kl).attr("width",wl-xl),jt.select("rect."+Q.maskMaxOppAxisClassName).attr("x",xl).attr("y",Dl).attr("height",tl._height-Dl).attr("width",wl-xl),jt.select("rect."+Q.slideBoxClassName).attr("y",kl).attr("height",Dl-kl)}var Ol=.5,gu=Math.round(Fn(xl-sl))-Ol,yu=Math.round(Fn(wl-sl))+Ol;jt.select("g."+Q.grabberMinClassName).attr("transform",R(gu,Ol)),jt.select("g."+Q.grabberMaxClassName).attr("transform",R(yu,Ol))}function O(jt,Pe,ml,tl){var ul=P.ensureSingle(jt,"rect",Q.bgClassName,function(yl){yl.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),il=tl.borderwidth%2===0?tl.borderwidth:tl.borderwidth-1,sl=-tl._offsetShift,vl=F.crispRound(Pe,tl.borderwidth);ul.attr({width:tl._width+il,height:tl._height+il,transform:R(sl,sl),"stroke-width":vl}).call(I.stroke,tl.bordercolor).call(I.fill,tl.bgcolor)}function j(jt,Pe,ml,tl){var ul=Pe._fullLayout,il=P.ensureSingleById(ul._topdefs,"clipPath",tl._clipId,function(sl){sl.append("rect").attr({x:0,y:0})});il.select("rect").attr({width:tl._width,height:tl._height})}function Y(jt,Pe,ml,tl){var ul=Pe.calcdata,il=jt.selectAll("g."+Q.rangePlotClassName).data(ml._subplotsWith,P.identity);il.enter().append("g").attr("class",function(vl){return Q.rangePlotClassName+" "+vl}).call(F.setClipUrl,tl._clipId,Pe),il.order(),il.exit().remove();var sl;il.each(function(vl,yl){var Fn=A.select(this),xl=yl===0,wl=W.getFromId(Pe,vl,"y"),kl=wl._name,Dl=tl[kl],Ol={data:[],layout:{xaxis:{type:ml.type,domain:[0,1],range:tl.range.slice(),calendar:ml.calendar},width:tl._width,height:tl._height,margin:{t:0,b:0,l:0,r:0}},_context:Pe._context};ml.rangebreaks&&(Ol.layout.xaxis.rangebreaks=ml.rangebreaks),Ol.layout[kl]={type:wl.type,domain:[0,1],range:Dl.rangemode!=="match"?Dl.range.slice():wl.range.slice(),calendar:wl.calendar},wl.rangebreaks&&(Ol.layout[kl].rangebreaks=wl.rangebreaks),C.supplyDefaults(Ol);var gu=Ol._fullLayout.xaxis,yu=Ol._fullLayout[kl];gu.clearCalc(),gu.setScale(),yu.clearCalc(),yu.setScale();var Iu={id:vl,plotgroup:Fn,xaxis:gu,yaxis:yu,isRangePlot:!0};xl?sl=Iu:(Iu.mainplot="xy",Iu.mainplotinfo=sl),x.rangePlot(Pe,Iu,se(ul,vl))})}function se(jt,Pe){for(var ml=[],tl=0;tl<jt.length;tl++){var ul=jt[tl],il=ul[0].trace;il.xaxis+il.yaxis===Pe&&ml.push(ul)}return ml}function nt(jt,Pe,ml,tl,ul){var il=P.ensureSingle(jt,"rect",Q.maskMinClassName,function(Fn){Fn.attr({x:0,y:0,"shape-rendering":"crispEdges"})});il.attr("height",tl._height).call(I.fill,Q.maskColor);var sl=P.ensureSingle(jt,"rect",Q.maskMaxClassName,function(Fn){Fn.attr({y:0,"shape-rendering":"crispEdges"})});if(sl.attr("height",tl._height).call(I.fill,Q.maskColor),ul.rangemode!=="match"){var vl=P.ensureSingle(jt,"rect",Q.maskMinOppAxisClassName,function(Fn){Fn.attr({y:0,"shape-rendering":"crispEdges"})});vl.attr("width",tl._width).call(I.fill,Q.maskOppAxisColor);var yl=P.ensureSingle(jt,"rect",Q.maskMaxOppAxisClassName,function(Fn){Fn.attr({y:0,"shape-rendering":"crispEdges"})});yl.attr("width",tl._width).style("border-top",Q.maskOppBorder).call(I.fill,Q.maskOppAxisColor)}}function gl(jt,Pe,ml,tl){if(!Pe._context.staticPlot){var ul=P.ensureSingle(jt,"rect",Q.slideBoxClassName,function(il){il.attr({y:0,cursor:Q.slideBoxCursor,"shape-rendering":"crispEdges"})});ul.attr({height:tl._height,fill:Q.slideBoxFill})}}function Bn(jt,Pe,ml,tl){var ul=P.ensureSingle(jt,"g",Q.grabberMinClassName),il=P.ensureSingle(jt,"g",Q.grabberMaxClassName),sl={x:0,width:Q.handleWidth,rx:Q.handleRadius,fill:I.background,stroke:I.defaultLine,"stroke-width":Q.handleStrokeWidth,"shape-rendering":"crispEdges"},vl={y:Math.round(tl._height/4),height:Math.round(tl._height/2)},yl=P.ensureSingle(ul,"rect",Q.handleMinClassName,function(Dl){Dl.attr(sl)});yl.attr(vl);var Fn=P.ensureSingle(il,"rect",Q.handleMaxClassName,function(Dl){Dl.attr(sl)});Fn.attr(vl);var xl={width:Q.grabAreaWidth,x:0,y:0,fill:Q.grabAreaFill,cursor:Pe._context.staticPlot?void 0:Q.grabAreaCursor},wl=P.ensureSingle(ul,"rect",Q.grabAreaMinClassName,function(Dl){Dl.attr(xl)});wl.attr("height",tl._height);var kl=P.ensureSingle(il,"rect",Q.grabAreaMaxClassName,function(Dl){Dl.attr(xl)});kl.attr("height",tl._height)}}),a3=o((rl,In)=>{var A=ls(),v=K1(),C=kv(),P=Hm();In.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:A.extendFlat({},v,{yaxis:C})}}},layoutAttributes:K1(),handleDefaults:i3(),calcAutorange:o3(),draw:Qy(),isVisible:P.isVisible,makeData:P.makeData,autoMarginOpts:P.autoMarginOpts}}),y1=o((rl,In)=>{var A=vu(),v=Id(),C=Zf().templatedArray,P=C("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});In.exports={visible:{valType:"boolean",editType:"plot"},buttons:P,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:A({editType:"plot"}),bgcolor:{valType:"color",dflt:v.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:v.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}}),vy=o((rl,In)=>{In.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}}),O2=o((rl,In)=>{var A=ls(),v=Bd(),C=Zf(),P=Ml(),R=y1(),F=vy();In.exports=function(x,W,z,U,Q){var Z=x.rangeselector||{},$=C.newContainer(W,"rangeselector");function q(se,nt){return A.coerce(Z,$,R,se,nt)}var J=P(Z,$,{name:"buttons",handleItemDefaults:I,calendar:Q}),O=q("visible",J.length>0);if(O){var j=B(W,z,U);q("x",j[0]),q("y",j[1]),A.noneOrAll(x,W,["x","y"]),q("xanchor"),q("yanchor"),A.coerceFont(q,"font",z.font);var Y=q("bgcolor");q("activecolor",v.contrast(Y,F.lightAmount,F.darkAmount)),q("bordercolor"),q("borderwidth")}};function I(x,W,z,U){var Q=U.calendar;function Z(J,O){return A.coerce(x,W,R.buttons,J,O)}var $=Z("visible");if($){var q=Z("step");q!=="all"&&(Q&&Q!=="gregorian"&&(q==="month"||q==="year")?W.stepmode="backward":Z("stepmode"),Z("count")),Z("label")}}function B(x,W,z){for(var U=z.filter(function(q){return W[q].anchor===x._id}),Q=0,Z=0;Z<U.length;Z++){var $=W[U[Z]].domain;$&&(Q=Math.max($[1],Q))}return[x.domain[0],Q+F.yPad]}}),s3=o((rl,In)=>{var A=d(),v=ls().titleCase;In.exports=function(P,R){var F=P._name,I={};if(R.step==="all")I[F+".autorange"]=!0;else{var B=C(P,R);I[F+".range[0]"]=B[0],I[F+".range[1]"]=B[1]}return I};function C(P,R){var F=P.range,I=new Date(P.r2l(F[1])),B=R.step,x=A["utc"+v(B)],W=R.count,z;switch(R.stepmode){case"backward":z=P.l2r(+x.offset(I,-W));break;case"todate":var U=x.offset(I,-W);z=P.l2r(+x.ceil(U));break}var Q=F[1];return[z,Q]}}),l3=o((rl,In)=>{var A=f(),v=Ep(),C=Jp(),P=Bd(),R=dh(),F=ls(),I=F.strTranslate,B=ag(),x=Nh(),W=i0(),z=W.LINE_SPACING,U=W.FROM_TL,Q=W.FROM_BR,Z=vy(),$=s3();In.exports=function(Bn){var jt=Bn._fullLayout,Pe=jt._infolayer.selectAll(".rangeselector").data(q(Bn),J);Pe.enter().append("g").classed("rangeselector",!0),Pe.exit().remove(),Pe.style({cursor:"pointer","pointer-events":"all"}),Pe.each(function(ml){var tl=A.select(this),ul=ml,il=ul.rangeselector,sl=tl.selectAll("g.button").data(F.filterVisible(il.buttons));sl.enter().append("g").classed("button",!0),sl.exit().remove(),sl.each(function(vl){var yl=A.select(this),Fn=$(ul,vl);vl._isActive=O(ul,vl,Fn),yl.call(j,il,vl),yl.call(se,il,vl,Bn),yl.on("click",function(){Bn._dragged||v.call("_guiRelayout",Bn,Fn)}),yl.on("mouseover",function(){vl._isHovered=!0,yl.call(j,il,vl)}),yl.on("mouseout",function(){vl._isHovered=!1,yl.call(j,il,vl)})}),gl(Bn,sl,il,ul._name,tl)})};function q(Bn){for(var jt=x.list(Bn,"x",!0),Pe=[],ml=0;ml<jt.length;ml++){var tl=jt[ml];tl.rangeselector&&tl.rangeselector.visible&&Pe.push(tl)}return Pe}function J(Bn){return Bn._id}function O(Bn,jt,Pe){if(jt.step==="all")return Bn.autorange===!0;var ml=Object.keys(Pe);return Bn.range[0]===Pe[ml[0]]&&Bn.range[1]===Pe[ml[1]]}function j(Bn,jt,Pe){var ml=F.ensureSingle(Bn,"rect","selector-rect",function(tl){tl.attr("shape-rendering","crispEdges")});ml.attr({rx:Z.rx,ry:Z.ry}),ml.call(P.stroke,jt.bordercolor).call(P.fill,Y(jt,Pe)).style("stroke-width",jt.borderwidth+"px")}function Y(Bn,jt){return jt._isActive||jt._isHovered?Bn.activecolor:Bn.bgcolor}function se(Bn,jt,Pe,ml){function tl(il){B.convertToTspans(il,ml)}var ul=F.ensureSingle(Bn,"text","selector-text",function(il){il.attr("text-anchor","middle")});ul.call(R.font,jt.font).text(nt(Pe,ml._fullLayout._meta)).call(tl)}function nt(Bn,jt){return Bn.label?jt?F.templateString(Bn.label,jt):Bn.label:Bn.step==="all"?"all":Bn.count+Bn.step.charAt(0)}function gl(Bn,jt,Pe,ml,tl){var ul=0,il=0,sl=Pe.borderwidth;jt.each(function(){var kl=A.select(this),Dl=kl.select(".selector-text"),Ol=Pe.font.size*z,gu=Math.max(Ol*B.lineCount(Dl),16)+3;il=Math.max(il,gu)}),jt.each(function(){var kl=A.select(this),Dl=kl.select(".selector-rect"),Ol=kl.select(".selector-text"),gu=Ol.node()&&R.bBox(Ol.node()).width,yu=Pe.font.size*z,Iu=B.lineCount(Ol),cl=Math.max(gu+10,Z.minButtonWidth);kl.attr("transform",I(sl+ul,sl)),Dl.attr({x:0,y:0,width:cl,height:il}),B.positionText(Ol,cl/2,il/2-(Iu-1)*yu/2+3),ul+=cl+5});var vl=Bn._fullLayout._size,yl=vl.l+vl.w*Pe.x,Fn=vl.t+vl.h*(1-Pe.y),xl="left";F.isRightAnchor(Pe)&&(yl-=ul,xl="right"),F.isCenterAnchor(Pe)&&(yl-=ul/2,xl="center");var wl="top";F.isBottomAnchor(Pe)&&(Fn-=il,wl="bottom"),F.isMiddleAnchor(Pe)&&(Fn-=il/2,wl="middle"),ul=Math.ceil(ul),il=Math.ceil(il),yl=Math.round(yl),Fn=Math.round(Fn),C.autoMargin(Bn,ml+"-range-selector",{x:Pe.x,y:Pe.y,l:ul*U[xl],r:ul*Q[xl],b:il*Q[wl],t:il*U[wl]}),tl.attr("transform",I(yl,Fn))}}),fv=o((rl,In)=>{In.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:y1()}}},layoutAttributes:y1(),handleDefaults:O2(),draw:l3()}}),pv=o(rl=>{var In=Al().extendFlat;rl.attributes=function(A,v){A=A||{},v=v||{};var C={valType:"info_array",editType:A.editType,items:[{valType:"number",min:0,max:1,editType:A.editType},{valType:"number",min:0,max:1,editType:A.editType}],dflt:[0,1]};A.name&&A.name+"",A.trace,v.description&&""+v.description;var P={x:In({},C,{}),y:In({},C,{}),editType:A.editType};return A.noGridCell||(P.row={valType:"integer",min:0,dflt:0,editType:A.editType},P.column={valType:"integer",min:0,dflt:0,editType:A.editType}),P},rl.defaults=function(A,v,C,P){var R=P&&P.x||[0,1],F=P&&P.y||[0,1],I=v.grid;if(I){var B=C("domain.column");B!==void 0&&(B<I.columns?R=I._domains.x[B]:delete A.domain.column);var x=C("domain.row");x!==void 0&&(x<I.rows?F=I._domains.y[x]:delete A.domain.row)}var W=C("domain.x",R),z=C("domain.y",F);W[0]<W[1]||(A.domain.x=R.slice()),z[0]<z[1]||(A.domain.y=F.slice())}}),Gv=o((rl,In)=>{var A=ls(),v=Wl().counter,C=pv().attributes,P=vp().idRegex,R=Zf(),F={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[v("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[P.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[P.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:C({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function I(U,Q,Z){var $=Q[Z+"axes"],q=Object.keys((U._splomAxes||{})[Z]||{});if(Array.isArray($))return $;if(q.length)return q}function B(U,Q){var Z=U.grid||{},$=I(Q,Z,"x"),q=I(Q,Z,"y");if(!U.grid&&!$&&!q)return;var J=Array.isArray(Z.subplots)&&Array.isArray(Z.subplots[0]),O=Array.isArray($),j=Array.isArray(q),Y=O&&$!==Z.xaxes&&j&&q!==Z.yaxes,se,nt;J?(se=Z.subplots.length,nt=Z.subplots[0].length):(j&&(se=q.length),O&&(nt=$.length));var gl=R.newContainer(Q,"grid");function Bn(Fn,xl){return A.coerce(Z,gl,F,Fn,xl)}var jt=Bn("rows",se),Pe=Bn("columns",nt);if(!(jt*Pe>1)){delete Q.grid;return}if(!J&&!O&&!j){var ml=Bn("pattern")==="independent";ml&&(J=!0)}gl._hasSubplotGrid=J;var tl=Bn("roworder"),ul=tl==="top to bottom",il=J?.2:.1,sl=J?.3:.1,vl,yl;Y&&Q._splomGridDflt&&(vl=Q._splomGridDflt.xside,yl=Q._splomGridDflt.yside),gl._domains={x:x("x",Bn,il,vl,Pe),y:x("y",Bn,sl,yl,jt,ul)}}function x(U,Q,Z,$,q,J){var O=Q(U+"gap",Z),j=Q("domain."+U);Q(U+"side",$);for(var Y=new Array(q),se=j[0],nt=(j[1]-se)/(q-O),gl=nt*(1-O),Bn=0;Bn<q;Bn++){var jt=se+nt*Bn;Y[J?q-1-Bn:Bn]=[jt,jt+gl]}return Y}function W(U,Q){var Z=Q.grid;if(!(!Z||!Z._domains)){var $=U.grid||{},q=Q._subplots,J=Z._hasSubplotGrid,O=Z.rows,j=Z.columns,Y=Z.pattern==="independent",se,nt,gl,Bn,jt,Pe,ml,tl=Z._axisMap={};if(J){var ul=$.subplots||[];Pe=Z.subplots=new Array(O);var il=1;for(se=0;se<O;se++){var sl=Pe[se]=new Array(j),vl=ul[se]||[];for(nt=0;nt<j;nt++)if(Y?(jt=il===1?"xy":"x"+il+"y"+il,il++):jt=vl[nt],sl[nt]="",q.cartesian.indexOf(jt)!==-1){if(ml=jt.indexOf("y"),gl=jt.slice(0,ml),Bn=jt.slice(ml),tl[gl]!==void 0&&tl[gl]!==nt||tl[Bn]!==void 0&&tl[Bn]!==se)continue;sl[nt]=jt,tl[gl]=nt,tl[Bn]=se}}}else{var yl=I(Q,$,"x"),Fn=I(Q,$,"y");Z.xaxes=z(yl,q.xaxis,j,tl,"x"),Z.yaxes=z(Fn,q.yaxis,O,tl,"y")}var xl=Z._anchors={},wl=Z.roworder==="top to bottom";for(var kl in tl){var Dl=kl.charAt(0),Ol=Z[Dl+"side"],gu,yu,Iu;if(Ol.length<8)xl[kl]="free";else if(Dl==="x"){if(Ol.charAt(0)==="t"===wl?(gu=0,yu=1,Iu=O):(gu=O-1,yu=-1,Iu=-1),J){var cl=tl[kl];for(se=gu;se!==Iu;se+=yu)if(jt=Pe[se][cl],!!jt&&(ml=jt.indexOf("y"),jt.slice(0,ml)===kl)){xl[kl]=jt.slice(ml);break}}else for(se=gu;se!==Iu;se+=yu)if(Bn=Z.yaxes[se],q.cartesian.indexOf(kl+Bn)!==-1){xl[kl]=Bn;break}}else if(Ol.charAt(0)==="l"?(gu=0,yu=1,Iu=j):(gu=j-1,yu=-1,Iu=-1),J){var pl=tl[kl];for(se=gu;se!==Iu;se+=yu)if(jt=Pe[pl][se],!!jt&&(ml=jt.indexOf("y"),jt.slice(ml)===kl)){xl[kl]=jt.slice(0,ml);break}}else for(se=gu;se!==Iu;se+=yu)if(gl=Z.xaxes[se],q.cartesian.indexOf(gl+kl)!==-1){xl[kl]=gl;break}}}}function z(U,Q,Z,$,q){var J=new Array(Z),O;function j(Y,se){Q.indexOf(se)!==-1&&$[se]===void 0?(J[Y]=se,$[se]=Y):J[Y]=""}if(Array.isArray(U))for(O=0;O<Z;O++)j(O,U[O]);else for(j(0,q),O=1;O<Z;O++)j(O,q+(O+1));return J}In.exports={moduleType:"component",name:"grid",schema:{layout:{grid:F}},layoutAttributes:F,sizeDefaults:B,contentDefaults:W}}),_v=o((rl,In)=>{In.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc"}}),Jy=o((rl,In)=>{var A=G(),v=Ep(),C=ls(),P=Zf(),R=_v();In.exports=function(F,I,B,x){var W="error_"+x.axis,z=P.newContainer(I,W),U=F[W]||{};function Q(Y,se){return C.coerce(U,z,R,Y,se)}var Z=U.array!==void 0||U.value!==void 0||U.type==="sqrt",$=Q("visible",Z);if($!==!1){var q=Q("type","array"in U?"data":"percent"),J=!0;q!=="sqrt"&&(J=Q("symmetric",!((q==="data"?"arrayminus":"valueminus")in U))),q==="data"?(Q("array"),Q("traceref"),J||(Q("arrayminus"),Q("tracerefminus"))):(q==="percent"||q==="constant")&&(Q("value"),J||Q("valueminus"));var O="copy_"+x.inherit+"style";if(x.inherit){var j=I["error_"+x.inherit];(j||{}).visible&&Q(O,!(U.color||A(U.thickness)||A(U.width)))}(!x.inherit||!z[O])&&(Q("color",B),Q("thickness"),Q("width",v.traceIs(I,"gl3d")?0:4))}}}),u1=o((rl,In)=>{In.exports=function(v){var C=v.type,P=v.symmetric;if(C==="data"){var R=v.array||[];if(P)return function(x,W){var z=+R[W];return[z,z]};var F=v.arrayminus||[];return function(x,W){var z=+R[W],U=+F[W];return!isNaN(z)||!isNaN(U)?[U||0,z||0]:[NaN,NaN]}}else{var I=A(C,v.value),B=A(C,v.valueminus);return P||v.valueminus===void 0?function(x){var W=I(x);return[W,W]}:function(x){return[B(x),I(x)]}}};function A(v,C){if(v==="percent")return function(P){return Math.abs(P*C/100)};if(v==="constant")return function(){return Math.abs(C)};if(v==="sqrt")return function(P){return Math.sqrt(Math.abs(P))}}}),x1=o((rl,In)=>{var A=G(),v=Ep(),C=ih(),P=ls(),R=u1();In.exports=function(I){for(var B=I.calcdata,x=0;x<B.length;x++){var W=B[x],z=W[0].trace;if(z.visible===!0&&v.traceIs(z,"errorBarsOK")){var U=C.getFromId(I,z.xaxis),Q=C.getFromId(I,z.yaxis);F(W,z,U,"x"),F(W,z,Q,"y")}}};function F(I,B,x,W){var z=B["error_"+W]||{},U=z.visible&&["linear","log"].indexOf(x.type)!==-1,Q=[];if(U){for(var Z=R(z),$=0;$<I.length;$++){var q=I[$],J=q.i;if(J===void 0)J=$;else if(J===null)continue;var O=q[W];if(A(x.c2l(O))){var j=Z(O,J);if(A(j[0])&&A(j[1])){var Y=q[W+"s"]=O-j[0],se=q[W+"h"]=O+j[1];Q.push(Y,se)}}}var nt=x._id,gl=B._extremes[nt],Bn=C.findExtremes(x,Q,P.extendFlat({tozero:gl.opts.tozero},{padded:!0}));gl.min=gl.min.concat(Bn.min),gl.max=gl.max.concat(Bn.max)}}}),Ev=o((rl,In)=>{var A=f(),v=G(),C=dh(),P=ld();In.exports=function(F,I,B,x){var W,z=B.xaxis,U=B.yaxis,Q=x&&x.duration>0,Z=F._context.staticPlot;I.each(function($){var q=$[0].trace,J=q.error_x||{},O=q.error_y||{},j;q.ids&&(j=function(gl){return gl.id});var Y=P.hasMarkers(q)&&q.marker.maxdisplayed>0;!O.visible&&!J.visible&&($=[]);var se=A.select(this).selectAll("g.errorbar").data($,j);if(se.exit().remove(),!!$.length){J.visible||se.selectAll("path.xerror").remove(),O.visible||se.selectAll("path.yerror").remove(),se.style("opacity",1);var nt=se.enter().append("g").classed("errorbar",!0);Q&&nt.style("opacity",0).transition().duration(x.duration).style("opacity",1),C.setClipUrl(se,B.layerClipId,F),se.each(function(gl){var Bn=A.select(this),jt=R(gl,z,U);if(!(Y&&!gl.vis)){var Pe,ml=Bn.select("path.yerror");if(O.visible&&v(jt.x)&&v(jt.yh)&&v(jt.ys)){var tl=O.width;Pe="M"+(jt.x-tl)+","+jt.yh+"h"+2*tl+"m-"+tl+",0V"+jt.ys,jt.noYS||(Pe+="m-"+tl+",0h"+2*tl),W=!ml.size(),W?ml=Bn.append("path").style("vector-effect",Z?"none":"non-scaling-stroke").classed("yerror",!0):Q&&(ml=ml.transition().duration(x.duration).ease(x.easing)),ml.attr("d",Pe)}else ml.remove();var ul=Bn.select("path.xerror");if(J.visible&&v(jt.y)&&v(jt.xh)&&v(jt.xs)){var il=(J.copy_ystyle?O:J).width;Pe="M"+jt.xh+","+(jt.y-il)+"v"+2*il+"m0,-"+il+"H"+jt.xs,jt.noXS||(Pe+="m0,-"+il+"v"+2*il),W=!ul.size(),W?ul=Bn.append("path").style("vector-effect",Z?"none":"non-scaling-stroke").classed("xerror",!0):Q&&(ul=ul.transition().duration(x.duration).ease(x.easing)),ul.attr("d",Pe)}else ul.remove()}})}})};function R(F,I,B){var x={x:I.c2p(F.x),y:B.c2p(F.y)};return F.yh!==void 0&&(x.yh=B.c2p(F.yh),x.ys=B.c2p(F.ys),v(x.ys)||(x.noYS=!0,x.ys=B.c2p(F.ys,!0))),F.xh!==void 0&&(x.xh=I.c2p(F.xh),x.xs=I.c2p(F.xs),v(x.xs)||(x.noXS=!0,x.xs=I.c2p(F.xs,!0))),x}}),Z1=o((rl,In)=>{var A=f(),v=Bd();In.exports=function(C){C.each(function(P){var R=P[0].trace,F=R.error_y||{},I=R.error_x||{},B=A.select(this);B.selectAll("path.yerror").style("stroke-width",F.thickness+"px").call(v.stroke,F.color),I.copy_ystyle&&(I=F),B.selectAll("path.xerror").style("stroke-width",I.thickness+"px").call(v.stroke,I.color)})}}),X1=o((rl,In)=>{var A=ls(),v=sp().overrideAll,C=_v(),P={error_x:A.extendFlat({},C),error_y:A.extendFlat({},C)};delete P.error_x.copy_zstyle,delete P.error_y.copy_zstyle,delete P.error_y.copy_ystyle;var R={error_x:A.extendFlat({},C),error_y:A.extendFlat({},C),error_z:A.extendFlat({},C)};delete R.error_x.copy_ystyle,delete R.error_y.copy_ystyle,delete R.error_z.copy_ystyle,delete R.error_z.copy_zstyle,In.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:P,bar:P,histogram:P,scatter3d:v(R,"calc","nested"),scattergl:v(P,"calc","nested")}},supplyDefaults:Jy(),calc:x1(),makeComputeError:u1(),plot:Ev(),style:Z1(),hoverInfo:F};function F(I,B,x){(B.error_y||{}).visible&&(x.yerr=I.yh-I.y,B.error_y.symmetric||(x.yerrneg=I.y-I.ys)),(B.error_x||{}).visible&&(x.xerr=I.xh-I.x,B.error_x.symmetric||(x.xerrneg=I.x-I.xs))}}),Mv=o((rl,In)=>{In.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}}),u3=o((rl,In)=>{var A=f(),v=Kl(),C=Jp(),P=Ep(),R=ih(),F=Hh(),I=ls(),B=I.strTranslate,x=Al().extendFlat,W=Cf(),z=dh(),U=Bd(),Q=vh(),Z=ag(),$=Yp().flipScale,q=R2(),J=dy(),O=kd(),j=i0(),Y=j.LINE_SPACING,se=j.FROM_TL,nt=j.FROM_BR,gl=Mv().cn;function Bn(il){var sl=il._fullLayout,vl=sl._infolayer.selectAll("g."+gl.colorbar).data(jt(il),function(yl){return yl._id});vl.enter().append("g").attr("class",function(yl){return yl._id}).classed(gl.colorbar,!0),vl.each(function(yl){var Fn=A.select(this);I.ensureSingle(Fn,"rect",gl.cbbg),I.ensureSingle(Fn,"g",gl.cbfills),I.ensureSingle(Fn,"g",gl.cblines),I.ensureSingle(Fn,"g",gl.cbaxis,function(wl){wl.classed(gl.crisp,!0)}),I.ensureSingle(Fn,"g",gl.cbtitleunshift,function(wl){wl.append("g").classed(gl.cbtitle,!0)}),I.ensureSingle(Fn,"rect",gl.cboutline);var xl=Pe(Fn,yl,il);xl&&xl.then&&(il._promises||[]).push(xl),il._context.edits.colorbarPosition&&ml(Fn,yl,il)}),vl.exit().each(function(yl){C.autoMargin(il,yl._id)}).remove(),vl.order()}function jt(il){var sl=il._fullLayout,vl=il.calcdata,yl=[],Fn,xl,wl,kl;function Dl(ve){return x(ve,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function Ol(){typeof kl.calc=="function"?kl.calc(il,wl,Fn):(Fn._fillgradient=xl.reversescale?$(xl.colorscale):xl.colorscale,Fn._zrange=[xl[kl.min],xl[kl.max]])}for(var gu=0;gu<vl.length;gu++){var yu=vl[gu];if(wl=yu[0].trace,!!wl._module){var Iu=wl._module.colorbar;if(wl.visible===!0&&Iu)for(var cl=Array.isArray(Iu),pl=cl?Iu:[Iu],it=0;it<pl.length;it++){kl=pl[it];var bl=kl.container;xl=bl?wl[bl]:wl,xl&&xl.showscale&&(Fn=Dl(xl.colorbar),Fn._id="cb"+wl.uid+(cl&&bl?"-"+bl:""),Fn._traceIndex=wl.index,Fn._propPrefix=(bl?bl+".":"")+"colorbar.",Fn._meta=wl._meta,Ol(),yl.push(Fn))}}}for(var Ll in sl._colorAxes)if(xl=sl[Ll],xl.showscale){var nl=sl._colorAxes[Ll];Fn=Dl(xl.colorbar),Fn._id="cb"+Ll,Fn._propPrefix=Ll+".colorbar.",Fn._meta=sl._meta,kl={min:"cmin",max:"cmax"},nl[0]!=="heatmap"&&(wl=nl[1],kl.calc=wl._module.colorbar.calc),Ol(),yl.push(Fn)}return yl}function Pe(il,sl,vl){var yl=sl.orientation==="v",Fn=sl.len,xl=sl.lenmode,wl=sl.thickness,kl=sl.thicknessmode,Dl=sl.outlinewidth,Ol=sl.borderwidth,gu=sl.bgcolor,yu=sl.xanchor,Iu=sl.yanchor,cl=sl.xpad,pl=sl.ypad,it=sl.x,bl=yl?sl.y:1-sl.y,Ll=sl.yref==="paper",nl=sl.xref==="paper",ve=vl._fullLayout,_t=ve._size,ol=sl._fillcolor,dl=sl._line,Il=sl.title,ql=Il.side,Zl=sl._zrange||A.extent((typeof ol=="function"?ol:dl.color).domain()),Bu=typeof dl.color=="function"?dl.color:function(){return dl.color},Ju=typeof ol=="function"?ol:function(){return ol},yd=sl._levels,Hd=tl(vl,sl,Zl),Rd=Hd.fill,Ed=Hd.line,_u=Math.round(wl*(kl==="fraction"?yl?_t.w:_t.h:1)),Nu=_u/(yl?_t.w:_t.h),Gl=Math.round(Fn*(xl==="fraction"?yl?_t.h:_t.w:1)),rd=Gl/(yl?_t.h:_t.w),Sd=nl?_t.w:vl._fullLayout.width,Pd=Ll?_t.h:vl._fullLayout.height,Ud=Math.round(yl?it*Sd+cl:bl*Pd+pl),$d={center:.5,right:1}[yu]||0,th={top:1,middle:.5}[Iu]||0,sh=yl?it-$d*Nu:bl-th*Nu,ah=yl?bl-th*rd:it-$d*rd,Ah=Math.round(yl?Pd*(1-ah):Sd*ah);sl._lenFrac=rd,sl._thickFrac=Nu,sl._uFrac=sh,sl._vFrac=ah;var Yd=sl._axis=ul(vl,sl,Zl);Yd.position=Nu+(yl?it+cl/_t.w:bl+pl/_t.h);var Ph=["top","bottom"].indexOf(ql)!==-1;if(yl&&Ph&&(Yd.title.side=ql,Yd.titlex=it+cl/_t.w,Yd.titley=ah+(Il.side==="top"?rd-pl/_t.h:pl/_t.h)),!yl&&!Ph&&(Yd.title.side=ql,Yd.titley=bl+pl/_t.h,Yd.titlex=ah+cl/_t.w),dl.color&&sl.tickmode==="auto"){Yd.tickmode="linear",Yd.tick0=yd.start;var jh=yd.size,Th=I.constrain(Gl/50,4,15)+1,Xh=(Zl[1]-Zl[0])/((sl.nticks||Th)*jh);if(Xh>1){var Pu=Math.pow(10,Math.floor(Math.log(Xh)/Math.LN10));jh*=Pu*I.roundUp(Xh/Pu,[2,5,10]),(Math.abs(yd.start)/yd.size+1e-6)%1<2e-6&&(Yd.tick0=0)}Yd.dtick=jh}Yd.domain=yl?[ah+pl/_t.h,ah+rd-pl/_t.h]:[ah+cl/_t.w,ah+rd-cl/_t.w],Yd.setScale(),il.attr("transform",B(Math.round(_t.l),Math.round(_t.t)));var sd=il.select("."+gl.cbtitleunshift).attr("transform",B(-Math.round(_t.l),-Math.round(_t.t))),_l=Yd.ticklabelposition,Ul=Yd.title.font.size,Jl=il.select("."+gl.cbaxis),Hu,Ku=0,fd=0;function bd(hh,gh){var Zh={propContainer:Yd,propName:sl._propPrefix+"title.text",traceIndex:sl._traceIndex,_meta:sl._meta,placeholder:ve._dfltTitle.colorbar,containerGroup:il.select("."+gl.cbtitle)},yf=hh.charAt(0)==="h"?hh.substr(1):"h"+hh;il.selectAll("."+yf+",."+yf+"-math-group").remove(),Q.draw(vl,hh,x(Zh,gh||{}))}function Nd(){if(yl&&Ph||!yl&&!Ph){var hh,gh;ql==="top"&&(hh=cl+_t.l+Sd*it,gh=pl+_t.t+Pd*(1-ah-rd)+3+Ul*.75),ql==="bottom"&&(hh=cl+_t.l+Sd*it,gh=pl+_t.t+Pd*(1-ah)-3-Ul*.25),ql==="right"&&(gh=pl+_t.t+Pd*bl+3+Ul*.75,hh=cl+_t.l+Sd*ah),bd(Yd._id+"title",{attributes:{x:hh,y:gh,"text-anchor":yl?"start":"middle"}})}}function Fd(){if(yl&&!Ph||!yl&&Ph){var hh=Yd.position||0,gh=Yd._offset+Yd._length/2,Zh,yf;if(ql==="right")yf=gh,Zh=_t.l+Sd*hh+10+Ul*(Yd.showticklabels?1:.5);else if(Zh=gh,ql==="bottom"&&(yf=_t.t+Pd*hh+10+(_l.indexOf("inside")===-1?Yd.tickfont.size:0)+(Yd.ticks!=="inside"&&sl.ticklen||0)),ql==="top"){var Pf=Il.text.split("<br>").length;yf=_t.t+Pd*hh+10-_u-Y*Ul*Pf}bd((yl?"h":"v")+Yd._id+"title",{avoid:{selection:A.select(vl).selectAll("g."+Yd._id+"tick"),side:ql,offsetTop:yl?0:_t.t,offsetLeft:yl?_t.l:0,maxShift:yl?ve.width:ve.height},attributes:{x:Zh,y:yf,"text-anchor":"middle"},transform:{rotate:yl?-90:0,offset:0}})}}function zd(){if(!yl&&!Ph||yl&&Ph){var hh=il.select("."+gl.cbtitle),gh=hh.select("text"),Zh=[-Dl/2,Dl/2],yf=hh.select(".h"+Yd._id+"title-math-group").node(),Pf=15.6;gh.node()&&(Pf=parseInt(gh.node().style.fontSize,10)*Y);var jf;if(yf?(jf=z.bBox(yf),fd=jf.width,Ku=jf.height,Ku>Pf&&(Zh[1]-=(Ku-Pf)/2)):gh.node()&&!gh.classed(gl.jsPlaceholder)&&(jf=z.bBox(gh.node()),fd=jf.width,Ku=jf.height),yl){if(Ku){if(Ku+=5,ql==="top")Yd.domain[1]-=Ku/_t.h,Zh[1]*=-1;else{Yd.domain[0]+=Ku/_t.h;var tp=Z.lineCount(gh);Zh[1]+=(1-tp)*Pf}hh.attr("transform",B(Zh[0],Zh[1])),Yd.setScale()}}else fd&&(ql==="right"&&(Yd.domain[0]+=(fd+Ul/2)/_t.w),hh.attr("transform",B(Zh[0],Zh[1])),Yd.setScale())}il.selectAll("."+gl.cbfills+",."+gl.cblines).attr("transform",yl?B(0,Math.round(_t.h*(1-Yd.domain[1]))):B(Math.round(_t.w*Yd.domain[0]),0)),Jl.attr("transform",yl?B(0,Math.round(-_t.t)):B(Math.round(-_t.l),0));var Tf=il.select("."+gl.cbfills).selectAll("rect."+gl.cbfill).attr("style","").data(Rd);Tf.enter().append("rect").classed(gl.cbfill,!0).attr("style",""),Tf.exit().remove();var $h=Zl.map(Yd.c2p).map(Math.round).sort(function(If,Ff){return If-Ff});Tf.each(function(If,Ff){var bp=[Ff===0?Zl[0]:(Rd[Ff]+Rd[Ff-1])/2,Ff===Rd.length-1?Zl[1]:(Rd[Ff]+Rd[Ff+1])/2].map(Yd.c2p).map(Math.round);yl&&(bp[1]=I.constrain(bp[1]+(bp[1]>bp[0])?1:-1,$h[0],$h[1]));var Op=A.select(this).attr(yl?"x":"y",Ud).attr(yl?"y":"x",A.min(bp)).attr(yl?"width":"height",Math.max(_u,2)).attr(yl?"height":"width",Math.max(A.max(bp)-A.min(bp),2));if(sl._fillgradient)z.gradient(Op,vl,sl._id,yl?"vertical":"horizontalreversed",sl._fillgradient,"fill");else{var Wf=Ju(If).replace("e-","");Op.attr("fill",v(Wf).toHexString())}});var Gf=il.select("."+gl.cblines).selectAll("path."+gl.cbline).data(dl.color&&dl.width?Ed:[]);Gf.enter().append("path").classed(gl.cbline,!0),Gf.exit().remove(),Gf.each(function(If){var Ff=Ud,bp=Math.round(Yd.c2p(If))+dl.width/2%1;A.select(this).attr("d","M"+(yl?Ff+","+bp:bp+","+Ff)+(yl?"h":"v")+_u).call(z.lineGroupStyle,dl.width,Bu(If),dl.dash)}),Jl.selectAll("g."+Yd._id+"tick,path").remove();var of=Ud+_u+(Dl||0)/2-(sl.ticks==="outside"?1:0),Lf=R.calcTicks(Yd),Df=R.getTickSigns(Yd)[2];return R.drawTicks(vl,Yd,{vals:Yd.ticks==="inside"?R.clipEnds(Yd,Lf):Lf,layer:Jl,path:R.makeTickPath(Yd,of,Df),transFn:R.makeTransTickFn(Yd)}),R.drawLabels(vl,Yd,{vals:Lf,layer:Jl,transFn:R.makeTransTickLabelFn(Yd),labelFns:R.makeLabelFns(Yd,of)})}function lh(){var hh,gh=_u+Dl/2;_l.indexOf("inside")===-1&&(hh=z.bBox(Jl.node()),gh+=yl?hh.width:hh.height),Hu=sd.select("text");var Zh=0,yf=yl&&ql==="top",Pf=!yl&&ql==="right",jf=0;if(Hu.node()&&!Hu.classed(gl.jsPlaceholder)){var tp,Tf=sd.select(".h"+Yd._id+"title-math-group").node();Tf&&(yl&&Ph||!yl&&!Ph)?(hh=z.bBox(Tf),Zh=hh.width,tp=hh.height):(hh=z.bBox(sd.node()),Zh=hh.right-_t.l-(yl?Ud:Ah),tp=hh.bottom-_t.t-(yl?Ah:Ud),!yl&&ql==="top"&&(gh+=hh.height,jf=hh.height)),Pf&&(Hu.attr("transform",B(Zh/2+Ul/2,0)),Zh*=2),gh=Math.max(gh,yl?Zh:tp)}var $h=(yl?cl:pl)*2+gh+Ol+Dl/2,Gf=0;!yl&&Il.text&&Iu==="bottom"&&bl<=0&&(Gf=$h/2,$h+=Gf,jf+=Gf),ve._hColorbarMoveTitle=Gf,ve._hColorbarMoveCBTitle=jf;var of=Ol+Dl,Lf=(yl?Ud:Ah)-of/2-(yl?cl:0),Df=(yl?Ah:Ud)-(yl?Gl:pl+jf-Gf);il.select("."+gl.cbbg).attr("x",Lf).attr("y",Df).attr(yl?"width":"height",Math.max($h-Gf,2)).attr(yl?"height":"width",Math.max(Gl+of,2)).call(U.fill,gu).call(U.stroke,sl.bordercolor).style("stroke-width",Ol);var If=Pf?Math.max(Zh-10,0):0;il.selectAll("."+gl.cboutline).attr("x",(yl?Ud:Ah+cl)+If).attr("y",(yl?Ah+pl-Gl:Ud)+(yf?Ku:0)).attr(yl?"width":"height",Math.max(_u,2)).attr(yl?"height":"width",Math.max(Gl-(yl?2*pl+Ku:2*cl+If),2)).call(U.stroke,sl.outlinecolor).style({fill:"none","stroke-width":Dl});var Ff=yl?$d*$h:0,bp=yl?0:(1-th)*$h-jf;if(Ff=nl?_t.l-Ff:-Ff,bp=Ll?_t.t-bp:-bp,il.attr("transform",B(Ff,bp)),!yl&&(Ol||v(gu).getAlpha()&&!v.equals(ve.paper_bgcolor,gu))){var Op=Jl.selectAll("text"),Wf=Op[0].length,zp=il.select("."+gl.cbbg).node(),qp=z.bBox(zp),p0=z.getTranslate(il),m0=2;Op.each(function(_d,nd){var ud=0,Td=Wf-1;if(nd===ud||nd===Td){var wd=z.bBox(this),Kd=z.getTranslate(this),Qd;if(nd===Td){var Mh=wd.right+Kd.x,hf=qp.right+p0.x+Ah-Ol-m0+it;Qd=hf-Mh,Qd>0&&(Qd=0)}else if(nd===ud){var Kh=wd.left+Kd.x,wf=qp.left+p0.x+Ah+Ol+m0;Qd=wf-Kh,Qd<0&&(Qd=0)}Qd&&(Wf<3?this.setAttribute("transform","translate("+Qd+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var Ap={},Hp=se[yu],Tp=nt[yu],bf=se[Iu],N0=nt[Iu],Fl=$h-_u;yl?(xl==="pixels"?(Ap.y=bl,Ap.t=Gl*bf,Ap.b=Gl*N0):(Ap.t=Ap.b=0,Ap.yt=bl+Fn*bf,Ap.yb=bl-Fn*N0),kl==="pixels"?(Ap.x=it,Ap.l=$h*Hp,Ap.r=$h*Tp):(Ap.l=Fl*Hp,Ap.r=Fl*Tp,Ap.xl=it-wl*Hp,Ap.xr=it+wl*Tp)):(xl==="pixels"?(Ap.x=it,Ap.l=Gl*Hp,Ap.r=Gl*Tp):(Ap.l=Ap.r=0,Ap.xl=it+Fn*Hp,Ap.xr=it-Fn*Tp),kl==="pixels"?(Ap.y=1-bl,Ap.t=$h*bf,Ap.b=$h*N0):(Ap.t=Fl*bf,Ap.b=Fl*N0,Ap.yt=bl-wl*bf,Ap.yb=bl+wl*N0));var Sl=sl.y<.5?"b":"t",od=sl.x<.5?"l":"r";vl._fullLayout._reservedMargin[sl._id]={};var dd={r:ve.width-Lf-Ff,l:Lf+Ap.r,b:ve.height-Df-bp,t:Df+Ap.b};nl&&Ll?C.autoMargin(vl,sl._id,Ap):nl?vl._fullLayout._reservedMargin[sl._id][Sl]=dd[Sl]:Ll||yl?vl._fullLayout._reservedMargin[sl._id][od]=dd[od]:vl._fullLayout._reservedMargin[sl._id][Sl]=dd[Sl]}return I.syncOrAsync([C.previousPromises,Nd,zd,Fd,C.previousPromises,lh],vl)}function ml(il,sl,vl){var yl=sl.orientation==="v",Fn=vl._fullLayout,xl=Fn._size,wl,kl,Dl;F.init({element:il.node(),gd:vl,prepFn:function(){wl=il.attr("transform"),W(il)},moveFn:function(Ol,gu){il.attr("transform",wl+B(Ol,gu)),kl=F.align((yl?sl._uFrac:sl._vFrac)+Ol/xl.w,yl?sl._thickFrac:sl._lenFrac,0,1,sl.xanchor),Dl=F.align((yl?sl._vFrac:1-sl._uFrac)-gu/xl.h,yl?sl._lenFrac:sl._thickFrac,0,1,sl.yanchor);var yu=F.getCursor(kl,Dl,sl.xanchor,sl.yanchor);W(il,yu)},doneFn:function(){if(W(il),kl!==void 0&&Dl!==void 0){var Ol={};Ol[sl._propPrefix+"x"]=kl,Ol[sl._propPrefix+"y"]=Dl,sl._traceIndex!==void 0?P.call("_guiRestyle",vl,Ol,sl._traceIndex):P.call("_guiRelayout",vl,Ol)}}})}function tl(il,sl,vl){var yl=sl._levels,Fn=[],xl=[],wl,kl,Dl=yl.end+yl.size/100,Ol=yl.size,gu=1.001*vl[0]-.001*vl[1],yu=1.001*vl[1]-.001*vl[0];for(kl=0;kl<1e5&&(wl=yl.start+kl*Ol,!(Ol>0?wl>=Dl:wl<=Dl));kl++)wl>gu&&wl<yu&&Fn.push(wl);if(sl._fillgradient)xl=[0];else if(typeof sl._fillcolor=="function"){var Iu=sl._filllevels;if(Iu)for(Dl=Iu.end+Iu.size/100,Ol=Iu.size,kl=0;kl<1e5&&(wl=Iu.start+kl*Ol,!(Ol>0?wl>=Dl:wl<=Dl));kl++)wl>vl[0]&&wl<vl[1]&&xl.push(wl);else xl=Fn.map(function(cl){return cl-yl.size/2}),xl.push(xl[xl.length-1]+yl.size)}else sl._fillcolor&&typeof sl._fillcolor=="string"&&(xl=[0]);return yl.size<0&&(Fn.reverse(),xl.reverse()),{line:Fn,fill:xl}}function ul(il,sl,vl){var yl=il._fullLayout,Fn=sl.orientation==="v",xl={type:"linear",range:vl,tickmode:sl.tickmode,nticks:sl.nticks,tick0:sl.tick0,dtick:sl.dtick,tickvals:sl.tickvals,ticktext:sl.ticktext,ticks:sl.ticks,ticklen:sl.ticklen,tickwidth:sl.tickwidth,tickcolor:sl.tickcolor,showticklabels:sl.showticklabels,labelalias:sl.labelalias,ticklabelposition:sl.ticklabelposition,ticklabeloverflow:sl.ticklabeloverflow,ticklabelstep:sl.ticklabelstep,tickfont:sl.tickfont,tickangle:sl.tickangle,tickformat:sl.tickformat,exponentformat:sl.exponentformat,minexponent:sl.minexponent,separatethousands:sl.separatethousands,showexponent:sl.showexponent,showtickprefix:sl.showtickprefix,tickprefix:sl.tickprefix,showticksuffix:sl.showticksuffix,ticksuffix:sl.ticksuffix,title:sl.title,showline:!0,anchor:"free",side:Fn?"right":"bottom",position:1},wl=Fn?"y":"x",kl={type:"linear",_id:wl+sl._id},Dl={letter:wl,font:yl.font,noAutotickangles:wl==="y",noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:yl.calendar};function Ol(gu,yu){return I.coerce(xl,kl,O,gu,yu)}return q(xl,kl,Ol,Dl,yl),J(xl,kl,Ol,Dl),kl}In.exports={draw:Bn}}),yy=o((rl,In)=>{In.exports={moduleType:"component",name:"colorbar",attributes:E(),supplyDefaults:zu(),draw:u3().draw,hasColorbar:ot()}}),gv=o((rl,In)=>{In.exports={moduleType:"component",name:"legend",layoutAttributes:mf(),supplyLayoutDefaults:zh(),draw:Xf(),style:ip()}}),Wm=o((rl,In)=>{In.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}}),ym=o((rl,In)=>{In.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}}),lm=o((rl,In)=>{var A=Ep(),v=ls(),C=v.extendFlat,P=v.extendDeep;function R(I){var B;switch(I){case"themes__thumb":B={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":B={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:B={}}return B}function F(I){var B=["xaxis","yaxis","zaxis"];return B.indexOf(I.slice(0,5))>-1}In.exports=function(I,B){var x,W=I.data,z=I.layout,U=P([],W),Q=P({},z,R(B.tileClass)),Z=I._context||{};if(B.width&&(Q.width=B.width),B.height&&(Q.height=B.height),B.tileClass==="thumbnail"||B.tileClass==="themes__thumb"){Q.annotations=[];var $=Object.keys(Q);for(x=0;x<$.length;x++)F($[x])&&(Q[$[x]].title={text:""});for(x=0;x<U.length;x++){var q=U[x];q.showscale=!1,q.marker&&(q.marker.showscale=!1),A.traceIs(q,"pie-like")&&(q.textposition="none")}}if(Array.isArray(B.annotations))for(x=0;x<B.annotations.length;x++)Q.annotations.push(B.annotations[x]);var J=Object.keys(Q).filter(function(nt){return nt.match(/^scene\d*$/)});if(J.length){var O={};for(B.tileClass==="thumbnail"&&(O={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),x=0;x<J.length;x++){var j=Q[J[x]];j.xaxis||(j.xaxis={}),j.yaxis||(j.yaxis={}),j.zaxis||(j.zaxis={}),C(j.xaxis,O),C(j.yaxis,O),C(j.zaxis,O),j._scene=null}}var Y=document.createElement("div");B.tileClass&&(Y.className=B.tileClass);var se={gd:Y,td:Y,layout:Q,data:U,config:{staticPlot:B.staticPlot===void 0?!0:B.staticPlot,plotGlPixelRatio:B.plotGlPixelRatio===void 0?2:B.plotGlPixelRatio,displaylogo:B.displaylogo||!1,showLink:B.showLink||!1,showTips:B.showTips||!1,mapboxAccessToken:Z.mapboxAccessToken}};return B.setBackground!=="transparent"&&(se.config.setBackground=B.setBackground||"opaque"),se.gd.defaultLayout=R(B.tileClass),se}}),b1=o((rl,In)=>{var A=_h().EventEmitter,v=Ep(),C=ls(),P=Nm(),R=lm(),F=uv(),I=Wy();function B(x,W){var z=new A,U=R(x,{format:"png"}),Q=U.gd;Q.style.position="absolute",Q.style.left="-5000px",document.body.appendChild(Q);function Z(){var q=P.getDelay(Q._fullLayout);setTimeout(function(){var J=F(Q),O=document.createElement("canvas");O.id=C.randstr(),z=I({format:W.format,width:Q._fullLayout.width,height:Q._fullLayout.height,canvas:O,emitter:z,svg:J}),z.clean=function(){Q&&document.body.removeChild(Q)}},q)}var $=P.getRedrawFunc(Q);return v.call("_doPlot",Q,U.data,U.layout,U.config).then($).then(Z).catch(function(q){z.emit("error",q)}),z}In.exports=B}),z2=o((rl,In)=>{var A=Nm(),v={getDelay:A.getDelay,getRedrawFunc:A.getRedrawFunc,clone:lm(),toSVG:uv(),svgToImg:Wy(),toImage:b1(),downloadImage:E2()};In.exports=v}),N2=o(rl=>{rl.version=l().version,c(),ed();var In=Ep(),A=rl.register=In.register,v=s1(),C=Object.keys(v);for(R=0;R<C.length;R++)P=C[R],P.charAt(0)!=="_"&&(rl[P]=v[P]),A({moduleType:"apiMethod",name:P,fn:v[P]});var P,R;A(J2()),A([Zy(),D2(),L1(),Bv(),t1(),Y1(),Um(),a3(),fv(),Gv(),X1(),Qu(),yy(),gv(),c0(),ff()]),A([Wm(),ym()]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(A(window.PlotlyLocales),delete window.PlotlyLocales),rl.Icons=R0();var F=c0(),I=Jp();rl.Plots={resize:I.resize,graphJson:I.graphJson,sendDataToCloud:I.sendDataToCloud},rl.Fx={hover:F.hover,unhover:F.unhover,loneHover:F.loneHover,loneUnhover:F.loneUnhover},rl.Snapshot=z2(),rl.PlotSchema=xp()}),xy=o((rl,In)=>{In.exports=N2()}),Vv=o((rl,In)=>{In.exports={TEXTPAD:3,eventDataKeys:["value","label"]}}),jv=o((rl,In)=>{var A=Km(),v=Ng().axisHoverFormat,C=tg().hovertemplateAttrs,P=tg().texttemplateAttrs,R=V(),F=vu(),I=Vv(),B=jp().pattern,x=Al().extendFlat,W=F({editType:"calc",arrayOk:!0,colorEditType:"style"}),z=A.marker,U=z.line,Q=x({},U.width,{dflt:0}),Z=x({width:Q,editType:"calc"},R("marker.line")),$=x({line:Z,editType:"calc"},R("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:B,cornerradius:{valType:"any",editType:"calc"}});In.exports={x:A.x,x0:A.x0,dx:A.dx,y:A.y,y0:A.y0,dy:A.dy,xperiod:A.xperiod,yperiod:A.yperiod,xperiod0:A.xperiod0,yperiod0:A.yperiod0,xperiodalignment:A.xperiodalignment,yperiodalignment:A.yperiodalignment,xhoverformat:v("x"),yhoverformat:v("y"),text:A.text,texttemplate:P({editType:"plot"},{keys:I.eventDataKeys}),hovertext:A.hovertext,hovertemplate:C({},{keys:I.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:x({},W,{}),insidetextfont:x({},W,{}),outsidetextfont:x({},W,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:x({},A.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:$,offsetgroup:A.offsetgroup,alignmentgroup:A.alignmentgroup,selected:{marker:{opacity:A.selected.marker.opacity,color:A.selected.marker.color,editType:"style"},textfont:A.selected.textfont,editType:"style"},unselected:{marker:{opacity:A.unselected.marker.opacity,color:A.unselected.marker.color,editType:"style"},textfont:A.unselected.textfont,editType:"style"},zorder:A.zorder}}),Uv=o((rl,In)=>{In.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},barcornerradius:{valType:"any",editType:"calc"}}}),B2=o((rl,In)=>{var A=Bd(),v=Yp().hasColorscale,C=Fu(),P=ls().coercePattern;In.exports=function(R,F,I,B,x){var W=I("marker.color",B),z=v(R,"marker");z&&C(R,F,x,I,{prefix:"marker.",cLetter:"c"}),I("marker.line.color",A.defaultLine),v(R,"marker.line")&&C(R,F,x,I,{prefix:"marker.line.",cLetter:"c"}),I("marker.line.width"),I("marker.opacity"),P(I,"marker.pattern",W,z),I("selected.marker.color"),I("unselected.marker.color")}}),Q1=o((rl,In)=>{var A=G(),v=ls(),C=Bd(),P=Ep(),R=Cv(),F=Dv(),I=B2(),B=Sv(),x=jv(),W=v.coerceFont;function z($,q,J,O){function j(Bn,jt){return v.coerce($,q,x,Bn,jt)}var Y=R($,q,O,j);if(!Y){q.visible=!1;return}F($,q,O,j),j("xhoverformat"),j("yhoverformat"),j("zorder"),j("orientation",q.x&&!q.y?"h":"v"),j("base"),j("offset"),j("width"),j("text"),j("hovertext"),j("hovertemplate");var se=j("textposition");Z($,q,O,j,se,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),I($,q,j,J,O);var nt=(q.marker.line||{}).color,gl=P.getComponentMethod("errorbars","supplyDefaults");gl($,q,nt||C.defaultLine,{axis:"y"}),gl($,q,nt||C.defaultLine,{axis:"x",inherit:"y"}),v.coerceSelectionMarkerOpacity(q,j)}function U($,q){var J,O;function j(nt,gl){return v.coerce(O._input,O,x,nt,gl)}for(var Y=0;Y<$.length;Y++)if(O=$[Y],O.type==="bar"){J=O._input;var se=j("marker.cornerradius",q.barcornerradius);O.marker&&(O.marker.cornerradius=Q(se)),B(J,O,q,j,q.barmode)}}function Q($){if(A($)){if($=+$,$>=0)return $}else if(typeof $=="string"&&($=$.trim(),$.slice(-1)==="%"&&A($.slice(0,-1))&&($=+$.slice(0,-1),$>=0)))return $+"%"}function Z($,q,J,O,j,Y){Y=Y||{};var se=Y.moduleHasSelected!==!1,nt=Y.moduleHasUnselected!==!1,gl=Y.moduleHasConstrain!==!1,Bn=Y.moduleHasCliponaxis!==!1,jt=Y.moduleHasTextangle!==!1,Pe=Y.moduleHasInsideanchor!==!1,ml=!!Y.hasPathbar,tl=Array.isArray(j)||j==="auto",ul=tl||j==="inside",il=tl||j==="outside";if(ul||il){var sl=W(O,"textfont",J.font),vl=v.extendFlat({},sl),yl=$.textfont&&$.textfont.color,Fn=!yl;if(Fn&&delete vl.color,W(O,"insidetextfont",vl),ml){var xl=v.extendFlat({},sl);Fn&&delete xl.color,W(O,"pathbar.textfont",xl)}il&&W(O,"outsidetextfont",sl),se&&O("selected.textfont.color"),nt&&O("unselected.textfont.color"),gl&&O("constraintext"),Bn&&O("cliponaxis"),jt&&O("textangle"),O("texttemplate")}ul&&Pe&&O("insidetextanchor")}In.exports={supplyDefaults:z,crossTraceDefaults:U,handleText:Z,validateCornerradius:Q}}),e2=o((rl,In)=>{var A=Ep(),v=ih(),C=ls(),P=Uv(),R=Q1().validateCornerradius;In.exports=function(F,I,B){function x(se,nt){return C.coerce(F,I,P,se,nt)}for(var W=!1,z=!1,U=!1,Q={},Z=x("barmode"),$=Z==="group",q=0;q<B.length;q++){var J=B[q];if(A.traceIs(J,"bar")&&J.visible)W=!0;else continue;var O=J.xaxis+J.yaxis;if($?(Q[O]&&(U=!0),Q[O]=!0):(O+=J._input.offsetgroup,Q.length>0&&!Q[O]&&(U=!0),Q[O]=!0),J.visible&&J.type==="histogram"){var j=v.getFromId({_fullLayout:I},J[J.orientation==="v"?"xaxis":"yaxis"]);j.type!=="category"&&(z=!0)}}if(!W){delete I.barmode;return}Z!=="overlay"&&x("barnorm"),x("bargap",z&&!U?0:.2),x("bargroupgap");var Y=x("barcornerradius");I.barcornerradius=R(Y)}}),by=o((rl,In)=>{var A=ls();In.exports=function(v,C){for(var P=0;P<v.length;P++)v[P].i=P;A.mergeArray(C.text,v,"tx"),A.mergeArray(C.hovertext,v,"htx");var R=C.marker;if(R){A.mergeArray(R.opacity,v,"mo",!0),A.mergeArray(R.color,v,"mc");var F=R.line;F&&(A.mergeArray(F.color,v,"mlc"),A.mergeArrayCastPositive(F.width,v,"mlw"))}}}),Wv=o((rl,In)=>{var A=ih(),v=iy(),C=Yp().hasColorscale,P=Du(),R=by(),F=ay();In.exports=function(I,B){var x=A.getFromId(I,B.xaxis||"x"),W=A.getFromId(I,B.yaxis||"y"),z,U,Q,Z,$,q,J={msUTC:!!(B.base||B.base===0)};B.orientation==="h"?(z=x.makeCalcdata(B,"x",J),Q=W.makeCalcdata(B,"y"),Z=v(B,W,"y",Q),$=!!B.yperiodalignment,q="y"):(z=W.makeCalcdata(B,"y",J),Q=x.makeCalcdata(B,"x"),Z=v(B,x,"x",Q),$=!!B.xperiodalignment,q="x"),U=Z.vals;for(var O=Math.min(U.length,z.length),j=new Array(O),Y=0;Y<O;Y++)j[Y]={p:U[Y],s:z[Y]},$&&(j[Y].orig_p=Q[Y],j[Y][q+"End"]=Z.ends[Y],j[Y][q+"Start"]=Z.starts[Y]),B.ids&&(j[Y].id=String(B.ids[Y]));return C(B,"marker")&&P(I,B,{vals:B.marker.color,containerStr:"marker",cLetter:"c"}),C(B,"marker.line")&&P(I,B,{vals:B.marker.line.color,containerStr:"marker.line",cLetter:"c"}),R(j,B),F(j,B),j}}),Av=o((rl,In)=>{var A=f(),v=ls();function C(I,B,x){var W=I._fullLayout,z=W["_"+x+"Text_minsize"];if(z){var U=W.uniformtext.mode==="hide",Q;switch(x){case"funnelarea":case"pie":case"sunburst":Q="g.slice";break;case"treemap":case"icicle":Q="g.slice, g.pathbar";break;default:Q="g.points > g.point"}B.selectAll(Q).each(function(Z){var $=Z.transform;if($){$.scale=U&&$.hide?0:z/$.fontSize;var q=A.select(this).select("text");v.setTransormAndDisplay(q,$)}})}}function P(I,B,x){if(x.uniformtext.mode){var W=F(I),z=x.uniformtext.minsize,U=B.scale*B.fontSize;B.hide=U<z,x[W]=x[W]||1/0,B.hide||(x[W]=Math.min(x[W],Math.max(U,z)))}}function R(I,B){var x=F(I);B[x]=void 0}function F(I){return"_"+I+"Text_minsize"}In.exports={recordMinTextSize:P,clearMinTextSize:R,resizeText:C}}),t2=o(rl=>{var In=G(),A=Kl(),v=ls().isArrayOrTypedArray;rl.coerceString=function(C,P,R){if(typeof P=="string"){if(P||!C.noBlank)return P}else if((typeof P=="number"||P===!0)&&!C.strict)return String(P);return R!==void 0?R:C.dflt},rl.coerceNumber=function(C,P,R){if(In(P)){P=+P;var F=C.min,I=C.max,B=F!==void 0&&P<F||I!==void 0&&P>I;if(!B)return P}return R!==void 0?R:C.dflt},rl.coerceColor=function(C,P,R){return A(P).isValid()?P:R!==void 0?R:C.dflt},rl.coerceEnumerated=function(C,P,R){return C.coerceNumber&&(P=+P),C.values.indexOf(P)!==-1?P:R!==void 0?R:C.dflt},rl.getValue=function(C,P){var R;return v(C)?P<C.length&&(R=C[P]):R=C,R},rl.getLineWidth=function(C,P){var R=0<P.mlw?P.mlw:v(C.marker.line.width)?0:C.marker.line.width;return R}}),r2=o((rl,In)=>{var A=f(),v=Bd(),C=dh(),P=ls(),R=Ep(),F=Av().resizeText,I=jv(),B=I.textfont,x=I.insidetextfont,W=I.outsidetextfont,z=t2();function U(Bn){var jt=A.select(Bn).selectAll('g[class^="barlayer"]').selectAll("g.trace");F(Bn,jt,"bar");var Pe=jt.size(),ml=Bn._fullLayout;jt.style("opacity",function(tl){return tl[0].trace.opacity}).each(function(tl){(ml.barmode==="stack"&&Pe>1||ml.bargap===0&&ml.bargroupgap===0&&!tl[0].trace.marker.line.width)&&A.select(this).attr("shape-rendering","crispEdges")}),jt.selectAll("g.points").each(function(tl){var ul=A.select(this),il=tl[0].trace;Q(ul,il,Bn)}),R.getComponentMethod("errorbars","style")(jt)}function Q(Bn,jt,Pe){C.pointStyle(Bn.selectAll("path"),jt,Pe),Z(Bn,jt,Pe)}function Z(Bn,jt,Pe){Bn.selectAll("text").each(function(ml){var tl=A.select(this),ul=P.ensureUniformFontSize(Pe,O(tl,ml,jt,Pe));C.font(tl,ul)})}function $(Bn,jt,Pe){var ml=jt[0].trace;ml.selectedpoints?q(Pe,ml,Bn):(Q(Pe,ml,Bn),R.getComponentMethod("errorbars","style")(Pe))}function q(Bn,jt,Pe){C.selectedPointStyle(Bn.selectAll("path"),jt),J(Bn.selectAll("text"),jt,Pe)}function J(Bn,jt,Pe){Bn.each(function(ml){var tl=A.select(this),ul;if(ml.selected){ul=P.ensureUniformFontSize(Pe,O(tl,ml,jt,Pe));var il=jt.selected.textfont&&jt.selected.textfont.color;il&&(ul.color=il),C.font(tl,ul)}else C.selectedTextStyle(tl,jt)})}function O(Bn,jt,Pe,ml){var tl=ml._fullLayout.font,ul=Pe.textfont;if(Bn.classed("bartext-inside")){var il=gl(jt,Pe);ul=Y(Pe,jt.i,tl,il)}else Bn.classed("bartext-outside")&&(ul=se(Pe,jt.i,tl));return ul}function j(Bn,jt,Pe){return nt(B,Bn.textfont,jt,Pe)}function Y(Bn,jt,Pe,ml){var tl=j(Bn,jt,Pe),ul=Bn._input.textfont===void 0||Bn._input.textfont.color===void 0||Array.isArray(Bn.textfont.color)&&Bn.textfont.color[jt]===void 0;return ul&&(tl={color:v.contrast(ml),family:tl.family,size:tl.size,weight:tl.weight,style:tl.style,variant:tl.variant,textcase:tl.textcase,lineposition:tl.lineposition,shadow:tl.shadow}),nt(x,Bn.insidetextfont,jt,tl)}function se(Bn,jt,Pe){var ml=j(Bn,jt,Pe);return nt(W,Bn.outsidetextfont,jt,ml)}function nt(Bn,jt,Pe,ml){jt=jt||{};var tl=z.getValue(jt.family,Pe),ul=z.getValue(jt.size,Pe),il=z.getValue(jt.color,Pe),sl=z.getValue(jt.weight,Pe),vl=z.getValue(jt.style,Pe),yl=z.getValue(jt.variant,Pe),Fn=z.getValue(jt.textcase,Pe),xl=z.getValue(jt.lineposition,Pe),wl=z.getValue(jt.shadow,Pe);return{family:z.coerceString(Bn.family,tl,ml.family),size:z.coerceNumber(Bn.size,ul,ml.size),color:z.coerceColor(Bn.color,il,ml.color),weight:z.coerceString(Bn.weight,sl,ml.weight),style:z.coerceString(Bn.style,vl,ml.style),variant:z.coerceString(Bn.variant,yl,ml.variant),textcase:z.coerceString(Bn.variant,Fn,ml.textcase),lineposition:z.coerceString(Bn.variant,xl,ml.lineposition),shadow:z.coerceString(Bn.variant,wl,ml.shadow)}}function gl(Bn,jt){return jt.type==="waterfall"?jt[Bn.dir].marker.color:Bn.mcc||Bn.mc||jt.marker.color}In.exports={style:U,styleTextPoints:Z,styleOnSelect:$,getInsideTextFont:Y,getOutsideTextFont:se,getBarColor:gl,resizeText:F}}),N1=o((rl,In)=>{var A=f(),v=G(),C=ls(),P=ag(),R=Bd(),F=dh(),I=Ep(),B=ih().tickText,x=Av(),W=x.recordMinTextSize,z=x.clearMinTextSize,U=r2(),Q=t2(),Z=Vv(),$=jv(),q=$.text,J=$.textposition,O=Ld().appendArrayPointValue,j=Z.TEXTPAD;function Y(Ol){return Ol.id}function se(Ol){if(Ol.ids)return Y}function nt(Ol){return(Ol>0)-(Ol<0)}function gl(Ol,gu){return Ol<gu?1:-1}function Bn(Ol,gu,yu,Iu){var cl=[],pl=[],it=Iu?gu:yu,bl=Iu?yu:gu;return cl[0]=it.c2p(Ol.s0,!0),pl[0]=bl.c2p(Ol.p0,!0),cl[1]=it.c2p(Ol.s1,!0),pl[1]=bl.c2p(Ol.p1,!0),Iu?[cl,pl]:[pl,cl]}function jt(Ol,gu,yu,Iu){if(!gu.uniformtext.mode&&Pe(yu)){var cl;return Iu&&(cl=Iu()),Ol.transition().duration(yu.duration).ease(yu.easing).each("end",function(){cl&&cl()}).each("interrupt",function(){cl&&cl()})}else return Ol}function Pe(Ol){return Ol&&Ol.duration>0}function ml(Ol,gu,yu,Iu,cl,pl){var it=gu.xaxis,bl=gu.yaxis,Ll=Ol._fullLayout,nl=Ol._context.staticPlot;cl||(cl={mode:Ll.barmode,norm:Ll.barmode,gap:Ll.bargap,groupgap:Ll.bargroupgap},z("bar",Ll));var ve=C.makeTraceGroups(Iu,yu,"trace bars").each(function(_t){var ol=A.select(this),dl=_t[0].trace,Il=_t[0].t,ql=dl.type==="waterfall",Zl=dl.type==="funnel",Bu=dl.type==="histogram",Ju=dl.type==="bar",yd=Ju||Zl,Hd=0;ql&&dl.connector.visible&&dl.connector.mode==="between"&&(Hd=dl.connector.line.width/2);var Rd=dl.orientation==="h",Ed=Pe(cl),_u=C.ensureSingle(ol,"g","points"),Nu=se(dl),Gl=_u.selectAll("g.point").data(C.identity,Nu);Gl.enter().append("g").classed("point",!0),Gl.exit().remove(),Gl.each(function(Sd,Pd){var Ud=A.select(this),$d=Bn(Sd,it,bl,Rd),th=$d[0][0],sh=$d[0][1],ah=$d[1][0],Ah=$d[1][1],Yd=(Rd?sh-th:Ah-ah)===0;Yd&&yd&&Q.getLineWidth(dl,Sd)&&(Yd=!1),Yd||(Yd=!v(th)||!v(sh)||!v(ah)||!v(Ah)),Sd.isBlank=Yd,Yd&&(Rd?sh=th:Ah=ah),Hd&&!Yd&&(Rd?(th-=gl(th,sh)*Hd,sh+=gl(th,sh)*Hd):(ah-=gl(ah,Ah)*Hd,Ah+=gl(ah,Ah)*Hd));var Ph,jh;if(dl.type==="waterfall"){if(!Yd){var Th=dl[Sd.dir].marker;Ph=Th.line.width,jh=Th.color}}else Ph=Q.getLineWidth(dl,Sd),jh=Sd.mc||dl.marker.color;function Xh(of){var Lf=A.round(Ph/2%1,2);return cl.gap===0&&cl.groupgap===0?A.round(Math.round(of)-Lf,2):of}function Pu(of,Lf,Df){return Df&&of===Lf?of:Math.abs(of-Lf)>=2?Xh(of):of>Lf?Math.ceil(of):Math.floor(of)}var sd=R.opacity(jh),_l=sd<1||Ph>.01?Xh:Pu;Ol._context.staticPlot||(th=_l(th,sh,Rd),sh=_l(sh,th,Rd),ah=_l(ah,Ah,!Rd),Ah=_l(Ah,ah,!Rd));var Ul=Rd?it.c2p:bl.c2p,Jl;Sd.s0>0?Jl=Sd._sMax:Sd.s0<0?Jl=Sd._sMin:Jl=Sd.s1>0?Sd._sMax:Sd._sMin;function Hu(of,Lf){if(!of)return 0;var Df=Math.abs(Rd?Ah-ah:sh-th),If=Math.abs(Rd?sh-th:Ah-ah),Ff=_l(Math.abs(Ul(Jl,!0)-Ul(0,!0))),bp=Sd.hasB?Math.min(Df/2,If/2):Math.min(Df/2,Ff),Op;if(Lf==="%"){var Wf=Math.min(50,of);Op=Df*(Wf/100)}else Op=of;return _l(Math.max(Math.min(Op,bp),0))}var Ku=Ju||Bu?Hu(Il.cornerradiusvalue,Il.cornerradiusform):0,fd,bd,Nd="M"+th+","+ah+"V"+Ah+"H"+sh+"V"+ah+"Z",Fd=0;if(Ku&&Sd.s){var zd=nt(Sd.s0)===0||nt(Sd.s)===nt(Sd.s0)?Sd.s1:Sd.s0;if(Fd=_l(Sd.hasB?0:Math.abs(Ul(Jl,!0)-Ul(zd,!0))),Fd<Ku){var lh=gl(th,sh),hh=gl(ah,Ah),gh=lh===-hh?1:0;if(Rd)if(Sd.hasB)fd="M"+(th+Ku*lh)+","+ah+"A "+Ku+","+Ku+" 0 0 "+gh+" "+th+","+(ah+Ku*hh)+"V"+(Ah-Ku*hh)+"A "+Ku+","+Ku+" 0 0 "+gh+" "+(th+Ku*lh)+","+Ah+"H"+(sh-Ku*lh)+"A "+Ku+","+Ku+" 0 0 "+gh+" "+sh+","+(Ah-Ku*hh)+"V"+(ah+Ku*hh)+"A "+Ku+","+Ku+" 0 0 "+gh+" "+(sh-Ku*lh)+","+ah+"Z";else{bd=Math.abs(sh-th)+Fd;var Zh=bd<Ku?Ku-Math.sqrt(bd*(2*Ku-bd)):0,yf=Fd>0?Math.sqrt(Fd*(2*Ku-Fd)):0,Pf=lh>0?Math.max:Math.min;fd="M"+th+","+ah+"V"+(Ah-Zh*hh)+"H"+Pf(sh-(Ku-Fd)*lh,th)+"A "+Ku+","+Ku+" 0 0 "+gh+" "+sh+","+(Ah-Ku*hh-yf)+"V"+(ah+Ku*hh+yf)+"A "+Ku+","+Ku+" 0 0 "+gh+" "+Pf(sh-(Ku-Fd)*lh,th)+","+(ah+Zh*hh)+"Z"}else if(Sd.hasB)fd="M"+(th+Ku*lh)+","+ah+"A "+Ku+","+Ku+" 0 0 "+gh+" "+th+","+(ah+Ku*hh)+"V"+(Ah-Ku*hh)+"A "+Ku+","+Ku+" 0 0 "+gh+" "+(th+Ku*lh)+","+Ah+"H"+(sh-Ku*lh)+"A "+Ku+","+Ku+" 0 0 "+gh+" "+sh+","+(Ah-Ku*hh)+"V"+(ah+Ku*hh)+"A "+Ku+","+Ku+" 0 0 "+gh+" "+(sh-Ku*lh)+","+ah+"Z";else{bd=Math.abs(Ah-ah)+Fd;var jf=bd<Ku?Ku-Math.sqrt(bd*(2*Ku-bd)):0,tp=Fd>0?Math.sqrt(Fd*(2*Ku-Fd)):0,Tf=hh>0?Math.max:Math.min;fd="M"+(th+jf*lh)+","+ah+"V"+Tf(Ah-(Ku-Fd)*hh,ah)+"A "+Ku+","+Ku+" 0 0 "+gh+" "+(th+Ku*lh-tp)+","+Ah+"H"+(sh-Ku*lh+tp)+"A "+Ku+","+Ku+" 0 0 "+gh+" "+(sh-jf*lh)+","+Tf(Ah-(Ku-Fd)*hh,ah)+"V"+ah+"Z"}}else fd=Nd}else fd=Nd;var $h=jt(C.ensureSingle(Ud,"path"),Ll,cl,pl);if($h.style("vector-effect",nl?"none":"non-scaling-stroke").attr("d",isNaN((sh-th)*(Ah-ah))||Yd&&Ol._context.staticPlot?"M0,0Z":fd).call(F.setClipUrl,gu.layerClipId,Ol),!Ll.uniformtext.mode&&Ed){var Gf=F.makePointStyleFns(dl);F.singlePointStyle(Sd,$h,dl,Gf,Ol)}tl(Ol,gu,Ud,_t,Pd,th,sh,ah,Ah,Ku,Fd,cl,pl),gu.layerClipId&&F.hideOutsideRangePoint(Sd,Ud.select("text"),it,bl,dl.xcalendar,dl.ycalendar)});var rd=dl.cliponaxis===!1;F.setClipUrl(ol,rd?null:gu.layerClipId,Ol)});I.getComponentMethod("errorbars","plot")(Ol,ve,gu,cl)}function tl(Ol,gu,yu,Iu,cl,pl,it,bl,Ll,nl,ve,_t,ol){var dl=gu.xaxis,Il=gu.yaxis,ql=Ol._fullLayout,Zl;function Bu(bd,Nd,Fd){var zd=C.ensureSingle(bd,"text").text(Nd).attr({class:"bartext bartext-"+Zl,"text-anchor":"middle","data-notex":1}).call(F.font,Fd).call(P.convertToTspans,Ol);return zd}var Ju=Iu[0].trace,yd=Ju.orientation==="h",Hd=xl(ql,Iu,cl,dl,Il);Zl=wl(Ju,cl);var Rd=_t.mode==="stack"||_t.mode==="relative",Ed=Iu[cl],_u=!Rd||Ed._outmost,Nu=Ed.hasB,Gl=nl&&nl-ve>j;if(!Hd||Zl==="none"||(Ed.isBlank||pl===it||bl===Ll)&&(Zl==="auto"||Zl==="inside")){yu.select("text").remove();return}var rd=ql.font,Sd=U.getBarColor(Iu[cl],Ju),Pd=U.getInsideTextFont(Ju,cl,rd,Sd),Ud=U.getOutsideTextFont(Ju,cl,rd),$d=Ju.insidetextanchor||"end",th=yu.datum();yd?dl.type==="log"&&th.s0<=0&&(dl.range[0]<dl.range[1]?pl=0:pl=dl._length):Il.type==="log"&&th.s0<=0&&(Il.range[0]<Il.range[1]?bl=Il._length:bl=0);var sh=Math.abs(it-pl),ah=Math.abs(Ll-bl),Ah=sh-2*j,Yd=ah-2*j,Ph,jh,Th,Xh,Pu;if(Zl==="outside"&&!_u&&!Ed.hasB&&(Zl="inside"),Zl==="auto")if(_u){Zl="inside",Pu=C.ensureUniformFontSize(Ol,Pd),Ph=Bu(yu,Hd,Pu),jh=F.bBox(Ph.node()),Th=jh.width,Xh=jh.height;var sd=Th>0&&Xh>0,_l;Gl?Nu?_l=ul(Ah-2*nl,Yd,Th,Xh,yd)||ul(Ah,Yd-2*nl,Th,Xh,yd):yd?_l=ul(Ah-(nl-ve),Yd,Th,Xh,yd)||ul(Ah,Yd-2*(nl-ve),Th,Xh,yd):_l=ul(Ah,Yd-(nl-ve),Th,Xh,yd)||ul(Ah-2*(nl-ve),Yd,Th,Xh,yd):_l=ul(Ah,Yd,Th,Xh,yd),sd&&_l?Zl="inside":(Zl="outside",Ph.remove(),Ph=null)}else Zl="inside";if(!Ph){Pu=C.ensureUniformFontSize(Ol,Zl==="outside"?Ud:Pd),Ph=Bu(yu,Hd,Pu);var Ul=Ph.attr("transform");if(Ph.attr("transform",""),jh=F.bBox(Ph.node()),Th=jh.width,Xh=jh.height,Ph.attr("transform",Ul),Th<=0||Xh<=0){Ph.remove();return}}var Jl=Ju.textangle,Hu,Ku;Zl==="outside"?(Ku=Ju.constraintext==="both"||Ju.constraintext==="outside",Hu=Fn(pl,it,bl,Ll,jh,{isHorizontal:yd,constrained:Ku,angle:Jl})):(Ku=Ju.constraintext==="both"||Ju.constraintext==="inside",Hu=vl(pl,it,bl,Ll,jh,{isHorizontal:yd,constrained:Ku,angle:Jl,anchor:$d,hasB:Nu,r:nl,overhead:ve})),Hu.fontSize=Pu.size,W(Ju.type==="histogram"?"bar":Ju.type,Hu,ql),Ed.transform=Hu;var fd=jt(Ph,ql,_t,ol);C.setTransormAndDisplay(fd,Hu)}function ul(Ol,gu,yu,Iu,cl){if(Ol<0||gu<0)return!1;var pl=yu<=Ol&&Iu<=gu,it=yu<=gu&&Iu<=Ol,bl=cl?Ol>=yu*(gu/Iu):gu>=Iu*(Ol/yu);return pl||it||bl}function il(Ol){return Ol==="auto"?0:Ol}function sl(Ol,gu){var yu=Math.PI/180*gu,Iu=Math.abs(Math.sin(yu)),cl=Math.abs(Math.cos(yu));return{x:Ol.width*cl+Ol.height*Iu,y:Ol.width*Iu+Ol.height*cl}}function vl(Ol,gu,yu,Iu,cl,pl){var it=!!pl.isHorizontal,bl=!!pl.constrained,Ll=pl.angle||0,nl=pl.anchor,ve=nl==="end",_t=nl==="start",ol=pl.leftToRight||0,dl=(ol+1)/2,Il=1-dl,ql=pl.hasB,Zl=pl.r,Bu=pl.overhead,Ju=cl.width,yd=cl.height,Hd=Math.abs(gu-Ol),Rd=Math.abs(Iu-yu),Ed=Hd>2*j&&Rd>2*j?j:0;Hd-=2*Ed,Rd-=2*Ed;var _u=il(Ll);Ll==="auto"&&!(Ju<=Hd&&yd<=Rd)&&(Ju>Hd||yd>Rd)&&(!(Ju>Rd||yd>Hd)||Ju<yd!=Hd<Rd)&&(_u+=90);var Nu=sl(cl,_u),Gl,rd;if(Zl&&Zl-Bu>j){var Sd=yl(Ol,gu,yu,Iu,Nu,Zl,Bu,it,ql);Gl=Sd.scale,rd=Sd.pad}else Gl=1,bl&&(Gl=Math.min(1,Hd/Nu.x,Rd/Nu.y)),rd=0;var Pd=cl.left*Il+cl.right*dl,Ud=(cl.top+cl.bottom)/2,$d=(Ol+j)*Il+(gu-j)*dl,th=(yu+Iu)/2,sh=0,ah=0;if(_t||ve){var Ah=(it?Nu.x:Nu.y)/2;Zl&&(ve||ql)&&(Ed+=rd);var Yd=it?gl(Ol,gu):gl(yu,Iu);it?_t?($d=Ol+Yd*Ed,sh=-Yd*Ah):($d=gu-Yd*Ed,sh=Yd*Ah):_t?(th=yu+Yd*Ed,ah=-Yd*Ah):(th=Iu-Yd*Ed,ah=Yd*Ah)}return{textX:Pd,textY:Ud,targetX:$d,targetY:th,anchorX:sh,anchorY:ah,scale:Gl,rotate:_u}}function yl(Ol,gu,yu,Iu,cl,pl,it,bl,Ll){var nl=Math.max(0,Math.abs(gu-Ol)-2*j),ve=Math.max(0,Math.abs(Iu-yu)-2*j),_t=pl-j,ol=it?_t-Math.sqrt(_t*_t-(_t-it)*(_t-it)):_t,dl=Ll?_t*2:bl?_t-it:2*ol,Il=Ll?_t*2:bl?2*ol:_t-it,ql,Zl,Bu,Ju,yd;return cl.y/cl.x>=ve/(nl-dl)?Ju=ve/cl.y:cl.y/cl.x<=(ve-Il)/nl?Ju=nl/cl.x:!Ll&&bl?(ql=cl.x*cl.x+cl.y*cl.y/4,Zl=-2*cl.x*(nl-_t)-cl.y*(ve/2-_t),Bu=(nl-_t)*(nl-_t)+(ve/2-_t)*(ve/2-_t)-_t*_t,Ju=(-Zl+Math.sqrt(Zl*Zl-4*ql*Bu))/(2*ql)):Ll?(ql=(cl.x*cl.x+cl.y*cl.y)/4,Zl=-cl.x*(nl/2-_t)-cl.y*(ve/2-_t),Bu=(nl/2-_t)*(nl/2-_t)+(ve/2-_t)*(ve/2-_t)-_t*_t,Ju=(-Zl+Math.sqrt(Zl*Zl-4*ql*Bu))/(2*ql)):(ql=cl.x*cl.x/4+cl.y*cl.y,Zl=-cl.x*(nl/2-_t)-2*cl.y*(ve-_t),Bu=(nl/2-_t)*(nl/2-_t)+(ve-_t)*(ve-_t)-_t*_t,Ju=(-Zl+Math.sqrt(Zl*Zl-4*ql*Bu))/(2*ql)),Ju=Math.min(1,Ju),bl?yd=Math.max(0,_t-Math.sqrt(Math.max(0,_t*_t-(_t-(ve-cl.y*Ju)/2)*(_t-(ve-cl.y*Ju)/2)))-it):yd=Math.max(0,_t-Math.sqrt(Math.max(0,_t*_t-(_t-(nl-cl.x*Ju)/2)*(_t-(nl-cl.x*Ju)/2)))-it),{scale:Ju,pad:yd}}function Fn(Ol,gu,yu,Iu,cl,pl){var it=!!pl.isHorizontal,bl=!!pl.constrained,Ll=pl.angle||0,nl=cl.width,ve=cl.height,_t=Math.abs(gu-Ol),ol=Math.abs(Iu-yu),dl;it?dl=ol>2*j?j:0:dl=_t>2*j?j:0;var Il=1;bl&&(Il=it?Math.min(1,ol/ve):Math.min(1,_t/nl));var ql=il(Ll),Zl=sl(cl,ql),Bu=(it?Zl.x:Zl.y)/2,Ju=(cl.left+cl.right)/2,yd=(cl.top+cl.bottom)/2,Hd=(Ol+gu)/2,Rd=(yu+Iu)/2,Ed=0,_u=0,Nu=it?gl(gu,Ol):gl(yu,Iu);return it?(Hd=gu-Nu*dl,Ed=Nu*Bu):(Rd=Iu+Nu*dl,_u=-Nu*Bu),{textX:Ju,textY:yd,targetX:Hd,targetY:Rd,anchorX:Ed,anchorY:_u,scale:Il,rotate:ql}}function xl(Ol,gu,yu,Iu,cl){var pl=gu[0].trace,it=pl.texttemplate,bl;return it?bl=kl(Ol,gu,yu,Iu,cl):pl.textinfo?bl=Dl(gu,yu,Iu,cl):bl=Q.getValue(pl.text,yu),Q.coerceString(q,bl)}function wl(Ol,gu){var yu=Q.getValue(Ol.textposition,gu);return Q.coerceEnumerated(J,yu)}function kl(Ol,gu,yu,Iu,cl){var pl=gu[0].trace,it=C.castOption(pl,yu,"texttemplate");if(!it)return"";var bl=pl.type==="histogram",Ll=pl.type==="waterfall",nl=pl.type==="funnel",ve=pl.orientation==="h",_t,ol,dl,Il;ve?(_t="y",ol=cl,dl="x",Il=Iu):(_t="x",ol=Iu,dl="y",Il=cl);function ql(Ed){return B(ol,ol.c2l(Ed),!0).text}function Zl(Ed){return B(Il,Il.c2l(Ed),!0).text}var Bu=gu[yu],Ju={};Ju.label=Bu.p,Ju.labelLabel=Ju[_t+"Label"]=ql(Bu.p);var yd=C.castOption(pl,Bu.i,"text");(yd===0||yd)&&(Ju.text=yd),Ju.value=Bu.s,Ju.valueLabel=Ju[dl+"Label"]=Zl(Bu.s);var Hd={};O(Hd,pl,Bu.i),(bl||Hd.x===void 0)&&(Hd.x=ve?Ju.value:Ju.label),(bl||Hd.y===void 0)&&(Hd.y=ve?Ju.label:Ju.value),(bl||Hd.xLabel===void 0)&&(Hd.xLabel=ve?Ju.valueLabel:Ju.labelLabel),(bl||Hd.yLabel===void 0)&&(Hd.yLabel=ve?Ju.labelLabel:Ju.valueLabel),Ll&&(Ju.delta=+Bu.rawS||Bu.s,Ju.deltaLabel=Zl(Ju.delta),Ju.final=Bu.v,Ju.finalLabel=Zl(Ju.final),Ju.initial=Ju.final-Ju.delta,Ju.initialLabel=Zl(Ju.initial)),nl&&(Ju.value=Bu.s,Ju.valueLabel=Zl(Ju.value),Ju.percentInitial=Bu.begR,Ju.percentInitialLabel=C.formatPercent(Bu.begR),Ju.percentPrevious=Bu.difR,Ju.percentPreviousLabel=C.formatPercent(Bu.difR),Ju.percentTotal=Bu.sumR,Ju.percenTotalLabel=C.formatPercent(Bu.sumR));var Rd=C.castOption(pl,Bu.i,"customdata");return Rd&&(Ju.customdata=Rd),C.texttemplateString(it,Ju,Ol._d3locale,Hd,Ju,pl._meta||{})}function Dl(Ol,gu,yu,Iu){var cl=Ol[0].trace,pl=cl.orientation==="h",it=cl.type==="waterfall",bl=cl.type==="funnel";function Ll(Rd){var Ed=pl?Iu:yu;return B(Ed,Rd,!0).text}function nl(Rd){var Ed=pl?yu:Iu;return B(Ed,+Rd,!0).text}var ve=cl.textinfo,_t=Ol[gu],ol=ve.split("+"),dl=[],Il,ql=function(Rd){return ol.indexOf(Rd)!==-1};if(ql("label")&&dl.push(Ll(Ol[gu].p)),ql("text")&&(Il=C.castOption(cl,_t.i,"text"),(Il===0||Il)&&dl.push(Il)),it){var Zl=+_t.rawS||_t.s,Bu=_t.v,Ju=Bu-Zl;ql("initial")&&dl.push(nl(Ju)),ql("delta")&&dl.push(nl(Zl)),ql("final")&&dl.push(nl(Bu))}if(bl){ql("value")&&dl.push(nl(_t.s));var yd=0;ql("percent initial")&&yd++,ql("percent previous")&&yd++,ql("percent total")&&yd++;var Hd=yd>1;ql("percent initial")&&(Il=C.formatPercent(_t.begR),Hd&&(Il+=" of initial"),dl.push(Il)),ql("percent previous")&&(Il=C.formatPercent(_t.difR),Hd&&(Il+=" of previous"),dl.push(Il)),ql("percent total")&&(Il=C.formatPercent(_t.sumR),Hd&&(Il+=" of total"),dl.push(Il))}return dl.join("<br>")}In.exports={plot:ml,toMoveInsideBar:vl}}),T1=o((rl,In)=>{var A=c0(),v=Ep(),C=Bd(),P=ls().fillText,R=t2().getLineWidth,F=ih().hoverLabelText,I=H().BADNUM;function B(z,U,Q,Z,$){var q=x(z,U,Q,Z,$);if(q){var J=q.cd,O=J[0].trace,j=J[q.index];return q.color=W(O,j),v.getComponentMethod("errorbars","hoverInfo")(j,O,q),[q]}}function x(z,U,Q,Z,$){var q=z.cd,J=q[0].trace,O=q[0].t,j=Z==="closest",Y=J.type==="waterfall",se=z.maxHoverDistance,nt=z.maxSpikeDistance,gl,Bn,jt,Pe,ml,tl,ul;J.orientation==="h"?(gl=Q,Bn=U,jt="y",Pe="x",ml=Iu,tl=Ol):(gl=U,Bn=Q,jt="x",Pe="y",tl=Iu,ml=Ol);var il=J[jt+"period"],sl=j||il;function vl(Il){return Fn(Il,-1)}function yl(Il){return Fn(Il,1)}function Fn(Il,ql){var Zl=Il.w;return Il[jt]+ql*Zl/2}function xl(Il){return Il[jt+"End"]-Il[jt+"Start"]}var wl=j?vl:il?function(Il){return Il.p-xl(Il)/2}:function(Il){return Math.min(vl(Il),Il.p-O.bardelta/2)},kl=j?yl:il?function(Il){return Il.p+xl(Il)/2}:function(Il){return Math.max(yl(Il),Il.p+O.bardelta/2)};function Dl(Il,ql,Zl){return $.finiteRange&&(Zl=0),A.inbox(Il-gl,ql-gl,Zl+Math.min(1,Math.abs(ql-Il)/ul)-1)}function Ol(Il){return Dl(wl(Il),kl(Il),se)}function gu(Il){return Dl(vl(Il),yl(Il),nt)}function yu(Il){var ql=Il[Pe];if(Y){var Zl=Math.abs(Il.rawS)||0;Bn>0?ql+=Zl:Bn<0&&(ql-=Zl)}return ql}function Iu(Il){var ql=Bn,Zl=Il.b,Bu=yu(Il);return A.inbox(Zl-ql,Bu-ql,se+(Bu-ql)/(Bu-Zl)-1)}function cl(Il){var ql=Bn,Zl=Il.b,Bu=yu(Il);return A.inbox(Zl-ql,Bu-ql,nt+(Bu-ql)/(Bu-Zl)-1)}var pl=z[jt+"a"],it=z[Pe+"a"];ul=Math.abs(pl.r2c(pl.range[1])-pl.r2c(pl.range[0]));function bl(Il){return(ml(Il)+tl(Il))/2}var Ll=A.getDistanceFunction(Z,ml,tl,bl);if(A.getClosest(q,Ll,z),z.index!==!1&&q[z.index].p!==I){sl||(wl=function(Il){return Math.min(vl(Il),Il.p-O.bargroupwidth/2)},kl=function(Il){return Math.max(yl(Il),Il.p+O.bargroupwidth/2)});var nl=z.index,ve=q[nl],_t=J.base?ve.b+ve.s:ve.s;z[Pe+"0"]=z[Pe+"1"]=it.c2p(ve[Pe],!0),z[Pe+"LabelVal"]=_t;var ol=O.extents[O.extents.round(ve.p)];z[jt+"0"]=pl.c2p(j?wl(ve):ol[0],!0),z[jt+"1"]=pl.c2p(j?kl(ve):ol[1],!0);var dl=ve.orig_p!==void 0;return z[jt+"LabelVal"]=dl?ve.orig_p:ve.p,z.labelLabel=F(pl,z[jt+"LabelVal"],J[jt+"hoverformat"]),z.valueLabel=F(it,z[Pe+"LabelVal"],J[Pe+"hoverformat"]),z.baseLabel=F(it,ve.b,J[Pe+"hoverformat"]),z.spikeDistance=(cl(ve)+gu(ve))/2,z[jt+"Spike"]=pl.c2p(ve.p,!0),P(ve,J,z),z.hovertemplate=J.hovertemplate,z}}function W(z,U){var Q=U.mcc||z.marker.color,Z=U.mlcc||z.marker.line.color,$=R(z,U);if(C.opacity(Q))return Q;if(C.opacity(Z)&&$)return Z}In.exports={hoverPoints:B,hoverOnBars:x,getTraceColor:W}}),wy=o((rl,In)=>{In.exports=function(A,v,C){return A.x="xVal"in v?v.xVal:v.x,A.y="yVal"in v?v.yVal:v.y,v.xa&&(A.xaxis=v.xa),v.ya&&(A.yaxis=v.ya),C.orientation==="h"?(A.label=A.y,A.value=A.x):(A.label=A.x,A.value=A.y),A}}),Cy=o((rl,In)=>{In.exports=function(v,C){var P=v.cd,R=v.xaxis,F=v.yaxis,I=P[0].trace,B=I.type==="funnel",x=I.orientation==="h",W=[],z;if(C===!1)for(z=0;z<P.length;z++)P[z].selected=0;else for(z=0;z<P.length;z++){var U=P[z],Q="ct"in U?U.ct:A(U,R,F,x,B);C.contains(Q,!1,z,v)?(W.push({pointNumber:z,x:R.c2d(U.x),y:F.c2d(U.y)}),U.selected=1):U.selected=0}return W};function A(v,C,P,R,F){var I=C.c2p(R?v.s0:v.p0,!0),B=C.c2p(R?v.s1:v.p1,!0),x=P.c2p(R?v.p0:v.s0,!0),W=P.c2p(R?v.p1:v.s1,!0);return F?[(I+B)/2,(x+W)/2]:R?[B,(x+W)/2]:[(I+B)/2,W]}}),Tv=o((rl,In)=>{In.exports={attributes:jv(),layoutAttributes:Uv(),supplyDefaults:Q1().supplyDefaults,crossTraceDefaults:Q1().crossTraceDefaults,supplyLayoutDefaults:e2(),calc:Wv(),crossTraceCalc:_1().crossTraceCalc,colorbar:I1(),arraysToCalcdata:by(),plot:N1().plot,style:r2().style,styleOnSelect:r2().styleOnSelect,hoverPoints:T1().hoverPoints,eventData:wy(),selectPoints:Cy(),moduleType:"trace",name:"bar",basePlotModule:e1(),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}}),B1=o((rl,In)=>{In.exports=Tv()}),n2=o((rl,In)=>{var A=Zu(),v=pv().attributes,C=vu(),P=Id(),R=tg().hovertemplateAttrs,F=tg().texttemplateAttrs,I=Al().extendFlat,B=jp().pattern,x=C({editType:"plot",arrayOk:!0,colorEditType:"plot"});In.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:P.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:B,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:I({},A.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:R({},{keys:["label","color","value","percent","text"]}),texttemplate:F({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:I({},x,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:I({},x,{}),outsidetextfont:I({},x,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:I({},x,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:v({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"}}}),i2=o((rl,In)=>{var A=G(),v=ls(),C=n2(),P=pv().defaults,R=Q1().handleText,F=ls().coercePattern;function I(W,z){var U=v.isArrayOrTypedArray(W),Q=v.isArrayOrTypedArray(z),Z=Math.min(U?W.length:1/0,Q?z.length:1/0);if(isFinite(Z)||(Z=0),Z&&Q){for(var $,q=0;q<Z;q++){var J=z[q];if(A(J)&&J>0){$=!0;break}}$||(Z=0)}return{hasLabels:U,hasValues:Q,len:Z}}function B(W,z,U,Q,Z){var $=Q("marker.line.width");$&&Q("marker.line.color",Z?void 0:U.paper_bgcolor);var q=Q("marker.colors");F(Q,"marker.pattern",q),W.marker&&!z.marker.pattern.fgcolor&&(z.marker.pattern.fgcolor=W.marker.colors),z.marker.pattern.bgcolor||(z.marker.pattern.bgcolor=U.paper_bgcolor)}function x(W,z,U,Q){function Z(tl,ul){return v.coerce(W,z,C,tl,ul)}var $=Z("labels"),q=Z("values"),J=I($,q),O=J.len;if(z._hasLabels=J.hasLabels,z._hasValues=J.hasValues,!z._hasLabels&&z._hasValues&&(Z("label0"),Z("dlabel")),!O){z.visible=!1;return}z._length=O,B(W,z,Q,Z,!0),Z("scalegroup");var j=Z("text"),Y=Z("texttemplate"),se;if(Y||(se=Z("textinfo",v.isArrayOrTypedArray(j)?"text+percent":"percent")),Z("hovertext"),Z("hovertemplate"),Y||se&&se!=="none"){var nt=Z("textposition");R(W,z,Q,Z,nt,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1});var gl=Array.isArray(nt)||nt==="auto",Bn=gl||nt==="outside";Bn&&Z("automargin"),(nt==="inside"||nt==="auto"||Array.isArray(nt))&&Z("insidetextorientation")}else se==="none"&&Z("textposition","none");P(z,Q,Z);var jt=Z("hole"),Pe=Z("title.text");if(Pe){var ml=Z("title.position",jt?"middle center":"top center");!jt&&ml==="middle center"&&(z.title.position="top center"),v.coerceFont(Z,"title.font",Q.font)}Z("sort"),Z("direction"),Z("rotation"),Z("pull")}In.exports={handleLabelsAndValues:I,handleMarkerDefaults:B,supplyDefaults:x}}),Sy=o((rl,In)=>{In.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}}),c1=o((rl,In)=>{var A=ls(),v=Sy();In.exports=function(C,P){function R(F,I){return A.coerce(C,P,v,F,I)}R("hiddenlabels"),R("piecolorway",P.colorway),R("extendpiecolors")}}),n1=o((rl,In)=>{var A=G(),v=Kl(),C=Bd(),P={};function R(x,W){var z=[],U=x._fullLayout,Q=U.hiddenlabels||[],Z=W.labels,$=W.marker.colors||[],q=W.values,J=W._length,O=W._hasValues&&J,j,Y;if(W.dlabel)for(Z=new Array(J),j=0;j<J;j++)Z[j]=String(W.label0+j*W.dlabel);var se={},nt=F(U["_"+W.type+"colormap"]),gl=0,Bn=!1;for(j=0;j<J;j++){var jt,Pe,ml;if(O){if(jt=q[j],!A(jt))continue;jt=+jt}else jt=1;Pe=Z[j],(Pe===void 0||Pe==="")&&(Pe=j),Pe=String(Pe);var tl=se[Pe];tl===void 0?(se[Pe]=z.length,ml=Q.indexOf(Pe)!==-1,ml||(gl+=jt),z.push({v:jt,label:Pe,color:nt($[j],Pe),i:j,pts:[j],hidden:ml})):(Bn=!0,Y=z[tl],Y.v+=jt,Y.pts.push(j),Y.hidden||(gl+=jt),Y.color===!1&&$[j]&&(Y.color=nt($[j],Pe)))}z=z.filter(function(il){return il.v>=0});var ul=W.type==="funnelarea"?Bn:W.sort;return ul&&z.sort(function(il,sl){return sl.v-il.v}),z[0]&&(z[0].vTotal=gl),z}function F(x){return function(W,z){return!W||(W=v(W),!W.isValid())?!1:(W=C.addOpacity(W,W.getAlpha()),x[z]||(x[z]=W),W)}}function I(x,W){var z=(W||{}).type;z||(z="pie");var U=x._fullLayout,Q=x.calcdata,Z=U[z+"colorway"],$=U["_"+z+"colormap"];U["extend"+z+"colors"]&&(Z=B(Z,P));for(var q=0,J=0;J<Q.length;J++){var O=Q[J],j=O[0].trace.type;if(j===z)for(var Y=0;Y<O.length;Y++){var se=O[Y];se.color===!1&&($[se.label]?se.color=$[se.label]:($[se.label]=se.color=Z[q%Z.length],q++))}}}function B(x,W){var z,U=JSON.stringify(x),Q=W[U];if(!Q){for(Q=x.slice(),z=0;z<x.length;z++)Q.push(v(x[z]).lighten(20).toHexString());for(z=0;z<x.length;z++)Q.push(v(x[z]).darken(20).toHexString());W[U]=Q}return Q}In.exports={calc:R,crossTraceCalc:I,makePullColorFn:F,generateExtendedColors:B}}),J1=o((rl,In)=>{var A=Ld().appendArrayMultiPointValues;In.exports=function(v,C){var P={curveNumber:C.index,pointNumbers:v.pts,data:C._input,fullData:C,label:v.label,color:v.color,value:v.v,percent:v.percent,text:v.text,bbox:v.bbox,v:v.v};return v.pts.length===1&&(P.pointNumber=P.i=v.pts[0]),A(P,C,v.pts),C.type==="funnelarea"&&(delete P.v,delete P.i),P}}),$v=o((rl,In)=>{var A=f(),v=Jp(),C=c0(),P=Bd(),R=dh(),F=ls(),I=F.strScale,B=F.strTranslate,x=ag(),W=Av(),z=W.recordMinTextSize,U=W.clearMinTextSize,Q=Vv().TEXTPAD,Z=cf(),$=J1(),q=ls().isValidTextValue;function J(pl,it){var bl=pl._context.staticPlot,Ll=pl._fullLayout,nl=Ll._size;U("pie",Ll),nt(it,pl),Dl(it,nl);var ve=F.makeTraceGroups(Ll._pielayer,it,"trace").each(function(_t){var ol=A.select(this),dl=_t[0],Il=dl.trace;gu(_t),ol.attr("stroke-linejoin","round"),ol.each(function(){var ql=A.select(this).selectAll("g.slice").data(_t);ql.enter().append("g").classed("slice",!0),ql.exit().remove();var Zl=[[[],[]],[[],[]]],Bu=!1;ql.each(function(Gl,rd){if(Gl.hidden){A.select(this).selectAll("path,g").remove();return}Gl.pointNumber=Gl.i,Gl.curveNumber=Il.index,Zl[Gl.pxmid[1]<0?0:1][Gl.pxmid[0]<0?0:1].push(Gl);var Sd=dl.cx,Pd=dl.cy,Ud=A.select(this),$d=Ud.selectAll("path.surface").data([Gl]);if($d.enter().append("path").classed("surface",!0).style({"pointer-events":bl?"none":"all"}),Ud.call(j,pl,_t),Il.pull){var th=+Z.castOption(Il.pull,Gl.pts)||0;th>0&&(Sd+=th*Gl.pxmid[0],Pd+=th*Gl.pxmid[1])}Gl.cxFinal=Sd,Gl.cyFinal=Pd;function sh(Xh,Pu,sd,_l){var Ul=_l*(Pu[0]-Xh[0]),Jl=_l*(Pu[1]-Xh[1]);return"a"+_l*dl.r+","+_l*dl.r+" 0 "+Gl.largeArc+(sd?" 1 ":" 0 ")+Ul+","+Jl}var ah=Il.hole;if(Gl.v===dl.vTotal){var Ah="M"+(Sd+Gl.px0[0])+","+(Pd+Gl.px0[1])+sh(Gl.px0,Gl.pxmid,!0,1)+sh(Gl.pxmid,Gl.px0,!0,1)+"Z";ah?$d.attr("d","M"+(Sd+ah*Gl.px0[0])+","+(Pd+ah*Gl.px0[1])+sh(Gl.px0,Gl.pxmid,!1,ah)+sh(Gl.pxmid,Gl.px0,!1,ah)+"Z"+Ah):$d.attr("d",Ah)}else{var Yd=sh(Gl.px0,Gl.px1,!0,1);if(ah){var Ph=1-ah;$d.attr("d","M"+(Sd+ah*Gl.px1[0])+","+(Pd+ah*Gl.px1[1])+sh(Gl.px1,Gl.px0,!1,ah)+"l"+Ph*Gl.px0[0]+","+Ph*Gl.px0[1]+Yd+"Z")}else $d.attr("d","M"+Sd+","+Pd+"l"+Gl.px0[0]+","+Gl.px0[1]+Yd+"Z")}Iu(pl,Gl,dl);var jh=Z.castOption(Il.textposition,Gl.pts),Th=Ud.selectAll("g.slicetext").data(Gl.text&&jh!=="none"?[0]:[]);Th.enter().append("g").classed("slicetext",!0),Th.exit().remove(),Th.each(function(){var Xh=F.ensureSingle(A.select(this),"text","",function(fd){fd.attr("data-notex",1)}),Pu=F.ensureUniformFontSize(pl,jh==="outside"?Y(Il,Gl,Ll.font):se(Il,Gl,Ll.font));Xh.text(Gl.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(R.font,Pu).call(x.convertToTspans,pl);var sd=R.bBox(Xh.node()),_l;if(jh==="outside")_l=sl(sd,Gl);else if(_l=gl(sd,Gl,dl),jh==="auto"&&_l.scale<1){var Ul=F.ensureUniformFontSize(pl,Il.outsidetextfont);Xh.call(R.font,Ul),sd=R.bBox(Xh.node()),_l=sl(sd,Gl)}var Jl=_l.textPosAngle,Hu=Jl===void 0?Gl.pxmid:yu(dl.r,Jl);if(_l.targetX=Sd+Hu[0]*_l.rCenter+(_l.x||0),_l.targetY=Pd+Hu[1]*_l.rCenter+(_l.y||0),cl(_l,sd),_l.outside){var Ku=_l.targetY;Gl.yLabelMin=Ku-sd.height/2,Gl.yLabelMid=Ku,Gl.yLabelMax=Ku+sd.height/2,Gl.labelExtraX=0,Gl.labelExtraY=0,Bu=!0}_l.fontSize=Pu.size,z(Il.type,_l,Ll),_t[rd].transform=_l,F.setTransormAndDisplay(Xh,_l)})});var Ju=A.select(this).selectAll("g.titletext").data(Il.title.text?[0]:[]);if(Ju.enter().append("g").classed("titletext",!0),Ju.exit().remove(),Ju.each(function(){var Gl=F.ensureSingle(A.select(this),"text","",function(Pd){Pd.attr("data-notex",1)}),rd=Il.title.text;Il._meta&&(rd=F.templateString(rd,Il._meta)),Gl.text(rd).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(R.font,Il.title.font).call(x.convertToTspans,pl);var Sd;Il.title.position==="middle center"?Sd=vl(dl):Sd=yl(dl,nl),Gl.attr("transform",B(Sd.x,Sd.y)+I(Math.min(1,Sd.scale))+B(Sd.tx,Sd.ty))}),Bu&&kl(Zl,Il),O(ql,Il),Bu&&Il.automargin){var yd=R.bBox(ol.node()),Hd=Il.domain,Rd=nl.w*(Hd.x[1]-Hd.x[0]),Ed=nl.h*(Hd.y[1]-Hd.y[0]),_u=(.5*Rd-dl.r)/nl.w,Nu=(.5*Ed-dl.r)/nl.h;v.autoMargin(pl,"pie."+Il.uid+".automargin",{xl:Hd.x[0]-_u,xr:Hd.x[1]+_u,yb:Hd.y[0]-Nu,yt:Hd.y[1]+Nu,l:Math.max(dl.cx-dl.r-yd.left,0),r:Math.max(yd.right-(dl.cx+dl.r),0),b:Math.max(yd.bottom-(dl.cy+dl.r),0),t:Math.max(dl.cy-dl.r-yd.top,0),pad:5})}})});setTimeout(function(){ve.selectAll("tspan").each(function(){var _t=A.select(this);_t.attr("dy")&&_t.attr("dy",_t.attr("dy"))})},0)}function O(pl,it){pl.each(function(bl){var Ll=A.select(this);if(!bl.labelExtraX&&!bl.labelExtraY){Ll.select("path.textline").remove();return}var nl=Ll.select("g.slicetext text");bl.transform.targetX+=bl.labelExtraX,bl.transform.targetY+=bl.labelExtraY,F.setTransormAndDisplay(nl,bl.transform);var ve=bl.cxFinal+bl.pxmid[0],_t=bl.cyFinal+bl.pxmid[1],ol="M"+ve+","+_t,dl=(bl.yLabelMax-bl.yLabelMin)*(bl.pxmid[0]<0?-1:1)/4;if(bl.labelExtraX){var Il=bl.labelExtraX*bl.pxmid[1]/bl.pxmid[0],ql=bl.yLabelMid+bl.labelExtraY-(bl.cyFinal+bl.pxmid[1]);Math.abs(Il)>Math.abs(ql)?ol+="l"+ql*bl.pxmid[0]/bl.pxmid[1]+","+ql+"H"+(ve+bl.labelExtraX+dl):ol+="l"+bl.labelExtraX+","+Il+"v"+(ql-Il)+"h"+dl}else ol+="V"+(bl.yLabelMid+bl.labelExtraY)+"h"+dl;F.ensureSingle(Ll,"path","textline").call(P.stroke,it.outsidetextfont.color).attr({"stroke-width":Math.min(2,it.outsidetextfont.size/8),d:ol,fill:"none"})})}function j(pl,it,bl){var Ll=bl[0],nl=Ll.cx,ve=Ll.cy,_t=Ll.trace,ol=_t.type==="funnelarea";"_hasHoverLabel"in _t||(_t._hasHoverLabel=!1),"_hasHoverEvent"in _t||(_t._hasHoverEvent=!1),pl.on("mouseover",function(dl){var Il=it._fullLayout,ql=it._fullData[_t.index];if(!(it._dragging||Il.hovermode===!1)){var Zl=ql.hoverinfo;if(Array.isArray(Zl)&&(Zl=C.castHoverinfo({hoverinfo:[Z.castOption(Zl,dl.pts)],_module:_t._module},Il,0)),Zl==="all"&&(Zl="label+text+value+percent+name"),ql.hovertemplate||Zl!=="none"&&Zl!=="skip"&&Zl){var Bu=dl.rInscribed||0,Ju=nl+dl.pxmid[0]*(1-Bu),yd=ve+dl.pxmid[1]*(1-Bu),Hd=Il.separators,Rd=[];if(Zl&&Zl.indexOf("label")!==-1&&Rd.push(dl.label),dl.text=Z.castOption(ql.hovertext||ql.text,dl.pts),Zl&&Zl.indexOf("text")!==-1){var Ed=dl.text;F.isValidTextValue(Ed)&&Rd.push(Ed)}dl.value=dl.v,dl.valueLabel=Z.formatPieValue(dl.v,Hd),Zl&&Zl.indexOf("value")!==-1&&Rd.push(dl.valueLabel),dl.percent=dl.v/Ll.vTotal,dl.percentLabel=Z.formatPiePercent(dl.percent,Hd),Zl&&Zl.indexOf("percent")!==-1&&Rd.push(dl.percentLabel);var _u=ql.hoverlabel,Nu=_u.font,Gl=[];C.loneHover({trace:_t,x0:Ju-Bu*Ll.r,x1:Ju+Bu*Ll.r,y:yd,_x0:ol?nl+dl.TL[0]:Ju-Bu*Ll.r,_x1:ol?nl+dl.TR[0]:Ju+Bu*Ll.r,_y0:ol?ve+dl.TL[1]:yd-Bu*Ll.r,_y1:ol?ve+dl.BL[1]:yd+Bu*Ll.r,text:Rd.join("<br>"),name:ql.hovertemplate||Zl.indexOf("name")!==-1?ql.name:void 0,idealAlign:dl.pxmid[0]<0?"left":"right",color:Z.castOption(_u.bgcolor,dl.pts)||dl.color,borderColor:Z.castOption(_u.bordercolor,dl.pts),fontFamily:Z.castOption(Nu.family,dl.pts),fontSize:Z.castOption(Nu.size,dl.pts),fontColor:Z.castOption(Nu.color,dl.pts),nameLength:Z.castOption(_u.namelength,dl.pts),textAlign:Z.castOption(_u.align,dl.pts),hovertemplate:Z.castOption(ql.hovertemplate,dl.pts),hovertemplateLabels:dl,eventData:[$(dl,ql)]},{container:Il._hoverlayer.node(),outerContainer:Il._paper.node(),gd:it,inOut_bbox:Gl}),dl.bbox=Gl[0],_t._hasHoverLabel=!0}_t._hasHoverEvent=!0,it.emit("plotly_hover",{points:[$(dl,ql)],event:A.event})}}),pl.on("mouseout",function(dl){var Il=it._fullLayout,ql=it._fullData[_t.index],Zl=A.select(this).datum();_t._hasHoverEvent&&(dl.originalEvent=A.event,it.emit("plotly_unhover",{points:[$(Zl,ql)],event:A.event}),_t._hasHoverEvent=!1),_t._hasHoverLabel&&(C.loneUnhover(Il._hoverlayer.node()),_t._hasHoverLabel=!1)}),pl.on("click",function(dl){var Il=it._fullLayout,ql=it._fullData[_t.index];it._dragging||Il.hovermode===!1||(it._hoverdata=[$(dl,ql)],C.click(it,A.event))})}function Y(pl,it,bl){var Ll=Z.castOption(pl.outsidetextfont.color,it.pts)||Z.castOption(pl.textfont.color,it.pts)||bl.color,nl=Z.castOption(pl.outsidetextfont.family,it.pts)||Z.castOption(pl.textfont.family,it.pts)||bl.family,ve=Z.castOption(pl.outsidetextfont.size,it.pts)||Z.castOption(pl.textfont.size,it.pts)||bl.size,_t=Z.castOption(pl.outsidetextfont.weight,it.pts)||Z.castOption(pl.textfont.weight,it.pts)||bl.weight,ol=Z.castOption(pl.outsidetextfont.style,it.pts)||Z.castOption(pl.textfont.style,it.pts)||bl.style,dl=Z.castOption(pl.outsidetextfont.variant,it.pts)||Z.castOption(pl.textfont.variant,it.pts)||bl.variant,Il=Z.castOption(pl.outsidetextfont.textcase,it.pts)||Z.castOption(pl.textfont.textcase,it.pts)||bl.textcase,ql=Z.castOption(pl.outsidetextfont.lineposition,it.pts)||Z.castOption(pl.textfont.lineposition,it.pts)||bl.lineposition,Zl=Z.castOption(pl.outsidetextfont.shadow,it.pts)||Z.castOption(pl.textfont.shadow,it.pts)||bl.shadow;return{color:Ll,family:nl,size:ve,weight:_t,style:ol,variant:dl,textcase:Il,lineposition:ql,shadow:Zl}}function se(pl,it,bl){var Ll=Z.castOption(pl.insidetextfont.color,it.pts);!Ll&&pl._input.textfont&&(Ll=Z.castOption(pl._input.textfont.color,it.pts));var nl=Z.castOption(pl.insidetextfont.family,it.pts)||Z.castOption(pl.textfont.family,it.pts)||bl.family,ve=Z.castOption(pl.insidetextfont.size,it.pts)||Z.castOption(pl.textfont.size,it.pts)||bl.size,_t=Z.castOption(pl.insidetextfont.weight,it.pts)||Z.castOption(pl.textfont.weight,it.pts)||bl.weight,ol=Z.castOption(pl.insidetextfont.style,it.pts)||Z.castOption(pl.textfont.style,it.pts)||bl.style,dl=Z.castOption(pl.insidetextfont.variant,it.pts)||Z.castOption(pl.textfont.variant,it.pts)||bl.variant,Il=Z.castOption(pl.insidetextfont.textcase,it.pts)||Z.castOption(pl.textfont.textcase,it.pts)||bl.textcase,ql=Z.castOption(pl.insidetextfont.lineposition,it.pts)||Z.castOption(pl.textfont.lineposition,it.pts)||bl.lineposition,Zl=Z.castOption(pl.insidetextfont.shadow,it.pts)||Z.castOption(pl.textfont.shadow,it.pts)||bl.shadow;return{color:Ll||P.contrast(it.color),family:nl,size:ve,weight:_t,style:ol,variant:dl,textcase:Il,lineposition:ql,shadow:Zl}}function nt(pl,it){for(var bl,Ll,nl=0;nl<pl.length;nl++)if(bl=pl[nl][0],Ll=bl.trace,Ll.title.text){var ve=Ll.title.text;Ll._meta&&(ve=F.templateString(ve,Ll._meta));var _t=R.tester.append("text").attr("data-notex",1).text(ve).call(R.font,Ll.title.font).call(x.convertToTspans,it),ol=R.bBox(_t.node(),!0);bl.titleBox={width:ol.width,height:ol.height},_t.remove()}}function gl(pl,it,bl){var Ll=bl.r||it.rpx1,nl=it.rInscribed,ve=it.startangle===it.stopangle;if(ve)return{rCenter:1-nl,scale:0,rotate:0,textPosAngle:0};var _t=it.ring,ol=_t===1&&Math.abs(it.startangle-it.stopangle)===Math.PI*2,dl=it.halfangle,Il=it.midangle,ql=bl.trace.insidetextorientation,Zl=ql==="horizontal",Bu=ql==="tangential",Ju=ql==="radial",yd=ql==="auto",Hd=[],Rd;if(!yd){var Ed=function(Ud,$d){if(Bn(it,Ud)){var th=Math.abs(Ud-it.startangle),sh=Math.abs(Ud-it.stopangle),ah=th<sh?th:sh;$d==="tan"?Rd=Pe(pl,Ll,_t,ah,0):Rd=jt(pl,Ll,_t,ah,Math.PI/2),Rd.textPosAngle=Ud,Hd.push(Rd)}},_u;if(Zl||Bu){for(_u=4;_u>=-4;_u-=2)Ed(Math.PI*_u,"tan");for(_u=4;_u>=-4;_u-=2)Ed(Math.PI*(_u+1),"tan")}if(Zl||Ju){for(_u=4;_u>=-4;_u-=2)Ed(Math.PI*(_u+1.5),"rad");for(_u=4;_u>=-4;_u-=2)Ed(Math.PI*(_u+.5),"rad")}}if(ol||yd||Zl){var Nu=Math.sqrt(pl.width*pl.width+pl.height*pl.height);if(Rd={scale:nl*Ll*2/Nu,rCenter:1-nl,rotate:0},Rd.textPosAngle=(it.startangle+it.stopangle)/2,Rd.scale>=1)return Rd;Hd.push(Rd)}(yd||Ju)&&(Rd=jt(pl,Ll,_t,dl,Il),Rd.textPosAngle=(it.startangle+it.stopangle)/2,Hd.push(Rd)),(yd||Bu)&&(Rd=Pe(pl,Ll,_t,dl,Il),Rd.textPosAngle=(it.startangle+it.stopangle)/2,Hd.push(Rd));for(var Gl=0,rd=0,Sd=0;Sd<Hd.length;Sd++){var Pd=Hd[Sd].scale;if(rd<Pd&&(rd=Pd,Gl=Sd),!yd&&rd>=1)break}return Hd[Gl]}function Bn(pl,it){var bl=pl.startangle,Ll=pl.stopangle;return bl>it&&it>Ll||bl<it&&it<Ll}function jt(pl,it,bl,Ll,nl){it=Math.max(0,it-2*Q);var ve=pl.width/pl.height,_t=ul(ve,Ll,it,bl);return{scale:_t*2/pl.height,rCenter:ml(ve,_t/it),rotate:tl(nl)}}function Pe(pl,it,bl,Ll,nl){it=Math.max(0,it-2*Q);var ve=pl.height/pl.width,_t=ul(ve,Ll,it,bl);return{scale:_t*2/pl.width,rCenter:ml(ve,_t/it),rotate:tl(nl+Math.PI/2)}}function ml(pl,it){return Math.cos(it)-pl*it}function tl(pl){return(180/Math.PI*pl+720)%180-90}function ul(pl,it,bl,Ll){var nl=pl+1/(2*Math.tan(it));return bl*Math.min(1/(Math.sqrt(nl*nl+.5)+nl),Ll/(Math.sqrt(pl*pl+Ll/2)+pl))}function il(pl,it){return pl.v===it.vTotal&&!it.trace.hole?1:Math.min(1/(1+1/Math.sin(pl.halfangle)),pl.ring/2)}function sl(pl,it){var bl=it.pxmid[0],Ll=it.pxmid[1],nl=pl.width/2,ve=pl.height/2;return bl<0&&(nl*=-1),Ll<0&&(ve*=-1),{scale:1,rCenter:1,rotate:0,x:nl+Math.abs(ve)*(nl>0?1:-1)/2,y:ve/(1+bl*bl/(Ll*Ll)),outside:!0}}function vl(pl){var it=Math.sqrt(pl.titleBox.width*pl.titleBox.width+pl.titleBox.height*pl.titleBox.height);return{x:pl.cx,y:pl.cy,scale:pl.trace.hole*pl.r*2/it,tx:0,ty:-pl.titleBox.height/2+pl.trace.title.font.size}}function yl(pl,it){var bl=1,Ll=1,nl,ve=pl.trace,_t={x:pl.cx,y:pl.cy},ol={tx:0,ty:0};ol.ty+=ve.title.font.size,nl=wl(ve),ve.title.position.indexOf("top")!==-1?(_t.y-=(1+nl)*pl.r,ol.ty-=pl.titleBox.height):ve.title.position.indexOf("bottom")!==-1&&(_t.y+=(1+nl)*pl.r);var dl=Fn(pl.r,pl.trace.aspectratio),Il=it.w*(ve.domain.x[1]-ve.domain.x[0])/2;return ve.title.position.indexOf("left")!==-1?(Il=Il+dl,_t.x-=(1+nl)*dl,ol.tx+=pl.titleBox.width/2):ve.title.position.indexOf("center")!==-1?Il*=2:ve.title.position.indexOf("right")!==-1&&(Il=Il+dl,_t.x+=(1+nl)*dl,ol.tx-=pl.titleBox.width/2),bl=Il/pl.titleBox.width,Ll=xl(pl,it)/pl.titleBox.height,{x:_t.x,y:_t.y,scale:Math.min(bl,Ll),tx:ol.tx,ty:ol.ty}}function Fn(pl,it){return pl/(it===void 0?1:it)}function xl(pl,it){var bl=pl.trace,Ll=it.h*(bl.domain.y[1]-bl.domain.y[0]);return Math.min(pl.titleBox.height,Ll/2)}function wl(pl){var it=pl.pull;if(!it)return 0;var bl;if(F.isArrayOrTypedArray(it))for(it=0,bl=0;bl<pl.pull.length;bl++)pl.pull[bl]>it&&(it=pl.pull[bl]);return it}function kl(pl,it){var bl,Ll,nl,ve,_t,ol,dl,Il,ql,Zl,Bu,Ju,yd;function Hd(Nu,Gl){return Nu.pxmid[1]-Gl.pxmid[1]}function Rd(Nu,Gl){return Gl.pxmid[1]-Nu.pxmid[1]}function Ed(Nu,Gl){Gl||(Gl={});var rd=Gl.labelExtraY+(Ll?Gl.yLabelMax:Gl.yLabelMin),Sd=Ll?Nu.yLabelMin:Nu.yLabelMax,Pd=Ll?Nu.yLabelMax:Nu.yLabelMin,Ud=Nu.cyFinal+_t(Nu.px0[1],Nu.px1[1]),$d=rd-Sd,th,sh,ah,Ah,Yd,Ph;if($d*dl>0&&(Nu.labelExtraY=$d),!!F.isArrayOrTypedArray(it.pull))for(sh=0;sh<Zl.length;sh++)ah=Zl[sh],!(ah===Nu||(Z.castOption(it.pull,Nu.pts)||0)>=(Z.castOption(it.pull,ah.pts)||0))&&((Nu.pxmid[1]-ah.pxmid[1])*dl>0?(Ah=ah.cyFinal+_t(ah.px0[1],ah.px1[1]),$d=Ah-Sd-Nu.labelExtraY,$d*dl>0&&(Nu.labelExtraY+=$d)):(Pd+Nu.labelExtraY-Ud)*dl>0&&(th=3*ol*Math.abs(sh-Zl.indexOf(Nu)),Yd=ah.cxFinal+ve(ah.px0[0],ah.px1[0]),Ph=Yd+th-(Nu.cxFinal+Nu.pxmid[0])-Nu.labelExtraX,Ph*ol>0&&(Nu.labelExtraX+=Ph)))}for(Ll=0;Ll<2;Ll++)for(nl=Ll?Hd:Rd,_t=Ll?Math.max:Math.min,dl=Ll?1:-1,bl=0;bl<2;bl++){for(ve=bl?Math.max:Math.min,ol=bl?1:-1,Il=pl[Ll][bl],Il.sort(nl),ql=pl[1-Ll][bl],Zl=ql.concat(Il),Ju=[],Bu=0;Bu<Il.length;Bu++)Il[Bu].yLabelMid!==void 0&&Ju.push(Il[Bu]);for(yd=!1,Bu=0;Ll&&Bu<ql.length;Bu++)if(ql[Bu].yLabelMid!==void 0){yd=ql[Bu];break}for(Bu=0;Bu<Ju.length;Bu++){var _u=Bu&&Ju[Bu-1];yd&&!Bu&&(_u=yd),Ed(Ju[Bu],_u)}}}function Dl(pl,it){for(var bl=[],Ll=0;Ll<pl.length;Ll++){var nl=pl[Ll][0],ve=nl.trace,_t=ve.domain,ol=it.w*(_t.x[1]-_t.x[0]),dl=it.h*(_t.y[1]-_t.y[0]);ve.title.text&&ve.title.position!=="middle center"&&(dl-=xl(nl,it));var Il=ol/2,ql=dl/2;ve.type==="funnelarea"&&!ve.scalegroup&&(ql/=ve.aspectratio),nl.r=Math.min(Il,ql)/(1+wl(ve)),nl.cx=it.l+it.w*(ve.domain.x[1]+ve.domain.x[0])/2,nl.cy=it.t+it.h*(1-ve.domain.y[0])-dl/2,ve.title.text&&ve.title.position.indexOf("bottom")!==-1&&(nl.cy-=xl(nl,it)),ve.scalegroup&&bl.indexOf(ve.scalegroup)===-1&&bl.push(ve.scalegroup)}Ol(pl,bl)}function Ol(pl,it){for(var bl,Ll,nl,ve=0;ve<it.length;ve++){var _t=1/0,ol=it[ve];for(Ll=0;Ll<pl.length;Ll++)if(bl=pl[Ll][0],nl=bl.trace,nl.scalegroup===ol){var dl;if(nl.type==="pie")dl=bl.r*bl.r;else if(nl.type==="funnelarea"){var Il,ql;nl.aspectratio>1?(Il=bl.r,ql=Il/nl.aspectratio):(ql=bl.r,Il=ql*nl.aspectratio),Il*=(1+nl.baseratio)/2,dl=Il*ql}_t=Math.min(_t,dl/bl.vTotal)}for(Ll=0;Ll<pl.length;Ll++)if(bl=pl[Ll][0],nl=bl.trace,nl.scalegroup===ol){var Zl=_t*bl.vTotal;nl.type==="funnelarea"&&(Zl/=(1+nl.baseratio)/2,Zl/=nl.aspectratio),bl.r=Math.sqrt(Zl)}}}function gu(pl){var it=pl[0],bl=it.r,Ll=it.trace,nl=Z.getRotationAngle(Ll.rotation),ve=2*Math.PI/it.vTotal,_t="px0",ol="px1",dl,Il,ql;if(Ll.direction==="counterclockwise"){for(dl=0;dl<pl.length&&pl[dl].hidden;dl++);if(dl===pl.length)return;nl+=ve*pl[dl].v,ve*=-1,_t="px1",ol="px0"}for(ql=yu(bl,nl),dl=0;dl<pl.length;dl++)Il=pl[dl],!Il.hidden&&(Il[_t]=ql,Il.startangle=nl,nl+=ve*Il.v/2,Il.pxmid=yu(bl,nl),Il.midangle=nl,nl+=ve*Il.v/2,ql=yu(bl,nl),Il.stopangle=nl,Il[ol]=ql,Il.largeArc=Il.v>it.vTotal/2?1:0,Il.halfangle=Math.PI*Math.min(Il.v/it.vTotal,.5),Il.ring=1-Ll.hole,Il.rInscribed=il(Il,it))}function yu(pl,it){return[pl*Math.sin(it),-pl*Math.cos(it)]}function Iu(pl,it,bl){var Ll=pl._fullLayout,nl=bl.trace,ve=nl.texttemplate,_t=nl.textinfo;if(!ve&&_t&&_t!=="none"){var ol=_t.split("+"),dl=function(Gl){return ol.indexOf(Gl)!==-1},Il=dl("label"),ql=dl("text"),Zl=dl("value"),Bu=dl("percent"),Ju=Ll.separators,yd;if(yd=Il?[it.label]:[],ql){var Hd=Z.getFirstFilled(nl.text,it.pts);q(Hd)&&yd.push(Hd)}Zl&&yd.push(Z.formatPieValue(it.v,Ju)),Bu&&yd.push(Z.formatPiePercent(it.v/bl.vTotal,Ju)),it.text=yd.join("<br>")}function Rd(Gl){return{label:Gl.label,value:Gl.v,valueLabel:Z.formatPieValue(Gl.v,Ll.separators),percent:Gl.v/bl.vTotal,percentLabel:Z.formatPiePercent(Gl.v/bl.vTotal,Ll.separators),color:Gl.color,text:Gl.text,customdata:F.castOption(nl,Gl.i,"customdata")}}if(ve){var Ed=F.castOption(nl,it.i,"texttemplate");if(!Ed)it.text="";else{var _u=Rd(it),Nu=Z.getFirstFilled(nl.text,it.pts);(q(Nu)||Nu==="")&&(_u.text=Nu),it.text=F.texttemplateString(Ed,_u,pl._fullLayout._d3locale,_u,nl._meta||{})}}}function cl(pl,it){var bl=pl.rotate*Math.PI/180,Ll=Math.cos(bl),nl=Math.sin(bl),ve=(it.left+it.right)/2,_t=(it.top+it.bottom)/2;pl.textX=ve*Ll-_t*nl,pl.textY=ve*nl+_t*Ll,pl.noCenter=!0}In.exports={plot:J,formatSliceLabel:Iu,transformInsideText:gl,determineInsideTextFont:se,positionTitleOutside:yl,prerenderTitles:nt,layoutAreas:Dl,attachFxHandlers:j,computeTransform:cl}}),H2=o((rl,In)=>{var A=f(),v=np(),C=Av().resizeText;In.exports=function(P){var R=P._fullLayout._pielayer.selectAll(".trace");C(P,R,"pie"),R.each(function(F){var I=F[0],B=I.trace,x=A.select(this);x.style({opacity:B.opacity}),x.selectAll("path.surface").each(function(W){A.select(this).call(v,W,B,P)})})}}),H1=o(rl=>{var In=Jp();rl.name="pie",rl.plot=function(A,v,C,P){In.plotBasePlot(rl.name,A,v,C,P)},rl.clean=function(A,v,C,P){In.cleanBasePlot(rl.name,A,v,C,P)}}),mv=o((rl,In)=>{In.exports={attributes:n2(),supplyDefaults:i2().supplyDefaults,supplyLayoutDefaults:c1(),layoutAttributes:Sy(),calc:n1().calc,crossTraceCalc:n1().crossTraceCalc,plot:$v().plot,style:H2(),styleOne:np(),moduleType:"trace",name:"pie",basePlotModule:H1(),categories:["pie-like","pie","showLegend"],meta:{}}}),o2=o((rl,In)=>{In.exports=mv()}),Sm=o((rl,In)=>{var A=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;function P(F){if(F==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(F)}function R(){try{if(!Object.assign)return!1;var F=new String("abc");if(F[5]="de",Object.getOwnPropertyNames(F)[0]==="5")return!1;for(var I={},B=0;B<10;B++)I["_"+String.fromCharCode(B)]=B;var x=Object.getOwnPropertyNames(I).map(function(z){return I[z]});if(x.join("")!=="0123456789")return!1;var W={};return"abcdefghijklmnopqrst".split("").forEach(function(z){W[z]=z}),Object.keys(Object.assign({},W)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}In.exports=R()?Object.assign:function(F,I){for(var B,x=P(F),W,z=1;z<arguments.length;z++){B=Object(arguments[z]);for(var U in B)v.call(B,U)&&(x[U]=B[U]);if(A){W=A(B);for(var Q=0;Q<W.length;Q++)C.call(B,W[Q])&&(x[W[Q]]=B[W[Q]])}}return x}}),um=o((rl,In)=>{var A=Sm();function v(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}A(v.prototype,{instance:function(B,x){B=(B||"gregorian").toLowerCase(),x=x||"";var W=this._localCals[B+"-"+x];if(!W&&this.calendars[B]&&(W=new this.calendars[B](x),this._localCals[B+"-"+x]=W),!W)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,B);return W},newDate:function(B,x,W,z,U){return z=(B!=null&&B.year?B.calendar():typeof z=="string"?this.instance(z,U):z)||this.instance(),z.newDate(B,x,W)},substituteDigits:function(B){return function(x){return(x+"").replace(/[0-9]/g,function(W){return B[W]})}},substituteChineseDigits:function(B,x){return function(W){for(var z="",U=0;W>0;){var Q=W%10;z=(Q===0?"":B[Q]+x[U])+z,U++,W=Math.floor(W/10)}return z.indexOf(B[1]+x[1])===0&&(z=z.substr(1)),z||B[0]}}});function C(B,x,W,z){if(this._calendar=B,this._year=x,this._month=W,this._day=z,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(I.local.invalidDate||I.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function P(B,x){return B=""+B,"000000".substring(0,x-B.length)+B}A(C.prototype,{newDate:function(B,x,W){return this._calendar.newDate(B??this,x,W)},year:function(B){return arguments.length===0?this._year:this.set(B,"y")},month:function(B){return arguments.length===0?this._month:this.set(B,"m")},day:function(B){return arguments.length===0?this._day:this.set(B,"d")},date:function(B,x,W){if(!this._calendar.isValid(B,x,W))throw(I.local.invalidDate||I.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=B,this._month=x,this._day=W,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(B,x){return this._calendar.add(this,B,x)},set:function(B,x){return this._calendar.set(this,B,x)},compareTo:function(B){if(this._calendar.name!==B._calendar.name)throw(I.local.differentCalendars||I.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,B._calendar.local.name);var x=this._year!==B._year?this._year-B._year:this._month!==B._month?this.monthOfYear()-B.monthOfYear():this._day-B._day;return x===0?0:x<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(B){return this._calendar.fromJD(B)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(B){return this._calendar.fromJSDate(B)},toString:function(){return(this.year()<0?"-":"")+P(Math.abs(this.year()),4)+"-"+P(this.month(),2)+"-"+P(this.day(),2)}});function R(){this.shortYearCutoff="+10"}A(R.prototype,{_validateLevel:0,newDate:function(B,x,W){return B==null?this.today():(B.year&&(this._validate(B,x,W,I.local.invalidDate||I.regionalOptions[""].invalidDate),W=B.day(),x=B.month(),B=B.year()),new C(this,B,x,W))},today:function(){return this.fromJSDate(new Date)},epoch:function(B){var x=this._validate(B,this.minMonth,this.minDay,I.local.invalidYear||I.regionalOptions[""].invalidYear);return x.year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(B){var x=this._validate(B,this.minMonth,this.minDay,I.local.invalidYear||I.regionalOptions[""].invalidYear);return(x.year()<0?"-":"")+P(Math.abs(x.year()),4)},monthsInYear:function(B){return this._validate(B,this.minMonth,this.minDay,I.local.invalidYear||I.regionalOptions[""].invalidYear),12},monthOfYear:function(B,x){var W=this._validate(B,x,this.minDay,I.local.invalidMonth||I.regionalOptions[""].invalidMonth);return(W.month()+this.monthsInYear(W)-this.firstMonth)%this.monthsInYear(W)+this.minMonth},fromMonthOfYear:function(B,x){var W=(x+this.firstMonth-2*this.minMonth)%this.monthsInYear(B)+this.minMonth;return this._validate(B,W,this.minDay,I.local.invalidMonth||I.regionalOptions[""].invalidMonth),W},daysInYear:function(B){var x=this._validate(B,this.minMonth,this.minDay,I.local.invalidYear||I.regionalOptions[""].invalidYear);return this.leapYear(x)?366:365},dayOfYear:function(B,x,W){var z=this._validate(B,x,W,I.local.invalidDate||I.regionalOptions[""].invalidDate);return z.toJD()-this.newDate(z.year(),this.fromMonthOfYear(z.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(B,x,W){var z=this._validate(B,x,W,I.local.invalidDate||I.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(z))+2)%this.daysInWeek()},extraInfo:function(B,x,W){return this._validate(B,x,W,I.local.invalidDate||I.regionalOptions[""].invalidDate),{}},add:function(B,x,W){return this._validate(B,this.minMonth,this.minDay,I.local.invalidDate||I.regionalOptions[""].invalidDate),this._correctAdd(B,this._add(B,x,W),x,W)},_add:function(B,x,W){if(this._validateLevel++,W==="d"||W==="w"){var z=B.toJD()+x*(W==="w"?this.daysInWeek():1),U=B.calendar().fromJD(z);return this._validateLevel--,[U.year(),U.month(),U.day()]}try{var Q=B.year()+(W==="y"?x:0),Z=B.monthOfYear()+(W==="m"?x:0),U=B.day(),$=function(O){for(;Z<O.minMonth;)Q--,Z+=O.monthsInYear(Q);for(var j=O.monthsInYear(Q);Z>j-1+O.minMonth;)Q++,Z-=j,j=O.monthsInYear(Q)};W==="y"?(B.month()!==this.fromMonthOfYear(Q,Z)&&(Z=this.newDate(Q,B.month(),this.minDay).monthOfYear()),Z=Math.min(Z,this.monthsInYear(Q)),U=Math.min(U,this.daysInMonth(Q,this.fromMonthOfYear(Q,Z)))):W==="m"&&($(this),U=Math.min(U,this.daysInMonth(Q,this.fromMonthOfYear(Q,Z))));var q=[Q,this.fromMonthOfYear(Q,Z),U];return this._validateLevel--,q}catch(J){throw this._validateLevel--,J}},_correctAdd:function(B,x,W,z){if(!this.hasYearZero&&(z==="y"||z==="m")&&(x[0]===0||B.year()>0!=x[0]>0)){var U={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[z],Q=W<0?-1:1;x=this._add(B,W*U[0]+Q*U[1],U[2])}return B.date(x[0],x[1],x[2])},set:function(B,x,W){this._validate(B,this.minMonth,this.minDay,I.local.invalidDate||I.regionalOptions[""].invalidDate);var z=W==="y"?x:B.year(),U=W==="m"?x:B.month(),Q=W==="d"?x:B.day();return(W==="y"||W==="m")&&(Q=Math.min(Q,this.daysInMonth(z,U))),B.date(z,U,Q)},isValid:function(B,x,W){this._validateLevel++;var z=this.hasYearZero||B!==0;if(z){var U=this.newDate(B,x,this.minDay);z=x>=this.minMonth&&x-this.minMonth<this.monthsInYear(U)&&W>=this.minDay&&W-this.minDay<this.daysInMonth(U)}return this._validateLevel--,z},toJSDate:function(B,x,W){var z=this._validate(B,x,W,I.local.invalidDate||I.regionalOptions[""].invalidDate);return I.instance().fromJD(this.toJD(z)).toJSDate()},fromJSDate:function(B){return this.fromJD(I.instance().fromJSDate(B).toJD())},_validate:function(B,x,W,z){if(B.year){if(this._validateLevel===0&&this.name!==B.calendar().name)throw(I.local.differentCalendars||I.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,B.calendar().local.name);return B}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(B,x,W))throw z.replace(/\{0\}/,this.local.name);var U=this.newDate(B,x,W);return this._validateLevel--,U}catch(Q){throw this._validateLevel--,Q}}});function F(B){this.local=this.regionalOptions[B]||this.regionalOptions[""]}F.prototype=new R,A(F.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(W){var x=this._validate(W,this.minMonth,this.minDay,I.local.invalidYear||I.regionalOptions[""].invalidYear),W=x.year()+(x.year()<0?1:0);return W%4===0&&(W%100!==0||W%400===0)},weekOfYear:function(B,x,W){var z=this.newDate(B,x,W);return z.add(4-(z.dayOfWeek()||7),"d"),Math.floor((z.dayOfYear()-1)/7)+1},daysInMonth:function(B,x){var W=this._validate(B,x,this.minDay,I.local.invalidMonth||I.regionalOptions[""].invalidMonth);return this.daysPerMonth[W.month()-1]+(W.month()===2&&this.leapYear(W.year())?1:0)},weekDay:function(B,x,W){return(this.dayOfWeek(B,x,W)||7)<6},toJD:function(B,x,W){var z=this._validate(B,x,W,I.local.invalidDate||I.regionalOptions[""].invalidDate);B=z.year(),x=z.month(),W=z.day(),B<0&&B++,x<3&&(x+=12,B--);var U=Math.floor(B/100),Q=2-U+Math.floor(U/4);return Math.floor(365.25*(B+4716))+Math.floor(30.6001*(x+1))+W+Q-1524.5},fromJD:function(B){var x=Math.floor(B+.5),W=Math.floor((x-186721625e-2)/36524.25);W=x+1+W-Math.floor(W/4);var z=W+1524,U=Math.floor((z-122.1)/365.25),Q=Math.floor(365.25*U),Z=Math.floor((z-Q)/30.6001),$=z-Q-Math.floor(Z*30.6001),q=Z-(Z>13.5?13:1),J=U-(q>2.5?4716:4715);return J<=0&&J--,this.newDate(J,q,$)},toJSDate:function(B,x,W){var z=this._validate(B,x,W,I.local.invalidDate||I.regionalOptions[""].invalidDate),U=new Date(z.year(),z.month()-1,z.day());return U.setHours(0),U.setMinutes(0),U.setSeconds(0),U.setMilliseconds(0),U.setHours(U.getHours()>12?U.getHours()+2:0),U},fromJSDate:function(B){return this.newDate(B.getFullYear(),B.getMonth()+1,B.getDate())}});var I=In.exports=new v;I.cdate=C,I.baseCalendar=R,I.calendars.gregorian=F}),ev=o(()=>{var rl=Sm(),In=um();rl(In.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),In.local=In.regionalOptions[""],rl(In.cdate.prototype,{formatDate:function(A,v){return typeof A!="string"&&(v=A,A=""),this._calendar.formatDate(A||"",this,v)}}),rl(In.baseCalendar.prototype,{UNIX_EPOCH:In.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:1440*60,TICKS_EPOCH:In.instance().jdEpoch,TICKS_PER_DAY:1440*60*1e7,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(A,v,C){if(typeof A!="string"&&(C=v,v=A,A=""),!v)return"";if(v.calendar()!==this)throw In.local.invalidFormat||In.regionalOptions[""].invalidFormat;A=A||this.local.dateFormat,C=C||{};for(var P=C.dayNamesShort||this.local.dayNamesShort,R=C.dayNames||this.local.dayNames,F=C.monthNumbers||this.local.monthNumbers,I=C.monthNamesShort||this.local.monthNamesShort,B=C.monthNames||this.local.monthNames,x=C.calculateWeek||this.local.calculateWeek,W=function(se,nt){for(var gl=1;Y+gl<A.length&&A.charAt(Y+gl)===se;)gl++;return Y+=gl-1,Math.floor(gl/(nt||1))>1},z=function(se,nt,gl,Bn){var jt=""+nt;if(W(se,Bn))for(;jt.length<gl;)jt="0"+jt;return jt},U=function(se,nt,gl,Bn){return W(se)?Bn[nt]:gl[nt]},Q=this,Z=function(se){return typeof F=="function"?F.call(Q,se,W("m")):J(z("m",se.month(),2))},$=function(se,nt){return nt?typeof B=="function"?B.call(Q,se):B[se.month()-Q.minMonth]:typeof I=="function"?I.call(Q,se):I[se.month()-Q.minMonth]},q=this.local.digits,J=function(se){return C.localNumbers&&q?q(se):se},O="",j=!1,Y=0;Y<A.length;Y++)if(j)A.charAt(Y)==="'"&&!W("'")?j=!1:O+=A.charAt(Y);else switch(A.charAt(Y)){case"d":O+=J(z("d",v.day(),2));break;case"D":O+=U("D",v.dayOfWeek(),P,R);break;case"o":O+=z("o",v.dayOfYear(),3);break;case"w":O+=z("w",v.weekOfYear(),2);break;case"m":O+=Z(v);break;case"M":O+=$(v,W("M"));break;case"y":O+=W("y",2)?v.year():(v.year()%100<10?"0":"")+v.year()%100;break;case"Y":W("Y",2),O+=v.formatYear();break;case"J":O+=v.toJD();break;case"@":O+=(v.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":O+=(v.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":W("'")?O+="'":j=!0;break;default:O+=A.charAt(Y)}return O},parseDate:function(A,v,C){if(v==null)throw In.local.invalidArguments||In.regionalOptions[""].invalidArguments;if(v=typeof v=="object"?v.toString():v+"",v==="")return null;A=A||this.local.dateFormat,C=C||{};var P=C.shortYearCutoff||this.shortYearCutoff;P=typeof P!="string"?P:this.today().year()%100+parseInt(P,10);for(var R=C.dayNamesShort||this.local.dayNamesShort,F=C.dayNames||this.local.dayNames,I=C.parseMonth||this.local.parseMonth,B=C.monthNumbers||this.local.monthNumbers,x=C.monthNamesShort||this.local.monthNamesShort,W=C.monthNames||this.local.monthNames,z=-1,U=-1,Q=-1,Z=-1,$=-1,q=!1,J=!1,O=function(ul,il){for(var sl=1;Pe+sl<A.length&&A.charAt(Pe+sl)===ul;)sl++;return Pe+=sl-1,Math.floor(sl/(il||1))>1},j=function(ul,il){var sl=O(ul,il),vl=[2,3,sl?4:2,sl?4:2,10,11,20]["oyYJ@!".indexOf(ul)+1],yl=new RegExp("^-?\\d{1,"+vl+"}"),Fn=v.substring(jt).match(yl);if(!Fn)throw(In.local.missingNumberAt||In.regionalOptions[""].missingNumberAt).replace(/\{0\}/,jt);return jt+=Fn[0].length,parseInt(Fn[0],10)},Y=this,se=function(){if(typeof B=="function"){O("m");var ul=B.call(Y,v.substring(jt));return jt+=ul.length,ul}return j("m")},nt=function(ul,il,sl,vl){for(var yl=O(ul,vl)?sl:il,Fn=0;Fn<yl.length;Fn++)if(v.substr(jt,yl[Fn].length).toLowerCase()===yl[Fn].toLowerCase())return jt+=yl[Fn].length,Fn+Y.minMonth;throw(In.local.unknownNameAt||In.regionalOptions[""].unknownNameAt).replace(/\{0\}/,jt)},gl=function(){if(typeof W=="function"){var ul=O("M")?W.call(Y,v.substring(jt)):x.call(Y,v.substring(jt));return jt+=ul.length,ul}return nt("M",x,W)},Bn=function(){if(v.charAt(jt)!==A.charAt(Pe))throw(In.local.unexpectedLiteralAt||In.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,jt);jt++},jt=0,Pe=0;Pe<A.length;Pe++)if(J)A.charAt(Pe)==="'"&&!O("'")?J=!1:Bn();else switch(A.charAt(Pe)){case"d":Z=j("d");break;case"D":nt("D",R,F);break;case"o":$=j("o");break;case"w":j("w");break;case"m":Q=se();break;case"M":Q=gl();break;case"y":var ml=Pe;q=!O("y",2),Pe=ml,U=j("y",2);break;case"Y":U=j("Y",2);break;case"J":z=j("J")+.5,v.charAt(jt)==="."&&(jt++,j("J"));break;case"@":z=j("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":z=j("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":jt=v.length;break;case"'":O("'")?Bn():J=!0;break;default:Bn()}if(jt<v.length)throw In.local.unexpectedText||In.regionalOptions[""].unexpectedText;if(U===-1?U=this.today().year():U<100&&q&&(U+=P===-1?1900:this.today().year()-this.today().year()%100-(U<=P?0:100)),typeof Q=="string"&&(Q=I.call(this,U,Q)),$>-1){Q=1,Z=$;for(var tl=this.daysInMonth(U,Q);Z>tl;tl=this.daysInMonth(U,Q))Q++,Z-=tl}return z>-1?this.fromJD(z):this.newDate(U,Q,Z)},determineDate:function(A,v,C,P,R){C&&typeof C!="object"&&(R=P,P=C,C=null),typeof P!="string"&&(R=P,P="");var F=this,I=function(B){try{return F.parseDate(P,B,R)}catch{}B=B.toLowerCase();for(var x=(B.match(/^c/)&&C?C.newDate():null)||F.today(),W=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,z=W.exec(B);z;)x.add(parseInt(z[1],10),z[2]||"d"),z=W.exec(B);return x};return v=v?v.newDate():null,A=A==null?v:typeof A=="string"?I(A):typeof A=="number"?isNaN(A)||A===1/0||A===-1/0?v:F.today().add(A,"d"):F.newDate(A),A}})}),qv=o(()=>{var rl=um(),In=Sm(),A=rl.instance();function v(z){this.local=this.regionalOptions[z||""]||this.regionalOptions[""]}v.prototype=new rl.baseCalendar,In(v.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(z,U){if(typeof z=="string"){var Q=z.match(P);return Q?Q[0]:""}var Z=this._validateYear(z),$=z.month(),q=""+this.toChineseMonth(Z,$);return U&&q.length<2&&(q="0"+q),this.isIntercalaryMonth(Z,$)&&(q+="i"),q},monthNames:function(z){if(typeof z=="string"){var U=z.match(R);return U?U[0]:""}var Q=this._validateYear(z),Z=z.month(),$=this.toChineseMonth(Q,Z),q=["","","","","","","","","","","",""][$-1];return this.isIntercalaryMonth(Q,Z)&&(q=""+q),q},monthNamesShort:function(z){if(typeof z=="string"){var U=z.match(F);return U?U[0]:""}var Q=this._validateYear(z),Z=z.month(),$=this.toChineseMonth(Q,Z),q=["","","","","","","","","","","",""][$-1];return this.isIntercalaryMonth(Q,Z)&&(q=""+q),q},parseMonth:function(z,U){z=this._validateYear(z);var Q=parseInt(U),Z;if(isNaN(Q))U[0]===""&&(Z=!0,U=U.substring(1)),U[U.length-1]===""&&(U=U.substring(0,U.length-1)),Q=1+["","","","","","","","","","","",""].indexOf(U);else{var $=U[U.length-1];Z=$==="i"||$==="I"}var q=this.toMonthIndex(z,Q,Z);return q},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(z,U){if(z.year&&(z=z.year()),typeof z!="number"||z<1888||z>2111)throw U.replace(/\{0\}/,this.local.name);return z},toMonthIndex:function(z,U,Q){var Z=this.intercalaryMonth(z),$=Q&&U!==Z;if($||U<1||U>12)throw rl.local.invalidMonth.replace(/\{0\}/,this.local.name);var q;return Z?!Q&&U<=Z?q=U-1:q=U:q=U-1,q},toChineseMonth:function(z,U){z.year&&(z=z.year(),U=z.month());var Q=this.intercalaryMonth(z),Z=Q?12:11;if(U<0||U>Z)throw rl.local.invalidMonth.replace(/\{0\}/,this.local.name);var $;return Q?U<Q?$=U+1:$=U:$=U+1,$},intercalaryMonth:function(z){z=this._validateYear(z);var U=I[z-I[0]],Q=U>>13;return Q},isIntercalaryMonth:function(z,U){z.year&&(z=z.year(),U=z.month());var Q=this.intercalaryMonth(z);return!!Q&&Q===U},leapYear:function(z){return this.intercalaryMonth(z)!==0},weekOfYear:function(z,U,Q){var Z=this._validateYear(z,rl.local.invalidyear),$=B[Z-B[0]],q=$>>9&4095,J=$>>5&15,O=$&31,j;j=A.newDate(q,J,O),j.add(4-(j.dayOfWeek()||7),"d");var Y=this.toJD(z,U,Q)-j.toJD();return 1+Math.floor(Y/7)},monthsInYear:function(z){return this.leapYear(z)?13:12},daysInMonth:function(z,U){z.year&&(U=z.month(),z=z.year()),z=this._validateYear(z);var Q=I[z-I[0]],Z=Q>>13,$=Z?12:11;if(U>$)throw rl.local.invalidMonth.replace(/\{0\}/,this.local.name);var q=Q&1<<12-U?30:29;return q},weekDay:function(z,U,Q){return(this.dayOfWeek(z,U,Q)||7)<6},toJD:function(z,U,Q){var Z=this._validate(z,q,Q,rl.local.invalidDate);z=this._validateYear(Z.year()),U=Z.month(),Q=Z.day();var $=this.isIntercalaryMonth(z,U),q=this.toChineseMonth(z,U),J=W(z,q,Q,$);return A.toJD(J.year,J.month,J.day)},fromJD:function(z){var U=A.fromJD(z),Q=x(U.year(),U.month(),U.day()),Z=this.toMonthIndex(Q.year,Q.month,Q.isIntercalary);return this.newDate(Q.year,Z,Q.day)},fromString:function(z){var U=z.match(C),Q=this._validateYear(+U[1]),Z=+U[2],$=!!U[3],q=this.toMonthIndex(Q,Z,$),J=+U[4];return this.newDate(Q,q,J)},add:function(z,U,Q){var Z=z.year(),$=z.month(),q=this.isIntercalaryMonth(Z,$),J=this.toChineseMonth(Z,$),O=Object.getPrototypeOf(v.prototype).add.call(this,z,U,Q);if(Q==="y"){var j=O.year(),Y=O.month(),se=this.isIntercalaryMonth(j,J),nt=q&&se?this.toMonthIndex(j,J,!0):this.toMonthIndex(j,J,!1);nt!==Y&&O.month(nt)}return O}});var C=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,P=/^\d?\d[iI]?/m,R=/^??[]?/m,F=/^??[]?/m;rl.calendars.chinese=v;var I=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],B=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904];function x(z,U,Q,Z){var $,q;if(typeof z=="object")$=z,q=U||{};else{var J=typeof z=="number"&&z>=1888&&z<=2111;if(!J)throw new Error("Solar year outside range 1888-2111");var O=typeof U=="number"&&U>=1&&U<=12;if(!O)throw new Error("Solar month outside range 1 - 12");var j=typeof Q=="number"&&Q>=1&&Q<=31;if(!j)throw new Error("Solar day outside range 1 - 31");$={year:z,month:U,day:Q},q={}}var Y=B[$.year-B[0]],se=$.year<<9|$.month<<5|$.day;q.year=se>=Y?$.year:$.year-1,Y=B[q.year-B[0]];var nt=Y>>9&4095,gl=Y>>5&15,Bn=Y&31,jt,Pe=new Date(nt,gl-1,Bn),ml=new Date($.year,$.month-1,$.day);jt=Math.round((ml-Pe)/(24*3600*1e3));var tl=I[q.year-I[0]],ul;for(ul=0;ul<13;ul++){var il=tl&1<<12-ul?30:29;if(jt<il)break;jt-=il}var sl=tl>>13;return!sl||ul<sl?(q.isIntercalary=!1,q.month=1+ul):ul===sl?(q.isIntercalary=!0,q.month=ul):(q.isIntercalary=!1,q.month=ul),q.day=1+jt,q}function W(z,U,Q,Z,$){var q,J;if(typeof z=="object")J=z,q=U||{};else{var O=typeof z=="number"&&z>=1888&&z<=2111;if(!O)throw new Error("Lunar year outside range 1888-2111");var j=typeof U=="number"&&U>=1&&U<=12;if(!j)throw new Error("Lunar month outside range 1 - 12");var Y=typeof Q=="number"&&Q>=1&&Q<=30;if(!Y)throw new Error("Lunar day outside range 1 - 30");var se;typeof Z=="object"?(se=!1,q=Z):(se=!!Z,q={}),J={year:z,month:U,day:Q,isIntercalary:se}}var nt;nt=J.day-1;var gl=I[J.year-I[0]],Bn=gl>>13,jt;Bn&&(J.month>Bn||J.isIntercalary)?jt=J.month:jt=J.month-1;for(var Pe=0;Pe<jt;Pe++){var ml=gl&1<<12-Pe?30:29;nt+=ml}var tl=B[J.year-B[0]],ul=tl>>9&4095,il=tl>>5&15,sl=tl&31,vl=new Date(ul,il-1,sl+nt);return q.year=vl.getFullYear(),q.month=1+vl.getMonth(),q.day=vl.getDate(),q}}),a2=o(()=>{var rl=um(),In=Sm();function A(v){this.local=this.regionalOptions[v||""]||this.regionalOptions[""]}A.prototype=new rl.baseCalendar,In(A.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(P){var C=this._validate(P,this.minMonth,this.minDay,rl.local.invalidYear),P=C.year()+(C.year()<0?1:0);return P%4===3||P%4===-1},monthsInYear:function(v){return this._validate(v,this.minMonth,this.minDay,rl.local.invalidYear||rl.regionalOptions[""].invalidYear),13},weekOfYear:function(v,C,P){var R=this.newDate(v,C,P);return R.add(-R.dayOfWeek(),"d"),Math.floor((R.dayOfYear()-1)/7)+1},daysInMonth:function(v,C){var P=this._validate(v,C,this.minDay,rl.local.invalidMonth);return this.daysPerMonth[P.month()-1]+(P.month()===13&&this.leapYear(P.year())?1:0)},weekDay:function(v,C,P){return(this.dayOfWeek(v,C,P)||7)<6},toJD:function(v,C,P){var R=this._validate(v,C,P,rl.local.invalidDate);return v=R.year(),v<0&&v++,R.day()+(R.month()-1)*30+(v-1)*365+Math.floor(v/4)+this.jdEpoch-1},fromJD:function(v){var C=Math.floor(v)+.5-this.jdEpoch,P=Math.floor((C-Math.floor((C+366)/1461))/365)+1;P<=0&&P--,C=Math.floor(v)+.5-this.newDate(P,1,1).toJD();var R=Math.floor(C/30)+1,F=C-(R-1)*30+1;return this.newDate(P,R,F)}}),rl.calendars.coptic=A}),s2=o(()=>{var rl=um(),In=Sm();function A(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}A.prototype=new rl.baseCalendar,In(A.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(C){return this._validate(C,this.minMonth,this.minDay,rl.local.invalidYear),!1},monthsInYear:function(C){return this._validate(C,this.minMonth,this.minDay,rl.local.invalidYear),13},daysInYear:function(C){return this._validate(C,this.minMonth,this.minDay,rl.local.invalidYear),400},weekOfYear:function(C,P,R){var F=this.newDate(C,P,R);return F.add(-F.dayOfWeek(),"d"),Math.floor((F.dayOfYear()-1)/8)+1},daysInMonth:function(C,P){var R=this._validate(C,P,this.minDay,rl.local.invalidMonth);return this.daysPerMonth[R.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(C,P,R){var F=this._validate(C,P,R,rl.local.invalidDate);return(F.day()+1)%8},weekDay:function(C,P,R){var F=this.dayOfWeek(C,P,R);return F>=2&&F<=6},extraInfo:function(C,P,R){var F=this._validate(C,P,R,rl.local.invalidDate);return{century:v[Math.floor((F.year()-1)/100)+1]||""}},toJD:function(C,P,R){var F=this._validate(C,P,R,rl.local.invalidDate);return C=F.year()+(F.year()<0?1:0),P=F.month(),R=F.day(),R+(P>1?16:0)+(P>2?(P-2)*32:0)+(C-1)*400+this.jdEpoch-1},fromJD:function(C){C=Math.floor(C+.5)-Math.floor(this.jdEpoch)-1;var P=Math.floor(C/400)+1;C-=(P-1)*400,C+=C>15?16:0;var R=Math.floor(C/32)+1,F=C-(R-1)*32+1;return this.newDate(P<=0?P-1:P,R,F)}});var v={20:"Fruitbat",21:"Anchovy"};rl.calendars.discworld=A}),c3=o(()=>{var rl=um(),In=Sm();function A(v){this.local=this.regionalOptions[v||""]||this.regionalOptions[""]}A.prototype=new rl.baseCalendar,In(A.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(P){var C=this._validate(P,this.minMonth,this.minDay,rl.local.invalidYear),P=C.year()+(C.year()<0?1:0);return P%4===3||P%4===-1},monthsInYear:function(v){return this._validate(v,this.minMonth,this.minDay,rl.local.invalidYear||rl.regionalOptions[""].invalidYear),13},weekOfYear:function(v,C,P){var R=this.newDate(v,C,P);return R.add(-R.dayOfWeek(),"d"),Math.floor((R.dayOfYear()-1)/7)+1},daysInMonth:function(v,C){var P=this._validate(v,C,this.minDay,rl.local.invalidMonth);return this.daysPerMonth[P.month()-1]+(P.month()===13&&this.leapYear(P.year())?1:0)},weekDay:function(v,C,P){return(this.dayOfWeek(v,C,P)||7)<6},toJD:function(v,C,P){var R=this._validate(v,C,P,rl.local.invalidDate);return v=R.year(),v<0&&v++,R.day()+(R.month()-1)*30+(v-1)*365+Math.floor(v/4)+this.jdEpoch-1},fromJD:function(v){var C=Math.floor(v)+.5-this.jdEpoch,P=Math.floor((C-Math.floor((C+366)/1461))/365)+1;P<=0&&P--,C=Math.floor(v)+.5-this.newDate(P,1,1).toJD();var R=Math.floor(C/30)+1,F=C-(R-1)*30+1;return this.newDate(P,R,F)}}),rl.calendars.ethiopian=A}),ky=o(()=>{var rl=um(),In=Sm();function A(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}A.prototype=new rl.baseCalendar,In(A.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(C){var P=this._validate(C,this.minMonth,this.minDay,rl.local.invalidYear);return this._leapYear(P.year())},_leapYear:function(C){return C=C<0?C+1:C,v(C*7+1,19)<7},monthsInYear:function(C){return this._validate(C,this.minMonth,this.minDay,rl.local.invalidYear),this._leapYear(C.year?C.year():C)?13:12},weekOfYear:function(C,P,R){var F=this.newDate(C,P,R);return F.add(-F.dayOfWeek(),"d"),Math.floor((F.dayOfYear()-1)/7)+1},daysInYear:function(C){var P=this._validate(C,this.minMonth,this.minDay,rl.local.invalidYear);return C=P.year(),this.toJD(C===-1?1:C+1,7,1)-this.toJD(C,7,1)},daysInMonth:function(C,P){return C.year&&(P=C.month(),C=C.year()),this._validate(C,P,this.minDay,rl.local.invalidMonth),P===12&&this.leapYear(C)||P===8&&v(this.daysInYear(C),10)===5?30:P===9&&v(this.daysInYear(C),10)===3?29:this.daysPerMonth[P-1]},weekDay:function(C,P,R){return this.dayOfWeek(C,P,R)!==6},extraInfo:function(C,P,R){var F=this._validate(C,P,R,rl.local.invalidDate);return{yearType:(this.leapYear(F)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(F)%10-3]}},toJD:function(C,P,R){var F=this._validate(C,P,R,rl.local.invalidDate);C=F.year(),P=F.month(),R=F.day();var I=C<=0?C+1:C,B=this.jdEpoch+this._delay1(I)+this._delay2(I)+R+1;if(P<7){for(var x=7;x<=this.monthsInYear(C);x++)B+=this.daysInMonth(C,x);for(var x=1;x<P;x++)B+=this.daysInMonth(C,x)}else for(var x=7;x<P;x++)B+=this.daysInMonth(C,x);return B},_delay1:function(C){var P=Math.floor((235*C-234)/19),R=12084+13753*P,F=P*29+Math.floor(R/25920);return v(3*(F+1),7)<3&&F++,F},_delay2:function(C){var P=this._delay1(C-1),R=this._delay1(C),F=this._delay1(C+1);return F-R===356?2:R-P===382?1:0},fromJD:function(C){C=Math.floor(C)+.5;for(var P=Math.floor((C-this.jdEpoch)*98496/35975351)-1;C>=this.toJD(P===-1?1:P+1,7,1);)P++;for(var R=C<this.toJD(P,1,1)?7:1;C>this.toJD(P,R,this.daysInMonth(P,R));)R++;var F=C-this.toJD(P,R,1)+1;return this.newDate(P,R,F)}});function v(C,P){return C-P*Math.floor(C/P)}rl.calendars.hebrew=A}),G1=o(()=>{var rl=um(),In=Sm();function A(v){this.local=this.regionalOptions[v||""]||this.regionalOptions[""]}A.prototype=new rl.baseCalendar,In(A.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-khams","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(v){var C=this._validate(v,this.minMonth,this.minDay,rl.local.invalidYear);return(C.year()*11+14)%30<11},weekOfYear:function(v,C,P){var R=this.newDate(v,C,P);return R.add(-R.dayOfWeek(),"d"),Math.floor((R.dayOfYear()-1)/7)+1},daysInYear:function(v){return this.leapYear(v)?355:354},daysInMonth:function(v,C){var P=this._validate(v,C,this.minDay,rl.local.invalidMonth);return this.daysPerMonth[P.month()-1]+(P.month()===12&&this.leapYear(P.year())?1:0)},weekDay:function(v,C,P){return this.dayOfWeek(v,C,P)!==5},toJD:function(v,C,P){var R=this._validate(v,C,P,rl.local.invalidDate);return v=R.year(),C=R.month(),P=R.day(),v=v<=0?v+1:v,P+Math.ceil(29.5*(C-1))+(v-1)*354+Math.floor((3+11*v)/30)+this.jdEpoch-1},fromJD:function(v){v=Math.floor(v)+.5;var C=Math.floor((30*(v-this.jdEpoch)+10646)/10631);C=C<=0?C-1:C;var P=Math.min(12,Math.ceil((v-29-this.toJD(C,1,1))/29.5)+1),R=v-this.toJD(C,P,1)+1;return this.newDate(C,P,R)}}),rl.calendars.islamic=A}),_y=o(()=>{var rl=um(),In=Sm();function A(v){this.local=this.regionalOptions[v||""]||this.regionalOptions[""]}A.prototype=new rl.baseCalendar,In(A.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(P){var C=this._validate(P,this.minMonth,this.minDay,rl.local.invalidYear),P=C.year()<0?C.year()+1:C.year();return P%4===0},weekOfYear:function(v,C,P){var R=this.newDate(v,C,P);return R.add(4-(R.dayOfWeek()||7),"d"),Math.floor((R.dayOfYear()-1)/7)+1},daysInMonth:function(v,C){var P=this._validate(v,C,this.minDay,rl.local.invalidMonth);return this.daysPerMonth[P.month()-1]+(P.month()===2&&this.leapYear(P.year())?1:0)},weekDay:function(v,C,P){return(this.dayOfWeek(v,C,P)||7)<6},toJD:function(v,C,P){var R=this._validate(v,C,P,rl.local.invalidDate);return v=R.year(),C=R.month(),P=R.day(),v<0&&v++,C<=2&&(v--,C+=12),Math.floor(365.25*(v+4716))+Math.floor(30.6001*(C+1))+P-1524.5},fromJD:function(v){var C=Math.floor(v+.5),P=C+1524,R=Math.floor((P-122.1)/365.25),F=Math.floor(365.25*R),I=Math.floor((P-F)/30.6001),B=I-Math.floor(I<14?1:13),x=R-Math.floor(B>2?4716:4715),W=P-F-Math.floor(30.6001*I);return x<=0&&x--,this.newDate(x,B,W)}}),rl.calendars.julian=A}),Ey=o(()=>{var rl=um(),In=Sm();function A(P){this.local=this.regionalOptions[P||""]||this.regionalOptions[""]}A.prototype=new rl.baseCalendar,In(A.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(P){return this._validate(P,this.minMonth,this.minDay,rl.local.invalidYear),!1},formatYear:function(P){var R=this._validate(P,this.minMonth,this.minDay,rl.local.invalidYear);P=R.year();var F=Math.floor(P/400);P=P%400,P+=P<0?400:0;var I=Math.floor(P/20);return F+"."+I+"."+P%20},forYear:function(P){if(P=P.split("."),P.length<3)throw"Invalid Mayan year";for(var R=0,F=0;F<P.length;F++){var I=parseInt(P[F],10);if(Math.abs(I)>19||F>0&&I<0)throw"Invalid Mayan year";R=R*20+I}return R},monthsInYear:function(P){return this._validate(P,this.minMonth,this.minDay,rl.local.invalidYear),18},weekOfYear:function(P,R,F){return this._validate(P,R,F,rl.local.invalidDate),0},daysInYear:function(P){return this._validate(P,this.minMonth,this.minDay,rl.local.invalidYear),360},daysInMonth:function(P,R){return this._validate(P,R,this.minDay,rl.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(P,R,F){var I=this._validate(P,R,F,rl.local.invalidDate);return I.day()},weekDay:function(P,R,F){return this._validate(P,R,F,rl.local.invalidDate),!0},extraInfo:function(P,R,F){var I=this._validate(P,R,F,rl.local.invalidDate),B=I.toJD(),x=this._toHaab(B),W=this._toTzolkin(B);return{haabMonthName:this.local.haabMonths[x[0]-1],haabMonth:x[0],haabDay:x[1],tzolkinDayName:this.local.tzolkinMonths[W[0]-1],tzolkinDay:W[0],tzolkinTrecena:W[1]}},_toHaab:function(P){P-=this.jdEpoch;var R=v(P+8+340,365);return[Math.floor(R/20)+1,v(R,20)]},_toTzolkin:function(P){return P-=this.jdEpoch,[C(P+20,20),C(P+4,13)]},toJD:function(P,R,F){var I=this._validate(P,R,F,rl.local.invalidDate);return I.day()+I.month()*20+I.year()*360+this.jdEpoch},fromJD:function(P){P=Math.floor(P)+.5-this.jdEpoch;var R=Math.floor(P/360);P=P%360,P+=P<0?360:0;var F=Math.floor(P/20),I=P%20;return this.newDate(R,F,I)}});function v(P,R){return P-R*Math.floor(P/R)}function C(P,R){return v(P-1,R)+1}rl.calendars.mayan=A}),tv=o(()=>{var rl=um(),In=Sm();function A(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}A.prototype=new rl.baseCalendar;var v=rl.instance("gregorian");In(A.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(C){var P=this._validate(C,this.minMonth,this.minDay,rl.local.invalidYear||rl.regionalOptions[""].invalidYear);return v.leapYear(P.year()+(P.year()<1?1:0)+1469)},weekOfYear:function(C,P,R){var F=this.newDate(C,P,R);return F.add(1-(F.dayOfWeek()||7),"d"),Math.floor((F.dayOfYear()-1)/7)+1},daysInMonth:function(C,P){var R=this._validate(C,P,this.minDay,rl.local.invalidMonth);return this.daysPerMonth[R.month()-1]+(R.month()===12&&this.leapYear(R.year())?1:0)},weekDay:function(C,P,R){return(this.dayOfWeek(C,P,R)||7)<6},toJD:function(I,P,R){var F=this._validate(I,P,R,rl.local.invalidMonth),I=F.year();I<0&&I++;for(var B=F.day(),x=1;x<F.month();x++)B+=this.daysPerMonth[x-1];return B+v.toJD(I+1468,3,13)},fromJD:function(C){C=Math.floor(C+.5);for(var P=Math.floor((C-(this.jdEpoch-1))/366);C>=this.toJD(P+1,1,1);)P++;for(var R=C-Math.floor(this.toJD(P,1,1)+.5)+1,F=1;R>this.daysInMonth(P,F);)R-=this.daysInMonth(P,F),F++;return this.newDate(P,F,R)}}),rl.calendars.nanakshahi=A}),My=o(()=>{var rl=um(),In=Sm();function A(v){this.local=this.regionalOptions[v||""]||this.regionalOptions[""]}A.prototype=new rl.baseCalendar,In(A.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(v){return this.daysInYear(v)!==this.daysPerYear},weekOfYear:function(v,C,P){var R=this.newDate(v,C,P);return R.add(-R.dayOfWeek(),"d"),Math.floor((R.dayOfYear()-1)/7)+1},daysInYear:function(v){var C=this._validate(v,this.minMonth,this.minDay,rl.local.invalidYear);if(v=C.year(),typeof this.NEPALI_CALENDAR_DATA[v]>"u")return this.daysPerYear;for(var P=0,R=this.minMonth;R<=12;R++)P+=this.NEPALI_CALENDAR_DATA[v][R];return P},daysInMonth:function(v,C){return v.year&&(C=v.month(),v=v.year()),this._validate(v,C,this.minDay,rl.local.invalidMonth),typeof this.NEPALI_CALENDAR_DATA[v]>"u"?this.daysPerMonth[C-1]:this.NEPALI_CALENDAR_DATA[v][C]},weekDay:function(v,C,P){return this.dayOfWeek(v,C,P)!==6},toJD:function(v,C,P){var R=this._validate(v,C,P,rl.local.invalidDate);v=R.year(),C=R.month(),P=R.day();var F=rl.instance(),I=0,B=C,x=v;this._createMissingCalendarData(v);var W=v-(B>9||B===9&&P>=this.NEPALI_CALENDAR_DATA[x][0]?56:57);for(C!==9&&(I=P,B--);B!==9;)B<=0&&(B=12,x--),I+=this.NEPALI_CALENDAR_DATA[x][B],B--;return C===9?(I+=P-this.NEPALI_CALENDAR_DATA[x][0],I<0&&(I+=F.daysInYear(W))):I+=this.NEPALI_CALENDAR_DATA[x][9]-this.NEPALI_CALENDAR_DATA[x][0],F.newDate(W,1,1).add(I,"d").toJD()},fromJD:function(v){var C=rl.instance(),P=C.fromJD(v),R=P.year(),F=P.dayOfYear(),I=R+56;this._createMissingCalendarData(I);for(var B=9,x=this.NEPALI_CALENDAR_DATA[I][0],W=this.NEPALI_CALENDAR_DATA[I][B]-x+1;F>W;)B++,B>12&&(B=1,I++),W+=this.NEPALI_CALENDAR_DATA[I][B];var z=this.NEPALI_CALENDAR_DATA[I][B]-(W-F);return this.newDate(I,B,z)},_createMissingCalendarData:function(v){var C=this.daysPerMonth.slice(0);C.unshift(17);for(var P=v-1;P<v+2;P++)typeof this.NEPALI_CALENDAR_DATA[P]>"u"&&(this.NEPALI_CALENDAR_DATA[P]=C)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),rl.calendars.nepali=A}),Yv=o(()=>{var rl=um(),In=Sm();function A(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}function v(C){var P=C-475;C<0&&P++;var R=.242197,F=R*P,I=R*(P+1),B=F-Math.floor(F),x=I-Math.floor(I);return B>x}A.prototype=new rl.baseCalendar,In(A.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Dey","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Dey","Bah","Esf"],dayNames:["Yekshanbeh","Doshanbeh","Seshanbeh","Chahrshanbeh","Panjshanbeh","Jom'eh","Shanbeh"],dayNamesShort:["Yek","Do","Se","Cha","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(C){var P=this._validate(C,this.minMonth,this.minDay,rl.local.invalidYear);return v(P.year())},weekOfYear:function(C,P,R){var F=this.newDate(C,P,R);return F.add(-((F.dayOfWeek()+1)%7),"d"),Math.floor((F.dayOfYear()-1)/7)+1},daysInMonth:function(C,P){var R=this._validate(C,P,this.minDay,rl.local.invalidMonth);return this.daysPerMonth[R.month()-1]+(R.month()===12&&this.leapYear(R.year())?1:0)},weekDay:function(C,P,R){return this.dayOfWeek(C,P,R)!==5},toJD:function(C,P,R){var F=this._validate(C,P,R,rl.local.invalidDate);C=F.year(),P=F.month(),R=F.day();var I=0;if(C>0)for(var B=1;B<C;B++)v(B)&&I++;else if(C<0)for(var B=C;B<0;B++)v(B)&&I--;return R+(P<=7?(P-1)*31:(P-1)*30+6)+(C>0?C-1:C)*365+I+this.jdEpoch-1},fromJD:function(C){C=Math.floor(C)+.5;var P=475+(C-this.toJD(475,1,1))/365.242197,R=Math.floor(P);R<=0&&R--,C>this.toJD(R,12,v(R)?30:29)&&(R++,R===0&&R++);var F=C-this.toJD(R,1,1)+1,I=F<=186?Math.ceil(F/31):Math.ceil((F-6)/30),B=C-this.toJD(R,I,1)+1;return this.newDate(R,I,B)}}),rl.calendars.persian=A,rl.calendars.jalali=A}),d3=o(()=>{var rl=um(),In=Sm(),A=rl.instance();function v(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}v.prototype=new rl.baseCalendar,In(v.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(R){var P=this._validate(R,this.minMonth,this.minDay,rl.local.invalidYear),R=this._t2gYear(P.year());return A.leapYear(R)},weekOfYear:function(I,P,R){var F=this._validate(I,this.minMonth,this.minDay,rl.local.invalidYear),I=this._t2gYear(F.year());return A.weekOfYear(I,F.month(),F.day())},daysInMonth:function(C,P){var R=this._validate(C,P,this.minDay,rl.local.invalidMonth);return this.daysPerMonth[R.month()-1]+(R.month()===2&&this.leapYear(R.year())?1:0)},weekDay:function(C,P,R){return(this.dayOfWeek(C,P,R)||7)<6},toJD:function(I,P,R){var F=this._validate(I,P,R,rl.local.invalidDate),I=this._t2gYear(F.year());return A.toJD(I,F.month(),F.day())},fromJD:function(C){var P=A.fromJD(C),R=this._g2tYear(P.year());return this.newDate(R,P.month(),P.day())},_t2gYear:function(C){return C+this.yearsOffset+(C>=-this.yearsOffset&&C<=-1?1:0)},_g2tYear:function(C){return C-this.yearsOffset-(C>=1&&C<=this.yearsOffset?1:0)}}),rl.calendars.taiwan=v}),G2=o(()=>{var rl=um(),In=Sm(),A=rl.instance();function v(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}v.prototype=new rl.baseCalendar,In(v.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(R){var P=this._validate(R,this.minMonth,this.minDay,rl.local.invalidYear),R=this._t2gYear(P.year());return A.leapYear(R)},weekOfYear:function(I,P,R){var F=this._validate(I,this.minMonth,this.minDay,rl.local.invalidYear),I=this._t2gYear(F.year());return A.weekOfYear(I,F.month(),F.day())},daysInMonth:function(C,P){var R=this._validate(C,P,this.minDay,rl.local.invalidMonth);return this.daysPerMonth[R.month()-1]+(R.month()===2&&this.leapYear(R.year())?1:0)},weekDay:function(C,P,R){return(this.dayOfWeek(C,P,R)||7)<6},toJD:function(I,P,R){var F=this._validate(I,P,R,rl.local.invalidDate),I=this._t2gYear(F.year());return A.toJD(I,F.month(),F.day())},fromJD:function(C){var P=A.fromJD(C),R=this._g2tYear(P.year());return this.newDate(R,P.month(),P.day())},_t2gYear:function(C){return C-this.yearsOffset-(C>=1&&C<=this.yearsOffset?1:0)},_g2tYear:function(C){return C+this.yearsOffset+(C>=-this.yearsOffset&&C<=-1?1:0)}}),rl.calendars.thai=v}),Kg=o(()=>{var rl=um(),In=Sm();function A(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}A.prototype=new rl.baseCalendar,In(A.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thalth","Yawm al-Arba","Yawm al-Khams","Yawm al-Juma","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(C){var P=this._validate(C,this.minMonth,this.minDay,rl.local.invalidYear);return this.daysInYear(P.year())===355},weekOfYear:function(C,P,R){var F=this.newDate(C,P,R);return F.add(-F.dayOfWeek(),"d"),Math.floor((F.dayOfYear()-1)/7)+1},daysInYear:function(C){for(var P=0,R=1;R<=12;R++)P+=this.daysInMonth(C,R);return P},daysInMonth:function(C,P){for(var R=this._validate(C,P,this.minDay,rl.local.invalidMonth),F=R.toJD()-24e5+.5,I=0,B=0;B<v.length;B++){if(v[B]>F)return v[I]-v[I-1];I++}return 30},weekDay:function(C,P,R){return this.dayOfWeek(C,P,R)!==5},toJD:function(C,P,R){var F=this._validate(C,P,R,rl.local.invalidDate),I=12*(F.year()-1)+F.month()-15292,B=F.day()+v[I-1]-1;return B+24e5-.5},fromJD:function(C){for(var P=C-24e5+.5,R=0,F=0;F<v.length&&!(v[F]>P);F++)R++;var I=R+15292,B=Math.floor((I-1)/12),x=B+1,W=I-12*B,z=P-v[R-1]+1;return this.newDate(x,W,z)},isValid:function(C,P,R){var F=rl.baseCalendar.prototype.isValid.apply(this,arguments);return F&&(C=C.year!=null?C.year:C,F=C>=1276&&C<=1500),F},_validate:function(C,P,R,F){var I=rl.baseCalendar.prototype._validate.apply(this,arguments);if(I.year<1276||I.year>1500)throw F.replace(/\{0\}/,this.local.name);return I}}),rl.calendars.ummalqura=A;var v=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]}),vv=o((rl,In)=>{In.exports=um(),ev(),qv(),a2(),s2(),c3(),ky(),G1(),_y(),Ey(),tv(),My(),Yv(),d3(),G2(),Kg()}),Kv=o((rl,In)=>{var A=vv(),v=ls(),C=H(),P=C.EPOCHJD,R=C.ONEDAY,F={valType:"enumerated",values:v.sortObjectKeys(A.calendars),editType:"calc",dflt:"gregorian"},I=function(gl,Bn,jt,Pe){var ml={};return ml[jt]=F,v.coerce(gl,Bn,ml,jt,Pe)},B=function(gl,Bn,jt,Pe){for(var ml=0;ml<jt.length;ml++)I(gl,Bn,jt[ml]+"calendar",Pe.calendar)},x={chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},W={chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},z={chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},U="##",Q={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U,w:U,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};function Z(gl,Bn,jt){for(var Pe=Math.floor((Bn+.05)/R)+P,ml=q(jt).fromJD(Pe),tl=0,ul,il,sl,vl,yl;(tl=gl.indexOf("%",tl))!==-1;)ul=gl.charAt(tl+1),ul==="0"||ul==="-"||ul==="_"?(sl=3,il=gl.charAt(tl+2),ul==="_"&&(ul="-")):(il=ul,ul="0",sl=2),vl=Q[il],vl?(vl===U?yl=U:yl=ml.formatDate(vl[ul]),gl=gl.substr(0,tl)+yl+gl.substr(tl+sl),tl+=yl.length):tl+=sl;return gl}var $={};function q(gl){var Bn=$[gl];return Bn||(Bn=$[gl]=A.instance(gl),Bn)}function J(gl){return v.extendFlat({},F,{description:gl})}function O(gl){return"Sets the calendar system to use with `"+gl+"` date data."}var j={xcalendar:J(O("x"))},Y=v.extendFlat({},j,{ycalendar:J(O("y"))}),se=v.extendFlat({},Y,{zcalendar:J(O("z"))}),nt=J(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));In.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:Y,bar:Y,box:Y,heatmap:Y,contour:Y,histogram:Y,histogram2d:Y,histogram2dcontour:Y,scatter3d:se,surface:se,mesh3d:se,scattergl:Y,ohlc:j,candlestick:j},layout:{calendar:J(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:nt},yaxis:{calendar:nt},scene:{xaxis:{calendar:nt},yaxis:{calendar:nt},zaxis:{calendar:nt}},polar:{radialaxis:{calendar:nt}}}},layoutAttributes:F,handleDefaults:I,handleTraceDefaults:B,CANONICAL_SUNDAY:W,CANONICAL_TICK:x,DFLTRANGE:z,getCal:q,worldCalFmt:Z}}),l2=o((rl,In)=>{In.exports=Kv()}),Ay=o((rl,In)=>{var A=xy();A.register([B1(),o2(),l2()]),In.exports=A});return Ay()})();/*! Bundled license information:

		native-promise-only/lib/npo.src.js:
		  (*! Native Promise Only
		      v0.8.1 (c) Kyle Simpson
		      MIT License: http://getify.mit-license.org
		  *)

		polybooljs/index.js:
		  (*
		   * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
		   * @license MIT
		   * @preserve Project Home: https://github.com/voidqk/polybooljs
		   *)

		object-assign/index.js:
		  (*
		  object-assign
		  (c) Sindre Sorhus
		  @license MIT
		  *)
		*/return window.Plotly=n,n})})(plotlyBasic_min$1)),plotlyBasic_min$1.exports}var plotlyBasic_minExports=requirePlotlyBasic_min();const Plotly=getDefaultExportFromCjs(plotlyBasic_minExports);function wavelengthName(r){let n=r.slice(0,-1);return r.charAt(r.length-1)==="a"?n=n.concat(""):r.charAt(r.length-1)==="b"?n=n.concat(""):(console.log("wavelength name conversion failed!"),n=r),n}function makeArr(r,n,o){for(var l=[],c=(n-r)/(o-1),f=0;f<o;f++)l.push(r+c*f);return l}function gaussian(r,n,o,l){return r*Math.exp(-Math.pow((l-n)/o,2)/2)}function lorentz(r,n,o,l){return o*Math.pow(n,2)/(Math.pow(n,2)+Math.pow(l-r,2))}function gaussianBroadening(r,n,o,l){let c=r.slice(),f=o/2/Math.pow(2*Math.log(2),.5),d=new Array(l.length).fill(0);for(let w=0;w<n.length;w++){let y=2*n[w]*Math.sqrt(Math.log(2))/o/Math.sqrt(Math.PI);for(let L=0;L<l.length;L++)d[L]+=gaussian(y,c[w],f,l[L])}return d}function lorentzianBroadening(r,n,o,l){let c=r.slice(),f=o/2,d=new Array(l.length).fill(0);for(let w=0;w<n.length;w++){let y=n[w]*2/o/Math.PI;for(let L=0;L<l.length;L++)d[L]+=lorentz(c[w],f,y,l[L])}return d}function doFitting(r,n,o){let l=r.peaks_positions,c=Math.min(n/5,.1),f=Math.round((r.angular_range[1]-r.angular_range[0])/c),d=makeArr(r.angular_range[0],r.angular_range[1],f),w=null;if(o==="Gaussian")w=gaussianBroadening(l,r.intensities,n,d);else if(o==="Lorentzian")w=lorentzianBroadening(l,r.intensities,n,d);else return console.log("Fit type not defined!"),null;return{x:d,curve:w}}const getFittedCurve=(r,n,o)=>{let l=doFitting(r,n,o);return{x:l.x,y:l.curve,type:"scatter",mode:"lines+points",marker:{color:"red",size:.5},line:{width:2},hoverinfo:"none"}},getHistogram=r=>({x:r.peaks_positions,y:r.intensities,text:r.hkls,type:"bar",hovertemplate:"hkl: <b>%{text}</b><extra></extra>",width:.7,marker:{color:"black",opacity:.6}});function DataDownloadButton({data:r,filename:n="BlankData.json"}){const o=()=>{const l=JSON.stringify(r,null,2),c=new Blob([l],{type:"application/json"}),f=URL.createObjectURL(c),d=document.createElement("a");d.href=f,d.download=n,d.click(),URL.revokeObjectURL(f)};return jsxRuntimeExports.jsx(Button,{size:"sm",style:{margin:"4px",padding:"2px 7px"},title:"Download",onClick:o,children:jsxRuntimeExports.jsx("span",{className:"bi bi-download"})})}const XrdPlot=({xrdData:r})=>{const n=reactExports.useRef(null),o=Object.keys(r),[l,c]=reactExports.useState(o[0]),[f,d]=reactExports.useState("Gaussian"),[w,y]=reactExports.useState(1),[L,G]=reactExports.useState(!0),[H,ce]=reactExports.useState(!0),ie=["Gaussian","Lorentzian"],Et=[];H&&Et.push(getHistogram(r[l])),L&&Et.push(getFittedCurve(r[l],w,f));const zn=r[l].angular_range.slice(),$l=[0,null];return reactExports.useEffect(()=>{if(!n.current)return;const zl={showlegend:!1,xaxis:{range:zn,title:"2 []",linecolor:"black",linewidth:1,tickwidth:1,tickcolor:"black",gridcolor:"lightgray",mirror:!0},yaxis:{range:$l,title:"Intensity [a.u.]",linecolor:"black",linewidth:1,tickwidth:1,tickcolor:"black",gridcolor:"lightgray",mirror:!0},margin:{l:50,r:20,b:40,t:20}},Hl={responsive:!0};return Plotly.newPlot(n.current,Et,zl,Hl),()=>{Plotly.purge(n.current)}},[r,l,f,w,L,H]),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs(Row,{children:[jsxRuntimeExports.jsxs(Col,{style:{minWidth:"300px"},children:[jsxRuntimeExports.jsxs(Form$1,{children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Select the X-ray source"}),jsxRuntimeExports.jsx(Form$1.Select,{value:l,onChange:zl=>c(zl.target.value),children:o.map(zl=>jsxRuntimeExports.jsx("option",{value:zl,children:wavelengthName(zl)},zl))})]}),jsxRuntimeExports.jsxs(Form$1,{children:[jsxRuntimeExports.jsx(Form$1.Label,{children:"Select peak broadening profile"}),jsxRuntimeExports.jsx(Form$1.Select,{value:f,onChange:zl=>d(zl.target.value),children:ie.map(zl=>jsxRuntimeExports.jsx("option",{value:zl,children:zl},zl))})]}),jsxRuntimeExports.jsxs(Form$1,{children:[jsxRuntimeExports.jsxs(Form$1.Label,{children:["Select peak broadening FWHM (full width at half maximum)",jsxRuntimeExports.jsx("br",{})," value: ",w.toFixed(2)]}),jsxRuntimeExports.jsx(Form$1.Range,{min:.1,max:2,step:.05,value:w,onInput:zl=>y(parseFloat(zl.target.value))})]}),jsxRuntimeExports.jsxs(Form$1,{children:[jsxRuntimeExports.jsx(Form$1.Check,{checked:L,onChange:zl=>G(zl.target.checked),label:"Show broadened curve"}),jsxRuntimeExports.jsx(Form$1.Check,{checked:H,onChange:zl=>ce(zl.target.checked),label:"Show histogram"})]}),jsxRuntimeExports.jsxs("div",{children:["Download X-ray data",jsxRuntimeExports.jsx(DataDownloadButton,{data:r,filename:"xrdData.json"})]})]}),jsxRuntimeExports.jsx(Col,{children:jsxRuntimeExports.jsx("div",{ref:n,style:{width:"100%",height:"100%",minHeight:"400px",minWidth:"300px"}})})]})})},XrdSection=r=>{const[n,o]=reactExports.useState(null),[l,c]=reactExports.useState(!1);reactExports.useEffect(()=>{loadXrd(r.params.method,r.params.id).then(d=>{d?(console.log("Loaded XRD data",d),o(d)):c(!0)})},[r.params.method,r.params.id]);let f="";return l?f="Not available for this material.":n==null?f=jsxRuntimeExports.jsx("div",{style:{width:"150px",padding:"40px",margin:"0 auto"},children:jsxRuntimeExports.jsx(xu,{})}):f=jsxRuntimeExports.jsx(XrdPlot,{xrdData:n}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"section-heading",children:"X-ray diffraction pattern"}),jsxRuntimeExports.jsx(Container,{fluid:!0,className:"section-container",children:jsxRuntimeExports.jsx(Row,{children:jsxRuntimeExports.jsx("div",{className:"xrd-section",children:f})})})]})};function TitledColumn({width:r,title:n,loading:o,condition:l,fallback:c,children:f,style:d={},className:w="",titleStyle:y={},titleClassName:L=""}){const G=o?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center w-100 h-full",children:jsxRuntimeExports.jsx("div",{style:{maxWidth:"70px",width:"100%"},children:jsxRuntimeExports.jsx(xu,{})})}):l?f:c||null;return G?jsxRuntimeExports.jsxs(Col,{md:r,className:`flex flex-col ${w}`,style:{minHeight:"300px",...d},children:[jsxRuntimeExports.jsxs("div",{className:`subsection-title w-100 mb-3 ${L}`,style:{marginBottom:"0.5rem",...y},children:[n||""," "]}),G]}):null}function SuperconHeader({params:r,superconData:n}){return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"title-and-doi",style:{borderBottom:"1px solid grey",paddingBottom:"0.5rem",display:"flex",flexDirection:"column",alignItems:"flex-start",gap:"0.25rem"},children:[jsxRuntimeExports.jsx("span",{className:"title-span",children:"Superconductivity Estimation"}),jsxRuntimeExports.jsxs("div",{className:"doi-container",style:{display:"flex",alignItems:"center",gap:"0.5rem",marginLeft:"0.5rem"},children:[jsxRuntimeExports.jsx(CitationsList,{citationLabels:["MBercxSupercon25"]}),jsxRuntimeExports.jsx(wu,{doi_id:"9w-az",label:"Data DOI"})]})]}),jsxRuntimeExports.jsxs("div",{className:"alert alert-warning",style:{margin:"10px 10px 5px 10px"},role:"alert",children:["This contribution re-relaxes the structure with a different methodology. To see this structure, explore the AiiDA provenance"," ",n?.a2f_uuid&&jsxRuntimeExports.jsx(Ou,{explore_url:EXPLORE_URLS[r.method]+"-supercon",uuid:n.structure_uuid})]}),jsxRuntimeExports.jsxs("div",{style:{padding:"10px 10px"},children:["This dataset provides results from a high-throughput search for phonon-mediated superconductivity, where electronphonon interactions and critical temperatures were systematically computed to identify and characterize promising superconducting materials. This frontend section contains the final superconductivity estimation results, as well as the intermediate electronic and vibrational calculated properties. For further details regarding the methodology see the"," ",jsxRuntimeExports.jsx("a",{href:"./#/contributions",target:"_blank",rel:"noopener noreferrer",children:"contribution details"}),"."]})]})}const TwoWideInfoBox=({childrenLeft:r,childrenRight:n,style:o=null})=>jsxRuntimeExports.jsx("div",{style:o,children:jsxRuntimeExports.jsxs("div",{className:"two-wide-container subsection-shadow overflow-auto rounded",children:[jsxRuntimeExports.jsx("div",{className:"info-col",children:r}),jsxRuntimeExports.jsx("div",{className:"info-col",children:n})]})}),omegaLogLabel=jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["",jsxRuntimeExports.jsx("sub",{children:"log"}),jsxRuntimeExports.jsx("span",{style:{marginLeft:"0.10em"}})]}),TcLabel=jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["T",jsxRuntimeExports.jsx("sub",{children:"c"}),jsxRuntimeExports.jsx("span",{style:{marginLeft:"0.10em"}})]});function formatIfExists(r,{decimals:n=3,format:o=c=>c,fallback:l=void 0}={}){if(typeof r=="number"&&!isNaN(r)){const c=Number(r.toFixed(n));return o(c)}else{if(Array.isArray(r))return o(r.join("  "));if(r!=null)return o(r)}return l}function SuperconInfoBox({superconData:r,style:n={}}){const o=[{key:"Space group number",value:formatIfExists(r.space_group_number,{format:d=>`${d}`,fallback:"Unknown Spacegroup"})},{key:"Total energy",value:formatIfExists(r.total_energy,{format:d=>`${d} eV`,fallback:"Unknown Total energy"})},{key:"Cell volume",value:formatIfExists(r.cell_volume,{format:d=>`${d} `,fallback:"Unknown Spacegroup"})},{key:"Fermi energy",value:formatIfExists(r.fermi_energy_coarse,{format:d=>`${d} eV`})},{key:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["",jsxRuntimeExports.jsx("sup",{children:"max"})]}),value:formatIfExists(r.highest_phonon_frequency,{format:d=>`${d} meV`})}],l=[{key:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["E",jsxRuntimeExports.jsx("sub",{children:"cut"})]}),value:formatIfExists(r.ecut,{format:d=>`${(d/13.605703976).toFixed(0)} Ry`,fallback:"No data"})},{key:"Smearing",value:formatIfExists(r.scf_smearing,{format:d=>`${d} eV`,fallback:"No data"})},{key:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["DFPT ",jsxRuntimeExports.jsx("b",{children:"k"}),"-grid"]}),value:formatIfExists(r.kpoints_mesh,{format:d=>Array.isArray(d)?d.join("  "):`${d}`,fallback:"No DFPT kgrid data"})},{key:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["DFPT ",jsxRuntimeExports.jsx("b",{children:"q"}),"-grid"]}),value:formatIfExists(r.qpoints_mesh,{format:d=>Array.isArray(d)?d.join("  "):`${d}`,fallback:"No DFPT qgrid data"})}],c=[{key:"Type of anisotropy",value:formatIfExists(r.type,{format:d=>`${d}`})},{key:"Number of Wannier functions",value:formatIfExists(r.number_of_wannier_functions,{format:d=>`${d}`})},{key:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["Coarse ",jsxRuntimeExports.jsx("b",{children:"k"}),"-grid"]}),value:formatIfExists(r.kpoints_mesh,{format:d=>Array.isArray(d)?d.join("  "):`${d}`,fallback:"No EPW coarse kgriddata"})},{key:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["Coarse ",jsxRuntimeExports.jsx("b",{children:"q"}),"-grid"]}),value:formatIfExists(r.qpoints_mesh,{format:d=>Array.isArray(d)?d.join("  "):`${d}`,fallback:"No EPW coarse qgriddata"})},{key:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["Fine ",jsxRuntimeExports.jsx("b",{children:"k"}),"-grid"]}),value:formatIfExists(r.kfpoints_mesh,{format:d=>Array.isArray(d)?d.join("  "):`${d}`,fallback:"No EPW fine kgriddata"})},{key:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["Fine ",jsxRuntimeExports.jsx("b",{children:"q"}),"-grid"]}),value:formatIfExists(r.qfpoints_mesh,{format:d=>Array.isArray(d)?d.join("  "):`${d}`,fallback:"No EPW fine qgriddata"})},{key:"Smearing-q",value:formatIfExists(r.smearing_q,{format:d=>`${d} meV`,fallback:"No data"})},{key:"Fermi window",value:formatIfExists(r.fermi_window,{format:d=>`${d} eV`,fallback:"No data"})}],f=[{key:omegaLogLabel,value:formatIfExists(r.omega_log,{format:d=>`${d} meV`,fallback:"Not calculated"})},{key:"",value:formatIfExists(r.lambda,{format:d=>`${d}`,fallback:"Not calculated"})},{key:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["Allen-Dynes ",TcLabel]}),value:formatIfExists(r.allen_dynes_tc,{format:d=>`${d} K`,fallback:"Not calculated"})},{key:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["Isotropic ",TcLabel]}),value:formatIfExists(r.iso_tc,{format:d=>`${d} K`,fallback:"Not superconducting"})},{key:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["",jsxRuntimeExports.jsxs("sub",{children:["n",jsxRuntimeExports.jsx("b",{children:"k"})]}),"(0)"]}),value:formatIfExists(r.aniso_info?.delta0,{format:d=>`${d} K`,fallback:"No nk Data"})},{key:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["Anisotropic ",TcLabel]}),value:formatIfExists(r.aniso_info?.Tc,{format:d=>`${d} K`,fallback:"Not superconducting"})}];return jsxRuntimeExports.jsx(TwoWideInfoBox,{style:n,childrenLeft:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("b",{children:"General properties"}),jsxRuntimeExports.jsx("ul",{className:"no-bullets",children:o.filter(d=>d.value!==void 0).map((d,w)=>jsxRuntimeExports.jsxs("li",{children:[d.key,": ",d.value]},w))}),jsxRuntimeExports.jsx("b",{children:"Superconducting properties"}),jsxRuntimeExports.jsx("ul",{className:"no-bullets",children:f.filter(d=>d.value!==void 0).map((d,w)=>jsxRuntimeExports.jsxs("li",{children:[d.key,": ",d.value]},w))})]}),childrenRight:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("b",{children:"DFT calculation details "}),jsxRuntimeExports.jsx("ul",{className:"no-bullets",children:l.filter(d=>d.value!==void 0).map((d,w)=>jsxRuntimeExports.jsxs("li",{children:[d.key,": ",d.value]},w))}),jsxRuntimeExports.jsx("b",{children:"EPW calculation details"}),jsxRuntimeExports.jsx("ul",{className:"no-bullets",children:c.filter(d=>d.value!==void 0).map((d,w)=>jsxRuntimeExports.jsxs("li",{children:[d.key,": ",d.value]},w))})]})})}const GAP_TRACE_CONFIG={color:"#d62728"},GAP_LAYOUT_CONFIG={xaxis:{title:{text:"T [K]",font:{size:15,color:"#111"}},tickfont:{size:14},showgrid:!1,zeroline:!1,showline:!1,ticks:"inside",rangemode:"nonnegative"},yaxis:{title:{text:"<sub>n<b>k</b></sub>(T) [meV]",font:{size:15,color:"#111"}},tickfont:{size:14},showgrid:!1,zeroline:!1,showline:!1,ticks:"inside",rangemode:"nonnegative"},legend:{visible:!1},margin:{t:10,b:50,l:52,r:0},shapes:[{type:"rect",xref:"paper",yref:"paper",x0:0,y0:0,x1:1,y1:1,line:{color:"black",width:1.25},layer:"above"}]};function createAnalyticGapTrace(r,n,o,l=200,c="Analytical (T)"){const f=Array.from({length:l},(w,y)=>y*o/(l-1)),d=f.map(w=>r*Math.sqrt(1-Math.pow(w/o,n)));return{x:f,y:d,name:c,type:"scatter",mode:"lines",hovertemplate:"<b>Value of the fit of BCS gap at %{x:.2f}K:</b> %{y:.3f}<extra></extra>",line:{color:"#b22222",dash:"dash"}}}function GapFunction({gapfuncData:r,Tc:n,verts:o,points:l,delta0:c,expo:f,resolution:d=1e3,minXVal:w=0,maxXVal:y=null,minYVal:L=null,maxYVal:G=0}){const H=reactExports.useRef(null);return reactExports.useEffect(()=>{if(!r||!H.current)return;const ce=H.current,ie=o??[],Et=Object.entries(r).filter(([Hl])=>Array.isArray(Hl)).map(([Hl])=>{const Ft=Hl.map(([vu])=>vu),El=Hl.map(([vu])=>vu),{leftVerts:Kl,distances:Al}=Ft.reduce((vu,Nl)=>{const Xu=ie.filter(Vu=>Vu<=Nl);if(!Xu.length)vu.leftVerts.push(null),vu.distances.push(null);else{const Vu=Math.max(...Xu);vu.leftVerts.push(Vu),vu.distances.push(Nl-Vu)}return vu},{leftVerts:[],distances:[]});return{x:Ft,y:El,customdata:Al,text:Kl,type:"scatter",mode:"lines",line:{color:GAP_TRACE_CONFIG.color},hovertemplate:"<b>Histogram of <sub>nk</sub>(%{text:.1f}K) at %{y:.2f} meV:</b> %{customdata:.2f} <extra></extra>"}}),zn=(o||[]).map((Hl,Ft)=>({x:[Hl],y:[(l||[])[Ft]],name:`point ${Ft}`,type:"scatter",mode:"markers",hovertemplate:"<b>Weighted average at %{x:.0f}K:</b> %{y:.3f}<extra></extra>",marker:{color:GAP_TRACE_CONFIG.color,size:12}}));Et.push(...zn);const $l=createAnalyticGapTrace(c,f,n,d);Et.push($l);let zl={...GAP_LAYOUT_CONFIG,xaxis:{...GAP_LAYOUT_CONFIG.xaxis,range:w!=null&&y!=null?[w,y]:void 0},yaxis:{...GAP_LAYOUT_CONFIG.yaxis,range:L!=null&&G!=null?[L,G]:void 0},shapes:[...GAP_LAYOUT_CONFIG.shapes||[],...ie.map(Hl=>({type:"line",x0:Hl,x1:Hl,y0:0,y1:1,yref:"paper",line:{color:"#111",width:1.25},layer:"below"}))]};return Plotly.newPlot(ce,Et,zl,{responsive:!0}),()=>Plotly.purge(ce)},[r]),jsxRuntimeExports.jsx("div",{ref:H,style:{width:"100%",height:"350px"}})}const A2F_TRACE_CONFIG={color:"#d62728",dash:"solid",label:"<sup>2</sup>F()",hoverlabel:"Eliashberg spectral function",lineWidth:1.75,xaxis:"x2",yaxis:"y2"},A2F_CUMULATIVE_CONFIG={color:"#111",dash:"solid",label:"()",hoverlabel:"Cumulative electron-phonon coupling strength",lineWidth:1.75,xaxis:"x3",yaxis:"y2"};function getA2FTraces({a2f:r,frequency:n,degaussq:o,selectedDegaussIndex:l=-1}){if(!r||!n||!o||o.length===0)return[];const c=l<0?o.length-1:l,f={x:r.map(G=>G[c]),y:n,type:"scatter",mode:"lines",name:A2F_TRACE_CONFIG.label,hovertemplate:`<b>${A2F_TRACE_CONFIG.hoverlabel} at %{y:.2f} meV:</b> %{y:.3f} <br><extra></extra>`,line:{color:A2F_TRACE_CONFIG.color,dash:A2F_TRACE_CONFIG.dash,width:A2F_TRACE_CONFIG.lineWidth},xaxis:A2F_TRACE_CONFIG.xaxis,yaxis:A2F_TRACE_CONFIG.yaxis},d=n[1]-n[0];let w=0;const L={x:n.map((G,H)=>{const ce=r[H][c];return w+=2*ce/G*d,w}),y:n,type:"scatter",mode:"lines",name:A2F_CUMULATIVE_CONFIG.label,label:`${A2F_CUMULATIVE_CONFIG.label}`,hovertemplate:`<b>${A2F_CUMULATIVE_CONFIG.hoverlabel} at %{y:.2f} meV:</b> %{x:.3f}<br><extra></extra>`,line:{color:A2F_CUMULATIVE_CONFIG.color,dash:A2F_CUMULATIVE_CONFIG.dash,width:A2F_CUMULATIVE_CONFIG.lineWidth},xaxis:A2F_CUMULATIVE_CONFIG.xaxis,yaxis:A2F_CUMULATIVE_CONFIG.yaxis};return[f,L]}function transpose(r){const n=r.length,o=r[0].length,l=new Array(o);for(let c=0;c<o;c++){l[c]=new Array(n);for(let f=0;f<n;f++)l[c][f]=r[f][c]}return l}const baseColors=["#636EFA","#EF553B","#00CC96","#AB63FA","#FFA15A","#19D3F3","#FF6692","#B6E880","#FF97FF","#FECB52"];function getColor(r){return r<baseColors.length?baseColors[r]:`hsl(${r*47%360}, 70%, 50%)`}function mergeLegendTracesByName(r){const n=new Set;return r.map(l=>{const c=l.name||"",f=!n.has(c);return f&&n.add(c),{...l,legendgroup:c,showlegend:f}})}function getXYData(r){const n=[],o=[];let l=null;return r.paths.forEach((c,f)=>{const d=c.x,w=c.values;f>0&&(n.push(null),o.forEach(y=>y.push(null))),d.forEach((y,L)=>{y===l&&(n.push(null),o.forEach(G=>G.push(null))),n.push(y),l=y,w.forEach((G,H)=>{o[H]||(o[H]=[]),o[H].push(G[L])})})}),{xs:n,ys:o}}function prettifyLabels(r){const n={GAMMA:"",DELTA:"",SIGMA:"",LAMBDA:""};Object.keys(n).forEach(l=>{const c=new RegExp(l,"gi");r=r.replace(c,n[l])}),r=r.replace(/\bG\b/g,""),r=r.replace(/-/g,"");const o={0:"",1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:""};return r=r.replace(/_(.)/g,(l,c)=>o[c]||l),r}function getXLabelPos(r=td.paths){const n=[0];for(const o of r)o.x.length<3||n.push(o.x[o.x.length-1]);return n}function getXLabelsfromkpath(r){const n=r.flat(),o=[];o.push(n[0]);for(let l=1;l<n.length-1;l++)n[l]===n[l+1]?(o.push(n[l]),l++):(o.push(n[l]+"|"+n[l+1]),l++);return o.push(n[n.length-1]),o}function getXYRangeForAxis(r,n="x",o="y"){let l=1/0,c=-1/0,f=1/0,d=-1/0;for(const w of r){const y=w.xaxis===n||!w.xaxis&&n==="x",L=w.yaxis===o||!w.yaxis&&o==="y";if(!(!y||!L)){for(const G of w.x??[])typeof G=="number"&&(l=Math.min(l,G),c=Math.max(c,G));for(const G of w.y??[])typeof G=="number"&&(f=Math.min(f,G),d=Math.max(d,G))}}return{x:l===1/0?null:[l,c],y:f===1/0?null:[f,d]}}function createFermiLine(r,n,o,l={}){return{x:r,y:n,mode:"lines",type:"scatter",name:`Fermi [${o}eV]`,legendgroup:`fermi-${o}`,showlegend:l.showlegend??!0,line:{color:"green",width:1.25,dash:"dash"},...l}}function addfermiLines(r,n,o,l){const c=[...n];if(o&&!l){const{y:f}=getXYRangeForAxis(n);for(const d of r)c.push(createFermiLine([d,d],[f[0],f[1]],d))}else if(l&&!o){const{x:f}=getXYRangeForAxis(n);for(const d of r)c.push(createFermiLine([f[0],f[1]],[d,d],d))}else if(l&&o){const{x:f}=getXYRangeForAxis(n,"x2","y"),{x:d}=getXYRangeForAxis(n,"x","y");for(const w of r)c.push(createFermiLine([d[0],d[1]],[w,w],w)),c.push(createFermiLine([f[0],f[1]],[w,w],w,{showlegend:!1,xaxis:"x2",yaxis:"y"}))}return c}var cjs$2,hasRequiredCjs$2;function requireCjs$2(){if(hasRequiredCjs$2)return cjs$2;hasRequiredCjs$2=1;var r=function(Hl){return n(Hl)&&!o(Hl)};function n(zl){return!!zl&&typeof zl=="object"}function o(zl){var Hl=Object.prototype.toString.call(zl);return Hl==="[object RegExp]"||Hl==="[object Date]"||f(zl)}var l=typeof Symbol=="function"&&Symbol.for,c=l?Symbol.for("react.element"):60103;function f(zl){return zl.$$typeof===c}function d(zl){return Array.isArray(zl)?[]:{}}function w(zl,Hl){return Hl.clone!==!1&&Hl.isMergeableObject(zl)?zn(d(zl),zl,Hl):zl}function y(zl,Hl,Ft){return zl.concat(Hl).map(function(El){return w(El,Ft)})}function L(zl,Hl){if(!Hl.customMerge)return zn;var Ft=Hl.customMerge(zl);return typeof Ft=="function"?Ft:zn}function G(zl){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(zl).filter(function(Hl){return Object.propertyIsEnumerable.call(zl,Hl)}):[]}function H(zl){return Object.keys(zl).concat(G(zl))}function ce(zl,Hl){try{return Hl in zl}catch{return!1}}function ie(zl,Hl){return ce(zl,Hl)&&!(Object.hasOwnProperty.call(zl,Hl)&&Object.propertyIsEnumerable.call(zl,Hl))}function Et(zl,Hl,Ft){var El={};return Ft.isMergeableObject(zl)&&H(zl).forEach(function(Kl){El[Kl]=w(zl[Kl],Ft)}),H(Hl).forEach(function(Kl){ie(zl,Kl)||(ce(zl,Kl)&&Ft.isMergeableObject(Hl[Kl])?El[Kl]=L(Kl,Ft)(zl[Kl],Hl[Kl],Ft):El[Kl]=w(Hl[Kl],Ft))}),El}function zn(zl,Hl,Ft){Ft=Ft||{},Ft.arrayMerge=Ft.arrayMerge||y,Ft.isMergeableObject=Ft.isMergeableObject||r,Ft.cloneUnlessOtherwiseSpecified=w;var El=Array.isArray(Hl),Kl=Array.isArray(zl),Al=El===Kl;return Al?El?Ft.arrayMerge(zl,Hl,Ft):Et(zl,Hl,Ft):w(Hl,Ft)}zn.all=function(Hl,Ft){if(!Array.isArray(Hl))throw new Error("first argument should be an array");return Hl.reduce(function(El,Kl){return zn(El,Kl,Ft)},{})};var $l=zn;return cjs$2=$l,cjs$2}var cjsExports$1=requireCjs$2();const deepmerge=getDefaultExportFromCjs(cjsExports$1),plotLayoutDefault={title:"Multi Trace Plot with border",hovermode:"closest",uirevision:!0,shapes:[{type:"rect",xref:"paper",yref:"paper",x0:0,y0:0,x1:1,y1:1,line:{color:"black",width:2},layer:"above"}],margin:{l:55,r:10,t:10,b:45},dragmode:"zoom",xaxis:{title:{text:"x-axis",font:{size:18,color:"#212529"}},showgrid:!0,showline:!1,zeroline:!1,ticks:"inside",tickfont:{size:16,color:"#212529"}},yaxis:{title:{text:"y-axis",font:{size:19,color:"#212529"}},showgrid:!0,zeroline:!1,showline:!1,ticks:"inside",color:"#212529",tickfont:{color:"#212529",size:19}},legend:{x:1.01,y:1,xanchor:"left",yanchor:"top",orientation:"v"}},plotBandLayout=deepmerge(plotLayoutDefault,{title:"BSPlot",xaxis:{title:{text:"K-path",font:{size:18,color:"#212529"}},showgrid:!0,showline:!1,zeroline:!1,ticks:"inside",tickfont:{size:16,color:"#212529"}},yaxis:{title:{text:"Energy [eV]",font:{size:19,color:"#212529"}},showgrid:!0,zeroline:!1,showline:!1,ticks:"inside",color:"#212529",tickfont:{color:"#212529",size:19}}}),plotDOSLayout=deepmerge(plotLayoutDefault,{title:"DOSPlot",xaxis:{title:{text:"Energy [eV]",font:{size:18,color:"#212529"}},showgrid:!0,zeroline:!1,ticks:"inside",tickfont:{size:16,color:"#212529"}},yaxis:{title:{text:"Density of States",font:{size:18,color:"#212529"}},showgrid:!0,zeroline:!1,ticks:"inside",tickfont:{size:16,color:"#212529"}}}),plotDOSLayoutF=deepmerge(plotLayoutDefault,{title:"DOSPlot",xaxis:{title:{text:"Density of States",font:{size:18,color:"#212529"}},showgrid:!0,zeroline:!1,ticks:"inside",tickfont:{size:16,color:"#212529"}},yaxis:{title:{text:"Energy [eV]",font:{size:18,color:"#212529"}},showgrid:!0,zeroline:!1,ticks:"inside",tickfont:{size:16,color:"#212529"}}}),plotCombinedLayout={shapes:[{type:"rect",xref:"paper",yref:"paper",x0:0,y0:0,x1:.7,y1:1,line:{color:"black",width:2},layer:"above"},{type:"rect",xref:"paper",yref:"paper",x0:.73,y0:0,x1:1,y1:1,line:{color:"black",width:2},layer:"above"}],grid:{rows:1,columns:2,pattern:"independent"},xaxis:{domain:[0,.7],autorange:!0},xaxis2:{title:{text:"Energy [eV]",font:{size:18}},showgrid:!0,zeroline:!1,ticks:"inside",tickfont:{size:16,color:"#212529"},domain:[.73,1],autorange:!0,showgrid:!0},yaxis:{autorange:!0},margin:{l:60,r:30,b:40,t:40},showlegend:!0,legend:{}},traceDefaultBands={mode:"lines",dash:"solid",line:{color:"rgba(90, 60, 255, 0.85)",width:1},name:"Band Structure"},traceDefaultDos={name:"DOS",legendgroup:"DOS",showlegend:!0,type:"scatter",mode:"lines",dash:"dash",line:{color:"rgba(90, 60, 255, 0.85)",width:2},fill:"toself"};function getBandTraces(r,n,o={}){const l=[];return n.forEach((c,f)=>{l.push({name:o.name,legendgroup:o.name,showlegend:f===0,...traceDefaultBands,...o,x:r,y:c})}),l}function getBandLayout(r=[],n=[]){return deepmerge.all([plotBandLayout,{xaxis:{tickvals:n,ticktext:r},yaxis:{}}])}function getBandStructure(r){const o=getXLabelsfromkpath(r[0].bandsData.path).map(prettifyLabels),l=getXLabelPos(r[0].bandsData.paths),c=getBandLayout(o,l);let f=[];for(const[d,w]of r.entries()){let y=w.traceFormat;(!y||Object.keys(y).length===0)&&(y={name:`Band Structure ${d}`,line:{color:getColor(d),width:1}});const L=w.bandsData,{xs:G,ys:H}=getXYData(L),ce=getBandTraces(G,H,y);f.push(...ce)}return{bandTraces:f,bandLayout:c}}function getDosLayout(r="h"){let n;return r==="v"?n=plotDOSLayoutF:n=plotDOSLayout,n}function getDosTraces(r,n="h",o={}){const l=n==="v"?r.y:r.x,c=n==="v"?r.x:r.y;return{...traceDefaultDos,...o,x:l,y:c}}function getDos(r,n="h"){const o=[];for(const[c,f]of r.entries()){let d=f.traceFormat;(!d||Object.keys(d).length===0)&&(d={name:`DOS ${c}`,line:{color:getColor(c),width:2}});const w=f.dosData,y=getDosTraces(w,n,d);o.push(y)}const l=getDosLayout(n);return{dosTraces:o,dosLayout:l}}function getProjectionTraces(r,n,o,l={},c=1){const f=transpose(o),d=transpose(n),w=[];return d.forEach((y,L)=>{const G=f[L],H=new Float64Array(y.length),ce=new Float64Array(y.length);for(let $l=0;$l<y.length;$l++){const zl=G[$l]*c;H[$l]=y[$l]+zl,ce[$l]=y[$l]-zl}const ie=r.length,Et=new Float32Array(ie*2),zn=new Float32Array(ie*2);for(let $l=0;$l<ie;$l++)Et[$l]=r[$l],zn[$l]=ce[$l],Et[2*ie-1-$l]=r[$l],zn[2*ie-1-$l]=H[$l];w.push({name:l.name,legendgroup:l.name,type:"scatter",mode:"lines",fill:"toself",...l,showlegend:L===0,x:Et,y:zn})}),w}function handleSettings(r,n){for(const o in r)r[o]!==null&&typeof r[o]=="object"&&!Array.isArray(r[o])&&n[o]&&typeof n[o]=="object"&&!Array.isArray(n[o])?n[o]=deepmerge(n[o],r[o]):n[o]=r[o]}function BandsVisualiser(r,{bandsDataArray:n=[],dosDataArray:o=[],fermiLevels:l=[],customTraces:c=[],settings:f={}}){let d=[],w={},y=[],L=[],G={};typeof l=="number"&&(l=[l]);const H=n.length>0,ce=o.length>0;if(H){const $l=getBandStructure(n);d=$l.bandTraces,w=$l.bandLayout;for(const[zl,Hl]of n.entries())if(Hl.hasOwnProperty("projections"))for(const[Ft,El]of Hl.projections.entries()){const Kl=El.traceFormat&&Object.keys(El.traceFormat).length>0?El.traceFormat:{name:`Projection ${Ft}`,line:{color:getColor(Ft),width:0}};y.push(...getProjectionTraces(Hl.bandsData.x,Hl.bandsData.y,El.projData.weights,Kl))}}if(ce){const zl=getDos(o,H?"v":"h");L=zl.dosTraces,G=zl.dosLayout}let ie={},Et=[];if(ce&&!H)Et=L,ie={...G,showlegend:G?.showlegend??!0};else if(H&&!ce)Et=[...d,...y],ie={...w,showlegend:w?.showlegend??!0};else if(ce&&H){L=L.map(zl=>({...zl,xaxis:"x2",yaxis:"y"}));const $l=mergeLegendTracesByName([...y,...L]);Et=[...d,...$l],ie={...plotCombinedLayout,xaxis:{...plotCombinedLayout.xaxis||{},...w?.xaxis||{}},xaxis2:{...plotCombinedLayout.xaxis2||{},...G?.xaxis2||{}},yaxis:{...plotCombinedLayout.yaxis||{},...w?.yaxis||{},...G?.yaxis||{}}}}for(const $l of c)console.log($l),$l.target==="dos"?Et.push({...$l,xaxis:"x2",yaxis:"y"}):$l.target==="bands"?Et.push({...$l,xaxis:"x",yaxis:"y"}):Et.push({...$l});const zn=addfermiLines(l,Et,ce,H);handleSettings(f,ie),Plotly.react(r,zn,ie,{displaylogo:!1,responsive:!0})}function BandStructure({bandsDataArray:r,dosDataArray:n=void 0,customTraces:o=[],minYval:l=null,maxYval:c=null,layoutOverrides:f=null}){const d=reactExports.useRef(null),w=reactExports.useMemo(()=>{const y={...f??{}};return l!=null&&c!=null&&(y.yaxis={...y.yaxis??{},range:[l,c]}),y},[f,l,c]);return l!=null&&c!=null&&(w.yaxis={...w.yaxis??{},range:[l,c]}),reactExports.useEffect(()=>{!d.current||!r||BandsVisualiser(d.current,{bandsDataArray:r,dosDataArray:n,customTraces:o,settings:w})},[r,n,o,w]),r?jsxRuntimeExports.jsx("div",{ref:d,style:{width:"100%",height:"450px"}}):jsxRuntimeExports.jsx("div",{className:"placeholder-wave d-flex align-items-center justify-content-center rounded bg-secondary",style:{height:"450px",width:"100%"},children:jsxRuntimeExports.jsx("span",{children:" Failed to render data for the visualiser "})})}const traceConfigs={electronicEPW:{label:"EPW",colors:["#d62728"],dash:"4px",width:1.75,opacity:1,units:"eV"},electronicQE:{label:"QE",colors:["#6baed6"],dash:"solid",width:2.25,opacity:.95,units:"eV"},phononEPW:{label:"EPW",colors:["#d62728"],dash:"solid",width:1.75,opacity:1,units:"eV",showlegend:!1},unknownEntry:{label:"Unknown Data 1",colors:["#2ca02c","#98df8a"],dash:"dot",units:"eV"}},COMMON_LAYOUT_CONFIG={yaxis:{showgrid:!1,showline:!1,ticks:"inside",tickfont:{size:14,color:"#333"},title:{font:{size:16,color:"#333"},standoff:10}},xaxis:{showgrid:!0,ticks:"inside",tickfont:{size:14,color:"#333"},title:{font:{size:16,color:"#333"}}},legend:{orientation:"v",y:.985,x:.985,xanchor:"right",font:{size:14,color:"#333"},bgcolor:"rgba(250, 250, 250, 1.0)",bordercolor:"#ccc",borderwidth:1},margin:{l:65,r:10,t:0,b:50},shapes:[{type:"rect",xref:"paper",yref:"paper",x0:0,y0:0,x1:1,y1:1,line:{color:"black",width:1.25},layer:"above"}]},SUPERCON_BANDS_LAYOUT_CONFIG={...COMMON_LAYOUT_CONFIG,yaxis:{...COMMON_LAYOUT_CONFIG.yaxis,title:{...COMMON_LAYOUT_CONFIG.yaxis.title,text:"Energy [eV]"}}},SUPERCON_PHONON_A2F_LAYOUT_CONFIG={...COMMON_LAYOUT_CONFIG,margin:{l:65,r:10,t:50,b:50},yaxis:{...COMMON_LAYOUT_CONFIG.yaxis,title:{...COMMON_LAYOUT_CONFIG.yaxis.title,text:"Energy [meV]"},autorange:!1,rangemode:"nonnegative"},yaxis2:{matches:"y",showticklabels:!1,ticks:"inside",showgrid:!1,rangemode:"nonnegative",autorange:!1,zeroline:!1},xaxis:{ticks:"inside",tickfont:{size:14,color:"#333"},title:{text:"q-path",font:{size:16,color:"#333"}}},xaxis2:{...COMMON_LAYOUT_CONFIG.xaxis,title:{...COMMON_LAYOUT_CONFIG.xaxis.title,text:"<sup>2</sup>F()"},showgrid:!1},xaxis3:{overlaying:"x2",side:"top",anchor:"y",title:{text:"()",font:{size:16}},showgrid:!1,tickfont:{size:15,color:"#333"},ticks:"inside",tickmode:"auto"},legend2:{orientation:"v",y:.1,x:.585,xanchor:"right",zorder:-100,opacity:0,bgcolor:"rgba(0, 0, 0, 0)"},shapes:[{type:"rect",xref:"paper",yref:"paper",x0:0,y0:0,x1:.7,y1:1,line:{color:"black",width:1.25},layer:"above"},{type:"rect",xref:"paper",yref:"paper",x0:.73,y0:0,x1:1,y1:1,line:{color:"black",width:1.25},layer:"above"}]};function shiftBands(r,n){r.paths.forEach(o=>{o.values.forEach(l=>{l.forEach((c,f,d)=>{d[f]+=n})})})}function normalizeBandsData(r){const n=r.map(c=>{const f=c.bandsData?.paths;return f?f.reduce((d,w)=>!w.x||w.x.length===0?d:d+(w.x[w.x.length-1]-w.x[0]),0):0}),o=Math.max(...n);return r.map((c,f)=>{const d=c.bandsData?.paths;if(!d)return c;const w=n[f];if(w===0)return c;const y=o/w,L=d.map(G=>!G.x||G.x.length===0?G:{...G,x:G.x.map(H=>H*y)});return{...c,bandsData:{...c.bandsData,paths:L}}})}function prepareSuperConBand(r,n=0,o="unknownEntry"){shiftBands(r,n);let l=traceConfigs[o],c={bandsData:r,traceFormat:{label:`${l.label}`,name:l.label,hovertemplate:`<b>${l.label}</b>: %{y:.3f} ${l.units}<br><extra></extra>`,mode:l.mode,line:{color:l.colors[0],dash:l.dash,width:l.width,opacity:l.opacity}}};return o=="phononEPW"&&(c={bandsData:r,traceFormat:{label:`${l.label}`,name:l.label,hovertemplate:`<b>${l.label}</b>: %{y:.3f} ${l.units}<br><extra></extra>`,mode:l.mode,line:{color:l.colors[0],dash:l.dash,width:l.width,opacity:l.opacity},showlegend:!1}}),c}function useAsyncData(r,n){const[o,l]=reactExports.useState(null),[c,f]=reactExports.useState(!1);return reactExports.useEffect(()=>{let d=!1;async function w(){f(!0);try{const y=await r();d||l(y??null)}catch{d||l(null)}finally{d||f(!1)}}return w(),()=>{d=!0}},n),[o,c]}function safePrepareBands(r,n,o){return!r||typeof n!="number"?null:prepareSuperConBand(r,-n,o)}function SuperConductivity({params:r,loadedData:n}){const o=n?.details?.supercon,l=reactExports.useCallback(async()=>o.aniso_gap_function_uuid?loadXY(`${r.method}-supercon`,o.aniso_gap_function_uuid):null,[r.method]),[c,f]=useAsyncData(l,[l]),d=reactExports.useCallback(async()=>o.a2f_uuid?loadXY(`${r.method}-supercon`,o.a2f_uuid):null,[r.method]),[w]=useAsyncData(d,[d]),y=reactExports.useCallback(async()=>{const ie=`${r.method}-supercon`,[Et,zn,$l]=await Promise.all([o.epw_el_band_structure_uuid?loadAiidaBands(ie,o.epw_el_band_structure_uuid):null,o.qe_el_band_structure_uuid?loadAiidaBands(ie,o.qe_el_band_structure_uuid):null,o.epw_ph_band_structure_uuid?loadAiidaBands(ie,o.epw_ph_band_structure_uuid):null]),zl=safePrepareBands(Et,o.fermi_energy_coarse,"electronicEPW"),Hl=safePrepareBands(zn,o.fermi_energy_coarse,"electronicQE"),Ft=normalizeBandsData([Hl,zl].filter(Boolean)),El=safePrepareBands($l,0,"phononEPW");return{el:Ft,ph:El?[El]:[]}},[r.method]),[L,G]=useAsyncData(y,[y]),H=L?.el??[],ce=L?.ph??[];return o?jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs(Container,{fluid:!0,className:"section-container",children:[jsxRuntimeExports.jsx(SuperconHeader,{params:r,superconData:o}),jsxRuntimeExports.jsxs(Row,{children:[jsxRuntimeExports.jsx(TitledColumn,{width:6,title:"",titleStyle:{marginTop:0},condition:o!=null,children:jsxRuntimeExports.jsx(SuperconInfoBox,{superconData:o,style:{marginTop:0}})}),jsxRuntimeExports.jsxs(TitledColumn,{width:6,title:"Electronic band structure",loading:G,condition:H.length>0,titleStyle:{marginTop:0},children:[jsxRuntimeExports.jsx("div",{style:{marginBottom:10,marginLeft:10},children:"Electronic band structure calculated with Quantum ESPRESSO (QE) and EPW."}),jsxRuntimeExports.jsx(BandStructure,{bandsDataArray:H,loading:G,minYval:-10.4,maxYval:10.8,layoutOverrides:SUPERCON_BANDS_LAYOUT_CONFIG})]})]}),jsxRuntimeExports.jsx(Row,{children:jsxRuntimeExports.jsxs(TitledColumn,{width:12,title:"Phonon bands and electron-phonon interaction",loading:G,condition:ce.length>0&&o.highest_phonon_frequency!=null,children:[jsxRuntimeExports.jsx("div",{style:{marginLeft:10},children:"Phonon band structure calculated with EPW, Eliashberg spectral function [F()], and electron-phonon coupling strength [()]."}),jsxRuntimeExports.jsx(BandStructure,{bandsDataArray:ce,minYval:0,maxYval:o.highest_phonon_frequency!=null?Math.min(o.highest_phonon_frequency+2,100):100,dosDataArray:[{dosData:{x:[0],y:[0]},traceFormat:{name:"",legend:"legend2",showlegend:!1,opacity:0}}],loading:G,layoutOverrides:SUPERCON_PHONON_A2F_LAYOUT_CONFIG,customTraces:getA2FTraces({a2f:w?.a2f,frequency:w?.frequency,degaussq:w?.degaussq,lambda:w?.lambda})})]})}),jsxRuntimeExports.jsx(Row,{children:jsxRuntimeExports.jsx(TitledColumn,{width:9,title:"Anisotropic superconducting gap function",condition:o.aniso_info!=null,loading:f,children:jsxRuntimeExports.jsx(GapFunction,{gapfuncData:c,verts:o.aniso_info?.temps,points:o.aniso_info?.average_deltas,delta0:o.aniso_info?.delta0,Tc:o.aniso_info?.Tc,expo:o.aniso_info?.expo,minXVal:0,maxXVal:null,minYVal:0,maxYVal:null})})})]})}):jsxRuntimeExports.jsx("div",{className:"empty-supercon-div"})}function MissingDataWarning({params:r,navigate:n}){return jsxRuntimeExports.jsx(MaterialsCloudHeader,{activeSection:"discover",breadcrumbsPath:[{name:"Discover",link:"https://www.materialscloud.org/discover"},{name:"Materials Cloud Three-Dimensional Structure Database",link:"/"},{name:`${r.id}/${r.method}`,link:null}],children:jsxRuntimeExports.jsxs(Container,{fluid:"xxl",children:[jsxRuntimeExports.jsx(TitleAndLogo,{}),jsxRuntimeExports.jsxs("div",{style:{textAlign:"center",marginTop:"5rem",marginBottom:"10rem"},children:[jsxRuntimeExports.jsx("div",{style:{color:"red",fontSize:"1.2rem",marginBottom:"2rem"},children:`Warning: Fetching of data failed, suggesting that ${r.id} has not been calculated with ${r.method}`}),jsxRuntimeExports.jsx(Button,{variant:"primary",onClick:()=>n("/"),children:"Return to MC3D homepage"})]})]})})}async function fetchCompoundData(r,n){try{const[o,l]=await Promise.all([loadMetadata(r,n),loadDetails(r,n)]),c=l?.general?.structure_uuid;if(!c)throw new Error("Missing structure UUID");const[f,d]=await Promise.all([loadAiidaAttributes(r,c),loadAiidaCif(r,c)]);return{metadata:o,details:l,structureInfo:{aiidaAttributes:f,cif:d},missingStructureWarning:null}}catch{return{metadata:null,details:null,structureInfo:{aiidaAttributes:null,cif:null},missingStructureWarning:!0}}}function DetailPage(){const[r,n]=reactExports.useState(null),o=useNavigate(),l=useParams();if(reactExports.useEffect(()=>{n(null),fetchCompoundData(l.method,l.id).then(f=>{console.log("Loaded general data",f),n(f)})},[l.id,l.method]),r===null)return jsxRuntimeExports.jsx(MaterialsCloudHeader,{activeSection:"discover",breadcrumbsPath:[{name:"Discover",link:"https://www.materialscloud.org/discover"},{name:"Materials Cloud Three-Dimensional Structure Database",link:"/"},{name:`${l.id}/${l.method}`,link:null}],children:jsxRuntimeExports.jsxs(Container,{fluid:"xxl",children:[jsxRuntimeExports.jsx(TitleAndLogo,{}),jsxRuntimeExports.jsx("div",{style:{width:"150px",padding:"40px",margin:"0 auto"},children:jsxRuntimeExports.jsx(xu,{})})]})});if(r?.missingStructureWarning)return jsxRuntimeExports.jsx(MissingDataWarning,{params:l,navigate:o});const c=formatTitle(r.details.general.formula,l.id,l.method);return jsxRuntimeExports.jsx(MaterialsCloudHeader,{activeSection:"discover",breadcrumbsPath:[{name:"Discover",link:"https://www.materialscloud.org/discover"},{name:"Materials Cloud Three-Dimensional Structure Database",link:"/"},{name:`${l.id}/${l.method}`,link:null}],children:jsxRuntimeExports.jsxs(Container,{fluid:"xxl",children:[jsxRuntimeExports.jsx(TitleAndLogo,{}),jsxRuntimeExports.jsx("div",{className:"detail-page-heading",children:c}),jsxRuntimeExports.jsx(OverviewSection,{params:l,loadedData:r}),jsxRuntimeExports.jsx(StructureSection,{params:l,loadedData:r}),jsxRuntimeExports.jsx(ProvenanceSection,{params:l,loadedData:r}),jsxRuntimeExports.jsx(XrdSection,{params:l,loadedData:r}),jsxRuntimeExports.jsx(SuperConductivity,{params:l,loadedData:r})]})})}function ok$1(){}function unreachable(){}function parse$2(r){const n=[],o=String(r||"");let l=o.indexOf(","),c=0,f=!1;for(;!f;){l===-1&&(l=o.length,f=!0);const d=o.slice(c,l).trim();(d||!f)&&n.push(d),c=l+1,l=o.indexOf(",",c)}return n}function stringify$1(r,n){const o={};return(r[r.length-1]===""?[...r,""]:r).join((o.padRight?" ":"")+","+(o.padLeft===!1?"":" ")).trim()}const nameRe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,nameReJsx=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,emptyOptions$5={};function name(r,n){return(emptyOptions$5.jsx?nameReJsx:nameRe).test(r)}const re=/[ \t\n\f\r]/g;function whitespace(r){return typeof r=="object"?r.type==="text"?empty$1(r.value):!1:empty$1(r)}function empty$1(r){return r.replace(re,"")===""}class Schema{constructor(n,o,l){this.normal=o,this.property=n,l&&(this.space=l)}}Schema.prototype.normal={};Schema.prototype.property={};Schema.prototype.space=void 0;function merge(r,n){const o={},l={};for(const c of r)Object.assign(o,c.property),Object.assign(l,c.normal);return new Schema(o,l,n)}function normalize$1(r){return r.toLowerCase()}class Info{constructor(n,o){this.attribute=o,this.property=n}}Info.prototype.attribute="";Info.prototype.booleanish=!1;Info.prototype.boolean=!1;Info.prototype.commaOrSpaceSeparated=!1;Info.prototype.commaSeparated=!1;Info.prototype.defined=!1;Info.prototype.mustUseProperty=!1;Info.prototype.number=!1;Info.prototype.overloadedBoolean=!1;Info.prototype.property="";Info.prototype.spaceSeparated=!1;Info.prototype.space=void 0;let powers=0;const boolean=increment(),booleanish=increment(),overloadedBoolean=increment(),number=increment(),spaceSeparated=increment(),commaSeparated=increment(),commaOrSpaceSeparated=increment();function increment(){return 2**++powers}const types=Object.freeze(Object.defineProperty({__proto__:null,boolean,booleanish,commaOrSpaceSeparated,commaSeparated,number,overloadedBoolean,spaceSeparated},Symbol.toStringTag,{value:"Module"})),checks=Object.keys(types);class DefinedInfo extends Info{constructor(n,o,l,c){let f=-1;if(super(n,o),mark(this,"space",c),typeof l=="number")for(;++f<checks.length;){const d=checks[f];mark(this,checks[f],(l&types[d])===types[d])}}}DefinedInfo.prototype.defined=!0;function mark(r,n,o){o&&(r[n]=o)}function create(r){const n={},o={};for(const[l,c]of Object.entries(r.properties)){const f=new DefinedInfo(l,r.transform(r.attributes||{},l),c,r.space);r.mustUseProperty&&r.mustUseProperty.includes(l)&&(f.mustUseProperty=!0),n[l]=f,o[normalize$1(l)]=l,o[normalize$1(f.attribute)]=l}return new Schema(n,o,r.space)}const aria=create({properties:{ariaActiveDescendant:null,ariaAtomic:booleanish,ariaAutoComplete:null,ariaBusy:booleanish,ariaChecked:booleanish,ariaColCount:number,ariaColIndex:number,ariaColSpan:number,ariaControls:spaceSeparated,ariaCurrent:null,ariaDescribedBy:spaceSeparated,ariaDetails:null,ariaDisabled:booleanish,ariaDropEffect:spaceSeparated,ariaErrorMessage:null,ariaExpanded:booleanish,ariaFlowTo:spaceSeparated,ariaGrabbed:booleanish,ariaHasPopup:null,ariaHidden:booleanish,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:spaceSeparated,ariaLevel:number,ariaLive:null,ariaModal:booleanish,ariaMultiLine:booleanish,ariaMultiSelectable:booleanish,ariaOrientation:null,ariaOwns:spaceSeparated,ariaPlaceholder:null,ariaPosInSet:number,ariaPressed:booleanish,ariaReadOnly:booleanish,ariaRelevant:null,ariaRequired:booleanish,ariaRoleDescription:spaceSeparated,ariaRowCount:number,ariaRowIndex:number,ariaRowSpan:number,ariaSelected:booleanish,ariaSetSize:number,ariaSort:null,ariaValueMax:number,ariaValueMin:number,ariaValueNow:number,ariaValueText:null,role:null},transform(r,n){return n==="role"?n:"aria-"+n.slice(4).toLowerCase()}});function caseSensitiveTransform(r,n){return n in r?r[n]:n}function caseInsensitiveTransform(r,n){return caseSensitiveTransform(r,n.toLowerCase())}const html$3=create({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:commaSeparated,acceptCharset:spaceSeparated,accessKey:spaceSeparated,action:null,allow:null,allowFullScreen:boolean,allowPaymentRequest:boolean,allowUserMedia:boolean,alt:null,as:null,async:boolean,autoCapitalize:null,autoComplete:spaceSeparated,autoFocus:boolean,autoPlay:boolean,blocking:spaceSeparated,capture:null,charSet:null,checked:boolean,cite:null,className:spaceSeparated,cols:number,colSpan:null,content:null,contentEditable:booleanish,controls:boolean,controlsList:spaceSeparated,coords:number|commaSeparated,crossOrigin:null,data:null,dateTime:null,decoding:null,default:boolean,defer:boolean,dir:null,dirName:null,disabled:boolean,download:overloadedBoolean,draggable:booleanish,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:boolean,formTarget:null,headers:spaceSeparated,height:number,hidden:overloadedBoolean,high:number,href:null,hrefLang:null,htmlFor:spaceSeparated,httpEquiv:spaceSeparated,id:null,imageSizes:null,imageSrcSet:null,inert:boolean,inputMode:null,integrity:null,is:null,isMap:boolean,itemId:null,itemProp:spaceSeparated,itemRef:spaceSeparated,itemScope:boolean,itemType:spaceSeparated,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:boolean,low:number,manifest:null,max:null,maxLength:number,media:null,method:null,min:null,minLength:number,multiple:boolean,muted:boolean,name:null,nonce:null,noModule:boolean,noValidate:boolean,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:boolean,optimum:number,pattern:null,ping:spaceSeparated,placeholder:null,playsInline:boolean,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:boolean,referrerPolicy:null,rel:spaceSeparated,required:boolean,reversed:boolean,rows:number,rowSpan:number,sandbox:spaceSeparated,scope:null,scoped:boolean,seamless:boolean,selected:boolean,shadowRootClonable:boolean,shadowRootDelegatesFocus:boolean,shadowRootMode:null,shape:null,size:number,sizes:null,slot:null,span:number,spellCheck:booleanish,src:null,srcDoc:null,srcLang:null,srcSet:null,start:number,step:null,style:null,tabIndex:number,target:null,title:null,translate:null,type:null,typeMustMatch:boolean,useMap:null,value:booleanish,width:number,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:spaceSeparated,axis:null,background:null,bgColor:null,border:number,borderColor:null,bottomMargin:number,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:boolean,declare:boolean,event:null,face:null,frame:null,frameBorder:null,hSpace:number,leftMargin:number,link:null,longDesc:null,lowSrc:null,marginHeight:number,marginWidth:number,noResize:boolean,noHref:boolean,noShade:boolean,noWrap:boolean,object:null,profile:null,prompt:null,rev:null,rightMargin:number,rules:null,scheme:null,scrolling:booleanish,standby:null,summary:null,text:null,topMargin:number,valueType:null,version:null,vAlign:null,vLink:null,vSpace:number,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:boolean,disableRemotePlayback:boolean,prefix:null,property:null,results:number,security:null,unselectable:null},space:"html",transform:caseInsensitiveTransform}),svg$1=create({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:commaOrSpaceSeparated,accentHeight:number,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:number,amplitude:number,arabicForm:null,ascent:number,attributeName:null,attributeType:null,azimuth:number,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:number,by:null,calcMode:null,capHeight:number,className:spaceSeparated,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:number,diffuseConstant:number,direction:null,display:null,dur:null,divisor:number,dominantBaseline:null,download:boolean,dx:null,dy:null,edgeMode:null,editable:null,elevation:number,enableBackground:null,end:null,event:null,exponent:number,externalResourcesRequired:null,fill:null,fillOpacity:number,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:commaSeparated,g2:commaSeparated,glyphName:commaSeparated,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:number,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:number,horizOriginX:number,horizOriginY:number,id:null,ideographic:number,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:number,k:number,k1:number,k2:number,k3:number,k4:number,kernelMatrix:commaOrSpaceSeparated,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:number,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:number,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:number,overlineThickness:number,paintOrder:null,panose1:null,path:null,pathLength:number,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:spaceSeparated,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:number,pointsAtY:number,pointsAtZ:number,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:commaOrSpaceSeparated,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:commaOrSpaceSeparated,rev:commaOrSpaceSeparated,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:commaOrSpaceSeparated,requiredFeatures:commaOrSpaceSeparated,requiredFonts:commaOrSpaceSeparated,requiredFormats:commaOrSpaceSeparated,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:number,specularExponent:number,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:number,strikethroughThickness:number,string:null,stroke:null,strokeDashArray:commaOrSpaceSeparated,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:number,strokeOpacity:number,strokeWidth:null,style:null,surfaceScale:number,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:commaOrSpaceSeparated,tabIndex:number,tableValues:null,target:null,targetX:number,targetY:number,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:commaOrSpaceSeparated,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:number,underlineThickness:number,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:number,values:null,vAlphabetic:number,vMathematical:number,vectorEffect:null,vHanging:number,vIdeographic:number,version:null,vertAdvY:number,vertOriginX:number,vertOriginY:number,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:number,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:caseSensitiveTransform}),xlink=create({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(r,n){return"xlink:"+n.slice(5).toLowerCase()}}),xmlns=create({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:caseInsensitiveTransform}),xml=create({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(r,n){return"xml:"+n.slice(3).toLowerCase()}}),hastToReact={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},cap$1=/[A-Z]/g,dash=/-[a-z]/g,valid=/^data[-\w.:]+$/i;function find(r,n){const o=normalize$1(n);let l=n,c=Info;if(o in r.normal)return r.property[r.normal[o]];if(o.length>4&&o.slice(0,4)==="data"&&valid.test(n)){if(n.charAt(4)==="-"){const f=n.slice(5).replace(dash,camelcase);l="data"+f.charAt(0).toUpperCase()+f.slice(1)}else{const f=n.slice(4);if(!dash.test(f)){let d=f.replace(cap$1,kebab);d.charAt(0)!=="-"&&(d="-"+d),n="data"+d}}c=DefinedInfo}return new c(l,n)}function kebab(r){return"-"+r.toLowerCase()}function camelcase(r){return r.charAt(1).toUpperCase()}const html$2=merge([aria,html$3,xlink,xmlns,xml],"html"),svg=merge([aria,svg$1,xlink,xmlns,xml],"svg");function parse$1(r){const n=String(r||"").trim();return n?n.split(/[ \t\n\r\f]+/g):[]}function stringify(r){return r.join(" ").trim()}var cjs$1={},inlineStyleParser,hasRequiredInlineStyleParser;function requireInlineStyleParser(){if(hasRequiredInlineStyleParser)return inlineStyleParser;hasRequiredInlineStyleParser=1;var r=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,n=/\n/g,o=/^\s*/,l=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,c=/^:\s*/,f=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,d=/^[;\s]*/,w=/^\s+|\s+$/g,y=`
`,L="/",G="*",H="",ce="comment",ie="declaration";inlineStyleParser=function(zn,$l){if(typeof zn!="string")throw new TypeError("First argument must be a string");if(!zn)return[];$l=$l||{};var zl=1,Hl=1;function Ft(Id){var Bd=Id.match(n);Bd&&(zl+=Bd.length);var Cd=Id.lastIndexOf(y);Hl=~Cd?Id.length-Cd:Hl+Id.length}function El(){var Id={line:zl,column:Hl};return function(Bd){return Bd.position=new Kl(Id),Nl(),Bd}}function Kl(Id){this.start=Id,this.end={line:zl,column:Hl},this.source=$l.source}Kl.prototype.content=zn;function Al(Id){var Bd=new Error($l.source+":"+zl+":"+Hl+": "+Id);if(Bd.reason=Id,Bd.filename=$l.source,Bd.line=zl,Bd.column=Hl,Bd.source=zn,!$l.silent)throw Bd}function vu(Id){var Bd=Id.exec(zn);if(Bd){var Cd=Bd[0];return Ft(Cd),zn=zn.slice(Cd.length),Bd}}function Nl(){vu(o)}function Xu(Id){var Bd;for(Id=Id||[];Bd=Vu();)Bd!==!1&&Id.push(Bd);return Id}function Vu(){var Id=El();if(!(L!=zn.charAt(0)||G!=zn.charAt(1))){for(var Bd=2;H!=zn.charAt(Bd)&&(G!=zn.charAt(Bd)||L!=zn.charAt(Bd+1));)++Bd;if(Bd+=2,H===zn.charAt(Bd-1))return Al("End of comment missing");var Cd=zn.slice(2,Bd-2);return Hl+=2,Ft(Cd),zn=zn.slice(Bd),Hl+=2,Id({type:ce,comment:Cd})}}function Zu(){var Id=El(),Bd=vu(l);if(Bd){if(Vu(),!vu(c))return Al("property missing ':'");var Cd=vu(f),Wl=Id({type:ie,property:Et(Bd[0].replace(r,H)),value:Cd?Et(Cd[0].replace(r,H)):H});return vu(d),Wl}}function Od(){var Id=[];Xu(Id);for(var Bd;Bd=Zu();)Bd!==!1&&(Id.push(Bd),Xu(Id));return Id}return Nl(),Od()};function Et(zn){return zn?zn.replace(w,H):H}return inlineStyleParser}var hasRequiredCjs$1;function requireCjs$1(){if(hasRequiredCjs$1)return cjs$1;hasRequiredCjs$1=1;var r=cjs$1&&cjs$1.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(cjs$1,"__esModule",{value:!0}),cjs$1.default=o;const n=r(requireInlineStyleParser());function o(l,c){let f=null;if(!l||typeof l!="string")return f;const d=(0,n.default)(l),w=typeof c=="function";return d.forEach(y=>{if(y.type!=="declaration")return;const{property:L,value:G}=y;w?c(L,G,y):G&&(f=f||{},f[L]=G)}),f}return cjs$1}var utilities={},hasRequiredUtilities;function requireUtilities(){if(hasRequiredUtilities)return utilities;hasRequiredUtilities=1,Object.defineProperty(utilities,"__esModule",{value:!0}),utilities.camelCase=void 0;var r=/^--[a-zA-Z0-9_-]+$/,n=/-([a-z])/g,o=/^[^-]+$/,l=/^-(webkit|moz|ms|o|khtml)-/,c=/^-(ms)-/,f=function(L){return!L||o.test(L)||r.test(L)},d=function(L,G){return G.toUpperCase()},w=function(L,G){return"".concat(G,"-")},y=function(L,G){return G===void 0&&(G={}),f(L)?L:(L=L.toLowerCase(),G.reactCompat?L=L.replace(c,w):L=L.replace(l,w),L.replace(n,d))};return utilities.camelCase=y,utilities}var cjs,hasRequiredCjs;function requireCjs(){if(hasRequiredCjs)return cjs;hasRequiredCjs=1;var r=cjs&&cjs.__importDefault||function(c){return c&&c.__esModule?c:{default:c}},n=r(requireCjs$1()),o=requireUtilities();function l(c,f){var d={};return!c||typeof c!="string"||(0,n.default)(c,function(w,y){w&&y&&(d[(0,o.camelCase)(w,f)]=y)}),d}return l.default=l,cjs=l,cjs}var cjsExports=requireCjs();const styleToJs=getDefaultExportFromCjs(cjsExports),pointEnd=point$2("end"),pointStart=point$2("start");function point$2(r){return n;function n(o){const l=o&&o.position&&o.position[r]||{};if(typeof l.line=="number"&&l.line>0&&typeof l.column=="number"&&l.column>0)return{line:l.line,column:l.column,offset:typeof l.offset=="number"&&l.offset>-1?l.offset:void 0}}}function position$1(r){const n=pointStart(r),o=pointEnd(r);if(n&&o)return{start:n,end:o}}function stringifyPosition(r){return!r||typeof r!="object"?"":"position"in r||"type"in r?position(r.position):"start"in r||"end"in r?position(r):"line"in r||"column"in r?point$1(r):""}function point$1(r){return index(r&&r.line)+":"+index(r&&r.column)}function position(r){return point$1(r&&r.start)+"-"+point$1(r&&r.end)}function index(r){return r&&typeof r=="number"?r:1}class VFileMessage extends Error{constructor(n,o,l){super(),typeof o=="string"&&(l=o,o=void 0);let c="",f={},d=!1;if(o&&("line"in o&&"column"in o?f={place:o}:"start"in o&&"end"in o?f={place:o}:"type"in o?f={ancestors:[o],place:o.position}:f={...o}),typeof n=="string"?c=n:!f.cause&&n&&(d=!0,c=n.message,f.cause=n),!f.ruleId&&!f.source&&typeof l=="string"){const y=l.indexOf(":");y===-1?f.ruleId=l:(f.source=l.slice(0,y),f.ruleId=l.slice(y+1))}if(!f.place&&f.ancestors&&f.ancestors){const y=f.ancestors[f.ancestors.length-1];y&&(f.place=y.position)}const w=f.place&&"start"in f.place?f.place.start:f.place;this.ancestors=f.ancestors||void 0,this.cause=f.cause||void 0,this.column=w?w.column:void 0,this.fatal=void 0,this.file="",this.message=c,this.line=w?w.line:void 0,this.name=stringifyPosition(f.place)||"1:1",this.place=f.place||void 0,this.reason=this.message,this.ruleId=f.ruleId||void 0,this.source=f.source||void 0,this.stack=d&&f.cause&&typeof f.cause.stack=="string"?f.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}VFileMessage.prototype.file="";VFileMessage.prototype.name="";VFileMessage.prototype.reason="";VFileMessage.prototype.message="";VFileMessage.prototype.stack="";VFileMessage.prototype.column=void 0;VFileMessage.prototype.line=void 0;VFileMessage.prototype.ancestors=void 0;VFileMessage.prototype.cause=void 0;VFileMessage.prototype.fatal=void 0;VFileMessage.prototype.place=void 0;VFileMessage.prototype.ruleId=void 0;VFileMessage.prototype.source=void 0;const own$3={}.hasOwnProperty,emptyMap=new Map,cap=/[A-Z]/g,tableElements=new Set(["table","tbody","thead","tfoot","tr"]),tableCellElement=new Set(["td","th"]),docs="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function toJsxRuntime(r,n){if(!n||n.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const o=n.filePath||void 0;let l;if(n.development){if(typeof n.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");l=developmentCreate(o,n.jsxDEV)}else{if(typeof n.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof n.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");l=productionCreate(o,n.jsx,n.jsxs)}const c={Fragment:n.Fragment,ancestors:[],components:n.components||{},create:l,elementAttributeNameCase:n.elementAttributeNameCase||"react",evaluater:n.createEvaluater?n.createEvaluater():void 0,filePath:o,ignoreInvalidStyle:n.ignoreInvalidStyle||!1,passKeys:n.passKeys!==!1,passNode:n.passNode||!1,schema:n.space==="svg"?svg:html$2,stylePropertyNameCase:n.stylePropertyNameCase||"dom",tableCellAlignToStyle:n.tableCellAlignToStyle!==!1},f=one$2(c,r,void 0);return f&&typeof f!="string"?f:c.create(r,c.Fragment,{children:f||void 0},void 0)}function one$2(r,n,o){if(n.type==="element")return element$3(r,n,o);if(n.type==="mdxFlowExpression"||n.type==="mdxTextExpression")return mdxExpression(r,n);if(n.type==="mdxJsxFlowElement"||n.type==="mdxJsxTextElement")return mdxJsxElement(r,n,o);if(n.type==="mdxjsEsm")return mdxEsm(r,n);if(n.type==="root")return root$3(r,n,o);if(n.type==="text")return text$7(r,n)}function element$3(r,n,o){const l=r.schema;let c=l;n.tagName.toLowerCase()==="svg"&&l.space==="html"&&(c=svg,r.schema=c),r.ancestors.push(n);const f=findComponentFromName(r,n.tagName,!1),d=createElementProps(r,n);let w=createChildren(r,n);return tableElements.has(n.tagName)&&(w=w.filter(function(y){return typeof y=="string"?!whitespace(y):!0})),addNode(r,d,f,n),addChildren(d,w),r.ancestors.pop(),r.schema=l,r.create(n,f,d,o)}function mdxExpression(r,n){if(n.data&&n.data.estree&&r.evaluater){const l=n.data.estree.body[0];return l.type,r.evaluater.evaluateExpression(l.expression)}crashEstree(r,n.position)}function mdxEsm(r,n){if(n.data&&n.data.estree&&r.evaluater)return r.evaluater.evaluateProgram(n.data.estree);crashEstree(r,n.position)}function mdxJsxElement(r,n,o){const l=r.schema;let c=l;n.name==="svg"&&l.space==="html"&&(c=svg,r.schema=c),r.ancestors.push(n);const f=n.name===null?r.Fragment:findComponentFromName(r,n.name,!0),d=createJsxElementProps(r,n),w=createChildren(r,n);return addNode(r,d,f,n),addChildren(d,w),r.ancestors.pop(),r.schema=l,r.create(n,f,d,o)}function root$3(r,n,o){const l={};return addChildren(l,createChildren(r,n)),r.create(n,r.Fragment,l,o)}function text$7(r,n){return n.value}function addNode(r,n,o,l){typeof o!="string"&&o!==r.Fragment&&r.passNode&&(n.node=l)}function addChildren(r,n){if(n.length>0){const o=n.length>1?n:n[0];o&&(r.children=o)}}function productionCreate(r,n,o){return l;function l(c,f,d,w){const L=Array.isArray(d.children)?o:n;return w?L(f,d,w):L(f,d)}}function developmentCreate(r,n){return o;function o(l,c,f,d){const w=Array.isArray(f.children),y=pointStart(l);return n(c,f,d,w,{columnNumber:y?y.column-1:void 0,fileName:r,lineNumber:y?y.line:void 0},void 0)}}function createElementProps(r,n){const o={};let l,c;for(c in n.properties)if(c!=="children"&&own$3.call(n.properties,c)){const f=createProperty(r,c,n.properties[c]);if(f){const[d,w]=f;r.tableCellAlignToStyle&&d==="align"&&typeof w=="string"&&tableCellElement.has(n.tagName)?l=w:o[d]=w}}if(l){const f=o.style||(o.style={});f[r.stylePropertyNameCase==="css"?"text-align":"textAlign"]=l}return o}function createJsxElementProps(r,n){const o={};for(const l of n.attributes)if(l.type==="mdxJsxExpressionAttribute")if(l.data&&l.data.estree&&r.evaluater){const f=l.data.estree.body[0];f.type;const d=f.expression;d.type;const w=d.properties[0];w.type,Object.assign(o,r.evaluater.evaluateExpression(w.argument))}else crashEstree(r,n.position);else{const c=l.name;let f;if(l.value&&typeof l.value=="object")if(l.value.data&&l.value.data.estree&&r.evaluater){const w=l.value.data.estree.body[0];w.type,f=r.evaluater.evaluateExpression(w.expression)}else crashEstree(r,n.position);else f=l.value===null?!0:l.value;o[c]=f}return o}function createChildren(r,n){const o=[];let l=-1;const c=r.passKeys?new Map:emptyMap;for(;++l<n.children.length;){const f=n.children[l];let d;if(r.passKeys){const y=f.type==="element"?f.tagName:f.type==="mdxJsxFlowElement"||f.type==="mdxJsxTextElement"?f.name:void 0;if(y){const L=c.get(y)||0;d=y+"-"+L,c.set(y,L+1)}}const w=one$2(r,f,d);w!==void 0&&o.push(w)}return o}function createProperty(r,n,o){const l=find(r.schema,n);if(!(o==null||typeof o=="number"&&Number.isNaN(o))){if(Array.isArray(o)&&(o=l.commaSeparated?stringify$1(o):stringify(o)),l.property==="style"){let c=typeof o=="object"?o:parseStyle(r,String(o));return r.stylePropertyNameCase==="css"&&(c=transformStylesToCssCasing(c)),["style",c]}return[r.elementAttributeNameCase==="react"&&l.space?hastToReact[l.property]||l.property:l.attribute,o]}}function parseStyle(r,n){try{return styleToJs(n,{reactCompat:!0})}catch(o){if(r.ignoreInvalidStyle)return{};const l=o,c=new VFileMessage("Cannot parse `style` attribute",{ancestors:r.ancestors,cause:l,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw c.file=r.filePath||void 0,c.url=docs+"#cannot-parse-style-attribute",c}}function findComponentFromName(r,n,o){let l;if(!o)l={type:"Literal",value:n};else if(n.includes(".")){const c=n.split(".");let f=-1,d;for(;++f<c.length;){const w=name(c[f])?{type:"Identifier",name:c[f]}:{type:"Literal",value:c[f]};d=d?{type:"MemberExpression",object:d,property:w,computed:!!(f&&w.type==="Literal"),optional:!1}:w}l=d}else l=name(n)&&!/^[a-z]/.test(n)?{type:"Identifier",name:n}:{type:"Literal",value:n};if(l.type==="Literal"){const c=l.value;return own$3.call(r.components,c)?r.components[c]:c}if(r.evaluater)return r.evaluater.evaluateExpression(l);crashEstree(r)}function crashEstree(r,n){const o=new VFileMessage("Cannot handle MDX estrees without `createEvaluater`",{ancestors:r.ancestors,place:n,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw o.file=r.filePath||void 0,o.url=docs+"#cannot-handle-mdx-estrees-without-createevaluater",o}function transformStylesToCssCasing(r){const n={};let o;for(o in r)own$3.call(r,o)&&(n[transformStyleToCssCasing(o)]=r[o]);return n}function transformStyleToCssCasing(r){let n=r.replace(cap,toDash);return n.slice(0,3)==="ms-"&&(n="-"+n),n}function toDash(r){return"-"+r.toLowerCase()}const urlAttributes={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},emptyOptions$4={};function toString$1(r,n){const o=emptyOptions$4,l=typeof o.includeImageAlt=="boolean"?o.includeImageAlt:!0,c=typeof o.includeHtml=="boolean"?o.includeHtml:!0;return one$1(r,l,c)}function one$1(r,n,o){if(node(r)){if("value"in r)return r.type==="html"&&!o?"":r.value;if(n&&"alt"in r&&r.alt)return r.alt;if("children"in r)return all$1(r.children,n,o)}return Array.isArray(r)?all$1(r,n,o):""}function all$1(r,n,o){const l=[];let c=-1;for(;++c<r.length;)l[c]=one$1(r[c],n,o);return l.join("")}function node(r){return!!(r&&typeof r=="object")}const element$2=document.createElement("i");function decodeNamedCharacterReference(r){const n="&"+r+";";element$2.innerHTML=n;const o=element$2.textContent;return o.charCodeAt(o.length-1)===59&&r!=="semi"||o===n?!1:o}function splice$1(r,n,o,l){const c=r.length;let f=0,d;if(n<0?n=-n>c?0:c+n:n=n>c?c:n,o=o>0?o:0,l.length<1e4)d=Array.from(l),d.unshift(n,o),r.splice(...d);else for(o&&r.splice(n,o);f<l.length;)d=l.slice(f,f+1e4),d.unshift(n,0),r.splice(...d),f+=1e4,n+=1e4}function push(r,n){return r.length>0?(splice$1(r,r.length,0,n),r):n}const hasOwnProperty={}.hasOwnProperty;function combineExtensions(r){const n={};let o=-1;for(;++o<r.length;)syntaxExtension(n,r[o]);return n}function syntaxExtension(r,n){let o;for(o in n){const c=(hasOwnProperty.call(r,o)?r[o]:void 0)||(r[o]={}),f=n[o];let d;if(f)for(d in f){hasOwnProperty.call(c,d)||(c[d]=[]);const w=f[d];constructs(c[d],Array.isArray(w)?w:w?[w]:[])}}}function constructs(r,n){let o=-1;const l=[];for(;++o<n.length;)(n[o].add==="after"?r:l).push(n[o]);splice$1(r,0,0,l)}function decodeNumericCharacterReference$1(r,n){const o=Number.parseInt(r,n);return o<9||o===11||o>13&&o<32||o>126&&o<160||o>55295&&o<57344||o>64975&&o<65008||(o&65535)===65535||(o&65535)===65534||o>1114111?"":String.fromCodePoint(o)}function normalizeIdentifier$2(r){return r.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const asciiAlpha=regexCheck(/[A-Za-z]/),asciiAlphanumeric=regexCheck(/[\dA-Za-z]/),asciiAtext=regexCheck(/[#-'*+\--9=?A-Z^-~]/);function asciiControl(r){return r!==null&&(r<32||r===127)}const asciiDigit=regexCheck(/\d/),asciiHexDigit=regexCheck(/[\dA-Fa-f]/),asciiPunctuation=regexCheck(/[!-/:-@[-`{-~]/);function markdownLineEnding$1(r){return r!==null&&r<-2}function markdownLineEndingOrSpace$1(r){return r!==null&&(r<0||r===32)}function markdownSpace$1(r){return r===-2||r===-1||r===32}const unicodePunctuation=regexCheck(new RegExp("\\p{P}|\\p{S}","u")),unicodeWhitespace=regexCheck(/\s/);function regexCheck(r){return n;function n(o){return o!==null&&o>-1&&r.test(String.fromCharCode(o))}}function normalizeUri(r){const n=[];let o=-1,l=0,c=0;for(;++o<r.length;){const f=r.charCodeAt(o);let d="";if(f===37&&asciiAlphanumeric(r.charCodeAt(o+1))&&asciiAlphanumeric(r.charCodeAt(o+2)))c=2;else if(f<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(f))||(d=String.fromCharCode(f));else if(f>55295&&f<57344){const w=r.charCodeAt(o+1);f<56320&&w>56319&&w<57344?(d=String.fromCharCode(f,w),c=1):d=""}else d=String.fromCharCode(f);d&&(n.push(r.slice(l,o),encodeURIComponent(d)),l=o+c+1,d=""),c&&(o+=c,c=0)}return n.join("")+r.slice(l)}function factorySpace$1(r,n,o,l){const c=l?l-1:Number.POSITIVE_INFINITY;let f=0;return d;function d(y){return markdownSpace$1(y)?(r.enter(o),w(y)):n(y)}function w(y){return markdownSpace$1(y)&&f++<c?(r.consume(y),w):(r.exit(o),n(y))}}const content$1={tokenize:initializeContent};function initializeContent(r){const n=r.attempt(this.parser.constructs.contentInitial,l,c);let o;return n;function l(w){if(w===null){r.consume(w);return}return r.enter("lineEnding"),r.consume(w),r.exit("lineEnding"),factorySpace$1(r,n,"linePrefix")}function c(w){return r.enter("paragraph"),f(w)}function f(w){const y=r.enter("chunkText",{contentType:"text",previous:o});return o&&(o.next=y),o=y,d(w)}function d(w){if(w===null){r.exit("chunkText"),r.exit("paragraph"),r.consume(w);return}return markdownLineEnding$1(w)?(r.consume(w),r.exit("chunkText"),f):(r.consume(w),d)}}const document$2={tokenize:initializeDocument},containerConstruct={tokenize:tokenizeContainer};function initializeDocument(r){const n=this,o=[];let l=0,c,f,d;return w;function w(Ft){if(l<o.length){const El=o[l];return n.containerState=El[1],r.attempt(El[0].continuation,y,L)(Ft)}return L(Ft)}function y(Ft){if(l++,n.containerState._closeFlow){n.containerState._closeFlow=void 0,c&&Hl();const El=n.events.length;let Kl=El,Al;for(;Kl--;)if(n.events[Kl][0]==="exit"&&n.events[Kl][1].type==="chunkFlow"){Al=n.events[Kl][1].end;break}zl(l);let vu=El;for(;vu<n.events.length;)n.events[vu][1].end={...Al},vu++;return splice$1(n.events,Kl+1,0,n.events.slice(El)),n.events.length=vu,L(Ft)}return w(Ft)}function L(Ft){if(l===o.length){if(!c)return ce(Ft);if(c.currentConstruct&&c.currentConstruct.concrete)return Et(Ft);n.interrupt=!!(c.currentConstruct&&!c._gfmTableDynamicInterruptHack)}return n.containerState={},r.check(containerConstruct,G,H)(Ft)}function G(Ft){return c&&Hl(),zl(l),ce(Ft)}function H(Ft){return n.parser.lazy[n.now().line]=l!==o.length,d=n.now().offset,Et(Ft)}function ce(Ft){return n.containerState={},r.attempt(containerConstruct,ie,Et)(Ft)}function ie(Ft){return l++,o.push([n.currentConstruct,n.containerState]),ce(Ft)}function Et(Ft){if(Ft===null){c&&Hl(),zl(0),r.consume(Ft);return}return c=c||n.parser.flow(n.now()),r.enter("chunkFlow",{_tokenizer:c,contentType:"flow",previous:f}),zn(Ft)}function zn(Ft){if(Ft===null){$l(r.exit("chunkFlow"),!0),zl(0),r.consume(Ft);return}return markdownLineEnding$1(Ft)?(r.consume(Ft),$l(r.exit("chunkFlow")),l=0,n.interrupt=void 0,w):(r.consume(Ft),zn)}function $l(Ft,El){const Kl=n.sliceStream(Ft);if(El&&Kl.push(null),Ft.previous=f,f&&(f.next=Ft),f=Ft,c.defineSkip(Ft.start),c.write(Kl),n.parser.lazy[Ft.start.line]){let Al=c.events.length;for(;Al--;)if(c.events[Al][1].start.offset<d&&(!c.events[Al][1].end||c.events[Al][1].end.offset>d))return;const vu=n.events.length;let Nl=vu,Xu,Vu;for(;Nl--;)if(n.events[Nl][0]==="exit"&&n.events[Nl][1].type==="chunkFlow"){if(Xu){Vu=n.events[Nl][1].end;break}Xu=!0}for(zl(l),Al=vu;Al<n.events.length;)n.events[Al][1].end={...Vu},Al++;splice$1(n.events,Nl+1,0,n.events.slice(vu)),n.events.length=Al}}function zl(Ft){let El=o.length;for(;El-- >Ft;){const Kl=o[El];n.containerState=Kl[1],Kl[0].exit.call(n,r)}o.length=Ft}function Hl(){c.write([null]),f=void 0,c=void 0,n.containerState._closeFlow=void 0}}function tokenizeContainer(r,n,o){return factorySpace$1(r,r.attempt(this.parser.constructs.document,n,o),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function classifyCharacter(r){if(r===null||markdownLineEndingOrSpace$1(r)||unicodeWhitespace(r))return 1;if(unicodePunctuation(r))return 2}function resolveAll$1(r,n,o){const l=[];let c=-1;for(;++c<r.length;){const f=r[c].resolveAll;f&&!l.includes(f)&&(n=f(n,o),l.push(f))}return n}const attention={name:"attention",resolveAll:resolveAllAttention,tokenize:tokenizeAttention};function resolveAllAttention(r,n){let o=-1,l,c,f,d,w,y,L,G;for(;++o<r.length;)if(r[o][0]==="enter"&&r[o][1].type==="attentionSequence"&&r[o][1]._close){for(l=o;l--;)if(r[l][0]==="exit"&&r[l][1].type==="attentionSequence"&&r[l][1]._open&&n.sliceSerialize(r[l][1]).charCodeAt(0)===n.sliceSerialize(r[o][1]).charCodeAt(0)){if((r[l][1]._close||r[o][1]._open)&&(r[o][1].end.offset-r[o][1].start.offset)%3&&!((r[l][1].end.offset-r[l][1].start.offset+r[o][1].end.offset-r[o][1].start.offset)%3))continue;y=r[l][1].end.offset-r[l][1].start.offset>1&&r[o][1].end.offset-r[o][1].start.offset>1?2:1;const H={...r[l][1].end},ce={...r[o][1].start};movePoint(H,-y),movePoint(ce,y),d={type:y>1?"strongSequence":"emphasisSequence",start:H,end:{...r[l][1].end}},w={type:y>1?"strongSequence":"emphasisSequence",start:{...r[o][1].start},end:ce},f={type:y>1?"strongText":"emphasisText",start:{...r[l][1].end},end:{...r[o][1].start}},c={type:y>1?"strong":"emphasis",start:{...d.start},end:{...w.end}},r[l][1].end={...d.start},r[o][1].start={...w.end},L=[],r[l][1].end.offset-r[l][1].start.offset&&(L=push(L,[["enter",r[l][1],n],["exit",r[l][1],n]])),L=push(L,[["enter",c,n],["enter",d,n],["exit",d,n],["enter",f,n]]),L=push(L,resolveAll$1(n.parser.constructs.insideSpan.null,r.slice(l+1,o),n)),L=push(L,[["exit",f,n],["enter",w,n],["exit",w,n],["exit",c,n]]),r[o][1].end.offset-r[o][1].start.offset?(G=2,L=push(L,[["enter",r[o][1],n],["exit",r[o][1],n]])):G=0,splice$1(r,l-1,o-l+3,L),o=l+L.length-G-2;break}}for(o=-1;++o<r.length;)r[o][1].type==="attentionSequence"&&(r[o][1].type="data");return r}function tokenizeAttention(r,n){const o=this.parser.constructs.attentionMarkers.null,l=this.previous,c=classifyCharacter(l);let f;return d;function d(y){return f=y,r.enter("attentionSequence"),w(y)}function w(y){if(y===f)return r.consume(y),w;const L=r.exit("attentionSequence"),G=classifyCharacter(y),H=!G||G===2&&c||o.includes(y),ce=!c||c===2&&G||o.includes(l);return L._open=!!(f===42?H:H&&(c||!ce)),L._close=!!(f===42?ce:ce&&(G||!H)),n(y)}}function movePoint(r,n){r.column+=n,r.offset+=n,r._bufferIndex+=n}const autolink={name:"autolink",tokenize:tokenizeAutolink};function tokenizeAutolink(r,n,o){let l=0;return c;function c(ie){return r.enter("autolink"),r.enter("autolinkMarker"),r.consume(ie),r.exit("autolinkMarker"),r.enter("autolinkProtocol"),f}function f(ie){return asciiAlpha(ie)?(r.consume(ie),d):ie===64?o(ie):L(ie)}function d(ie){return ie===43||ie===45||ie===46||asciiAlphanumeric(ie)?(l=1,w(ie)):L(ie)}function w(ie){return ie===58?(r.consume(ie),l=0,y):(ie===43||ie===45||ie===46||asciiAlphanumeric(ie))&&l++<32?(r.consume(ie),w):(l=0,L(ie))}function y(ie){return ie===62?(r.exit("autolinkProtocol"),r.enter("autolinkMarker"),r.consume(ie),r.exit("autolinkMarker"),r.exit("autolink"),n):ie===null||ie===32||ie===60||asciiControl(ie)?o(ie):(r.consume(ie),y)}function L(ie){return ie===64?(r.consume(ie),G):asciiAtext(ie)?(r.consume(ie),L):o(ie)}function G(ie){return asciiAlphanumeric(ie)?H(ie):o(ie)}function H(ie){return ie===46?(r.consume(ie),l=0,G):ie===62?(r.exit("autolinkProtocol").type="autolinkEmail",r.enter("autolinkMarker"),r.consume(ie),r.exit("autolinkMarker"),r.exit("autolink"),n):ce(ie)}function ce(ie){if((ie===45||asciiAlphanumeric(ie))&&l++<63){const Et=ie===45?ce:H;return r.consume(ie),Et}return o(ie)}}const blankLine$1={partial:!0,tokenize:tokenizeBlankLine$1};function tokenizeBlankLine$1(r,n,o){return l;function l(f){return markdownSpace$1(f)?factorySpace$1(r,c,"linePrefix")(f):c(f)}function c(f){return f===null||markdownLineEnding$1(f)?n(f):o(f)}}const blockQuote={continuation:{tokenize:tokenizeBlockQuoteContinuation},exit:exit$1,name:"blockQuote",tokenize:tokenizeBlockQuoteStart};function tokenizeBlockQuoteStart(r,n,o){const l=this;return c;function c(d){if(d===62){const w=l.containerState;return w.open||(r.enter("blockQuote",{_container:!0}),w.open=!0),r.enter("blockQuotePrefix"),r.enter("blockQuoteMarker"),r.consume(d),r.exit("blockQuoteMarker"),f}return o(d)}function f(d){return markdownSpace$1(d)?(r.enter("blockQuotePrefixWhitespace"),r.consume(d),r.exit("blockQuotePrefixWhitespace"),r.exit("blockQuotePrefix"),n):(r.exit("blockQuotePrefix"),n(d))}}function tokenizeBlockQuoteContinuation(r,n,o){const l=this;return c;function c(d){return markdownSpace$1(d)?factorySpace$1(r,f,"linePrefix",l.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(d):f(d)}function f(d){return r.attempt(blockQuote,n,o)(d)}}function exit$1(r){r.exit("blockQuote")}const characterEscape={name:"characterEscape",tokenize:tokenizeCharacterEscape};function tokenizeCharacterEscape(r,n,o){return l;function l(f){return r.enter("characterEscape"),r.enter("escapeMarker"),r.consume(f),r.exit("escapeMarker"),c}function c(f){return asciiPunctuation(f)?(r.enter("characterEscapeValue"),r.consume(f),r.exit("characterEscapeValue"),r.exit("characterEscape"),n):o(f)}}const characterReference={name:"characterReference",tokenize:tokenizeCharacterReference};function tokenizeCharacterReference(r,n,o){const l=this;let c=0,f,d;return w;function w(H){return r.enter("characterReference"),r.enter("characterReferenceMarker"),r.consume(H),r.exit("characterReferenceMarker"),y}function y(H){return H===35?(r.enter("characterReferenceMarkerNumeric"),r.consume(H),r.exit("characterReferenceMarkerNumeric"),L):(r.enter("characterReferenceValue"),f=31,d=asciiAlphanumeric,G(H))}function L(H){return H===88||H===120?(r.enter("characterReferenceMarkerHexadecimal"),r.consume(H),r.exit("characterReferenceMarkerHexadecimal"),r.enter("characterReferenceValue"),f=6,d=asciiHexDigit,G):(r.enter("characterReferenceValue"),f=7,d=asciiDigit,G(H))}function G(H){if(H===59&&c){const ce=r.exit("characterReferenceValue");return d===asciiAlphanumeric&&!decodeNamedCharacterReference(l.sliceSerialize(ce))?o(H):(r.enter("characterReferenceMarker"),r.consume(H),r.exit("characterReferenceMarker"),r.exit("characterReference"),n)}return d(H)&&c++<f?(r.consume(H),G):o(H)}}const nonLazyContinuation$1={partial:!0,tokenize:tokenizeNonLazyContinuation$1},codeFenced={concrete:!0,name:"codeFenced",tokenize:tokenizeCodeFenced};function tokenizeCodeFenced(r,n,o){const l=this,c={partial:!0,tokenize:Kl};let f=0,d=0,w;return y;function y(Al){return L(Al)}function L(Al){const vu=l.events[l.events.length-1];return f=vu&&vu[1].type==="linePrefix"?vu[2].sliceSerialize(vu[1],!0).length:0,w=Al,r.enter("codeFenced"),r.enter("codeFencedFence"),r.enter("codeFencedFenceSequence"),G(Al)}function G(Al){return Al===w?(d++,r.consume(Al),G):d<3?o(Al):(r.exit("codeFencedFenceSequence"),markdownSpace$1(Al)?factorySpace$1(r,H,"whitespace")(Al):H(Al))}function H(Al){return Al===null||markdownLineEnding$1(Al)?(r.exit("codeFencedFence"),l.interrupt?n(Al):r.check(nonLazyContinuation$1,zn,El)(Al)):(r.enter("codeFencedFenceInfo"),r.enter("chunkString",{contentType:"string"}),ce(Al))}function ce(Al){return Al===null||markdownLineEnding$1(Al)?(r.exit("chunkString"),r.exit("codeFencedFenceInfo"),H(Al)):markdownSpace$1(Al)?(r.exit("chunkString"),r.exit("codeFencedFenceInfo"),factorySpace$1(r,ie,"whitespace")(Al)):Al===96&&Al===w?o(Al):(r.consume(Al),ce)}function ie(Al){return Al===null||markdownLineEnding$1(Al)?H(Al):(r.enter("codeFencedFenceMeta"),r.enter("chunkString",{contentType:"string"}),Et(Al))}function Et(Al){return Al===null||markdownLineEnding$1(Al)?(r.exit("chunkString"),r.exit("codeFencedFenceMeta"),H(Al)):Al===96&&Al===w?o(Al):(r.consume(Al),Et)}function zn(Al){return r.attempt(c,El,$l)(Al)}function $l(Al){return r.enter("lineEnding"),r.consume(Al),r.exit("lineEnding"),zl}function zl(Al){return f>0&&markdownSpace$1(Al)?factorySpace$1(r,Hl,"linePrefix",f+1)(Al):Hl(Al)}function Hl(Al){return Al===null||markdownLineEnding$1(Al)?r.check(nonLazyContinuation$1,zn,El)(Al):(r.enter("codeFlowValue"),Ft(Al))}function Ft(Al){return Al===null||markdownLineEnding$1(Al)?(r.exit("codeFlowValue"),Hl(Al)):(r.consume(Al),Ft)}function El(Al){return r.exit("codeFenced"),n(Al)}function Kl(Al,vu,Nl){let Xu=0;return Vu;function Vu(Cd){return Al.enter("lineEnding"),Al.consume(Cd),Al.exit("lineEnding"),Zu}function Zu(Cd){return Al.enter("codeFencedFence"),markdownSpace$1(Cd)?factorySpace$1(Al,Od,"linePrefix",l.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Cd):Od(Cd)}function Od(Cd){return Cd===w?(Al.enter("codeFencedFenceSequence"),Id(Cd)):Nl(Cd)}function Id(Cd){return Cd===w?(Xu++,Al.consume(Cd),Id):Xu>=d?(Al.exit("codeFencedFenceSequence"),markdownSpace$1(Cd)?factorySpace$1(Al,Bd,"whitespace")(Cd):Bd(Cd)):Nl(Cd)}function Bd(Cd){return Cd===null||markdownLineEnding$1(Cd)?(Al.exit("codeFencedFence"),vu(Cd)):Nl(Cd)}}}function tokenizeNonLazyContinuation$1(r,n,o){const l=this;return c;function c(d){return d===null?o(d):(r.enter("lineEnding"),r.consume(d),r.exit("lineEnding"),f)}function f(d){return l.parser.lazy[l.now().line]?o(d):n(d)}}const codeIndented={name:"codeIndented",tokenize:tokenizeCodeIndented},furtherStart={partial:!0,tokenize:tokenizeFurtherStart};function tokenizeCodeIndented(r,n,o){const l=this;return c;function c(L){return r.enter("codeIndented"),factorySpace$1(r,f,"linePrefix",5)(L)}function f(L){const G=l.events[l.events.length-1];return G&&G[1].type==="linePrefix"&&G[2].sliceSerialize(G[1],!0).length>=4?d(L):o(L)}function d(L){return L===null?y(L):markdownLineEnding$1(L)?r.attempt(furtherStart,d,y)(L):(r.enter("codeFlowValue"),w(L))}function w(L){return L===null||markdownLineEnding$1(L)?(r.exit("codeFlowValue"),d(L)):(r.consume(L),w)}function y(L){return r.exit("codeIndented"),n(L)}}function tokenizeFurtherStart(r,n,o){const l=this;return c;function c(d){return l.parser.lazy[l.now().line]?o(d):markdownLineEnding$1(d)?(r.enter("lineEnding"),r.consume(d),r.exit("lineEnding"),c):factorySpace$1(r,f,"linePrefix",5)(d)}function f(d){const w=l.events[l.events.length-1];return w&&w[1].type==="linePrefix"&&w[2].sliceSerialize(w[1],!0).length>=4?n(d):markdownLineEnding$1(d)?c(d):o(d)}}const codeText={name:"codeText",previous:previous$2,resolve:resolveCodeText,tokenize:tokenizeCodeText};function resolveCodeText(r){let n=r.length-4,o=3,l,c;if((r[o][1].type==="lineEnding"||r[o][1].type==="space")&&(r[n][1].type==="lineEnding"||r[n][1].type==="space")){for(l=o;++l<n;)if(r[l][1].type==="codeTextData"){r[o][1].type="codeTextPadding",r[n][1].type="codeTextPadding",o+=2,n-=2;break}}for(l=o-1,n++;++l<=n;)c===void 0?l!==n&&r[l][1].type!=="lineEnding"&&(c=l):(l===n||r[l][1].type==="lineEnding")&&(r[c][1].type="codeTextData",l!==c+2&&(r[c][1].end=r[l-1][1].end,r.splice(c+2,l-c-2),n-=l-c-2,l=c+2),c=void 0);return r}function previous$2(r){return r!==96||this.events[this.events.length-1][1].type==="characterEscape"}function tokenizeCodeText(r,n,o){let l=0,c,f;return d;function d(H){return r.enter("codeText"),r.enter("codeTextSequence"),w(H)}function w(H){return H===96?(r.consume(H),l++,w):(r.exit("codeTextSequence"),y(H))}function y(H){return H===null?o(H):H===32?(r.enter("space"),r.consume(H),r.exit("space"),y):H===96?(f=r.enter("codeTextSequence"),c=0,G(H)):markdownLineEnding$1(H)?(r.enter("lineEnding"),r.consume(H),r.exit("lineEnding"),y):(r.enter("codeTextData"),L(H))}function L(H){return H===null||H===32||H===96||markdownLineEnding$1(H)?(r.exit("codeTextData"),y(H)):(r.consume(H),L)}function G(H){return H===96?(r.consume(H),c++,G):c===l?(r.exit("codeTextSequence"),r.exit("codeText"),n(H)):(f.type="codeTextData",L(H))}}class SpliceBuffer{constructor(n){this.left=n?[...n]:[],this.right=[]}get(n){if(n<0||n>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+n+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return n<this.left.length?this.left[n]:this.right[this.right.length-n+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(n,o){const l=o??Number.POSITIVE_INFINITY;return l<this.left.length?this.left.slice(n,l):n>this.left.length?this.right.slice(this.right.length-l+this.left.length,this.right.length-n+this.left.length).reverse():this.left.slice(n).concat(this.right.slice(this.right.length-l+this.left.length).reverse())}splice(n,o,l){const c=o||0;this.setCursor(Math.trunc(n));const f=this.right.splice(this.right.length-c,Number.POSITIVE_INFINITY);return l&&chunkedPush(this.left,l),f.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(n){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(n)}pushMany(n){this.setCursor(Number.POSITIVE_INFINITY),chunkedPush(this.left,n)}unshift(n){this.setCursor(0),this.right.push(n)}unshiftMany(n){this.setCursor(0),chunkedPush(this.right,n.reverse())}setCursor(n){if(!(n===this.left.length||n>this.left.length&&this.right.length===0||n<0&&this.left.length===0))if(n<this.left.length){const o=this.left.splice(n,Number.POSITIVE_INFINITY);chunkedPush(this.right,o.reverse())}else{const o=this.right.splice(this.left.length+this.right.length-n,Number.POSITIVE_INFINITY);chunkedPush(this.left,o.reverse())}}}function chunkedPush(r,n){let o=0;if(n.length<1e4)r.push(...n);else for(;o<n.length;)r.push(...n.slice(o,o+1e4)),o+=1e4}function subtokenize(r){const n={};let o=-1,l,c,f,d,w,y,L;const G=new SpliceBuffer(r);for(;++o<G.length;){for(;o in n;)o=n[o];if(l=G.get(o),o&&l[1].type==="chunkFlow"&&G.get(o-1)[1].type==="listItemPrefix"&&(y=l[1]._tokenizer.events,f=0,f<y.length&&y[f][1].type==="lineEndingBlank"&&(f+=2),f<y.length&&y[f][1].type==="content"))for(;++f<y.length&&y[f][1].type!=="content";)y[f][1].type==="chunkText"&&(y[f][1]._isInFirstContentOfListItem=!0,f++);if(l[0]==="enter")l[1].contentType&&(Object.assign(n,subcontent(G,o)),o=n[o],L=!0);else if(l[1]._container){for(f=o,c=void 0;f--;)if(d=G.get(f),d[1].type==="lineEnding"||d[1].type==="lineEndingBlank")d[0]==="enter"&&(c&&(G.get(c)[1].type="lineEndingBlank"),d[1].type="lineEnding",c=f);else if(!(d[1].type==="linePrefix"||d[1].type==="listItemIndent"))break;c&&(l[1].end={...G.get(c)[1].start},w=G.slice(c,o),w.unshift(l),G.splice(c,o-c+1,w))}}return splice$1(r,0,Number.POSITIVE_INFINITY,G.slice(0)),!L}function subcontent(r,n){const o=r.get(n)[1],l=r.get(n)[2];let c=n-1;const f=[];let d=o._tokenizer;d||(d=l.parser[o.contentType](o.start),o._contentTypeTextTrailing&&(d._contentTypeTextTrailing=!0));const w=d.events,y=[],L={};let G,H,ce=-1,ie=o,Et=0,zn=0;const $l=[zn];for(;ie;){for(;r.get(++c)[1]!==ie;);f.push(c),ie._tokenizer||(G=l.sliceStream(ie),ie.next||G.push(null),H&&d.defineSkip(ie.start),ie._isInFirstContentOfListItem&&(d._gfmTasklistFirstContentOfListItem=!0),d.write(G),ie._isInFirstContentOfListItem&&(d._gfmTasklistFirstContentOfListItem=void 0)),H=ie,ie=ie.next}for(ie=o;++ce<w.length;)w[ce][0]==="exit"&&w[ce-1][0]==="enter"&&w[ce][1].type===w[ce-1][1].type&&w[ce][1].start.line!==w[ce][1].end.line&&(zn=ce+1,$l.push(zn),ie._tokenizer=void 0,ie.previous=void 0,ie=ie.next);for(d.events=[],ie?(ie._tokenizer=void 0,ie.previous=void 0):$l.pop(),ce=$l.length;ce--;){const zl=w.slice($l[ce],$l[ce+1]),Hl=f.pop();y.push([Hl,Hl+zl.length-1]),r.splice(Hl,2,zl)}for(y.reverse(),ce=-1;++ce<y.length;)L[Et+y[ce][0]]=Et+y[ce][1],Et+=y[ce][1]-y[ce][0]-1;return L}const content={resolve:resolveContent,tokenize:tokenizeContent},continuationConstruct={partial:!0,tokenize:tokenizeContinuation};function resolveContent(r){return subtokenize(r),r}function tokenizeContent(r,n){let o;return l;function l(w){return r.enter("content"),o=r.enter("chunkContent",{contentType:"content"}),c(w)}function c(w){return w===null?f(w):markdownLineEnding$1(w)?r.check(continuationConstruct,d,f)(w):(r.consume(w),c)}function f(w){return r.exit("chunkContent"),r.exit("content"),n(w)}function d(w){return r.consume(w),r.exit("chunkContent"),o.next=r.enter("chunkContent",{contentType:"content",previous:o}),o=o.next,c}}function tokenizeContinuation(r,n,o){const l=this;return c;function c(d){return r.exit("chunkContent"),r.enter("lineEnding"),r.consume(d),r.exit("lineEnding"),factorySpace$1(r,f,"linePrefix")}function f(d){if(d===null||markdownLineEnding$1(d))return o(d);const w=l.events[l.events.length-1];return!l.parser.constructs.disable.null.includes("codeIndented")&&w&&w[1].type==="linePrefix"&&w[2].sliceSerialize(w[1],!0).length>=4?n(d):r.interrupt(l.parser.constructs.flow,o,n)(d)}}function factoryDestination(r,n,o,l,c,f,d,w,y){const L=y||Number.POSITIVE_INFINITY;let G=0;return H;function H(zl){return zl===60?(r.enter(l),r.enter(c),r.enter(f),r.consume(zl),r.exit(f),ce):zl===null||zl===32||zl===41||asciiControl(zl)?o(zl):(r.enter(l),r.enter(d),r.enter(w),r.enter("chunkString",{contentType:"string"}),zn(zl))}function ce(zl){return zl===62?(r.enter(f),r.consume(zl),r.exit(f),r.exit(c),r.exit(l),n):(r.enter(w),r.enter("chunkString",{contentType:"string"}),ie(zl))}function ie(zl){return zl===62?(r.exit("chunkString"),r.exit(w),ce(zl)):zl===null||zl===60||markdownLineEnding$1(zl)?o(zl):(r.consume(zl),zl===92?Et:ie)}function Et(zl){return zl===60||zl===62||zl===92?(r.consume(zl),ie):ie(zl)}function zn(zl){return!G&&(zl===null||zl===41||markdownLineEndingOrSpace$1(zl))?(r.exit("chunkString"),r.exit(w),r.exit(d),r.exit(l),n(zl)):G<L&&zl===40?(r.consume(zl),G++,zn):zl===41?(r.consume(zl),G--,zn):zl===null||zl===32||zl===40||asciiControl(zl)?o(zl):(r.consume(zl),zl===92?$l:zn)}function $l(zl){return zl===40||zl===41||zl===92?(r.consume(zl),zn):zn(zl)}}function factoryLabel(r,n,o,l,c,f){const d=this;let w=0,y;return L;function L(ie){return r.enter(l),r.enter(c),r.consume(ie),r.exit(c),r.enter(f),G}function G(ie){return w>999||ie===null||ie===91||ie===93&&!y||ie===94&&!w&&"_hiddenFootnoteSupport"in d.parser.constructs?o(ie):ie===93?(r.exit(f),r.enter(c),r.consume(ie),r.exit(c),r.exit(l),n):markdownLineEnding$1(ie)?(r.enter("lineEnding"),r.consume(ie),r.exit("lineEnding"),G):(r.enter("chunkString",{contentType:"string"}),H(ie))}function H(ie){return ie===null||ie===91||ie===93||markdownLineEnding$1(ie)||w++>999?(r.exit("chunkString"),G(ie)):(r.consume(ie),y||(y=!markdownSpace$1(ie)),ie===92?ce:H)}function ce(ie){return ie===91||ie===92||ie===93?(r.consume(ie),w++,H):H(ie)}}function factoryTitle(r,n,o,l,c,f){let d;return w;function w(ce){return ce===34||ce===39||ce===40?(r.enter(l),r.enter(c),r.consume(ce),r.exit(c),d=ce===40?41:ce,y):o(ce)}function y(ce){return ce===d?(r.enter(c),r.consume(ce),r.exit(c),r.exit(l),n):(r.enter(f),L(ce))}function L(ce){return ce===d?(r.exit(f),y(d)):ce===null?o(ce):markdownLineEnding$1(ce)?(r.enter("lineEnding"),r.consume(ce),r.exit("lineEnding"),factorySpace$1(r,L,"linePrefix")):(r.enter("chunkString",{contentType:"string"}),G(ce))}function G(ce){return ce===d||ce===null||markdownLineEnding$1(ce)?(r.exit("chunkString"),L(ce)):(r.consume(ce),ce===92?H:G)}function H(ce){return ce===d||ce===92?(r.consume(ce),G):G(ce)}}function factoryWhitespace(r,n){let o;return l;function l(c){return markdownLineEnding$1(c)?(r.enter("lineEnding"),r.consume(c),r.exit("lineEnding"),o=!0,l):markdownSpace$1(c)?factorySpace$1(r,l,o?"linePrefix":"lineSuffix")(c):n(c)}}const definition$1={name:"definition",tokenize:tokenizeDefinition},titleBefore={partial:!0,tokenize:tokenizeTitleBefore};function tokenizeDefinition(r,n,o){const l=this;let c;return f;function f(ie){return r.enter("definition"),d(ie)}function d(ie){return factoryLabel.call(l,r,w,o,"definitionLabel","definitionLabelMarker","definitionLabelString")(ie)}function w(ie){return c=normalizeIdentifier$2(l.sliceSerialize(l.events[l.events.length-1][1]).slice(1,-1)),ie===58?(r.enter("definitionMarker"),r.consume(ie),r.exit("definitionMarker"),y):o(ie)}function y(ie){return markdownLineEndingOrSpace$1(ie)?factoryWhitespace(r,L)(ie):L(ie)}function L(ie){return factoryDestination(r,G,o,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(ie)}function G(ie){return r.attempt(titleBefore,H,H)(ie)}function H(ie){return markdownSpace$1(ie)?factorySpace$1(r,ce,"whitespace")(ie):ce(ie)}function ce(ie){return ie===null||markdownLineEnding$1(ie)?(r.exit("definition"),l.parser.defined.push(c),n(ie)):o(ie)}}function tokenizeTitleBefore(r,n,o){return l;function l(w){return markdownLineEndingOrSpace$1(w)?factoryWhitespace(r,c)(w):o(w)}function c(w){return factoryTitle(r,f,o,"definitionTitle","definitionTitleMarker","definitionTitleString")(w)}function f(w){return markdownSpace$1(w)?factorySpace$1(r,d,"whitespace")(w):d(w)}function d(w){return w===null||markdownLineEnding$1(w)?n(w):o(w)}}const hardBreakEscape={name:"hardBreakEscape",tokenize:tokenizeHardBreakEscape};function tokenizeHardBreakEscape(r,n,o){return l;function l(f){return r.enter("hardBreakEscape"),r.consume(f),c}function c(f){return markdownLineEnding$1(f)?(r.exit("hardBreakEscape"),n(f)):o(f)}}const headingAtx={name:"headingAtx",resolve:resolveHeadingAtx,tokenize:tokenizeHeadingAtx};function resolveHeadingAtx(r,n){let o=r.length-2,l=3,c,f;return r[l][1].type==="whitespace"&&(l+=2),o-2>l&&r[o][1].type==="whitespace"&&(o-=2),r[o][1].type==="atxHeadingSequence"&&(l===o-1||o-4>l&&r[o-2][1].type==="whitespace")&&(o-=l+1===o?2:4),o>l&&(c={type:"atxHeadingText",start:r[l][1].start,end:r[o][1].end},f={type:"chunkText",start:r[l][1].start,end:r[o][1].end,contentType:"text"},splice$1(r,l,o-l+1,[["enter",c,n],["enter",f,n],["exit",f,n],["exit",c,n]])),r}function tokenizeHeadingAtx(r,n,o){let l=0;return c;function c(G){return r.enter("atxHeading"),f(G)}function f(G){return r.enter("atxHeadingSequence"),d(G)}function d(G){return G===35&&l++<6?(r.consume(G),d):G===null||markdownLineEndingOrSpace$1(G)?(r.exit("atxHeadingSequence"),w(G)):o(G)}function w(G){return G===35?(r.enter("atxHeadingSequence"),y(G)):G===null||markdownLineEnding$1(G)?(r.exit("atxHeading"),n(G)):markdownSpace$1(G)?factorySpace$1(r,w,"whitespace")(G):(r.enter("atxHeadingText"),L(G))}function y(G){return G===35?(r.consume(G),y):(r.exit("atxHeadingSequence"),w(G))}function L(G){return G===null||G===35||markdownLineEndingOrSpace$1(G)?(r.exit("atxHeadingText"),w(G)):(r.consume(G),L)}}const htmlBlockNames=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],htmlRawNames=["pre","script","style","textarea"],htmlFlow={concrete:!0,name:"htmlFlow",resolveTo:resolveToHtmlFlow,tokenize:tokenizeHtmlFlow},blankLineBefore={partial:!0,tokenize:tokenizeBlankLineBefore},nonLazyContinuationStart={partial:!0,tokenize:tokenizeNonLazyContinuationStart};function resolveToHtmlFlow(r){let n=r.length;for(;n--&&!(r[n][0]==="enter"&&r[n][1].type==="htmlFlow"););return n>1&&r[n-2][1].type==="linePrefix"&&(r[n][1].start=r[n-2][1].start,r[n+1][1].start=r[n-2][1].start,r.splice(n-2,2)),r}function tokenizeHtmlFlow(r,n,o){const l=this;let c,f,d,w,y;return L;function L(gd){return G(gd)}function G(gd){return r.enter("htmlFlow"),r.enter("htmlFlowData"),r.consume(gd),H}function H(gd){return gd===33?(r.consume(gd),ce):gd===47?(r.consume(gd),f=!0,zn):gd===63?(r.consume(gd),c=3,l.interrupt?n:ad):asciiAlpha(gd)?(r.consume(gd),d=String.fromCharCode(gd),$l):o(gd)}function ce(gd){return gd===45?(r.consume(gd),c=2,ie):gd===91?(r.consume(gd),c=5,w=0,Et):asciiAlpha(gd)?(r.consume(gd),c=4,l.interrupt?n:ad):o(gd)}function ie(gd){return gd===45?(r.consume(gd),l.interrupt?n:ad):o(gd)}function Et(gd){const md="CDATA[";return gd===md.charCodeAt(w++)?(r.consume(gd),w===md.length?l.interrupt?n:Od:Et):o(gd)}function zn(gd){return asciiAlpha(gd)?(r.consume(gd),d=String.fromCharCode(gd),$l):o(gd)}function $l(gd){if(gd===null||gd===47||gd===62||markdownLineEndingOrSpace$1(gd)){const md=gd===47,oh=d.toLowerCase();return!md&&!f&&htmlRawNames.includes(oh)?(c=1,l.interrupt?n(gd):Od(gd)):htmlBlockNames.includes(d.toLowerCase())?(c=6,md?(r.consume(gd),zl):l.interrupt?n(gd):Od(gd)):(c=7,l.interrupt&&!l.parser.lazy[l.now().line]?o(gd):f?Hl(gd):Ft(gd))}return gd===45||asciiAlphanumeric(gd)?(r.consume(gd),d+=String.fromCharCode(gd),$l):o(gd)}function zl(gd){return gd===62?(r.consume(gd),l.interrupt?n:Od):o(gd)}function Hl(gd){return markdownSpace$1(gd)?(r.consume(gd),Hl):Vu(gd)}function Ft(gd){return gd===47?(r.consume(gd),Vu):gd===58||gd===95||asciiAlpha(gd)?(r.consume(gd),El):markdownSpace$1(gd)?(r.consume(gd),Ft):Vu(gd)}function El(gd){return gd===45||gd===46||gd===58||gd===95||asciiAlphanumeric(gd)?(r.consume(gd),El):Kl(gd)}function Kl(gd){return gd===61?(r.consume(gd),Al):markdownSpace$1(gd)?(r.consume(gd),Kl):Ft(gd)}function Al(gd){return gd===null||gd===60||gd===61||gd===62||gd===96?o(gd):gd===34||gd===39?(r.consume(gd),y=gd,vu):markdownSpace$1(gd)?(r.consume(gd),Al):Nl(gd)}function vu(gd){return gd===y?(r.consume(gd),y=null,Xu):gd===null||markdownLineEnding$1(gd)?o(gd):(r.consume(gd),vu)}function Nl(gd){return gd===null||gd===34||gd===39||gd===47||gd===60||gd===61||gd===62||gd===96||markdownLineEndingOrSpace$1(gd)?Kl(gd):(r.consume(gd),Nl)}function Xu(gd){return gd===47||gd===62||markdownSpace$1(gd)?Ft(gd):o(gd)}function Vu(gd){return gd===62?(r.consume(gd),Zu):o(gd)}function Zu(gd){return gd===null||markdownLineEnding$1(gd)?Od(gd):markdownSpace$1(gd)?(r.consume(gd),Zu):o(gd)}function Od(gd){return gd===45&&c===2?(r.consume(gd),Wl):gd===60&&c===1?(r.consume(gd),jd):gd===62&&c===4?(r.consume(gd),Dd):gd===63&&c===3?(r.consume(gd),ad):gd===93&&c===5?(r.consume(gd),qu):markdownLineEnding$1(gd)&&(c===6||c===7)?(r.exit("htmlFlowData"),r.check(blankLineBefore,mh,Id)(gd)):gd===null||markdownLineEnding$1(gd)?(r.exit("htmlFlowData"),Id(gd)):(r.consume(gd),Od)}function Id(gd){return r.check(nonLazyContinuationStart,Bd,mh)(gd)}function Bd(gd){return r.enter("lineEnding"),r.consume(gd),r.exit("lineEnding"),Cd}function Cd(gd){return gd===null||markdownLineEnding$1(gd)?Id(gd):(r.enter("htmlFlowData"),Od(gd))}function Wl(gd){return gd===45?(r.consume(gd),ad):Od(gd)}function jd(gd){return gd===47?(r.consume(gd),d="",Md):Od(gd)}function Md(gd){if(gd===62){const md=d.toLowerCase();return htmlRawNames.includes(md)?(r.consume(gd),Dd):Od(gd)}return asciiAlpha(gd)&&d.length<8?(r.consume(gd),d+=String.fromCharCode(gd),Md):Od(gd)}function qu(gd){return gd===93?(r.consume(gd),ad):Od(gd)}function ad(gd){return gd===62?(r.consume(gd),Dd):gd===45&&c===2?(r.consume(gd),ad):Od(gd)}function Dd(gd){return gd===null||markdownLineEnding$1(gd)?(r.exit("htmlFlowData"),mh(gd)):(r.consume(gd),Dd)}function mh(gd){return r.exit("htmlFlow"),n(gd)}}function tokenizeNonLazyContinuationStart(r,n,o){const l=this;return c;function c(d){return markdownLineEnding$1(d)?(r.enter("lineEnding"),r.consume(d),r.exit("lineEnding"),f):o(d)}function f(d){return l.parser.lazy[l.now().line]?o(d):n(d)}}function tokenizeBlankLineBefore(r,n,o){return l;function l(c){return r.enter("lineEnding"),r.consume(c),r.exit("lineEnding"),r.attempt(blankLine$1,n,o)}}const htmlText={name:"htmlText",tokenize:tokenizeHtmlText};function tokenizeHtmlText(r,n,o){const l=this;let c,f,d;return w;function w(ad){return r.enter("htmlText"),r.enter("htmlTextData"),r.consume(ad),y}function y(ad){return ad===33?(r.consume(ad),L):ad===47?(r.consume(ad),Kl):ad===63?(r.consume(ad),Ft):asciiAlpha(ad)?(r.consume(ad),Nl):o(ad)}function L(ad){return ad===45?(r.consume(ad),G):ad===91?(r.consume(ad),f=0,Et):asciiAlpha(ad)?(r.consume(ad),Hl):o(ad)}function G(ad){return ad===45?(r.consume(ad),ie):o(ad)}function H(ad){return ad===null?o(ad):ad===45?(r.consume(ad),ce):markdownLineEnding$1(ad)?(d=H,jd(ad)):(r.consume(ad),H)}function ce(ad){return ad===45?(r.consume(ad),ie):H(ad)}function ie(ad){return ad===62?Wl(ad):ad===45?ce(ad):H(ad)}function Et(ad){const Dd="CDATA[";return ad===Dd.charCodeAt(f++)?(r.consume(ad),f===Dd.length?zn:Et):o(ad)}function zn(ad){return ad===null?o(ad):ad===93?(r.consume(ad),$l):markdownLineEnding$1(ad)?(d=zn,jd(ad)):(r.consume(ad),zn)}function $l(ad){return ad===93?(r.consume(ad),zl):zn(ad)}function zl(ad){return ad===62?Wl(ad):ad===93?(r.consume(ad),zl):zn(ad)}function Hl(ad){return ad===null||ad===62?Wl(ad):markdownLineEnding$1(ad)?(d=Hl,jd(ad)):(r.consume(ad),Hl)}function Ft(ad){return ad===null?o(ad):ad===63?(r.consume(ad),El):markdownLineEnding$1(ad)?(d=Ft,jd(ad)):(r.consume(ad),Ft)}function El(ad){return ad===62?Wl(ad):Ft(ad)}function Kl(ad){return asciiAlpha(ad)?(r.consume(ad),Al):o(ad)}function Al(ad){return ad===45||asciiAlphanumeric(ad)?(r.consume(ad),Al):vu(ad)}function vu(ad){return markdownLineEnding$1(ad)?(d=vu,jd(ad)):markdownSpace$1(ad)?(r.consume(ad),vu):Wl(ad)}function Nl(ad){return ad===45||asciiAlphanumeric(ad)?(r.consume(ad),Nl):ad===47||ad===62||markdownLineEndingOrSpace$1(ad)?Xu(ad):o(ad)}function Xu(ad){return ad===47?(r.consume(ad),Wl):ad===58||ad===95||asciiAlpha(ad)?(r.consume(ad),Vu):markdownLineEnding$1(ad)?(d=Xu,jd(ad)):markdownSpace$1(ad)?(r.consume(ad),Xu):Wl(ad)}function Vu(ad){return ad===45||ad===46||ad===58||ad===95||asciiAlphanumeric(ad)?(r.consume(ad),Vu):Zu(ad)}function Zu(ad){return ad===61?(r.consume(ad),Od):markdownLineEnding$1(ad)?(d=Zu,jd(ad)):markdownSpace$1(ad)?(r.consume(ad),Zu):Xu(ad)}function Od(ad){return ad===null||ad===60||ad===61||ad===62||ad===96?o(ad):ad===34||ad===39?(r.consume(ad),c=ad,Id):markdownLineEnding$1(ad)?(d=Od,jd(ad)):markdownSpace$1(ad)?(r.consume(ad),Od):(r.consume(ad),Bd)}function Id(ad){return ad===c?(r.consume(ad),c=void 0,Cd):ad===null?o(ad):markdownLineEnding$1(ad)?(d=Id,jd(ad)):(r.consume(ad),Id)}function Bd(ad){return ad===null||ad===34||ad===39||ad===60||ad===61||ad===96?o(ad):ad===47||ad===62||markdownLineEndingOrSpace$1(ad)?Xu(ad):(r.consume(ad),Bd)}function Cd(ad){return ad===47||ad===62||markdownLineEndingOrSpace$1(ad)?Xu(ad):o(ad)}function Wl(ad){return ad===62?(r.consume(ad),r.exit("htmlTextData"),r.exit("htmlText"),n):o(ad)}function jd(ad){return r.exit("htmlTextData"),r.enter("lineEnding"),r.consume(ad),r.exit("lineEnding"),Md}function Md(ad){return markdownSpace$1(ad)?factorySpace$1(r,qu,"linePrefix",l.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ad):qu(ad)}function qu(ad){return r.enter("htmlTextData"),d(ad)}}const labelEnd={name:"labelEnd",resolveAll:resolveAllLabelEnd,resolveTo:resolveToLabelEnd,tokenize:tokenizeLabelEnd},resourceConstruct={tokenize:tokenizeResource},referenceFullConstruct={tokenize:tokenizeReferenceFull},referenceCollapsedConstruct={tokenize:tokenizeReferenceCollapsed};function resolveAllLabelEnd(r){let n=-1;const o=[];for(;++n<r.length;){const l=r[n][1];if(o.push(r[n]),l.type==="labelImage"||l.type==="labelLink"||l.type==="labelEnd"){const c=l.type==="labelImage"?4:2;l.type="data",n+=c}}return r.length!==o.length&&splice$1(r,0,r.length,o),r}function resolveToLabelEnd(r,n){let o=r.length,l=0,c,f,d,w;for(;o--;)if(c=r[o][1],f){if(c.type==="link"||c.type==="labelLink"&&c._inactive)break;r[o][0]==="enter"&&c.type==="labelLink"&&(c._inactive=!0)}else if(d){if(r[o][0]==="enter"&&(c.type==="labelImage"||c.type==="labelLink")&&!c._balanced&&(f=o,c.type!=="labelLink")){l=2;break}}else c.type==="labelEnd"&&(d=o);const y={type:r[f][1].type==="labelLink"?"link":"image",start:{...r[f][1].start},end:{...r[r.length-1][1].end}},L={type:"label",start:{...r[f][1].start},end:{...r[d][1].end}},G={type:"labelText",start:{...r[f+l+2][1].end},end:{...r[d-2][1].start}};return w=[["enter",y,n],["enter",L,n]],w=push(w,r.slice(f+1,f+l+3)),w=push(w,[["enter",G,n]]),w=push(w,resolveAll$1(n.parser.constructs.insideSpan.null,r.slice(f+l+4,d-3),n)),w=push(w,[["exit",G,n],r[d-2],r[d-1],["exit",L,n]]),w=push(w,r.slice(d+1)),w=push(w,[["exit",y,n]]),splice$1(r,f,r.length,w),r}function tokenizeLabelEnd(r,n,o){const l=this;let c=l.events.length,f,d;for(;c--;)if((l.events[c][1].type==="labelImage"||l.events[c][1].type==="labelLink")&&!l.events[c][1]._balanced){f=l.events[c][1];break}return w;function w(ce){return f?f._inactive?H(ce):(d=l.parser.defined.includes(normalizeIdentifier$2(l.sliceSerialize({start:f.end,end:l.now()}))),r.enter("labelEnd"),r.enter("labelMarker"),r.consume(ce),r.exit("labelMarker"),r.exit("labelEnd"),y):o(ce)}function y(ce){return ce===40?r.attempt(resourceConstruct,G,d?G:H)(ce):ce===91?r.attempt(referenceFullConstruct,G,d?L:H)(ce):d?G(ce):H(ce)}function L(ce){return r.attempt(referenceCollapsedConstruct,G,H)(ce)}function G(ce){return n(ce)}function H(ce){return f._balanced=!0,o(ce)}}function tokenizeResource(r,n,o){return l;function l(H){return r.enter("resource"),r.enter("resourceMarker"),r.consume(H),r.exit("resourceMarker"),c}function c(H){return markdownLineEndingOrSpace$1(H)?factoryWhitespace(r,f)(H):f(H)}function f(H){return H===41?G(H):factoryDestination(r,d,w,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(H)}function d(H){return markdownLineEndingOrSpace$1(H)?factoryWhitespace(r,y)(H):G(H)}function w(H){return o(H)}function y(H){return H===34||H===39||H===40?factoryTitle(r,L,o,"resourceTitle","resourceTitleMarker","resourceTitleString")(H):G(H)}function L(H){return markdownLineEndingOrSpace$1(H)?factoryWhitespace(r,G)(H):G(H)}function G(H){return H===41?(r.enter("resourceMarker"),r.consume(H),r.exit("resourceMarker"),r.exit("resource"),n):o(H)}}function tokenizeReferenceFull(r,n,o){const l=this;return c;function c(w){return factoryLabel.call(l,r,f,d,"reference","referenceMarker","referenceString")(w)}function f(w){return l.parser.defined.includes(normalizeIdentifier$2(l.sliceSerialize(l.events[l.events.length-1][1]).slice(1,-1)))?n(w):o(w)}function d(w){return o(w)}}function tokenizeReferenceCollapsed(r,n,o){return l;function l(f){return r.enter("reference"),r.enter("referenceMarker"),r.consume(f),r.exit("referenceMarker"),c}function c(f){return f===93?(r.enter("referenceMarker"),r.consume(f),r.exit("referenceMarker"),r.exit("reference"),n):o(f)}}const labelStartImage={name:"labelStartImage",resolveAll:labelEnd.resolveAll,tokenize:tokenizeLabelStartImage};function tokenizeLabelStartImage(r,n,o){const l=this;return c;function c(w){return r.enter("labelImage"),r.enter("labelImageMarker"),r.consume(w),r.exit("labelImageMarker"),f}function f(w){return w===91?(r.enter("labelMarker"),r.consume(w),r.exit("labelMarker"),r.exit("labelImage"),d):o(w)}function d(w){return w===94&&"_hiddenFootnoteSupport"in l.parser.constructs?o(w):n(w)}}const labelStartLink={name:"labelStartLink",resolveAll:labelEnd.resolveAll,tokenize:tokenizeLabelStartLink};function tokenizeLabelStartLink(r,n,o){const l=this;return c;function c(d){return r.enter("labelLink"),r.enter("labelMarker"),r.consume(d),r.exit("labelMarker"),r.exit("labelLink"),f}function f(d){return d===94&&"_hiddenFootnoteSupport"in l.parser.constructs?o(d):n(d)}}const lineEnding={name:"lineEnding",tokenize:tokenizeLineEnding};function tokenizeLineEnding(r,n){return o;function o(l){return r.enter("lineEnding"),r.consume(l),r.exit("lineEnding"),factorySpace$1(r,n,"linePrefix")}}const thematicBreak$2={name:"thematicBreak",tokenize:tokenizeThematicBreak};function tokenizeThematicBreak(r,n,o){let l=0,c;return f;function f(L){return r.enter("thematicBreak"),d(L)}function d(L){return c=L,w(L)}function w(L){return L===c?(r.enter("thematicBreakSequence"),y(L)):l>=3&&(L===null||markdownLineEnding$1(L))?(r.exit("thematicBreak"),n(L)):o(L)}function y(L){return L===c?(r.consume(L),l++,y):(r.exit("thematicBreakSequence"),markdownSpace$1(L)?factorySpace$1(r,w,"whitespace")(L):w(L))}}const list$2={continuation:{tokenize:tokenizeListContinuation},exit:tokenizeListEnd,name:"list",tokenize:tokenizeListStart},listItemPrefixWhitespaceConstruct={partial:!0,tokenize:tokenizeListItemPrefixWhitespace},indentConstruct={partial:!0,tokenize:tokenizeIndent$2};function tokenizeListStart(r,n,o){const l=this,c=l.events[l.events.length-1];let f=c&&c[1].type==="linePrefix"?c[2].sliceSerialize(c[1],!0).length:0,d=0;return w;function w(ie){const Et=l.containerState.type||(ie===42||ie===43||ie===45?"listUnordered":"listOrdered");if(Et==="listUnordered"?!l.containerState.marker||ie===l.containerState.marker:asciiDigit(ie)){if(l.containerState.type||(l.containerState.type=Et,r.enter(Et,{_container:!0})),Et==="listUnordered")return r.enter("listItemPrefix"),ie===42||ie===45?r.check(thematicBreak$2,o,L)(ie):L(ie);if(!l.interrupt||ie===49)return r.enter("listItemPrefix"),r.enter("listItemValue"),y(ie)}return o(ie)}function y(ie){return asciiDigit(ie)&&++d<10?(r.consume(ie),y):(!l.interrupt||d<2)&&(l.containerState.marker?ie===l.containerState.marker:ie===41||ie===46)?(r.exit("listItemValue"),L(ie)):o(ie)}function L(ie){return r.enter("listItemMarker"),r.consume(ie),r.exit("listItemMarker"),l.containerState.marker=l.containerState.marker||ie,r.check(blankLine$1,l.interrupt?o:G,r.attempt(listItemPrefixWhitespaceConstruct,ce,H))}function G(ie){return l.containerState.initialBlankLine=!0,f++,ce(ie)}function H(ie){return markdownSpace$1(ie)?(r.enter("listItemPrefixWhitespace"),r.consume(ie),r.exit("listItemPrefixWhitespace"),ce):o(ie)}function ce(ie){return l.containerState.size=f+l.sliceSerialize(r.exit("listItemPrefix"),!0).length,n(ie)}}function tokenizeListContinuation(r,n,o){const l=this;return l.containerState._closeFlow=void 0,r.check(blankLine$1,c,f);function c(w){return l.containerState.furtherBlankLines=l.containerState.furtherBlankLines||l.containerState.initialBlankLine,factorySpace$1(r,n,"listItemIndent",l.containerState.size+1)(w)}function f(w){return l.containerState.furtherBlankLines||!markdownSpace$1(w)?(l.containerState.furtherBlankLines=void 0,l.containerState.initialBlankLine=void 0,d(w)):(l.containerState.furtherBlankLines=void 0,l.containerState.initialBlankLine=void 0,r.attempt(indentConstruct,n,d)(w))}function d(w){return l.containerState._closeFlow=!0,l.interrupt=void 0,factorySpace$1(r,r.attempt(list$2,n,o),"linePrefix",l.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(w)}}function tokenizeIndent$2(r,n,o){const l=this;return factorySpace$1(r,c,"listItemIndent",l.containerState.size+1);function c(f){const d=l.events[l.events.length-1];return d&&d[1].type==="listItemIndent"&&d[2].sliceSerialize(d[1],!0).length===l.containerState.size?n(f):o(f)}}function tokenizeListEnd(r){r.exit(this.containerState.type)}function tokenizeListItemPrefixWhitespace(r,n,o){const l=this;return factorySpace$1(r,c,"listItemPrefixWhitespace",l.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function c(f){const d=l.events[l.events.length-1];return!markdownSpace$1(f)&&d&&d[1].type==="listItemPrefixWhitespace"?n(f):o(f)}}const setextUnderline={name:"setextUnderline",resolveTo:resolveToSetextUnderline,tokenize:tokenizeSetextUnderline};function resolveToSetextUnderline(r,n){let o=r.length,l,c,f;for(;o--;)if(r[o][0]==="enter"){if(r[o][1].type==="content"){l=o;break}r[o][1].type==="paragraph"&&(c=o)}else r[o][1].type==="content"&&r.splice(o,1),!f&&r[o][1].type==="definition"&&(f=o);const d={type:"setextHeading",start:{...r[l][1].start},end:{...r[r.length-1][1].end}};return r[c][1].type="setextHeadingText",f?(r.splice(c,0,["enter",d,n]),r.splice(f+1,0,["exit",r[l][1],n]),r[l][1].end={...r[f][1].end}):r[l][1]=d,r.push(["exit",d,n]),r}function tokenizeSetextUnderline(r,n,o){const l=this;let c;return f;function f(L){let G=l.events.length,H;for(;G--;)if(l.events[G][1].type!=="lineEnding"&&l.events[G][1].type!=="linePrefix"&&l.events[G][1].type!=="content"){H=l.events[G][1].type==="paragraph";break}return!l.parser.lazy[l.now().line]&&(l.interrupt||H)?(r.enter("setextHeadingLine"),c=L,d(L)):o(L)}function d(L){return r.enter("setextHeadingLineSequence"),w(L)}function w(L){return L===c?(r.consume(L),w):(r.exit("setextHeadingLineSequence"),markdownSpace$1(L)?factorySpace$1(r,y,"lineSuffix")(L):y(L))}function y(L){return L===null||markdownLineEnding$1(L)?(r.exit("setextHeadingLine"),n(L)):o(L)}}const flow$1={tokenize:initializeFlow};function initializeFlow(r){const n=this,o=r.attempt(blankLine$1,l,r.attempt(this.parser.constructs.flowInitial,c,factorySpace$1(r,r.attempt(this.parser.constructs.flow,c,r.attempt(content,c)),"linePrefix")));return o;function l(f){if(f===null){r.consume(f);return}return r.enter("lineEndingBlank"),r.consume(f),r.exit("lineEndingBlank"),n.currentConstruct=void 0,o}function c(f){if(f===null){r.consume(f);return}return r.enter("lineEnding"),r.consume(f),r.exit("lineEnding"),n.currentConstruct=void 0,o}}const resolver={resolveAll:createResolver()},string$1=initializeFactory("string"),text$6=initializeFactory("text");function initializeFactory(r){return{resolveAll:createResolver(r==="text"?resolveAllLineSuffixes:void 0),tokenize:n};function n(o){const l=this,c=this.parser.constructs[r],f=o.attempt(c,d,w);return d;function d(G){return L(G)?f(G):w(G)}function w(G){if(G===null){o.consume(G);return}return o.enter("data"),o.consume(G),y}function y(G){return L(G)?(o.exit("data"),f(G)):(o.consume(G),y)}function L(G){if(G===null)return!0;const H=c[G];let ce=-1;if(H)for(;++ce<H.length;){const ie=H[ce];if(!ie.previous||ie.previous.call(l,l.previous))return!0}return!1}}}function createResolver(r){return n;function n(o,l){let c=-1,f;for(;++c<=o.length;)f===void 0?o[c]&&o[c][1].type==="data"&&(f=c,c++):(!o[c]||o[c][1].type!=="data")&&(c!==f+2&&(o[f][1].end=o[c-1][1].end,o.splice(f+2,c-f-2),c=f+2),f=void 0);return r?r(o,l):o}}function resolveAllLineSuffixes(r,n){let o=0;for(;++o<=r.length;)if((o===r.length||r[o][1].type==="lineEnding")&&r[o-1][1].type==="data"){const l=r[o-1][1],c=n.sliceStream(l);let f=c.length,d=-1,w=0,y;for(;f--;){const L=c[f];if(typeof L=="string"){for(d=L.length;L.charCodeAt(d-1)===32;)w++,d--;if(d)break;d=-1}else if(L===-2)y=!0,w++;else if(L!==-1){f++;break}}if(n._contentTypeTextTrailing&&o===r.length&&(w=0),w){const L={type:o===r.length||y||w<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:f?d:l.start._bufferIndex+d,_index:l.start._index+f,line:l.end.line,column:l.end.column-w,offset:l.end.offset-w},end:{...l.end}};l.end={...L.start},l.start.offset===l.end.offset?Object.assign(l,L):(r.splice(o,0,["enter",L,n],["exit",L,n]),o+=2)}o++}return r}const document$1={42:list$2,43:list$2,45:list$2,48:list$2,49:list$2,50:list$2,51:list$2,52:list$2,53:list$2,54:list$2,55:list$2,56:list$2,57:list$2,62:blockQuote},contentInitial={91:definition$1},flowInitial={[-2]:codeIndented,[-1]:codeIndented,32:codeIndented},flow={35:headingAtx,42:thematicBreak$2,45:[setextUnderline,thematicBreak$2],60:htmlFlow,61:setextUnderline,95:thematicBreak$2,96:codeFenced,126:codeFenced},string={38:characterReference,92:characterEscape},text$5={[-5]:lineEnding,[-4]:lineEnding,[-3]:lineEnding,33:labelStartImage,38:characterReference,42:attention,60:[autolink,htmlText],91:labelStartLink,92:[hardBreakEscape,characterEscape],93:labelEnd,95:attention,96:codeText},insideSpan={null:[attention,resolver]},attentionMarkers={null:[42,95]},disable={null:[]},defaultConstructs=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers,contentInitial,disable,document:document$1,flow,flowInitial,insideSpan,string,text:text$5},Symbol.toStringTag,{value:"Module"}));function createTokenizer(r,n,o){let l={_bufferIndex:-1,_index:0,line:o&&o.line||1,column:o&&o.column||1,offset:o&&o.offset||0};const c={},f=[];let d=[],w=[];const y={attempt:vu(Kl),check:vu(Al),consume:Hl,enter:Ft,exit:El,interrupt:vu(Al,{interrupt:!0})},L={code:null,containerState:{},defineSkip:zn,events:[],now:Et,parser:r,previous:null,sliceSerialize:ce,sliceStream:ie,write:H};let G=n.tokenize.call(L,y);return n.resolveAll&&f.push(n),L;function H(Zu){return d=push(d,Zu),$l(),d[d.length-1]!==null?[]:(Nl(n,0),L.events=resolveAll$1(f,L.events,L),L.events)}function ce(Zu,Od){return serializeChunks(ie(Zu),Od)}function ie(Zu){return sliceChunks(d,Zu)}function Et(){const{_bufferIndex:Zu,_index:Od,line:Id,column:Bd,offset:Cd}=l;return{_bufferIndex:Zu,_index:Od,line:Id,column:Bd,offset:Cd}}function zn(Zu){c[Zu.line]=Zu.column,Vu()}function $l(){let Zu;for(;l._index<d.length;){const Od=d[l._index];if(typeof Od=="string")for(Zu=l._index,l._bufferIndex<0&&(l._bufferIndex=0);l._index===Zu&&l._bufferIndex<Od.length;)zl(Od.charCodeAt(l._bufferIndex));else zl(Od)}}function zl(Zu){G=G(Zu)}function Hl(Zu){markdownLineEnding$1(Zu)?(l.line++,l.column=1,l.offset+=Zu===-3?2:1,Vu()):Zu!==-1&&(l.column++,l.offset++),l._bufferIndex<0?l._index++:(l._bufferIndex++,l._bufferIndex===d[l._index].length&&(l._bufferIndex=-1,l._index++)),L.previous=Zu}function Ft(Zu,Od){const Id=Od||{};return Id.type=Zu,Id.start=Et(),L.events.push(["enter",Id,L]),w.push(Id),Id}function El(Zu){const Od=w.pop();return Od.end=Et(),L.events.push(["exit",Od,L]),Od}function Kl(Zu,Od){Nl(Zu,Od.from)}function Al(Zu,Od){Od.restore()}function vu(Zu,Od){return Id;function Id(Bd,Cd,Wl){let jd,Md,qu,ad;return Array.isArray(Bd)?mh(Bd):"tokenize"in Bd?mh([Bd]):Dd(Bd);function Dd(qh){return sf;function sf(yh){const vf=yh!==null&&qh[yh],Ef=yh!==null&&qh.null,kf=[...Array.isArray(vf)?vf:vf?[vf]:[],...Array.isArray(Ef)?Ef:Ef?[Ef]:[]];return mh(kf)(yh)}}function mh(qh){return jd=qh,Md=0,qh.length===0?Wl:gd(qh[Md])}function gd(qh){return sf;function sf(yh){return ad=Xu(),qu=qh,qh.partial||(L.currentConstruct=qh),qh.name&&L.parser.constructs.disable.null.includes(qh.name)?oh():qh.tokenize.call(Od?Object.assign(Object.create(L),Od):L,y,md,oh)(yh)}}function md(qh){return Zu(qu,ad),Cd}function oh(qh){return ad.restore(),++Md<jd.length?gd(jd[Md]):Wl}}}function Nl(Zu,Od){Zu.resolveAll&&!f.includes(Zu)&&f.push(Zu),Zu.resolve&&splice$1(L.events,Od,L.events.length-Od,Zu.resolve(L.events.slice(Od),L)),Zu.resolveTo&&(L.events=Zu.resolveTo(L.events,L))}function Xu(){const Zu=Et(),Od=L.previous,Id=L.currentConstruct,Bd=L.events.length,Cd=Array.from(w);return{from:Bd,restore:Wl};function Wl(){l=Zu,L.previous=Od,L.currentConstruct=Id,L.events.length=Bd,w=Cd,Vu()}}function Vu(){l.line in c&&l.column<2&&(l.column=c[l.line],l.offset+=c[l.line]-1)}}function sliceChunks(r,n){const o=n.start._index,l=n.start._bufferIndex,c=n.end._index,f=n.end._bufferIndex;let d;if(o===c)d=[r[o].slice(l,f)];else{if(d=r.slice(o,c),l>-1){const w=d[0];typeof w=="string"?d[0]=w.slice(l):d.shift()}f>0&&d.push(r[c].slice(0,f))}return d}function serializeChunks(r,n){let o=-1;const l=[];let c;for(;++o<r.length;){const f=r[o];let d;if(typeof f=="string")d=f;else switch(f){case-5:{d="\r";break}case-4:{d=`
`;break}case-3:{d=`\r
`;break}case-2:{d=n?" ":"	";break}case-1:{if(!n&&c)continue;d=" ";break}default:d=String.fromCharCode(f)}c=f===-2,l.push(d)}return l.join("")}function parse(r){const l={constructs:combineExtensions([defaultConstructs,...(r||{}).extensions||[]]),content:c(content$1),defined:[],document:c(document$2),flow:c(flow$1),lazy:{},string:c(string$1),text:c(text$6)};return l;function c(f){return d;function d(w){return createTokenizer(l,f,w)}}}function postprocess(r){for(;!subtokenize(r););return r}const search$1=/[\0\t\n\r]/g;function preprocess(){let r=1,n="",o=!0,l;return c;function c(f,d,w){const y=[];let L,G,H,ce,ie;for(f=n+(typeof f=="string"?f.toString():new TextDecoder(d||void 0).decode(f)),H=0,n="",o&&(f.charCodeAt(0)===65279&&H++,o=void 0);H<f.length;){if(search$1.lastIndex=H,L=search$1.exec(f),ce=L&&L.index!==void 0?L.index:f.length,ie=f.charCodeAt(ce),!L){n=f.slice(H);break}if(ie===10&&H===ce&&l)y.push(-3),l=void 0;else switch(l&&(y.push(-5),l=void 0),H<ce&&(y.push(f.slice(H,ce)),r+=ce-H),ie){case 0:{y.push(65533),r++;break}case 9:{for(G=Math.ceil(r/4)*4,y.push(-2);r++<G;)y.push(-1);break}case 10:{y.push(-4),r=1;break}default:l=!0,r=1}H=ce+1}return w&&(l&&y.push(-5),n&&y.push(n),y.push(null)),y}}const characterEscapeOrReference$1=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function decodeString$1(r){return r.replace(characterEscapeOrReference$1,decode$1)}function decode$1(r,n,o){if(n)return n;if(o.charCodeAt(0)===35){const c=o.charCodeAt(1),f=c===120||c===88;return decodeNumericCharacterReference$1(o.slice(f?2:1),f?16:10)}return decodeNamedCharacterReference(o)||r}const own$2={}.hasOwnProperty;function fromMarkdown(r,n,o){return typeof n!="string"&&(o=n,n=void 0),compiler(o)(postprocess(parse(o).document().write(preprocess()(r,n,!0))))}function compiler(r){const n={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:f(l0),autolinkProtocol:Xu,autolinkEmail:Xu,atxHeading:f(_0),blockQuote:f(Ef),characterEscape:Xu,characterReference:Xu,codeFenced:f(kf),codeFencedFenceInfo:d,codeFencedFenceMeta:d,codeIndented:f(kf,d),codeText:f(Mp,d),codeTextData:Xu,data:Xu,codeFlowValue:Xu,definition:f(rp),definitionDestinationString:d,definitionLabelString:d,definitionTitleString:d,emphasis:f(Fp),hardBreakEscape:f(L0),hardBreakTrailing:f(L0),htmlFlow:f(Gp,d),htmlFlowData:Xu,htmlText:f(Gp,d),htmlTextData:Xu,image:f(E0),label:d,link:f(l0),listItem:f(Z0),listItemValue:ce,listOrdered:f(n0,H),listUnordered:f(n0),paragraph:f(G0),reference:gd,referenceString:d,resourceDestinationString:d,resourceTitleString:d,setextHeading:f(_0),strong:f(X0),thematicBreak:f(Gg)},exit:{atxHeading:y(),atxHeadingSequence:Kl,autolink:y(),autolinkEmail:vf,autolinkProtocol:yh,blockQuote:y(),characterEscapeValue:Vu,characterReferenceMarkerHexadecimal:oh,characterReferenceMarkerNumeric:oh,characterReferenceValue:qh,characterReference:sf,codeFenced:y($l),codeFencedFence:zn,codeFencedFenceInfo:ie,codeFencedFenceMeta:Et,codeFlowValue:Vu,codeIndented:y(zl),codeText:y(Cd),codeTextData:Vu,data:Vu,definition:y(),definitionDestinationString:El,definitionLabelString:Hl,definitionTitleString:Ft,emphasis:y(),hardBreakEscape:y(Od),hardBreakTrailing:y(Od),htmlFlow:y(Id),htmlFlowData:Vu,htmlText:y(Bd),htmlTextData:Vu,image:y(jd),label:qu,labelText:Md,lineEnding:Zu,link:y(Wl),listItem:y(),listOrdered:y(),listUnordered:y(),paragraph:y(),referenceString:md,resourceDestinationString:ad,resourceTitleString:Dd,resource:mh,setextHeading:y(Nl),setextHeadingLineSequence:vu,setextHeadingText:Al,strong:y(),thematicBreak:y()}};configure(n,(r||{}).mdastExtensions||[]);const o={};return l;function l(_f){let hd={type:"root",children:[]};const qd={stack:[hd],tokenStack:[],config:n,enter:w,exit:L,buffer:d,resume:G,data:o},fh=[];let Mf=-1;for(;++Mf<_f.length;)if(_f[Mf][1].type==="listOrdered"||_f[Mf][1].type==="listUnordered")if(_f[Mf][0]==="enter")fh.push(Mf);else{const lf=fh.pop();Mf=c(_f,lf,Mf)}for(Mf=-1;++Mf<_f.length;){const lf=n[_f[Mf][0]];own$2.call(lf,_f[Mf][1].type)&&lf[_f[Mf][1].type].call(Object.assign({sliceSerialize:_f[Mf][2].sliceSerialize},qd),_f[Mf][1])}if(qd.tokenStack.length>0){const lf=qd.tokenStack[qd.tokenStack.length-1];(lf[1]||defaultOnError).call(qd,void 0,lf[0])}for(hd.position={start:point(_f.length>0?_f[0][1].start:{line:1,column:1,offset:0}),end:point(_f.length>0?_f[_f.length-2][1].end:{line:1,column:1,offset:0})},Mf=-1;++Mf<n.transforms.length;)hd=n.transforms[Mf](hd)||hd;return hd}function c(_f,hd,qd){let fh=hd-1,Mf=-1,lf=!1,mp,rf,hp,Cp;for(;++fh<=qd;){const sp=_f[fh];switch(sp[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{sp[0]==="enter"?Mf++:Mf--,Cp=void 0;break}case"lineEndingBlank":{sp[0]==="enter"&&(mp&&!Cp&&!Mf&&!hp&&(hp=fh),Cp=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Cp=void 0}if(!Mf&&sp[0]==="enter"&&sp[1].type==="listItemPrefix"||Mf===-1&&sp[0]==="exit"&&(sp[1].type==="listUnordered"||sp[1].type==="listOrdered")){if(mp){let jp=fh;for(rf=void 0;jp--;){const Cg=_f[jp];if(Cg[1].type==="lineEnding"||Cg[1].type==="lineEndingBlank"){if(Cg[0]==="exit")continue;rf&&(_f[rf][1].type="lineEndingBlank",lf=!0),Cg[1].type="lineEnding",rf=jp}else if(!(Cg[1].type==="linePrefix"||Cg[1].type==="blockQuotePrefix"||Cg[1].type==="blockQuotePrefixWhitespace"||Cg[1].type==="blockQuoteMarker"||Cg[1].type==="listItemIndent"))break}hp&&(!rf||hp<rf)&&(mp._spread=!0),mp.end=Object.assign({},rf?_f[rf][1].start:sp[1].end),_f.splice(rf||fh,0,["exit",mp,sp[2]]),fh++,qd++}if(sp[1].type==="listItemPrefix"){const jp={type:"listItem",_spread:!1,start:Object.assign({},sp[1].start),end:void 0};mp=jp,_f.splice(fh,0,["enter",jp,sp[2]]),fh++,qd++,hp=void 0,Cp=!0}}}return _f[hd][1]._spread=lf,qd}function f(_f,hd){return qd;function qd(fh){w.call(this,_f(fh),fh),hd&&hd.call(this,fh)}}function d(){this.stack.push({type:"fragment",children:[]})}function w(_f,hd,qd){this.stack[this.stack.length-1].children.push(_f),this.stack.push(_f),this.tokenStack.push([hd,qd||void 0]),_f.position={start:point(hd.start),end:void 0}}function y(_f){return hd;function hd(qd){_f&&_f.call(this,qd),L.call(this,qd)}}function L(_f,hd){const qd=this.stack.pop(),fh=this.tokenStack.pop();if(fh)fh[0].type!==_f.type&&(hd?hd.call(this,_f,fh[0]):(fh[1]||defaultOnError).call(this,_f,fh[0]));else throw new Error("Cannot close `"+_f.type+"` ("+stringifyPosition({start:_f.start,end:_f.end})+"): its not open");qd.position.end=point(_f.end)}function G(){return toString$1(this.stack.pop())}function H(){this.data.expectingFirstListItemValue=!0}function ce(_f){if(this.data.expectingFirstListItemValue){const hd=this.stack[this.stack.length-2];hd.start=Number.parseInt(this.sliceSerialize(_f),10),this.data.expectingFirstListItemValue=void 0}}function ie(){const _f=this.resume(),hd=this.stack[this.stack.length-1];hd.lang=_f}function Et(){const _f=this.resume(),hd=this.stack[this.stack.length-1];hd.meta=_f}function zn(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function $l(){const _f=this.resume(),hd=this.stack[this.stack.length-1];hd.value=_f.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function zl(){const _f=this.resume(),hd=this.stack[this.stack.length-1];hd.value=_f.replace(/(\r?\n|\r)$/g,"")}function Hl(_f){const hd=this.resume(),qd=this.stack[this.stack.length-1];qd.label=hd,qd.identifier=normalizeIdentifier$2(this.sliceSerialize(_f)).toLowerCase()}function Ft(){const _f=this.resume(),hd=this.stack[this.stack.length-1];hd.title=_f}function El(){const _f=this.resume(),hd=this.stack[this.stack.length-1];hd.url=_f}function Kl(_f){const hd=this.stack[this.stack.length-1];if(!hd.depth){const qd=this.sliceSerialize(_f).length;hd.depth=qd}}function Al(){this.data.setextHeadingSlurpLineEnding=!0}function vu(_f){const hd=this.stack[this.stack.length-1];hd.depth=this.sliceSerialize(_f).codePointAt(0)===61?1:2}function Nl(){this.data.setextHeadingSlurpLineEnding=void 0}function Xu(_f){const qd=this.stack[this.stack.length-1].children;let fh=qd[qd.length-1];(!fh||fh.type!=="text")&&(fh=$g(),fh.position={start:point(_f.start),end:void 0},qd.push(fh)),this.stack.push(fh)}function Vu(_f){const hd=this.stack.pop();hd.value+=this.sliceSerialize(_f),hd.position.end=point(_f.end)}function Zu(_f){const hd=this.stack[this.stack.length-1];if(this.data.atHardBreak){const qd=hd.children[hd.children.length-1];qd.position.end=point(_f.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&n.canContainEols.includes(hd.type)&&(Xu.call(this,_f),Vu.call(this,_f))}function Od(){this.data.atHardBreak=!0}function Id(){const _f=this.resume(),hd=this.stack[this.stack.length-1];hd.value=_f}function Bd(){const _f=this.resume(),hd=this.stack[this.stack.length-1];hd.value=_f}function Cd(){const _f=this.resume(),hd=this.stack[this.stack.length-1];hd.value=_f}function Wl(){const _f=this.stack[this.stack.length-1];if(this.data.inReference){const hd=this.data.referenceType||"shortcut";_f.type+="Reference",_f.referenceType=hd,delete _f.url,delete _f.title}else delete _f.identifier,delete _f.label;this.data.referenceType=void 0}function jd(){const _f=this.stack[this.stack.length-1];if(this.data.inReference){const hd=this.data.referenceType||"shortcut";_f.type+="Reference",_f.referenceType=hd,delete _f.url,delete _f.title}else delete _f.identifier,delete _f.label;this.data.referenceType=void 0}function Md(_f){const hd=this.sliceSerialize(_f),qd=this.stack[this.stack.length-2];qd.label=decodeString$1(hd),qd.identifier=normalizeIdentifier$2(hd).toLowerCase()}function qu(){const _f=this.stack[this.stack.length-1],hd=this.resume(),qd=this.stack[this.stack.length-1];if(this.data.inReference=!0,qd.type==="link"){const fh=_f.children;qd.children=fh}else qd.alt=hd}function ad(){const _f=this.resume(),hd=this.stack[this.stack.length-1];hd.url=_f}function Dd(){const _f=this.resume(),hd=this.stack[this.stack.length-1];hd.title=_f}function mh(){this.data.inReference=void 0}function gd(){this.data.referenceType="collapsed"}function md(_f){const hd=this.resume(),qd=this.stack[this.stack.length-1];qd.label=hd,qd.identifier=normalizeIdentifier$2(this.sliceSerialize(_f)).toLowerCase(),this.data.referenceType="full"}function oh(_f){this.data.characterReferenceType=_f.type}function qh(_f){const hd=this.sliceSerialize(_f),qd=this.data.characterReferenceType;let fh;qd?(fh=decodeNumericCharacterReference$1(hd,qd==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):fh=decodeNamedCharacterReference(hd);const Mf=this.stack[this.stack.length-1];Mf.value+=fh}function sf(_f){const hd=this.stack.pop();hd.position.end=point(_f.end)}function yh(_f){Vu.call(this,_f);const hd=this.stack[this.stack.length-1];hd.url=this.sliceSerialize(_f)}function vf(_f){Vu.call(this,_f);const hd=this.stack[this.stack.length-1];hd.url="mailto:"+this.sliceSerialize(_f)}function Ef(){return{type:"blockquote",children:[]}}function kf(){return{type:"code",lang:null,meta:null,value:""}}function Mp(){return{type:"inlineCode",value:""}}function rp(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Fp(){return{type:"emphasis",children:[]}}function _0(){return{type:"heading",depth:0,children:[]}}function L0(){return{type:"break"}}function Gp(){return{type:"html",value:""}}function E0(){return{type:"image",title:null,url:"",alt:null}}function l0(){return{type:"link",title:null,url:"",children:[]}}function n0(_f){return{type:"list",ordered:_f.type==="listOrdered",start:null,spread:_f._spread,children:[]}}function Z0(_f){return{type:"listItem",spread:_f._spread,checked:null,children:[]}}function G0(){return{type:"paragraph",children:[]}}function X0(){return{type:"strong",children:[]}}function $g(){return{type:"text",value:""}}function Gg(){return{type:"thematicBreak"}}}function point(r){return{line:r.line,column:r.column,offset:r.offset}}function configure(r,n){let o=-1;for(;++o<n.length;){const l=n[o];Array.isArray(l)?configure(r,l):extension(r,l)}}function extension(r,n){let o;for(o in n)if(own$2.call(n,o))switch(o){case"canContainEols":{const l=n[o];l&&r[o].push(...l);break}case"transforms":{const l=n[o];l&&r[o].push(...l);break}case"enter":case"exit":{const l=n[o];l&&Object.assign(r[o],l);break}}}function defaultOnError(r,n){throw r?new Error("Cannot close `"+r.type+"` ("+stringifyPosition({start:r.start,end:r.end})+"): a different token (`"+n.type+"`, "+stringifyPosition({start:n.start,end:n.end})+") is open"):new Error("Cannot close document, a token (`"+n.type+"`, "+stringifyPosition({start:n.start,end:n.end})+") is still open")}function remarkParse(r){const n=this;n.parser=o;function o(l){return fromMarkdown(l,{...n.data("settings"),...r,extensions:n.data("micromarkExtensions")||[],mdastExtensions:n.data("fromMarkdownExtensions")||[]})}}function blockquote$1(r,n){const o={type:"element",tagName:"blockquote",properties:{},children:r.wrap(r.all(n),!0)};return r.patch(n,o),r.applyData(n,o)}function hardBreak$1(r,n){const o={type:"element",tagName:"br",properties:{},children:[]};return r.patch(n,o),[r.applyData(n,o),{type:"text",value:`
`}]}function code$2(r,n){const o=n.value?n.value+`
`:"",l={};n.lang&&(l.className=["language-"+n.lang]);let c={type:"element",tagName:"code",properties:l,children:[{type:"text",value:o}]};return n.meta&&(c.data={meta:n.meta}),r.patch(n,c),c=r.applyData(n,c),c={type:"element",tagName:"pre",properties:{},children:[c]},r.patch(n,c),c}function strikethrough(r,n){const o={type:"element",tagName:"del",properties:{},children:r.all(n)};return r.patch(n,o),r.applyData(n,o)}function emphasis$1(r,n){const o={type:"element",tagName:"em",properties:{},children:r.all(n)};return r.patch(n,o),r.applyData(n,o)}function footnoteReference$2(r,n){const o=typeof r.options.clobberPrefix=="string"?r.options.clobberPrefix:"user-content-",l=String(n.identifier).toUpperCase(),c=normalizeUri(l.toLowerCase()),f=r.footnoteOrder.indexOf(l);let d,w=r.footnoteCounts.get(l);w===void 0?(w=0,r.footnoteOrder.push(l),d=r.footnoteOrder.length):d=f+1,w+=1,r.footnoteCounts.set(l,w);const y={type:"element",tagName:"a",properties:{href:"#"+o+"fn-"+c,id:o+"fnref-"+c+(w>1?"-"+w:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(d)}]};r.patch(n,y);const L={type:"element",tagName:"sup",properties:{},children:[y]};return r.patch(n,L),r.applyData(n,L)}function heading$1(r,n){const o={type:"element",tagName:"h"+n.depth,properties:{},children:r.all(n)};return r.patch(n,o),r.applyData(n,o)}function html$1(r,n){if(r.options.allowDangerousHtml){const o={type:"raw",value:n.value};return r.patch(n,o),r.applyData(n,o)}}function revert(r,n){const o=n.referenceType;let l="]";if(o==="collapsed"?l+="[]":o==="full"&&(l+="["+(n.label||n.identifier)+"]"),n.type==="imageReference")return[{type:"text",value:"!["+n.alt+l}];const c=r.all(n),f=c[0];f&&f.type==="text"?f.value="["+f.value:c.unshift({type:"text",value:"["});const d=c[c.length-1];return d&&d.type==="text"?d.value+=l:c.push({type:"text",value:l}),c}function imageReference$1(r,n){const o=String(n.identifier).toUpperCase(),l=r.definitionById.get(o);if(!l)return revert(r,n);const c={src:normalizeUri(l.url||""),alt:n.alt};l.title!==null&&l.title!==void 0&&(c.title=l.title);const f={type:"element",tagName:"img",properties:c,children:[]};return r.patch(n,f),r.applyData(n,f)}function image$1(r,n){const o={src:normalizeUri(n.url)};n.alt!==null&&n.alt!==void 0&&(o.alt=n.alt),n.title!==null&&n.title!==void 0&&(o.title=n.title);const l={type:"element",tagName:"img",properties:o,children:[]};return r.patch(n,l),r.applyData(n,l)}function inlineCode$1(r,n){const o={type:"text",value:n.value.replace(/\r?\n|\r/g," ")};r.patch(n,o);const l={type:"element",tagName:"code",properties:{},children:[o]};return r.patch(n,l),r.applyData(n,l)}function linkReference$1(r,n){const o=String(n.identifier).toUpperCase(),l=r.definitionById.get(o);if(!l)return revert(r,n);const c={href:normalizeUri(l.url||"")};l.title!==null&&l.title!==void 0&&(c.title=l.title);const f={type:"element",tagName:"a",properties:c,children:r.all(n)};return r.patch(n,f),r.applyData(n,f)}function link$1(r,n){const o={href:normalizeUri(n.url)};n.title!==null&&n.title!==void 0&&(o.title=n.title);const l={type:"element",tagName:"a",properties:o,children:r.all(n)};return r.patch(n,l),r.applyData(n,l)}function listItem$1(r,n,o){const l=r.all(n),c=o?listLoose(o):listItemLoose(n),f={},d=[];if(typeof n.checked=="boolean"){const G=l[0];let H;G&&G.type==="element"&&G.tagName==="p"?H=G:(H={type:"element",tagName:"p",properties:{},children:[]},l.unshift(H)),H.children.length>0&&H.children.unshift({type:"text",value:" "}),H.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:n.checked,disabled:!0},children:[]}),f.className=["task-list-item"]}let w=-1;for(;++w<l.length;){const G=l[w];(c||w!==0||G.type!=="element"||G.tagName!=="p")&&d.push({type:"text",value:`
`}),G.type==="element"&&G.tagName==="p"&&!c?d.push(...G.children):d.push(G)}const y=l[l.length-1];y&&(c||y.type!=="element"||y.tagName!=="p")&&d.push({type:"text",value:`
`});const L={type:"element",tagName:"li",properties:f,children:d};return r.patch(n,L),r.applyData(n,L)}function listLoose(r){let n=!1;if(r.type==="list"){n=r.spread||!1;const o=r.children;let l=-1;for(;!n&&++l<o.length;)n=listItemLoose(o[l])}return n}function listItemLoose(r){const n=r.spread;return n??r.children.length>1}function list$1(r,n){const o={},l=r.all(n);let c=-1;for(typeof n.start=="number"&&n.start!==1&&(o.start=n.start);++c<l.length;){const d=l[c];if(d.type==="element"&&d.tagName==="li"&&d.properties&&Array.isArray(d.properties.className)&&d.properties.className.includes("task-list-item")){o.className=["contains-task-list"];break}}const f={type:"element",tagName:n.ordered?"ol":"ul",properties:o,children:r.wrap(l,!0)};return r.patch(n,f),r.applyData(n,f)}function paragraph$1(r,n){const o={type:"element",tagName:"p",properties:{},children:r.all(n)};return r.patch(n,o),r.applyData(n,o)}function root$2(r,n){const o={type:"root",children:r.wrap(r.all(n))};return r.patch(n,o),r.applyData(n,o)}function strong$1(r,n){const o={type:"element",tagName:"strong",properties:{},children:r.all(n)};return r.patch(n,o),r.applyData(n,o)}function table(r,n){const o=r.all(n),l=o.shift(),c=[];if(l){const d={type:"element",tagName:"thead",properties:{},children:r.wrap([l],!0)};r.patch(n.children[0],d),c.push(d)}if(o.length>0){const d={type:"element",tagName:"tbody",properties:{},children:r.wrap(o,!0)},w=pointStart(n.children[1]),y=pointEnd(n.children[n.children.length-1]);w&&y&&(d.position={start:w,end:y}),c.push(d)}const f={type:"element",tagName:"table",properties:{},children:r.wrap(c,!0)};return r.patch(n,f),r.applyData(n,f)}function tableRow(r,n,o){const l=o?o.children:void 0,f=(l?l.indexOf(n):1)===0?"th":"td",d=o&&o.type==="table"?o.align:void 0,w=d?d.length:n.children.length;let y=-1;const L=[];for(;++y<w;){const H=n.children[y],ce={},ie=d?d[y]:void 0;ie&&(ce.align=ie);let Et={type:"element",tagName:f,properties:ce,children:[]};H&&(Et.children=r.all(H),r.patch(H,Et),Et=r.applyData(H,Et)),L.push(Et)}const G={type:"element",tagName:"tr",properties:{},children:r.wrap(L,!0)};return r.patch(n,G),r.applyData(n,G)}function tableCell(r,n){const o={type:"element",tagName:"td",properties:{},children:r.all(n)};return r.patch(n,o),r.applyData(n,o)}const tab=9,space=32;function trimLines(r){const n=String(r),o=/\r?\n|\r/g;let l=o.exec(n),c=0;const f=[];for(;l;)f.push(trimLine(n.slice(c,l.index),c>0,!0),l[0]),c=l.index+l[0].length,l=o.exec(n);return f.push(trimLine(n.slice(c),c>0,!1)),f.join("")}function trimLine(r,n,o){let l=0,c=r.length;if(n){let f=r.codePointAt(l);for(;f===tab||f===space;)l++,f=r.codePointAt(l)}if(o){let f=r.codePointAt(c-1);for(;f===tab||f===space;)c--,f=r.codePointAt(c-1)}return c>l?r.slice(l,c):""}function text$4(r,n){const o={type:"text",value:trimLines(String(n.value))};return r.patch(n,o),r.applyData(n,o)}function thematicBreak$1(r,n){const o={type:"element",tagName:"hr",properties:{},children:[]};return r.patch(n,o),r.applyData(n,o)}const handlers={blockquote:blockquote$1,break:hardBreak$1,code:code$2,delete:strikethrough,emphasis:emphasis$1,footnoteReference:footnoteReference$2,heading:heading$1,html:html$1,imageReference:imageReference$1,image:image$1,inlineCode:inlineCode$1,linkReference:linkReference$1,link:link$1,listItem:listItem$1,list:list$1,paragraph:paragraph$1,root:root$2,strong:strong$1,table,tableCell,tableRow,text:text$4,thematicBreak:thematicBreak$1,toml:ignore,yaml:ignore,definition:ignore,footnoteDefinition:ignore};function ignore(){}const VOID=-1,PRIMITIVE=0,ARRAY=1,OBJECT=2,DATE=3,REGEXP=4,MAP=5,SET=6,ERROR=7,BIGINT=8,env=typeof self=="object"?self:globalThis,deserializer=(r,n)=>{const o=(c,f)=>(r.set(f,c),c),l=c=>{if(r.has(c))return r.get(c);const[f,d]=n[c];switch(f){case PRIMITIVE:case VOID:return o(d,c);case ARRAY:{const w=o([],c);for(const y of d)w.push(l(y));return w}case OBJECT:{const w=o({},c);for(const[y,L]of d)w[l(y)]=l(L);return w}case DATE:return o(new Date(d),c);case REGEXP:{const{source:w,flags:y}=d;return o(new RegExp(w,y),c)}case MAP:{const w=o(new Map,c);for(const[y,L]of d)w.set(l(y),l(L));return w}case SET:{const w=o(new Set,c);for(const y of d)w.add(l(y));return w}case ERROR:{const{name:w,message:y}=d;return o(new env[w](y),c)}case BIGINT:return o(BigInt(d),c);case"BigInt":return o(Object(BigInt(d)),c);case"ArrayBuffer":return o(new Uint8Array(d).buffer,d);case"DataView":{const{buffer:w}=new Uint8Array(d);return o(new DataView(w),d)}}return o(new env[f](d),c)};return l},deserialize=r=>deserializer(new Map,r)(0),EMPTY="",{toString}={},{keys}=Object,typeOf=r=>{const n=typeof r;if(n!=="object"||!r)return[PRIMITIVE,n];const o=toString.call(r).slice(8,-1);switch(o){case"Array":return[ARRAY,EMPTY];case"Object":return[OBJECT,EMPTY];case"Date":return[DATE,EMPTY];case"RegExp":return[REGEXP,EMPTY];case"Map":return[MAP,EMPTY];case"Set":return[SET,EMPTY];case"DataView":return[ARRAY,o]}return o.includes("Array")?[ARRAY,o]:o.includes("Error")?[ERROR,o]:[OBJECT,o]},shouldSkip=([r,n])=>r===PRIMITIVE&&(n==="function"||n==="symbol"),serializer=(r,n,o,l)=>{const c=(d,w)=>{const y=l.push(d)-1;return o.set(w,y),y},f=d=>{if(o.has(d))return o.get(d);let[w,y]=typeOf(d);switch(w){case PRIMITIVE:{let G=d;switch(y){case"bigint":w=BIGINT,G=d.toString();break;case"function":case"symbol":if(r)throw new TypeError("unable to serialize "+y);G=null;break;case"undefined":return c([VOID],d)}return c([w,G],d)}case ARRAY:{if(y){let ce=d;return y==="DataView"?ce=new Uint8Array(d.buffer):y==="ArrayBuffer"&&(ce=new Uint8Array(d)),c([y,[...ce]],d)}const G=[],H=c([w,G],d);for(const ce of d)G.push(f(ce));return H}case OBJECT:{if(y)switch(y){case"BigInt":return c([y,d.toString()],d);case"Boolean":case"Number":case"String":return c([y,d.valueOf()],d)}if(n&&"toJSON"in d)return f(d.toJSON());const G=[],H=c([w,G],d);for(const ce of keys(d))(r||!shouldSkip(typeOf(d[ce])))&&G.push([f(ce),f(d[ce])]);return H}case DATE:return c([w,d.toISOString()],d);case REGEXP:{const{source:G,flags:H}=d;return c([w,{source:G,flags:H}],d)}case MAP:{const G=[],H=c([w,G],d);for(const[ce,ie]of d)(r||!(shouldSkip(typeOf(ce))||shouldSkip(typeOf(ie))))&&G.push([f(ce),f(ie)]);return H}case SET:{const G=[],H=c([w,G],d);for(const ce of d)(r||!shouldSkip(typeOf(ce)))&&G.push(f(ce));return H}}const{message:L}=d;return c([w,{name:y,message:L}],d)};return f},serialize$1=(r,{json:n,lossy:o}={})=>{const l=[];return serializer(!(n||o),!!n,new Map,l)(r),l},structuredClone$1=typeof structuredClone=="function"?(r,n)=>n&&("json"in n||"lossy"in n)?deserialize(serialize$1(r,n)):structuredClone(r):(r,n)=>deserialize(serialize$1(r,n));function defaultFootnoteBackContent(r,n){const o=[{type:"text",value:""}];return n>1&&o.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(n)}]}),o}function defaultFootnoteBackLabel(r,n){return"Back to reference "+(r+1)+(n>1?"-"+n:"")}function footer(r){const n=typeof r.options.clobberPrefix=="string"?r.options.clobberPrefix:"user-content-",o=r.options.footnoteBackContent||defaultFootnoteBackContent,l=r.options.footnoteBackLabel||defaultFootnoteBackLabel,c=r.options.footnoteLabel||"Footnotes",f=r.options.footnoteLabelTagName||"h2",d=r.options.footnoteLabelProperties||{className:["sr-only"]},w=[];let y=-1;for(;++y<r.footnoteOrder.length;){const L=r.footnoteById.get(r.footnoteOrder[y]);if(!L)continue;const G=r.all(L),H=String(L.identifier).toUpperCase(),ce=normalizeUri(H.toLowerCase());let ie=0;const Et=[],zn=r.footnoteCounts.get(H);for(;zn!==void 0&&++ie<=zn;){Et.length>0&&Et.push({type:"text",value:" "});let Hl=typeof o=="string"?o:o(y,ie);typeof Hl=="string"&&(Hl={type:"text",value:Hl}),Et.push({type:"element",tagName:"a",properties:{href:"#"+n+"fnref-"+ce+(ie>1?"-"+ie:""),dataFootnoteBackref:"",ariaLabel:typeof l=="string"?l:l(y,ie),className:["data-footnote-backref"]},children:Array.isArray(Hl)?Hl:[Hl]})}const $l=G[G.length-1];if($l&&$l.type==="element"&&$l.tagName==="p"){const Hl=$l.children[$l.children.length-1];Hl&&Hl.type==="text"?Hl.value+=" ":$l.children.push({type:"text",value:" "}),$l.children.push(...Et)}else G.push(...Et);const zl={type:"element",tagName:"li",properties:{id:n+"fn-"+ce},children:r.wrap(G,!0)};r.patch(L,zl),w.push(zl)}if(w.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:f,properties:{...structuredClone$1(d),id:"footnote-label"},children:[{type:"text",value:c}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:r.wrap(w,!0)},{type:"text",value:`
`}]}}const convert=(function(r){if(r==null)return ok;if(typeof r=="function")return castFactory$1(r);if(typeof r=="object")return Array.isArray(r)?anyFactory$1(r):propertiesFactory(r);if(typeof r=="string")return typeFactory(r);throw new Error("Expected function, string, or object as test")});function anyFactory$1(r){const n=[];let o=-1;for(;++o<r.length;)n[o]=convert(r[o]);return castFactory$1(l);function l(...c){let f=-1;for(;++f<n.length;)if(n[f].apply(this,c))return!0;return!1}}function propertiesFactory(r){const n=r;return castFactory$1(o);function o(l){const c=l;let f;for(f in r)if(c[f]!==n[f])return!1;return!0}}function typeFactory(r){return castFactory$1(n);function n(o){return o&&o.type===r}}function castFactory$1(r){return n;function n(o,l,c){return!!(looksLikeANode(o)&&r.call(this,o,typeof l=="number"?l:void 0,c||void 0))}}function ok(){return!0}function looksLikeANode(r){return r!==null&&typeof r=="object"&&"type"in r}function color(r){return r}const empty=[],CONTINUE=!0,EXIT=!1,SKIP="skip";function visitParents(r,n,o,l){let c;typeof n=="function"&&typeof o!="function"?(l=o,o=n):c=n;const f=convert(c),d=l?-1:1;w(r,void 0,[])();function w(y,L,G){const H=y&&typeof y=="object"?y:{};if(typeof H.type=="string"){const ie=typeof H.tagName=="string"?H.tagName:typeof H.name=="string"?H.name:void 0;Object.defineProperty(ce,"name",{value:"node ("+(y.type+(ie?"<"+ie+">":""))+")"})}return ce;function ce(){let ie=empty,Et,zn,$l;if((!n||f(y,L,G[G.length-1]||void 0))&&(ie=toResult(o(y,G)),ie[0]===EXIT))return ie;if("children"in y&&y.children){const zl=y;if(zl.children&&ie[0]!==SKIP)for(zn=(l?zl.children.length:-1)+d,$l=G.concat(zl);zn>-1&&zn<zl.children.length;){const Hl=zl.children[zn];if(Et=w(Hl,zn,$l)(),Et[0]===EXIT)return Et;zn=typeof Et[1]=="number"?Et[1]:zn+d}}return ie}}}function toResult(r){return Array.isArray(r)?r:typeof r=="number"?[CONTINUE,r]:r==null?empty:[r]}function visit(r,n,o,l){let c,f,d;typeof n=="function"&&typeof o!="function"?(f=void 0,d=n,c=o):(f=n,d=o,c=l),visitParents(r,f,w,c);function w(y,L){const G=L[L.length-1],H=G?G.children.indexOf(y):void 0;return d(y,H,G)}}const own$1={}.hasOwnProperty,emptyOptions$3={};function createState(r,n){const o=n||emptyOptions$3,l=new Map,c=new Map,f=new Map,d={...handlers,...o.handlers},w={all:L,applyData,definitionById:l,footnoteById:c,footnoteCounts:f,footnoteOrder:[],handlers:d,one:y,options:o,patch,wrap:wrap$1};return visit(r,function(G){if(G.type==="definition"||G.type==="footnoteDefinition"){const H=G.type==="definition"?l:c,ce=String(G.identifier).toUpperCase();H.has(ce)||H.set(ce,G)}}),w;function y(G,H){const ce=G.type,ie=w.handlers[ce];if(own$1.call(w.handlers,ce)&&ie)return ie(w,G,H);if(w.options.passThrough&&w.options.passThrough.includes(ce)){if("children"in G){const{children:zn,...$l}=G,zl=structuredClone$1($l);return zl.children=w.all(G),zl}return structuredClone$1(G)}return(w.options.unknownHandler||defaultUnknownHandler)(w,G,H)}function L(G){const H=[];if("children"in G){const ce=G.children;let ie=-1;for(;++ie<ce.length;){const Et=w.one(ce[ie],G);if(Et){if(ie&&ce[ie-1].type==="break"&&(!Array.isArray(Et)&&Et.type==="text"&&(Et.value=trimMarkdownSpaceStart(Et.value)),!Array.isArray(Et)&&Et.type==="element")){const zn=Et.children[0];zn&&zn.type==="text"&&(zn.value=trimMarkdownSpaceStart(zn.value))}Array.isArray(Et)?H.push(...Et):H.push(Et)}}}return H}}function patch(r,n){r.position&&(n.position=position$1(r))}function applyData(r,n){let o=n;if(r&&r.data){const l=r.data.hName,c=r.data.hChildren,f=r.data.hProperties;if(typeof l=="string")if(o.type==="element")o.tagName=l;else{const d="children"in o?o.children:[o];o={type:"element",tagName:l,properties:{},children:d}}o.type==="element"&&f&&Object.assign(o.properties,structuredClone$1(f)),"children"in o&&o.children&&c!==null&&c!==void 0&&(o.children=c)}return o}function defaultUnknownHandler(r,n){const o=n.data||{},l="value"in n&&!(own$1.call(o,"hProperties")||own$1.call(o,"hChildren"))?{type:"text",value:n.value}:{type:"element",tagName:"div",properties:{},children:r.all(n)};return r.patch(n,l),r.applyData(n,l)}function wrap$1(r,n){const o=[];let l=-1;for(n&&o.push({type:"text",value:`
`});++l<r.length;)l&&o.push({type:"text",value:`
`}),o.push(r[l]);return n&&r.length>0&&o.push({type:"text",value:`
`}),o}function trimMarkdownSpaceStart(r){let n=0,o=r.charCodeAt(n);for(;o===9||o===32;)n++,o=r.charCodeAt(n);return r.slice(n)}function toHast(r,n){const o=createState(r,n),l=o.one(r,void 0),c=footer(o),f=Array.isArray(l)?{type:"root",children:l}:l||{type:"root",children:[]};return c&&f.children.push({type:"text",value:`
`},c),f}function remarkRehype(r,n){return r&&"run"in r?async function(o,l){const c=toHast(o,{file:l,...n});await r.run(c,l)}:function(o,l){return toHast(o,{file:l,...r||n})}}function bail(r){if(r)throw r}var extend$1,hasRequiredExtend;function requireExtend(){if(hasRequiredExtend)return extend$1;hasRequiredExtend=1;var r=Object.prototype.hasOwnProperty,n=Object.prototype.toString,o=Object.defineProperty,l=Object.getOwnPropertyDescriptor,c=function(L){return typeof Array.isArray=="function"?Array.isArray(L):n.call(L)==="[object Array]"},f=function(L){if(!L||n.call(L)!=="[object Object]")return!1;var G=r.call(L,"constructor"),H=L.constructor&&L.constructor.prototype&&r.call(L.constructor.prototype,"isPrototypeOf");if(L.constructor&&!G&&!H)return!1;var ce;for(ce in L);return typeof ce>"u"||r.call(L,ce)},d=function(L,G){o&&G.name==="__proto__"?o(L,G.name,{enumerable:!0,configurable:!0,value:G.newValue,writable:!0}):L[G.name]=G.newValue},w=function(L,G){if(G==="__proto__")if(r.call(L,G)){if(l)return l(L,G).value}else return;return L[G]};return extend$1=function y(){var L,G,H,ce,ie,Et,zn=arguments[0],$l=1,zl=arguments.length,Hl=!1;for(typeof zn=="boolean"&&(Hl=zn,zn=arguments[1]||{},$l=2),(zn==null||typeof zn!="object"&&typeof zn!="function")&&(zn={});$l<zl;++$l)if(L=arguments[$l],L!=null)for(G in L)H=w(zn,G),ce=w(L,G),zn!==ce&&(Hl&&ce&&(f(ce)||(ie=c(ce)))?(ie?(ie=!1,Et=H&&c(H)?H:[]):Et=H&&f(H)?H:{},d(zn,{name:G,newValue:y(Hl,Et,ce)})):typeof ce<"u"&&d(zn,{name:G,newValue:ce}));return zn},extend$1}var extendExports=requireExtend();const extend=getDefaultExportFromCjs(extendExports);function isPlainObject(r){if(typeof r!="object"||r===null)return!1;const n=Object.getPrototypeOf(r);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)}function trough(){const r=[],n={run:o,use:l};return n;function o(...c){let f=-1;const d=c.pop();if(typeof d!="function")throw new TypeError("Expected function as last argument, not "+d);w(null,...c);function w(y,...L){const G=r[++f];let H=-1;if(y){d(y);return}for(;++H<c.length;)(L[H]===null||L[H]===void 0)&&(L[H]=c[H]);c=L,G?wrap(G,w)(...L):d(null,...L)}}function l(c){if(typeof c!="function")throw new TypeError("Expected `middelware` to be a function, not "+c);return r.push(c),n}}function wrap(r,n){let o;return l;function l(...d){const w=r.length>d.length;let y;w&&d.push(c);try{y=r.apply(this,d)}catch(L){const G=L;if(w&&o)throw G;return c(G)}w||(y&&y.then&&typeof y.then=="function"?y.then(f,c):y instanceof Error?c(y):f(y))}function c(d,...w){o||(o=!0,n(d,...w))}function f(d){c(null,d)}}const minpath={basename,dirname,extname,join,sep:"/"};function basename(r,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');assertPath$1(r);let o=0,l=-1,c=r.length,f;if(n===void 0||n.length===0||n.length>r.length){for(;c--;)if(r.codePointAt(c)===47){if(f){o=c+1;break}}else l<0&&(f=!0,l=c+1);return l<0?"":r.slice(o,l)}if(n===r)return"";let d=-1,w=n.length-1;for(;c--;)if(r.codePointAt(c)===47){if(f){o=c+1;break}}else d<0&&(f=!0,d=c+1),w>-1&&(r.codePointAt(c)===n.codePointAt(w--)?w<0&&(l=c):(w=-1,l=d));return o===l?l=d:l<0&&(l=r.length),r.slice(o,l)}function dirname(r){if(assertPath$1(r),r.length===0)return".";let n=-1,o=r.length,l;for(;--o;)if(r.codePointAt(o)===47){if(l){n=o;break}}else l||(l=!0);return n<0?r.codePointAt(0)===47?"/":".":n===1&&r.codePointAt(0)===47?"//":r.slice(0,n)}function extname(r){assertPath$1(r);let n=r.length,o=-1,l=0,c=-1,f=0,d;for(;n--;){const w=r.codePointAt(n);if(w===47){if(d){l=n+1;break}continue}o<0&&(d=!0,o=n+1),w===46?c<0?c=n:f!==1&&(f=1):c>-1&&(f=-1)}return c<0||o<0||f===0||f===1&&c===o-1&&c===l+1?"":r.slice(c,o)}function join(...r){let n=-1,o;for(;++n<r.length;)assertPath$1(r[n]),r[n]&&(o=o===void 0?r[n]:o+"/"+r[n]);return o===void 0?".":normalize(o)}function normalize(r){assertPath$1(r);const n=r.codePointAt(0)===47;let o=normalizeString(r,!n);return o.length===0&&!n&&(o="."),o.length>0&&r.codePointAt(r.length-1)===47&&(o+="/"),n?"/"+o:o}function normalizeString(r,n){let o="",l=0,c=-1,f=0,d=-1,w,y;for(;++d<=r.length;){if(d<r.length)w=r.codePointAt(d);else{if(w===47)break;w=47}if(w===47){if(!(c===d-1||f===1))if(c!==d-1&&f===2){if(o.length<2||l!==2||o.codePointAt(o.length-1)!==46||o.codePointAt(o.length-2)!==46){if(o.length>2){if(y=o.lastIndexOf("/"),y!==o.length-1){y<0?(o="",l=0):(o=o.slice(0,y),l=o.length-1-o.lastIndexOf("/")),c=d,f=0;continue}}else if(o.length>0){o="",l=0,c=d,f=0;continue}}n&&(o=o.length>0?o+"/..":"..",l=2)}else o.length>0?o+="/"+r.slice(c+1,d):o=r.slice(c+1,d),l=d-c-1;c=d,f=0}else w===46&&f>-1?f++:f=-1}return o}function assertPath$1(r){if(typeof r!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(r))}const minproc={cwd};function cwd(){return"/"}function isUrl(r){return!!(r!==null&&typeof r=="object"&&"href"in r&&r.href&&"protocol"in r&&r.protocol&&r.auth===void 0)}function urlToPath(r){if(typeof r=="string")r=new URL(r);else if(!isUrl(r)){const n=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+r+"`");throw n.code="ERR_INVALID_ARG_TYPE",n}if(r.protocol!=="file:"){const n=new TypeError("The URL must be of scheme file");throw n.code="ERR_INVALID_URL_SCHEME",n}return getPathFromURLPosix(r)}function getPathFromURLPosix(r){if(r.hostname!==""){const l=new TypeError('File URL host must be "localhost" or empty on darwin');throw l.code="ERR_INVALID_FILE_URL_HOST",l}const n=r.pathname;let o=-1;for(;++o<n.length;)if(n.codePointAt(o)===37&&n.codePointAt(o+1)===50){const l=n.codePointAt(o+2);if(l===70||l===102){const c=new TypeError("File URL path must not include encoded / characters");throw c.code="ERR_INVALID_FILE_URL_PATH",c}}return decodeURIComponent(n)}const order=["history","path","basename","stem","extname","dirname"];class VFile{constructor(n){let o;n?isUrl(n)?o={path:n}:typeof n=="string"||isUint8Array$1(n)?o={value:n}:o=n:o={},this.cwd="cwd"in o?"":minproc.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let l=-1;for(;++l<order.length;){const f=order[l];f in o&&o[f]!==void 0&&o[f]!==null&&(this[f]=f==="history"?[...o[f]]:o[f])}let c;for(c in o)order.includes(c)||(this[c]=o[c])}get basename(){return typeof this.path=="string"?minpath.basename(this.path):void 0}set basename(n){assertNonEmpty(n,"basename"),assertPart(n,"basename"),this.path=minpath.join(this.dirname||"",n)}get dirname(){return typeof this.path=="string"?minpath.dirname(this.path):void 0}set dirname(n){assertPath(this.basename,"dirname"),this.path=minpath.join(n||"",this.basename)}get extname(){return typeof this.path=="string"?minpath.extname(this.path):void 0}set extname(n){if(assertPart(n,"extname"),assertPath(this.dirname,"extname"),n){if(n.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(n.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=minpath.join(this.dirname,this.stem+(n||""))}get path(){return this.history[this.history.length-1]}set path(n){isUrl(n)&&(n=urlToPath(n)),assertNonEmpty(n,"path"),this.path!==n&&this.history.push(n)}get stem(){return typeof this.path=="string"?minpath.basename(this.path,this.extname):void 0}set stem(n){assertNonEmpty(n,"stem"),assertPart(n,"stem"),this.path=minpath.join(this.dirname||"",n+(this.extname||""))}fail(n,o,l){const c=this.message(n,o,l);throw c.fatal=!0,c}info(n,o,l){const c=this.message(n,o,l);return c.fatal=void 0,c}message(n,o,l){const c=new VFileMessage(n,o,l);return this.path&&(c.name=this.path+":"+c.name,c.file=this.path),c.fatal=!1,this.messages.push(c),c}toString(n){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(n||void 0).decode(this.value)}}function assertPart(r,n){if(r&&r.includes(minpath.sep))throw new Error("`"+n+"` cannot be a path: did not expect `"+minpath.sep+"`")}function assertNonEmpty(r,n){if(!r)throw new Error("`"+n+"` cannot be empty")}function assertPath(r,n){if(!r)throw new Error("Setting `"+n+"` requires `path` to be set too")}function isUint8Array$1(r){return!!(r&&typeof r=="object"&&"byteLength"in r&&"byteOffset"in r)}const CallableInstance=(function(r){const l=this.constructor.prototype,c=l[r],f=function(){return c.apply(f,arguments)};return Object.setPrototypeOf(f,l),f}),own={}.hasOwnProperty;class Processor extends CallableInstance{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=trough()}copy(){const n=new Processor;let o=-1;for(;++o<this.attachers.length;){const l=this.attachers[o];n.use(...l)}return n.data(extend(!0,{},this.namespace)),n}data(n,o){return typeof n=="string"?arguments.length===2?(assertUnfrozen("data",this.frozen),this.namespace[n]=o,this):own.call(this.namespace,n)&&this.namespace[n]||void 0:n?(assertUnfrozen("data",this.frozen),this.namespace=n,this):this.namespace}freeze(){if(this.frozen)return this;const n=this;for(;++this.freezeIndex<this.attachers.length;){const[o,...l]=this.attachers[this.freezeIndex];if(l[0]===!1)continue;l[0]===!0&&(l[0]=void 0);const c=o.call(n,...l);typeof c=="function"&&this.transformers.use(c)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(n){this.freeze();const o=vfile(n),l=this.parser||this.Parser;return assertParser("parse",l),l(String(o),o)}process(n,o){const l=this;return this.freeze(),assertParser("process",this.parser||this.Parser),assertCompiler("process",this.compiler||this.Compiler),o?c(void 0,o):new Promise(c);function c(f,d){const w=vfile(n),y=l.parse(w);l.run(y,w,function(G,H,ce){if(G||!H||!ce)return L(G);const ie=H,Et=l.stringify(ie,ce);looksLikeAValue(Et)?ce.value=Et:ce.result=Et,L(G,ce)});function L(G,H){G||!H?d(G):f?f(H):o(void 0,H)}}}processSync(n){let o=!1,l;return this.freeze(),assertParser("processSync",this.parser||this.Parser),assertCompiler("processSync",this.compiler||this.Compiler),this.process(n,c),assertDone("processSync","process",o),l;function c(f,d){o=!0,bail(f),l=d}}run(n,o,l){assertNode(n),this.freeze();const c=this.transformers;return!l&&typeof o=="function"&&(l=o,o=void 0),l?f(void 0,l):new Promise(f);function f(d,w){const y=vfile(o);c.run(n,y,L);function L(G,H,ce){const ie=H||n;G?w(G):d?d(ie):l(void 0,ie,ce)}}}runSync(n,o){let l=!1,c;return this.run(n,o,f),assertDone("runSync","run",l),c;function f(d,w){bail(d),c=w,l=!0}}stringify(n,o){this.freeze();const l=vfile(o),c=this.compiler||this.Compiler;return assertCompiler("stringify",c),assertNode(n),c(n,l)}use(n,...o){const l=this.attachers,c=this.namespace;if(assertUnfrozen("use",this.frozen),n!=null)if(typeof n=="function")y(n,o);else if(typeof n=="object")Array.isArray(n)?w(n):d(n);else throw new TypeError("Expected usable value, not `"+n+"`");return this;function f(L){if(typeof L=="function")y(L,[]);else if(typeof L=="object")if(Array.isArray(L)){const[G,...H]=L;y(G,H)}else d(L);else throw new TypeError("Expected usable value, not `"+L+"`")}function d(L){if(!("plugins"in L)&&!("settings"in L))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");w(L.plugins),L.settings&&(c.settings=extend(!0,c.settings,L.settings))}function w(L){let G=-1;if(L!=null)if(Array.isArray(L))for(;++G<L.length;){const H=L[G];f(H)}else throw new TypeError("Expected a list of plugins, not `"+L+"`")}function y(L,G){let H=-1,ce=-1;for(;++H<l.length;)if(l[H][0]===L){ce=H;break}if(ce===-1)l.push([L,...G]);else if(G.length>0){let[ie,...Et]=G;const zn=l[ce][1];isPlainObject(zn)&&isPlainObject(ie)&&(ie=extend(!0,zn,ie)),l[ce]=[L,ie,...Et]}}}}const unified=new Processor().freeze();function assertParser(r,n){if(typeof n!="function")throw new TypeError("Cannot `"+r+"` without `parser`")}function assertCompiler(r,n){if(typeof n!="function")throw new TypeError("Cannot `"+r+"` without `compiler`")}function assertUnfrozen(r,n){if(n)throw new Error("Cannot call `"+r+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function assertNode(r){if(!isPlainObject(r)||typeof r.type!="string")throw new TypeError("Expected node, got `"+r+"`")}function assertDone(r,n,o){if(!o)throw new Error("`"+r+"` finished async. Use `"+n+"` instead")}function vfile(r){return looksLikeAVFile(r)?r:new VFile(r)}function looksLikeAVFile(r){return!!(r&&typeof r=="object"&&"message"in r&&"messages"in r)}function looksLikeAValue(r){return typeof r=="string"||isUint8Array(r)}function isUint8Array(r){return!!(r&&typeof r=="object"&&"byteLength"in r&&"byteOffset"in r)}const changelog="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",emptyPlugins=[],emptyRemarkRehypeOptions={allowDangerousHtml:!0},safeProtocol=/^(https?|ircs?|mailto|xmpp)$/i,deprecations=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Markdown(r){const n=createProcessor(r),o=createFile(r);return post(n.runSync(n.parse(o),o),r)}function createProcessor(r){const n=r.rehypePlugins||emptyPlugins,o=r.remarkPlugins||emptyPlugins,l=r.remarkRehypeOptions?{...r.remarkRehypeOptions,...emptyRemarkRehypeOptions}:emptyRemarkRehypeOptions;return unified().use(remarkParse).use(o).use(remarkRehype,l).use(n)}function createFile(r){const n=r.children||"",o=new VFile;return typeof n=="string"&&(o.value=n),o}function post(r,n){const o=n.allowedElements,l=n.allowElement,c=n.components,f=n.disallowedElements,d=n.skipHtml,w=n.unwrapDisallowed,y=n.urlTransform||defaultUrlTransform;for(const G of deprecations)Object.hasOwn(n,G.from)&&(""+G.from+(G.to?"use `"+G.to+"` instead":"remove it")+changelog+G.id,void 0);return visit(r,L),toJsxRuntime(r,{Fragment:jsxRuntimeExports.Fragment,components:c,ignoreInvalidStyle:!0,jsx:jsxRuntimeExports.jsx,jsxs:jsxRuntimeExports.jsxs,passKeys:!0,passNode:!0});function L(G,H,ce){if(G.type==="raw"&&ce&&typeof H=="number")return d?ce.children.splice(H,1):ce.children[H]={type:"text",value:G.value},H;if(G.type==="element"){let ie;for(ie in urlAttributes)if(Object.hasOwn(urlAttributes,ie)&&Object.hasOwn(G.properties,ie)){const Et=G.properties[ie],zn=urlAttributes[ie];(zn===null||zn.includes(G.tagName))&&(G.properties[ie]=y(String(Et||""),ie,G))}}if(G.type==="element"){let ie=o?!o.includes(G.tagName):f?f.includes(G.tagName):!1;if(!ie&&l&&typeof H=="number"&&(ie=!l(G,H,ce)),ie&&ce&&typeof H=="number")return w&&G.children?ce.children.splice(H,1,...G.children):ce.children.splice(H,1),H}}}function defaultUrlTransform(r){const n=r.indexOf(":"),o=r.indexOf("?"),l=r.indexOf("#"),c=r.indexOf("/");return n===-1||c!==-1&&n>c||o!==-1&&n>o||l!==-1&&n>l||safeProtocol.test(r.slice(0,n))?r:""}function longestStreak(r,n){const o=String(r);let l=o.indexOf(n),c=l,f=0,d=0;if(typeof n!="string")throw new TypeError("Expected substring");for(;l!==-1;)l===c?++f>d&&(d=f):f=1,c=l+n.length,l=o.indexOf(n,c);return d}function mathFromMarkdown(){return{enter:{mathFlow:r,mathFlowFenceMeta:n,mathText:f},exit:{mathFlow:c,mathFlowFence:l,mathFlowFenceMeta:o,mathFlowValue:w,mathText:d,mathTextData:w}};function r(y){const L={type:"element",tagName:"code",properties:{className:["language-math","math-display"]},children:[]};this.enter({type:"math",meta:null,value:"",data:{hName:"pre",hChildren:[L]}},y)}function n(){this.buffer()}function o(){const y=this.resume(),L=this.stack[this.stack.length-1];L.type,L.meta=y}function l(){this.data.mathFlowInside||(this.buffer(),this.data.mathFlowInside=!0)}function c(y){const L=this.resume().replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),G=this.stack[this.stack.length-1];G.type,this.exit(y),G.value=L;const H=G.data.hChildren[0];H.type,H.tagName,H.children.push({type:"text",value:L}),this.data.mathFlowInside=void 0}function f(y){this.enter({type:"inlineMath",value:"",data:{hName:"code",hProperties:{className:["language-math","math-inline"]},hChildren:[]}},y),this.buffer()}function d(y){const L=this.resume(),G=this.stack[this.stack.length-1];G.type,this.exit(y),G.value=L,G.data.hChildren.push({type:"text",value:L})}function w(y){this.config.enter.data.call(this,y),this.config.exit.data.call(this,y)}}function mathToMarkdown(r){let n=(r||{}).singleDollarTextMath;return n==null&&(n=!0),l.peek=c,{unsafe:[{character:"\r",inConstruct:"mathFlowMeta"},{character:`
`,inConstruct:"mathFlowMeta"},{character:"$",after:n?void 0:"\\$",inConstruct:"phrasing"},{character:"$",inConstruct:"mathFlowMeta"},{atBreak:!0,character:"$",after:"\\$"}],handlers:{math:o,inlineMath:l}};function o(f,d,w,y){const L=f.value||"",G=w.createTracker(y),H="$".repeat(Math.max(longestStreak(L,"$")+1,2)),ce=w.enter("mathFlow");let ie=G.move(H);if(f.meta){const Et=w.enter("mathFlowMeta");ie+=G.move(w.safe(f.meta,{after:`
`,before:ie,encode:["$"],...G.current()})),Et()}return ie+=G.move(`
`),L&&(ie+=G.move(L+`
`)),ie+=G.move(H),ce(),ie}function l(f,d,w){let y=f.value||"",L=1;for(n||L++;new RegExp("(^|[^$])"+"\\$".repeat(L)+"([^$]|$)").test(y);)L++;const G="$".repeat(L);/[^ \r\n]/.test(y)&&(/^[ \r\n]/.test(y)&&/[ \r\n]$/.test(y)||/^\$|\$$/.test(y))&&(y=" "+y+" ");let H=-1;for(;++H<w.unsafe.length;){const ce=w.unsafe[H];if(!ce.atBreak)continue;const ie=w.compilePattern(ce);let Et;for(;Et=ie.exec(y);){let zn=Et.index;y.codePointAt(zn)===10&&y.codePointAt(zn-1)===13&&zn--,y=y.slice(0,zn)+" "+y.slice(Et.index+1)}}return G+y+G}function c(){return"$"}}const mathFlow={tokenize:tokenizeMathFenced,concrete:!0,name:"mathFlow"},nonLazyContinuation={tokenize:tokenizeNonLazyContinuation,partial:!0};function tokenizeMathFenced(r,n,o){const l=this,c=l.events[l.events.length-1],f=c&&c[1].type==="linePrefix"?c[2].sliceSerialize(c[1],!0).length:0;let d=0;return w;function w(Hl){return r.enter("mathFlow"),r.enter("mathFlowFence"),r.enter("mathFlowFenceSequence"),y(Hl)}function y(Hl){return Hl===36?(r.consume(Hl),d++,y):d<2?o(Hl):(r.exit("mathFlowFenceSequence"),factorySpace$1(r,L,"whitespace")(Hl))}function L(Hl){return Hl===null||markdownLineEnding$1(Hl)?H(Hl):(r.enter("mathFlowFenceMeta"),r.enter("chunkString",{contentType:"string"}),G(Hl))}function G(Hl){return Hl===null||markdownLineEnding$1(Hl)?(r.exit("chunkString"),r.exit("mathFlowFenceMeta"),H(Hl)):Hl===36?o(Hl):(r.consume(Hl),G)}function H(Hl){return r.exit("mathFlowFence"),l.interrupt?n(Hl):r.attempt(nonLazyContinuation,ce,$l)(Hl)}function ce(Hl){return r.attempt({tokenize:zl,partial:!0},$l,ie)(Hl)}function ie(Hl){return(f?factorySpace$1(r,Et,"linePrefix",f+1):Et)(Hl)}function Et(Hl){return Hl===null?$l(Hl):markdownLineEnding$1(Hl)?r.attempt(nonLazyContinuation,ce,$l)(Hl):(r.enter("mathFlowValue"),zn(Hl))}function zn(Hl){return Hl===null||markdownLineEnding$1(Hl)?(r.exit("mathFlowValue"),Et(Hl)):(r.consume(Hl),zn)}function $l(Hl){return r.exit("mathFlow"),n(Hl)}function zl(Hl,Ft,El){let Kl=0;return factorySpace$1(Hl,Al,"linePrefix",l.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function Al(Xu){return Hl.enter("mathFlowFence"),Hl.enter("mathFlowFenceSequence"),vu(Xu)}function vu(Xu){return Xu===36?(Kl++,Hl.consume(Xu),vu):Kl<d?El(Xu):(Hl.exit("mathFlowFenceSequence"),factorySpace$1(Hl,Nl,"whitespace")(Xu))}function Nl(Xu){return Xu===null||markdownLineEnding$1(Xu)?(Hl.exit("mathFlowFence"),Ft(Xu)):El(Xu)}}}function tokenizeNonLazyContinuation(r,n,o){const l=this;return c;function c(d){return d===null?n(d):(r.enter("lineEnding"),r.consume(d),r.exit("lineEnding"),f)}function f(d){return l.parser.lazy[l.now().line]?o(d):n(d)}}function mathText(r){let o=(r||{}).singleDollarTextMath;return o==null&&(o=!0),{tokenize:l,resolve:resolveMathText,previous:previous$1,name:"mathText"};function l(c,f,d){let w=0,y,L;return G;function G(zn){return c.enter("mathText"),c.enter("mathTextSequence"),H(zn)}function H(zn){return zn===36?(c.consume(zn),w++,H):w<2&&!o?d(zn):(c.exit("mathTextSequence"),ce(zn))}function ce(zn){return zn===null?d(zn):zn===36?(L=c.enter("mathTextSequence"),y=0,Et(zn)):zn===32?(c.enter("space"),c.consume(zn),c.exit("space"),ce):markdownLineEnding$1(zn)?(c.enter("lineEnding"),c.consume(zn),c.exit("lineEnding"),ce):(c.enter("mathTextData"),ie(zn))}function ie(zn){return zn===null||zn===32||zn===36||markdownLineEnding$1(zn)?(c.exit("mathTextData"),ce(zn)):(c.consume(zn),ie)}function Et(zn){return zn===36?(c.consume(zn),y++,Et):y===w?(c.exit("mathTextSequence"),c.exit("mathText"),f(zn)):(L.type="mathTextData",ie(zn))}}}function resolveMathText(r){let n=r.length-4,o=3,l,c;if((r[o][1].type==="lineEnding"||r[o][1].type==="space")&&(r[n][1].type==="lineEnding"||r[n][1].type==="space")){for(l=o;++l<n;)if(r[l][1].type==="mathTextData"){r[n][1].type="mathTextPadding",r[o][1].type="mathTextPadding",o+=2,n-=2;break}}for(l=o-1,n++;++l<=n;)c===void 0?l!==n&&r[l][1].type!=="lineEnding"&&(c=l):(l===n||r[l][1].type==="lineEnding")&&(r[c][1].type="mathTextData",l!==c+2&&(r[c][1].end=r[l-1][1].end,r.splice(c+2,l-c-2),n-=l-c-2,l=c+2),c=void 0);return r}function previous$1(r){return r!==36||this.events[this.events.length-1][1].type==="characterEscape"}function math$1(r){return{flow:{36:mathFlow},text:{36:mathText(r)}}}class SourceLocation{constructor(n,o,l){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=n,this.start=o,this.end=l}static range(n,o){return o?!n||!n.loc||!o.loc||n.loc.lexer!==o.loc.lexer?null:new SourceLocation(n.loc.lexer,n.loc.start,o.loc.end):n&&n.loc}}class Token{constructor(n,o){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=n,this.loc=o}range(n,o){return new Token(o,SourceLocation.range(this,n))}}class ParseError{constructor(n,o){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var l="KaTeX parse error: "+n,c,f,d=o&&o.loc;if(d&&d.start<=d.end){var w=d.lexer.input;c=d.start,f=d.end,c===w.length?l+=" at end of input: ":l+=" at position "+(c+1)+": ";var y=w.slice(c,f).replace(/[^]/g,"$&"),L;c>15?L=""+w.slice(c-15,c):L=w.slice(0,c);var G;f+15<w.length?G=w.slice(f,f+15)+"":G=w.slice(f),l+=L+y+G}var H=new Error(l);return H.name="ParseError",H.__proto__=ParseError.prototype,H.position=c,c!=null&&f!=null&&(H.length=f-c),H.rawMessage=n,H}}ParseError.prototype.__proto__=Error.prototype;var deflt=function r(n,o){return n===void 0?o:n},uppercase=/([A-Z])/g,hyphenate=function r(n){return n.replace(uppercase,"-$1").toLowerCase()},ESCAPE_LOOKUP={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},ESCAPE_REGEX=/[&><"']/g;function escape(r){return String(r).replace(ESCAPE_REGEX,n=>ESCAPE_LOOKUP[n])}var getBaseElem=function r(n){return n.type==="ordgroup"||n.type==="color"?n.body.length===1?r(n.body[0]):n:n.type==="font"?r(n.body):n},isCharacterBox=function r(n){var o=getBaseElem(n);return o.type==="mathord"||o.type==="textord"||o.type==="atom"},assert=function r(n){if(!n)throw new Error("Expected non-null, but got "+String(n));return n},protocolFromUrl=function r(n){var o=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(n);return o?o[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(o[1])?null:o[1].toLowerCase():"_relative"},utils={deflt,escape,hyphenate,getBaseElem,isCharacterBox,protocolFromUrl},SETTINGS_SCHEMA={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:r=>"#"+r},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(r,n)=>(n.push(r),n)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:r=>Math.max(0,r),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:r=>Math.max(0,r),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:r=>Math.max(0,r),cli:"-e, --max-expand <n>",cliProcessor:r=>r==="Infinity"?1/0:parseInt(r)},globalGroup:{type:"boolean",cli:!1}};function getDefaultValue(r){if(r.default)return r.default;var n=r.type,o=Array.isArray(n)?n[0]:n;if(typeof o!="string")return o.enum[0];switch(o){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class Settings{constructor(n){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,n=n||{};for(var o in SETTINGS_SCHEMA)if(SETTINGS_SCHEMA.hasOwnProperty(o)){var l=SETTINGS_SCHEMA[o];this[o]=n[o]!==void 0?l.processor?l.processor(n[o]):n[o]:getDefaultValue(l)}}reportNonstrict(n,o,l){var c=this.strict;if(typeof c=="function"&&(c=c(n,o,l)),!(!c||c==="ignore")){if(c===!0||c==="error")throw new ParseError("LaTeX-incompatible input and strict mode is set to 'error': "+(o+" ["+n+"]"),l);c==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(o+" ["+n+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+c+"': "+o+" ["+n+"]"))}}useStrictBehavior(n,o,l){var c=this.strict;if(typeof c=="function")try{c=c(n,o,l)}catch{c="error"}return!c||c==="ignore"?!1:c===!0||c==="error"?!0:c==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(o+" ["+n+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+c+"': "+o+" ["+n+"]")),!1)}isTrusted(n){if(n.url&&!n.protocol){var o=utils.protocolFromUrl(n.url);if(o==null)return!1;n.protocol=o}var l=typeof this.trust=="function"?this.trust(n):this.trust;return!!l}}class Style{constructor(n,o,l){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=n,this.size=o,this.cramped=l}sup(){return styles[sup[this.id]]}sub(){return styles[sub[this.id]]}fracNum(){return styles[fracNum[this.id]]}fracDen(){return styles[fracDen[this.id]]}cramp(){return styles[cramp[this.id]]}text(){return styles[text$1$1[this.id]]}isTight(){return this.size>=2}}var D=0,Dc=1,T=2,Tc=3,S=4,Sc=5,SS=6,SSc=7,styles=[new Style(D,0,!1),new Style(Dc,0,!0),new Style(T,1,!1),new Style(Tc,1,!0),new Style(S,2,!1),new Style(Sc,2,!0),new Style(SS,3,!1),new Style(SSc,3,!0)],sup=[S,Sc,S,Sc,SS,SSc,SS,SSc],sub=[Sc,Sc,Sc,Sc,SSc,SSc,SSc,SSc],fracNum=[T,Tc,S,Sc,SS,SSc,SS,SSc],fracDen=[Tc,Tc,Sc,Sc,SSc,SSc,SSc,SSc],cramp=[Dc,Dc,Tc,Tc,Sc,Sc,SSc,SSc],text$1$1=[D,Dc,T,Tc,T,Tc,T,Tc],Style$1={DISPLAY:styles[D],TEXT:styles[T],SCRIPT:styles[S],SCRIPTSCRIPT:styles[SS]},scriptData=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function scriptFromCodepoint(r){for(var n=0;n<scriptData.length;n++)for(var o=scriptData[n],l=0;l<o.blocks.length;l++){var c=o.blocks[l];if(r>=c[0]&&r<=c[1])return o.name}return null}var allBlocks=[];scriptData.forEach(r=>r.blocks.forEach(n=>allBlocks.push(...n)));function supportedCodepoint(r){for(var n=0;n<allBlocks.length;n+=2)if(r>=allBlocks[n]&&r<=allBlocks[n+1])return!0;return!1}var hLinePad=80,sqrtMain=function r(n,o){return"M95,"+(622+n+o)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+n/2.075+" -"+n+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+n)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+n)+" "+o+"h400000v"+(40+n)+"h-400000z"},sqrtSize1=function r(n,o){return"M263,"+(601+n+o)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+n/2.084+" -"+n+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+n)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+n)+" "+o+"h400000v"+(40+n)+"h-400000z"},sqrtSize2=function r(n,o){return"M983 "+(10+n+o)+`
l`+n/3.13+" -"+n+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+n)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+n)+" "+o+"h400000v"+(40+n)+"h-400000z"},sqrtSize3=function r(n,o){return"M424,"+(2398+n+o)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+n/4.223+" -"+n+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+n)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+n)+" "+o+`
h400000v`+(40+n)+"h-400000z"},sqrtSize4=function r(n,o){return"M473,"+(2713+n+o)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+n/5.298+" -"+n+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+n)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+n)+" "+o+"h400000v"+(40+n)+"H1017.7z"},phasePath=function r(n){var o=n/2;return"M400000 "+n+" H0 L"+o+" 0 l65 45 L145 "+(n-80)+" H400000z"},sqrtTall=function r(n,o,l){var c=l-54-o-n;return"M702 "+(n+o)+"H400000"+(40+n)+`
H742v`+c+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+o+"H400000v"+(40+n)+"H742z"},sqrtPath=function r(n,o,l){o=1e3*o;var c="";switch(n){case"sqrtMain":c=sqrtMain(o,hLinePad);break;case"sqrtSize1":c=sqrtSize1(o,hLinePad);break;case"sqrtSize2":c=sqrtSize2(o,hLinePad);break;case"sqrtSize3":c=sqrtSize3(o,hLinePad);break;case"sqrtSize4":c=sqrtSize4(o,hLinePad);break;case"sqrtTall":c=sqrtTall(o,hLinePad,l)}return c},innerPath=function r(n,o){switch(n){case"":return"M291 0 H417 V"+o+" H291z M291 0 H417 V"+o+" H291z";case"":return"M145 0 H188 V"+o+" H145z M145 0 H188 V"+o+" H145z";case"":return"M145 0 H188 V"+o+" H145z M145 0 H188 V"+o+" H145z"+("M367 0 H410 V"+o+" H367z M367 0 H410 V"+o+" H367z");case"":return"M457 0 H583 V"+o+" H457z M457 0 H583 V"+o+" H457z";case"":return"M319 0 H403 V"+o+" H319z M319 0 H403 V"+o+" H319z";case"":return"M263 0 H347 V"+o+" H263z M263 0 H347 V"+o+" H263z";case"":return"M384 0 H504 V"+o+" H384z M384 0 H504 V"+o+" H384z";case"":return"M312 0 H355 V"+o+" H312z M312 0 H355 V"+o+" H312z";case"":return"M257 0 H300 V"+o+" H257z M257 0 H300 V"+o+" H257z"+("M478 0 H521 V"+o+" H478z M478 0 H521 V"+o+" H478z");default:return""}},path$1={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},tallDelim=function r(n,o){switch(n){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+o+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+o+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+o+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+o+" v1759 h84z";case"vert":return"M145 15 v585 v"+o+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-o+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+o+" v585 h43z";case"doublevert":return"M145 15 v585 v"+o+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-o+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+o+` v585 h43z
M367 15 v585 v`+o+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-o+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+o+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+o+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+o+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+o+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+o+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+o+` v602 h84z
M403 1759 V0 H319 V1759 v`+o+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+o+` v602 h84z
M347 1759 V0 h-84 V1759 v`+o+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(o+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(o+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(o+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(o+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class DocumentFragment{constructor(n){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=n,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(n){return this.classes.includes(n)}toNode(){for(var n=document.createDocumentFragment(),o=0;o<this.children.length;o++)n.appendChild(this.children[o].toNode());return n}toMarkup(){for(var n="",o=0;o<this.children.length;o++)n+=this.children[o].toMarkup();return n}toText(){var n=o=>o.toText();return this.children.map(n).join("")}}var fontMetricsData={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},sigmasAndXis={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},extraCharacterMap={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function setFontMetrics(r,n){fontMetricsData[r]=n}function getCharacterMetrics(r,n,o){if(!fontMetricsData[n])throw new Error("Font metrics not found for font: "+n+".");var l=r.charCodeAt(0),c=fontMetricsData[n][l];if(!c&&r[0]in extraCharacterMap&&(l=extraCharacterMap[r[0]].charCodeAt(0),c=fontMetricsData[n][l]),!c&&o==="text"&&supportedCodepoint(l)&&(c=fontMetricsData[n][77]),c)return{depth:c[0],height:c[1],italic:c[2],skew:c[3],width:c[4]}}var fontMetricsBySizeIndex={};function getGlobalMetrics(r){var n;if(r>=5?n=0:r>=3?n=1:n=2,!fontMetricsBySizeIndex[n]){var o=fontMetricsBySizeIndex[n]={cssEmPerMu:sigmasAndXis.quad[n]/18};for(var l in sigmasAndXis)sigmasAndXis.hasOwnProperty(l)&&(o[l]=sigmasAndXis[l][n])}return fontMetricsBySizeIndex[n]}var sizeStyleMap=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],sizeMultipliers=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],sizeAtStyle=function r(n,o){return o.size<2?n:sizeStyleMap[n-1][o.size-1]};class Options{constructor(n){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=n.style,this.color=n.color,this.size=n.size||Options.BASESIZE,this.textSize=n.textSize||this.size,this.phantom=!!n.phantom,this.font=n.font||"",this.fontFamily=n.fontFamily||"",this.fontWeight=n.fontWeight||"",this.fontShape=n.fontShape||"",this.sizeMultiplier=sizeMultipliers[this.size-1],this.maxSize=n.maxSize,this.minRuleThickness=n.minRuleThickness,this._fontMetrics=void 0}extend(n){var o={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var l in n)n.hasOwnProperty(l)&&(o[l]=n[l]);return new Options(o)}havingStyle(n){return this.style===n?this:this.extend({style:n,size:sizeAtStyle(this.textSize,n)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(n){return this.size===n&&this.textSize===n?this:this.extend({style:this.style.text(),size:n,textSize:n,sizeMultiplier:sizeMultipliers[n-1]})}havingBaseStyle(n){n=n||this.style.text();var o=sizeAtStyle(Options.BASESIZE,n);return this.size===o&&this.textSize===Options.BASESIZE&&this.style===n?this:this.extend({style:n,size:o})}havingBaseSizing(){var n;switch(this.style.id){case 4:case 5:n=3;break;case 6:case 7:n=1;break;default:n=6}return this.extend({style:this.style.text(),size:n})}withColor(n){return this.extend({color:n})}withPhantom(){return this.extend({phantom:!0})}withFont(n){return this.extend({font:n})}withTextFontFamily(n){return this.extend({fontFamily:n,font:""})}withTextFontWeight(n){return this.extend({fontWeight:n,font:""})}withTextFontShape(n){return this.extend({fontShape:n,font:""})}sizingClasses(n){return n.size!==this.size?["sizing","reset-size"+n.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Options.BASESIZE?["sizing","reset-size"+this.size,"size"+Options.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=getGlobalMetrics(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Options.BASESIZE=6;var ptPerUnit={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},relativeUnit={ex:!0,em:!0,mu:!0},validUnit=function r(n){return typeof n!="string"&&(n=n.unit),n in ptPerUnit||n in relativeUnit||n==="ex"},calculateSize=function r(n,o){var l;if(n.unit in ptPerUnit)l=ptPerUnit[n.unit]/o.fontMetrics().ptPerEm/o.sizeMultiplier;else if(n.unit==="mu")l=o.fontMetrics().cssEmPerMu;else{var c;if(o.style.isTight()?c=o.havingStyle(o.style.text()):c=o,n.unit==="ex")l=c.fontMetrics().xHeight;else if(n.unit==="em")l=c.fontMetrics().quad;else throw new ParseError("Invalid unit: '"+n.unit+"'");c!==o&&(l*=c.sizeMultiplier/o.sizeMultiplier)}return Math.min(n.number*l,o.maxSize)},makeEm=function r(n){return+n.toFixed(4)+"em"},createClass=function r(n){return n.filter(o=>o).join(" ")},initNode=function r(n,o,l){if(this.classes=n||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=l||{},o){o.style.isTight()&&this.classes.push("mtight");var c=o.getColor();c&&(this.style.color=c)}},toNode=function r(n){var o=document.createElement(n);o.className=createClass(this.classes);for(var l in this.style)this.style.hasOwnProperty(l)&&(o.style[l]=this.style[l]);for(var c in this.attributes)this.attributes.hasOwnProperty(c)&&o.setAttribute(c,this.attributes[c]);for(var f=0;f<this.children.length;f++)o.appendChild(this.children[f].toNode());return o},invalidAttributeNameRegex=/[\s"'>/=\x00-\x1f]/,toMarkup=function r(n){var o="<"+n;this.classes.length&&(o+=' class="'+utils.escape(createClass(this.classes))+'"');var l="";for(var c in this.style)this.style.hasOwnProperty(c)&&(l+=utils.hyphenate(c)+":"+this.style[c]+";");l&&(o+=' style="'+utils.escape(l)+'"');for(var f in this.attributes)if(this.attributes.hasOwnProperty(f)){if(invalidAttributeNameRegex.test(f))throw new ParseError("Invalid attribute name '"+f+"'");o+=" "+f+'="'+utils.escape(this.attributes[f])+'"'}o+=">";for(var d=0;d<this.children.length;d++)o+=this.children[d].toMarkup();return o+="</"+n+">",o};class Span{constructor(n,o,l,c){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,initNode.call(this,n,l,c),this.children=o||[]}setAttribute(n,o){this.attributes[n]=o}hasClass(n){return this.classes.includes(n)}toNode(){return toNode.call(this,"span")}toMarkup(){return toMarkup.call(this,"span")}}class Anchor{constructor(n,o,l,c){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,initNode.call(this,o,c),this.children=l||[],this.setAttribute("href",n)}setAttribute(n,o){this.attributes[n]=o}hasClass(n){return this.classes.includes(n)}toNode(){return toNode.call(this,"a")}toMarkup(){return toMarkup.call(this,"a")}}class Img{constructor(n,o,l){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=o,this.src=n,this.classes=["mord"],this.style=l}hasClass(n){return this.classes.includes(n)}toNode(){var n=document.createElement("img");n.src=this.src,n.alt=this.alt,n.className="mord";for(var o in this.style)this.style.hasOwnProperty(o)&&(n.style[o]=this.style[o]);return n}toMarkup(){var n='<img src="'+utils.escape(this.src)+'"'+(' alt="'+utils.escape(this.alt)+'"'),o="";for(var l in this.style)this.style.hasOwnProperty(l)&&(o+=utils.hyphenate(l)+":"+this.style[l]+";");return o&&(n+=' style="'+utils.escape(o)+'"'),n+="'/>",n}}var iCombinations={:"",:"",:"",:""};class SymbolNode{constructor(n,o,l,c,f,d,w,y){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=n,this.height=o||0,this.depth=l||0,this.italic=c||0,this.skew=f||0,this.width=d||0,this.classes=w||[],this.style=y||{},this.maxFontSize=0;var L=scriptFromCodepoint(this.text.charCodeAt(0));L&&this.classes.push(L+"_fallback"),/[]/.test(this.text)&&(this.text=iCombinations[this.text])}hasClass(n){return this.classes.includes(n)}toNode(){var n=document.createTextNode(this.text),o=null;this.italic>0&&(o=document.createElement("span"),o.style.marginRight=makeEm(this.italic)),this.classes.length>0&&(o=o||document.createElement("span"),o.className=createClass(this.classes));for(var l in this.style)this.style.hasOwnProperty(l)&&(o=o||document.createElement("span"),o.style[l]=this.style[l]);return o?(o.appendChild(n),o):n}toMarkup(){var n=!1,o="<span";this.classes.length&&(n=!0,o+=' class="',o+=utils.escape(createClass(this.classes)),o+='"');var l="";this.italic>0&&(l+="margin-right:"+this.italic+"em;");for(var c in this.style)this.style.hasOwnProperty(c)&&(l+=utils.hyphenate(c)+":"+this.style[c]+";");l&&(n=!0,o+=' style="'+utils.escape(l)+'"');var f=utils.escape(this.text);return n?(o+=">",o+=f,o+="</span>",o):f}}class SvgNode{constructor(n,o){this.children=void 0,this.attributes=void 0,this.children=n||[],this.attributes=o||{}}toNode(){var n="http://www.w3.org/2000/svg",o=document.createElementNS(n,"svg");for(var l in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,l)&&o.setAttribute(l,this.attributes[l]);for(var c=0;c<this.children.length;c++)o.appendChild(this.children[c].toNode());return o}toMarkup(){var n='<svg xmlns="http://www.w3.org/2000/svg"';for(var o in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,o)&&(n+=" "+o+'="'+utils.escape(this.attributes[o])+'"');n+=">";for(var l=0;l<this.children.length;l++)n+=this.children[l].toMarkup();return n+="</svg>",n}}class PathNode{constructor(n,o){this.pathName=void 0,this.alternate=void 0,this.pathName=n,this.alternate=o}toNode(){var n="http://www.w3.org/2000/svg",o=document.createElementNS(n,"path");return this.alternate?o.setAttribute("d",this.alternate):o.setAttribute("d",path$1[this.pathName]),o}toMarkup(){return this.alternate?'<path d="'+utils.escape(this.alternate)+'"/>':'<path d="'+utils.escape(path$1[this.pathName])+'"/>'}}class LineNode{constructor(n){this.attributes=void 0,this.attributes=n||{}}toNode(){var n="http://www.w3.org/2000/svg",o=document.createElementNS(n,"line");for(var l in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,l)&&o.setAttribute(l,this.attributes[l]);return o}toMarkup(){var n="<line";for(var o in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,o)&&(n+=" "+o+'="'+utils.escape(this.attributes[o])+'"');return n+="/>",n}}function assertSymbolDomNode(r){if(r instanceof SymbolNode)return r;throw new Error("Expected symbolNode but got "+String(r)+".")}function assertSpan(r){if(r instanceof Span)return r;throw new Error("Expected span<HtmlDomNode> but got "+String(r)+".")}var ATOMS={bin:1,close:1,inner:1,open:1,punct:1,rel:1},NON_ATOMS={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},symbols={math:{},text:{}};function defineSymbol(r,n,o,l,c,f){symbols[r][c]={font:n,group:o,replace:l},f&&l&&(symbols[r][l]=symbols[r][c])}var math="math",text$3="text",main="main",ams="ams",accent="accent-token",bin="bin",close="close",inner="inner",mathord="mathord",op="op-token",open$1="open",punct="punct",rel="rel",spacing="spacing",textord="textord";defineSymbol(math,main,rel,"","\\equiv",!0);defineSymbol(math,main,rel,"","\\prec",!0);defineSymbol(math,main,rel,"","\\succ",!0);defineSymbol(math,main,rel,"","\\sim",!0);defineSymbol(math,main,rel,"","\\perp");defineSymbol(math,main,rel,"","\\preceq",!0);defineSymbol(math,main,rel,"","\\succeq",!0);defineSymbol(math,main,rel,"","\\simeq",!0);defineSymbol(math,main,rel,"","\\mid",!0);defineSymbol(math,main,rel,"","\\ll",!0);defineSymbol(math,main,rel,"","\\gg",!0);defineSymbol(math,main,rel,"","\\asymp",!0);defineSymbol(math,main,rel,"","\\parallel");defineSymbol(math,main,rel,"","\\bowtie",!0);defineSymbol(math,main,rel,"","\\smile",!0);defineSymbol(math,main,rel,"","\\sqsubseteq",!0);defineSymbol(math,main,rel,"","\\sqsupseteq",!0);defineSymbol(math,main,rel,"","\\doteq",!0);defineSymbol(math,main,rel,"","\\frown",!0);defineSymbol(math,main,rel,"","\\ni",!0);defineSymbol(math,main,rel,"","\\propto",!0);defineSymbol(math,main,rel,"","\\vdash",!0);defineSymbol(math,main,rel,"","\\dashv",!0);defineSymbol(math,main,rel,"","\\owns");defineSymbol(math,main,punct,".","\\ldotp");defineSymbol(math,main,punct,"","\\cdotp");defineSymbol(math,main,textord,"#","\\#");defineSymbol(text$3,main,textord,"#","\\#");defineSymbol(math,main,textord,"&","\\&");defineSymbol(text$3,main,textord,"&","\\&");defineSymbol(math,main,textord,"","\\aleph",!0);defineSymbol(math,main,textord,"","\\forall",!0);defineSymbol(math,main,textord,"","\\hbar",!0);defineSymbol(math,main,textord,"","\\exists",!0);defineSymbol(math,main,textord,"","\\nabla",!0);defineSymbol(math,main,textord,"","\\flat",!0);defineSymbol(math,main,textord,"","\\ell",!0);defineSymbol(math,main,textord,"","\\natural",!0);defineSymbol(math,main,textord,"","\\clubsuit",!0);defineSymbol(math,main,textord,"","\\wp",!0);defineSymbol(math,main,textord,"","\\sharp",!0);defineSymbol(math,main,textord,"","\\diamondsuit",!0);defineSymbol(math,main,textord,"","\\Re",!0);defineSymbol(math,main,textord,"","\\heartsuit",!0);defineSymbol(math,main,textord,"","\\Im",!0);defineSymbol(math,main,textord,"","\\spadesuit",!0);defineSymbol(math,main,textord,"","\\S",!0);defineSymbol(text$3,main,textord,"","\\S");defineSymbol(math,main,textord,"","\\P",!0);defineSymbol(text$3,main,textord,"","\\P");defineSymbol(math,main,textord,"","\\dag");defineSymbol(text$3,main,textord,"","\\dag");defineSymbol(text$3,main,textord,"","\\textdagger");defineSymbol(math,main,textord,"","\\ddag");defineSymbol(text$3,main,textord,"","\\ddag");defineSymbol(text$3,main,textord,"","\\textdaggerdbl");defineSymbol(math,main,close,"","\\rmoustache",!0);defineSymbol(math,main,open$1,"","\\lmoustache",!0);defineSymbol(math,main,close,"","\\rgroup",!0);defineSymbol(math,main,open$1,"","\\lgroup",!0);defineSymbol(math,main,bin,"","\\mp",!0);defineSymbol(math,main,bin,"","\\ominus",!0);defineSymbol(math,main,bin,"","\\uplus",!0);defineSymbol(math,main,bin,"","\\sqcap",!0);defineSymbol(math,main,bin,"","\\ast");defineSymbol(math,main,bin,"","\\sqcup",!0);defineSymbol(math,main,bin,"","\\bigcirc",!0);defineSymbol(math,main,bin,"","\\bullet",!0);defineSymbol(math,main,bin,"","\\ddagger");defineSymbol(math,main,bin,"","\\wr",!0);defineSymbol(math,main,bin,"","\\amalg");defineSymbol(math,main,bin,"&","\\And");defineSymbol(math,main,rel,"","\\longleftarrow",!0);defineSymbol(math,main,rel,"","\\Leftarrow",!0);defineSymbol(math,main,rel,"","\\Longleftarrow",!0);defineSymbol(math,main,rel,"","\\longrightarrow",!0);defineSymbol(math,main,rel,"","\\Rightarrow",!0);defineSymbol(math,main,rel,"","\\Longrightarrow",!0);defineSymbol(math,main,rel,"","\\leftrightarrow",!0);defineSymbol(math,main,rel,"","\\longleftrightarrow",!0);defineSymbol(math,main,rel,"","\\Leftrightarrow",!0);defineSymbol(math,main,rel,"","\\Longleftrightarrow",!0);defineSymbol(math,main,rel,"","\\mapsto",!0);defineSymbol(math,main,rel,"","\\longmapsto",!0);defineSymbol(math,main,rel,"","\\nearrow",!0);defineSymbol(math,main,rel,"","\\hookleftarrow",!0);defineSymbol(math,main,rel,"","\\hookrightarrow",!0);defineSymbol(math,main,rel,"","\\searrow",!0);defineSymbol(math,main,rel,"","\\leftharpoonup",!0);defineSymbol(math,main,rel,"","\\rightharpoonup",!0);defineSymbol(math,main,rel,"","\\swarrow",!0);defineSymbol(math,main,rel,"","\\leftharpoondown",!0);defineSymbol(math,main,rel,"","\\rightharpoondown",!0);defineSymbol(math,main,rel,"","\\nwarrow",!0);defineSymbol(math,main,rel,"","\\rightleftharpoons",!0);defineSymbol(math,ams,rel,"","\\nless",!0);defineSymbol(math,ams,rel,"","\\@nleqslant");defineSymbol(math,ams,rel,"","\\@nleqq");defineSymbol(math,ams,rel,"","\\lneq",!0);defineSymbol(math,ams,rel,"","\\lneqq",!0);defineSymbol(math,ams,rel,"","\\@lvertneqq");defineSymbol(math,ams,rel,"","\\lnsim",!0);defineSymbol(math,ams,rel,"","\\lnapprox",!0);defineSymbol(math,ams,rel,"","\\nprec",!0);defineSymbol(math,ams,rel,"","\\npreceq",!0);defineSymbol(math,ams,rel,"","\\precnsim",!0);defineSymbol(math,ams,rel,"","\\precnapprox",!0);defineSymbol(math,ams,rel,"","\\nsim",!0);defineSymbol(math,ams,rel,"","\\@nshortmid");defineSymbol(math,ams,rel,"","\\nmid",!0);defineSymbol(math,ams,rel,"","\\nvdash",!0);defineSymbol(math,ams,rel,"","\\nvDash",!0);defineSymbol(math,ams,rel,"","\\ntriangleleft");defineSymbol(math,ams,rel,"","\\ntrianglelefteq",!0);defineSymbol(math,ams,rel,"","\\subsetneq",!0);defineSymbol(math,ams,rel,"","\\@varsubsetneq");defineSymbol(math,ams,rel,"","\\subsetneqq",!0);defineSymbol(math,ams,rel,"","\\@varsubsetneqq");defineSymbol(math,ams,rel,"","\\ngtr",!0);defineSymbol(math,ams,rel,"","\\@ngeqslant");defineSymbol(math,ams,rel,"","\\@ngeqq");defineSymbol(math,ams,rel,"","\\gneq",!0);defineSymbol(math,ams,rel,"","\\gneqq",!0);defineSymbol(math,ams,rel,"","\\@gvertneqq");defineSymbol(math,ams,rel,"","\\gnsim",!0);defineSymbol(math,ams,rel,"","\\gnapprox",!0);defineSymbol(math,ams,rel,"","\\nsucc",!0);defineSymbol(math,ams,rel,"","\\nsucceq",!0);defineSymbol(math,ams,rel,"","\\succnsim",!0);defineSymbol(math,ams,rel,"","\\succnapprox",!0);defineSymbol(math,ams,rel,"","\\ncong",!0);defineSymbol(math,ams,rel,"","\\@nshortparallel");defineSymbol(math,ams,rel,"","\\nparallel",!0);defineSymbol(math,ams,rel,"","\\nVDash",!0);defineSymbol(math,ams,rel,"","\\ntriangleright");defineSymbol(math,ams,rel,"","\\ntrianglerighteq",!0);defineSymbol(math,ams,rel,"","\\@nsupseteqq");defineSymbol(math,ams,rel,"","\\supsetneq",!0);defineSymbol(math,ams,rel,"","\\@varsupsetneq");defineSymbol(math,ams,rel,"","\\supsetneqq",!0);defineSymbol(math,ams,rel,"","\\@varsupsetneqq");defineSymbol(math,ams,rel,"","\\nVdash",!0);defineSymbol(math,ams,rel,"","\\precneqq",!0);defineSymbol(math,ams,rel,"","\\succneqq",!0);defineSymbol(math,ams,rel,"","\\@nsubseteqq");defineSymbol(math,ams,bin,"","\\unlhd");defineSymbol(math,ams,bin,"","\\unrhd");defineSymbol(math,ams,rel,"","\\nleftarrow",!0);defineSymbol(math,ams,rel,"","\\nrightarrow",!0);defineSymbol(math,ams,rel,"","\\nLeftarrow",!0);defineSymbol(math,ams,rel,"","\\nRightarrow",!0);defineSymbol(math,ams,rel,"","\\nleftrightarrow",!0);defineSymbol(math,ams,rel,"","\\nLeftrightarrow",!0);defineSymbol(math,ams,rel,"","\\vartriangle");defineSymbol(math,ams,textord,"","\\hslash");defineSymbol(math,ams,textord,"","\\triangledown");defineSymbol(math,ams,textord,"","\\lozenge");defineSymbol(math,ams,textord,"","\\circledS");defineSymbol(math,ams,textord,"","\\circledR");defineSymbol(text$3,ams,textord,"","\\circledR");defineSymbol(math,ams,textord,"","\\measuredangle",!0);defineSymbol(math,ams,textord,"","\\nexists");defineSymbol(math,ams,textord,"","\\mho");defineSymbol(math,ams,textord,"","\\Finv",!0);defineSymbol(math,ams,textord,"","\\Game",!0);defineSymbol(math,ams,textord,"","\\backprime");defineSymbol(math,ams,textord,"","\\blacktriangle");defineSymbol(math,ams,textord,"","\\blacktriangledown");defineSymbol(math,ams,textord,"","\\blacksquare");defineSymbol(math,ams,textord,"","\\blacklozenge");defineSymbol(math,ams,textord,"","\\bigstar");defineSymbol(math,ams,textord,"","\\sphericalangle",!0);defineSymbol(math,ams,textord,"","\\complement",!0);defineSymbol(math,ams,textord,"","\\eth",!0);defineSymbol(text$3,main,textord,"","");defineSymbol(math,ams,textord,"","\\diagup");defineSymbol(math,ams,textord,"","\\diagdown");defineSymbol(math,ams,textord,"","\\square");defineSymbol(math,ams,textord,"","\\Box");defineSymbol(math,ams,textord,"","\\Diamond");defineSymbol(math,ams,textord,"","\\yen",!0);defineSymbol(text$3,ams,textord,"","\\yen",!0);defineSymbol(math,ams,textord,"","\\checkmark",!0);defineSymbol(text$3,ams,textord,"","\\checkmark");defineSymbol(math,ams,textord,"","\\beth",!0);defineSymbol(math,ams,textord,"","\\daleth",!0);defineSymbol(math,ams,textord,"","\\gimel",!0);defineSymbol(math,ams,textord,"","\\digamma",!0);defineSymbol(math,ams,textord,"","\\varkappa");defineSymbol(math,ams,open$1,"","\\@ulcorner",!0);defineSymbol(math,ams,close,"","\\@urcorner",!0);defineSymbol(math,ams,open$1,"","\\@llcorner",!0);defineSymbol(math,ams,close,"","\\@lrcorner",!0);defineSymbol(math,ams,rel,"","\\leqq",!0);defineSymbol(math,ams,rel,"","\\leqslant",!0);defineSymbol(math,ams,rel,"","\\eqslantless",!0);defineSymbol(math,ams,rel,"","\\lesssim",!0);defineSymbol(math,ams,rel,"","\\lessapprox",!0);defineSymbol(math,ams,rel,"","\\approxeq",!0);defineSymbol(math,ams,bin,"","\\lessdot");defineSymbol(math,ams,rel,"","\\lll",!0);defineSymbol(math,ams,rel,"","\\lessgtr",!0);defineSymbol(math,ams,rel,"","\\lesseqgtr",!0);defineSymbol(math,ams,rel,"","\\lesseqqgtr",!0);defineSymbol(math,ams,rel,"","\\doteqdot");defineSymbol(math,ams,rel,"","\\risingdotseq",!0);defineSymbol(math,ams,rel,"","\\fallingdotseq",!0);defineSymbol(math,ams,rel,"","\\backsim",!0);defineSymbol(math,ams,rel,"","\\backsimeq",!0);defineSymbol(math,ams,rel,"","\\subseteqq",!0);defineSymbol(math,ams,rel,"","\\Subset",!0);defineSymbol(math,ams,rel,"","\\sqsubset",!0);defineSymbol(math,ams,rel,"","\\preccurlyeq",!0);defineSymbol(math,ams,rel,"","\\curlyeqprec",!0);defineSymbol(math,ams,rel,"","\\precsim",!0);defineSymbol(math,ams,rel,"","\\precapprox",!0);defineSymbol(math,ams,rel,"","\\vartriangleleft");defineSymbol(math,ams,rel,"","\\trianglelefteq");defineSymbol(math,ams,rel,"","\\vDash",!0);defineSymbol(math,ams,rel,"","\\Vvdash",!0);defineSymbol(math,ams,rel,"","\\smallsmile");defineSymbol(math,ams,rel,"","\\smallfrown");defineSymbol(math,ams,rel,"","\\bumpeq",!0);defineSymbol(math,ams,rel,"","\\Bumpeq",!0);defineSymbol(math,ams,rel,"","\\geqq",!0);defineSymbol(math,ams,rel,"","\\geqslant",!0);defineSymbol(math,ams,rel,"","\\eqslantgtr",!0);defineSymbol(math,ams,rel,"","\\gtrsim",!0);defineSymbol(math,ams,rel,"","\\gtrapprox",!0);defineSymbol(math,ams,bin,"","\\gtrdot");defineSymbol(math,ams,rel,"","\\ggg",!0);defineSymbol(math,ams,rel,"","\\gtrless",!0);defineSymbol(math,ams,rel,"","\\gtreqless",!0);defineSymbol(math,ams,rel,"","\\gtreqqless",!0);defineSymbol(math,ams,rel,"","\\eqcirc",!0);defineSymbol(math,ams,rel,"","\\circeq",!0);defineSymbol(math,ams,rel,"","\\triangleq",!0);defineSymbol(math,ams,rel,"","\\thicksim");defineSymbol(math,ams,rel,"","\\thickapprox");defineSymbol(math,ams,rel,"","\\supseteqq",!0);defineSymbol(math,ams,rel,"","\\Supset",!0);defineSymbol(math,ams,rel,"","\\sqsupset",!0);defineSymbol(math,ams,rel,"","\\succcurlyeq",!0);defineSymbol(math,ams,rel,"","\\curlyeqsucc",!0);defineSymbol(math,ams,rel,"","\\succsim",!0);defineSymbol(math,ams,rel,"","\\succapprox",!0);defineSymbol(math,ams,rel,"","\\vartriangleright");defineSymbol(math,ams,rel,"","\\trianglerighteq");defineSymbol(math,ams,rel,"","\\Vdash",!0);defineSymbol(math,ams,rel,"","\\shortmid");defineSymbol(math,ams,rel,"","\\shortparallel");defineSymbol(math,ams,rel,"","\\between",!0);defineSymbol(math,ams,rel,"","\\pitchfork",!0);defineSymbol(math,ams,rel,"","\\varpropto");defineSymbol(math,ams,rel,"","\\blacktriangleleft");defineSymbol(math,ams,rel,"","\\therefore",!0);defineSymbol(math,ams,rel,"","\\backepsilon");defineSymbol(math,ams,rel,"","\\blacktriangleright");defineSymbol(math,ams,rel,"","\\because",!0);defineSymbol(math,ams,rel,"","\\llless");defineSymbol(math,ams,rel,"","\\gggtr");defineSymbol(math,ams,bin,"","\\lhd");defineSymbol(math,ams,bin,"","\\rhd");defineSymbol(math,ams,rel,"","\\eqsim",!0);defineSymbol(math,main,rel,"","\\Join");defineSymbol(math,ams,rel,"","\\Doteq",!0);defineSymbol(math,ams,bin,"","\\dotplus",!0);defineSymbol(math,ams,bin,"","\\smallsetminus");defineSymbol(math,ams,bin,"","\\Cap",!0);defineSymbol(math,ams,bin,"","\\Cup",!0);defineSymbol(math,ams,bin,"","\\doublebarwedge",!0);defineSymbol(math,ams,bin,"","\\boxminus",!0);defineSymbol(math,ams,bin,"","\\boxplus",!0);defineSymbol(math,ams,bin,"","\\divideontimes",!0);defineSymbol(math,ams,bin,"","\\ltimes",!0);defineSymbol(math,ams,bin,"","\\rtimes",!0);defineSymbol(math,ams,bin,"","\\leftthreetimes",!0);defineSymbol(math,ams,bin,"","\\rightthreetimes",!0);defineSymbol(math,ams,bin,"","\\curlywedge",!0);defineSymbol(math,ams,bin,"","\\curlyvee",!0);defineSymbol(math,ams,bin,"","\\circleddash",!0);defineSymbol(math,ams,bin,"","\\circledast",!0);defineSymbol(math,ams,bin,"","\\centerdot");defineSymbol(math,ams,bin,"","\\intercal",!0);defineSymbol(math,ams,bin,"","\\doublecap");defineSymbol(math,ams,bin,"","\\doublecup");defineSymbol(math,ams,bin,"","\\boxtimes",!0);defineSymbol(math,ams,rel,"","\\dashrightarrow",!0);defineSymbol(math,ams,rel,"","\\dashleftarrow",!0);defineSymbol(math,ams,rel,"","\\leftleftarrows",!0);defineSymbol(math,ams,rel,"","\\leftrightarrows",!0);defineSymbol(math,ams,rel,"","\\Lleftarrow",!0);defineSymbol(math,ams,rel,"","\\twoheadleftarrow",!0);defineSymbol(math,ams,rel,"","\\leftarrowtail",!0);defineSymbol(math,ams,rel,"","\\looparrowleft",!0);defineSymbol(math,ams,rel,"","\\leftrightharpoons",!0);defineSymbol(math,ams,rel,"","\\curvearrowleft",!0);defineSymbol(math,ams,rel,"","\\circlearrowleft",!0);defineSymbol(math,ams,rel,"","\\Lsh",!0);defineSymbol(math,ams,rel,"","\\upuparrows",!0);defineSymbol(math,ams,rel,"","\\upharpoonleft",!0);defineSymbol(math,ams,rel,"","\\downharpoonleft",!0);defineSymbol(math,main,rel,"","\\origof",!0);defineSymbol(math,main,rel,"","\\imageof",!0);defineSymbol(math,ams,rel,"","\\multimap",!0);defineSymbol(math,ams,rel,"","\\leftrightsquigarrow",!0);defineSymbol(math,ams,rel,"","\\rightrightarrows",!0);defineSymbol(math,ams,rel,"","\\rightleftarrows",!0);defineSymbol(math,ams,rel,"","\\twoheadrightarrow",!0);defineSymbol(math,ams,rel,"","\\rightarrowtail",!0);defineSymbol(math,ams,rel,"","\\looparrowright",!0);defineSymbol(math,ams,rel,"","\\curvearrowright",!0);defineSymbol(math,ams,rel,"","\\circlearrowright",!0);defineSymbol(math,ams,rel,"","\\Rsh",!0);defineSymbol(math,ams,rel,"","\\downdownarrows",!0);defineSymbol(math,ams,rel,"","\\upharpoonright",!0);defineSymbol(math,ams,rel,"","\\downharpoonright",!0);defineSymbol(math,ams,rel,"","\\rightsquigarrow",!0);defineSymbol(math,ams,rel,"","\\leadsto");defineSymbol(math,ams,rel,"","\\Rrightarrow",!0);defineSymbol(math,ams,rel,"","\\restriction");defineSymbol(math,main,textord,"","`");defineSymbol(math,main,textord,"$","\\$");defineSymbol(text$3,main,textord,"$","\\$");defineSymbol(text$3,main,textord,"$","\\textdollar");defineSymbol(math,main,textord,"%","\\%");defineSymbol(text$3,main,textord,"%","\\%");defineSymbol(math,main,textord,"_","\\_");defineSymbol(text$3,main,textord,"_","\\_");defineSymbol(text$3,main,textord,"_","\\textunderscore");defineSymbol(math,main,textord,"","\\angle",!0);defineSymbol(math,main,textord,"","\\infty",!0);defineSymbol(math,main,textord,"","\\prime");defineSymbol(math,main,textord,"","\\triangle");defineSymbol(math,main,textord,"","\\Gamma",!0);defineSymbol(math,main,textord,"","\\Delta",!0);defineSymbol(math,main,textord,"","\\Theta",!0);defineSymbol(math,main,textord,"","\\Lambda",!0);defineSymbol(math,main,textord,"","\\Xi",!0);defineSymbol(math,main,textord,"","\\Pi",!0);defineSymbol(math,main,textord,"","\\Sigma",!0);defineSymbol(math,main,textord,"","\\Upsilon",!0);defineSymbol(math,main,textord,"","\\Phi",!0);defineSymbol(math,main,textord,"","\\Psi",!0);defineSymbol(math,main,textord,"","\\Omega",!0);defineSymbol(math,main,textord,"A","");defineSymbol(math,main,textord,"B","");defineSymbol(math,main,textord,"E","");defineSymbol(math,main,textord,"Z","");defineSymbol(math,main,textord,"H","");defineSymbol(math,main,textord,"I","");defineSymbol(math,main,textord,"K","");defineSymbol(math,main,textord,"M","");defineSymbol(math,main,textord,"N","");defineSymbol(math,main,textord,"O","");defineSymbol(math,main,textord,"P","");defineSymbol(math,main,textord,"T","");defineSymbol(math,main,textord,"X","");defineSymbol(math,main,textord,"","\\neg",!0);defineSymbol(math,main,textord,"","\\lnot");defineSymbol(math,main,textord,"","\\top");defineSymbol(math,main,textord,"","\\bot");defineSymbol(math,main,textord,"","\\emptyset");defineSymbol(math,ams,textord,"","\\varnothing");defineSymbol(math,main,mathord,"","\\alpha",!0);defineSymbol(math,main,mathord,"","\\beta",!0);defineSymbol(math,main,mathord,"","\\gamma",!0);defineSymbol(math,main,mathord,"","\\delta",!0);defineSymbol(math,main,mathord,"","\\epsilon",!0);defineSymbol(math,main,mathord,"","\\zeta",!0);defineSymbol(math,main,mathord,"","\\eta",!0);defineSymbol(math,main,mathord,"","\\theta",!0);defineSymbol(math,main,mathord,"","\\iota",!0);defineSymbol(math,main,mathord,"","\\kappa",!0);defineSymbol(math,main,mathord,"","\\lambda",!0);defineSymbol(math,main,mathord,"","\\mu",!0);defineSymbol(math,main,mathord,"","\\nu",!0);defineSymbol(math,main,mathord,"","\\xi",!0);defineSymbol(math,main,mathord,"","\\omicron",!0);defineSymbol(math,main,mathord,"","\\pi",!0);defineSymbol(math,main,mathord,"","\\rho",!0);defineSymbol(math,main,mathord,"","\\sigma",!0);defineSymbol(math,main,mathord,"","\\tau",!0);defineSymbol(math,main,mathord,"","\\upsilon",!0);defineSymbol(math,main,mathord,"","\\phi",!0);defineSymbol(math,main,mathord,"","\\chi",!0);defineSymbol(math,main,mathord,"","\\psi",!0);defineSymbol(math,main,mathord,"","\\omega",!0);defineSymbol(math,main,mathord,"","\\varepsilon",!0);defineSymbol(math,main,mathord,"","\\vartheta",!0);defineSymbol(math,main,mathord,"","\\varpi",!0);defineSymbol(math,main,mathord,"","\\varrho",!0);defineSymbol(math,main,mathord,"","\\varsigma",!0);defineSymbol(math,main,mathord,"","\\varphi",!0);defineSymbol(math,main,bin,"","*",!0);defineSymbol(math,main,bin,"+","+");defineSymbol(math,main,bin,"","-",!0);defineSymbol(math,main,bin,"","\\cdot",!0);defineSymbol(math,main,bin,"","\\circ",!0);defineSymbol(math,main,bin,"","\\div",!0);defineSymbol(math,main,bin,"","\\pm",!0);defineSymbol(math,main,bin,"","\\times",!0);defineSymbol(math,main,bin,"","\\cap",!0);defineSymbol(math,main,bin,"","\\cup",!0);defineSymbol(math,main,bin,"","\\setminus",!0);defineSymbol(math,main,bin,"","\\land");defineSymbol(math,main,bin,"","\\lor");defineSymbol(math,main,bin,"","\\wedge",!0);defineSymbol(math,main,bin,"","\\vee",!0);defineSymbol(math,main,textord,"","\\surd");defineSymbol(math,main,open$1,"","\\langle",!0);defineSymbol(math,main,open$1,"","\\lvert");defineSymbol(math,main,open$1,"","\\lVert");defineSymbol(math,main,close,"?","?");defineSymbol(math,main,close,"!","!");defineSymbol(math,main,close,"","\\rangle",!0);defineSymbol(math,main,close,"","\\rvert");defineSymbol(math,main,close,"","\\rVert");defineSymbol(math,main,rel,"=","=");defineSymbol(math,main,rel,":",":");defineSymbol(math,main,rel,"","\\approx",!0);defineSymbol(math,main,rel,"","\\cong",!0);defineSymbol(math,main,rel,"","\\ge");defineSymbol(math,main,rel,"","\\geq",!0);defineSymbol(math,main,rel,"","\\gets");defineSymbol(math,main,rel,">","\\gt",!0);defineSymbol(math,main,rel,"","\\in",!0);defineSymbol(math,main,rel,"","\\@not");defineSymbol(math,main,rel,"","\\subset",!0);defineSymbol(math,main,rel,"","\\supset",!0);defineSymbol(math,main,rel,"","\\subseteq",!0);defineSymbol(math,main,rel,"","\\supseteq",!0);defineSymbol(math,ams,rel,"","\\nsubseteq",!0);defineSymbol(math,ams,rel,"","\\nsupseteq",!0);defineSymbol(math,main,rel,"","\\models");defineSymbol(math,main,rel,"","\\leftarrow",!0);defineSymbol(math,main,rel,"","\\le");defineSymbol(math,main,rel,"","\\leq",!0);defineSymbol(math,main,rel,"<","\\lt",!0);defineSymbol(math,main,rel,"","\\rightarrow",!0);defineSymbol(math,main,rel,"","\\to");defineSymbol(math,ams,rel,"","\\ngeq",!0);defineSymbol(math,ams,rel,"","\\nleq",!0);defineSymbol(math,main,spacing,"","\\ ");defineSymbol(math,main,spacing,"","\\space");defineSymbol(math,main,spacing,"","\\nobreakspace");defineSymbol(text$3,main,spacing,"","\\ ");defineSymbol(text$3,main,spacing,""," ");defineSymbol(text$3,main,spacing,"","\\space");defineSymbol(text$3,main,spacing,"","\\nobreakspace");defineSymbol(math,main,spacing,null,"\\nobreak");defineSymbol(math,main,spacing,null,"\\allowbreak");defineSymbol(math,main,punct,",",",");defineSymbol(math,main,punct,";",";");defineSymbol(math,ams,bin,"","\\barwedge",!0);defineSymbol(math,ams,bin,"","\\veebar",!0);defineSymbol(math,main,bin,"","\\odot",!0);defineSymbol(math,main,bin,"","\\oplus",!0);defineSymbol(math,main,bin,"","\\otimes",!0);defineSymbol(math,main,textord,"","\\partial",!0);defineSymbol(math,main,bin,"","\\oslash",!0);defineSymbol(math,ams,bin,"","\\circledcirc",!0);defineSymbol(math,ams,bin,"","\\boxdot",!0);defineSymbol(math,main,bin,"","\\bigtriangleup");defineSymbol(math,main,bin,"","\\bigtriangledown");defineSymbol(math,main,bin,"","\\dagger");defineSymbol(math,main,bin,"","\\diamond");defineSymbol(math,main,bin,"","\\star");defineSymbol(math,main,bin,"","\\triangleleft");defineSymbol(math,main,bin,"","\\triangleright");defineSymbol(math,main,open$1,"{","\\{");defineSymbol(text$3,main,textord,"{","\\{");defineSymbol(text$3,main,textord,"{","\\textbraceleft");defineSymbol(math,main,close,"}","\\}");defineSymbol(text$3,main,textord,"}","\\}");defineSymbol(text$3,main,textord,"}","\\textbraceright");defineSymbol(math,main,open$1,"{","\\lbrace");defineSymbol(math,main,close,"}","\\rbrace");defineSymbol(math,main,open$1,"[","\\lbrack",!0);defineSymbol(text$3,main,textord,"[","\\lbrack",!0);defineSymbol(math,main,close,"]","\\rbrack",!0);defineSymbol(text$3,main,textord,"]","\\rbrack",!0);defineSymbol(math,main,open$1,"(","\\lparen",!0);defineSymbol(math,main,close,")","\\rparen",!0);defineSymbol(text$3,main,textord,"<","\\textless",!0);defineSymbol(text$3,main,textord,">","\\textgreater",!0);defineSymbol(math,main,open$1,"","\\lfloor",!0);defineSymbol(math,main,close,"","\\rfloor",!0);defineSymbol(math,main,open$1,"","\\lceil",!0);defineSymbol(math,main,close,"","\\rceil",!0);defineSymbol(math,main,textord,"\\","\\backslash");defineSymbol(math,main,textord,"","|");defineSymbol(math,main,textord,"","\\vert");defineSymbol(text$3,main,textord,"|","\\textbar",!0);defineSymbol(math,main,textord,"","\\|");defineSymbol(math,main,textord,"","\\Vert");defineSymbol(text$3,main,textord,"","\\textbardbl");defineSymbol(text$3,main,textord,"~","\\textasciitilde");defineSymbol(text$3,main,textord,"\\","\\textbackslash");defineSymbol(text$3,main,textord,"^","\\textasciicircum");defineSymbol(math,main,rel,"","\\uparrow",!0);defineSymbol(math,main,rel,"","\\Uparrow",!0);defineSymbol(math,main,rel,"","\\downarrow",!0);defineSymbol(math,main,rel,"","\\Downarrow",!0);defineSymbol(math,main,rel,"","\\updownarrow",!0);defineSymbol(math,main,rel,"","\\Updownarrow",!0);defineSymbol(math,main,op,"","\\coprod");defineSymbol(math,main,op,"","\\bigvee");defineSymbol(math,main,op,"","\\bigwedge");defineSymbol(math,main,op,"","\\biguplus");defineSymbol(math,main,op,"","\\bigcap");defineSymbol(math,main,op,"","\\bigcup");defineSymbol(math,main,op,"","\\int");defineSymbol(math,main,op,"","\\intop");defineSymbol(math,main,op,"","\\iint");defineSymbol(math,main,op,"","\\iiint");defineSymbol(math,main,op,"","\\prod");defineSymbol(math,main,op,"","\\sum");defineSymbol(math,main,op,"","\\bigotimes");defineSymbol(math,main,op,"","\\bigoplus");defineSymbol(math,main,op,"","\\bigodot");defineSymbol(math,main,op,"","\\oint");defineSymbol(math,main,op,"","\\oiint");defineSymbol(math,main,op,"","\\oiiint");defineSymbol(math,main,op,"","\\bigsqcup");defineSymbol(math,main,op,"","\\smallint");defineSymbol(text$3,main,inner,"","\\textellipsis");defineSymbol(math,main,inner,"","\\mathellipsis");defineSymbol(text$3,main,inner,"","\\ldots",!0);defineSymbol(math,main,inner,"","\\ldots",!0);defineSymbol(math,main,inner,"","\\@cdots",!0);defineSymbol(math,main,inner,"","\\ddots",!0);defineSymbol(math,main,textord,"","\\varvdots");defineSymbol(text$3,main,textord,"","\\varvdots");defineSymbol(math,main,accent,"","\\acute");defineSymbol(math,main,accent,"","\\grave");defineSymbol(math,main,accent,"","\\ddot");defineSymbol(math,main,accent,"~","\\tilde");defineSymbol(math,main,accent,"","\\bar");defineSymbol(math,main,accent,"","\\breve");defineSymbol(math,main,accent,"","\\check");defineSymbol(math,main,accent,"^","\\hat");defineSymbol(math,main,accent,"","\\vec");defineSymbol(math,main,accent,"","\\dot");defineSymbol(math,main,accent,"","\\mathring");defineSymbol(math,main,mathord,"","\\@imath");defineSymbol(math,main,mathord,"","\\@jmath");defineSymbol(math,main,textord,"","");defineSymbol(math,main,textord,"","");defineSymbol(text$3,main,textord,"","\\i",!0);defineSymbol(text$3,main,textord,"","\\j",!0);defineSymbol(text$3,main,textord,"","\\ss",!0);defineSymbol(text$3,main,textord,"","\\ae",!0);defineSymbol(text$3,main,textord,"","\\oe",!0);defineSymbol(text$3,main,textord,"","\\o",!0);defineSymbol(text$3,main,textord,"","\\AE",!0);defineSymbol(text$3,main,textord,"","\\OE",!0);defineSymbol(text$3,main,textord,"","\\O",!0);defineSymbol(text$3,main,accent,"","\\'");defineSymbol(text$3,main,accent,"","\\`");defineSymbol(text$3,main,accent,"","\\^");defineSymbol(text$3,main,accent,"","\\~");defineSymbol(text$3,main,accent,"","\\=");defineSymbol(text$3,main,accent,"","\\u");defineSymbol(text$3,main,accent,"","\\.");defineSymbol(text$3,main,accent,"","\\c");defineSymbol(text$3,main,accent,"","\\r");defineSymbol(text$3,main,accent,"","\\v");defineSymbol(text$3,main,accent,"",'\\"');defineSymbol(text$3,main,accent,"","\\H");defineSymbol(text$3,main,accent,"","\\textcircled");var ligatures={"--":!0,"---":!0,"``":!0,"''":!0};defineSymbol(text$3,main,textord,"","--",!0);defineSymbol(text$3,main,textord,"","\\textendash");defineSymbol(text$3,main,textord,"","---",!0);defineSymbol(text$3,main,textord,"","\\textemdash");defineSymbol(text$3,main,textord,"","`",!0);defineSymbol(text$3,main,textord,"","\\textquoteleft");defineSymbol(text$3,main,textord,"","'",!0);defineSymbol(text$3,main,textord,"","\\textquoteright");defineSymbol(text$3,main,textord,"","``",!0);defineSymbol(text$3,main,textord,"","\\textquotedblleft");defineSymbol(text$3,main,textord,"","''",!0);defineSymbol(text$3,main,textord,"","\\textquotedblright");defineSymbol(math,main,textord,"","\\degree",!0);defineSymbol(text$3,main,textord,"","\\degree");defineSymbol(text$3,main,textord,"","\\textdegree",!0);defineSymbol(math,main,textord,"","\\pounds");defineSymbol(math,main,textord,"","\\mathsterling",!0);defineSymbol(text$3,main,textord,"","\\pounds");defineSymbol(text$3,main,textord,"","\\textsterling",!0);defineSymbol(math,ams,textord,"","\\maltese");defineSymbol(text$3,ams,textord,"","\\maltese");var mathTextSymbols='0123456789/@."';for(var i=0;i<mathTextSymbols.length;i++){var ch=mathTextSymbols.charAt(i);defineSymbol(math,main,textord,ch,ch)}var textSymbols='0123456789!@*()-=+";:?/.,';for(var _i=0;_i<textSymbols.length;_i++){var _ch=textSymbols.charAt(_i);defineSymbol(text$3,main,textord,_ch,_ch)}var letters="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var _i2=0;_i2<letters.length;_i2++){var _ch2=letters.charAt(_i2);defineSymbol(math,main,mathord,_ch2,_ch2),defineSymbol(text$3,main,textord,_ch2,_ch2)}defineSymbol(math,ams,textord,"C","");defineSymbol(text$3,ams,textord,"C","");defineSymbol(math,ams,textord,"H","");defineSymbol(text$3,ams,textord,"H","");defineSymbol(math,ams,textord,"N","");defineSymbol(text$3,ams,textord,"N","");defineSymbol(math,ams,textord,"P","");defineSymbol(text$3,ams,textord,"P","");defineSymbol(math,ams,textord,"Q","");defineSymbol(text$3,ams,textord,"Q","");defineSymbol(math,ams,textord,"R","");defineSymbol(text$3,ams,textord,"R","");defineSymbol(math,ams,textord,"Z","");defineSymbol(text$3,ams,textord,"Z","");defineSymbol(math,main,mathord,"h","");defineSymbol(text$3,main,mathord,"h","");var wideChar="";for(var _i3=0;_i3<letters.length;_i3++){var _ch3=letters.charAt(_i3);wideChar=String.fromCharCode(55349,56320+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$3,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56372+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$3,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56424+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$3,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56580+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$3,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56684+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$3,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56736+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$3,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56788+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$3,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56840+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$3,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56944+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$3,main,textord,_ch3,wideChar),_i3<26&&(wideChar=String.fromCharCode(55349,56632+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$3,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56476+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$3,main,textord,_ch3,wideChar))}wideChar="";defineSymbol(math,main,mathord,"k",wideChar);defineSymbol(text$3,main,textord,"k",wideChar);for(var _i4=0;_i4<10;_i4++){var _ch4=_i4.toString();wideChar=String.fromCharCode(55349,57294+_i4),defineSymbol(math,main,mathord,_ch4,wideChar),defineSymbol(text$3,main,textord,_ch4,wideChar),wideChar=String.fromCharCode(55349,57314+_i4),defineSymbol(math,main,mathord,_ch4,wideChar),defineSymbol(text$3,main,textord,_ch4,wideChar),wideChar=String.fromCharCode(55349,57324+_i4),defineSymbol(math,main,mathord,_ch4,wideChar),defineSymbol(text$3,main,textord,_ch4,wideChar),wideChar=String.fromCharCode(55349,57334+_i4),defineSymbol(math,main,mathord,_ch4,wideChar),defineSymbol(text$3,main,textord,_ch4,wideChar)}var extraLatin="";for(var _i5=0;_i5<extraLatin.length;_i5++){var _ch5=extraLatin.charAt(_i5);defineSymbol(math,main,mathord,_ch5,_ch5),defineSymbol(text$3,main,textord,_ch5,_ch5)}var wideLatinLetterData=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],wideNumeralData=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],wideCharacterFont=function r(n,o){var l=n.charCodeAt(0),c=n.charCodeAt(1),f=(l-55296)*1024+(c-56320)+65536,d=o==="math"?0:1;if(119808<=f&&f<120484){var w=Math.floor((f-119808)/26);return[wideLatinLetterData[w][2],wideLatinLetterData[w][d]]}else if(120782<=f&&f<=120831){var y=Math.floor((f-120782)/10);return[wideNumeralData[y][2],wideNumeralData[y][d]]}else{if(f===120485||f===120486)return[wideLatinLetterData[0][2],wideLatinLetterData[0][d]];if(120486<f&&f<120782)return["",""];throw new ParseError("Unsupported character: "+n)}},lookupSymbol=function r(n,o,l){return symbols[l][n]&&symbols[l][n].replace&&(n=symbols[l][n].replace),{value:n,metrics:getCharacterMetrics(n,o,l)}},makeSymbol=function r(n,o,l,c,f){var d=lookupSymbol(n,o,l),w=d.metrics;n=d.value;var y;if(w){var L=w.italic;(l==="text"||c&&c.font==="mathit")&&(L=0),y=new SymbolNode(n,w.height,w.depth,L,w.skew,w.width,f)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+n+"' in style '"+o+"' and mode '"+l+"'")),y=new SymbolNode(n,0,0,0,0,0,f);if(c){y.maxFontSize=c.sizeMultiplier,c.style.isTight()&&y.classes.push("mtight");var G=c.getColor();G&&(y.style.color=G)}return y},mathsym=function r(n,o,l,c){return c===void 0&&(c=[]),l.font==="boldsymbol"&&lookupSymbol(n,"Main-Bold",o).metrics?makeSymbol(n,"Main-Bold",o,l,c.concat(["mathbf"])):n==="\\"||symbols[o][n].font==="main"?makeSymbol(n,"Main-Regular",o,l,c):makeSymbol(n,"AMS-Regular",o,l,c.concat(["amsrm"]))},boldsymbol=function r(n,o,l,c,f){return f!=="textord"&&lookupSymbol(n,"Math-BoldItalic",o).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},makeOrd=function r(n,o,l){var c=n.mode,f=n.text,d=["mord"],w=c==="math"||c==="text"&&o.font,y=w?o.font:o.fontFamily,L="",G="";if(f.charCodeAt(0)===55349&&([L,G]=wideCharacterFont(f,c)),L.length>0)return makeSymbol(f,L,c,o,d.concat(G));if(y){var H,ce;if(y==="boldsymbol"){var ie=boldsymbol(f,c,o,d,l);H=ie.fontName,ce=[ie.fontClass]}else w?(H=fontMap[y].fontName,ce=[y]):(H=retrieveTextFontName(y,o.fontWeight,o.fontShape),ce=[y,o.fontWeight,o.fontShape]);if(lookupSymbol(f,H,c).metrics)return makeSymbol(f,H,c,o,d.concat(ce));if(ligatures.hasOwnProperty(f)&&H.slice(0,10)==="Typewriter"){for(var Et=[],zn=0;zn<f.length;zn++)Et.push(makeSymbol(f[zn],H,c,o,d.concat(ce)));return makeFragment(Et)}}if(l==="mathord")return makeSymbol(f,"Math-Italic",c,o,d.concat(["mathnormal"]));if(l==="textord"){var $l=symbols[c][f]&&symbols[c][f].font;if($l==="ams"){var zl=retrieveTextFontName("amsrm",o.fontWeight,o.fontShape);return makeSymbol(f,zl,c,o,d.concat("amsrm",o.fontWeight,o.fontShape))}else if($l==="main"||!$l){var Hl=retrieveTextFontName("textrm",o.fontWeight,o.fontShape);return makeSymbol(f,Hl,c,o,d.concat(o.fontWeight,o.fontShape))}else{var Ft=retrieveTextFontName($l,o.fontWeight,o.fontShape);return makeSymbol(f,Ft,c,o,d.concat(Ft,o.fontWeight,o.fontShape))}}else throw new Error("unexpected type: "+l+" in makeOrd")},canCombine=(r,n)=>{if(createClass(r.classes)!==createClass(n.classes)||r.skew!==n.skew||r.maxFontSize!==n.maxFontSize)return!1;if(r.classes.length===1){var o=r.classes[0];if(o==="mbin"||o==="mord")return!1}for(var l in r.style)if(r.style.hasOwnProperty(l)&&r.style[l]!==n.style[l])return!1;for(var c in n.style)if(n.style.hasOwnProperty(c)&&r.style[c]!==n.style[c])return!1;return!0},tryCombineChars=r=>{for(var n=0;n<r.length-1;n++){var o=r[n],l=r[n+1];o instanceof SymbolNode&&l instanceof SymbolNode&&canCombine(o,l)&&(o.text+=l.text,o.height=Math.max(o.height,l.height),o.depth=Math.max(o.depth,l.depth),o.italic=l.italic,r.splice(n+1,1),n--)}return r},sizeElementFromChildren=function r(n){for(var o=0,l=0,c=0,f=0;f<n.children.length;f++){var d=n.children[f];d.height>o&&(o=d.height),d.depth>l&&(l=d.depth),d.maxFontSize>c&&(c=d.maxFontSize)}n.height=o,n.depth=l,n.maxFontSize=c},makeSpan$2=function r(n,o,l,c){var f=new Span(n,o,l,c);return sizeElementFromChildren(f),f},makeSvgSpan=(r,n,o,l)=>new Span(r,n,o,l),makeLineSpan=function r(n,o,l){var c=makeSpan$2([n],[],o);return c.height=Math.max(l||o.fontMetrics().defaultRuleThickness,o.minRuleThickness),c.style.borderBottomWidth=makeEm(c.height),c.maxFontSize=1,c},makeAnchor=function r(n,o,l,c){var f=new Anchor(n,o,l,c);return sizeElementFromChildren(f),f},makeFragment=function r(n){var o=new DocumentFragment(n);return sizeElementFromChildren(o),o},wrapFragment=function r(n,o){return n instanceof DocumentFragment?makeSpan$2([],[n],o):n},getVListChildrenAndDepth=function r(n){if(n.positionType==="individualShift"){for(var o=n.children,l=[o[0]],c=-o[0].shift-o[0].elem.depth,f=c,d=1;d<o.length;d++){var w=-o[d].shift-f-o[d].elem.depth,y=w-(o[d-1].elem.height+o[d-1].elem.depth);f=f+w,l.push({type:"kern",size:y}),l.push(o[d])}return{children:l,depth:c}}var L;if(n.positionType==="top"){for(var G=n.positionData,H=0;H<n.children.length;H++){var ce=n.children[H];G-=ce.type==="kern"?ce.size:ce.elem.height+ce.elem.depth}L=G}else if(n.positionType==="bottom")L=-n.positionData;else{var ie=n.children[0];if(ie.type!=="elem")throw new Error('First child must have type "elem".');if(n.positionType==="shift")L=-ie.elem.depth-n.positionData;else if(n.positionType==="firstBaseline")L=-ie.elem.depth;else throw new Error("Invalid positionType "+n.positionType+".")}return{children:n.children,depth:L}},makeVList=function r(n,o){for(var{children:l,depth:c}=getVListChildrenAndDepth(n),f=0,d=0;d<l.length;d++){var w=l[d];if(w.type==="elem"){var y=w.elem;f=Math.max(f,y.maxFontSize,y.height)}}f+=2;var L=makeSpan$2(["pstrut"],[]);L.style.height=makeEm(f);for(var G=[],H=c,ce=c,ie=c,Et=0;Et<l.length;Et++){var zn=l[Et];if(zn.type==="kern")ie+=zn.size;else{var $l=zn.elem,zl=zn.wrapperClasses||[],Hl=zn.wrapperStyle||{},Ft=makeSpan$2(zl,[L,$l],void 0,Hl);Ft.style.top=makeEm(-f-ie-$l.depth),zn.marginLeft&&(Ft.style.marginLeft=zn.marginLeft),zn.marginRight&&(Ft.style.marginRight=zn.marginRight),G.push(Ft),ie+=$l.height+$l.depth}H=Math.min(H,ie),ce=Math.max(ce,ie)}var El=makeSpan$2(["vlist"],G);El.style.height=makeEm(ce);var Kl;if(H<0){var Al=makeSpan$2([],[]),vu=makeSpan$2(["vlist"],[Al]);vu.style.height=makeEm(-H);var Nl=makeSpan$2(["vlist-s"],[new SymbolNode("")]);Kl=[makeSpan$2(["vlist-r"],[El,Nl]),makeSpan$2(["vlist-r"],[vu])]}else Kl=[makeSpan$2(["vlist-r"],[El])];var Xu=makeSpan$2(["vlist-t"],Kl);return Kl.length===2&&Xu.classes.push("vlist-t2"),Xu.height=ce,Xu.depth=-H,Xu},makeGlue=(r,n)=>{var o=makeSpan$2(["mspace"],[],n),l=calculateSize(r,n);return o.style.marginRight=makeEm(l),o},retrieveTextFontName=function r(n,o,l){var c="";switch(n){case"amsrm":c="AMS";break;case"textrm":c="Main";break;case"textsf":c="SansSerif";break;case"texttt":c="Typewriter";break;default:c=n}var f;return o==="textbf"&&l==="textit"?f="BoldItalic":o==="textbf"?f="Bold":o==="textit"?f="Italic":f="Regular",c+"-"+f},fontMap={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},svgData={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},staticSvg=function r(n,o){var[l,c,f]=svgData[n],d=new PathNode(l),w=new SvgNode([d],{width:makeEm(c),height:makeEm(f),style:"width:"+makeEm(c),viewBox:"0 0 "+1e3*c+" "+1e3*f,preserveAspectRatio:"xMinYMin"}),y=makeSvgSpan(["overlay"],[w],o);return y.height=f,y.style.height=makeEm(f),y.style.width=makeEm(c),y},buildCommon={fontMap,makeSymbol,mathsym,makeSpan:makeSpan$2,makeSvgSpan,makeLineSpan,makeAnchor,makeFragment,wrapFragment,makeVList,makeOrd,makeGlue,staticSvg,svgData,tryCombineChars},thinspace={number:3,unit:"mu"},mediumspace={number:4,unit:"mu"},thickspace={number:5,unit:"mu"},spacings={mord:{mop:thinspace,mbin:mediumspace,mrel:thickspace,minner:thinspace},mop:{mord:thinspace,mop:thinspace,mrel:thickspace,minner:thinspace},mbin:{mord:mediumspace,mop:mediumspace,mopen:mediumspace,minner:mediumspace},mrel:{mord:thickspace,mop:thickspace,mopen:thickspace,minner:thickspace},mopen:{},mclose:{mop:thinspace,mbin:mediumspace,mrel:thickspace,minner:thinspace},mpunct:{mord:thinspace,mop:thinspace,mrel:thickspace,mopen:thinspace,mclose:thinspace,mpunct:thinspace,minner:thinspace},minner:{mord:thinspace,mop:thinspace,mbin:mediumspace,mrel:thickspace,mopen:thinspace,mpunct:thinspace,minner:thinspace}},tightSpacings={mord:{mop:thinspace},mop:{mord:thinspace,mop:thinspace},mbin:{},mrel:{},mopen:{},mclose:{mop:thinspace},mpunct:{},minner:{mop:thinspace}},_functions={},_htmlGroupBuilders={},_mathmlGroupBuilders={};function defineFunction(r){for(var{type:n,names:o,props:l,handler:c,htmlBuilder:f,mathmlBuilder:d}=r,w={type:n,numArgs:l.numArgs,argTypes:l.argTypes,allowedInArgument:!!l.allowedInArgument,allowedInText:!!l.allowedInText,allowedInMath:l.allowedInMath===void 0?!0:l.allowedInMath,numOptionalArgs:l.numOptionalArgs||0,infix:!!l.infix,primitive:!!l.primitive,handler:c},y=0;y<o.length;++y)_functions[o[y]]=w;n&&(f&&(_htmlGroupBuilders[n]=f),d&&(_mathmlGroupBuilders[n]=d))}function defineFunctionBuilders(r){var{type:n,htmlBuilder:o,mathmlBuilder:l}=r;defineFunction({type:n,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:o,mathmlBuilder:l})}var normalizeArgument=function r(n){return n.type==="ordgroup"&&n.body.length===1?n.body[0]:n},ordargument=function r(n){return n.type==="ordgroup"?n.body:[n]},makeSpan$1=buildCommon.makeSpan,binLeftCanceller=["leftmost","mbin","mopen","mrel","mop","mpunct"],binRightCanceller=["rightmost","mrel","mclose","mpunct"],styleMap$1={display:Style$1.DISPLAY,text:Style$1.TEXT,script:Style$1.SCRIPT,scriptscript:Style$1.SCRIPTSCRIPT},DomEnum={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},buildExpression$1=function r(n,o,l,c){c===void 0&&(c=[null,null]);for(var f=[],d=0;d<n.length;d++){var w=buildGroup$1(n[d],o);if(w instanceof DocumentFragment){var y=w.children;f.push(...y)}else f.push(w)}if(buildCommon.tryCombineChars(f),!l)return f;var L=o;if(n.length===1){var G=n[0];G.type==="sizing"?L=o.havingSize(G.size):G.type==="styling"&&(L=o.havingStyle(styleMap$1[G.style]))}var H=makeSpan$1([c[0]||"leftmost"],[],o),ce=makeSpan$1([c[1]||"rightmost"],[],o),ie=l==="root";return traverseNonSpaceNodes(f,(Et,zn)=>{var $l=zn.classes[0],zl=Et.classes[0];$l==="mbin"&&binRightCanceller.includes(zl)?zn.classes[0]="mord":zl==="mbin"&&binLeftCanceller.includes($l)&&(Et.classes[0]="mord")},{node:H},ce,ie),traverseNonSpaceNodes(f,(Et,zn)=>{var $l=getTypeOfDomTree(zn),zl=getTypeOfDomTree(Et),Hl=$l&&zl?Et.hasClass("mtight")?tightSpacings[$l][zl]:spacings[$l][zl]:null;if(Hl)return buildCommon.makeGlue(Hl,L)},{node:H},ce,ie),f},traverseNonSpaceNodes=function r(n,o,l,c,f){c&&n.push(c);for(var d=0;d<n.length;d++){var w=n[d],y=checkPartialGroup(w);if(y){r(y.children,o,l,null,f);continue}var L=!w.hasClass("mspace");if(L){var G=o(w,l.node);G&&(l.insertAfter?l.insertAfter(G):(n.unshift(G),d++))}L?l.node=w:f&&w.hasClass("newline")&&(l.node=makeSpan$1(["leftmost"])),l.insertAfter=(H=>ce=>{n.splice(H+1,0,ce),d++})(d)}c&&n.pop()},checkPartialGroup=function r(n){return n instanceof DocumentFragment||n instanceof Anchor||n instanceof Span&&n.hasClass("enclosing")?n:null},getOutermostNode=function r(n,o){var l=checkPartialGroup(n);if(l){var c=l.children;if(c.length){if(o==="right")return r(c[c.length-1],"right");if(o==="left")return r(c[0],"left")}}return n},getTypeOfDomTree=function r(n,o){return n?(o&&(n=getOutermostNode(n,o)),DomEnum[n.classes[0]]||null):null},makeNullDelimiter=function r(n,o){var l=["nulldelimiter"].concat(n.baseSizingClasses());return makeSpan$1(o.concat(l))},buildGroup$1=function r(n,o,l){if(!n)return makeSpan$1();if(_htmlGroupBuilders[n.type]){var c=_htmlGroupBuilders[n.type](n,o);if(l&&o.size!==l.size){c=makeSpan$1(o.sizingClasses(l),[c],o);var f=o.sizeMultiplier/l.sizeMultiplier;c.height*=f,c.depth*=f}return c}else throw new ParseError("Got group of unknown type: '"+n.type+"'")};function buildHTMLUnbreakable(r,n){var o=makeSpan$1(["base"],r,n),l=makeSpan$1(["strut"]);return l.style.height=makeEm(o.height+o.depth),o.depth&&(l.style.verticalAlign=makeEm(-o.depth)),o.children.unshift(l),o}function buildHTML(r,n){var o=null;r.length===1&&r[0].type==="tag"&&(o=r[0].tag,r=r[0].body);var l=buildExpression$1(r,n,"root"),c;l.length===2&&l[1].hasClass("tag")&&(c=l.pop());for(var f=[],d=[],w=0;w<l.length;w++)if(d.push(l[w]),l[w].hasClass("mbin")||l[w].hasClass("mrel")||l[w].hasClass("allowbreak")){for(var y=!1;w<l.length-1&&l[w+1].hasClass("mspace")&&!l[w+1].hasClass("newline");)w++,d.push(l[w]),l[w].hasClass("nobreak")&&(y=!0);y||(f.push(buildHTMLUnbreakable(d,n)),d=[])}else l[w].hasClass("newline")&&(d.pop(),d.length>0&&(f.push(buildHTMLUnbreakable(d,n)),d=[]),f.push(l[w]));d.length>0&&f.push(buildHTMLUnbreakable(d,n));var L;o?(L=buildHTMLUnbreakable(buildExpression$1(o,n,!0)),L.classes=["tag"],f.push(L)):c&&f.push(c);var G=makeSpan$1(["katex-html"],f);if(G.setAttribute("aria-hidden","true"),L){var H=L.children[0];H.style.height=makeEm(G.height+G.depth),G.depth&&(H.style.verticalAlign=makeEm(-G.depth))}return G}function newDocumentFragment(r){return new DocumentFragment(r)}class MathNode{constructor(n,o,l){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=n,this.attributes={},this.children=o||[],this.classes=l||[]}setAttribute(n,o){this.attributes[n]=o}getAttribute(n){return this.attributes[n]}toNode(){var n=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var o in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,o)&&n.setAttribute(o,this.attributes[o]);this.classes.length>0&&(n.className=createClass(this.classes));for(var l=0;l<this.children.length;l++)if(this.children[l]instanceof TextNode&&this.children[l+1]instanceof TextNode){for(var c=this.children[l].toText()+this.children[++l].toText();this.children[l+1]instanceof TextNode;)c+=this.children[++l].toText();n.appendChild(new TextNode(c).toNode())}else n.appendChild(this.children[l].toNode());return n}toMarkup(){var n="<"+this.type;for(var o in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,o)&&(n+=" "+o+'="',n+=utils.escape(this.attributes[o]),n+='"');this.classes.length>0&&(n+=' class ="'+utils.escape(createClass(this.classes))+'"'),n+=">";for(var l=0;l<this.children.length;l++)n+=this.children[l].toMarkup();return n+="</"+this.type+">",n}toText(){return this.children.map(n=>n.toText()).join("")}}class TextNode{constructor(n){this.text=void 0,this.text=n}toNode(){return document.createTextNode(this.text)}toMarkup(){return utils.escape(this.toText())}toText(){return this.text}}class SpaceNode{constructor(n){this.width=void 0,this.character=void 0,this.width=n,n>=.05555&&n<=.05556?this.character="":n>=.1666&&n<=.1667?this.character="":n>=.2222&&n<=.2223?this.character="":n>=.2777&&n<=.2778?this.character="":n>=-.05556&&n<=-.05555?this.character="":n>=-.1667&&n<=-.1666?this.character="":n>=-.2223&&n<=-.2222?this.character="":n>=-.2778&&n<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var n=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return n.setAttribute("width",makeEm(this.width)),n}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+makeEm(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var mathMLTree={MathNode,TextNode,SpaceNode,newDocumentFragment},makeText=function r(n,o,l){return symbols[o][n]&&symbols[o][n].replace&&n.charCodeAt(0)!==55349&&!(ligatures.hasOwnProperty(n)&&l&&(l.fontFamily&&l.fontFamily.slice(4,6)==="tt"||l.font&&l.font.slice(4,6)==="tt"))&&(n=symbols[o][n].replace),new mathMLTree.TextNode(n)},makeRow=function r(n){return n.length===1?n[0]:new mathMLTree.MathNode("mrow",n)},getVariant=function r(n,o){if(o.fontFamily==="texttt")return"monospace";if(o.fontFamily==="textsf")return o.fontShape==="textit"&&o.fontWeight==="textbf"?"sans-serif-bold-italic":o.fontShape==="textit"?"sans-serif-italic":o.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(o.fontShape==="textit"&&o.fontWeight==="textbf")return"bold-italic";if(o.fontShape==="textit")return"italic";if(o.fontWeight==="textbf")return"bold";var l=o.font;if(!l||l==="mathnormal")return null;var c=n.mode;if(l==="mathit")return"italic";if(l==="boldsymbol")return n.type==="textord"?"bold":"bold-italic";if(l==="mathbf")return"bold";if(l==="mathbb")return"double-struck";if(l==="mathsfit")return"sans-serif-italic";if(l==="mathfrak")return"fraktur";if(l==="mathscr"||l==="mathcal")return"script";if(l==="mathsf")return"sans-serif";if(l==="mathtt")return"monospace";var f=n.text;if(["\\imath","\\jmath"].includes(f))return null;symbols[c][f]&&symbols[c][f].replace&&(f=symbols[c][f].replace);var d=buildCommon.fontMap[l].fontName;return getCharacterMetrics(f,d,c)?buildCommon.fontMap[l].variant:null};function isNumberPunctuation(r){if(!r)return!1;if(r.type==="mi"&&r.children.length===1){var n=r.children[0];return n instanceof TextNode&&n.text==="."}else if(r.type==="mo"&&r.children.length===1&&r.getAttribute("separator")==="true"&&r.getAttribute("lspace")==="0em"&&r.getAttribute("rspace")==="0em"){var o=r.children[0];return o instanceof TextNode&&o.text===","}else return!1}var buildExpression=function r(n,o,l){if(n.length===1){var c=buildGroup(n[0],o);return l&&c instanceof MathNode&&c.type==="mo"&&(c.setAttribute("lspace","0em"),c.setAttribute("rspace","0em")),[c]}for(var f=[],d,w=0;w<n.length;w++){var y=buildGroup(n[w],o);if(y instanceof MathNode&&d instanceof MathNode){if(y.type==="mtext"&&d.type==="mtext"&&y.getAttribute("mathvariant")===d.getAttribute("mathvariant")){d.children.push(...y.children);continue}else if(y.type==="mn"&&d.type==="mn"){d.children.push(...y.children);continue}else if(isNumberPunctuation(y)&&d.type==="mn"){d.children.push(...y.children);continue}else if(y.type==="mn"&&isNumberPunctuation(d))y.children=[...d.children,...y.children],f.pop();else if((y.type==="msup"||y.type==="msub")&&y.children.length>=1&&(d.type==="mn"||isNumberPunctuation(d))){var L=y.children[0];L instanceof MathNode&&L.type==="mn"&&(L.children=[...d.children,...L.children],f.pop())}else if(d.type==="mi"&&d.children.length===1){var G=d.children[0];if(G instanceof TextNode&&G.text===""&&(y.type==="mo"||y.type==="mi"||y.type==="mn")){var H=y.children[0];H instanceof TextNode&&H.text.length>0&&(H.text=H.text.slice(0,1)+""+H.text.slice(1),f.pop())}}}f.push(y),d=y}return f},buildExpressionRow=function r(n,o,l){return makeRow(buildExpression(n,o,l))},buildGroup=function r(n,o){if(!n)return new mathMLTree.MathNode("mrow");if(_mathmlGroupBuilders[n.type]){var l=_mathmlGroupBuilders[n.type](n,o);return l}else throw new ParseError("Got group of unknown type: '"+n.type+"'")};function buildMathML(r,n,o,l,c){var f=buildExpression(r,o),d;f.length===1&&f[0]instanceof MathNode&&["mrow","mtable"].includes(f[0].type)?d=f[0]:d=new mathMLTree.MathNode("mrow",f);var w=new mathMLTree.MathNode("annotation",[new mathMLTree.TextNode(n)]);w.setAttribute("encoding","application/x-tex");var y=new mathMLTree.MathNode("semantics",[d,w]),L=new mathMLTree.MathNode("math",[y]);L.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),l&&L.setAttribute("display","block");var G=c?"katex":"katex-mathml";return buildCommon.makeSpan([G],[L])}var optionsFromSettings=function r(n){return new Options({style:n.displayMode?Style$1.DISPLAY:Style$1.TEXT,maxSize:n.maxSize,minRuleThickness:n.minRuleThickness})},displayWrap=function r(n,o){if(o.displayMode){var l=["katex-display"];o.leqno&&l.push("leqno"),o.fleqn&&l.push("fleqn"),n=buildCommon.makeSpan(l,[n])}return n},buildTree=function r(n,o,l){var c=optionsFromSettings(l),f;if(l.output==="mathml")return buildMathML(n,o,c,l.displayMode,!0);if(l.output==="html"){var d=buildHTML(n,c);f=buildCommon.makeSpan(["katex"],[d])}else{var w=buildMathML(n,o,c,l.displayMode,!1),y=buildHTML(n,c);f=buildCommon.makeSpan(["katex"],[w,y])}return displayWrap(f,l)},buildHTMLTree=function r(n,o,l){var c=optionsFromSettings(l),f=buildHTML(n,c),d=buildCommon.makeSpan(["katex"],[f]);return displayWrap(d,l)},stretchyCodePoint={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},mathMLnode=function r(n){var o=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode(stretchyCodePoint[n.replace(/^\\/,"")])]);return o.setAttribute("stretchy","true"),o},katexImagesData={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},groupLength=function r(n){return n.type==="ordgroup"?n.body.length:1},svgSpan=function r(n,o){function l(){var w=4e5,y=n.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(y)){var L=n,G=groupLength(L.base),H,ce,ie;if(G>5)y==="widehat"||y==="widecheck"?(H=420,w=2364,ie=.42,ce=y+"4"):(H=312,w=2340,ie=.34,ce="tilde4");else{var Et=[1,1,2,2,3,3][G];y==="widehat"||y==="widecheck"?(w=[0,1062,2364,2364,2364][Et],H=[0,239,300,360,420][Et],ie=[0,.24,.3,.3,.36,.42][Et],ce=y+Et):(w=[0,600,1033,2339,2340][Et],H=[0,260,286,306,312][Et],ie=[0,.26,.286,.3,.306,.34][Et],ce="tilde"+Et)}var zn=new PathNode(ce),$l=new SvgNode([zn],{width:"100%",height:makeEm(ie),viewBox:"0 0 "+w+" "+H,preserveAspectRatio:"none"});return{span:buildCommon.makeSvgSpan([],[$l],o),minWidth:0,height:ie}}else{var zl=[],Hl=katexImagesData[y],[Ft,El,Kl]=Hl,Al=Kl/1e3,vu=Ft.length,Nl,Xu;if(vu===1){var Vu=Hl[3];Nl=["hide-tail"],Xu=[Vu]}else if(vu===2)Nl=["halfarrow-left","halfarrow-right"],Xu=["xMinYMin","xMaxYMin"];else if(vu===3)Nl=["brace-left","brace-center","brace-right"],Xu=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+vu+" children.");for(var Zu=0;Zu<vu;Zu++){var Od=new PathNode(Ft[Zu]),Id=new SvgNode([Od],{width:"400em",height:makeEm(Al),viewBox:"0 0 "+w+" "+Kl,preserveAspectRatio:Xu[Zu]+" slice"}),Bd=buildCommon.makeSvgSpan([Nl[Zu]],[Id],o);if(vu===1)return{span:Bd,minWidth:El,height:Al};Bd.style.height=makeEm(Al),zl.push(Bd)}return{span:buildCommon.makeSpan(["stretchy"],zl,o),minWidth:El,height:Al}}}var{span:c,minWidth:f,height:d}=l();return c.height=d,c.style.height=makeEm(d),f>0&&(c.style.minWidth=makeEm(f)),c},encloseSpan=function r(n,o,l,c,f){var d,w=n.height+n.depth+l+c;if(/fbox|color|angl/.test(o)){if(d=buildCommon.makeSpan(["stretchy",o],[],f),o==="fbox"){var y=f.color&&f.getColor();y&&(d.style.borderColor=y)}}else{var L=[];/^[bx]cancel$/.test(o)&&L.push(new LineNode({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(o)&&L.push(new LineNode({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var G=new SvgNode(L,{width:"100%",height:makeEm(w)});d=buildCommon.makeSvgSpan([],[G],f)}return d.height=w,d.style.height=makeEm(w),d},stretchy={encloseSpan,mathMLnode,svgSpan};function assertNodeType(r,n){if(!r||r.type!==n)throw new Error("Expected node of type "+n+", but got "+(r?"node of type "+r.type:String(r)));return r}function assertSymbolNodeType(r){var n=checkSymbolNodeType(r);if(!n)throw new Error("Expected node of symbol group type, but got "+(r?"node of type "+r.type:String(r)));return n}function checkSymbolNodeType(r){return r&&(r.type==="atom"||NON_ATOMS.hasOwnProperty(r.type))?r:null}var htmlBuilder$a=(r,n)=>{var o,l,c;r&&r.type==="supsub"?(l=assertNodeType(r.base,"accent"),o=l.base,r.base=o,c=assertSpan(buildGroup$1(r,n)),r.base=l):(l=assertNodeType(r,"accent"),o=l.base);var f=buildGroup$1(o,n.havingCrampedStyle()),d=l.isShifty&&utils.isCharacterBox(o),w=0;if(d){var y=utils.getBaseElem(o),L=buildGroup$1(y,n.havingCrampedStyle());w=assertSymbolDomNode(L).skew}var G=l.label==="\\c",H=G?f.height+f.depth:Math.min(f.height,n.fontMetrics().xHeight),ce;if(l.isStretchy)ce=stretchy.svgSpan(l,n),ce=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:f},{type:"elem",elem:ce,wrapperClasses:["svg-align"],wrapperStyle:w>0?{width:"calc(100% - "+makeEm(2*w)+")",marginLeft:makeEm(2*w)}:void 0}]},n);else{var ie,Et;l.label==="\\vec"?(ie=buildCommon.staticSvg("vec",n),Et=buildCommon.svgData.vec[1]):(ie=buildCommon.makeOrd({mode:l.mode,text:l.label},n,"textord"),ie=assertSymbolDomNode(ie),ie.italic=0,Et=ie.width,G&&(H+=ie.depth)),ce=buildCommon.makeSpan(["accent-body"],[ie]);var zn=l.label==="\\textcircled";zn&&(ce.classes.push("accent-full"),H=f.height);var $l=w;zn||($l-=Et/2),ce.style.left=makeEm($l),l.label==="\\textcircled"&&(ce.style.top=".2em"),ce=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:f},{type:"kern",size:-H},{type:"elem",elem:ce}]},n)}var zl=buildCommon.makeSpan(["mord","accent"],[ce],n);return c?(c.children[0]=zl,c.height=Math.max(zl.height,c.height),c.classes[0]="mord",c):zl},mathmlBuilder$9=(r,n)=>{var o=r.isStretchy?stretchy.mathMLnode(r.label):new mathMLTree.MathNode("mo",[makeText(r.label,r.mode)]),l=new mathMLTree.MathNode("mover",[buildGroup(r.base,n),o]);return l.setAttribute("accent","true"),l},NON_STRETCHY_ACCENT_REGEX=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(r=>"\\"+r).join("|"));defineFunction({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(r,n)=>{var o=normalizeArgument(n[0]),l=!NON_STRETCHY_ACCENT_REGEX.test(r.funcName),c=!l||r.funcName==="\\widehat"||r.funcName==="\\widetilde"||r.funcName==="\\widecheck";return{type:"accent",mode:r.parser.mode,label:r.funcName,isStretchy:l,isShifty:c,base:o}},htmlBuilder:htmlBuilder$a,mathmlBuilder:mathmlBuilder$9});defineFunction({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(r,n)=>{var o=n[0],l=r.parser.mode;return l==="math"&&(r.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+r.funcName+" works only in text mode"),l="text"),{type:"accent",mode:l,label:r.funcName,isStretchy:!1,isShifty:!0,base:o}},htmlBuilder:htmlBuilder$a,mathmlBuilder:mathmlBuilder$9});defineFunction({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(r,n)=>{var{parser:o,funcName:l}=r,c=n[0];return{type:"accentUnder",mode:o.mode,label:l,base:c}},htmlBuilder:(r,n)=>{var o=buildGroup$1(r.base,n),l=stretchy.svgSpan(r,n),c=r.label==="\\utilde"?.12:0,f=buildCommon.makeVList({positionType:"top",positionData:o.height,children:[{type:"elem",elem:l,wrapperClasses:["svg-align"]},{type:"kern",size:c},{type:"elem",elem:o}]},n);return buildCommon.makeSpan(["mord","accentunder"],[f],n)},mathmlBuilder:(r,n)=>{var o=stretchy.mathMLnode(r.label),l=new mathMLTree.MathNode("munder",[buildGroup(r.base,n),o]);return l.setAttribute("accentunder","true"),l}});var paddedNode=r=>{var n=new mathMLTree.MathNode("mpadded",r?[r]:[]);return n.setAttribute("width","+0.6em"),n.setAttribute("lspace","0.3em"),n};defineFunction({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(r,n,o){var{parser:l,funcName:c}=r;return{type:"xArrow",mode:l.mode,label:c,body:n[0],below:o[0]}},htmlBuilder(r,n){var o=n.style,l=n.havingStyle(o.sup()),c=buildCommon.wrapFragment(buildGroup$1(r.body,l,n),n),f=r.label.slice(0,2)==="\\x"?"x":"cd";c.classes.push(f+"-arrow-pad");var d;r.below&&(l=n.havingStyle(o.sub()),d=buildCommon.wrapFragment(buildGroup$1(r.below,l,n),n),d.classes.push(f+"-arrow-pad"));var w=stretchy.svgSpan(r,n),y=-n.fontMetrics().axisHeight+.5*w.height,L=-n.fontMetrics().axisHeight-.5*w.height-.111;(c.depth>.25||r.label==="\\xleftequilibrium")&&(L-=c.depth);var G;if(d){var H=-n.fontMetrics().axisHeight+d.height+.5*w.height+.111;G=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:c,shift:L},{type:"elem",elem:w,shift:y},{type:"elem",elem:d,shift:H}]},n)}else G=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:c,shift:L},{type:"elem",elem:w,shift:y}]},n);return G.children[0].children[0].children[1].classes.push("svg-align"),buildCommon.makeSpan(["mrel","x-arrow"],[G],n)},mathmlBuilder(r,n){var o=stretchy.mathMLnode(r.label);o.setAttribute("minsize",r.label.charAt(0)==="x"?"1.75em":"3.0em");var l;if(r.body){var c=paddedNode(buildGroup(r.body,n));if(r.below){var f=paddedNode(buildGroup(r.below,n));l=new mathMLTree.MathNode("munderover",[o,f,c])}else l=new mathMLTree.MathNode("mover",[o,c])}else if(r.below){var d=paddedNode(buildGroup(r.below,n));l=new mathMLTree.MathNode("munder",[o,d])}else l=paddedNode(),l=new mathMLTree.MathNode("mover",[o,l]);return l}});var makeSpan=buildCommon.makeSpan;function htmlBuilder$9(r,n){var o=buildExpression$1(r.body,n,!0);return makeSpan([r.mclass],o,n)}function mathmlBuilder$8(r,n){var o,l=buildExpression(r.body,n);return r.mclass==="minner"?o=new mathMLTree.MathNode("mpadded",l):r.mclass==="mord"?r.isCharacterBox?(o=l[0],o.type="mi"):o=new mathMLTree.MathNode("mi",l):(r.isCharacterBox?(o=l[0],o.type="mo"):o=new mathMLTree.MathNode("mo",l),r.mclass==="mbin"?(o.attributes.lspace="0.22em",o.attributes.rspace="0.22em"):r.mclass==="mpunct"?(o.attributes.lspace="0em",o.attributes.rspace="0.17em"):r.mclass==="mopen"||r.mclass==="mclose"?(o.attributes.lspace="0em",o.attributes.rspace="0em"):r.mclass==="minner"&&(o.attributes.lspace="0.0556em",o.attributes.width="+0.1111em")),o}defineFunction({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(r,n){var{parser:o,funcName:l}=r,c=n[0];return{type:"mclass",mode:o.mode,mclass:"m"+l.slice(5),body:ordargument(c),isCharacterBox:utils.isCharacterBox(c)}},htmlBuilder:htmlBuilder$9,mathmlBuilder:mathmlBuilder$8});var binrelClass=r=>{var n=r.type==="ordgroup"&&r.body.length?r.body[0]:r;return n.type==="atom"&&(n.family==="bin"||n.family==="rel")?"m"+n.family:"mord"};defineFunction({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(r,n){var{parser:o}=r;return{type:"mclass",mode:o.mode,mclass:binrelClass(n[0]),body:ordargument(n[1]),isCharacterBox:utils.isCharacterBox(n[1])}}});defineFunction({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(r,n){var{parser:o,funcName:l}=r,c=n[1],f=n[0],d;l!=="\\stackrel"?d=binrelClass(c):d="mrel";var w={type:"op",mode:c.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:l!=="\\stackrel",body:ordargument(c)},y={type:"supsub",mode:f.mode,base:w,sup:l==="\\underset"?null:f,sub:l==="\\underset"?f:null};return{type:"mclass",mode:o.mode,mclass:d,body:[y],isCharacterBox:utils.isCharacterBox(y)}},htmlBuilder:htmlBuilder$9,mathmlBuilder:mathmlBuilder$8});defineFunction({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(r,n){var{parser:o}=r;return{type:"pmb",mode:o.mode,mclass:binrelClass(n[0]),body:ordargument(n[0])}},htmlBuilder(r,n){var o=buildExpression$1(r.body,n,!0),l=buildCommon.makeSpan([r.mclass],o,n);return l.style.textShadow="0.02em 0.01em 0.04px",l},mathmlBuilder(r,n){var o=buildExpression(r.body,n),l=new mathMLTree.MathNode("mstyle",o);return l.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),l}});var cdArrowFunctionName={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},newCell=()=>({type:"styling",body:[],mode:"math",style:"display"}),isStartOfArrow=r=>r.type==="textord"&&r.text==="@",isLabelEnd=(r,n)=>(r.type==="mathord"||r.type==="atom")&&r.text===n;function cdArrow(r,n,o){var l=cdArrowFunctionName[r];switch(l){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return o.callFunction(l,[n[0]],[n[1]]);case"\\uparrow":case"\\downarrow":{var c=o.callFunction("\\\\cdleft",[n[0]],[]),f={type:"atom",text:l,mode:"math",family:"rel"},d=o.callFunction("\\Big",[f],[]),w=o.callFunction("\\\\cdright",[n[1]],[]),y={type:"ordgroup",mode:"math",body:[c,d,w]};return o.callFunction("\\\\cdparent",[y],[])}case"\\\\cdlongequal":return o.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var L={type:"textord",text:"\\Vert",mode:"math"};return o.callFunction("\\Big",[L],[])}default:return{type:"textord",text:" ",mode:"math"}}}function parseCD(r){var n=[];for(r.gullet.beginGroup(),r.gullet.macros.set("\\cr","\\\\\\relax"),r.gullet.beginGroup();;){n.push(r.parseExpression(!1,"\\\\")),r.gullet.endGroup(),r.gullet.beginGroup();var o=r.fetch().text;if(o==="&"||o==="\\\\")r.consume();else if(o==="\\end"){n[n.length-1].length===0&&n.pop();break}else throw new ParseError("Expected \\\\ or \\cr or \\end",r.nextToken)}for(var l=[],c=[l],f=0;f<n.length;f++){for(var d=n[f],w=newCell(),y=0;y<d.length;y++)if(!isStartOfArrow(d[y]))w.body.push(d[y]);else{l.push(w),y+=1;var L=assertSymbolNodeType(d[y]).text,G=new Array(2);if(G[0]={type:"ordgroup",mode:"math",body:[]},G[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(L)>-1))if("<>AV".indexOf(L)>-1)for(var H=0;H<2;H++){for(var ce=!0,ie=y+1;ie<d.length;ie++){if(isLabelEnd(d[ie],L)){ce=!1,y=ie;break}if(isStartOfArrow(d[ie]))throw new ParseError("Missing a "+L+" character to complete a CD arrow.",d[ie]);G[H].body.push(d[ie])}if(ce)throw new ParseError("Missing a "+L+" character to complete a CD arrow.",d[y])}else throw new ParseError('Expected one of "<>AV=|." after @',d[y]);var Et=cdArrow(L,G,r),zn={type:"styling",body:[Et],mode:"math",style:"display"};l.push(zn),w=newCell()}f%2===0?l.push(w):l.shift(),l=[],c.push(l)}r.gullet.endGroup(),r.gullet.endGroup();var $l=new Array(c[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:c,arraystretch:1,addJot:!0,rowGaps:[null],cols:$l,colSeparationType:"CD",hLinesBeforeRow:new Array(c.length+1).fill([])}}defineFunction({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(r,n){var{parser:o,funcName:l}=r;return{type:"cdlabel",mode:o.mode,side:l.slice(4),label:n[0]}},htmlBuilder(r,n){var o=n.havingStyle(n.style.sup()),l=buildCommon.wrapFragment(buildGroup$1(r.label,o,n),n);return l.classes.push("cd-label-"+r.side),l.style.bottom=makeEm(.8-l.depth),l.height=0,l.depth=0,l},mathmlBuilder(r,n){var o=new mathMLTree.MathNode("mrow",[buildGroup(r.label,n)]);return o=new mathMLTree.MathNode("mpadded",[o]),o.setAttribute("width","0"),r.side==="left"&&o.setAttribute("lspace","-1width"),o.setAttribute("voffset","0.7em"),o=new mathMLTree.MathNode("mstyle",[o]),o.setAttribute("displaystyle","false"),o.setAttribute("scriptlevel","1"),o}});defineFunction({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(r,n){var{parser:o}=r;return{type:"cdlabelparent",mode:o.mode,fragment:n[0]}},htmlBuilder(r,n){var o=buildCommon.wrapFragment(buildGroup$1(r.fragment,n),n);return o.classes.push("cd-vert-arrow"),o},mathmlBuilder(r,n){return new mathMLTree.MathNode("mrow",[buildGroup(r.fragment,n)])}});defineFunction({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(r,n){for(var{parser:o}=r,l=assertNodeType(n[0],"ordgroup"),c=l.body,f="",d=0;d<c.length;d++){var w=assertNodeType(c[d],"textord");f+=w.text}var y=parseInt(f),L;if(isNaN(y))throw new ParseError("\\@char has non-numeric argument "+f);if(y<0||y>=1114111)throw new ParseError("\\@char with invalid code point "+f);return y<=65535?L=String.fromCharCode(y):(y-=65536,L=String.fromCharCode((y>>10)+55296,(y&1023)+56320)),{type:"textord",mode:o.mode,text:L}}});var htmlBuilder$8=(r,n)=>{var o=buildExpression$1(r.body,n.withColor(r.color),!1);return buildCommon.makeFragment(o)},mathmlBuilder$7=(r,n)=>{var o=buildExpression(r.body,n.withColor(r.color)),l=new mathMLTree.MathNode("mstyle",o);return l.setAttribute("mathcolor",r.color),l};defineFunction({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(r,n){var{parser:o}=r,l=assertNodeType(n[0],"color-token").color,c=n[1];return{type:"color",mode:o.mode,color:l,body:ordargument(c)}},htmlBuilder:htmlBuilder$8,mathmlBuilder:mathmlBuilder$7});defineFunction({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(r,n){var{parser:o,breakOnTokenText:l}=r,c=assertNodeType(n[0],"color-token").color;o.gullet.macros.set("\\current@color",c);var f=o.parseExpression(!0,l);return{type:"color",mode:o.mode,color:c,body:f}},htmlBuilder:htmlBuilder$8,mathmlBuilder:mathmlBuilder$7});defineFunction({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(r,n,o){var{parser:l}=r,c=l.gullet.future().text==="["?l.parseSizeGroup(!0):null,f=!l.settings.displayMode||!l.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:l.mode,newLine:f,size:c&&assertNodeType(c,"size").value}},htmlBuilder(r,n){var o=buildCommon.makeSpan(["mspace"],[],n);return r.newLine&&(o.classes.push("newline"),r.size&&(o.style.marginTop=makeEm(calculateSize(r.size,n)))),o},mathmlBuilder(r,n){var o=new mathMLTree.MathNode("mspace");return r.newLine&&(o.setAttribute("linebreak","newline"),r.size&&o.setAttribute("height",makeEm(calculateSize(r.size,n)))),o}});var globalMap={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},checkControlSequence=r=>{var n=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(n))throw new ParseError("Expected a control sequence",r);return n},getRHS=r=>{var n=r.gullet.popToken();return n.text==="="&&(n=r.gullet.popToken(),n.text===" "&&(n=r.gullet.popToken())),n},letCommand=(r,n,o,l)=>{var c=r.gullet.macros.get(o.text);c==null&&(o.noexpand=!0,c={tokens:[o],numArgs:0,unexpandable:!r.gullet.isExpandable(o.text)}),r.gullet.macros.set(n,c,l)};defineFunction({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(r){var{parser:n,funcName:o}=r;n.consumeSpaces();var l=n.fetch();if(globalMap[l.text])return(o==="\\global"||o==="\\\\globallong")&&(l.text=globalMap[l.text]),assertNodeType(n.parseFunction(),"internal");throw new ParseError("Invalid token after macro prefix",l)}});defineFunction({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(r){var{parser:n,funcName:o}=r,l=n.gullet.popToken(),c=l.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(c))throw new ParseError("Expected a control sequence",l);for(var f=0,d,w=[[]];n.gullet.future().text!=="{";)if(l=n.gullet.popToken(),l.text==="#"){if(n.gullet.future().text==="{"){d=n.gullet.future(),w[f].push("{");break}if(l=n.gullet.popToken(),!/^[1-9]$/.test(l.text))throw new ParseError('Invalid argument number "'+l.text+'"');if(parseInt(l.text)!==f+1)throw new ParseError('Argument number "'+l.text+'" out of order');f++,w.push([])}else{if(l.text==="EOF")throw new ParseError("Expected a macro definition");w[f].push(l.text)}var{tokens:y}=n.gullet.consumeArg();return d&&y.unshift(d),(o==="\\edef"||o==="\\xdef")&&(y=n.gullet.expandTokens(y),y.reverse()),n.gullet.macros.set(c,{tokens:y,numArgs:f,delimiters:w},o===globalMap[o]),{type:"internal",mode:n.mode}}});defineFunction({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(r){var{parser:n,funcName:o}=r,l=checkControlSequence(n.gullet.popToken());n.gullet.consumeSpaces();var c=getRHS(n);return letCommand(n,l,c,o==="\\\\globallet"),{type:"internal",mode:n.mode}}});defineFunction({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(r){var{parser:n,funcName:o}=r,l=checkControlSequence(n.gullet.popToken()),c=n.gullet.popToken(),f=n.gullet.popToken();return letCommand(n,l,f,o==="\\\\globalfuture"),n.gullet.pushToken(f),n.gullet.pushToken(c),{type:"internal",mode:n.mode}}});var getMetrics=function r(n,o,l){var c=symbols.math[n]&&symbols.math[n].replace,f=getCharacterMetrics(c||n,o,l);if(!f)throw new Error("Unsupported symbol "+n+" and font size "+o+".");return f},styleWrap=function r(n,o,l,c){var f=l.havingBaseStyle(o),d=buildCommon.makeSpan(c.concat(f.sizingClasses(l)),[n],l),w=f.sizeMultiplier/l.sizeMultiplier;return d.height*=w,d.depth*=w,d.maxFontSize=f.sizeMultiplier,d},centerSpan=function r(n,o,l){var c=o.havingBaseStyle(l),f=(1-o.sizeMultiplier/c.sizeMultiplier)*o.fontMetrics().axisHeight;n.classes.push("delimcenter"),n.style.top=makeEm(f),n.height-=f,n.depth+=f},makeSmallDelim=function r(n,o,l,c,f,d){var w=buildCommon.makeSymbol(n,"Main-Regular",f,c),y=styleWrap(w,o,c,d);return l&&centerSpan(y,c,o),y},mathrmSize=function r(n,o,l,c){return buildCommon.makeSymbol(n,"Size"+o+"-Regular",l,c)},makeLargeDelim=function r(n,o,l,c,f,d){var w=mathrmSize(n,o,f,c),y=styleWrap(buildCommon.makeSpan(["delimsizing","size"+o],[w],c),Style$1.TEXT,c,d);return l&&centerSpan(y,c,Style$1.TEXT),y},makeGlyphSpan=function r(n,o,l){var c;o==="Size1-Regular"?c="delim-size1":c="delim-size4";var f=buildCommon.makeSpan(["delimsizinginner",c],[buildCommon.makeSpan([],[buildCommon.makeSymbol(n,o,l)])]);return{type:"elem",elem:f}},makeInner=function r(n,o,l){var c=fontMetricsData["Size4-Regular"][n.charCodeAt(0)]?fontMetricsData["Size4-Regular"][n.charCodeAt(0)][4]:fontMetricsData["Size1-Regular"][n.charCodeAt(0)][4],f=new PathNode("inner",innerPath(n,Math.round(1e3*o))),d=new SvgNode([f],{width:makeEm(c),height:makeEm(o),style:"width:"+makeEm(c),viewBox:"0 0 "+1e3*c+" "+Math.round(1e3*o),preserveAspectRatio:"xMinYMin"}),w=buildCommon.makeSvgSpan([],[d],l);return w.height=o,w.style.height=makeEm(o),w.style.width=makeEm(c),{type:"elem",elem:w}},lapInEms=.008,lap={type:"kern",size:-1*lapInEms},verts=["|","\\lvert","\\rvert","\\vert"],doubleVerts=["\\|","\\lVert","\\rVert","\\Vert"],makeStackedDelim=function r(n,o,l,c,f,d){var w,y,L,G,H="",ce=0;w=L=G=n,y=null;var ie="Size1-Regular";n==="\\uparrow"?L=G="":n==="\\Uparrow"?L=G="":n==="\\downarrow"?w=L="":n==="\\Downarrow"?w=L="":n==="\\updownarrow"?(w="\\uparrow",L="",G="\\downarrow"):n==="\\Updownarrow"?(w="\\Uparrow",L="",G="\\Downarrow"):verts.includes(n)?(L="",H="vert",ce=333):doubleVerts.includes(n)?(L="",H="doublevert",ce=556):n==="["||n==="\\lbrack"?(w="",L="",G="",ie="Size4-Regular",H="lbrack",ce=667):n==="]"||n==="\\rbrack"?(w="",L="",G="",ie="Size4-Regular",H="rbrack",ce=667):n==="\\lfloor"||n===""?(L=w="",G="",ie="Size4-Regular",H="lfloor",ce=667):n==="\\lceil"||n===""?(w="",L=G="",ie="Size4-Regular",H="lceil",ce=667):n==="\\rfloor"||n===""?(L=w="",G="",ie="Size4-Regular",H="rfloor",ce=667):n==="\\rceil"||n===""?(w="",L=G="",ie="Size4-Regular",H="rceil",ce=667):n==="("||n==="\\lparen"?(w="",L="",G="",ie="Size4-Regular",H="lparen",ce=875):n===")"||n==="\\rparen"?(w="",L="",G="",ie="Size4-Regular",H="rparen",ce=875):n==="\\{"||n==="\\lbrace"?(w="",y="",G="",L="",ie="Size4-Regular"):n==="\\}"||n==="\\rbrace"?(w="",y="",G="",L="",ie="Size4-Regular"):n==="\\lgroup"||n===""?(w="",G="",L="",ie="Size4-Regular"):n==="\\rgroup"||n===""?(w="",G="",L="",ie="Size4-Regular"):n==="\\lmoustache"||n===""?(w="",G="",L="",ie="Size4-Regular"):(n==="\\rmoustache"||n==="")&&(w="",G="",L="",ie="Size4-Regular");var Et=getMetrics(w,ie,f),zn=Et.height+Et.depth,$l=getMetrics(L,ie,f),zl=$l.height+$l.depth,Hl=getMetrics(G,ie,f),Ft=Hl.height+Hl.depth,El=0,Kl=1;if(y!==null){var Al=getMetrics(y,ie,f);El=Al.height+Al.depth,Kl=2}var vu=zn+Ft+El,Nl=Math.max(0,Math.ceil((o-vu)/(Kl*zl))),Xu=vu+Nl*Kl*zl,Vu=c.fontMetrics().axisHeight;l&&(Vu*=c.sizeMultiplier);var Zu=Xu/2-Vu,Od=[];if(H.length>0){var Id=Xu-zn-Ft,Bd=Math.round(Xu*1e3),Cd=tallDelim(H,Math.round(Id*1e3)),Wl=new PathNode(H,Cd),jd=(ce/1e3).toFixed(3)+"em",Md=(Bd/1e3).toFixed(3)+"em",qu=new SvgNode([Wl],{width:jd,height:Md,viewBox:"0 0 "+ce+" "+Bd}),ad=buildCommon.makeSvgSpan([],[qu],c);ad.height=Bd/1e3,ad.style.width=jd,ad.style.height=Md,Od.push({type:"elem",elem:ad})}else{if(Od.push(makeGlyphSpan(G,ie,f)),Od.push(lap),y===null){var Dd=Xu-zn-Ft+2*lapInEms;Od.push(makeInner(L,Dd,c))}else{var mh=(Xu-zn-Ft-El)/2+2*lapInEms;Od.push(makeInner(L,mh,c)),Od.push(lap),Od.push(makeGlyphSpan(y,ie,f)),Od.push(lap),Od.push(makeInner(L,mh,c))}Od.push(lap),Od.push(makeGlyphSpan(w,ie,f))}var gd=c.havingBaseStyle(Style$1.TEXT),md=buildCommon.makeVList({positionType:"bottom",positionData:Zu,children:Od},gd);return styleWrap(buildCommon.makeSpan(["delimsizing","mult"],[md],gd),Style$1.TEXT,c,d)},vbPad=80,emPad=.08,sqrtSvg=function r(n,o,l,c,f){var d=sqrtPath(n,c,l),w=new PathNode(n,d),y=new SvgNode([w],{width:"400em",height:makeEm(o),viewBox:"0 0 400000 "+l,preserveAspectRatio:"xMinYMin slice"});return buildCommon.makeSvgSpan(["hide-tail"],[y],f)},makeSqrtImage=function r(n,o){var l=o.havingBaseSizing(),c=traverseSequence("\\surd",n*l.sizeMultiplier,stackLargeDelimiterSequence,l),f=l.sizeMultiplier,d=Math.max(0,o.minRuleThickness-o.fontMetrics().sqrtRuleThickness),w,y=0,L=0,G=0,H;return c.type==="small"?(G=1e3+1e3*d+vbPad,n<1?f=1:n<1.4&&(f=.7),y=(1+d+emPad)/f,L=(1+d)/f,w=sqrtSvg("sqrtMain",y,G,d,o),w.style.minWidth="0.853em",H=.833/f):c.type==="large"?(G=(1e3+vbPad)*sizeToMaxHeight[c.size],L=(sizeToMaxHeight[c.size]+d)/f,y=(sizeToMaxHeight[c.size]+d+emPad)/f,w=sqrtSvg("sqrtSize"+c.size,y,G,d,o),w.style.minWidth="1.02em",H=1/f):(y=n+d+emPad,L=n+d,G=Math.floor(1e3*n+d)+vbPad,w=sqrtSvg("sqrtTall",y,G,d,o),w.style.minWidth="0.742em",H=1.056),w.height=L,w.style.height=makeEm(y),{span:w,advanceWidth:H,ruleWidth:(o.fontMetrics().sqrtRuleThickness+d)*f}},stackLargeDelimiters=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],stackAlwaysDelimiters=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],stackNeverDelimiters=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],sizeToMaxHeight=[0,1.2,1.8,2.4,3],makeSizedDelim=function r(n,o,l,c,f){if(n==="<"||n==="\\lt"||n===""?n="\\langle":(n===">"||n==="\\gt"||n==="")&&(n="\\rangle"),stackLargeDelimiters.includes(n)||stackNeverDelimiters.includes(n))return makeLargeDelim(n,o,!1,l,c,f);if(stackAlwaysDelimiters.includes(n))return makeStackedDelim(n,sizeToMaxHeight[o],!1,l,c,f);throw new ParseError("Illegal delimiter: '"+n+"'")},stackNeverDelimiterSequence=[{type:"small",style:Style$1.SCRIPTSCRIPT},{type:"small",style:Style$1.SCRIPT},{type:"small",style:Style$1.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],stackAlwaysDelimiterSequence=[{type:"small",style:Style$1.SCRIPTSCRIPT},{type:"small",style:Style$1.SCRIPT},{type:"small",style:Style$1.TEXT},{type:"stack"}],stackLargeDelimiterSequence=[{type:"small",style:Style$1.SCRIPTSCRIPT},{type:"small",style:Style$1.SCRIPT},{type:"small",style:Style$1.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],delimTypeToFont=function r(n){if(n.type==="small")return"Main-Regular";if(n.type==="large")return"Size"+n.size+"-Regular";if(n.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+n.type+"' here.")},traverseSequence=function r(n,o,l,c){for(var f=Math.min(2,3-c.style.size),d=f;d<l.length&&l[d].type!=="stack";d++){var w=getMetrics(n,delimTypeToFont(l[d]),"math"),y=w.height+w.depth;if(l[d].type==="small"){var L=c.havingBaseStyle(l[d].style);y*=L.sizeMultiplier}if(y>o)return l[d]}return l[l.length-1]},makeCustomSizedDelim=function r(n,o,l,c,f,d){n==="<"||n==="\\lt"||n===""?n="\\langle":(n===">"||n==="\\gt"||n==="")&&(n="\\rangle");var w;stackNeverDelimiters.includes(n)?w=stackNeverDelimiterSequence:stackLargeDelimiters.includes(n)?w=stackLargeDelimiterSequence:w=stackAlwaysDelimiterSequence;var y=traverseSequence(n,o,w,c);return y.type==="small"?makeSmallDelim(n,y.style,l,c,f,d):y.type==="large"?makeLargeDelim(n,y.size,l,c,f,d):makeStackedDelim(n,o,l,c,f,d)},makeLeftRightDelim=function r(n,o,l,c,f,d){var w=c.fontMetrics().axisHeight*c.sizeMultiplier,y=901,L=5/c.fontMetrics().ptPerEm,G=Math.max(o-w,l+w),H=Math.max(G/500*y,2*G-L);return makeCustomSizedDelim(n,H,!0,c,f,d)},delimiter={sqrtImage:makeSqrtImage,sizedDelim:makeSizedDelim,sizeToMaxHeight,customSizedDelim:makeCustomSizedDelim,leftRightDelim:makeLeftRightDelim},delimiterSizes={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},delimiters=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function checkDelimiter(r,n){var o=checkSymbolNodeType(r);if(o&&delimiters.includes(o.text))return o;throw o?new ParseError("Invalid delimiter '"+o.text+"' after '"+n.funcName+"'",r):new ParseError("Invalid delimiter type '"+r.type+"'",r)}defineFunction({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(r,n)=>{var o=checkDelimiter(n[0],r);return{type:"delimsizing",mode:r.parser.mode,size:delimiterSizes[r.funcName].size,mclass:delimiterSizes[r.funcName].mclass,delim:o.text}},htmlBuilder:(r,n)=>r.delim==="."?buildCommon.makeSpan([r.mclass]):delimiter.sizedDelim(r.delim,r.size,n,r.mode,[r.mclass]),mathmlBuilder:r=>{var n=[];r.delim!=="."&&n.push(makeText(r.delim,r.mode));var o=new mathMLTree.MathNode("mo",n);r.mclass==="mopen"||r.mclass==="mclose"?o.setAttribute("fence","true"):o.setAttribute("fence","false"),o.setAttribute("stretchy","true");var l=makeEm(delimiter.sizeToMaxHeight[r.size]);return o.setAttribute("minsize",l),o.setAttribute("maxsize",l),o}});function assertParsed(r){if(!r.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}defineFunction({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(r,n)=>{var o=r.parser.gullet.macros.get("\\current@color");if(o&&typeof o!="string")throw new ParseError("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:r.parser.mode,delim:checkDelimiter(n[0],r).text,color:o}}});defineFunction({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(r,n)=>{var o=checkDelimiter(n[0],r),l=r.parser;++l.leftrightDepth;var c=l.parseExpression(!1);--l.leftrightDepth,l.expect("\\right",!1);var f=assertNodeType(l.parseFunction(),"leftright-right");return{type:"leftright",mode:l.mode,body:c,left:o.text,right:f.delim,rightColor:f.color}},htmlBuilder:(r,n)=>{assertParsed(r);for(var o=buildExpression$1(r.body,n,!0,["mopen","mclose"]),l=0,c=0,f=!1,d=0;d<o.length;d++)o[d].isMiddle?f=!0:(l=Math.max(o[d].height,l),c=Math.max(o[d].depth,c));l*=n.sizeMultiplier,c*=n.sizeMultiplier;var w;if(r.left==="."?w=makeNullDelimiter(n,["mopen"]):w=delimiter.leftRightDelim(r.left,l,c,n,r.mode,["mopen"]),o.unshift(w),f)for(var y=1;y<o.length;y++){var L=o[y],G=L.isMiddle;G&&(o[y]=delimiter.leftRightDelim(G.delim,l,c,G.options,r.mode,[]))}var H;if(r.right===".")H=makeNullDelimiter(n,["mclose"]);else{var ce=r.rightColor?n.withColor(r.rightColor):n;H=delimiter.leftRightDelim(r.right,l,c,ce,r.mode,["mclose"])}return o.push(H),buildCommon.makeSpan(["minner"],o,n)},mathmlBuilder:(r,n)=>{assertParsed(r);var o=buildExpression(r.body,n);if(r.left!=="."){var l=new mathMLTree.MathNode("mo",[makeText(r.left,r.mode)]);l.setAttribute("fence","true"),o.unshift(l)}if(r.right!=="."){var c=new mathMLTree.MathNode("mo",[makeText(r.right,r.mode)]);c.setAttribute("fence","true"),r.rightColor&&c.setAttribute("mathcolor",r.rightColor),o.push(c)}return makeRow(o)}});defineFunction({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(r,n)=>{var o=checkDelimiter(n[0],r);if(!r.parser.leftrightDepth)throw new ParseError("\\middle without preceding \\left",o);return{type:"middle",mode:r.parser.mode,delim:o.text}},htmlBuilder:(r,n)=>{var o;if(r.delim===".")o=makeNullDelimiter(n,[]);else{o=delimiter.sizedDelim(r.delim,1,n,r.mode,[]);var l={delim:r.delim,options:n};o.isMiddle=l}return o},mathmlBuilder:(r,n)=>{var o=r.delim==="\\vert"||r.delim==="|"?makeText("|","text"):makeText(r.delim,r.mode),l=new mathMLTree.MathNode("mo",[o]);return l.setAttribute("fence","true"),l.setAttribute("lspace","0.05em"),l.setAttribute("rspace","0.05em"),l}});var htmlBuilder$7=(r,n)=>{var o=buildCommon.wrapFragment(buildGroup$1(r.body,n),n),l=r.label.slice(1),c=n.sizeMultiplier,f,d=0,w=utils.isCharacterBox(r.body);if(l==="sout")f=buildCommon.makeSpan(["stretchy","sout"]),f.height=n.fontMetrics().defaultRuleThickness/c,d=-.5*n.fontMetrics().xHeight;else if(l==="phase"){var y=calculateSize({number:.6,unit:"pt"},n),L=calculateSize({number:.35,unit:"ex"},n),G=n.havingBaseSizing();c=c/G.sizeMultiplier;var H=o.height+o.depth+y+L;o.style.paddingLeft=makeEm(H/2+y);var ce=Math.floor(1e3*H*c),ie=phasePath(ce),Et=new SvgNode([new PathNode("phase",ie)],{width:"400em",height:makeEm(ce/1e3),viewBox:"0 0 400000 "+ce,preserveAspectRatio:"xMinYMin slice"});f=buildCommon.makeSvgSpan(["hide-tail"],[Et],n),f.style.height=makeEm(H),d=o.depth+y+L}else{/cancel/.test(l)?w||o.classes.push("cancel-pad"):l==="angl"?o.classes.push("anglpad"):o.classes.push("boxpad");var zn=0,$l=0,zl=0;/box/.test(l)?(zl=Math.max(n.fontMetrics().fboxrule,n.minRuleThickness),zn=n.fontMetrics().fboxsep+(l==="colorbox"?0:zl),$l=zn):l==="angl"?(zl=Math.max(n.fontMetrics().defaultRuleThickness,n.minRuleThickness),zn=4*zl,$l=Math.max(0,.25-o.depth)):(zn=w?.2:0,$l=zn),f=stretchy.encloseSpan(o,l,zn,$l,n),/fbox|boxed|fcolorbox/.test(l)?(f.style.borderStyle="solid",f.style.borderWidth=makeEm(zl)):l==="angl"&&zl!==.049&&(f.style.borderTopWidth=makeEm(zl),f.style.borderRightWidth=makeEm(zl)),d=o.depth+$l,r.backgroundColor&&(f.style.backgroundColor=r.backgroundColor,r.borderColor&&(f.style.borderColor=r.borderColor))}var Hl;if(r.backgroundColor)Hl=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:f,shift:d},{type:"elem",elem:o,shift:0}]},n);else{var Ft=/cancel|phase/.test(l)?["svg-align"]:[];Hl=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:0},{type:"elem",elem:f,shift:d,wrapperClasses:Ft}]},n)}return/cancel/.test(l)&&(Hl.height=o.height,Hl.depth=o.depth),/cancel/.test(l)&&!w?buildCommon.makeSpan(["mord","cancel-lap"],[Hl],n):buildCommon.makeSpan(["mord"],[Hl],n)},mathmlBuilder$6=(r,n)=>{var o=0,l=new mathMLTree.MathNode(r.label.indexOf("colorbox")>-1?"mpadded":"menclose",[buildGroup(r.body,n)]);switch(r.label){case"\\cancel":l.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":l.setAttribute("notation","downdiagonalstrike");break;case"\\phase":l.setAttribute("notation","phasorangle");break;case"\\sout":l.setAttribute("notation","horizontalstrike");break;case"\\fbox":l.setAttribute("notation","box");break;case"\\angl":l.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(o=n.fontMetrics().fboxsep*n.fontMetrics().ptPerEm,l.setAttribute("width","+"+2*o+"pt"),l.setAttribute("height","+"+2*o+"pt"),l.setAttribute("lspace",o+"pt"),l.setAttribute("voffset",o+"pt"),r.label==="\\fcolorbox"){var c=Math.max(n.fontMetrics().fboxrule,n.minRuleThickness);l.setAttribute("style","border: "+c+"em solid "+String(r.borderColor))}break;case"\\xcancel":l.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return r.backgroundColor&&l.setAttribute("mathbackground",r.backgroundColor),l};defineFunction({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(r,n,o){var{parser:l,funcName:c}=r,f=assertNodeType(n[0],"color-token").color,d=n[1];return{type:"enclose",mode:l.mode,label:c,backgroundColor:f,body:d}},htmlBuilder:htmlBuilder$7,mathmlBuilder:mathmlBuilder$6});defineFunction({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(r,n,o){var{parser:l,funcName:c}=r,f=assertNodeType(n[0],"color-token").color,d=assertNodeType(n[1],"color-token").color,w=n[2];return{type:"enclose",mode:l.mode,label:c,backgroundColor:d,borderColor:f,body:w}},htmlBuilder:htmlBuilder$7,mathmlBuilder:mathmlBuilder$6});defineFunction({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(r,n){var{parser:o}=r;return{type:"enclose",mode:o.mode,label:"\\fbox",body:n[0]}}});defineFunction({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(r,n){var{parser:o,funcName:l}=r,c=n[0];return{type:"enclose",mode:o.mode,label:l,body:c}},htmlBuilder:htmlBuilder$7,mathmlBuilder:mathmlBuilder$6});defineFunction({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(r,n){var{parser:o}=r;return{type:"enclose",mode:o.mode,label:"\\angl",body:n[0]}}});var _environments={};function defineEnvironment(r){for(var{type:n,names:o,props:l,handler:c,htmlBuilder:f,mathmlBuilder:d}=r,w={type:n,numArgs:l.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:c},y=0;y<o.length;++y)_environments[o[y]]=w;f&&(_htmlGroupBuilders[n]=f),d&&(_mathmlGroupBuilders[n]=d)}var _macros={};function defineMacro(r,n){_macros[r]=n}function getHLines(r){var n=[];r.consumeSpaces();var o=r.fetch().text;for(o==="\\relax"&&(r.consume(),r.consumeSpaces(),o=r.fetch().text);o==="\\hline"||o==="\\hdashline";)r.consume(),n.push(o==="\\hdashline"),r.consumeSpaces(),o=r.fetch().text;return n}var validateAmsEnvironmentContext=r=>{var n=r.parser.settings;if(!n.displayMode)throw new ParseError("{"+r.envName+"} can be used only in display mode.")};function getAutoTag(r){if(r.indexOf("ed")===-1)return r.indexOf("*")===-1}function parseArray(r,n,o){var{hskipBeforeAndAfter:l,addJot:c,cols:f,arraystretch:d,colSeparationType:w,autoTag:y,singleRow:L,emptySingleRow:G,maxNumCols:H,leqno:ce}=n;if(r.gullet.beginGroup(),L||r.gullet.macros.set("\\cr","\\\\\\relax"),!d){var ie=r.gullet.expandMacroAsText("\\arraystretch");if(ie==null)d=1;else if(d=parseFloat(ie),!d||d<0)throw new ParseError("Invalid \\arraystretch: "+ie)}r.gullet.beginGroup();var Et=[],zn=[Et],$l=[],zl=[],Hl=y!=null?[]:void 0;function Ft(){y&&r.gullet.macros.set("\\@eqnsw","1",!0)}function El(){Hl&&(r.gullet.macros.get("\\df@tag")?(Hl.push(r.subparse([new Token("\\df@tag")])),r.gullet.macros.set("\\df@tag",void 0,!0)):Hl.push(!!y&&r.gullet.macros.get("\\@eqnsw")==="1"))}for(Ft(),zl.push(getHLines(r));;){var Kl=r.parseExpression(!1,L?"\\end":"\\\\");r.gullet.endGroup(),r.gullet.beginGroup(),Kl={type:"ordgroup",mode:r.mode,body:Kl},o&&(Kl={type:"styling",mode:r.mode,style:o,body:[Kl]}),Et.push(Kl);var Al=r.fetch().text;if(Al==="&"){if(H&&Et.length===H){if(L||w)throw new ParseError("Too many tab characters: &",r.nextToken);r.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}r.consume()}else if(Al==="\\end"){El(),Et.length===1&&Kl.type==="styling"&&Kl.body[0].body.length===0&&(zn.length>1||!G)&&zn.pop(),zl.length<zn.length+1&&zl.push([]);break}else if(Al==="\\\\"){r.consume();var vu=void 0;r.gullet.future().text!==" "&&(vu=r.parseSizeGroup(!0)),$l.push(vu?vu.value:null),El(),zl.push(getHLines(r)),Et=[],zn.push(Et),Ft()}else throw new ParseError("Expected & or \\\\ or \\cr or \\end",r.nextToken)}return r.gullet.endGroup(),r.gullet.endGroup(),{type:"array",mode:r.mode,addJot:c,arraystretch:d,body:zn,cols:f,rowGaps:$l,hskipBeforeAndAfter:l,hLinesBeforeRow:zl,colSeparationType:w,tags:Hl,leqno:ce}}function dCellStyle(r){return r.slice(0,1)==="d"?"display":"text"}var htmlBuilder$6=function r(n,o){var l,c,f=n.body.length,d=n.hLinesBeforeRow,w=0,y=new Array(f),L=[],G=Math.max(o.fontMetrics().arrayRuleWidth,o.minRuleThickness),H=1/o.fontMetrics().ptPerEm,ce=5*H;if(n.colSeparationType&&n.colSeparationType==="small"){var ie=o.havingStyle(Style$1.SCRIPT).sizeMultiplier;ce=.2778*(ie/o.sizeMultiplier)}var Et=n.colSeparationType==="CD"?calculateSize({number:3,unit:"ex"},o):12*H,zn=3*H,$l=n.arraystretch*Et,zl=.7*$l,Hl=.3*$l,Ft=0;function El(E0){for(var l0=0;l0<E0.length;++l0)l0>0&&(Ft+=.25),L.push({pos:Ft,isDashed:E0[l0]})}for(El(d[0]),l=0;l<n.body.length;++l){var Kl=n.body[l],Al=zl,vu=Hl;w<Kl.length&&(w=Kl.length);var Nl=new Array(Kl.length);for(c=0;c<Kl.length;++c){var Xu=buildGroup$1(Kl[c],o);vu<Xu.depth&&(vu=Xu.depth),Al<Xu.height&&(Al=Xu.height),Nl[c]=Xu}var Vu=n.rowGaps[l],Zu=0;Vu&&(Zu=calculateSize(Vu,o),Zu>0&&(Zu+=Hl,vu<Zu&&(vu=Zu),Zu=0)),n.addJot&&(vu+=zn),Nl.height=Al,Nl.depth=vu,Ft+=Al,Nl.pos=Ft,Ft+=vu+Zu,y[l]=Nl,El(d[l+1])}var Od=Ft/2+o.fontMetrics().axisHeight,Id=n.cols||[],Bd=[],Cd,Wl,jd=[];if(n.tags&&n.tags.some(E0=>E0))for(l=0;l<f;++l){var Md=y[l],qu=Md.pos-Od,ad=n.tags[l],Dd=void 0;ad===!0?Dd=buildCommon.makeSpan(["eqn-num"],[],o):ad===!1?Dd=buildCommon.makeSpan([],[],o):Dd=buildCommon.makeSpan([],buildExpression$1(ad,o,!0),o),Dd.depth=Md.depth,Dd.height=Md.height,jd.push({type:"elem",elem:Dd,shift:qu})}for(c=0,Wl=0;c<w||Wl<Id.length;++c,++Wl){for(var mh=Id[Wl]||{},gd=!0;mh.type==="separator";){if(gd||(Cd=buildCommon.makeSpan(["arraycolsep"],[]),Cd.style.width=makeEm(o.fontMetrics().doubleRuleSep),Bd.push(Cd)),mh.separator==="|"||mh.separator===":"){var md=mh.separator==="|"?"solid":"dashed",oh=buildCommon.makeSpan(["vertical-separator"],[],o);oh.style.height=makeEm(Ft),oh.style.borderRightWidth=makeEm(G),oh.style.borderRightStyle=md,oh.style.margin="0 "+makeEm(-G/2);var qh=Ft-Od;qh&&(oh.style.verticalAlign=makeEm(-qh)),Bd.push(oh)}else throw new ParseError("Invalid separator type: "+mh.separator);Wl++,mh=Id[Wl]||{},gd=!1}if(!(c>=w)){var sf=void 0;(c>0||n.hskipBeforeAndAfter)&&(sf=utils.deflt(mh.pregap,ce),sf!==0&&(Cd=buildCommon.makeSpan(["arraycolsep"],[]),Cd.style.width=makeEm(sf),Bd.push(Cd)));var yh=[];for(l=0;l<f;++l){var vf=y[l],Ef=vf[c];if(Ef){var kf=vf.pos-Od;Ef.depth=vf.depth,Ef.height=vf.height,yh.push({type:"elem",elem:Ef,shift:kf})}}yh=buildCommon.makeVList({positionType:"individualShift",children:yh},o),yh=buildCommon.makeSpan(["col-align-"+(mh.align||"c")],[yh]),Bd.push(yh),(c<w-1||n.hskipBeforeAndAfter)&&(sf=utils.deflt(mh.postgap,ce),sf!==0&&(Cd=buildCommon.makeSpan(["arraycolsep"],[]),Cd.style.width=makeEm(sf),Bd.push(Cd)))}}if(y=buildCommon.makeSpan(["mtable"],Bd),L.length>0){for(var Mp=buildCommon.makeLineSpan("hline",o,G),rp=buildCommon.makeLineSpan("hdashline",o,G),Fp=[{type:"elem",elem:y,shift:0}];L.length>0;){var _0=L.pop(),L0=_0.pos-Od;_0.isDashed?Fp.push({type:"elem",elem:rp,shift:L0}):Fp.push({type:"elem",elem:Mp,shift:L0})}y=buildCommon.makeVList({positionType:"individualShift",children:Fp},o)}if(jd.length===0)return buildCommon.makeSpan(["mord"],[y],o);var Gp=buildCommon.makeVList({positionType:"individualShift",children:jd},o);return Gp=buildCommon.makeSpan(["tag"],[Gp],o),buildCommon.makeFragment([y,Gp])},alignMap={c:"center ",l:"left ",r:"right "},mathmlBuilder$5=function r(n,o){for(var l=[],c=new mathMLTree.MathNode("mtd",[],["mtr-glue"]),f=new mathMLTree.MathNode("mtd",[],["mml-eqn-num"]),d=0;d<n.body.length;d++){for(var w=n.body[d],y=[],L=0;L<w.length;L++)y.push(new mathMLTree.MathNode("mtd",[buildGroup(w[L],o)]));n.tags&&n.tags[d]&&(y.unshift(c),y.push(c),n.leqno?y.unshift(f):y.push(f)),l.push(new mathMLTree.MathNode("mtr",y))}var G=new mathMLTree.MathNode("mtable",l),H=n.arraystretch===.5?.1:.16+n.arraystretch-1+(n.addJot?.09:0);G.setAttribute("rowspacing",makeEm(H));var ce="",ie="";if(n.cols&&n.cols.length>0){var Et=n.cols,zn="",$l=!1,zl=0,Hl=Et.length;Et[0].type==="separator"&&(ce+="top ",zl=1),Et[Et.length-1].type==="separator"&&(ce+="bottom ",Hl-=1);for(var Ft=zl;Ft<Hl;Ft++)Et[Ft].type==="align"?(ie+=alignMap[Et[Ft].align],$l&&(zn+="none "),$l=!0):Et[Ft].type==="separator"&&$l&&(zn+=Et[Ft].separator==="|"?"solid ":"dashed ",$l=!1);G.setAttribute("columnalign",ie.trim()),/[sd]/.test(zn)&&G.setAttribute("columnlines",zn.trim())}if(n.colSeparationType==="align"){for(var El=n.cols||[],Kl="",Al=1;Al<El.length;Al++)Kl+=Al%2?"0em ":"1em ";G.setAttribute("columnspacing",Kl.trim())}else n.colSeparationType==="alignat"||n.colSeparationType==="gather"?G.setAttribute("columnspacing","0em"):n.colSeparationType==="small"?G.setAttribute("columnspacing","0.2778em"):n.colSeparationType==="CD"?G.setAttribute("columnspacing","0.5em"):G.setAttribute("columnspacing","1em");var vu="",Nl=n.hLinesBeforeRow;ce+=Nl[0].length>0?"left ":"",ce+=Nl[Nl.length-1].length>0?"right ":"";for(var Xu=1;Xu<Nl.length-1;Xu++)vu+=Nl[Xu].length===0?"none ":Nl[Xu][0]?"dashed ":"solid ";return/[sd]/.test(vu)&&G.setAttribute("rowlines",vu.trim()),ce!==""&&(G=new mathMLTree.MathNode("menclose",[G]),G.setAttribute("notation",ce.trim())),n.arraystretch&&n.arraystretch<1&&(G=new mathMLTree.MathNode("mstyle",[G]),G.setAttribute("scriptlevel","1")),G},alignedHandler=function r(n,o){n.envName.indexOf("ed")===-1&&validateAmsEnvironmentContext(n);var l=[],c=n.envName.indexOf("at")>-1?"alignat":"align",f=n.envName==="split",d=parseArray(n.parser,{cols:l,addJot:!0,autoTag:f?void 0:getAutoTag(n.envName),emptySingleRow:!0,colSeparationType:c,maxNumCols:f?2:void 0,leqno:n.parser.settings.leqno},"display"),w,y=0,L={type:"ordgroup",mode:n.mode,body:[]};if(o[0]&&o[0].type==="ordgroup"){for(var G="",H=0;H<o[0].body.length;H++){var ce=assertNodeType(o[0].body[H],"textord");G+=ce.text}w=Number(G),y=w*2}var ie=!y;d.body.forEach(function(zl){for(var Hl=1;Hl<zl.length;Hl+=2){var Ft=assertNodeType(zl[Hl],"styling"),El=assertNodeType(Ft.body[0],"ordgroup");El.body.unshift(L)}if(ie)y<zl.length&&(y=zl.length);else{var Kl=zl.length/2;if(w<Kl)throw new ParseError("Too many math in a row: "+("expected "+w+", but got "+Kl),zl[0])}});for(var Et=0;Et<y;++Et){var zn="r",$l=0;Et%2===1?zn="l":Et>0&&ie&&($l=1),l[Et]={type:"align",align:zn,pregap:$l,postgap:0}}return d.colSeparationType=ie?"align":"alignat",d};defineEnvironment({type:"array",names:["array","darray"],props:{numArgs:1},handler(r,n){var o=checkSymbolNodeType(n[0]),l=o?[n[0]]:assertNodeType(n[0],"ordgroup").body,c=l.map(function(d){var w=assertSymbolNodeType(d),y=w.text;if("lcr".indexOf(y)!==-1)return{type:"align",align:y};if(y==="|")return{type:"separator",separator:"|"};if(y===":")return{type:"separator",separator:":"};throw new ParseError("Unknown column alignment: "+y,d)}),f={cols:c,hskipBeforeAndAfter:!0,maxNumCols:c.length};return parseArray(r.parser,f,dCellStyle(r.envName))},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(r){var n={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[r.envName.replace("*","")],o="c",l={hskipBeforeAndAfter:!1,cols:[{type:"align",align:o}]};if(r.envName.charAt(r.envName.length-1)==="*"){var c=r.parser;if(c.consumeSpaces(),c.fetch().text==="["){if(c.consume(),c.consumeSpaces(),o=c.fetch().text,"lcr".indexOf(o)===-1)throw new ParseError("Expected l or c or r",c.nextToken);c.consume(),c.consumeSpaces(),c.expect("]"),c.consume(),l.cols=[{type:"align",align:o}]}}var f=parseArray(r.parser,l,dCellStyle(r.envName)),d=Math.max(0,...f.body.map(w=>w.length));return f.cols=new Array(d).fill({type:"align",align:o}),n?{type:"leftright",mode:r.mode,body:[f],left:n[0],right:n[1],rightColor:void 0}:f},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(r){var n={arraystretch:.5},o=parseArray(r.parser,n,"script");return o.colSeparationType="small",o},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["subarray"],props:{numArgs:1},handler(r,n){var o=checkSymbolNodeType(n[0]),l=o?[n[0]]:assertNodeType(n[0],"ordgroup").body,c=l.map(function(d){var w=assertSymbolNodeType(d),y=w.text;if("lc".indexOf(y)!==-1)return{type:"align",align:y};throw new ParseError("Unknown column alignment: "+y,d)});if(c.length>1)throw new ParseError("{subarray} can contain only one column");var f={cols:c,hskipBeforeAndAfter:!1,arraystretch:.5};if(f=parseArray(r.parser,f,"script"),f.body.length>0&&f.body[0].length>1)throw new ParseError("{subarray} can contain only one column");return f},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(r){var n={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},o=parseArray(r.parser,n,dCellStyle(r.envName));return{type:"leftright",mode:r.mode,body:[o],left:r.envName.indexOf("r")>-1?".":"\\{",right:r.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:alignedHandler,htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(r){["gather","gather*"].includes(r.envName)&&validateAmsEnvironmentContext(r);var n={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:getAutoTag(r.envName),emptySingleRow:!0,leqno:r.parser.settings.leqno};return parseArray(r.parser,n,"display")},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:alignedHandler,htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(r){validateAmsEnvironmentContext(r);var n={autoTag:getAutoTag(r.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:r.parser.settings.leqno};return parseArray(r.parser,n,"display")},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["CD"],props:{numArgs:0},handler(r){return validateAmsEnvironmentContext(r),parseCD(r.parser)},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineMacro("\\nonumber","\\gdef\\@eqnsw{0}");defineMacro("\\notag","\\nonumber");defineFunction({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(r,n){throw new ParseError(r.funcName+" valid only within array environment")}});var environments=_environments;defineFunction({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(r,n){var{parser:o,funcName:l}=r,c=n[0];if(c.type!=="ordgroup")throw new ParseError("Invalid environment name",c);for(var f="",d=0;d<c.body.length;++d)f+=assertNodeType(c.body[d],"textord").text;if(l==="\\begin"){if(!environments.hasOwnProperty(f))throw new ParseError("No such environment: "+f,c);var w=environments[f],{args:y,optArgs:L}=o.parseArguments("\\begin{"+f+"}",w),G={mode:o.mode,envName:f,parser:o},H=w.handler(G,y,L);o.expect("\\end",!1);var ce=o.nextToken,ie=assertNodeType(o.parseFunction(),"environment");if(ie.name!==f)throw new ParseError("Mismatch: \\begin{"+f+"} matched by \\end{"+ie.name+"}",ce);return H}return{type:"environment",mode:o.mode,name:f,nameGroup:c}}});var htmlBuilder$5=(r,n)=>{var o=r.font,l=n.withFont(o);return buildGroup$1(r.body,l)},mathmlBuilder$4=(r,n)=>{var o=r.font,l=n.withFont(o);return buildGroup(r.body,l)},fontAliases={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};defineFunction({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(r,n)=>{var{parser:o,funcName:l}=r,c=normalizeArgument(n[0]),f=l;return f in fontAliases&&(f=fontAliases[f]),{type:"font",mode:o.mode,font:f.slice(1),body:c}},htmlBuilder:htmlBuilder$5,mathmlBuilder:mathmlBuilder$4});defineFunction({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(r,n)=>{var{parser:o}=r,l=n[0],c=utils.isCharacterBox(l);return{type:"mclass",mode:o.mode,mclass:binrelClass(l),body:[{type:"font",mode:o.mode,font:"boldsymbol",body:l}],isCharacterBox:c}}});defineFunction({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(r,n)=>{var{parser:o,funcName:l,breakOnTokenText:c}=r,{mode:f}=o,d=o.parseExpression(!0,c),w="math"+l.slice(1);return{type:"font",mode:f,font:w,body:{type:"ordgroup",mode:o.mode,body:d}}},htmlBuilder:htmlBuilder$5,mathmlBuilder:mathmlBuilder$4});var adjustStyle=(r,n)=>{var o=n;return r==="display"?o=o.id>=Style$1.SCRIPT.id?o.text():Style$1.DISPLAY:r==="text"&&o.size===Style$1.DISPLAY.size?o=Style$1.TEXT:r==="script"?o=Style$1.SCRIPT:r==="scriptscript"&&(o=Style$1.SCRIPTSCRIPT),o},htmlBuilder$4=(r,n)=>{var o=adjustStyle(r.size,n.style),l=o.fracNum(),c=o.fracDen(),f;f=n.havingStyle(l);var d=buildGroup$1(r.numer,f,n);if(r.continued){var w=8.5/n.fontMetrics().ptPerEm,y=3.5/n.fontMetrics().ptPerEm;d.height=d.height<w?w:d.height,d.depth=d.depth<y?y:d.depth}f=n.havingStyle(c);var L=buildGroup$1(r.denom,f,n),G,H,ce;r.hasBarLine?(r.barSize?(H=calculateSize(r.barSize,n),G=buildCommon.makeLineSpan("frac-line",n,H)):G=buildCommon.makeLineSpan("frac-line",n),H=G.height,ce=G.height):(G=null,H=0,ce=n.fontMetrics().defaultRuleThickness);var ie,Et,zn;o.size===Style$1.DISPLAY.size||r.size==="display"?(ie=n.fontMetrics().num1,H>0?Et=3*ce:Et=7*ce,zn=n.fontMetrics().denom1):(H>0?(ie=n.fontMetrics().num2,Et=ce):(ie=n.fontMetrics().num3,Et=3*ce),zn=n.fontMetrics().denom2);var $l;if(G){var Hl=n.fontMetrics().axisHeight;ie-d.depth-(Hl+.5*H)<Et&&(ie+=Et-(ie-d.depth-(Hl+.5*H))),Hl-.5*H-(L.height-zn)<Et&&(zn+=Et-(Hl-.5*H-(L.height-zn)));var Ft=-(Hl-.5*H);$l=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:L,shift:zn},{type:"elem",elem:G,shift:Ft},{type:"elem",elem:d,shift:-ie}]},n)}else{var zl=ie-d.depth-(L.height-zn);zl<Et&&(ie+=.5*(Et-zl),zn+=.5*(Et-zl)),$l=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:L,shift:zn},{type:"elem",elem:d,shift:-ie}]},n)}f=n.havingStyle(o),$l.height*=f.sizeMultiplier/n.sizeMultiplier,$l.depth*=f.sizeMultiplier/n.sizeMultiplier;var El;o.size===Style$1.DISPLAY.size?El=n.fontMetrics().delim1:o.size===Style$1.SCRIPTSCRIPT.size?El=n.havingStyle(Style$1.SCRIPT).fontMetrics().delim2:El=n.fontMetrics().delim2;var Kl,Al;return r.leftDelim==null?Kl=makeNullDelimiter(n,["mopen"]):Kl=delimiter.customSizedDelim(r.leftDelim,El,!0,n.havingStyle(o),r.mode,["mopen"]),r.continued?Al=buildCommon.makeSpan([]):r.rightDelim==null?Al=makeNullDelimiter(n,["mclose"]):Al=delimiter.customSizedDelim(r.rightDelim,El,!0,n.havingStyle(o),r.mode,["mclose"]),buildCommon.makeSpan(["mord"].concat(f.sizingClasses(n)),[Kl,buildCommon.makeSpan(["mfrac"],[$l]),Al],n)},mathmlBuilder$3=(r,n)=>{var o=new mathMLTree.MathNode("mfrac",[buildGroup(r.numer,n),buildGroup(r.denom,n)]);if(!r.hasBarLine)o.setAttribute("linethickness","0px");else if(r.barSize){var l=calculateSize(r.barSize,n);o.setAttribute("linethickness",makeEm(l))}var c=adjustStyle(r.size,n.style);if(c.size!==n.style.size){o=new mathMLTree.MathNode("mstyle",[o]);var f=c.size===Style$1.DISPLAY.size?"true":"false";o.setAttribute("displaystyle",f),o.setAttribute("scriptlevel","0")}if(r.leftDelim!=null||r.rightDelim!=null){var d=[];if(r.leftDelim!=null){var w=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode(r.leftDelim.replace("\\",""))]);w.setAttribute("fence","true"),d.push(w)}if(d.push(o),r.rightDelim!=null){var y=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode(r.rightDelim.replace("\\",""))]);y.setAttribute("fence","true"),d.push(y)}return makeRow(d)}return o};defineFunction({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(r,n)=>{var{parser:o,funcName:l}=r,c=n[0],f=n[1],d,w=null,y=null,L="auto";switch(l){case"\\dfrac":case"\\frac":case"\\tfrac":d=!0;break;case"\\\\atopfrac":d=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":d=!1,w="(",y=")";break;case"\\\\bracefrac":d=!1,w="\\{",y="\\}";break;case"\\\\brackfrac":d=!1,w="[",y="]";break;default:throw new Error("Unrecognized genfrac command")}switch(l){case"\\dfrac":case"\\dbinom":L="display";break;case"\\tfrac":case"\\tbinom":L="text";break}return{type:"genfrac",mode:o.mode,continued:!1,numer:c,denom:f,hasBarLine:d,leftDelim:w,rightDelim:y,size:L,barSize:null}},htmlBuilder:htmlBuilder$4,mathmlBuilder:mathmlBuilder$3});defineFunction({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(r,n)=>{var{parser:o,funcName:l}=r,c=n[0],f=n[1];return{type:"genfrac",mode:o.mode,continued:!0,numer:c,denom:f,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});defineFunction({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(r){var{parser:n,funcName:o,token:l}=r,c;switch(o){case"\\over":c="\\frac";break;case"\\choose":c="\\binom";break;case"\\atop":c="\\\\atopfrac";break;case"\\brace":c="\\\\bracefrac";break;case"\\brack":c="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:n.mode,replaceWith:c,token:l}}});var stylArray=["display","text","script","scriptscript"],delimFromValue=function r(n){var o=null;return n.length>0&&(o=n,o=o==="."?null:o),o};defineFunction({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(r,n){var{parser:o}=r,l=n[4],c=n[5],f=normalizeArgument(n[0]),d=f.type==="atom"&&f.family==="open"?delimFromValue(f.text):null,w=normalizeArgument(n[1]),y=w.type==="atom"&&w.family==="close"?delimFromValue(w.text):null,L=assertNodeType(n[2],"size"),G,H=null;L.isBlank?G=!0:(H=L.value,G=H.number>0);var ce="auto",ie=n[3];if(ie.type==="ordgroup"){if(ie.body.length>0){var Et=assertNodeType(ie.body[0],"textord");ce=stylArray[Number(Et.text)]}}else ie=assertNodeType(ie,"textord"),ce=stylArray[Number(ie.text)];return{type:"genfrac",mode:o.mode,numer:l,denom:c,continued:!1,hasBarLine:G,barSize:H,leftDelim:d,rightDelim:y,size:ce}},htmlBuilder:htmlBuilder$4,mathmlBuilder:mathmlBuilder$3});defineFunction({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(r,n){var{parser:o,funcName:l,token:c}=r;return{type:"infix",mode:o.mode,replaceWith:"\\\\abovefrac",size:assertNodeType(n[0],"size").value,token:c}}});defineFunction({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(r,n)=>{var{parser:o,funcName:l}=r,c=n[0],f=assert(assertNodeType(n[1],"infix").size),d=n[2],w=f.number>0;return{type:"genfrac",mode:o.mode,numer:c,denom:d,continued:!1,hasBarLine:w,barSize:f,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:htmlBuilder$4,mathmlBuilder:mathmlBuilder$3});var htmlBuilder$3=(r,n)=>{var o=n.style,l,c;r.type==="supsub"?(l=r.sup?buildGroup$1(r.sup,n.havingStyle(o.sup()),n):buildGroup$1(r.sub,n.havingStyle(o.sub()),n),c=assertNodeType(r.base,"horizBrace")):c=assertNodeType(r,"horizBrace");var f=buildGroup$1(c.base,n.havingBaseStyle(Style$1.DISPLAY)),d=stretchy.svgSpan(c,n),w;if(c.isOver?(w=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:f},{type:"kern",size:.1},{type:"elem",elem:d}]},n),w.children[0].children[0].children[1].classes.push("svg-align")):(w=buildCommon.makeVList({positionType:"bottom",positionData:f.depth+.1+d.height,children:[{type:"elem",elem:d},{type:"kern",size:.1},{type:"elem",elem:f}]},n),w.children[0].children[0].children[0].classes.push("svg-align")),l){var y=buildCommon.makeSpan(["mord",c.isOver?"mover":"munder"],[w],n);c.isOver?w=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:y},{type:"kern",size:.2},{type:"elem",elem:l}]},n):w=buildCommon.makeVList({positionType:"bottom",positionData:y.depth+.2+l.height+l.depth,children:[{type:"elem",elem:l},{type:"kern",size:.2},{type:"elem",elem:y}]},n)}return buildCommon.makeSpan(["mord",c.isOver?"mover":"munder"],[w],n)},mathmlBuilder$2=(r,n)=>{var o=stretchy.mathMLnode(r.label);return new mathMLTree.MathNode(r.isOver?"mover":"munder",[buildGroup(r.base,n),o])};defineFunction({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(r,n){var{parser:o,funcName:l}=r;return{type:"horizBrace",mode:o.mode,label:l,isOver:/^\\over/.test(l),base:n[0]}},htmlBuilder:htmlBuilder$3,mathmlBuilder:mathmlBuilder$2});defineFunction({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(r,n)=>{var{parser:o}=r,l=n[1],c=assertNodeType(n[0],"url").url;return o.settings.isTrusted({command:"\\href",url:c})?{type:"href",mode:o.mode,href:c,body:ordargument(l)}:o.formatUnsupportedCmd("\\href")},htmlBuilder:(r,n)=>{var o=buildExpression$1(r.body,n,!1);return buildCommon.makeAnchor(r.href,[],o,n)},mathmlBuilder:(r,n)=>{var o=buildExpressionRow(r.body,n);return o instanceof MathNode||(o=new MathNode("mrow",[o])),o.setAttribute("href",r.href),o}});defineFunction({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(r,n)=>{var{parser:o}=r,l=assertNodeType(n[0],"url").url;if(!o.settings.isTrusted({command:"\\url",url:l}))return o.formatUnsupportedCmd("\\url");for(var c=[],f=0;f<l.length;f++){var d=l[f];d==="~"&&(d="\\textasciitilde"),c.push({type:"textord",mode:"text",text:d})}var w={type:"text",mode:o.mode,font:"\\texttt",body:c};return{type:"href",mode:o.mode,href:l,body:ordargument(w)}}});defineFunction({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(r,n){var{parser:o}=r;return{type:"hbox",mode:o.mode,body:ordargument(n[0])}},htmlBuilder(r,n){var o=buildExpression$1(r.body,n,!1);return buildCommon.makeFragment(o)},mathmlBuilder(r,n){return new mathMLTree.MathNode("mrow",buildExpression(r.body,n))}});defineFunction({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(r,n)=>{var{parser:o,funcName:l,token:c}=r,f=assertNodeType(n[0],"raw").string,d=n[1];o.settings.strict&&o.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var w,y={};switch(l){case"\\htmlClass":y.class=f,w={command:"\\htmlClass",class:f};break;case"\\htmlId":y.id=f,w={command:"\\htmlId",id:f};break;case"\\htmlStyle":y.style=f,w={command:"\\htmlStyle",style:f};break;case"\\htmlData":{for(var L=f.split(","),G=0;G<L.length;G++){var H=L[G].split("=");if(H.length!==2)throw new ParseError("Error parsing key-value for \\htmlData");y["data-"+H[0].trim()]=H[1].trim()}w={command:"\\htmlData",attributes:y};break}default:throw new Error("Unrecognized html command")}return o.settings.isTrusted(w)?{type:"html",mode:o.mode,attributes:y,body:ordargument(d)}:o.formatUnsupportedCmd(l)},htmlBuilder:(r,n)=>{var o=buildExpression$1(r.body,n,!1),l=["enclosing"];r.attributes.class&&l.push(...r.attributes.class.trim().split(/\s+/));var c=buildCommon.makeSpan(l,o,n);for(var f in r.attributes)f!=="class"&&r.attributes.hasOwnProperty(f)&&c.setAttribute(f,r.attributes[f]);return c},mathmlBuilder:(r,n)=>buildExpressionRow(r.body,n)});defineFunction({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(r,n)=>{var{parser:o}=r;return{type:"htmlmathml",mode:o.mode,html:ordargument(n[0]),mathml:ordargument(n[1])}},htmlBuilder:(r,n)=>{var o=buildExpression$1(r.html,n,!1);return buildCommon.makeFragment(o)},mathmlBuilder:(r,n)=>buildExpressionRow(r.mathml,n)});var sizeData=function r(n){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(n))return{number:+n,unit:"bp"};var o=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(n);if(!o)throw new ParseError("Invalid size: '"+n+"' in \\includegraphics");var l={number:+(o[1]+o[2]),unit:o[3]};if(!validUnit(l))throw new ParseError("Invalid unit: '"+l.unit+"' in \\includegraphics.");return l};defineFunction({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(r,n,o)=>{var{parser:l}=r,c={number:0,unit:"em"},f={number:.9,unit:"em"},d={number:0,unit:"em"},w="";if(o[0])for(var y=assertNodeType(o[0],"raw").string,L=y.split(","),G=0;G<L.length;G++){var H=L[G].split("=");if(H.length===2){var ce=H[1].trim();switch(H[0].trim()){case"alt":w=ce;break;case"width":c=sizeData(ce);break;case"height":f=sizeData(ce);break;case"totalheight":d=sizeData(ce);break;default:throw new ParseError("Invalid key: '"+H[0]+"' in \\includegraphics.")}}}var ie=assertNodeType(n[0],"url").url;return w===""&&(w=ie,w=w.replace(/^.*[\\/]/,""),w=w.substring(0,w.lastIndexOf("."))),l.settings.isTrusted({command:"\\includegraphics",url:ie})?{type:"includegraphics",mode:l.mode,alt:w,width:c,height:f,totalheight:d,src:ie}:l.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(r,n)=>{var o=calculateSize(r.height,n),l=0;r.totalheight.number>0&&(l=calculateSize(r.totalheight,n)-o);var c=0;r.width.number>0&&(c=calculateSize(r.width,n));var f={height:makeEm(o+l)};c>0&&(f.width=makeEm(c)),l>0&&(f.verticalAlign=makeEm(-l));var d=new Img(r.src,r.alt,f);return d.height=o,d.depth=l,d},mathmlBuilder:(r,n)=>{var o=new mathMLTree.MathNode("mglyph",[]);o.setAttribute("alt",r.alt);var l=calculateSize(r.height,n),c=0;if(r.totalheight.number>0&&(c=calculateSize(r.totalheight,n)-l,o.setAttribute("valign",makeEm(-c))),o.setAttribute("height",makeEm(l+c)),r.width.number>0){var f=calculateSize(r.width,n);o.setAttribute("width",makeEm(f))}return o.setAttribute("src",r.src),o}});defineFunction({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(r,n){var{parser:o,funcName:l}=r,c=assertNodeType(n[0],"size");if(o.settings.strict){var f=l[1]==="m",d=c.value.unit==="mu";f?(d||o.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+l+" supports only mu units, "+("not "+c.value.unit+" units")),o.mode!=="math"&&o.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+l+" works only in math mode")):d&&o.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+l+" doesn't support mu units")}return{type:"kern",mode:o.mode,dimension:c.value}},htmlBuilder(r,n){return buildCommon.makeGlue(r.dimension,n)},mathmlBuilder(r,n){var o=calculateSize(r.dimension,n);return new mathMLTree.SpaceNode(o)}});defineFunction({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(r,n)=>{var{parser:o,funcName:l}=r,c=n[0];return{type:"lap",mode:o.mode,alignment:l.slice(5),body:c}},htmlBuilder:(r,n)=>{var o;r.alignment==="clap"?(o=buildCommon.makeSpan([],[buildGroup$1(r.body,n)]),o=buildCommon.makeSpan(["inner"],[o],n)):o=buildCommon.makeSpan(["inner"],[buildGroup$1(r.body,n)]);var l=buildCommon.makeSpan(["fix"],[]),c=buildCommon.makeSpan([r.alignment],[o,l],n),f=buildCommon.makeSpan(["strut"]);return f.style.height=makeEm(c.height+c.depth),c.depth&&(f.style.verticalAlign=makeEm(-c.depth)),c.children.unshift(f),c=buildCommon.makeSpan(["thinbox"],[c],n),buildCommon.makeSpan(["mord","vbox"],[c],n)},mathmlBuilder:(r,n)=>{var o=new mathMLTree.MathNode("mpadded",[buildGroup(r.body,n)]);if(r.alignment!=="rlap"){var l=r.alignment==="llap"?"-1":"-0.5";o.setAttribute("lspace",l+"width")}return o.setAttribute("width","0px"),o}});defineFunction({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(r,n){var{funcName:o,parser:l}=r,c=l.mode;l.switchMode("math");var f=o==="\\("?"\\)":"$",d=l.parseExpression(!1,f);return l.expect(f),l.switchMode(c),{type:"styling",mode:l.mode,style:"text",body:d}}});defineFunction({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(r,n){throw new ParseError("Mismatched "+r.funcName)}});var chooseMathStyle=(r,n)=>{switch(n.style.size){case Style$1.DISPLAY.size:return r.display;case Style$1.TEXT.size:return r.text;case Style$1.SCRIPT.size:return r.script;case Style$1.SCRIPTSCRIPT.size:return r.scriptscript;default:return r.text}};defineFunction({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(r,n)=>{var{parser:o}=r;return{type:"mathchoice",mode:o.mode,display:ordargument(n[0]),text:ordargument(n[1]),script:ordargument(n[2]),scriptscript:ordargument(n[3])}},htmlBuilder:(r,n)=>{var o=chooseMathStyle(r,n),l=buildExpression$1(o,n,!1);return buildCommon.makeFragment(l)},mathmlBuilder:(r,n)=>{var o=chooseMathStyle(r,n);return buildExpressionRow(o,n)}});var assembleSupSub=(r,n,o,l,c,f,d)=>{r=buildCommon.makeSpan([],[r]);var w=o&&utils.isCharacterBox(o),y,L;if(n){var G=buildGroup$1(n,l.havingStyle(c.sup()),l);L={elem:G,kern:Math.max(l.fontMetrics().bigOpSpacing1,l.fontMetrics().bigOpSpacing3-G.depth)}}if(o){var H=buildGroup$1(o,l.havingStyle(c.sub()),l);y={elem:H,kern:Math.max(l.fontMetrics().bigOpSpacing2,l.fontMetrics().bigOpSpacing4-H.height)}}var ce;if(L&&y){var ie=l.fontMetrics().bigOpSpacing5+y.elem.height+y.elem.depth+y.kern+r.depth+d;ce=buildCommon.makeVList({positionType:"bottom",positionData:ie,children:[{type:"kern",size:l.fontMetrics().bigOpSpacing5},{type:"elem",elem:y.elem,marginLeft:makeEm(-f)},{type:"kern",size:y.kern},{type:"elem",elem:r},{type:"kern",size:L.kern},{type:"elem",elem:L.elem,marginLeft:makeEm(f)},{type:"kern",size:l.fontMetrics().bigOpSpacing5}]},l)}else if(y){var Et=r.height-d;ce=buildCommon.makeVList({positionType:"top",positionData:Et,children:[{type:"kern",size:l.fontMetrics().bigOpSpacing5},{type:"elem",elem:y.elem,marginLeft:makeEm(-f)},{type:"kern",size:y.kern},{type:"elem",elem:r}]},l)}else if(L){var zn=r.depth+d;ce=buildCommon.makeVList({positionType:"bottom",positionData:zn,children:[{type:"elem",elem:r},{type:"kern",size:L.kern},{type:"elem",elem:L.elem,marginLeft:makeEm(f)},{type:"kern",size:l.fontMetrics().bigOpSpacing5}]},l)}else return r;var $l=[ce];if(y&&f!==0&&!w){var zl=buildCommon.makeSpan(["mspace"],[],l);zl.style.marginRight=makeEm(f),$l.unshift(zl)}return buildCommon.makeSpan(["mop","op-limits"],$l,l)},noSuccessor=["\\smallint"],htmlBuilder$2=(r,n)=>{var o,l,c=!1,f;r.type==="supsub"?(o=r.sup,l=r.sub,f=assertNodeType(r.base,"op"),c=!0):f=assertNodeType(r,"op");var d=n.style,w=!1;d.size===Style$1.DISPLAY.size&&f.symbol&&!noSuccessor.includes(f.name)&&(w=!0);var y;if(f.symbol){var L=w?"Size2-Regular":"Size1-Regular",G="";if((f.name==="\\oiint"||f.name==="\\oiiint")&&(G=f.name.slice(1),f.name=G==="oiint"?"\\iint":"\\iiint"),y=buildCommon.makeSymbol(f.name,L,"math",n,["mop","op-symbol",w?"large-op":"small-op"]),G.length>0){var H=y.italic,ce=buildCommon.staticSvg(G+"Size"+(w?"2":"1"),n);y=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:y,shift:0},{type:"elem",elem:ce,shift:w?.08:0}]},n),f.name="\\"+G,y.classes.unshift("mop"),y.italic=H}}else if(f.body){var ie=buildExpression$1(f.body,n,!0);ie.length===1&&ie[0]instanceof SymbolNode?(y=ie[0],y.classes[0]="mop"):y=buildCommon.makeSpan(["mop"],ie,n)}else{for(var Et=[],zn=1;zn<f.name.length;zn++)Et.push(buildCommon.mathsym(f.name[zn],f.mode,n));y=buildCommon.makeSpan(["mop"],Et,n)}var $l=0,zl=0;return(y instanceof SymbolNode||f.name==="\\oiint"||f.name==="\\oiiint")&&!f.suppressBaseShift&&($l=(y.height-y.depth)/2-n.fontMetrics().axisHeight,zl=y.italic),c?assembleSupSub(y,o,l,n,d,zl,$l):($l&&(y.style.position="relative",y.style.top=makeEm($l)),y)},mathmlBuilder$1=(r,n)=>{var o;if(r.symbol)o=new MathNode("mo",[makeText(r.name,r.mode)]),noSuccessor.includes(r.name)&&o.setAttribute("largeop","false");else if(r.body)o=new MathNode("mo",buildExpression(r.body,n));else{o=new MathNode("mi",[new TextNode(r.name.slice(1))]);var l=new MathNode("mo",[makeText("","text")]);r.parentIsSupSub?o=new MathNode("mrow",[o,l]):o=newDocumentFragment([o,l])}return o},singleCharBigOps={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};defineFunction({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(r,n)=>{var{parser:o,funcName:l}=r,c=l;return c.length===1&&(c=singleCharBigOps[c]),{type:"op",mode:o.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:c}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});defineFunction({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(r,n)=>{var{parser:o}=r,l=n[0];return{type:"op",mode:o.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:ordargument(l)}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});var singleCharIntegrals={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};defineFunction({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(r){var{parser:n,funcName:o}=r;return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:o}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});defineFunction({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(r){var{parser:n,funcName:o}=r;return{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:o}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});defineFunction({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0},handler(r){var{parser:n,funcName:o}=r,l=o;return l.length===1&&(l=singleCharIntegrals[l]),{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:l}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});var htmlBuilder$1=(r,n)=>{var o,l,c=!1,f;r.type==="supsub"?(o=r.sup,l=r.sub,f=assertNodeType(r.base,"operatorname"),c=!0):f=assertNodeType(r,"operatorname");var d;if(f.body.length>0){for(var w=f.body.map(H=>{var ce=H.text;return typeof ce=="string"?{type:"textord",mode:H.mode,text:ce}:H}),y=buildExpression$1(w,n.withFont("mathrm"),!0),L=0;L<y.length;L++){var G=y[L];G instanceof SymbolNode&&(G.text=G.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}d=buildCommon.makeSpan(["mop"],y,n)}else d=buildCommon.makeSpan(["mop"],[],n);return c?assembleSupSub(d,o,l,n,n.style,0,0):d},mathmlBuilder=(r,n)=>{for(var o=buildExpression(r.body,n.withFont("mathrm")),l=!0,c=0;c<o.length;c++){var f=o[c];if(!(f instanceof mathMLTree.SpaceNode))if(f instanceof mathMLTree.MathNode)switch(f.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var d=f.children[0];f.children.length===1&&d instanceof mathMLTree.TextNode?d.text=d.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):l=!1;break}default:l=!1}else l=!1}if(l){var w=o.map(G=>G.toText()).join("");o=[new mathMLTree.TextNode(w)]}var y=new mathMLTree.MathNode("mi",o);y.setAttribute("mathvariant","normal");var L=new mathMLTree.MathNode("mo",[makeText("","text")]);return r.parentIsSupSub?new mathMLTree.MathNode("mrow",[y,L]):mathMLTree.newDocumentFragment([y,L])};defineFunction({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(r,n)=>{var{parser:o,funcName:l}=r,c=n[0];return{type:"operatorname",mode:o.mode,body:ordargument(c),alwaysHandleSupSub:l==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:htmlBuilder$1,mathmlBuilder});defineMacro("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");defineFunctionBuilders({type:"ordgroup",htmlBuilder(r,n){return r.semisimple?buildCommon.makeFragment(buildExpression$1(r.body,n,!1)):buildCommon.makeSpan(["mord"],buildExpression$1(r.body,n,!0),n)},mathmlBuilder(r,n){return buildExpressionRow(r.body,n,!0)}});defineFunction({type:"overline",names:["\\overline"],props:{numArgs:1},handler(r,n){var{parser:o}=r,l=n[0];return{type:"overline",mode:o.mode,body:l}},htmlBuilder(r,n){var o=buildGroup$1(r.body,n.havingCrampedStyle()),l=buildCommon.makeLineSpan("overline-line",n),c=n.fontMetrics().defaultRuleThickness,f=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"kern",size:3*c},{type:"elem",elem:l},{type:"kern",size:c}]},n);return buildCommon.makeSpan(["mord","overline"],[f],n)},mathmlBuilder(r,n){var o=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode("")]);o.setAttribute("stretchy","true");var l=new mathMLTree.MathNode("mover",[buildGroup(r.body,n),o]);return l.setAttribute("accent","true"),l}});defineFunction({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(r,n)=>{var{parser:o}=r,l=n[0];return{type:"phantom",mode:o.mode,body:ordargument(l)}},htmlBuilder:(r,n)=>{var o=buildExpression$1(r.body,n.withPhantom(),!1);return buildCommon.makeFragment(o)},mathmlBuilder:(r,n)=>{var o=buildExpression(r.body,n);return new mathMLTree.MathNode("mphantom",o)}});defineFunction({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(r,n)=>{var{parser:o}=r,l=n[0];return{type:"hphantom",mode:o.mode,body:l}},htmlBuilder:(r,n)=>{var o=buildCommon.makeSpan([],[buildGroup$1(r.body,n.withPhantom())]);if(o.height=0,o.depth=0,o.children)for(var l=0;l<o.children.length;l++)o.children[l].height=0,o.children[l].depth=0;return o=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o}]},n),buildCommon.makeSpan(["mord"],[o],n)},mathmlBuilder:(r,n)=>{var o=buildExpression(ordargument(r.body),n),l=new mathMLTree.MathNode("mphantom",o),c=new mathMLTree.MathNode("mpadded",[l]);return c.setAttribute("height","0px"),c.setAttribute("depth","0px"),c}});defineFunction({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(r,n)=>{var{parser:o}=r,l=n[0];return{type:"vphantom",mode:o.mode,body:l}},htmlBuilder:(r,n)=>{var o=buildCommon.makeSpan(["inner"],[buildGroup$1(r.body,n.withPhantom())]),l=buildCommon.makeSpan(["fix"],[]);return buildCommon.makeSpan(["mord","rlap"],[o,l],n)},mathmlBuilder:(r,n)=>{var o=buildExpression(ordargument(r.body),n),l=new mathMLTree.MathNode("mphantom",o),c=new mathMLTree.MathNode("mpadded",[l]);return c.setAttribute("width","0px"),c}});defineFunction({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(r,n){var{parser:o}=r,l=assertNodeType(n[0],"size").value,c=n[1];return{type:"raisebox",mode:o.mode,dy:l,body:c}},htmlBuilder(r,n){var o=buildGroup$1(r.body,n),l=calculateSize(r.dy,n);return buildCommon.makeVList({positionType:"shift",positionData:-l,children:[{type:"elem",elem:o}]},n)},mathmlBuilder(r,n){var o=new mathMLTree.MathNode("mpadded",[buildGroup(r.body,n)]),l=r.dy.number+r.dy.unit;return o.setAttribute("voffset",l),o}});defineFunction({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(r){var{parser:n}=r;return{type:"internal",mode:n.mode}}});defineFunction({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(r,n,o){var{parser:l}=r,c=o[0],f=assertNodeType(n[0],"size"),d=assertNodeType(n[1],"size");return{type:"rule",mode:l.mode,shift:c&&assertNodeType(c,"size").value,width:f.value,height:d.value}},htmlBuilder(r,n){var o=buildCommon.makeSpan(["mord","rule"],[],n),l=calculateSize(r.width,n),c=calculateSize(r.height,n),f=r.shift?calculateSize(r.shift,n):0;return o.style.borderRightWidth=makeEm(l),o.style.borderTopWidth=makeEm(c),o.style.bottom=makeEm(f),o.width=l,o.height=c+f,o.depth=-f,o.maxFontSize=c*1.125*n.sizeMultiplier,o},mathmlBuilder(r,n){var o=calculateSize(r.width,n),l=calculateSize(r.height,n),c=r.shift?calculateSize(r.shift,n):0,f=n.color&&n.getColor()||"black",d=new mathMLTree.MathNode("mspace");d.setAttribute("mathbackground",f),d.setAttribute("width",makeEm(o)),d.setAttribute("height",makeEm(l));var w=new mathMLTree.MathNode("mpadded",[d]);return c>=0?w.setAttribute("height",makeEm(c)):(w.setAttribute("height",makeEm(c)),w.setAttribute("depth",makeEm(-c))),w.setAttribute("voffset",makeEm(c)),w}});function sizingGroup(r,n,o){for(var l=buildExpression$1(r,n,!1),c=n.sizeMultiplier/o.sizeMultiplier,f=0;f<l.length;f++){var d=l[f].classes.indexOf("sizing");d<0?Array.prototype.push.apply(l[f].classes,n.sizingClasses(o)):l[f].classes[d+1]==="reset-size"+n.size&&(l[f].classes[d+1]="reset-size"+o.size),l[f].height*=c,l[f].depth*=c}return buildCommon.makeFragment(l)}var sizeFuncs=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],htmlBuilder=(r,n)=>{var o=n.havingSize(r.size);return sizingGroup(r.body,o,n)};defineFunction({type:"sizing",names:sizeFuncs,props:{numArgs:0,allowedInText:!0},handler:(r,n)=>{var{breakOnTokenText:o,funcName:l,parser:c}=r,f=c.parseExpression(!1,o);return{type:"sizing",mode:c.mode,size:sizeFuncs.indexOf(l)+1,body:f}},htmlBuilder,mathmlBuilder:(r,n)=>{var o=n.havingSize(r.size),l=buildExpression(r.body,o),c=new mathMLTree.MathNode("mstyle",l);return c.setAttribute("mathsize",makeEm(o.sizeMultiplier)),c}});defineFunction({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(r,n,o)=>{var{parser:l}=r,c=!1,f=!1,d=o[0]&&assertNodeType(o[0],"ordgroup");if(d)for(var w="",y=0;y<d.body.length;++y){var L=d.body[y];if(w=L.text,w==="t")c=!0;else if(w==="b")f=!0;else{c=!1,f=!1;break}}else c=!0,f=!0;var G=n[0];return{type:"smash",mode:l.mode,body:G,smashHeight:c,smashDepth:f}},htmlBuilder:(r,n)=>{var o=buildCommon.makeSpan([],[buildGroup$1(r.body,n)]);if(!r.smashHeight&&!r.smashDepth)return o;if(r.smashHeight&&(o.height=0,o.children))for(var l=0;l<o.children.length;l++)o.children[l].height=0;if(r.smashDepth&&(o.depth=0,o.children))for(var c=0;c<o.children.length;c++)o.children[c].depth=0;var f=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o}]},n);return buildCommon.makeSpan(["mord"],[f],n)},mathmlBuilder:(r,n)=>{var o=new mathMLTree.MathNode("mpadded",[buildGroup(r.body,n)]);return r.smashHeight&&o.setAttribute("height","0px"),r.smashDepth&&o.setAttribute("depth","0px"),o}});defineFunction({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(r,n,o){var{parser:l}=r,c=o[0],f=n[0];return{type:"sqrt",mode:l.mode,body:f,index:c}},htmlBuilder(r,n){var o=buildGroup$1(r.body,n.havingCrampedStyle());o.height===0&&(o.height=n.fontMetrics().xHeight),o=buildCommon.wrapFragment(o,n);var l=n.fontMetrics(),c=l.defaultRuleThickness,f=c;n.style.id<Style$1.TEXT.id&&(f=n.fontMetrics().xHeight);var d=c+f/4,w=o.height+o.depth+d+c,{span:y,ruleWidth:L,advanceWidth:G}=delimiter.sqrtImage(w,n),H=y.height-L;H>o.height+o.depth+d&&(d=(d+H-o.height-o.depth)/2);var ce=y.height-o.height-d-L;o.style.paddingLeft=makeEm(G);var ie=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o,wrapperClasses:["svg-align"]},{type:"kern",size:-(o.height+ce)},{type:"elem",elem:y},{type:"kern",size:L}]},n);if(r.index){var Et=n.havingStyle(Style$1.SCRIPTSCRIPT),zn=buildGroup$1(r.index,Et,n),$l=.6*(ie.height-ie.depth),zl=buildCommon.makeVList({positionType:"shift",positionData:-$l,children:[{type:"elem",elem:zn}]},n),Hl=buildCommon.makeSpan(["root"],[zl]);return buildCommon.makeSpan(["mord","sqrt"],[Hl,ie],n)}else return buildCommon.makeSpan(["mord","sqrt"],[ie],n)},mathmlBuilder(r,n){var{body:o,index:l}=r;return l?new mathMLTree.MathNode("mroot",[buildGroup(o,n),buildGroup(l,n)]):new mathMLTree.MathNode("msqrt",[buildGroup(o,n)])}});var styleMap={display:Style$1.DISPLAY,text:Style$1.TEXT,script:Style$1.SCRIPT,scriptscript:Style$1.SCRIPTSCRIPT};defineFunction({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(r,n){var{breakOnTokenText:o,funcName:l,parser:c}=r,f=c.parseExpression(!0,o),d=l.slice(1,l.length-5);return{type:"styling",mode:c.mode,style:d,body:f}},htmlBuilder(r,n){var o=styleMap[r.style],l=n.havingStyle(o).withFont("");return sizingGroup(r.body,l,n)},mathmlBuilder(r,n){var o=styleMap[r.style],l=n.havingStyle(o),c=buildExpression(r.body,l),f=new mathMLTree.MathNode("mstyle",c),d={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},w=d[r.style];return f.setAttribute("scriptlevel",w[0]),f.setAttribute("displaystyle",w[1]),f}});var htmlBuilderDelegate=function r(n,o){var l=n.base;if(l)if(l.type==="op"){var c=l.limits&&(o.style.size===Style$1.DISPLAY.size||l.alwaysHandleSupSub);return c?htmlBuilder$2:null}else if(l.type==="operatorname"){var f=l.alwaysHandleSupSub&&(o.style.size===Style$1.DISPLAY.size||l.limits);return f?htmlBuilder$1:null}else{if(l.type==="accent")return utils.isCharacterBox(l.base)?htmlBuilder$a:null;if(l.type==="horizBrace"){var d=!n.sub;return d===l.isOver?htmlBuilder$3:null}else return null}else return null};defineFunctionBuilders({type:"supsub",htmlBuilder(r,n){var o=htmlBuilderDelegate(r,n);if(o)return o(r,n);var{base:l,sup:c,sub:f}=r,d=buildGroup$1(l,n),w,y,L=n.fontMetrics(),G=0,H=0,ce=l&&utils.isCharacterBox(l);if(c){var ie=n.havingStyle(n.style.sup());w=buildGroup$1(c,ie,n),ce||(G=d.height-ie.fontMetrics().supDrop*ie.sizeMultiplier/n.sizeMultiplier)}if(f){var Et=n.havingStyle(n.style.sub());y=buildGroup$1(f,Et,n),ce||(H=d.depth+Et.fontMetrics().subDrop*Et.sizeMultiplier/n.sizeMultiplier)}var zn;n.style===Style$1.DISPLAY?zn=L.sup1:n.style.cramped?zn=L.sup3:zn=L.sup2;var $l=n.sizeMultiplier,zl=makeEm(.5/L.ptPerEm/$l),Hl=null;if(y){var Ft=r.base&&r.base.type==="op"&&r.base.name&&(r.base.name==="\\oiint"||r.base.name==="\\oiiint");(d instanceof SymbolNode||Ft)&&(Hl=makeEm(-d.italic))}var El;if(w&&y){G=Math.max(G,zn,w.depth+.25*L.xHeight),H=Math.max(H,L.sub2);var Kl=L.defaultRuleThickness,Al=4*Kl;if(G-w.depth-(y.height-H)<Al){H=Al-(G-w.depth)+y.height;var vu=.8*L.xHeight-(G-w.depth);vu>0&&(G+=vu,H-=vu)}var Nl=[{type:"elem",elem:y,shift:H,marginRight:zl,marginLeft:Hl},{type:"elem",elem:w,shift:-G,marginRight:zl}];El=buildCommon.makeVList({positionType:"individualShift",children:Nl},n)}else if(y){H=Math.max(H,L.sub1,y.height-.8*L.xHeight);var Xu=[{type:"elem",elem:y,marginLeft:Hl,marginRight:zl}];El=buildCommon.makeVList({positionType:"shift",positionData:H,children:Xu},n)}else if(w)G=Math.max(G,zn,w.depth+.25*L.xHeight),El=buildCommon.makeVList({positionType:"shift",positionData:-G,children:[{type:"elem",elem:w,marginRight:zl}]},n);else throw new Error("supsub must have either sup or sub.");var Vu=getTypeOfDomTree(d,"right")||"mord";return buildCommon.makeSpan([Vu],[d,buildCommon.makeSpan(["msupsub"],[El])],n)},mathmlBuilder(r,n){var o=!1,l,c;r.base&&r.base.type==="horizBrace"&&(c=!!r.sup,c===r.base.isOver&&(o=!0,l=r.base.isOver)),r.base&&(r.base.type==="op"||r.base.type==="operatorname")&&(r.base.parentIsSupSub=!0);var f=[buildGroup(r.base,n)];r.sub&&f.push(buildGroup(r.sub,n)),r.sup&&f.push(buildGroup(r.sup,n));var d;if(o)d=l?"mover":"munder";else if(r.sub)if(r.sup){var L=r.base;L&&L.type==="op"&&L.limits&&n.style===Style$1.DISPLAY||L&&L.type==="operatorname"&&L.alwaysHandleSupSub&&(n.style===Style$1.DISPLAY||L.limits)?d="munderover":d="msubsup"}else{var y=r.base;y&&y.type==="op"&&y.limits&&(n.style===Style$1.DISPLAY||y.alwaysHandleSupSub)||y&&y.type==="operatorname"&&y.alwaysHandleSupSub&&(y.limits||n.style===Style$1.DISPLAY)?d="munder":d="msub"}else{var w=r.base;w&&w.type==="op"&&w.limits&&(n.style===Style$1.DISPLAY||w.alwaysHandleSupSub)||w&&w.type==="operatorname"&&w.alwaysHandleSupSub&&(w.limits||n.style===Style$1.DISPLAY)?d="mover":d="msup"}return new mathMLTree.MathNode(d,f)}});defineFunctionBuilders({type:"atom",htmlBuilder(r,n){return buildCommon.mathsym(r.text,r.mode,n,["m"+r.family])},mathmlBuilder(r,n){var o=new mathMLTree.MathNode("mo",[makeText(r.text,r.mode)]);if(r.family==="bin"){var l=getVariant(r,n);l==="bold-italic"&&o.setAttribute("mathvariant",l)}else r.family==="punct"?o.setAttribute("separator","true"):(r.family==="open"||r.family==="close")&&o.setAttribute("stretchy","false");return o}});var defaultVariant={mi:"italic",mn:"normal",mtext:"normal"};defineFunctionBuilders({type:"mathord",htmlBuilder(r,n){return buildCommon.makeOrd(r,n,"mathord")},mathmlBuilder(r,n){var o=new mathMLTree.MathNode("mi",[makeText(r.text,r.mode,n)]),l=getVariant(r,n)||"italic";return l!==defaultVariant[o.type]&&o.setAttribute("mathvariant",l),o}});defineFunctionBuilders({type:"textord",htmlBuilder(r,n){return buildCommon.makeOrd(r,n,"textord")},mathmlBuilder(r,n){var o=makeText(r.text,r.mode,n),l=getVariant(r,n)||"normal",c;return r.mode==="text"?c=new mathMLTree.MathNode("mtext",[o]):/[0-9]/.test(r.text)?c=new mathMLTree.MathNode("mn",[o]):r.text==="\\prime"?c=new mathMLTree.MathNode("mo",[o]):c=new mathMLTree.MathNode("mi",[o]),l!==defaultVariant[c.type]&&c.setAttribute("mathvariant",l),c}});var cssSpace={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},regularSpace={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};defineFunctionBuilders({type:"spacing",htmlBuilder(r,n){if(regularSpace.hasOwnProperty(r.text)){var o=regularSpace[r.text].className||"";if(r.mode==="text"){var l=buildCommon.makeOrd(r,n,"textord");return l.classes.push(o),l}else return buildCommon.makeSpan(["mspace",o],[buildCommon.mathsym(r.text,r.mode,n)],n)}else{if(cssSpace.hasOwnProperty(r.text))return buildCommon.makeSpan(["mspace",cssSpace[r.text]],[],n);throw new ParseError('Unknown type of space "'+r.text+'"')}},mathmlBuilder(r,n){var o;if(regularSpace.hasOwnProperty(r.text))o=new mathMLTree.MathNode("mtext",[new mathMLTree.TextNode("")]);else{if(cssSpace.hasOwnProperty(r.text))return new mathMLTree.MathNode("mspace");throw new ParseError('Unknown type of space "'+r.text+'"')}return o}});var pad=()=>{var r=new mathMLTree.MathNode("mtd",[]);return r.setAttribute("width","50%"),r};defineFunctionBuilders({type:"tag",mathmlBuilder(r,n){var o=new mathMLTree.MathNode("mtable",[new mathMLTree.MathNode("mtr",[pad(),new mathMLTree.MathNode("mtd",[buildExpressionRow(r.body,n)]),pad(),new mathMLTree.MathNode("mtd",[buildExpressionRow(r.tag,n)])])]);return o.setAttribute("width","100%"),o}});var textFontFamilies={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},textFontWeights={"\\textbf":"textbf","\\textmd":"textmd"},textFontShapes={"\\textit":"textit","\\textup":"textup"},optionsWithFont=(r,n)=>{var o=r.font;if(o){if(textFontFamilies[o])return n.withTextFontFamily(textFontFamilies[o]);if(textFontWeights[o])return n.withTextFontWeight(textFontWeights[o]);if(o==="\\emph")return n.fontShape==="textit"?n.withTextFontShape("textup"):n.withTextFontShape("textit")}else return n;return n.withTextFontShape(textFontShapes[o])};defineFunction({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(r,n){var{parser:o,funcName:l}=r,c=n[0];return{type:"text",mode:o.mode,body:ordargument(c),font:l}},htmlBuilder(r,n){var o=optionsWithFont(r,n),l=buildExpression$1(r.body,o,!0);return buildCommon.makeSpan(["mord","text"],l,o)},mathmlBuilder(r,n){var o=optionsWithFont(r,n);return buildExpressionRow(r.body,o)}});defineFunction({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(r,n){var{parser:o}=r;return{type:"underline",mode:o.mode,body:n[0]}},htmlBuilder(r,n){var o=buildGroup$1(r.body,n),l=buildCommon.makeLineSpan("underline-line",n),c=n.fontMetrics().defaultRuleThickness,f=buildCommon.makeVList({positionType:"top",positionData:o.height,children:[{type:"kern",size:c},{type:"elem",elem:l},{type:"kern",size:3*c},{type:"elem",elem:o}]},n);return buildCommon.makeSpan(["mord","underline"],[f],n)},mathmlBuilder(r,n){var o=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode("")]);o.setAttribute("stretchy","true");var l=new mathMLTree.MathNode("munder",[buildGroup(r.body,n),o]);return l.setAttribute("accentunder","true"),l}});defineFunction({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(r,n){var{parser:o}=r;return{type:"vcenter",mode:o.mode,body:n[0]}},htmlBuilder(r,n){var o=buildGroup$1(r.body,n),l=n.fontMetrics().axisHeight,c=.5*(o.height-l-(o.depth+l));return buildCommon.makeVList({positionType:"shift",positionData:c,children:[{type:"elem",elem:o}]},n)},mathmlBuilder(r,n){return new mathMLTree.MathNode("mpadded",[buildGroup(r.body,n)],["vcenter"])}});defineFunction({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(r,n,o){throw new ParseError("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(r,n){for(var o=makeVerb(r),l=[],c=n.havingStyle(n.style.text()),f=0;f<o.length;f++){var d=o[f];d==="~"&&(d="\\textasciitilde"),l.push(buildCommon.makeSymbol(d,"Typewriter-Regular",r.mode,c,["mord","texttt"]))}return buildCommon.makeSpan(["mord","text"].concat(c.sizingClasses(n)),buildCommon.tryCombineChars(l),c)},mathmlBuilder(r,n){var o=new mathMLTree.TextNode(makeVerb(r)),l=new mathMLTree.MathNode("mtext",[o]);return l.setAttribute("mathvariant","monospace"),l}});var makeVerb=r=>r.body.replace(/ /g,r.star?"":""),functions=_functions,spaceRegexString=`[ \r
	]`,controlWordRegexString="\\\\[a-zA-Z@]+",controlSymbolRegexString="\\\\[^\uD800-\uDFFF]",controlWordWhitespaceRegexString="("+controlWordRegexString+")"+spaceRegexString+"*",controlSpaceRegexString=`\\\\(
|[ \r	]+
?)[ \r	]*`,combiningDiacriticalMarkString="[-]",combiningDiacriticalMarksEndRegex=new RegExp(combiningDiacriticalMarkString+"+$"),tokenRegexString="("+spaceRegexString+"+)|"+(controlSpaceRegexString+"|")+"([!-\\[\\]---]"+(combiningDiacriticalMarkString+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(combiningDiacriticalMarkString+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+controlWordWhitespaceRegexString)+("|"+controlSymbolRegexString+")");class Lexer{constructor(n,o){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=n,this.settings=o,this.tokenRegex=new RegExp(tokenRegexString,"g"),this.catcodes={"%":14,"~":13}}setCatcode(n,o){this.catcodes[n]=o}lex(){var n=this.input,o=this.tokenRegex.lastIndex;if(o===n.length)return new Token("EOF",new SourceLocation(this,o,o));var l=this.tokenRegex.exec(n);if(l===null||l.index!==o)throw new ParseError("Unexpected character: '"+n[o]+"'",new Token(n[o],new SourceLocation(this,o,o+1)));var c=l[6]||l[3]||(l[2]?"\\ ":" ");if(this.catcodes[c]===14){var f=n.indexOf(`
`,this.tokenRegex.lastIndex);return f===-1?(this.tokenRegex.lastIndex=n.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=f+1,this.lex()}return new Token(c,new SourceLocation(this,o,this.tokenRegex.lastIndex))}}class Namespace{constructor(n,o){n===void 0&&(n={}),o===void 0&&(o={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=o,this.builtins=n,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new ParseError("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var n=this.undefStack.pop();for(var o in n)n.hasOwnProperty(o)&&(n[o]==null?delete this.current[o]:this.current[o]=n[o])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(n){return this.current.hasOwnProperty(n)||this.builtins.hasOwnProperty(n)}get(n){return this.current.hasOwnProperty(n)?this.current[n]:this.builtins[n]}set(n,o,l){if(l===void 0&&(l=!1),l){for(var c=0;c<this.undefStack.length;c++)delete this.undefStack[c][n];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][n]=o)}else{var f=this.undefStack[this.undefStack.length-1];f&&!f.hasOwnProperty(n)&&(f[n]=this.current[n])}o==null?delete this.current[n]:this.current[n]=o}}var macros=_macros;defineMacro("\\noexpand",function(r){var n=r.popToken();return r.isExpandable(n.text)&&(n.noexpand=!0,n.treatAsRelax=!0),{tokens:[n],numArgs:0}});defineMacro("\\expandafter",function(r){var n=r.popToken();return r.expandOnce(!0),{tokens:[n],numArgs:0}});defineMacro("\\@firstoftwo",function(r){var n=r.consumeArgs(2);return{tokens:n[0],numArgs:0}});defineMacro("\\@secondoftwo",function(r){var n=r.consumeArgs(2);return{tokens:n[1],numArgs:0}});defineMacro("\\@ifnextchar",function(r){var n=r.consumeArgs(3);r.consumeSpaces();var o=r.future();return n[0].length===1&&n[0][0].text===o.text?{tokens:n[1],numArgs:0}:{tokens:n[2],numArgs:0}});defineMacro("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");defineMacro("\\TextOrMath",function(r){var n=r.consumeArgs(2);return r.mode==="text"?{tokens:n[0],numArgs:0}:{tokens:n[1],numArgs:0}});var digitToNumber={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};defineMacro("\\char",function(r){var n=r.popToken(),o,l="";if(n.text==="'")o=8,n=r.popToken();else if(n.text==='"')o=16,n=r.popToken();else if(n.text==="`")if(n=r.popToken(),n.text[0]==="\\")l=n.text.charCodeAt(1);else{if(n.text==="EOF")throw new ParseError("\\char` missing argument");l=n.text.charCodeAt(0)}else o=10;if(o){if(l=digitToNumber[n.text],l==null||l>=o)throw new ParseError("Invalid base-"+o+" digit "+n.text);for(var c;(c=digitToNumber[r.future().text])!=null&&c<o;)l*=o,l+=c,r.popToken()}return"\\@char{"+l+"}"});var newcommand=(r,n,o,l)=>{var c=r.consumeArg().tokens;if(c.length!==1)throw new ParseError("\\newcommand's first argument must be a macro name");var f=c[0].text,d=r.isDefined(f);if(d&&!n)throw new ParseError("\\newcommand{"+f+"} attempting to redefine "+(f+"; use \\renewcommand"));if(!d&&!o)throw new ParseError("\\renewcommand{"+f+"} when command "+f+" does not yet exist; use \\newcommand");var w=0;if(c=r.consumeArg().tokens,c.length===1&&c[0].text==="["){for(var y="",L=r.expandNextToken();L.text!=="]"&&L.text!=="EOF";)y+=L.text,L=r.expandNextToken();if(!y.match(/^\s*[0-9]+\s*$/))throw new ParseError("Invalid number of arguments: "+y);w=parseInt(y),c=r.consumeArg().tokens}return d&&l||r.macros.set(f,{tokens:c,numArgs:w}),""};defineMacro("\\newcommand",r=>newcommand(r,!1,!0,!1));defineMacro("\\renewcommand",r=>newcommand(r,!0,!1,!1));defineMacro("\\providecommand",r=>newcommand(r,!0,!0,!0));defineMacro("\\message",r=>{var n=r.consumeArgs(1)[0];return console.log(n.reverse().map(o=>o.text).join("")),""});defineMacro("\\errmessage",r=>{var n=r.consumeArgs(1)[0];return console.error(n.reverse().map(o=>o.text).join("")),""});defineMacro("\\show",r=>{var n=r.popToken(),o=n.text;return console.log(n,r.macros.get(o),functions[o],symbols.math[o],symbols.text[o]),""});defineMacro("\\bgroup","{");defineMacro("\\egroup","}");defineMacro("~","\\nobreakspace");defineMacro("\\lq","`");defineMacro("\\rq","'");defineMacro("\\aa","\\r a");defineMacro("\\AA","\\r A");defineMacro("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");defineMacro("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");defineMacro("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");defineMacro("","\\mathscr{B}");defineMacro("","\\mathscr{E}");defineMacro("","\\mathscr{F}");defineMacro("","\\mathscr{H}");defineMacro("","\\mathscr{I}");defineMacro("","\\mathscr{L}");defineMacro("","\\mathscr{M}");defineMacro("","\\mathscr{R}");defineMacro("","\\mathfrak{C}");defineMacro("","\\mathfrak{H}");defineMacro("","\\mathfrak{Z}");defineMacro("\\Bbbk","\\Bbb{k}");defineMacro("","\\cdotp");defineMacro("\\llap","\\mathllap{\\textrm{#1}}");defineMacro("\\rlap","\\mathrlap{\\textrm{#1}}");defineMacro("\\clap","\\mathclap{\\textrm{#1}}");defineMacro("\\mathstrut","\\vphantom{(}");defineMacro("\\underbar","\\underline{\\text{#1}}");defineMacro("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');defineMacro("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");defineMacro("\\ne","\\neq");defineMacro("","\\neq");defineMacro("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");defineMacro("","\\notin");defineMacro("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");defineMacro("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");defineMacro("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");defineMacro("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");defineMacro("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");defineMacro("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");defineMacro("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");defineMacro("","\\perp");defineMacro("","\\mathclose{!\\mkern-0.8mu!}");defineMacro("","\\notni");defineMacro("","\\ulcorner");defineMacro("","\\urcorner");defineMacro("","\\llcorner");defineMacro("","\\lrcorner");defineMacro("","\\copyright");defineMacro("","\\textregistered");defineMacro("","\\textregistered");defineMacro("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');defineMacro("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');defineMacro("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');defineMacro("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');defineMacro("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");defineMacro("","\\vdots");defineMacro("\\varGamma","\\mathit{\\Gamma}");defineMacro("\\varDelta","\\mathit{\\Delta}");defineMacro("\\varTheta","\\mathit{\\Theta}");defineMacro("\\varLambda","\\mathit{\\Lambda}");defineMacro("\\varXi","\\mathit{\\Xi}");defineMacro("\\varPi","\\mathit{\\Pi}");defineMacro("\\varSigma","\\mathit{\\Sigma}");defineMacro("\\varUpsilon","\\mathit{\\Upsilon}");defineMacro("\\varPhi","\\mathit{\\Phi}");defineMacro("\\varPsi","\\mathit{\\Psi}");defineMacro("\\varOmega","\\mathit{\\Omega}");defineMacro("\\substack","\\begin{subarray}{c}#1\\end{subarray}");defineMacro("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");defineMacro("\\boxed","\\fbox{$\\displaystyle{#1}$}");defineMacro("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");defineMacro("\\implies","\\DOTSB\\;\\Longrightarrow\\;");defineMacro("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");defineMacro("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");defineMacro("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var dotsByToken={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};defineMacro("\\dots",function(r){var n="\\dotso",o=r.expandAfterFuture().text;return o in dotsByToken?n=dotsByToken[o]:(o.slice(0,4)==="\\not"||o in symbols.math&&["bin","rel"].includes(symbols.math[o].group))&&(n="\\dotsb"),n});var spaceAfterDots={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};defineMacro("\\dotso",function(r){var n=r.future().text;return n in spaceAfterDots?"\\ldots\\,":"\\ldots"});defineMacro("\\dotsc",function(r){var n=r.future().text;return n in spaceAfterDots&&n!==","?"\\ldots\\,":"\\ldots"});defineMacro("\\cdots",function(r){var n=r.future().text;return n in spaceAfterDots?"\\@cdots\\,":"\\@cdots"});defineMacro("\\dotsb","\\cdots");defineMacro("\\dotsm","\\cdots");defineMacro("\\dotsi","\\!\\cdots");defineMacro("\\dotsx","\\ldots\\,");defineMacro("\\DOTSI","\\relax");defineMacro("\\DOTSB","\\relax");defineMacro("\\DOTSX","\\relax");defineMacro("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");defineMacro("\\,","\\tmspace+{3mu}{.1667em}");defineMacro("\\thinspace","\\,");defineMacro("\\>","\\mskip{4mu}");defineMacro("\\:","\\tmspace+{4mu}{.2222em}");defineMacro("\\medspace","\\:");defineMacro("\\;","\\tmspace+{5mu}{.2777em}");defineMacro("\\thickspace","\\;");defineMacro("\\!","\\tmspace-{3mu}{.1667em}");defineMacro("\\negthinspace","\\!");defineMacro("\\negmedspace","\\tmspace-{4mu}{.2222em}");defineMacro("\\negthickspace","\\tmspace-{5mu}{.277em}");defineMacro("\\enspace","\\kern.5em ");defineMacro("\\enskip","\\hskip.5em\\relax");defineMacro("\\quad","\\hskip1em\\relax");defineMacro("\\qquad","\\hskip2em\\relax");defineMacro("\\tag","\\@ifstar\\tag@literal\\tag@paren");defineMacro("\\tag@paren","\\tag@literal{({#1})}");defineMacro("\\tag@literal",r=>{if(r.macros.get("\\df@tag"))throw new ParseError("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});defineMacro("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");defineMacro("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");defineMacro("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");defineMacro("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");defineMacro("\\newline","\\\\\\relax");defineMacro("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var latexRaiseA=makeEm(fontMetricsData["Main-Regular"][84][1]-.7*fontMetricsData["Main-Regular"][65][1]);defineMacro("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+latexRaiseA+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");defineMacro("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+latexRaiseA+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");defineMacro("\\hspace","\\@ifstar\\@hspacer\\@hspace");defineMacro("\\@hspace","\\hskip #1\\relax");defineMacro("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");defineMacro("\\ordinarycolon",":");defineMacro("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");defineMacro("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');defineMacro("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');defineMacro("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');defineMacro("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');defineMacro("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');defineMacro("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');defineMacro("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');defineMacro("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');defineMacro("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');defineMacro("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');defineMacro("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');defineMacro("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');defineMacro("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');defineMacro("","\\dblcolon");defineMacro("","\\eqcolon");defineMacro("","\\coloneqq");defineMacro("","\\eqqcolon");defineMacro("","\\Coloneqq");defineMacro("\\ratio","\\vcentcolon");defineMacro("\\coloncolon","\\dblcolon");defineMacro("\\colonequals","\\coloneqq");defineMacro("\\coloncolonequals","\\Coloneqq");defineMacro("\\equalscolon","\\eqqcolon");defineMacro("\\equalscoloncolon","\\Eqqcolon");defineMacro("\\colonminus","\\coloneq");defineMacro("\\coloncolonminus","\\Coloneq");defineMacro("\\minuscolon","\\eqcolon");defineMacro("\\minuscoloncolon","\\Eqcolon");defineMacro("\\coloncolonapprox","\\Colonapprox");defineMacro("\\coloncolonsim","\\Colonsim");defineMacro("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");defineMacro("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");defineMacro("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");defineMacro("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");defineMacro("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");defineMacro("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");defineMacro("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");defineMacro("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");defineMacro("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");defineMacro("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");defineMacro("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");defineMacro("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");defineMacro("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");defineMacro("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");defineMacro("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");defineMacro("\\ngeqq","\\html@mathml{\\@ngeqq}{}");defineMacro("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");defineMacro("\\nleqq","\\html@mathml{\\@nleqq}{}");defineMacro("\\nleqslant","\\html@mathml{\\@nleqslant}{}");defineMacro("\\nshortmid","\\html@mathml{\\@nshortmid}{}");defineMacro("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");defineMacro("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");defineMacro("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");defineMacro("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");defineMacro("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");defineMacro("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");defineMacro("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");defineMacro("\\imath","\\html@mathml{\\@imath}{}");defineMacro("\\jmath","\\html@mathml{\\@jmath}{}");defineMacro("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");defineMacro("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");defineMacro("","\\llbracket");defineMacro("","\\rrbracket");defineMacro("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");defineMacro("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");defineMacro("","\\lBrace");defineMacro("","\\rBrace");defineMacro("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");defineMacro("","\\minuso");defineMacro("\\darr","\\downarrow");defineMacro("\\dArr","\\Downarrow");defineMacro("\\Darr","\\Downarrow");defineMacro("\\lang","\\langle");defineMacro("\\rang","\\rangle");defineMacro("\\uarr","\\uparrow");defineMacro("\\uArr","\\Uparrow");defineMacro("\\Uarr","\\Uparrow");defineMacro("\\N","\\mathbb{N}");defineMacro("\\R","\\mathbb{R}");defineMacro("\\Z","\\mathbb{Z}");defineMacro("\\alef","\\aleph");defineMacro("\\alefsym","\\aleph");defineMacro("\\Alpha","\\mathrm{A}");defineMacro("\\Beta","\\mathrm{B}");defineMacro("\\bull","\\bullet");defineMacro("\\Chi","\\mathrm{X}");defineMacro("\\clubs","\\clubsuit");defineMacro("\\cnums","\\mathbb{C}");defineMacro("\\Complex","\\mathbb{C}");defineMacro("\\Dagger","\\ddagger");defineMacro("\\diamonds","\\diamondsuit");defineMacro("\\empty","\\emptyset");defineMacro("\\Epsilon","\\mathrm{E}");defineMacro("\\Eta","\\mathrm{H}");defineMacro("\\exist","\\exists");defineMacro("\\harr","\\leftrightarrow");defineMacro("\\hArr","\\Leftrightarrow");defineMacro("\\Harr","\\Leftrightarrow");defineMacro("\\hearts","\\heartsuit");defineMacro("\\image","\\Im");defineMacro("\\infin","\\infty");defineMacro("\\Iota","\\mathrm{I}");defineMacro("\\isin","\\in");defineMacro("\\Kappa","\\mathrm{K}");defineMacro("\\larr","\\leftarrow");defineMacro("\\lArr","\\Leftarrow");defineMacro("\\Larr","\\Leftarrow");defineMacro("\\lrarr","\\leftrightarrow");defineMacro("\\lrArr","\\Leftrightarrow");defineMacro("\\Lrarr","\\Leftrightarrow");defineMacro("\\Mu","\\mathrm{M}");defineMacro("\\natnums","\\mathbb{N}");defineMacro("\\Nu","\\mathrm{N}");defineMacro("\\Omicron","\\mathrm{O}");defineMacro("\\plusmn","\\pm");defineMacro("\\rarr","\\rightarrow");defineMacro("\\rArr","\\Rightarrow");defineMacro("\\Rarr","\\Rightarrow");defineMacro("\\real","\\Re");defineMacro("\\reals","\\mathbb{R}");defineMacro("\\Reals","\\mathbb{R}");defineMacro("\\Rho","\\mathrm{P}");defineMacro("\\sdot","\\cdot");defineMacro("\\sect","\\S");defineMacro("\\spades","\\spadesuit");defineMacro("\\sub","\\subset");defineMacro("\\sube","\\subseteq");defineMacro("\\supe","\\supseteq");defineMacro("\\Tau","\\mathrm{T}");defineMacro("\\thetasym","\\vartheta");defineMacro("\\weierp","\\wp");defineMacro("\\Zeta","\\mathrm{Z}");defineMacro("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");defineMacro("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");defineMacro("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");defineMacro("\\bra","\\mathinner{\\langle{#1}|}");defineMacro("\\ket","\\mathinner{|{#1}\\rangle}");defineMacro("\\braket","\\mathinner{\\langle{#1}\\rangle}");defineMacro("\\Bra","\\left\\langle#1\\right|");defineMacro("\\Ket","\\left|#1\\right\\rangle");var braketHelper=r=>n=>{var o=n.consumeArg().tokens,l=n.consumeArg().tokens,c=n.consumeArg().tokens,f=n.consumeArg().tokens,d=n.macros.get("|"),w=n.macros.get("\\|");n.macros.beginGroup();var y=H=>ce=>{r&&(ce.macros.set("|",d),c.length&&ce.macros.set("\\|",w));var ie=H;if(!H&&c.length){var Et=ce.future();Et.text==="|"&&(ce.popToken(),ie=!0)}return{tokens:ie?c:l,numArgs:0}};n.macros.set("|",y(!1)),c.length&&n.macros.set("\\|",y(!0));var L=n.consumeArg().tokens,G=n.expandTokens([...f,...L,...o]);return n.macros.endGroup(),{tokens:G.reverse(),numArgs:0}};defineMacro("\\bra@ket",braketHelper(!1));defineMacro("\\bra@set",braketHelper(!0));defineMacro("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");defineMacro("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");defineMacro("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");defineMacro("\\angln","{\\angl n}");defineMacro("\\blue","\\textcolor{##6495ed}{#1}");defineMacro("\\orange","\\textcolor{##ffa500}{#1}");defineMacro("\\pink","\\textcolor{##ff00af}{#1}");defineMacro("\\red","\\textcolor{##df0030}{#1}");defineMacro("\\green","\\textcolor{##28ae7b}{#1}");defineMacro("\\gray","\\textcolor{gray}{#1}");defineMacro("\\purple","\\textcolor{##9d38bd}{#1}");defineMacro("\\blueA","\\textcolor{##ccfaff}{#1}");defineMacro("\\blueB","\\textcolor{##80f6ff}{#1}");defineMacro("\\blueC","\\textcolor{##63d9ea}{#1}");defineMacro("\\blueD","\\textcolor{##11accd}{#1}");defineMacro("\\blueE","\\textcolor{##0c7f99}{#1}");defineMacro("\\tealA","\\textcolor{##94fff5}{#1}");defineMacro("\\tealB","\\textcolor{##26edd5}{#1}");defineMacro("\\tealC","\\textcolor{##01d1c1}{#1}");defineMacro("\\tealD","\\textcolor{##01a995}{#1}");defineMacro("\\tealE","\\textcolor{##208170}{#1}");defineMacro("\\greenA","\\textcolor{##b6ffb0}{#1}");defineMacro("\\greenB","\\textcolor{##8af281}{#1}");defineMacro("\\greenC","\\textcolor{##74cf70}{#1}");defineMacro("\\greenD","\\textcolor{##1fab54}{#1}");defineMacro("\\greenE","\\textcolor{##0d923f}{#1}");defineMacro("\\goldA","\\textcolor{##ffd0a9}{#1}");defineMacro("\\goldB","\\textcolor{##ffbb71}{#1}");defineMacro("\\goldC","\\textcolor{##ff9c39}{#1}");defineMacro("\\goldD","\\textcolor{##e07d10}{#1}");defineMacro("\\goldE","\\textcolor{##a75a05}{#1}");defineMacro("\\redA","\\textcolor{##fca9a9}{#1}");defineMacro("\\redB","\\textcolor{##ff8482}{#1}");defineMacro("\\redC","\\textcolor{##f9685d}{#1}");defineMacro("\\redD","\\textcolor{##e84d39}{#1}");defineMacro("\\redE","\\textcolor{##bc2612}{#1}");defineMacro("\\maroonA","\\textcolor{##ffbde0}{#1}");defineMacro("\\maroonB","\\textcolor{##ff92c6}{#1}");defineMacro("\\maroonC","\\textcolor{##ed5fa6}{#1}");defineMacro("\\maroonD","\\textcolor{##ca337c}{#1}");defineMacro("\\maroonE","\\textcolor{##9e034e}{#1}");defineMacro("\\purpleA","\\textcolor{##ddd7ff}{#1}");defineMacro("\\purpleB","\\textcolor{##c6b9fc}{#1}");defineMacro("\\purpleC","\\textcolor{##aa87ff}{#1}");defineMacro("\\purpleD","\\textcolor{##7854ab}{#1}");defineMacro("\\purpleE","\\textcolor{##543b78}{#1}");defineMacro("\\mintA","\\textcolor{##f5f9e8}{#1}");defineMacro("\\mintB","\\textcolor{##edf2df}{#1}");defineMacro("\\mintC","\\textcolor{##e0e5cc}{#1}");defineMacro("\\grayA","\\textcolor{##f6f7f7}{#1}");defineMacro("\\grayB","\\textcolor{##f0f1f2}{#1}");defineMacro("\\grayC","\\textcolor{##e3e5e6}{#1}");defineMacro("\\grayD","\\textcolor{##d6d8da}{#1}");defineMacro("\\grayE","\\textcolor{##babec2}{#1}");defineMacro("\\grayF","\\textcolor{##888d93}{#1}");defineMacro("\\grayG","\\textcolor{##626569}{#1}");defineMacro("\\grayH","\\textcolor{##3b3e40}{#1}");defineMacro("\\grayI","\\textcolor{##21242c}{#1}");defineMacro("\\kaBlue","\\textcolor{##314453}{#1}");defineMacro("\\kaGreen","\\textcolor{##71B307}{#1}");var implicitCommands={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class MacroExpander{constructor(n,o,l){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=o,this.expansionCount=0,this.feed(n),this.macros=new Namespace(macros,o.macros),this.mode=l,this.stack=[]}feed(n){this.lexer=new Lexer(n,this.settings)}switchMode(n){this.mode=n}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(n){this.stack.push(n)}pushTokens(n){this.stack.push(...n)}scanArgument(n){var o,l,c;if(n){if(this.consumeSpaces(),this.future().text!=="[")return null;o=this.popToken(),{tokens:c,end:l}=this.consumeArg(["]"])}else({tokens:c,start:o,end:l}=this.consumeArg());return this.pushToken(new Token("EOF",l.loc)),this.pushTokens(c),new Token("",SourceLocation.range(o,l))}consumeSpaces(){for(;;){var n=this.future();if(n.text===" ")this.stack.pop();else break}}consumeArg(n){var o=[],l=n&&n.length>0;l||this.consumeSpaces();var c=this.future(),f,d=0,w=0;do{if(f=this.popToken(),o.push(f),f.text==="{")++d;else if(f.text==="}"){if(--d,d===-1)throw new ParseError("Extra }",f)}else if(f.text==="EOF")throw new ParseError("Unexpected end of input in a macro argument, expected '"+(n&&l?n[w]:"}")+"'",f);if(n&&l)if((d===0||d===1&&n[w]==="{")&&f.text===n[w]){if(++w,w===n.length){o.splice(-w,w);break}}else w=0}while(d!==0||l);return c.text==="{"&&o[o.length-1].text==="}"&&(o.pop(),o.shift()),o.reverse(),{tokens:o,start:c,end:f}}consumeArgs(n,o){if(o){if(o.length!==n+1)throw new ParseError("The length of delimiters doesn't match the number of args!");for(var l=o[0],c=0;c<l.length;c++){var f=this.popToken();if(l[c]!==f.text)throw new ParseError("Use of the macro doesn't match its definition",f)}}for(var d=[],w=0;w<n;w++)d.push(this.consumeArg(o&&o[w+1]).tokens);return d}countExpansion(n){if(this.expansionCount+=n,this.expansionCount>this.settings.maxExpand)throw new ParseError("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(n){var o=this.popToken(),l=o.text,c=o.noexpand?null:this._getExpansion(l);if(c==null||n&&c.unexpandable){if(n&&c==null&&l[0]==="\\"&&!this.isDefined(l))throw new ParseError("Undefined control sequence: "+l);return this.pushToken(o),!1}this.countExpansion(1);var f=c.tokens,d=this.consumeArgs(c.numArgs,c.delimiters);if(c.numArgs){f=f.slice();for(var w=f.length-1;w>=0;--w){var y=f[w];if(y.text==="#"){if(w===0)throw new ParseError("Incomplete placeholder at end of macro body",y);if(y=f[--w],y.text==="#")f.splice(w+1,1);else if(/^[1-9]$/.test(y.text))f.splice(w,2,...d[+y.text-1]);else throw new ParseError("Not a valid argument number",y)}}}return this.pushTokens(f),f.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var n=this.stack.pop();return n.treatAsRelax&&(n.text="\\relax"),n}throw new Error}expandMacro(n){return this.macros.has(n)?this.expandTokens([new Token(n)]):void 0}expandTokens(n){var o=[],l=this.stack.length;for(this.pushTokens(n);this.stack.length>l;)if(this.expandOnce(!0)===!1){var c=this.stack.pop();c.treatAsRelax&&(c.noexpand=!1,c.treatAsRelax=!1),o.push(c)}return this.countExpansion(o.length),o}expandMacroAsText(n){var o=this.expandMacro(n);return o&&o.map(l=>l.text).join("")}_getExpansion(n){var o=this.macros.get(n);if(o==null)return o;if(n.length===1){var l=this.lexer.catcodes[n];if(l!=null&&l!==13)return}var c=typeof o=="function"?o(this):o;if(typeof c=="string"){var f=0;if(c.indexOf("#")!==-1)for(var d=c.replace(/##/g,"");d.indexOf("#"+(f+1))!==-1;)++f;for(var w=new Lexer(c,this.settings),y=[],L=w.lex();L.text!=="EOF";)y.push(L),L=w.lex();y.reverse();var G={tokens:y,numArgs:f};return G}return c}isDefined(n){return this.macros.has(n)||functions.hasOwnProperty(n)||symbols.math.hasOwnProperty(n)||symbols.text.hasOwnProperty(n)||implicitCommands.hasOwnProperty(n)}isExpandable(n){var o=this.macros.get(n);return o!=null?typeof o=="string"||typeof o=="function"||!o.unexpandable:functions.hasOwnProperty(n)&&!functions[n].primitive}}var unicodeSubRegEx=/^[]/,uSubsAndSups=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),unicodeAccents={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},unicodeSymbols={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class Parser{constructor(n,o){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new MacroExpander(n,o,this.mode),this.settings=o,this.leftrightDepth=0}expect(n,o){if(o===void 0&&(o=!0),this.fetch().text!==n)throw new ParseError("Expected '"+n+"', got '"+this.fetch().text+"'",this.fetch());o&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(n){this.mode=n,this.gullet.switchMode(n)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var n=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),n}finally{this.gullet.endGroups()}}subparse(n){var o=this.nextToken;this.consume(),this.gullet.pushToken(new Token("}")),this.gullet.pushTokens(n);var l=this.parseExpression(!1);return this.expect("}"),this.nextToken=o,l}parseExpression(n,o){for(var l=[];;){this.mode==="math"&&this.consumeSpaces();var c=this.fetch();if(Parser.endOfExpression.indexOf(c.text)!==-1||o&&c.text===o||n&&functions[c.text]&&functions[c.text].infix)break;var f=this.parseAtom(o);if(f){if(f.type==="internal")continue}else break;l.push(f)}return this.mode==="text"&&this.formLigatures(l),this.handleInfixNodes(l)}handleInfixNodes(n){for(var o=-1,l,c=0;c<n.length;c++)if(n[c].type==="infix"){if(o!==-1)throw new ParseError("only one infix operator per group",n[c].token);o=c,l=n[c].replaceWith}if(o!==-1&&l){var f,d,w=n.slice(0,o),y=n.slice(o+1);w.length===1&&w[0].type==="ordgroup"?f=w[0]:f={type:"ordgroup",mode:this.mode,body:w},y.length===1&&y[0].type==="ordgroup"?d=y[0]:d={type:"ordgroup",mode:this.mode,body:y};var L;return l==="\\\\abovefrac"?L=this.callFunction(l,[f,n[o],d],[]):L=this.callFunction(l,[f,d],[]),[L]}else return n}handleSupSubscript(n){var o=this.fetch(),l=o.text;this.consume(),this.consumeSpaces();var c;do{var f;c=this.parseGroup(n)}while(((f=c)==null?void 0:f.type)==="internal");if(!c)throw new ParseError("Expected group after '"+l+"'",o);return c}formatUnsupportedCmd(n){for(var o=[],l=0;l<n.length;l++)o.push({type:"textord",mode:"text",text:n[l]});var c={type:"text",mode:this.mode,body:o},f={type:"color",mode:this.mode,color:this.settings.errorColor,body:[c]};return f}parseAtom(n){var o=this.parseGroup("atom",n);if(o?.type==="internal"||this.mode==="text")return o;for(var l,c;;){this.consumeSpaces();var f=this.fetch();if(f.text==="\\limits"||f.text==="\\nolimits"){if(o&&o.type==="op"){var d=f.text==="\\limits";o.limits=d,o.alwaysHandleSupSub=!0}else if(o&&o.type==="operatorname")o.alwaysHandleSupSub&&(o.limits=f.text==="\\limits");else throw new ParseError("Limit controls must follow a math operator",f);this.consume()}else if(f.text==="^"){if(l)throw new ParseError("Double superscript",f);l=this.handleSupSubscript("superscript")}else if(f.text==="_"){if(c)throw new ParseError("Double subscript",f);c=this.handleSupSubscript("subscript")}else if(f.text==="'"){if(l)throw new ParseError("Double superscript",f);var w={type:"textord",mode:this.mode,text:"\\prime"},y=[w];for(this.consume();this.fetch().text==="'";)y.push(w),this.consume();this.fetch().text==="^"&&y.push(this.handleSupSubscript("superscript")),l={type:"ordgroup",mode:this.mode,body:y}}else if(uSubsAndSups[f.text]){var L=unicodeSubRegEx.test(f.text),G=[];for(G.push(new Token(uSubsAndSups[f.text])),this.consume();;){var H=this.fetch().text;if(!uSubsAndSups[H]||unicodeSubRegEx.test(H)!==L)break;G.unshift(new Token(uSubsAndSups[H])),this.consume()}var ce=this.subparse(G);L?c={type:"ordgroup",mode:"math",body:ce}:l={type:"ordgroup",mode:"math",body:ce}}else break}return l||c?{type:"supsub",mode:this.mode,base:o,sup:l,sub:c}:o}parseFunction(n,o){var l=this.fetch(),c=l.text,f=functions[c];if(!f)return null;if(this.consume(),o&&o!=="atom"&&!f.allowedInArgument)throw new ParseError("Got function '"+c+"' with no arguments"+(o?" as "+o:""),l);if(this.mode==="text"&&!f.allowedInText)throw new ParseError("Can't use function '"+c+"' in text mode",l);if(this.mode==="math"&&f.allowedInMath===!1)throw new ParseError("Can't use function '"+c+"' in math mode",l);var{args:d,optArgs:w}=this.parseArguments(c,f);return this.callFunction(c,d,w,l,n)}callFunction(n,o,l,c,f){var d={funcName:n,parser:this,token:c,breakOnTokenText:f},w=functions[n];if(w&&w.handler)return w.handler(d,o,l);throw new ParseError("No function handler for "+n)}parseArguments(n,o){var l=o.numArgs+o.numOptionalArgs;if(l===0)return{args:[],optArgs:[]};for(var c=[],f=[],d=0;d<l;d++){var w=o.argTypes&&o.argTypes[d],y=d<o.numOptionalArgs;(o.primitive&&w==null||o.type==="sqrt"&&d===1&&f[0]==null)&&(w="primitive");var L=this.parseGroupOfType("argument to '"+n+"'",w,y);if(y)f.push(L);else if(L!=null)c.push(L);else throw new ParseError("Null argument, please report this as a bug")}return{args:c,optArgs:f}}parseGroupOfType(n,o,l){switch(o){case"color":return this.parseColorGroup(l);case"size":return this.parseSizeGroup(l);case"url":return this.parseUrlGroup(l);case"math":case"text":return this.parseArgumentGroup(l,o);case"hbox":{var c=this.parseArgumentGroup(l,"text");return c!=null?{type:"styling",mode:c.mode,body:[c],style:"text"}:null}case"raw":{var f=this.parseStringGroup("raw",l);return f!=null?{type:"raw",mode:"text",string:f.text}:null}case"primitive":{if(l)throw new ParseError("A primitive argument cannot be optional");var d=this.parseGroup(n);if(d==null)throw new ParseError("Expected group as "+n,this.fetch());return d}case"original":case null:case void 0:return this.parseArgumentGroup(l);default:throw new ParseError("Unknown group type as "+n,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(n,o){var l=this.gullet.scanArgument(o);if(l==null)return null;for(var c="",f;(f=this.fetch()).text!=="EOF";)c+=f.text,this.consume();return this.consume(),l.text=c,l}parseRegexGroup(n,o){for(var l=this.fetch(),c=l,f="",d;(d=this.fetch()).text!=="EOF"&&n.test(f+d.text);)c=d,f+=c.text,this.consume();if(f==="")throw new ParseError("Invalid "+o+": '"+l.text+"'",l);return l.range(c,f)}parseColorGroup(n){var o=this.parseStringGroup("color",n);if(o==null)return null;var l=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(o.text);if(!l)throw new ParseError("Invalid color: '"+o.text+"'",o);var c=l[0];return/^[0-9a-f]{6}$/i.test(c)&&(c="#"+c),{type:"color-token",mode:this.mode,color:c}}parseSizeGroup(n){var o,l=!1;if(this.gullet.consumeSpaces(),!n&&this.gullet.future().text!=="{"?o=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):o=this.parseStringGroup("size",n),!o)return null;!n&&o.text.length===0&&(o.text="0pt",l=!0);var c=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(o.text);if(!c)throw new ParseError("Invalid size: '"+o.text+"'",o);var f={number:+(c[1]+c[2]),unit:c[3]};if(!validUnit(f))throw new ParseError("Invalid unit: '"+f.unit+"'",o);return{type:"size",mode:this.mode,value:f,isBlank:l}}parseUrlGroup(n){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var o=this.parseStringGroup("url",n);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),o==null)return null;var l=o.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:l}}parseArgumentGroup(n,o){var l=this.gullet.scanArgument(n);if(l==null)return null;var c=this.mode;o&&this.switchMode(o),this.gullet.beginGroup();var f=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var d={type:"ordgroup",mode:this.mode,loc:l.loc,body:f};return o&&this.switchMode(c),d}parseGroup(n,o){var l=this.fetch(),c=l.text,f;if(c==="{"||c==="\\begingroup"){this.consume();var d=c==="{"?"}":"\\endgroup";this.gullet.beginGroup();var w=this.parseExpression(!1,d),y=this.fetch();this.expect(d),this.gullet.endGroup(),f={type:"ordgroup",mode:this.mode,loc:SourceLocation.range(l,y),body:w,semisimple:c==="\\begingroup"||void 0}}else if(f=this.parseFunction(o,n)||this.parseSymbol(),f==null&&c[0]==="\\"&&!implicitCommands.hasOwnProperty(c)){if(this.settings.throwOnError)throw new ParseError("Undefined control sequence: "+c,l);f=this.formatUnsupportedCmd(c),this.consume()}return f}formLigatures(n){for(var o=n.length-1,l=0;l<o;++l){var c=n[l],f=c.text;f==="-"&&n[l+1].text==="-"&&(l+1<o&&n[l+2].text==="-"?(n.splice(l,3,{type:"textord",mode:"text",loc:SourceLocation.range(c,n[l+2]),text:"---"}),o-=2):(n.splice(l,2,{type:"textord",mode:"text",loc:SourceLocation.range(c,n[l+1]),text:"--"}),o-=1)),(f==="'"||f==="`")&&n[l+1].text===f&&(n.splice(l,2,{type:"textord",mode:"text",loc:SourceLocation.range(c,n[l+1]),text:f+f}),o-=1)}}parseSymbol(){var n=this.fetch(),o=n.text;if(/^\\verb[^a-zA-Z]/.test(o)){this.consume();var l=o.slice(5),c=l.charAt(0)==="*";if(c&&(l=l.slice(1)),l.length<2||l.charAt(0)!==l.slice(-1))throw new ParseError(`\\verb assertion failed --
                    please report what input caused this bug`);return l=l.slice(1,-1),{type:"verb",mode:"text",body:l,star:c}}unicodeSymbols.hasOwnProperty(o[0])&&!symbols[this.mode][o[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+o[0]+'" used in math mode',n),o=unicodeSymbols[o[0]]+o.slice(1));var f=combiningDiacriticalMarksEndRegex.exec(o);f&&(o=o.substring(0,f.index),o==="i"?o="":o==="j"&&(o=""));var d;if(symbols[this.mode][o]){this.settings.strict&&this.mode==="math"&&extraLatin.indexOf(o)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+o[0]+'" used in math mode',n);var w=symbols[this.mode][o].group,y=SourceLocation.range(n),L;if(ATOMS.hasOwnProperty(w)){var G=w;L={type:"atom",mode:this.mode,family:G,loc:y,text:o}}else L={type:w,mode:this.mode,loc:y,text:o};d=L}else if(o.charCodeAt(0)>=128)this.settings.strict&&(supportedCodepoint(o.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+o[0]+'" used in math mode',n):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+o[0]+'"'+(" ("+o.charCodeAt(0)+")"),n)),d={type:"textord",mode:"text",loc:SourceLocation.range(n),text:o};else return null;if(this.consume(),f)for(var H=0;H<f[0].length;H++){var ce=f[0][H];if(!unicodeAccents[ce])throw new ParseError("Unknown accent ' "+ce+"'",n);var ie=unicodeAccents[ce][this.mode]||unicodeAccents[ce].text;if(!ie)throw new ParseError("Accent "+ce+" unsupported in "+this.mode+" mode",n);d={type:"accent",mode:this.mode,loc:SourceLocation.range(n),label:ie,isStretchy:!1,isShifty:!0,base:d}}return d}}Parser.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var parseTree=function r(n,o){if(!(typeof n=="string"||n instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var l=new Parser(n,o);delete l.gullet.macros.current["\\df@tag"];var c=l.parse();if(delete l.gullet.macros.current["\\current@color"],delete l.gullet.macros.current["\\color"],l.gullet.macros.get("\\df@tag")){if(!o.displayMode)throw new ParseError("\\tag works only in display equations");c=[{type:"tag",mode:"text",body:c,tag:l.subparse([new Token("\\df@tag")])}]}return c},render=function r(n,o,l){o.textContent="";var c=renderToDomTree(n,l).toNode();o.appendChild(c)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),render=function(){throw new ParseError("KaTeX doesn't work in quirks mode.")});var renderToString=function r(n,o){var l=renderToDomTree(n,o).toMarkup();return l},generateParseTree=function r(n,o){var l=new Settings(o);return parseTree(n,l)},renderError=function r(n,o,l){if(l.throwOnError||!(n instanceof ParseError))throw n;var c=buildCommon.makeSpan(["katex-error"],[new SymbolNode(o)]);return c.setAttribute("title",n.toString()),c.setAttribute("style","color:"+l.errorColor),c},renderToDomTree=function r(n,o){var l=new Settings(o);try{var c=parseTree(n,l);return buildTree(c,n,l)}catch(f){return renderError(f,n,l)}},renderToHTMLTree=function r(n,o){var l=new Settings(o);try{var c=parseTree(n,l);return buildHTMLTree(c,n,l)}catch(f){return renderError(f,n,l)}},version="0.16.25",__domTree={Span,Anchor,SymbolNode,SvgNode,PathNode,LineNode},katex={version,render,renderToString,ParseError,SETTINGS_SCHEMA,__parse:generateParseTree,__renderToDomTree:renderToDomTree,__renderToHTMLTree:renderToHTMLTree,__setFontMetrics:setFontMetrics,__defineSymbol:defineSymbol,__defineFunction:defineFunction,__defineMacro:defineMacro,__domTree};const emptyOptions$2={};function remarkMath(r){const n=this,o=r||emptyOptions$2,l=n.data(),c=l.micromarkExtensions||(l.micromarkExtensions=[]),f=l.fromMarkdownExtensions||(l.fromMarkdownExtensions=[]),d=l.toMarkdownExtensions||(l.toMarkdownExtensions=[]);c.push(math$1(o)),f.push(mathFromMarkdown()),d.push(mathToMarkdown(o))}const search=/[#.]/g;function parseSelector(r,n){const o=r||"",l={};let c=0,f,d;for(;c<o.length;){search.lastIndex=c;const w=search.exec(o),y=o.slice(c,w?w.index:o.length);y&&(f?f==="#"?l.id=y:Array.isArray(l.className)?l.className.push(y):l.className=[y]:d=y,c+=y.length),w&&(f=w[0],c++)}return{type:"element",tagName:d||n||"div",properties:l,children:[]}}function createH(r,n,o){const l=o?createAdjustMap(o):void 0;function c(f,d,...w){let y;if(f==null){y={type:"root",children:[]};const L=d;w.unshift(L)}else{y=parseSelector(f,n);const L=y.tagName.toLowerCase(),G=l?l.get(L):void 0;if(y.tagName=G||L,isChild(d))w.unshift(d);else for(const[H,ce]of Object.entries(d))addProperty(r,y.properties,H,ce)}for(const L of w)addChild(y.children,L);return y.type==="element"&&y.tagName==="template"&&(y.content={type:"root",children:y.children},y.children=[]),y}return c}function isChild(r){if(r===null||typeof r!="object"||Array.isArray(r))return!0;if(typeof r.type!="string")return!1;const n=r,o=Object.keys(r);for(const l of o){const c=n[l];if(c&&typeof c=="object"){if(!Array.isArray(c))return!0;const f=c;for(const d of f)if(typeof d!="number"&&typeof d!="string")return!0}}return!!("children"in r&&Array.isArray(r.children))}function addProperty(r,n,o,l){const c=find(r,o);let f;if(l!=null){if(typeof l=="number"){if(Number.isNaN(l))return;f=l}else typeof l=="boolean"?f=l:typeof l=="string"?c.spaceSeparated?f=parse$1(l):c.commaSeparated?f=parse$2(l):c.commaOrSpaceSeparated?f=parse$1(parse$2(l).join(" ")):f=parsePrimitive(c,c.property,l):Array.isArray(l)?f=[...l]:f=c.property==="style"?style(l):String(l);if(Array.isArray(f)){const d=[];for(const w of f)d.push(parsePrimitive(c,c.property,w));f=d}c.property==="className"&&Array.isArray(n.className)&&(f=n.className.concat(f)),n[c.property]=f}}function addChild(r,n){if(n!=null)if(typeof n=="number"||typeof n=="string")r.push({type:"text",value:String(n)});else if(Array.isArray(n))for(const o of n)addChild(r,o);else if(typeof n=="object"&&"type"in n)n.type==="root"?addChild(r,n.children):r.push(n);else throw new Error("Expected node, nodes, or string, got `"+n+"`")}function parsePrimitive(r,n,o){if(typeof o=="string"){if(r.number&&o&&!Number.isNaN(Number(o)))return Number(o);if((r.boolean||r.overloadedBoolean)&&(o===""||normalize$1(o)===normalize$1(n)))return!0}return o}function style(r){const n=[];for(const[o,l]of Object.entries(r))n.push([o,l].join(": "));return n.join("; ")}function createAdjustMap(r){const n=new Map;for(const o of r)n.set(o.toLowerCase(),o);return n}const svgCaseSensitiveTagNames=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],h=createH(html$2,"div"),s=createH(svg,"g",svgCaseSensitiveTagNames),webNamespaces={html:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg"};function fromDom(r,n){return transform(r,{})||{type:"root",children:[]}}function transform(r,n){const o=one(r,n);return o&&n.afterTransform&&n.afterTransform(r,o),o}function one(r,n){switch(r.nodeType){case 1:return element$1(r,n);case 3:return text$2(r);case 8:return comment(r);case 9:return root$1(r,n);case 10:return doctype();case 11:return root$1(r,n);default:return}}function root$1(r,n){return{type:"root",children:all(r,n)}}function doctype(){return{type:"doctype"}}function text$2(r){return{type:"text",value:r.nodeValue||""}}function comment(r){return{type:"comment",value:r.nodeValue||""}}function element$1(r,n){const o=r.namespaceURI,l=o===webNamespaces.svg?s:h,c=o===webNamespaces.html?r.tagName.toLowerCase():r.tagName,f=o===webNamespaces.html&&c==="template"?r.content:r,d=r.getAttributeNames(),w={};let y=-1;for(;++y<d.length;)w[d[y]]=r.getAttribute(d[y])||"";return l(c,w,all(f,n))}function all(r,n){const o=r.childNodes,l=[];let c=-1;for(;++c<o.length;){const f=transform(o[c],n);f!==void 0&&l.push(f)}return l}new DOMParser;function fromHtmlIsomorphic(r,n){const o=parseFragment(r);return fromDom(o)}function parseFragment(r){const n=document.createElement("template");return n.innerHTML=r,n.content}const findAfter=(function(r,n,o){const l=convert(o);if(!r||!r.type||!r.children)throw new Error("Expected parent node");if(typeof n=="number"){if(n<0||n===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(n=r.children.indexOf(n),n<0)throw new Error("Expected child node or index");for(;++n<r.children.length;)if(l(r.children[n],n,r))return r.children[n]}),convertElement=(function(r){if(r==null)return element;if(typeof r=="string")return tagNameFactory(r);if(typeof r=="object")return anyFactory(r);if(typeof r=="function")return castFactory(r);throw new Error("Expected function, string, or array as `test`")});function anyFactory(r){const n=[];let o=-1;for(;++o<r.length;)n[o]=convertElement(r[o]);return castFactory(l);function l(...c){let f=-1;for(;++f<n.length;)if(n[f].apply(this,c))return!0;return!1}}function tagNameFactory(r){return castFactory(n);function n(o){return o.tagName===r}}function castFactory(r){return n;function n(o,l,c){return!!(looksLikeAnElement(o)&&r.call(this,o,typeof l=="number"?l:void 0,c||void 0))}}function element(r){return!!(r&&typeof r=="object"&&"type"in r&&r.type==="element"&&"tagName"in r&&typeof r.tagName=="string")}function looksLikeAnElement(r){return r!==null&&typeof r=="object"&&"type"in r&&"tagName"in r}const searchLineFeeds=/\n/g,searchTabOrSpaces=/[\t ]+/g,br=convertElement("br"),cell=convertElement(isCell),p=convertElement("p"),row=convertElement("tr"),notRendered=convertElement(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",hidden,closedDialog]),blockOrCaption=convertElement(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function toText(r,n){const o=n||{},l="children"in r?r.children:[],c=blockOrCaption(r),f=inferWhitespace(r,{whitespace:o.whitespace||"normal"}),d=[];(r.type==="text"||r.type==="comment")&&d.push(...collectText(r,{breakBefore:!0,breakAfter:!0}));let w=-1;for(;++w<l.length;)d.push(...renderedTextCollection(l[w],r,{whitespace:f,breakBefore:w?void 0:c,breakAfter:w<l.length-1?br(l[w+1]):c}));const y=[];let L;for(w=-1;++w<d.length;){const G=d[w];typeof G=="number"?L!==void 0&&G>L&&(L=G):G&&(L!==void 0&&L>-1&&y.push(`
`.repeat(L)||" "),L=-1,y.push(G))}return y.join("")}function renderedTextCollection(r,n,o){return r.type==="element"?collectElement(r,n,o):r.type==="text"?o.whitespace==="normal"?collectText(r,o):collectPreText(r):[]}function collectElement(r,n,o){const l=inferWhitespace(r,o),c=r.children||[];let f=-1,d=[];if(notRendered(r))return d;let w,y;for(br(r)||row(r)&&findAfter(n,r,row)?y=`
`:p(r)?(w=2,y=2):blockOrCaption(r)&&(w=1,y=1);++f<c.length;)d=d.concat(renderedTextCollection(c[f],r,{whitespace:l,breakBefore:f?void 0:w,breakAfter:f<c.length-1?br(c[f+1]):y}));return cell(r)&&findAfter(n,r,cell)&&d.push("	"),w&&d.unshift(w),y&&d.push(y),d}function collectText(r,n){const o=String(r.value),l=[],c=[];let f=0;for(;f<=o.length;){searchLineFeeds.lastIndex=f;const y=searchLineFeeds.exec(o),L=y&&"index"in y?y.index:o.length;l.push(trimAndCollapseSpacesAndTabs(o.slice(f,L).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),f===0?n.breakBefore:!0,L===o.length?n.breakAfter:!0)),f=L+1}let d=-1,w;for(;++d<l.length;)l[d].charCodeAt(l[d].length-1)===8203||d<l.length-1&&l[d+1].charCodeAt(0)===8203?(c.push(l[d]),w=void 0):l[d]?(typeof w=="number"&&c.push(w),c.push(l[d]),w=0):(d===0||d===l.length-1)&&c.push(0);return c}function collectPreText(r){return[String(r.value)]}function trimAndCollapseSpacesAndTabs(r,n,o){const l=[];let c=0,f;for(;c<r.length;){searchTabOrSpaces.lastIndex=c;const d=searchTabOrSpaces.exec(r);f=d?d.index:r.length,!c&&!f&&d&&!n&&l.push(""),c!==f&&l.push(r.slice(c,f)),c=d?f+d[0].length:f}return c!==f&&!o&&l.push(""),l.join(" ")}function inferWhitespace(r,n){if(r.type==="element"){const o=r.properties||{};switch(r.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return o.wrap?"pre-wrap":"pre";case"td":case"th":return o.noWrap?"nowrap":n.whitespace;case"textarea":return"pre-wrap"}}return n.whitespace}function hidden(r){return!!(r.properties||{}).hidden}function isCell(r){return r.tagName==="td"||r.tagName==="th"}function closedDialog(r){return r.tagName==="dialog"&&!(r.properties||{}).open}const emptyOptions$1={},emptyClasses=[];function rehypeKatex(r){const n=r||emptyOptions$1;return function(o,l){visitParents(o,"element",function(c,f){const d=Array.isArray(c.properties.className)?c.properties.className:emptyClasses,w=d.includes("language-math"),y=d.includes("math-display"),L=d.includes("math-inline");let G=y;if(!w&&!y&&!L)return;let H=f[f.length-1],ce=c;if(c.tagName==="code"&&w&&H&&H.type==="element"&&H.tagName==="pre"&&(ce=H,H=f[f.length-2],G=!0),!H)return;const ie=toText(ce,{whitespace:"pre"});let Et;try{Et=katex.renderToString(ie,{...n,displayMode:G,throwOnError:!0})}catch($l){const zl=$l,Hl=zl.name.toLowerCase();l.message("Could not render math with KaTeX",{ancestors:[...f,c],cause:zl,place:c.position,ruleId:Hl,source:"rehype-katex"});try{Et=katex.renderToString(ie,{...n,displayMode:G,strict:"ignore",throwOnError:!1})}catch{Et=[{type:"element",tagName:"span",properties:{className:["katex-error"],style:"color:"+(n.errorColor||"#cc0000"),title:String($l)},children:[{type:"text",value:ie}]}]}}typeof Et=="string"&&(Et=fromHtmlIsomorphic(Et).children);const zn=H.children.indexOf(ce);return H.children.splice(zn,1,...Et),SKIP})}}function ccount(r,n){const o=String(r);if(typeof n!="string")throw new TypeError("Expected character");let l=0,c=o.indexOf(n);for(;c!==-1;)l++,c=o.indexOf(n,c+n.length);return l}function escapeStringRegexp(r){if(typeof r!="string")throw new TypeError("Expected a string");return r.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function findAndReplace(r,n,o){const c=convert((o||{}).ignore||[]),f=toPairs(n);let d=-1;for(;++d<f.length;)visitParents(r,"text",w);function w(L,G){let H=-1,ce;for(;++H<G.length;){const ie=G[H],Et=ce?ce.children:void 0;if(c(ie,Et?Et.indexOf(ie):void 0,ce))return;ce=ie}if(ce)return y(L,G)}function y(L,G){const H=G[G.length-1],ce=f[d][0],ie=f[d][1];let Et=0;const $l=H.children.indexOf(L);let zl=!1,Hl=[];ce.lastIndex=0;let Ft=ce.exec(L.value);for(;Ft;){const El=Ft.index,Kl={index:Ft.index,input:Ft.input,stack:[...G,L]};let Al=ie(...Ft,Kl);if(typeof Al=="string"&&(Al=Al.length>0?{type:"text",value:Al}:void 0),Al===!1?ce.lastIndex=El+1:(Et!==El&&Hl.push({type:"text",value:L.value.slice(Et,El)}),Array.isArray(Al)?Hl.push(...Al):Al&&Hl.push(Al),Et=El+Ft[0].length,zl=!0),!ce.global)break;Ft=ce.exec(L.value)}return zl?(Et<L.value.length&&Hl.push({type:"text",value:L.value.slice(Et)}),H.children.splice($l,1,...Hl)):Hl=[L],$l+Hl.length}}function toPairs(r){const n=[];if(!Array.isArray(r))throw new TypeError("Expected find and replace tuple or list of tuples");const o=!r[0]||Array.isArray(r[0])?r:[r];let l=-1;for(;++l<o.length;){const c=o[l];n.push([toExpression(c[0]),toFunction(c[1])])}return n}function toExpression(r){return typeof r=="string"?new RegExp(escapeStringRegexp(r),"g"):r}function toFunction(r){return typeof r=="function"?r:function(){return r}}const inConstruct="phrasing",notInConstruct=["autolink","link","image","label"];function gfmAutolinkLiteralFromMarkdown(){return{transforms:[transformGfmAutolinkLiterals],enter:{literalAutolink:enterLiteralAutolink,literalAutolinkEmail:enterLiteralAutolinkValue,literalAutolinkHttp:enterLiteralAutolinkValue,literalAutolinkWww:enterLiteralAutolinkValue},exit:{literalAutolink:exitLiteralAutolink,literalAutolinkEmail:exitLiteralAutolinkEmail,literalAutolinkHttp:exitLiteralAutolinkHttp,literalAutolinkWww:exitLiteralAutolinkWww}}}function gfmAutolinkLiteralToMarkdown(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct,notInConstruct},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct,notInConstruct},{character:":",before:"[ps]",after:"\\/",inConstruct,notInConstruct}]}}function enterLiteralAutolink(r){this.enter({type:"link",title:null,url:"",children:[]},r)}function enterLiteralAutolinkValue(r){this.config.enter.autolinkProtocol.call(this,r)}function exitLiteralAutolinkHttp(r){this.config.exit.autolinkProtocol.call(this,r)}function exitLiteralAutolinkWww(r){this.config.exit.data.call(this,r);const n=this.stack[this.stack.length-1];n.type,n.url="http://"+this.sliceSerialize(r)}function exitLiteralAutolinkEmail(r){this.config.exit.autolinkEmail.call(this,r)}function exitLiteralAutolink(r){this.exit(r)}function transformGfmAutolinkLiterals(r){findAndReplace(r,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,findUrl],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),findEmail]],{ignore:["link","linkReference"]})}function findUrl(r,n,o,l,c){let f="";if(!previous(c)||(/^w/i.test(n)&&(o=n+o,n="",f="http://"),!isCorrectDomain(o)))return!1;const d=splitUrl(o+l);if(!d[0])return!1;const w={type:"link",title:null,url:f+n+d[0],children:[{type:"text",value:n+d[0]}]};return d[1]?[w,{type:"text",value:d[1]}]:w}function findEmail(r,n,o,l){return!previous(l,!0)||/[-\d_]$/.test(o)?!1:{type:"link",title:null,url:"mailto:"+n+"@"+o,children:[{type:"text",value:n+"@"+o}]}}function isCorrectDomain(r){const n=r.split(".");return!(n.length<2||n[n.length-1]&&(/_/.test(n[n.length-1])||!/[a-zA-Z\d]/.test(n[n.length-1]))||n[n.length-2]&&(/_/.test(n[n.length-2])||!/[a-zA-Z\d]/.test(n[n.length-2])))}function splitUrl(r){const n=/[!"&'),.:;<>?\]}]+$/.exec(r);if(!n)return[r,void 0];r=r.slice(0,n.index);let o=n[0],l=o.indexOf(")");const c=ccount(r,"(");let f=ccount(r,")");for(;l!==-1&&c>f;)r+=o.slice(0,l+1),o=o.slice(l+1),l=o.indexOf(")"),f++;return[r,o]}function previous(r,n){const o=r.input.charCodeAt(r.index-1);return(r.index===0||unicodeWhitespace(o)||unicodePunctuation(o))&&(!n||o!==47)}footnoteReference$1.peek=footnoteReferencePeek$1;function enterFootnoteCallString$1(){this.buffer()}function enterFootnoteCall$1(r){this.enter({type:"footnoteReference",identifier:"",label:""},r)}function enterFootnoteDefinitionLabelString$1(){this.buffer()}function enterFootnoteDefinition$1(r){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},r)}function exitFootnoteCallString$1(r){const n=this.resume(),o=this.stack[this.stack.length-1];o.type,o.identifier=normalizeIdentifier$2(this.sliceSerialize(r)).toLowerCase(),o.label=n}function exitFootnoteCall$1(r){this.exit(r)}function exitFootnoteDefinitionLabelString$1(r){const n=this.resume(),o=this.stack[this.stack.length-1];o.type,o.identifier=normalizeIdentifier$2(this.sliceSerialize(r)).toLowerCase(),o.label=n}function exitFootnoteDefinition$1(r){this.exit(r)}function footnoteReferencePeek$1(){return"["}function footnoteReference$1(r,n,o,l){const c=o.createTracker(l);let f=c.move("[^");const d=o.enter("footnoteReference"),w=o.enter("reference");return f+=c.move(o.safe(o.associationId(r),{after:"]",before:f})),w(),d(),f+=c.move("]"),f}function gfmFootnoteFromMarkdown(){return{enter:{gfmFootnoteCallString:enterFootnoteCallString$1,gfmFootnoteCall:enterFootnoteCall$1,gfmFootnoteDefinitionLabelString:enterFootnoteDefinitionLabelString$1,gfmFootnoteDefinition:enterFootnoteDefinition$1},exit:{gfmFootnoteCallString:exitFootnoteCallString$1,gfmFootnoteCall:exitFootnoteCall$1,gfmFootnoteDefinitionLabelString:exitFootnoteDefinitionLabelString$1,gfmFootnoteDefinition:exitFootnoteDefinition$1}}}function gfmFootnoteToMarkdown(r){let n=!1;return r&&r.firstLineBlank&&(n=!0),{handlers:{footnoteDefinition:o,footnoteReference:footnoteReference$1},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function o(l,c,f,d){const w=f.createTracker(d);let y=w.move("[^");const L=f.enter("footnoteDefinition"),G=f.enter("label");return y+=w.move(f.safe(f.associationId(l),{before:y,after:"]"})),G(),y+=w.move("]:"),l.children&&l.children.length>0&&(w.shift(4),y+=w.move((n?`
`:" ")+f.indentLines(f.containerFlow(l,w.current()),n?mapAll:mapExceptFirst))),L(),y}}function mapExceptFirst(r,n,o){return n===0?r:mapAll(r,n,o)}function mapAll(r,n,o){return(o?"":"    ")+r}const constructsWithoutStrikethrough=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];handleDelete.peek=peekDelete;function gfmStrikethroughFromMarkdown(){return{canContainEols:["delete"],enter:{strikethrough:enterStrikethrough},exit:{strikethrough:exitStrikethrough}}}function gfmStrikethroughToMarkdown(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:constructsWithoutStrikethrough}],handlers:{delete:handleDelete}}}function enterStrikethrough(r){this.enter({type:"delete",children:[]},r)}function exitStrikethrough(r){this.exit(r)}function handleDelete(r,n,o,l){const c=o.createTracker(l),f=o.enter("strikethrough");let d=c.move("~~");return d+=o.containerPhrasing(r,{...c.current(),before:d,after:"~"}),d+=c.move("~~"),f(),d}function peekDelete(){return"~"}function defaultStringLength(r){return r.length}function markdownTable(r,n){const o=n||{},l=(o.align||[]).concat(),c=o.stringLength||defaultStringLength,f=[],d=[],w=[],y=[];let L=0,G=-1;for(;++G<r.length;){const zn=[],$l=[];let zl=-1;for(r[G].length>L&&(L=r[G].length);++zl<r[G].length;){const Hl=serialize(r[G][zl]);if(o.alignDelimiters!==!1){const Ft=c(Hl);$l[zl]=Ft,(y[zl]===void 0||Ft>y[zl])&&(y[zl]=Ft)}zn.push(Hl)}d[G]=zn,w[G]=$l}let H=-1;if(typeof l=="object"&&"length"in l)for(;++H<L;)f[H]=toAlignment(l[H]);else{const zn=toAlignment(l);for(;++H<L;)f[H]=zn}H=-1;const ce=[],ie=[];for(;++H<L;){const zn=f[H];let $l="",zl="";zn===99?($l=":",zl=":"):zn===108?$l=":":zn===114&&(zl=":");let Hl=o.alignDelimiters===!1?1:Math.max(1,y[H]-$l.length-zl.length);const Ft=$l+"-".repeat(Hl)+zl;o.alignDelimiters!==!1&&(Hl=$l.length+Hl+zl.length,Hl>y[H]&&(y[H]=Hl),ie[H]=Hl),ce[H]=Ft}d.splice(1,0,ce),w.splice(1,0,ie),G=-1;const Et=[];for(;++G<d.length;){const zn=d[G],$l=w[G];H=-1;const zl=[];for(;++H<L;){const Hl=zn[H]||"";let Ft="",El="";if(o.alignDelimiters!==!1){const Kl=y[H]-($l[H]||0),Al=f[H];Al===114?Ft=" ".repeat(Kl):Al===99?Kl%2?(Ft=" ".repeat(Kl/2+.5),El=" ".repeat(Kl/2-.5)):(Ft=" ".repeat(Kl/2),El=Ft):El=" ".repeat(Kl)}o.delimiterStart!==!1&&!H&&zl.push("|"),o.padding!==!1&&!(o.alignDelimiters===!1&&Hl==="")&&(o.delimiterStart!==!1||H)&&zl.push(" "),o.alignDelimiters!==!1&&zl.push(Ft),zl.push(Hl),o.alignDelimiters!==!1&&zl.push(El),o.padding!==!1&&zl.push(" "),(o.delimiterEnd!==!1||H!==L-1)&&zl.push("|")}Et.push(o.delimiterEnd===!1?zl.join("").replace(/ +$/,""):zl.join(""))}return Et.join(`
`)}function serialize(r){return r==null?"":String(r)}function toAlignment(r){const n=typeof r=="string"?r.codePointAt(0):0;return n===67||n===99?99:n===76||n===108?108:n===82||n===114?114:0}function blockquote(r,n,o,l){const c=o.enter("blockquote"),f=o.createTracker(l);f.move("> "),f.shift(2);const d=o.indentLines(o.containerFlow(r,f.current()),map$1);return c(),d}function map$1(r,n,o){return">"+(o?"":" ")+r}function patternInScope$1(r,n){return listInScope$1(r,n.inConstruct,!0)&&!listInScope$1(r,n.notInConstruct,!1)}function listInScope$1(r,n,o){if(typeof n=="string"&&(n=[n]),!n||n.length===0)return o;let l=-1;for(;++l<n.length;)if(r.includes(n[l]))return!0;return!1}function hardBreak(r,n,o,l){let c=-1;for(;++c<o.unsafe.length;)if(o.unsafe[c].character===`
`&&patternInScope$1(o.stack,o.unsafe[c]))return/[ \t]/.test(l.before)?"":" ";return`\\
`}function formatCodeAsIndented(r,n){return!!(n.options.fences===!1&&r.value&&!r.lang&&/[^ \r\n]/.test(r.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(r.value))}function checkFence(r){const n=r.options.fence||"`";if(n!=="`"&&n!=="~")throw new Error("Cannot serialize code with `"+n+"` for `options.fence`, expected `` ` `` or `~`");return n}function code$1(r,n,o,l){const c=checkFence(o),f=r.value||"",d=c==="`"?"GraveAccent":"Tilde";if(formatCodeAsIndented(r,o)){const H=o.enter("codeIndented"),ce=o.indentLines(f,map);return H(),ce}const w=o.createTracker(l),y=c.repeat(Math.max(longestStreak(f,c)+1,3)),L=o.enter("codeFenced");let G=w.move(y);if(r.lang){const H=o.enter(`codeFencedLang${d}`);G+=w.move(o.safe(r.lang,{before:G,after:" ",encode:["`"],...w.current()})),H()}if(r.lang&&r.meta){const H=o.enter(`codeFencedMeta${d}`);G+=w.move(" "),G+=w.move(o.safe(r.meta,{before:G,after:`
`,encode:["`"],...w.current()})),H()}return G+=w.move(`
`),f&&(G+=w.move(f+`
`)),G+=w.move(y),L(),G}function map(r,n,o){return(o?"":"    ")+r}function checkQuote(r){const n=r.options.quote||'"';if(n!=='"'&&n!=="'")throw new Error("Cannot serialize title with `"+n+"` for `options.quote`, expected `\"`, or `'`");return n}function definition(r,n,o,l){const c=checkQuote(o),f=c==='"'?"Quote":"Apostrophe",d=o.enter("definition");let w=o.enter("label");const y=o.createTracker(l);let L=y.move("[");return L+=y.move(o.safe(o.associationId(r),{before:L,after:"]",...y.current()})),L+=y.move("]: "),w(),!r.url||/[\0- \u007F]/.test(r.url)?(w=o.enter("destinationLiteral"),L+=y.move("<"),L+=y.move(o.safe(r.url,{before:L,after:">",...y.current()})),L+=y.move(">")):(w=o.enter("destinationRaw"),L+=y.move(o.safe(r.url,{before:L,after:r.title?" ":`
`,...y.current()}))),w(),r.title&&(w=o.enter(`title${f}`),L+=y.move(" "+c),L+=y.move(o.safe(r.title,{before:L,after:c,...y.current()})),L+=y.move(c),w()),d(),L}function checkEmphasis(r){const n=r.options.emphasis||"*";if(n!=="*"&&n!=="_")throw new Error("Cannot serialize emphasis with `"+n+"` for `options.emphasis`, expected `*`, or `_`");return n}function encodeCharacterReference(r){return"&#x"+r.toString(16).toUpperCase()+";"}function encodeInfo(r,n,o){const l=classifyCharacter(r),c=classifyCharacter(n);return l===void 0?c===void 0?o==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:c===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:l===1?c===void 0?{inside:!1,outside:!1}:c===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:c===void 0?{inside:!1,outside:!1}:c===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}emphasis.peek=emphasisPeek;function emphasis(r,n,o,l){const c=checkEmphasis(o),f=o.enter("emphasis"),d=o.createTracker(l),w=d.move(c);let y=d.move(o.containerPhrasing(r,{after:c,before:w,...d.current()}));const L=y.charCodeAt(0),G=encodeInfo(l.before.charCodeAt(l.before.length-1),L,c);G.inside&&(y=encodeCharacterReference(L)+y.slice(1));const H=y.charCodeAt(y.length-1),ce=encodeInfo(l.after.charCodeAt(0),H,c);ce.inside&&(y=y.slice(0,-1)+encodeCharacterReference(H));const ie=d.move(c);return f(),o.attentionEncodeSurroundingInfo={after:ce.outside,before:G.outside},w+y+ie}function emphasisPeek(r,n,o){return o.options.emphasis||"*"}function formatHeadingAsSetext(r,n){let o=!1;return visit(r,function(l){if("value"in l&&/\r?\n|\r/.test(l.value)||l.type==="break")return o=!0,EXIT}),!!((!r.depth||r.depth<3)&&toString$1(r)&&(n.options.setext||o))}function heading(r,n,o,l){const c=Math.max(Math.min(6,r.depth||1),1),f=o.createTracker(l);if(formatHeadingAsSetext(r,o)){const G=o.enter("headingSetext"),H=o.enter("phrasing"),ce=o.containerPhrasing(r,{...f.current(),before:`
`,after:`
`});return H(),G(),ce+`
`+(c===1?"=":"-").repeat(ce.length-(Math.max(ce.lastIndexOf("\r"),ce.lastIndexOf(`
`))+1))}const d="#".repeat(c),w=o.enter("headingAtx"),y=o.enter("phrasing");f.move(d+" ");let L=o.containerPhrasing(r,{before:"# ",after:`
`,...f.current()});return/^[\t ]/.test(L)&&(L=encodeCharacterReference(L.charCodeAt(0))+L.slice(1)),L=L?d+" "+L:d,o.options.closeAtx&&(L+=" "+d),y(),w(),L}html.peek=htmlPeek;function html(r){return r.value||""}function htmlPeek(){return"<"}image.peek=imagePeek;function image(r,n,o,l){const c=checkQuote(o),f=c==='"'?"Quote":"Apostrophe",d=o.enter("image");let w=o.enter("label");const y=o.createTracker(l);let L=y.move("![");return L+=y.move(o.safe(r.alt,{before:L,after:"]",...y.current()})),L+=y.move("]("),w(),!r.url&&r.title||/[\0- \u007F]/.test(r.url)?(w=o.enter("destinationLiteral"),L+=y.move("<"),L+=y.move(o.safe(r.url,{before:L,after:">",...y.current()})),L+=y.move(">")):(w=o.enter("destinationRaw"),L+=y.move(o.safe(r.url,{before:L,after:r.title?" ":")",...y.current()}))),w(),r.title&&(w=o.enter(`title${f}`),L+=y.move(" "+c),L+=y.move(o.safe(r.title,{before:L,after:c,...y.current()})),L+=y.move(c),w()),L+=y.move(")"),d(),L}function imagePeek(){return"!"}imageReference.peek=imageReferencePeek;function imageReference(r,n,o,l){const c=r.referenceType,f=o.enter("imageReference");let d=o.enter("label");const w=o.createTracker(l);let y=w.move("![");const L=o.safe(r.alt,{before:y,after:"]",...w.current()});y+=w.move(L+"]["),d();const G=o.stack;o.stack=[],d=o.enter("reference");const H=o.safe(o.associationId(r),{before:y,after:"]",...w.current()});return d(),o.stack=G,f(),c==="full"||!L||L!==H?y+=w.move(H+"]"):c==="shortcut"?y=y.slice(0,-1):y+=w.move("]"),y}function imageReferencePeek(){return"!"}inlineCode.peek=inlineCodePeek;function inlineCode(r,n,o){let l=r.value||"",c="`",f=-1;for(;new RegExp("(^|[^`])"+c+"([^`]|$)").test(l);)c+="`";for(/[^ \r\n]/.test(l)&&(/^[ \r\n]/.test(l)&&/[ \r\n]$/.test(l)||/^`|`$/.test(l))&&(l=" "+l+" ");++f<o.unsafe.length;){const d=o.unsafe[f],w=o.compilePattern(d);let y;if(d.atBreak)for(;y=w.exec(l);){let L=y.index;l.charCodeAt(L)===10&&l.charCodeAt(L-1)===13&&L--,l=l.slice(0,L)+" "+l.slice(y.index+1)}}return c+l+c}function inlineCodePeek(){return"`"}function formatLinkAsAutolink(r,n){const o=toString$1(r);return!!(!n.options.resourceLink&&r.url&&!r.title&&r.children&&r.children.length===1&&r.children[0].type==="text"&&(o===r.url||"mailto:"+o===r.url)&&/^[a-z][a-z+.-]+:/i.test(r.url)&&!/[\0- <>\u007F]/.test(r.url))}link.peek=linkPeek;function link(r,n,o,l){const c=checkQuote(o),f=c==='"'?"Quote":"Apostrophe",d=o.createTracker(l);let w,y;if(formatLinkAsAutolink(r,o)){const G=o.stack;o.stack=[],w=o.enter("autolink");let H=d.move("<");return H+=d.move(o.containerPhrasing(r,{before:H,after:">",...d.current()})),H+=d.move(">"),w(),o.stack=G,H}w=o.enter("link"),y=o.enter("label");let L=d.move("[");return L+=d.move(o.containerPhrasing(r,{before:L,after:"](",...d.current()})),L+=d.move("]("),y(),!r.url&&r.title||/[\0- \u007F]/.test(r.url)?(y=o.enter("destinationLiteral"),L+=d.move("<"),L+=d.move(o.safe(r.url,{before:L,after:">",...d.current()})),L+=d.move(">")):(y=o.enter("destinationRaw"),L+=d.move(o.safe(r.url,{before:L,after:r.title?" ":")",...d.current()}))),y(),r.title&&(y=o.enter(`title${f}`),L+=d.move(" "+c),L+=d.move(o.safe(r.title,{before:L,after:c,...d.current()})),L+=d.move(c),y()),L+=d.move(")"),w(),L}function linkPeek(r,n,o){return formatLinkAsAutolink(r,o)?"<":"["}linkReference.peek=linkReferencePeek;function linkReference(r,n,o,l){const c=r.referenceType,f=o.enter("linkReference");let d=o.enter("label");const w=o.createTracker(l);let y=w.move("[");const L=o.containerPhrasing(r,{before:y,after:"]",...w.current()});y+=w.move(L+"]["),d();const G=o.stack;o.stack=[],d=o.enter("reference");const H=o.safe(o.associationId(r),{before:y,after:"]",...w.current()});return d(),o.stack=G,f(),c==="full"||!L||L!==H?y+=w.move(H+"]"):c==="shortcut"?y=y.slice(0,-1):y+=w.move("]"),y}function linkReferencePeek(){return"["}function checkBullet(r){const n=r.options.bullet||"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bullet`, expected `*`, `+`, or `-`");return n}function checkBulletOther(r){const n=checkBullet(r),o=r.options.bulletOther;if(!o)return n==="*"?"-":"*";if(o!=="*"&&o!=="+"&&o!=="-")throw new Error("Cannot serialize items with `"+o+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(o===n)throw new Error("Expected `bullet` (`"+n+"`) and `bulletOther` (`"+o+"`) to be different");return o}function checkBulletOrdered(r){const n=r.options.bulletOrdered||".";if(n!=="."&&n!==")")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOrdered`, expected `.` or `)`");return n}function checkRule(r){const n=r.options.rule||"*";if(n!=="*"&&n!=="-"&&n!=="_")throw new Error("Cannot serialize rules with `"+n+"` for `options.rule`, expected `*`, `-`, or `_`");return n}function list(r,n,o,l){const c=o.enter("list"),f=o.bulletCurrent;let d=r.ordered?checkBulletOrdered(o):checkBullet(o);const w=r.ordered?d==="."?")":".":checkBulletOther(o);let y=n&&o.bulletLastUsed?d===o.bulletLastUsed:!1;if(!r.ordered){const G=r.children?r.children[0]:void 0;if((d==="*"||d==="-")&&G&&(!G.children||!G.children[0])&&o.stack[o.stack.length-1]==="list"&&o.stack[o.stack.length-2]==="listItem"&&o.stack[o.stack.length-3]==="list"&&o.stack[o.stack.length-4]==="listItem"&&o.indexStack[o.indexStack.length-1]===0&&o.indexStack[o.indexStack.length-2]===0&&o.indexStack[o.indexStack.length-3]===0&&(y=!0),checkRule(o)===d&&G){let H=-1;for(;++H<r.children.length;){const ce=r.children[H];if(ce&&ce.type==="listItem"&&ce.children&&ce.children[0]&&ce.children[0].type==="thematicBreak"){y=!0;break}}}}y&&(d=w),o.bulletCurrent=d;const L=o.containerFlow(r,l);return o.bulletLastUsed=d,o.bulletCurrent=f,c(),L}function checkListItemIndent(r){const n=r.options.listItemIndent||"one";if(n!=="tab"&&n!=="one"&&n!=="mixed")throw new Error("Cannot serialize items with `"+n+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return n}function listItem(r,n,o,l){const c=checkListItemIndent(o);let f=o.bulletCurrent||checkBullet(o);n&&n.type==="list"&&n.ordered&&(f=(typeof n.start=="number"&&n.start>-1?n.start:1)+(o.options.incrementListMarker===!1?0:n.children.indexOf(r))+f);let d=f.length+1;(c==="tab"||c==="mixed"&&(n&&n.type==="list"&&n.spread||r.spread))&&(d=Math.ceil(d/4)*4);const w=o.createTracker(l);w.move(f+" ".repeat(d-f.length)),w.shift(d);const y=o.enter("listItem"),L=o.indentLines(o.containerFlow(r,w.current()),G);return y(),L;function G(H,ce,ie){return ce?(ie?"":" ".repeat(d))+H:(ie?f:f+" ".repeat(d-f.length))+H}}function paragraph(r,n,o,l){const c=o.enter("paragraph"),f=o.enter("phrasing"),d=o.containerPhrasing(r,l);return f(),c(),d}const phrasing=convert(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function root(r,n,o,l){return(r.children.some(function(d){return phrasing(d)})?o.containerPhrasing:o.containerFlow).call(o,r,l)}function checkStrong(r){const n=r.options.strong||"*";if(n!=="*"&&n!=="_")throw new Error("Cannot serialize strong with `"+n+"` for `options.strong`, expected `*`, or `_`");return n}strong.peek=strongPeek;function strong(r,n,o,l){const c=checkStrong(o),f=o.enter("strong"),d=o.createTracker(l),w=d.move(c+c);let y=d.move(o.containerPhrasing(r,{after:c,before:w,...d.current()}));const L=y.charCodeAt(0),G=encodeInfo(l.before.charCodeAt(l.before.length-1),L,c);G.inside&&(y=encodeCharacterReference(L)+y.slice(1));const H=y.charCodeAt(y.length-1),ce=encodeInfo(l.after.charCodeAt(0),H,c);ce.inside&&(y=y.slice(0,-1)+encodeCharacterReference(H));const ie=d.move(c+c);return f(),o.attentionEncodeSurroundingInfo={after:ce.outside,before:G.outside},w+y+ie}function strongPeek(r,n,o){return o.options.strong||"*"}function text$1(r,n,o,l){return o.safe(r.value,l)}function checkRuleRepetition(r){const n=r.options.ruleRepetition||3;if(n<3)throw new Error("Cannot serialize rules with repetition `"+n+"` for `options.ruleRepetition`, expected `3` or more");return n}function thematicBreak(r,n,o){const l=(checkRule(o)+(o.options.ruleSpaces?" ":"")).repeat(checkRuleRepetition(o));return o.options.ruleSpaces?l.slice(0,-1):l}const handle={blockquote,break:hardBreak,code:code$1,definition,emphasis,hardBreak,heading,html,image,imageReference,inlineCode,link,linkReference,list,listItem,paragraph,root,strong,text:text$1,thematicBreak};function gfmTableFromMarkdown(){return{enter:{table:enterTable,tableData:enterCell,tableHeader:enterCell,tableRow:enterRow},exit:{codeText:exitCodeText,table:exitTable,tableData:exit,tableHeader:exit,tableRow:exit}}}function enterTable(r){const n=r._align;this.enter({type:"table",align:n.map(function(o){return o==="none"?null:o}),children:[]},r),this.data.inTable=!0}function exitTable(r){this.exit(r),this.data.inTable=void 0}function enterRow(r){this.enter({type:"tableRow",children:[]},r)}function exit(r){this.exit(r)}function enterCell(r){this.enter({type:"tableCell",children:[]},r)}function exitCodeText(r){let n=this.resume();this.data.inTable&&(n=n.replace(/\\([\\|])/g,replace));const o=this.stack[this.stack.length-1];o.type,o.value=n,this.exit(r)}function replace(r,n){return n==="|"?n:r}function gfmTableToMarkdown(r){const n=r||{},o=n.tableCellPadding,l=n.tablePipeAlign,c=n.stringLength,f=o?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:ce,table:d,tableCell:y,tableRow:w}};function d(ie,Et,zn,$l){return L(G(ie,zn,$l),ie.align)}function w(ie,Et,zn,$l){const zl=H(ie,zn,$l),Hl=L([zl]);return Hl.slice(0,Hl.indexOf(`
`))}function y(ie,Et,zn,$l){const zl=zn.enter("tableCell"),Hl=zn.enter("phrasing"),Ft=zn.containerPhrasing(ie,{...$l,before:f,after:f});return Hl(),zl(),Ft}function L(ie,Et){return markdownTable(ie,{align:Et,alignDelimiters:l,padding:o,stringLength:c})}function G(ie,Et,zn){const $l=ie.children;let zl=-1;const Hl=[],Ft=Et.enter("table");for(;++zl<$l.length;)Hl[zl]=H($l[zl],Et,zn);return Ft(),Hl}function H(ie,Et,zn){const $l=ie.children;let zl=-1;const Hl=[],Ft=Et.enter("tableRow");for(;++zl<$l.length;)Hl[zl]=y($l[zl],ie,Et,zn);return Ft(),Hl}function ce(ie,Et,zn){let $l=handle.inlineCode(ie,Et,zn);return zn.stack.includes("tableCell")&&($l=$l.replace(/\|/g,"\\$&")),$l}}function gfmTaskListItemFromMarkdown(){return{exit:{taskListCheckValueChecked:exitCheck,taskListCheckValueUnchecked:exitCheck,paragraph:exitParagraphWithTaskListItem}}}function gfmTaskListItemToMarkdown(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:listItemWithTaskListItem}}}function exitCheck(r){const n=this.stack[this.stack.length-2];n.type,n.checked=r.type==="taskListCheckValueChecked"}function exitParagraphWithTaskListItem(r){const n=this.stack[this.stack.length-2];if(n&&n.type==="listItem"&&typeof n.checked=="boolean"){const o=this.stack[this.stack.length-1];o.type;const l=o.children[0];if(l&&l.type==="text"){const c=n.children;let f=-1,d;for(;++f<c.length;){const w=c[f];if(w.type==="paragraph"){d=w;break}}d===o&&(l.value=l.value.slice(1),l.value.length===0?o.children.shift():o.position&&l.position&&typeof l.position.start.offset=="number"&&(l.position.start.column++,l.position.start.offset++,o.position.start=Object.assign({},l.position.start)))}}this.exit(r)}function listItemWithTaskListItem(r,n,o,l){const c=r.children[0],f=typeof r.checked=="boolean"&&c&&c.type==="paragraph",d="["+(r.checked?"x":" ")+"] ",w=o.createTracker(l);f&&w.move(d);let y=handle.listItem(r,n,o,{...l,...w.current()});return f&&(y=y.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,L)),y;function L(G){return G+d}}function gfmFromMarkdown(){return[gfmAutolinkLiteralFromMarkdown(),gfmFootnoteFromMarkdown(),gfmStrikethroughFromMarkdown(),gfmTableFromMarkdown(),gfmTaskListItemFromMarkdown()]}function gfmToMarkdown(r){return{extensions:[gfmAutolinkLiteralToMarkdown(),gfmFootnoteToMarkdown(r),gfmStrikethroughToMarkdown(),gfmTableToMarkdown(r),gfmTaskListItemToMarkdown()]}}const wwwPrefix={tokenize:tokenizeWwwPrefix,partial:!0},domain={tokenize:tokenizeDomain,partial:!0},path={tokenize:tokenizePath,partial:!0},trail={tokenize:tokenizeTrail,partial:!0},emailDomainDotTrail={tokenize:tokenizeEmailDomainDotTrail,partial:!0},wwwAutolink={name:"wwwAutolink",tokenize:tokenizeWwwAutolink,previous:previousWww},protocolAutolink={name:"protocolAutolink",tokenize:tokenizeProtocolAutolink,previous:previousProtocol},emailAutolink={name:"emailAutolink",tokenize:tokenizeEmailAutolink,previous:previousEmail},text={};function gfmAutolinkLiteral(){return{text}}let code=48;for(;code<123;)text[code]=emailAutolink,code++,code===58?code=65:code===91&&(code=97);text[43]=emailAutolink;text[45]=emailAutolink;text[46]=emailAutolink;text[95]=emailAutolink;text[72]=[emailAutolink,protocolAutolink];text[104]=[emailAutolink,protocolAutolink];text[87]=[emailAutolink,wwwAutolink];text[119]=[emailAutolink,wwwAutolink];function tokenizeEmailAutolink(r,n,o){const l=this;let c,f;return d;function d(H){return!gfmAtext(H)||!previousEmail.call(l,l.previous)||previousUnbalanced(l.events)?o(H):(r.enter("literalAutolink"),r.enter("literalAutolinkEmail"),w(H))}function w(H){return gfmAtext(H)?(r.consume(H),w):H===64?(r.consume(H),y):o(H)}function y(H){return H===46?r.check(emailDomainDotTrail,G,L)(H):H===45||H===95||asciiAlphanumeric(H)?(f=!0,r.consume(H),y):G(H)}function L(H){return r.consume(H),c=!0,y}function G(H){return f&&c&&asciiAlpha(l.previous)?(r.exit("literalAutolinkEmail"),r.exit("literalAutolink"),n(H)):o(H)}}function tokenizeWwwAutolink(r,n,o){const l=this;return c;function c(d){return d!==87&&d!==119||!previousWww.call(l,l.previous)||previousUnbalanced(l.events)?o(d):(r.enter("literalAutolink"),r.enter("literalAutolinkWww"),r.check(wwwPrefix,r.attempt(domain,r.attempt(path,f),o),o)(d))}function f(d){return r.exit("literalAutolinkWww"),r.exit("literalAutolink"),n(d)}}function tokenizeProtocolAutolink(r,n,o){const l=this;let c="",f=!1;return d;function d(H){return(H===72||H===104)&&previousProtocol.call(l,l.previous)&&!previousUnbalanced(l.events)?(r.enter("literalAutolink"),r.enter("literalAutolinkHttp"),c+=String.fromCodePoint(H),r.consume(H),w):o(H)}function w(H){if(asciiAlpha(H)&&c.length<5)return c+=String.fromCodePoint(H),r.consume(H),w;if(H===58){const ce=c.toLowerCase();if(ce==="http"||ce==="https")return r.consume(H),y}return o(H)}function y(H){return H===47?(r.consume(H),f?L:(f=!0,y)):o(H)}function L(H){return H===null||asciiControl(H)||markdownLineEndingOrSpace$1(H)||unicodeWhitespace(H)||unicodePunctuation(H)?o(H):r.attempt(domain,r.attempt(path,G),o)(H)}function G(H){return r.exit("literalAutolinkHttp"),r.exit("literalAutolink"),n(H)}}function tokenizeWwwPrefix(r,n,o){let l=0;return c;function c(d){return(d===87||d===119)&&l<3?(l++,r.consume(d),c):d===46&&l===3?(r.consume(d),f):o(d)}function f(d){return d===null?o(d):n(d)}}function tokenizeDomain(r,n,o){let l,c,f;return d;function d(L){return L===46||L===95?r.check(trail,y,w)(L):L===null||markdownLineEndingOrSpace$1(L)||unicodeWhitespace(L)||L!==45&&unicodePunctuation(L)?y(L):(f=!0,r.consume(L),d)}function w(L){return L===95?l=!0:(c=l,l=void 0),r.consume(L),d}function y(L){return c||l||!f?o(L):n(L)}}function tokenizePath(r,n){let o=0,l=0;return c;function c(d){return d===40?(o++,r.consume(d),c):d===41&&l<o?f(d):d===33||d===34||d===38||d===39||d===41||d===42||d===44||d===46||d===58||d===59||d===60||d===63||d===93||d===95||d===126?r.check(trail,n,f)(d):d===null||markdownLineEndingOrSpace$1(d)||unicodeWhitespace(d)?n(d):(r.consume(d),c)}function f(d){return d===41&&l++,r.consume(d),c}}function tokenizeTrail(r,n,o){return l;function l(w){return w===33||w===34||w===39||w===41||w===42||w===44||w===46||w===58||w===59||w===63||w===95||w===126?(r.consume(w),l):w===38?(r.consume(w),f):w===93?(r.consume(w),c):w===60||w===null||markdownLineEndingOrSpace$1(w)||unicodeWhitespace(w)?n(w):o(w)}function c(w){return w===null||w===40||w===91||markdownLineEndingOrSpace$1(w)||unicodeWhitespace(w)?n(w):l(w)}function f(w){return asciiAlpha(w)?d(w):o(w)}function d(w){return w===59?(r.consume(w),l):asciiAlpha(w)?(r.consume(w),d):o(w)}}function tokenizeEmailDomainDotTrail(r,n,o){return l;function l(f){return r.consume(f),c}function c(f){return asciiAlphanumeric(f)?o(f):n(f)}}function previousWww(r){return r===null||r===40||r===42||r===95||r===91||r===93||r===126||markdownLineEndingOrSpace$1(r)}function previousProtocol(r){return!asciiAlpha(r)}function previousEmail(r){return!(r===47||gfmAtext(r))}function gfmAtext(r){return r===43||r===45||r===46||r===95||asciiAlphanumeric(r)}function previousUnbalanced(r){let n=r.length,o=!1;for(;n--;){const l=r[n][1];if((l.type==="labelLink"||l.type==="labelImage")&&!l._balanced){o=!0;break}if(l._gfmAutolinkLiteralWalkedInto){o=!1;break}}return r.length>0&&!o&&(r[r.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),o}const indent$1={tokenize:tokenizeIndent$1,partial:!0};function gfmFootnote(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:tokenizeDefinitionStart$1,continuation:{tokenize:tokenizeDefinitionContinuation$1},exit:gfmFootnoteDefinitionEnd}},text:{91:{name:"gfmFootnoteCall",tokenize:tokenizeGfmFootnoteCall},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:tokenizePotentialGfmFootnoteCall,resolveTo:resolveToPotentialGfmFootnoteCall}}}}function tokenizePotentialGfmFootnoteCall(r,n,o){const l=this;let c=l.events.length;const f=l.parser.gfmFootnotes||(l.parser.gfmFootnotes=[]);let d;for(;c--;){const y=l.events[c][1];if(y.type==="labelImage"){d=y;break}if(y.type==="gfmFootnoteCall"||y.type==="labelLink"||y.type==="label"||y.type==="image"||y.type==="link")break}return w;function w(y){if(!d||!d._balanced)return o(y);const L=normalizeIdentifier$2(l.sliceSerialize({start:d.end,end:l.now()}));return L.codePointAt(0)!==94||!f.includes(L.slice(1))?o(y):(r.enter("gfmFootnoteCallLabelMarker"),r.consume(y),r.exit("gfmFootnoteCallLabelMarker"),n(y))}}function resolveToPotentialGfmFootnoteCall(r,n){let o=r.length;for(;o--;)if(r[o][1].type==="labelImage"&&r[o][0]==="enter"){r[o][1];break}r[o+1][1].type="data",r[o+3][1].type="gfmFootnoteCallLabelMarker";const l={type:"gfmFootnoteCall",start:Object.assign({},r[o+3][1].start),end:Object.assign({},r[r.length-1][1].end)},c={type:"gfmFootnoteCallMarker",start:Object.assign({},r[o+3][1].end),end:Object.assign({},r[o+3][1].end)};c.end.column++,c.end.offset++,c.end._bufferIndex++;const f={type:"gfmFootnoteCallString",start:Object.assign({},c.end),end:Object.assign({},r[r.length-1][1].start)},d={type:"chunkString",contentType:"string",start:Object.assign({},f.start),end:Object.assign({},f.end)},w=[r[o+1],r[o+2],["enter",l,n],r[o+3],r[o+4],["enter",c,n],["exit",c,n],["enter",f,n],["enter",d,n],["exit",d,n],["exit",f,n],r[r.length-2],r[r.length-1],["exit",l,n]];return r.splice(o,r.length-o+1,...w),r}function tokenizeGfmFootnoteCall(r,n,o){const l=this,c=l.parser.gfmFootnotes||(l.parser.gfmFootnotes=[]);let f=0,d;return w;function w(H){return r.enter("gfmFootnoteCall"),r.enter("gfmFootnoteCallLabelMarker"),r.consume(H),r.exit("gfmFootnoteCallLabelMarker"),y}function y(H){return H!==94?o(H):(r.enter("gfmFootnoteCallMarker"),r.consume(H),r.exit("gfmFootnoteCallMarker"),r.enter("gfmFootnoteCallString"),r.enter("chunkString").contentType="string",L)}function L(H){if(f>999||H===93&&!d||H===null||H===91||markdownLineEndingOrSpace$1(H))return o(H);if(H===93){r.exit("chunkString");const ce=r.exit("gfmFootnoteCallString");return c.includes(normalizeIdentifier$2(l.sliceSerialize(ce)))?(r.enter("gfmFootnoteCallLabelMarker"),r.consume(H),r.exit("gfmFootnoteCallLabelMarker"),r.exit("gfmFootnoteCall"),n):o(H)}return markdownLineEndingOrSpace$1(H)||(d=!0),f++,r.consume(H),H===92?G:L}function G(H){return H===91||H===92||H===93?(r.consume(H),f++,L):L(H)}}function tokenizeDefinitionStart$1(r,n,o){const l=this,c=l.parser.gfmFootnotes||(l.parser.gfmFootnotes=[]);let f,d=0,w;return y;function y(Et){return r.enter("gfmFootnoteDefinition")._container=!0,r.enter("gfmFootnoteDefinitionLabel"),r.enter("gfmFootnoteDefinitionLabelMarker"),r.consume(Et),r.exit("gfmFootnoteDefinitionLabelMarker"),L}function L(Et){return Et===94?(r.enter("gfmFootnoteDefinitionMarker"),r.consume(Et),r.exit("gfmFootnoteDefinitionMarker"),r.enter("gfmFootnoteDefinitionLabelString"),r.enter("chunkString").contentType="string",G):o(Et)}function G(Et){if(d>999||Et===93&&!w||Et===null||Et===91||markdownLineEndingOrSpace$1(Et))return o(Et);if(Et===93){r.exit("chunkString");const zn=r.exit("gfmFootnoteDefinitionLabelString");return f=normalizeIdentifier$2(l.sliceSerialize(zn)),r.enter("gfmFootnoteDefinitionLabelMarker"),r.consume(Et),r.exit("gfmFootnoteDefinitionLabelMarker"),r.exit("gfmFootnoteDefinitionLabel"),ce}return markdownLineEndingOrSpace$1(Et)||(w=!0),d++,r.consume(Et),Et===92?H:G}function H(Et){return Et===91||Et===92||Et===93?(r.consume(Et),d++,G):G(Et)}function ce(Et){return Et===58?(r.enter("definitionMarker"),r.consume(Et),r.exit("definitionMarker"),c.includes(f)||c.push(f),factorySpace$1(r,ie,"gfmFootnoteDefinitionWhitespace")):o(Et)}function ie(Et){return n(Et)}}function tokenizeDefinitionContinuation$1(r,n,o){return r.check(blankLine$1,n,r.attempt(indent$1,n,o))}function gfmFootnoteDefinitionEnd(r){r.exit("gfmFootnoteDefinition")}function tokenizeIndent$1(r,n,o){const l=this;return factorySpace$1(r,c,"gfmFootnoteDefinitionIndent",5);function c(f){const d=l.events[l.events.length-1];return d&&d[1].type==="gfmFootnoteDefinitionIndent"&&d[2].sliceSerialize(d[1],!0).length===4?n(f):o(f)}}function gfmStrikethrough(r){let o=(r||{}).singleTilde;const l={name:"strikethrough",tokenize:f,resolveAll:c};return o==null&&(o=!0),{text:{126:l},insideSpan:{null:[l]},attentionMarkers:{null:[126]}};function c(d,w){let y=-1;for(;++y<d.length;)if(d[y][0]==="enter"&&d[y][1].type==="strikethroughSequenceTemporary"&&d[y][1]._close){let L=y;for(;L--;)if(d[L][0]==="exit"&&d[L][1].type==="strikethroughSequenceTemporary"&&d[L][1]._open&&d[y][1].end.offset-d[y][1].start.offset===d[L][1].end.offset-d[L][1].start.offset){d[y][1].type="strikethroughSequence",d[L][1].type="strikethroughSequence";const G={type:"strikethrough",start:Object.assign({},d[L][1].start),end:Object.assign({},d[y][1].end)},H={type:"strikethroughText",start:Object.assign({},d[L][1].end),end:Object.assign({},d[y][1].start)},ce=[["enter",G,w],["enter",d[L][1],w],["exit",d[L][1],w],["enter",H,w]],ie=w.parser.constructs.insideSpan.null;ie&&splice$1(ce,ce.length,0,resolveAll$1(ie,d.slice(L+1,y),w)),splice$1(ce,ce.length,0,[["exit",H,w],["enter",d[y][1],w],["exit",d[y][1],w],["exit",G,w]]),splice$1(d,L-1,y-L+3,ce),y=L+ce.length-2;break}}for(y=-1;++y<d.length;)d[y][1].type==="strikethroughSequenceTemporary"&&(d[y][1].type="data");return d}function f(d,w,y){const L=this.previous,G=this.events;let H=0;return ce;function ce(Et){return L===126&&G[G.length-1][1].type!=="characterEscape"?y(Et):(d.enter("strikethroughSequenceTemporary"),ie(Et))}function ie(Et){const zn=classifyCharacter(L);if(Et===126)return H>1?y(Et):(d.consume(Et),H++,ie);if(H<2&&!o)return y(Et);const $l=d.exit("strikethroughSequenceTemporary"),zl=classifyCharacter(Et);return $l._open=!zl||zl===2&&!!zn,$l._close=!zn||zn===2&&!!zl,w(Et)}}}class EditMap{constructor(){this.map=[]}add(n,o,l){addImplementation(this,n,o,l)}consume(n){if(this.map.sort(function(f,d){return f[0]-d[0]}),this.map.length===0)return;let o=this.map.length;const l=[];for(;o>0;)o-=1,l.push(n.slice(this.map[o][0]+this.map[o][1]),this.map[o][2]),n.length=this.map[o][0];l.push(n.slice()),n.length=0;let c=l.pop();for(;c;){for(const f of c)n.push(f);c=l.pop()}this.map.length=0}}function addImplementation(r,n,o,l){let c=0;if(!(o===0&&l.length===0)){for(;c<r.map.length;){if(r.map[c][0]===n){r.map[c][1]+=o,r.map[c][2].push(...l);return}c+=1}r.map.push([n,o,l])}}function gfmTableAlign(r,n){let o=!1;const l=[];for(;n<r.length;){const c=r[n];if(o){if(c[0]==="enter")c[1].type==="tableContent"&&l.push(r[n+1][1].type==="tableDelimiterMarker"?"left":"none");else if(c[1].type==="tableContent"){if(r[n-1][1].type==="tableDelimiterMarker"){const f=l.length-1;l[f]=l[f]==="left"?"center":"right"}}else if(c[1].type==="tableDelimiterRow")break}else c[0]==="enter"&&c[1].type==="tableDelimiterRow"&&(o=!0);n+=1}return l}function gfmTable(){return{flow:{null:{name:"table",tokenize:tokenizeTable,resolveAll:resolveTable}}}}function tokenizeTable(r,n,o){const l=this;let c=0,f=0,d;return w;function w(Vu){let Zu=l.events.length-1;for(;Zu>-1;){const Bd=l.events[Zu][1].type;if(Bd==="lineEnding"||Bd==="linePrefix")Zu--;else break}const Od=Zu>-1?l.events[Zu][1].type:null,Id=Od==="tableHead"||Od==="tableRow"?Al:y;return Id===Al&&l.parser.lazy[l.now().line]?o(Vu):Id(Vu)}function y(Vu){return r.enter("tableHead"),r.enter("tableRow"),L(Vu)}function L(Vu){return Vu===124||(d=!0,f+=1),G(Vu)}function G(Vu){return Vu===null?o(Vu):markdownLineEnding$1(Vu)?f>1?(f=0,l.interrupt=!0,r.exit("tableRow"),r.enter("lineEnding"),r.consume(Vu),r.exit("lineEnding"),ie):o(Vu):markdownSpace$1(Vu)?factorySpace$1(r,G,"whitespace")(Vu):(f+=1,d&&(d=!1,c+=1),Vu===124?(r.enter("tableCellDivider"),r.consume(Vu),r.exit("tableCellDivider"),d=!0,G):(r.enter("data"),H(Vu)))}function H(Vu){return Vu===null||Vu===124||markdownLineEndingOrSpace$1(Vu)?(r.exit("data"),G(Vu)):(r.consume(Vu),Vu===92?ce:H)}function ce(Vu){return Vu===92||Vu===124?(r.consume(Vu),H):H(Vu)}function ie(Vu){return l.interrupt=!1,l.parser.lazy[l.now().line]?o(Vu):(r.enter("tableDelimiterRow"),d=!1,markdownSpace$1(Vu)?factorySpace$1(r,Et,"linePrefix",l.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Vu):Et(Vu))}function Et(Vu){return Vu===45||Vu===58?$l(Vu):Vu===124?(d=!0,r.enter("tableCellDivider"),r.consume(Vu),r.exit("tableCellDivider"),zn):Kl(Vu)}function zn(Vu){return markdownSpace$1(Vu)?factorySpace$1(r,$l,"whitespace")(Vu):$l(Vu)}function $l(Vu){return Vu===58?(f+=1,d=!0,r.enter("tableDelimiterMarker"),r.consume(Vu),r.exit("tableDelimiterMarker"),zl):Vu===45?(f+=1,zl(Vu)):Vu===null||markdownLineEnding$1(Vu)?El(Vu):Kl(Vu)}function zl(Vu){return Vu===45?(r.enter("tableDelimiterFiller"),Hl(Vu)):Kl(Vu)}function Hl(Vu){return Vu===45?(r.consume(Vu),Hl):Vu===58?(d=!0,r.exit("tableDelimiterFiller"),r.enter("tableDelimiterMarker"),r.consume(Vu),r.exit("tableDelimiterMarker"),Ft):(r.exit("tableDelimiterFiller"),Ft(Vu))}function Ft(Vu){return markdownSpace$1(Vu)?factorySpace$1(r,El,"whitespace")(Vu):El(Vu)}function El(Vu){return Vu===124?Et(Vu):Vu===null||markdownLineEnding$1(Vu)?!d||c!==f?Kl(Vu):(r.exit("tableDelimiterRow"),r.exit("tableHead"),n(Vu)):Kl(Vu)}function Kl(Vu){return o(Vu)}function Al(Vu){return r.enter("tableRow"),vu(Vu)}function vu(Vu){return Vu===124?(r.enter("tableCellDivider"),r.consume(Vu),r.exit("tableCellDivider"),vu):Vu===null||markdownLineEnding$1(Vu)?(r.exit("tableRow"),n(Vu)):markdownSpace$1(Vu)?factorySpace$1(r,vu,"whitespace")(Vu):(r.enter("data"),Nl(Vu))}function Nl(Vu){return Vu===null||Vu===124||markdownLineEndingOrSpace$1(Vu)?(r.exit("data"),vu(Vu)):(r.consume(Vu),Vu===92?Xu:Nl)}function Xu(Vu){return Vu===92||Vu===124?(r.consume(Vu),Nl):Nl(Vu)}}function resolveTable(r,n){let o=-1,l=!0,c=0,f=[0,0,0,0],d=[0,0,0,0],w=!1,y=0,L,G,H;const ce=new EditMap;for(;++o<r.length;){const ie=r[o],Et=ie[1];ie[0]==="enter"?Et.type==="tableHead"?(w=!1,y!==0&&(flushTableEnd(ce,n,y,L,G),G=void 0,y=0),L={type:"table",start:Object.assign({},Et.start),end:Object.assign({},Et.end)},ce.add(o,0,[["enter",L,n]])):Et.type==="tableRow"||Et.type==="tableDelimiterRow"?(l=!0,H=void 0,f=[0,0,0,0],d=[0,o+1,0,0],w&&(w=!1,G={type:"tableBody",start:Object.assign({},Et.start),end:Object.assign({},Et.end)},ce.add(o,0,[["enter",G,n]])),c=Et.type==="tableDelimiterRow"?2:G?3:1):c&&(Et.type==="data"||Et.type==="tableDelimiterMarker"||Et.type==="tableDelimiterFiller")?(l=!1,d[2]===0&&(f[1]!==0&&(d[0]=d[1],H=flushCell(ce,n,f,c,void 0,H),f=[0,0,0,0]),d[2]=o)):Et.type==="tableCellDivider"&&(l?l=!1:(f[1]!==0&&(d[0]=d[1],H=flushCell(ce,n,f,c,void 0,H)),f=d,d=[f[1],o,0,0])):Et.type==="tableHead"?(w=!0,y=o):Et.type==="tableRow"||Et.type==="tableDelimiterRow"?(y=o,f[1]!==0?(d[0]=d[1],H=flushCell(ce,n,f,c,o,H)):d[1]!==0&&(H=flushCell(ce,n,d,c,o,H)),c=0):c&&(Et.type==="data"||Et.type==="tableDelimiterMarker"||Et.type==="tableDelimiterFiller")&&(d[3]=o)}for(y!==0&&flushTableEnd(ce,n,y,L,G),ce.consume(n.events),o=-1;++o<n.events.length;){const ie=n.events[o];ie[0]==="enter"&&ie[1].type==="table"&&(ie[1]._align=gfmTableAlign(n.events,o))}return r}function flushCell(r,n,o,l,c,f){const d=l===1?"tableHeader":l===2?"tableDelimiter":"tableData",w="tableContent";o[0]!==0&&(f.end=Object.assign({},getPoint(n.events,o[0])),r.add(o[0],0,[["exit",f,n]]));const y=getPoint(n.events,o[1]);if(f={type:d,start:Object.assign({},y),end:Object.assign({},y)},r.add(o[1],0,[["enter",f,n]]),o[2]!==0){const L=getPoint(n.events,o[2]),G=getPoint(n.events,o[3]),H={type:w,start:Object.assign({},L),end:Object.assign({},G)};if(r.add(o[2],0,[["enter",H,n]]),l!==2){const ce=n.events[o[2]],ie=n.events[o[3]];if(ce[1].end=Object.assign({},ie[1].end),ce[1].type="chunkText",ce[1].contentType="text",o[3]>o[2]+1){const Et=o[2]+1,zn=o[3]-o[2]-1;r.add(Et,zn,[])}}r.add(o[3]+1,0,[["exit",H,n]])}return c!==void 0&&(f.end=Object.assign({},getPoint(n.events,c)),r.add(c,0,[["exit",f,n]]),f=void 0),f}function flushTableEnd(r,n,o,l,c){const f=[],d=getPoint(n.events,o);c&&(c.end=Object.assign({},d),f.push(["exit",c,n])),l.end=Object.assign({},d),f.push(["exit",l,n]),r.add(o+1,0,f)}function getPoint(r,n){const o=r[n],l=o[0]==="enter"?"start":"end";return o[1][l]}const tasklistCheck={name:"tasklistCheck",tokenize:tokenizeTasklistCheck};function gfmTaskListItem(){return{text:{91:tasklistCheck}}}function tokenizeTasklistCheck(r,n,o){const l=this;return c;function c(y){return l.previous!==null||!l._gfmTasklistFirstContentOfListItem?o(y):(r.enter("taskListCheck"),r.enter("taskListCheckMarker"),r.consume(y),r.exit("taskListCheckMarker"),f)}function f(y){return markdownLineEndingOrSpace$1(y)?(r.enter("taskListCheckValueUnchecked"),r.consume(y),r.exit("taskListCheckValueUnchecked"),d):y===88||y===120?(r.enter("taskListCheckValueChecked"),r.consume(y),r.exit("taskListCheckValueChecked"),d):o(y)}function d(y){return y===93?(r.enter("taskListCheckMarker"),r.consume(y),r.exit("taskListCheckMarker"),r.exit("taskListCheck"),w):o(y)}function w(y){return markdownLineEnding$1(y)?n(y):markdownSpace$1(y)?r.check({tokenize:spaceThenNonSpace},n,o)(y):o(y)}}function spaceThenNonSpace(r,n,o){return factorySpace$1(r,l,"whitespace");function l(c){return c===null?o(c):n(c)}}function gfm(r){return combineExtensions([gfmAutolinkLiteral(),gfmFootnote(),gfmStrikethrough(r),gfmTable(),gfmTaskListItem()])}const emptyOptions={};function remarkGfm(r){const n=this,o=r||emptyOptions,l=n.data(),c=l.micromarkExtensions||(l.micromarkExtensions=[]),f=l.fromMarkdownExtensions||(l.fromMarkdownExtensions=[]),d=l.toMarkdownExtensions||(l.toMarkdownExtensions=[]);c.push(gfm(o)),f.push(gfmFromMarkdown()),d.push(gfmToMarkdown(o))}function splice(r,n,o,l){const c=r.length;let f=0,d;if(n<0?n=-n>c?0:c+n:n=n>c?c:n,o=o>0?o:0,l.length<1e4)d=Array.from(l),d.unshift(n,o),r.splice(...d);else for(o&&r.splice(n,o);f<l.length;)d=l.slice(f,f+1e4),d.unshift(n,0),r.splice(...d),f+=1e4,n+=1e4}function markdownLineEnding(r){return r!==null&&r<-2}function markdownLineEndingOrSpace(r){return r!==null&&(r<0||r===32)}function markdownSpace(r){return r===-2||r===-1||r===32}function resolveAll(r,n,o){const l=[];let c=-1;for(;++c<r.length;){const f=r[c].resolveAll;f&&!l.includes(f)&&(n=f(n,o),l.push(f))}return n}function factorySpace(r,n,o,l){const c=l?l-1:Number.POSITIVE_INFINITY;let f=0;return d;function d(y){return markdownSpace(y)?(r.enter(o),w(y)):n(y)}function w(y){return markdownSpace(y)&&f++<c?(r.consume(y),w):(r.exit(o),n(y))}}const blankLine={tokenize:tokenizeBlankLine,partial:!0};function tokenizeBlankLine(r,n,o){return l;function l(f){return markdownSpace(f)?factorySpace(r,c,"linePrefix")(f):c(f)}function c(f){return f===null||markdownLineEnding(f)?n(f):o(f)}}function normalizeIdentifier$1(r){return r.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const indent={tokenize:tokenizeIndent,partial:!0};function footnote$1(r={}){const n={tokenize:tokenizeFootnoteCall},o={tokenize:tokenizeNoteStart,resolveAll:resolveAllNote},l={add:"after",tokenize:tokenizeNoteEnd,resolveAll:resolveAllNote,resolveTo:resolveToNoteEnd},c={tokenize:tokenizeDefinitionStart,continuation:{tokenize:tokenizeDefinitionContinuation},exit:footnoteDefinitionEnd},f={91:n};return r.inlineNotes&&(f[93]=l,f[94]=o),{_hiddenFootnoteSupport:{},document:{91:c},text:f}}function resolveAllNote(r){let n=-1,o;for(;++n<r.length;)o=r[n][1],r[n][0]==="enter"&&o.type==="inlineNoteStart"&&(o.type="data",r.splice(n+1,4));return r}function resolveToNoteEnd(r,n){let o=r.length-4,l,c;for(;o--;)if(l=r[o][1],r[o][0]==="enter"&&l.type==="inlineNoteStart"){c=o;break}const f={type:"inlineNote",start:Object.assign({},r[c][1].start),end:Object.assign({},r[r.length-1][1].end)},d={type:"inlineNoteText",start:Object.assign({},r[c+4][1].end),end:Object.assign({},r[r.length-3][1].start)},w=[["enter",f,n],r[c+1],r[c+2],r[c+3],r[c+4],["enter",d,n]];return splice(w,w.length,0,resolveAll(n.parser.constructs.insideSpan.null,r.slice(c+6,-4),n)),w.push(["exit",d,n],r[r.length-2],r[r.length-3],["exit",f,n]),splice(r,o,r.length-o,w),r}function tokenizeFootnoteCall(r,n,o){const l=this,c=l.parser.footnotes||(l.parser.footnotes=[]);let f=0,d;return w;function w(ce){return r.enter("footnoteCall"),r.enter("footnoteCallLabelMarker"),r.consume(ce),r.exit("footnoteCallLabelMarker"),y}function y(ce){return ce!==94?o(ce):(r.enter("footnoteCallMarker"),r.consume(ce),r.exit("footnoteCallMarker"),r.enter("footnoteCallString"),r.enter("chunkString").contentType="string",L)}function L(ce){let ie;return ce===null||ce===91||f++>999?o(ce):ce===93?d?(r.exit("chunkString"),ie=r.exit("footnoteCallString"),c.includes(normalizeIdentifier$1(l.sliceSerialize(ie)))?H(ce):o(ce)):o(ce):(r.consume(ce),markdownLineEndingOrSpace(ce)||(d=!0),ce===92?G:L)}function G(ce){return ce===91||ce===92||ce===93?(r.consume(ce),f++,L):L(ce)}function H(ce){return r.enter("footnoteCallLabelMarker"),r.consume(ce),r.exit("footnoteCallLabelMarker"),r.exit("footnoteCall"),n}}function tokenizeNoteStart(r,n,o){return l;function l(f){return r.enter("inlineNoteStart"),r.enter("inlineNoteMarker"),r.consume(f),r.exit("inlineNoteMarker"),c}function c(f){return f!==91?o(f):(r.enter("inlineNoteStartMarker"),r.consume(f),r.exit("inlineNoteStartMarker"),r.exit("inlineNoteStart"),n)}}function tokenizeNoteEnd(r,n,o){const l=this;return c;function c(f){let d=l.events.length,w;for(;d--;)if(l.events[d][1].type==="inlineNoteStart"){w=!0;break}return w?(r.enter("inlineNoteEnd"),r.enter("inlineNoteEndMarker"),r.consume(f),r.exit("inlineNoteEndMarker"),r.exit("inlineNoteEnd"),n):o(f)}}function tokenizeDefinitionStart(r,n,o){const l=this,c=l.parser.footnotes||(l.parser.footnotes=[]);let f,d=0,w;return y;function y(zl){return r.enter("footnoteDefinition")._container=!0,r.enter("footnoteDefinitionLabel"),r.enter("footnoteDefinitionLabelMarker"),r.consume(zl),r.exit("footnoteDefinitionLabelMarker"),L}function L(zl){return zl!==94?o(zl):(r.enter("footnoteDefinitionMarker"),r.consume(zl),r.exit("footnoteDefinitionMarker"),r.enter("footnoteDefinitionLabelString"),G)}function G(zl){let Hl;return zl===null||zl===91||d>999?o(zl):zl===93?w?(Hl=r.exit("footnoteDefinitionLabelString"),f=normalizeIdentifier$1(l.sliceSerialize(Hl)),r.enter("footnoteDefinitionLabelMarker"),r.consume(zl),r.exit("footnoteDefinitionLabelMarker"),r.exit("footnoteDefinitionLabel"),ie):o(zl):markdownLineEnding(zl)?(r.enter("lineEnding"),r.consume(zl),r.exit("lineEnding"),d++,G):(r.enter("chunkString").contentType="string",H(zl))}function H(zl){return zl===null||markdownLineEnding(zl)||zl===91||zl===93||d>999?(r.exit("chunkString"),G(zl)):(markdownLineEndingOrSpace(zl)||(w=!0),d++,r.consume(zl),zl===92?ce:H)}function ce(zl){return zl===91||zl===92||zl===93?(r.consume(zl),d++,H):H(zl)}function ie(zl){return zl!==58?o(zl):(r.enter("definitionMarker"),r.consume(zl),r.exit("definitionMarker"),r.check(blankLine,Et,zn))}function Et(zl){return l.containerState.initialBlankLine=!0,$l(zl)}function zn(zl){return markdownSpace(zl)&&(r.enter("footnoteDefinitionWhitespace"),r.consume(zl),r.exit("footnoteDefinitionWhitespace")),$l(zl)}function $l(zl){return c.includes(f)||c.push(f),n(zl)}}function tokenizeDefinitionContinuation(r,n,o){const l=this;return r.check(blankLine,c,f);function c(d){return l.containerState.initialBlankLine&&(l.containerState.furtherBlankLines=!0),n(d)}function f(d){return l.containerState.furtherBlankLines||!markdownSpace(d)?o(d):(l.containerState.initialBlankLine=void 0,l.containerState.furtherBlankLines=void 0,r.attempt(indent,n,o)(d))}}function footnoteDefinitionEnd(r){r.exit("footnoteDefinition")}function tokenizeIndent(r,n,o){const l=this;return factorySpace(r,c,"footnoteDefinitionIndent",5);function c(f){const d=l.events[l.events.length-1];return d&&d[1].type==="footnoteDefinitionIndent"&&d[2].sliceSerialize(d[1],!0).length===4?n(f):o(f)}}function normalizeIdentifier(r){return r.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}function decodeNumericCharacterReference(r,n){const o=Number.parseInt(r,n);return o<9||o===11||o>13&&o<32||o>126&&o<160||o>55295&&o<57344||o>64975&&o<65008||(o&65535)===65535||(o&65535)===65534||o>1114111?"":String.fromCharCode(o)}const characterEscapeOrReference=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function decodeString(r){return r.replace(characterEscapeOrReference,decode)}function decode(r,n,o){if(n)return n;if(o.charCodeAt(0)===35){const c=o.charCodeAt(1),f=c===120||c===88;return decodeNumericCharacterReference(o.slice(f?2:1),f?16:10)}return decodeNamedCharacterReference(o)||r}function association(r){return r.label||!r.identifier?r.label||"":decodeString(r.identifier)}function containerPhrasing(r,n,o){const l=n.indexStack,c=r.children||[],f=[];let d=-1,w=o.before;l.push(-1);let y=n.createTracker(o);for(;++d<c.length;){const L=c[d];let G;if(l[l.length-1]=d,d+1<c.length){let H=n.handle.handlers[c[d+1].type];H&&H.peek&&(H=H.peek),G=H?H(c[d+1],r,n,{before:"",after:"",...y.current()}).charAt(0):""}else G=o.after;f.length>0&&(w==="\r"||w===`
`)&&L.type==="html"&&(f[f.length-1]=f[f.length-1].replace(/(\r?\n|\r)$/," "),w=" ",y=n.createTracker(o),y.move(f.join(""))),f.push(y.move(n.handle(L,r,n,{...y.current(),before:w,after:G}))),w=f[f.length-1].slice(-1)}return l.pop(),f.join("")}function containerFlow(r,n,o){const l=n.indexStack,c=r.children||[],f=n.createTracker(o),d=[];let w=-1;for(l.push(-1);++w<c.length;){const y=c[w];l[l.length-1]=w,d.push(f.move(n.handle(y,r,n,{before:`
`,after:`
`,...f.current()}))),y.type!=="list"&&(n.bulletLastUsed=void 0),w<c.length-1&&d.push(f.move(between(y,c[w+1],r,n)))}return l.pop(),d.join("")}function between(r,n,o,l){let c=l.join.length;for(;c--;){const f=l.join[c](r,n,o,l);if(f===!0||f===1)break;if(typeof f=="number")return`
`.repeat(1+f);if(f===!1)return`

<!---->

`}return`

`}const eol=/\r?\n|\r/g;function indentLines(r,n){const o=[];let l=0,c=0,f;for(;f=eol.exec(r);)d(r.slice(l,f.index)),o.push(f[0]),l=f.index+f[0].length,c++;return d(r.slice(l)),o.join("");function d(w){o.push(n(w,c,!w))}}function patternCompile(r){if(!r._compiled){const n=(r.atBreak?"[\\r\\n][\\t ]*":"")+(r.before?"(?:"+r.before+")":"");r._compiled=new RegExp((n?"("+n+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(r.character)?"\\":"")+r.character+(r.after?"(?:"+r.after+")":""),"g")}return r._compiled}function patternInScope(r,n){return listInScope(r,n.inConstruct,!0)&&!listInScope(r,n.notInConstruct,!1)}function listInScope(r,n,o){if(typeof n=="string"&&(n=[n]),!n||n.length===0)return o;let l=-1;for(;++l<n.length;)if(r.includes(n[l]))return!0;return!1}function safe(r,n,o){const l=(o.before||"")+(n||"")+(o.after||""),c=[],f=[],d={};let w=-1;for(;++w<r.unsafe.length;){const G=r.unsafe[w];if(!patternInScope(r.stack,G))continue;const H=patternCompile(G);let ce;for(;ce=H.exec(l);){const ie="before"in G||!!G.atBreak,Et="after"in G,zn=ce.index+(ie?ce[1].length:0);c.includes(zn)?(d[zn].before&&!ie&&(d[zn].before=!1),d[zn].after&&!Et&&(d[zn].after=!1)):(c.push(zn),d[zn]={before:ie,after:Et})}}c.sort(numerical);let y=o.before?o.before.length:0;const L=l.length-(o.after?o.after.length:0);for(w=-1;++w<c.length;){const G=c[w];G<y||G>=L||G+1<L&&c[w+1]===G+1&&d[G].after&&!d[G+1].before&&!d[G+1].after||c[w-1]===G-1&&d[G].before&&!d[G-1].before&&!d[G-1].after||(y!==G&&f.push(escapeBackslashes(l.slice(y,G),"\\")),y=G,/[!-/:-@[-`{-~]/.test(l.charAt(G))&&(!o.encode||!o.encode.includes(l.charAt(G)))?f.push("\\"):(f.push("&#x"+l.charCodeAt(G).toString(16).toUpperCase()+";"),y++))}return f.push(escapeBackslashes(l.slice(y,L),o.after)),f.join("")}function numerical(r,n){return r-n}function escapeBackslashes(r,n){const o=/\\(?=[!-/:-@[-`{-~])/g,l=[],c=[],f=r+n;let d=-1,w=0,y;for(;y=o.exec(f);)l.push(y.index);for(;++d<l.length;)w!==l[d]&&c.push(r.slice(w,l[d])),c.push("\\"),w=l[d];return c.push(r.slice(w)),c.join("")}function track(r){const n=r||{},o=n.now||{};let l=n.lineShift||0,c=o.line||1,f=o.column||1;return{move:y,current:d,shift:w};function d(){return{now:{line:c,column:f},lineShift:l}}function w(L){l+=L}function y(L){const G=L||"",H=G.split(/\r?\n|\r/g),ce=H[H.length-1];return c+=H.length-1,f=H.length===1?f+ce.length:1+ce.length+l,G}}const footnoteFromMarkdown={canContainEols:["footnote"],enter:{footnoteDefinition:enterFootnoteDefinition,footnoteDefinitionLabelString:enterFootnoteDefinitionLabelString,footnoteCall:enterFootnoteCall,footnoteCallString:enterFootnoteCallString,inlineNote:enterNote},exit:{footnoteDefinition:exitFootnoteDefinition,footnoteDefinitionLabelString:exitFootnoteDefinitionLabelString,footnoteCall:exitFootnoteCall,footnoteCallString:exitFootnoteCallString,inlineNote:exitNote}},footnoteToMarkdown={unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnote,footnoteDefinition,footnoteReference}};footnoteReference.peek=footnoteReferencePeek;footnote.peek=footnotePeek;function enterFootnoteDefinition(r){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},r)}function enterFootnoteDefinitionLabelString(){this.buffer()}function exitFootnoteDefinitionLabelString(r){const n=this.resume(),o=this.stack[this.stack.length-1];o.label=n,o.identifier=normalizeIdentifier(this.sliceSerialize(r)).toLowerCase()}function exitFootnoteDefinition(r){this.exit(r)}function enterFootnoteCall(r){this.enter({type:"footnoteReference",identifier:"",label:""},r)}function enterFootnoteCallString(){this.buffer()}function exitFootnoteCallString(r){const n=this.resume(),o=this.stack[this.stack.length-1];o.label=n,o.identifier=normalizeIdentifier(this.sliceSerialize(r)).toLowerCase()}function exitFootnoteCall(r){this.exit(r)}function enterNote(r){this.enter({type:"footnote",children:[]},r)}function exitNote(r){this.exit(r)}function footnoteReference(r,n,o,l){const c=track(l);let f=c.move("[^");const d=o.enter("footnoteReference"),w=o.enter("reference");return f+=c.move(safe(o,association(r),{...c.current(),before:f,after:"]"})),w(),d(),f+=c.move("]"),f}function footnoteReferencePeek(){return"["}function footnote(r,n,o,l){const c=track(l);let f=c.move("^[");const d=o.enter("footnote"),w=o.enter("label");return f+=c.move(containerPhrasing(r,o,{...c.current(),before:f,after:"]"})),w(),d(),f+=c.move("]"),f}function footnotePeek(){return"^"}function footnoteDefinition(r,n,o,l){const c=track(l);let f=c.move("[^");const d=o.enter("footnoteDefinition"),w=o.enter("label");return f+=c.move(safe(o,association(r),{...c.current(),before:f,after:"]"})),w(),f+=c.move("]:"+(r.children&&r.children.length>0?" ":"")),c.shift(4),f+=c.move(indentLines(containerFlow(r,o,c.current()),y)),d(),f;function y(L,G,H){return G?(H?"":"    ")+L:L}}function remarkFootnotes(r={}){const n=this.data();o("micromarkExtensions",footnote$1(r)),o("fromMarkdownExtensions",footnoteFromMarkdown),o("toMarkdownExtensions",footnoteToMarkdown);function o(l,c){(n[l]?n[l]:n[l]=[]).push(c)}}const markdownEntries=["preface.md","superconductivity.md"];function ContributionsPage(){const[r,n]=reactExports.useState([]);return reactExports.useEffect(()=>{Promise.all(markdownEntries.map(o=>fetch(`./contributions/${o}`).then(l=>{if(!l.ok)throw new Error(`Failed to fetch ${o}`);return l.text()}))).then(o=>n(o)).catch(o=>{console.error(o),n([])})},[]),jsxRuntimeExports.jsx(MaterialsCloudHeader,{activeSection:"discover",breadcrumbsPath:[{name:"Discover",link:"https://www.materialscloud.org/discover"},{name:"Materials Cloud Three-Dimensional Structure Database",link:"/"},{name:"Extended dataset documentation",link:null}],children:jsxRuntimeExports.jsxs(Container,{fluid:"xxl",children:[jsxRuntimeExports.jsx(TitleAndLogo,{}),r.length===0?"Loading...":r.map((o,l)=>{const c=`markdown-entry-${l}`;return jsxRuntimeExports.jsx("div",{className:"markdown-entry",id:c,children:jsxRuntimeExports.jsx(Markdown,{remarkPlugins:[remarkMath,remarkGfm,remarkFootnotes],rehypePlugins:[rehypeKatex],components:{a:({...f})=>{const d=f.href||"";return d.startsWith("#")?jsxRuntimeExports.jsx("a",{...f,onClick:y=>{y.preventDefault();const G=y.currentTarget.closest(".markdown-entry")?.querySelector(d);if(G){const ce=G.getBoundingClientRect().top+window.pageYOffset+-80;window.scrollTo({top:ce,behavior:"smooth"}),G.classList.add("footnote-flash"),setTimeout(()=>{G.classList.remove("footnote-flash")},2e3)}}}):jsxRuntimeExports.jsx("a",{...f,target:"_blank",rel:"noopener noreferrer"})}},children:o})},l)})]})})}function App(){return jsxRuntimeExports.jsx(HashRouter,{children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(MainPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/details/:id/:method",element:jsxRuntimeExports.jsx(DetailPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/contributions",element:jsxRuntimeExports.jsx(ContributionsPage,{})})]})})}ReactDOM$1.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
